{"version":3,"file":"index.js","mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;;;;;;;;;;;;;;ACtBA;AACyP;AACjB;AACxO,8BAA8B,6NAA2B,CAAC,sOAAqC;AAC/F;AACA,iEAAiE,GAAG,UAAU,2CAA2C,GAAG,UAAU,yCAAyC,kBAAkB,GAAG,UAAU,GAAG,WAAW,mBAAmB,GAAG,UAAU,GAAG,WAAW,iBAAiB,GAAG,0BAA0B,GAAG,2BAA2B,gBAAgB,GAAG,uBAAuB,GAAG,0BAA0B,wBAAwB,GAAG,sBAAsB,GAAG,qBAAqB,0BAA0B,GAAG,UAAU,0BAA0B,GAAG,UAAU,yBAAyB,6BAA6B,GAAG,UAAU,2BAA2B,GAAG,UAAU,yBAAyB,4BAA4B,GAAG,UAAU,2BAA2B,GAAG,UAAU,yBAAyB,4BAA4B,GAAG,UAAU,0BAA0B,GAAG,UAAU,yBAAyB,2BAA2B,GAAG,UAAU,wBAAwB,GAAG,UAAU,2BAA2B,qBAAqB,GAAG,aAAa,GAAG,mBAAmB,mBAAmB,GAAG,kBAAkB,GAAG,cAAc,uBAAuB,GAAG,UAAU,uCAAuC,GAAG,UAAU,kCAAkC,mBAAmB,GAAG,2BAA2B,oBAAoB,WAAW,gRAAgR,8BAA8B,mCAAmC,kCAAkC,gBAAgB,cAAc,WAAW,wCAAwC,gBAAgB,4QAA4Q,yDAAyD,mDAAmD,WAAW,YAAY,sBAAsB,iBAAiB,mBAAmB,0BAA0B,qDAAqD,GAAG,WAAW,cAAc,qBAAqB,KAAK,YAAY,oBAAoB,IAAI,kBAAkB,+CAA+C,cAAc,sBAAsB,UAAU,eAAe,YAAY,kBAAkB,kBAAkB,kBAAkB,oBAAoB,oBAAoB,qBAAqB,WAAW,gBAAgB,oFAAoF,uBAAuB,kBAAkB,0BAA0B,6DAA6D,aAAa,8BAA8B,gCAAgC,uBAAuB,cAAc,uBAAuB,mBAAmB,UAAU,uEAAuE,sDAAsD,kEAAkE,cAAc,UAAU,uEAAuE,sDAAsD,kEAAkE,SAAS,gBAAgB,MAAM,gBAAgB,yBAAyB,qBAAqB,QAAQ,kBAAkB,MAAM,cAAc,QAAQ,kBAAkB,wBAAwB,cAAc,cAAc,IAAI,eAAe,IAAI,WAAW,OAAO,YAAY,EAAE,cAAc,wBAAwB,oBAAoB,0BAA0B,yCAAyC,iCAAiC,SAAS,mBAAmB,kBAAkB,uGAAuG,6BAA6B,+BAA+B,8FAA8F,8DAA8D,cAAc,SAAS,wBAAwB,2DAA2D,wBAAwB,wDAAwD,YAAY,iBAAiB,gBAAgB,gBAAgB,aAAa,mGAAmG,uBAAuB,gBAAgB,uBAAuB,iBAAiB,eAAe,8BAA8B,8DAA8D,mCAAmC,aAAa,QAAQ,gEAAgE,gBAAgB,oIAAoI,YAAY,gBAAgB,mBAAmB,WAAW,yCAAyC,cAAc,YAAY,uBAAuB,mDAAmD,YAAY,WAAW,iBAAiB,gBAAgB,cAAc,sEAAsE,gBAAgB,gBAAgB,iBAAiB,iBAAiB,cAAc,oEAAoE,SAAS,eAAe,aAAa,cAAc,eAAe,WAAW,aAAa,UAAU,gBAAgB,kBAAkB,wBAAwB,sBAAsB,uBAAuB,wBAAwB,oBAAoB,qBAAqB,sBAAsB,mBAAmB,2BAA2B,yBAAyB,0BAA0B,mCAAmC,qBAAqB,qBAAqB,gBAAgB,gBAAgB,WAAW,aAAa,aAAa,WAAW,WAAW,YAAY,YAAY,wCAAwC,kDAAkD,oFAAoF,4EAA4E,oFAAoF,2FAA2F,6EAA6E,mEAAmE,mFAAmF,gEAAgE,2EAA2E,wEAAwE,sCAAsC,yCAAyC,uBAAuB,uBAAuB,uBAAuB,wBAAwB,wBAAwB,wBAAwB,wBAAwB,wBAAwB,wBAAwB,yBAAyB,iCAAiC,4CAA4C,0CAA0C,oCAAoC,4CAA4C,mCAAmC,mCAAmC,kCAAkC,sCAAsC,mCAAmC,yCAAyC,6CAA6C,kCAAkC,kDAAkD,0CAA0C,oCAAoC,oCAAoC,qCAAqC,qCAAqC,sCAAsC,+BAA+B,iCAAiC,iCAAiC,kCAAkC,kCAAkC,kCAAkC,kCAAkC,kCAAkC,kCAAkC,kCAAkC,kCAAkC,mCAAmC,0DAA0D,+BAA+B,+BAA+B,gCAAgC,gCAAgC,iCAAiC,0CAA0C,0CAA0C,kDAAkD,oDAAoD,+DAA+D,4CAA4C,kDAAkD,kEAAkE,wEAAwE,0EAA0E,0DAA0D,2DAA2D,kDAAkD,gDAAgD,0CAA0C,oDAAoD,oCAAoC,kDAAkD,gDAAgD,2CAA2C,qDAAqD,qCAAqC,mDAAmD,iDAAiD,6CAA6C,uDAAuD,uCAAuC,qDAAqD,mDAAmD,4CAA4C,sDAAsD,sCAAsC,oDAAoD,kDAAkD,gCAAgC,gCAAgC,0BAA0B,0CAA0C,0CAA0C,kDAAkD,oDAAoD,8DAA8D,4CAA4C,kDAAkD,kEAAkE,2EAA2E,yEAAyE,0DAA0D,2DAA2D,kDAAkD,gDAAgD,0CAA0C,oDAAoD,oCAAoC,kDAAkD,gDAAgD,2CAA2C,qDAAqD,qCAAqC,mDAAmD,iDAAiD,6CAA6C,uDAAuD,uCAAuC,qDAAqD,mDAAmD,4CAA4C,sDAAsD,sCAAsC,oDAAoD,kDAAkD,gCAAgC,iCAAiC,8CAA8C,kBAAkB,sCAAsC,oBAAoB,oBAAoB,gBAAgB,sBAAsB,4CAA4C,qBAAqB,gBAAgB,wBAAwB,eAAe,UAAU,gBAAgB,kBAAkB,gBAAgB,gDAAgD,8CAA8C,iEAAiE,+CAA+C,gDAAgD,8CAA8C,iDAAiD,uEAAuE,4DAA4D,mDAAmD,gFAAgF,0DAA0D,qDAAqD,mBAAmB,uKAAuK,0DAA0D,qDAAqD,mBAAmB,sFAAsF,0DAA0D,4FAA4F,0DAA0D,kXAAkX,0DAA0D,gMAAgM,4BAA4B,2FAA2F,yCAAyC,iBAAiB,sBAAsB,qBAAqB,YAAY,kBAAkB,kBAAkB,WAAW,8DAA8D,gCAAgC,WAAW,sBAAsB,qBAAqB,6FAA6F,yCAAyC,iBAAiB,sBAAsB,qBAAqB,YAAY,kBAAkB,kBAAkB,WAAW,8DAA8D,gCAAgC,WAAW,sBAAsB,qBAAqB,gKAAgK,0DAA0D,8EAA8E,4DAA4D,oFAAoF,4DAA4D,oFAAoF,mDAAmD,0FAA0F,mDAAmD,wEAAwE,WAAW,yEAAyE,kEAAkE,kFAAkF,gEAAgE,qDAAqD,mBAAmB,2KAA2K,gEAAgE,qDAAqD,mBAAmB,wFAAwF,iFAAiF,mBAAmB,8FAA8F,iFAAiF,mBAAmB,0XAA0X,iFAAiF,mBAAmB,oMAAoM,4BAA4B,6FAA6F,yCAAyC,iBAAiB,sBAAsB,qBAAqB,YAAY,kBAAkB,kBAAkB,WAAW,8DAA8D,gCAAgC,WAAW,sBAAsB,qBAAqB,+FAA+F,yCAAyC,iBAAiB,sBAAsB,qBAAqB,YAAY,kBAAkB,kBAAkB,WAAW,8DAA8D,gCAAgC,WAAW,sBAAsB,qBAAqB,oKAAoK,gEAAgE,gFAAgF,kEAAkE,sFAAsF,kEAAkE,sFAAsF,mDAAmD,4FAA4F,mDAAmD,iEAAiE,+CAA+C,gDAAgD,8CAA8C,iDAAiD,gFAAgF,qDAAqD,mBAAmB,uKAAuK,qDAAqD,mBAAmB,sFAAsF,iFAAiF,mBAAmB,4FAA4F,iFAAiF,mBAAmB,kXAAkX,iFAAiF,mBAAmB,gMAAgM,4BAA4B,2FAA2F,yCAAyC,iBAAiB,sBAAsB,qBAAqB,YAAY,kBAAkB,kBAAkB,WAAW,8DAA8D,gCAAgC,WAAW,sBAAsB,qBAAqB,6FAA6F,yCAAyC,iBAAiB,sBAAsB,qBAAqB,YAAY,kBAAkB,kBAAkB,WAAW,8DAA8D,gCAAgC,WAAW,sBAAsB,qBAAqB,gKAAgK,gEAAgE,8EAA8E,kEAAkE,oFAAoF,kEAAkE,oFAAoF,mDAAmD,0FAA0F,mDAAmD,+DAA+D,oBAAoB,oBAAoB,gBAAgB,sBAAsB,0EAA0E,6CAA6C,iFAAiF,0DAA0D,WAAW,kBAAkB,WAAW,YAAY,OAAO,QAAQ,sKAAsK,6CAA6C,UAAU,uFAAuF,iBAAiB,6FAA6F,iBAAiB,iFAAiF,6CAA6C,uFAAuF,6CAA6C,wFAAwF,kDAAkD,8FAA8F,kDAAkD,uFAAuF,0DAA0D,6FAA6F,0DAA0D,+DAA+D,oBAAoB,oBAAoB,gBAAgB,sBAAsB,oEAAoE,6CAA6C,2EAA2E,0DAA0D,WAAW,kBAAkB,kBAAkB,WAAW,YAAY,OAAO,QAAQ,0JAA0J,6CAA6C,UAAU,iFAAiF,iBAAiB,mBAAmB,uFAAuF,iBAAiB,mBAAmB,2EAA2E,6CAA6C,mBAAmB,iFAAiF,6CAA6C,mBAAmB,kFAAkF,kDAAkD,wFAAwF,kDAAkD,iFAAiF,0DAA0D,mBAAmB,uFAAuF,0DAA0D,mBAAmB,0FAA0F,gBAAgB,mLAAmL,oBAAoB,oBAAoB,sBAAsB,yFAAyF,gBAAgB,0FAA0F,sBAAsB,oBAAoB,oBAAoB,gBAAgB,sBAAsB,0FAA0F,oBAAoB,oBAAoB,gBAAgB,sBAAsB,oFAAoF,sBAAsB,oBAAoB,sBAAsB,gBAAgB,4FAA4F,oBAAoB,oBAAoB,gBAAgB,sBAAsB,4FAA4F,yBAAyB,sBAAsB,mBAAmB,oBAAoB,gBAAgB,sBAAsB,4FAA4F,oBAAoB,oBAAoB,gBAAgB,sBAAsB,4FAA4F,oBAAoB,oBAAoB,gBAAgB,sBAAsB,yFAAyF,oBAAoB,oBAAoB,gBAAgB,sBAAsB,4FAA4F,yBAAyB,mBAAmB,oBAAoB,gBAAgB,sBAAsB,4FAA4F,yBAAyB,mBAAmB,oBAAoB,sBAAsB,8JAA8J,oBAAoB,oBAAoB,gBAAgB,sBAAsB,wJAAwJ,oBAAoB,oBAAoB,gBAAgB,sBAAsB,sKAAsK,oBAAoB,oBAAoB,gBAAgB,sBAAsB,4JAA4J,oBAAoB,oBAAoB,gBAAgB,sBAAsB,6IAA6I,oBAAoB,oBAAoB,gBAAgB,sBAAsB,qCAAqC,iGAAiG,yBAAyB,mBAAmB,oBAAoB,sBAAsB,iGAAiG,oBAAoB,oBAAoB,gBAAgB,uBAAuB,4FAA4F,kBAAkB,sFAAsF,aAAa,wFAAwF,WAAW,6FAA6F,8CAA8C,iDAAiD,8FAA8F,oBAAoB,sGAAsG,uBAAuB,6FAA6F,8CAA8C,iDAAiD,6GAA6G,0DAA0D,6FAA6F,oBAAoB,yFAAyF,gBAAgB,uFAAuF,yBAAyB,sBAAsB,iBAAiB,yFAAyF,sBAAsB,oFAAoF,8BAA8B,oFAAoF,+BAA+B,oFAAoF,8BAA8B,oFAAoF,+BAA+B,oFAAoF,8BAA8B,oFAAoF,+BAA+B,oFAAoF,8BAA8B,oFAAoF,+BAA+B,qFAAqF,+BAA+B,qFAAqF,gCAAgC,0FAA0F,mBAAmB,sFAAsF,sCAAsC,2FAA2F,iBAAiB,wFAAwF,YAAY,2FAA2F,oBAAoB,iBAAiB,2FAA2F,sBAAsB,0FAA0F,mBAAmB,4FAA4F,iBAAiB,oGAAoG,6CAA6C,yBAAyB,sCAAsC,uEAAuE,gEAAgE,4GAA4G,qDAAqD,4FAA4F,0CAA0C,uFAAuF,gBAAgB,6GAA6G,0DAA0D,6GAA6G,0DAA0D,8GAA8G,2DAA2D,+GAA+G,4DAA4D,gHAAgH,6DAA6D,2GAA2G,wDAAwD,iGAAiG,2BAA2B,sBAAsB,iGAAiG,4BAA4B,uBAAuB,6FAA6F,+CAA+C,gDAAgD,uGAAuG,wBAAwB,sPAAsP,yHAAyH,mFAAmF,UAAU,gHAAgH,8BAA8B,qFAAqF,YAAY,oGAAoG,6CAA6C,sFAAsF,YAAY,6FAA6F,+CAA+C,gDAAgD,6FAA6F,8CAA8C,iDAAiD,4FAA4F,0CAA0C,sGAAsG,+CAA+C,sFAAsF,gBAAgB,iBAAiB,6FAA6F,6CAA6C,gDAAgD,uFAAuF,cAAc,0FAA0F,gBAAgB,4FAA4F,0CAA0C,yFAAyF,8BAA8B,mBAAmB,mFAAmF,UAAU,4FAA4F,kBAAkB,mFAAmF,UAAU,yFAAyF,cAAc,mGAAmG,oBAAoB,8IAA8I,oEAAoE,8FAA8F,uBAAuB,uFAAuF,qBAAqB,gBAAgB,wBAAwB,mFAAmF,UAAU,4GAA4G,qDAAqD,kGAAkG,mBAAmB,8FAA8F,eAAe,8FAA8F,eAAe,8GAA8G,uDAAuD,8FAA8F,sCAAsC,2FAA2F,gBAAgB,0FAA0F,yCAAyC,yFAAyF,eAAe,uFAAuF,MAAM,QAAQ,SAAS,OAAO,kJAAkJ,uDAAuD,qFAAqF,gBAAgB,gMAAgM,gGAAgG,mHAAmH,+BAA+B,uFAAuF,YAAY,2FAA2F,gBAAgB,2FAA2F,iBAAiB,sFAAsF,WAAW,sFAAsF,YAAY,0FAA0F,qBAAqB,sFAAsF,WAAW,sFAAsF,YAAY,mGAAmG,2BAA2B,uGAAuG,0BAA0B,qGAAqG,sBAAsB,sFAAsF,YAAY,4FAA4F,0CAA0C,yBAAyB,oCAAoC,uEAAuE,8DAA8D,2GAA2G,wDAAwD,yBAAyB,wBAAwB,uEAAuE,kDAAkD,8GAA8G,uDAAuD,4GAA4G,yDAAyD,yBAAyB,yBAAyB,uEAAuE,mDAAmD,+GAA+G,wDAAwD,6GAA6G,0DAA0D,yBAAyB,0BAA0B,uEAAuE,oDAAoD,gHAAgH,yDAAyD,8GAA8G,2DAA2D,yBAAyB,2BAA2B,uEAAuE,qDAAqD,iHAAiH,0DAA0D,qGAAqG,kDAAkD,0GAA0G,mDAAmD,2FAA2F,gBAAgB,6FAA6F,wBAAwB,mBAAmB,wFAAwF,cAAc,4FAA4F,0CAA0C,8GAA8G,4BAA4B,sFAAsF,aAAa,+GAA+G,4DAA4D,2FAA2F,gBAAgB,yFAAyF,kBAAkB,oGAAoG,qBAAqB,iHAAiH,sDAAsD,sFAAsF,YAAY,6FAA6F,8CAA8C,iDAAiD,uFAAuF,6BAA6B,qBAAqB,+FAA+F,qCAAqC,6BAA6B,kGAAkG,qBAAqB,wFAAwF,eAAe,8FAA8F,sCAAsC,wFAAwF,SAAS,2FAA2F,4CAA4C,0FAA0F,gBAAgB,sBAAsB,4FAA4F,0CAA0C,qFAAqF,WAAW,6FAA6F,cAAc,oFAAoF,UAAU,oFAAoF,UAAU,2GAA2G,wBAAwB,2GAA2G,yBAAyB,8FAA8F,sBAAsB,mHAAmH,gEAAgE,oFAAoF,WAAW,6GAA6G,mCAAmC,uFAAuF,aAAa,wGAAwG,0BAA0B,6FAA6F,+CAA+C,gDAAgD,6FAA6F,+CAA+C,gDAAgD,2FAA2F,iBAAiB,yFAAyF,qCAAqC,sFAAsF,sCAAsC,6FAA6F,yCAAyC,6FAA6F,uBAAuB,kBAAkB,sFAAsF,YAAY,wFAAwF,mCAAmC,uFAAuF,aAAa,yFAAyF,cAAc,uFAAuF,iBAAiB,kBAAkB,oFAAoF,iBAAiB,kBAAkB,kGAAkG,mBAAmB,2FAA2F,gBAAgB,8FAA8F,sCAAsC,+FAA+F,kBAAkB,8FAA8F,sCAAsC,yFAAyF,wCAAwC,kHAAkH,+DAA+D,sFAAsF,WAAW,sFAAsF,YAAY,6FAA6F,yCAAyC,6FAA6F,8CAA8C,+CAA+C,0FAA0F,gBAAgB,uFAAuF,YAAY,sFAAsF,YAAY,6FAA6F,6CAA6C,gDAAgD,sFAAsF,WAAW,sFAAsF,YAAY,uFAAuF,YAAY,sFAAsF,WAAW,sFAAsF,sCAAsC,8FAA8F,qBAAqB,sFAAsF,WAAW,oGAAoG,qBAAqB,sFAAsF,YAAY,wFAAwF,iBAAiB,0FAA0F,sCAAsC,8FAA8F,sCAAsC,+FAA+F,6BAA6B,0BAA0B,6FAA6F,8CAA8C,+CAA+C,6FAA6F,6CAA6C,gDAAgD,6FAA6F,8CAA8C,iDAAiD,wFAAwF,gCAAgC,eAAe,yFAAyF,gBAAgB,sBAAsB,uFAAuF,UAAU,gBAAgB,uGAAuG,oDAAoD,qFAAqF,WAAW,kGAAkG,mBAAmB,4FAA4F,uBAAuB,2FAA2F,gBAAgB,0FAA0F,gBAAgB,+FAA+F,0CAA0C,6FAA6F,+CAA+C,gDAAgD,6FAA6F,6CAA6C,gDAAgD,wFAAwF,kBAAkB,qBAAqB,6FAA6F,8CAA8C,+CAA+C,4FAA4F,kCAAkC,0BAA0B,2FAA2F,gBAAgB,qFAAqF,QAAQ,kLAAkL,uEAAuE,yHAAyH,6NAA6N,uEAAuE,yJAAyJ,mFAAmF,SAAS,2FAA2F,mBAAmB,0FAA0F,kBAAkB,4FAA4F,qBAAqB,mGAAmG,+CAA+C,6FAA6F,sBAAsB,uFAAuF,UAAU,mGAAmG,+CAA+C,6IAA6I,+DAA+D,8FAA8F,sCAAsC,+FAA+F,gBAAgB,8FAA8F,sCAAsC,sFAAsF,sCAAsC,sFAAsF,YAAY,oFAAoF,YAAY,qFAAqF,YAAY,sFAAsF,aAAa,qFAAqF,MAAM,oFAAoF,eAAe,gBAAgB,oFAAoF,cAAc,iBAAiB,0FAA0F,iBAAiB,2FAA2F,iBAAiB,qFAAqF,QAAQ,oFAAoF,YAAY,oFAAoF,WAAW,uFAAuF,aAAa,yFAAyF,wCAAwC,mFAAmF,UAAU,oFAAoF,WAAW,8FAA8F,uBAAuB,mFAAmF,UAAU,4FAA4F,gBAAgB,6FAA6F,0BAA0B,wFAAwF,eAAe,qBAAqB,gBAAgB,sBAAsB,wFAAwF,oCAAoC,iIAAiI,wCAAwC,6FAA6F,8CAA8C,iDAAiD,uFAAuF,YAAY,sFAAsF,YAAY,2FAA2F,gBAAgB,uFAAuF,QAAQ,qIAAqI,4CAA4C,0FAA0F,gBAAgB,wFAAwF,iBAAiB,uFAAuF,YAAY,uFAAuF,aAAa,uFAAuF,YAAY,sFAAsF,YAAY,yFAAyF,gBAAgB,iBAAiB,0FAA0F,gBAAgB,0FAA0F,aAAa,mBAAmB,4FAA4F,eAAe,kGAAkG,8CAA8C,uGAAuG,oDAAoD,sFAAsF,YAAY,mFAAmF,SAAS,sGAAsG,mDAAmD,8FAA8F,0CAA0C,sFAAsF,eAAe,4FAA4F,eAAe,2FAA2F,sCAAsC,0FAA0F,eAAe,6FAA6F,8CAA8C,iDAAiD,yGAAyG,sDAAsD,0FAA0F,WAAW,uFAAuF,cAAc,0FAA0F,gBAAgB,sFAAsF,WAAW,0FAA0F,mBAAmB,uFAAuF,UAAU,4FAA4F,eAAe,uBAAuB,wGAAwG,qBAAqB,6BAA6B,wFAAwF,YAAY,mGAAmG,yBAAyB,4FAA4F,0CAA0C,uFAAuF,aAAa,mGAAmG,gBAAgB,uFAAuF,YAAY,uFAAuF,aAAa,wFAAwF,SAAS,uFAAuF,aAAa,qFAAqF,YAAY,6FAA6F,6CAA6C,gDAAgD,+FAA+F,gBAAgB,0FAA0F,gBAAgB,6FAA6F,8CAA8C,+CAA+C,sFAAsF,WAAW,wFAAwF,YAAY,kGAAkG,qBAAqB,sFAAsF,aAAa,0FAA0F,iBAAiB,oGAAoG,qBAAqB,2FAA2F,iBAAiB,uFAAuF,iBAAiB,oBAAoB,wFAAwF,WAAW,uFAAuF,aAAa,oFAAoF,WAAW,+GAA+G,4BAA4B,mGAAmG,2BAA2B,mCAAmC,2FAA2F,eAAe,wFAAwF,iBAAiB,sFAAsF,YAAY,sFAAsF,WAAW,0FAA0F,gBAAgB,2FAA2F,gBAAgB,8FAA8F,eAAe,2FAA2F,gBAAgB,2FAA2F,iBAAiB,4FAA4F,mBAAmB,2FAA2F,cAAc,sFAAsF,OAAO,2FAA2F,gBAAgB,2FAA2F,gBAAgB,2FAA2F,gBAAgB,4FAA4F,mBAAmB,2FAA2F,cAAc,sGAAsG,yBAAyB,oFAAoF,YAAY,qFAAqF,YAAY,0FAA0F,gBAAgB,sPAAsP,yHAAyH,mFAAmF,UAAU,oFAAoF,YAAY,oFAAoF,WAAW,6FAA6F,+CAA+C,gDAAgD,uFAAuF,iBAAiB,4FAA4F,mBAAmB,uFAAuF,YAAY,sFAAsF,YAAY,sFAAsF,YAAY,qHAAqH,kEAAkE,sFAAsF,aAAa,2FAA2F,iBAAiB,6FAA6F,8CAA8C,+CAA+C,6FAA6F,8CAA8C,+CAA+C,uGAAuG,4CAA4C,qFAAqF,UAAU,uFAAuF,iBAAiB,kBAAkB,2FAA2F,iBAAiB,wFAAwF,gBAAgB,uFAAuF,YAAY,qFAAqF,WAAW,wFAAwF,cAAc,iBAAiB,oFAAoF,cAAc,eAAe,sFAAsF,WAAW,oFAAoF,WAAW,sFAAsF,YAAY,2FAA2F,sBAAsB,yFAAyF,cAAc,2FAA2F,sBAAsB,uFAAuF,YAAY,uFAAuF,kBAAkB,mBAAmB,oFAAoF,WAAW,uFAAuF,YAAY,uFAAuF,aAAa,yFAAyF,kBAAkB,sFAAsF,WAAW,qFAAqF,YAAY,uFAAuF,YAAY,4FAA4F,eAAe,wFAAwF,oCAAoC,sFAAsF,YAAY,kGAAkG,qBAAqB,wGAAwG,8BAA8B,gGAAgG,8BAA8B,yFAAyF,mBAAmB,2FAA2F,kBAAkB,yFAAyF,uBAAuB,yGAAyG,sDAAsD,sFAAsF,gBAAgB,0GAA0G,iCAAiC,0GAA0G,gCAAgC,yFAAyF,QAAQ,+FAA+F,uCAAuC,qFAAqF,MAAM,sFAAsF,OAAO,uFAAuF,QAAQ,wFAAwF,SAAS,6GAA6G,0DAA0D,8FAA8F,yBAAyB,oIAAoI,qDAAqD,yFAAyF,QAAQ,0FAA0F,SAAS,uGAAuG,wDAAwD,6GAA6G,8DAA8D,6FAA6F,sBAAsB,yFAAyF,cAAc,6FAA6F,+CAA+C,6FAA6F,gDAAgD,uFAAuF,eAAe,uFAAuF,eAAe,0FAA0F,mBAAmB,6FAA6F,gDAAgD,0FAA0F,WAAW,yFAAyF,UAAU,6FAA6F,6CAA6C,+GAA+G,gEAAgE,wOAAwO,kHAAkH,wFAAwF,YAAY,6FAA6F,+CAA+C,yGAAyG,oBAAoB,8FAA8F,eAAe,sFAAsF,oBAAoB,uFAAuF,kBAAkB,6FAA6F,6CAA6C,6FAA6F,8CAA8C,2FAA2F,YAAY,0FAA0F,WAAW,6FAA6F,6CAA6C,uFAAuF,iBAAiB,+GAA+G,gEAAgE,wFAAwF,iBAAiB,6FAA6F,6CAA6C,6FAA6F,6CAA6C,wFAAwF,gBAAgB,2FAA2F,uBAAuB,6FAA6F,iDAAiD,uFAAuF,kBAAkB,6FAA6F,gDAAgD,6FAA6F,8CAA8C,wFAAwF,kBAAkB,6FAA6F,+CAA+C,6FAA6F,gDAAgD,sFAAsF,mBAAmB,uFAAuF,oBAAoB,6FAA6F,gDAAgD,iGAAiG,yCAAyC,gGAAgG,wCAAwC,yFAAyF,UAAU,wFAAwF,SAAS,sFAAsF,eAAe,uFAAuF,mBAAmB,uFAAuF,iBAAiB,uFAAuF,gBAAgB,6FAA6F,iDAAiD,oFAAoF,iBAAiB,yFAAyF,gBAAgB,6FAA6F,8CAA8C,6FAA6F,+CAA+C,2FAA2F,kBAAkB,2HAA2H,qCAAqC,6FAA6F,iDAAiD,2FAA2F,qBAAqB,6FAA6F,gDAAgD,2FAA2F,oBAAoB,wFAAwF,sBAAsB,6FAA6F,8CAA8C,4GAA4G,oCAAoC,6FAA6F,kDAAkD,6CAA6C,6FAA6F,0CAA0C,oFAAoF,aAAa,8FAA8F,yBAAyB,uFAAuF,mBAAmB,sFAAsF,SAAS,wFAAwF,qBAAqB,2FAA2F,qBAAqB,8FAA8F,2BAA2B,6FAA6F,8CAA8C,6FAA6F,gDAAgD,6FAA6F,+CAA+C,uFAAuF,UAAU,uFAAuF,mBAAmB,wFAAwF,eAAe,qBAAqB,yFAAyF,UAAU,6FAA6F,uBAAuB,sFAAsF,cAAc,yFAAyF,gBAAgB,yFAAyF,kDAAkD,yFAAyF,mDAAmD,mGAAmG,kCAAkC,iGAAiG,gCAAgC,8FAA8F,sBAAsB,kGAAkG,mBAAmB,2FAA2F,yBAAyB,6FAA6F,8CAA8C,6FAA6F,iDAAiD,uFAAuF,oBAAoB,wFAAwF,SAAS,uFAAuF,QAAQ,iGAAiG,yCAAyC,+FAA+F,uCAAuC,0FAA0F,WAAW,wFAAwF,SAAS,yFAAyF,oBAAoB,6FAA6F,kDAAkD,6CAA6C,yIAAyI,0DAA0D,6FAA6F,6CAA6C,yFAAyF,QAAQ,uFAAuF,gBAAgB,uFAAuF,gBAAgB,uFAAuF,kBAAkB,uFAAuF,gBAAgB,yFAAyF,UAAU,iGAAiG,mDAAmD,0FAA0F,oBAAoB,0FAA0F,kBAAkB,6FAA6F,+CAA+C,6FAA6F,gDAAgD,6FAA6F,8CAA8C,2FAA2F,qBAAqB,wCAAwC,yBAAyB,6FAA6F,+CAA+C,6FAA6F,8CAA8C,6FAA6F,+CAA+C,2FAA2F,kBAAkB,wFAAwF,gBAAgB,wFAAwF,gBAAgB,iGAAiG,kBAAkB,wFAAwF,YAAY,6FAA6F,iDAAiD,uFAAuF,iBAAiB,6FAA6F,6CAA6C,sJAAsJ,qEAAqE,qGAAqG,8BAA8B,6FAA6F,6CAA6C,8FAA8F,qBAAqB,6FAA6F,iDAAiD,oGAAoG,qBAAqB,uFAAuF,mBAAmB,6FAA6F,8CAA8C,iIAAiI,kDAAkD,6FAA6F,kDAAkD,6CAA6C,6FAA6F,0CAA0C,6FAA6F,gDAAgD,yFAAyF,UAAU,wGAAwG,yBAAyB,uFAAuF,iBAAiB,oFAAoF,kBAAkB,oFAAoF,gBAAgB,wFAAwF,SAAS,yFAAyF,mBAAmB,uFAAuF,gBAAgB,gGAAgG,wCAAwC,uFAAuF,QAAQ,wFAAwF,aAAa,mBAAmB,wFAAwF,gBAAgB,sBAAsB,6FAA6F,sBAAsB,sJAAsJ,0BAA0B,sKAAsK,kCAAkC,gKAAgK,wBAAwB,2KAA2K,kEAAkE,yKAAyK,kEAAkE,sGAAsG,sCAAsC,4GAA4G,kBAAkB,wHAAwH,6BAA6B,mGAAmG,UAAU,mHAAmH,oBAAoB,gLAAgL,uDAAuD,6KAA6K,4BAA4B,sKAAsK,mBAAmB,uKAAuK,4BAA4B,gKAAgK,mBAAmB,yIAAyI,kEAAkE,yRAAyR,kEAAkE,sHAAsH,mBAAmB,mPAAmP,mBAAmB,oIAAoI,6CAA6C,mQAAmQ,6CAA6C,qLAAqL,4BAA4B,2KAA2K,4BAA4B,8KAA8K,mBAAmB,oKAAoK,mBAAmB,6HAA6H,0DAA0D,qGAAqG,WAAW,2GAA2G,mBAAmB,8KAA8K,qDAAqD,oLAAoL,qDAAqD,oKAAoK,mBAAmB,0KAA0K,mBAAmB,4IAA4I,qDAAqD,+RAA+R,qDAAqD,0IAA0I,YAAY,wJAAwJ,qBAAqB,mPAAmP,2FAA2F,sKAAsK,gCAAgC,8JAA8J,6CAA6C,wKAAwK,2BAA2B,kKAAkK,6CAA6C,wGAAwG,WAAW,uHAAuH,oDAAoD,+MAA+M,gEAAgE,oJAAoJ,kBAAkB,0KAA0K,gCAAgC,2JAA2J,UAAU,gLAAgL,4BAA4B,4GAA4G,YAAY,uGAAuG,YAAY,uGAAuG,aAAa,mIAAmI,yCAAyC,wHAAwH,qBAAqB,wHAAwH,qBAAqB,8GAA8G,uBAAuB,0GAA0G,kBAAkB,oGAAoG,YAAY,sGAAsG,WAAW,+HAA+H,wDAAwD,qQAAqQ,wDAAwD,wHAAwH,6CAA6C,uPAAuP,6CAA6C,+HAA+H,4DAA4D,gJAAgJ,kBAAkB,uJAAuJ,mBAAmB,oJAAoJ,gBAAgB,8GAA8G,WAAW,wGAAwG,SAAS,yGAAyG,UAAU,0GAA0G,WAAW,2GAA2G,YAAY,0JAA0J,gBAAgB,oJAAoJ,gBAAgB,mIAAmI,4DAA4D,6QAA6Q,4DAA4D,kKAAkK,gBAAgB,wJAAwJ,gBAAgB,2JAA2J,iBAAiB,2GAA2G,YAAY,sGAAsG,OAAO,uGAAuG,QAAQ,+GAA+G,iDAAiD,gHAAgH,kDAAkD,kHAAkH,oDAAoD,iHAAiH,mDAAmD,2JAA2J,8BAA8B,wJAAwJ,4BAA4B,uKAAuK,wDAAwD,wGAAwG,SAAS,2NAA2N,gCAAgC,+NAA+N,gCAAgC,+NAA+N,8BAA8B,8NAA8N,iCAAiC,uKAAuK,gDAAgD,4MAA4M,iGAAiG,kHAAkH,0BAA0B,6GAA6G,gBAAgB,4GAA4G,WAAW,sGAAsG,SAAS,oGAAoG,OAAO,0KAA0K,8DAA8D,qHAAqH,gBAAgB,oHAAoH,qCAAqC,oNAAoN,8BAA8B,mBAAmB,8MAA8M,UAAU,mHAAmH,UAAU,yHAAyH,UAAU,kNAAkN,oCAAoC,0NAA0N,kCAAkC,0BAA0B,sNAAsN,qCAAqC,sNAAsN,iCAAiC,gBAAgB,wNAAwN,oBAAoB,0NAA0N,uBAAuB,0NAA0N,eAAe,uBAAuB,0OAA0O,wBAAwB,sSAAsS,yCAAyC,8MAA8M,YAAY,8NAA8N,uBAAuB,gNAAgN,YAAY,0OAA0O,6CAA6C,0PAA0P,qDAAqD,wPAAwP,wDAAwD,4PAA4P,0DAA0D,wQAAwQ,gEAAgE,0OAA0O,6CAA6C,4PAA4P,0DAA0D,8NAA8N,eAAe,kNAAkN,iFAAiF,mBAAmB,8MAA8M,sCAAsC,0OAA0O,6CAA6C,8NAA8N,eAAe,sSAAsS,yCAAyC,wNAAwN,cAAc,wNAAwN,cAAc,0PAA0P,qDAAqD,8NAA8N,uBAAuB,oNAAoN,8BAA8B,mBAAmB,gPAAgP,oDAAoD,qIAAqI,kEAAkE,2IAA2I,kEAAkE,qHAAqH,kDAAkD,2HAA2H,kDAAkD,kNAAkN,yBAAyB,0KAA0K,iFAAiF,mBAAmB,gLAAgL,iFAAiF,mBAAmB,gLAAgL,iFAAiF,mBAAmB,sLAAsL,iFAAiF,mBAAmB,wKAAwK,gCAAgC,eAAe,8KAA8K,gCAAgC,eAAe,kWAAkW,gCAAgC,eAAe,wKAAwK,iFAAiF,mBAAmB,8KAA8K,iFAAiF,mBAAmB,kWAAkW,iFAAiF,mBAAmB,0KAA0K,kBAAkB,mKAAmK,WAAW,sKAAsK,WAAW,mLAAmL,kDAAkD,kKAAkK,WAAW,6IAA6I,oDAAoD,+IAA+I,oDAAoD,mMAAmM,8DAA8D,0KAA0K,iBAAiB,4KAA4K,WAAW,sKAAsK,SAAS,uJAAuJ,6CAA6C,4JAA4J,4BAA4B,qJAAqJ,mBAAmB,oIAAoI,qCAAqC,yIAAyI,gBAAgB,mIAAmI,iBAAiB,yIAAyI,wDAAwD,+IAA+I,wDAAwD,yHAAyH,mBAAmB,+HAA+H,mBAAmB,2JAA2J,sCAAsC,iKAAiK,kBAAkB,iKAAiK,iBAAiB,yKAAyK,8BAA8B,mBAAmB,mJAAmJ,6BAA6B,yJAAyJ,6BAA6B,qHAAqH,cAAc,2HAA2H,cAAc,mKAAmK,WAAW,oKAAoK,iDAAiD,qKAAqK,kDAAkD,uKAAuK,oDAAoD,sKAAsK,mDAAmD,6KAA6K,+BAA+B,yIAAyI,wDAAwD,+IAA+I,wDAAwD,yHAAyH,mBAAmB,+HAA+H,mBAAmB,kMAAkM,gEAAgE,8MAA8M,gEAAgE,+KAA+K,yBAAyB,2LAA2L,yBAAyB,4KAA4K,kEAAkE,yCAAyC,uFAAuF,aAAa,kGAAkG,+CAA+C,gDAAgD,6FAA6F,eAAe,qBAAqB,gBAAgB,sBAAsB,kGAAkG,8CAA8C,iDAAiD,kGAAkG,+CAA+C,gDAAgD,2FAA2F,sCAAsC,iGAAiG,kBAAkB,+FAA+F,sCAAsC,6FAA6F,YAAY,kGAAkG,+CAA+C,gDAAgD,gGAAgG,cAAc,6FAA6F,gCAAgC,eAAe,yFAAyF,eAAe,gBAAgB,mGAAmG,sCAAsC,6FAA6F,SAAS,4FAA4F,UAAU,iHAAiH,oCAAoC,qGAAqG,wCAAwC,kGAAkG,iDAAiD,kGAAkG,6CAA6C,kGAAkG,6CAA6C,kGAAkG,6CAA6C,4FAA4F,oBAAoB,yCAAyC,4NAA4N,iFAAiF,oBAAoB,yCAAyC,0PAA0P,qDAAqD,qEAAqE,oGAAoG,iBAAiB,qCAAqC,uFAAuF,aAAa,2FAA2F,sCAAsC,2FAA2F,WAAW,2FAA2F,YAAY,oGAAoG,0CAA0C,+FAA+F,gBAAgB,yFAAyF,iBAAiB,kBAAkB,yFAAyF,aAAa,8FAA8F,gBAAgB,iBAAiB,gGAAgG,eAAe,kBAAkB,kGAAkG,+CAA+C,gDAAgD,6FAA6F,eAAe,qBAAqB,gBAAgB,sBAAsB,mGAAmG,sCAAsC,kGAAkG,8CAA8C,iDAAiD,yFAAyF,eAAe,gBAAgB,+FAA+F,gBAAgB,kGAAkG,8CAA8C,iDAAiD,2FAA2F,YAAY,2GAA2G,mDAAmD,kGAAkG,+CAA+C,gDAAgD,kGAAkG,8CAA8C,+CAA+C,4FAA4F,WAAW,cAAc,iGAAiG,0CAA0C,gGAAgG,gBAAgB,kGAAkG,wBAAwB,mBAAmB,+GAA+G,2BAA2B,mGAAmG,sCAAsC,4FAA4F,UAAU,gBAAgB,8FAA8F,kBAAkB,mGAAmG,sCAAsC,0GAA0G,kDAAkD,2FAA2F,OAAO,2FAA2F,OAAO,+GAA+G,mDAAmD,kHAAkH,0DAA0D,yGAAyG,6CAA6C,2FAA2F,YAAY,iGAAiG,mBAAmB,iGAAiG,mBAAmB,gGAAgG,cAAc,gGAAgG,cAAc,iHAAiH,oCAAoC,kGAAkG,6CAA6C,yFAAyF,iBAAiB,6FAA6F,gBAAgB,sBAAsB,+FAA+F,mBAAmB,yFAAyF,gBAAgB,8IAA8I,0DAA0D,8FAA8F,QAAQ,6FAA6F,aAAa,mBAAmB,8FAA8F,mBAAmB,kGAAkG,6CAA6C,kGAAkG,2BAA2B,kGAAkG,6CAA6C,mGAAmG,qBAAqB,mGAAmG,qBAAqB,6FAA6F,iBAAiB,yFAAyF,cAAc,sIAAsI,mDAAmD,qCAAqC,2MAA2M,wDAAwD,qCAAqC,sPAAsP,mDAAmD,qCAAqC,0PAA0P,qDAAqD,qCAAqC,yFAAyF,iBAAiB,kBAAkB,kGAAkG,8CAA8C,+CAA+C,6GAA6G,qDAAqD,oGAAoG,0CAA0C,sIAAsI,mDAAmD,0CAA0C,uFAAuF,cAAc,0CAA0C,uFAAuF;AACvirJ,OAAO,89sBAA89sB,qBAAqB;AAC1/sB;AACA,iEAAe,uBAAuB,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACRX;AAOrB;AAEiB;AAC6C;AAEhC;AACd;AAEc;AACF;AACL;AACA;AAIvB;AAE0C;AAE1C,SAAS,uBAAuB;AACrC,QAAM,EAAE,oBAAoB,aAAa,SAAS,QAAQ,IAAI,wGAAkB,CAAC;AACjF,QAAM,aAAa,yFAAa,CAAC;AACjC,QAAM,iBAAiB,uHAAiB,CAAC;AACzC,QAAM,EAAE,WAAW,IAAI,mFAAa,CAAC;AACrC,QAAM,WAAW,uHAAiB,CAAC;AACnC,QAAM,EAAE,QAAQ,MAAM,IAAI,6GAAoB,CAAC;AAE/C,QAAM,SAAS,2HAAqB,CAAC;AACrC,QAAM,cAAc,mFAAqB,CAAC;AAK1C,QAAM,2BAA2B,8GAAgC,CAAC;AAElE,SAAO,kDAAW;AAAX,IACL,OAAO,iBAAyB;AAC9B,YAAM,UAAU,WAAW,YAAY;AAEvC,UAAI,CAAC,sBAAsB,CAAC,eAAe,CAAC,WAAW,CAAC,kBAAkB,CAAC,UAAU,CAAC,OAAO;AAC3F,mEAAM,CAAC,MAAM,+CAA+C;AAC5D;AAAA,MACF;AAEA,YAAM,SAAS,IAAI,IAAI,MAAM;AAI7B,UAAI,eAAe,cAAc,QAAQ,SAAS,YAAY;AAC5D,YAAI,CAAC,OAAQ;AAEb,YAAI;AACF,gBAAM,gBAAgB,MAAM,YAAY;AAAA,YACtC,MAAM,qFAAsB,CAAC,EAAE,YAAY,oEAAO,EAAE,OAAO,CAAC;AAAA,YAC5D;AAAA,cACE,UAAU,uFAA6B,CAAC;AAAA,cACxC,gBAAgB;AAAA,YAClB;AAAA,UACF;AAEA,gBAAM,eAAe,MAAM,sFAAuB,CAAC;AAAA,YACjD;AAAA,YACA;AAAA,YACA,YAAY;AAAA,UACd,CAAC;AAED,gBAAM,wFAAyB,CAAC;AAAA,YAC9B;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA,KAAK;AAAA,cACH,QAAQ,OAAO;AAAA,cACf,cAAa,oBAAI,KAAK,GAAE,QAAQ;AAAA,cAChC,QAAQ,mBAAmB;AAAA,cAC3B;AAAA,cACA,MAAM;AAAA,YACR;AAAA,UACF,CAAC;AAED,gBAAM,eAAe,MAAM,YAAY;AAAA,YACrC,MAAM;AACJ,qBAAO,+EAAgB,CAAC;AAAA,gBACtB,YAAY,oEAAO;AAAP,gBACZ,WAAW,OAAO;AAAA,gBAClB,kBAAkB,mBAAmB,YAAY,CAAC;AAAA,gBAClD,QAAQ,mBAAmB;AAAA,gBAC3B;AAAA,gBACA,gBAAgB;AAAA,kBACd,GAAG,yBAAyB,YAAY;AAAA,kBACxC,gBAAgB;AAAA,gBAClB;AAAA,cACF,CAAC;AAAA,YACH;AAAA,YACA,EAAE,UAAU,uFAA6B,CAAC,kBAAkB,gBAAgB,KAAK;AAAA,UACnF;AAEA,qBAAW,cAAc,YAAY;AACrC,+GAAoB,CAAC;AAAA,YACnB;AAAA,YACA;AAAA,YACA;AAAA,YACA,kBAAkB;AAAA,YAClB;AAAA,UACF,CAAC;AAAA,QACH,SAAS,GAAG;AACV,qEAAM,CAAC,MAAM,gCAAgC,CAAC;AAAA,QAChD;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,EACF;AACF;;;;;;;;;;;;;;;;ACrI2B;AAEmB;AACL;AAElC,SAAS,mCAAmC;AACjD,QAAM,sCAAsC,2IAA6B,CAAC;AAC1E,QAAM,iCAAiC,gIAAwB,CAAC;AAEhE,SAAO,CAAC,iBAAyB;AAC/B,UAAM,iBAAiB,+BAA+B,YAAY;AAClE,UAAM,sBAAsB,oCAAoC,YAAY;AAE5E,WAAO;AAAA,MACL,YAAY;AAAA,QACV,MAAM;AAAA,UACJ,SAAS,gBAAgB,SAAS,QAAQ;AAAA,UAC1C,SAAS,gBAAgB,SAAS,QAAQ;AAAA,UAC1C,SAAS,gBAAgB,SAAS,QAAQ;AAAA,UAC1C,QAAQ,gBAAgB,QAAQ,QAAQ;AAAA,QAC1C;AAAA,QACA,QAAQ;AAAA,UACN,SAAS,qBAAqB,SAAS,QAAQ;AAAA,UAC/C,SAAS,qBAAqB,SAAS,QAAQ;AAAA,UAC/C,SAAS,qBAAqB,SAAS,QAAQ;AAAA,UAC/C,QAAQ,qBAAqB,QAAQ,QAAQ;AAAA,QAC/C;AAAA,MACF;AAAA,MACA,cAAc;AAAA,QACZ,MAAM,yEAAU,CAAC,gBAAgB,SAAS,SAAS,SAAU;AAAA,QAC7D,QAAQ,yEAAU,CAAC,qBAAqB,SAAS,SAAS,SAAU;AAAA,MACtE;AAAA,MACA,qBAAqB;AAAA,QACnB,MAAM,yEAAU,CAAC,gBAAgB,SAAS,SAAS,SAAU;AAAA,QAC7D,QAAQ,yEAAU,CAAC,qBAAqB,SAAS,SAAS,SAAU;AAAA,MACtE;AAAA,IACF;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;ACtC+B;AAExB,SAAS,kBAAkB,OAA2B,YAAY,IAAI,SAAS,GAAG;AACvF,MAAI,CAAC,MAAO,QAAO;AAEnB,MAAI,MAAM,SAAS,WAAW;AAC5B,WAAO,qCAAc,CAAC,OAAO,MAAM;AAAA,EACrC;AACA,SAAO;AACT;;;;ACTO,SAAS,mCAAmC,OAAe;AAChE,SAAO,WAAW,QAAQ,CAAC;AAC7B;;;;;;;;ACFyB;AAEoD;AACjD;AAES;AACH;AACiB;AAI5C;AACgC;AAEhC,SAAS,+BAA+B;AAC7C,QAAM,UAAU,wDAAuB,CAAC;AACxC,QAAM,UAAU,+DAA8B,CAAC;AAC/C,QAAM,SAAS,iCAAe,CAAC;AAC/B,QAAM,EAAE,UAAU,IAAI,iDAAsB,CAAC;AAE7C,SAAO,4BAAQ,CAAC;AAAA,IACd,GAAG,6DAA2C,CAAC,EAAE,SAAS,QAAQ,UAAU,CAAC;AAAA,IAC7E,QAAQ,UAAQ;AACd,UAAI,kCAAW,CAAC,SAAS,KAAK,MAAM,CAAC,WAAW,OAAO,SAAS,UAAU;AACxE,eAAO;AACT,YAAM,QAAQ,KAAK,SAAS,CAAC;AAC7B,UAAI,MAAM,UAAU,MAAM,CAAC,EAAG,QAAO,sCAAoB,CAAC,MAAM,CAAC,CAAC;AAClE,aAAO,kCAAkC,CAAC,SAAS,KAAK;AAAA,IAC1D;AAAA,EACF,CAAC;AACH;AAEO,SAAS,sBAAsB,EAAE,SAAS,MAAM,GAAuC;AAC5F,QAAM,SAAS,iCAAe,CAAC;AAC/B,QAAM,EAAE,UAAU,IAAI,iDAAsB,CAAC;AAE7C,QAAM,QAAQ,4BAAQ,CAAC;AAAA,IACrB,GAAG,6DAA2C,CAAC,EAAE,SAAS,QAAQ,UAAU,CAAC;AAAA,IAC7E,QAAQ,UAAQ;AACd,YAAM,QAAQ,KAAK,SAAS,CAAC;AAC7B,aAAO,iBAAiB,CAAC,MAAM,CAAC,CAAC,KAAK,kCAAkC,CAAC,KAAK;AAAA,IAChF;AAAA,EACF,CAAC;AAED,SAAO;AAAA,IACL,GAAG;AAAA,IACH,MAAM,MAAM,QAAQ,kCAAkC,CAAC,KAAK;AAAA,EAC9D;AACF;;;;;;;;;;;;;;;;;;AChDwB;AAEI;AAIQ;AAEI;AAExC,SAAS,uBAAuB,aAA4B,QAAuB;AACjF,MAAI,CAAC,eAAe,CAAC,OAAQ;AAE7B,QAAM,EAAE,QAAQ,IAAI,uDAAW,CAAC,WAAW;AAC3C,QAAM,qBAAqB;AAE3B,QAAM,UAAU,mBAAmB,YAAY;AAC/C,QAAM,UAAU,mBAAmB,YAAY;AAE/C,MAAI,CAAC,QAAS,OAAM,IAAI,MAAM,qCAAqC;AACnE,MAAI,CAAC,QAAS,OAAM,IAAI,MAAM,qCAAqC;AAEnE,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,QAAQ,IAAI,IAAI,MAAM;AAAA,EACxB;AACF;AAEO,SAAS,uBAAuB;AACrC,QAAM,EAAE,QAAQ,MAAM,IAAI,oGAAuB,CAAC;AAElD,SAAO,8CAAO,CAAC,MAAM;AACnB,UAAM,cAAc,4FAAmB,CAAC,IAAI,aAAa;AACzD,UAAM,cAAc,uBAAuB,aAAa,MAAM;AAE9D,WAAO,EAAE,QAAQ,OAAO,aAAa,YAAY;AAAA,EACnD,GAAG,CAAC,QAAQ,KAAK,CAAC;AACpB;;;;;;;;;;;;;;;ACxCkC;AAEG;AAE9B,SAAS,qBAAqB;AACnC,QAAM,YAAY,kGAAiB,CAAC;AACpC,QAAM,EAAE,YAAY,IAAI,uFAAoB,CAAC;AAC7C,QAAM,EAAE,aAAa,oBAAoB,SAAS,SAAS,OAAO,IAAI,eAAe,CAAC;AAEtF,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF;;;;;;;;;;;;;;;;ACjBwB;AAEC;AAEW;AAE7B,SAAS,0BAA0B;AACxC,SAAO,8CAAO,CAAC,MAAM;AACnB,UAAM,SAAS,4FAAmB,CAAC,IAAI,QAAQ;AAC/C,UAAM,QAAQ,4FAAmB,CAAC,IAAI,OAAO;AAC7C,UAAM,OAAO,4FAAmB,CAAC,IAAI,MAAM;AAE3C,WAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA,OAAO,qEAAQ,CAAC,KAAK,IAAI,SAAS,KAAK,IAAI;AAAA,IAC7C;AAAA,EACF,GAAG,CAAC,CAAC;AACP;;;;;;;;;;;;;;;;;;;;;;;;;;;ACCO,SAAS,YAAY,SAA6B;AACvD,SAAO,OAAO,QAAQ,YAAY,OAAO;AAC3C;;;;;;;;;;ACpBA,MAAM,wBAAkC,CAAC;AAElC,SAAS,6BAA6B;AAC3C,QAAM,SAAS,sBAAsB,IAAI,CAAC,QAAgB,CAAC,KAAK,aAAa,QAAQ,GAAG,CAAC,CAAC;AAE1F,eAAa,MAAM;AAGnB,SAAO,QAAQ,CAAC,CAAC,KAAK,KAAK,MAAM;AAC/B,QAAI,QAAQ,QAAQ,UAAU,KAAM;AACpC,iBAAa,QAAQ,KAAK,KAAK;AAAA,EACjC,CAAC;AACD,SAAO;AACT;;;;;;;;;;ACZuC;AACT;AAEvB,SAAS,mBAA6B;AAC3C,SAAO,OAAO,UAAU,aAAa;AACnC,UAAM,YAAY,0DAAsB,CAAC,SAAS,CAAC;AACnD,QAAI,CAAC,WAAW;AACd,YAAM,IAAI,MAAM,sDAAsD;AAAA,IACxE;AACA,aAAS,oCAAa,CAAC,QAAQ,iBAAiB,CAAC;AAAA,EACnD;AACF;AAEO,MAAM,kBAAkB,oCAAa,CAAC;;;;;;ACfrB;AAEK;AAEU;AAEhC,SAAS,kBAAkB;AAChC,QAAM,UAAU,iDAAsB,CAAC;AAEvC,SAAO,iBAAO,CAAC,MAAM;AACnB,WAAO,8BAAY,CAAC,QAAQ,MAAM,OAAO,GAAG;AAAA,EAC9C,GAAG,CAAC,QAAQ,MAAM,OAAO,GAAG,CAAC;AAC/B;;;;;;;;;;;;;;;;;;;;ACZwB;AAEU;AAED;AAEV;AACS;AACJ;AACO;AACT;AAEE;AACe;AACZ;AACmB;AAClB;AACG;AACF;AACD;AACE;AACJ;AACK;AACR;AACU;AAE9B,SAAS,gBAAgB;AAC9B,QAAM,WAAW,gCAAc,CAAC;AAChC,QAAM,oBAAoB,uDAAoB,CAAC;AAC/C,QAAM,YAAY,kCAAgB,CAAC;AACnC,QAAM,YAAY,eAAe,CAAC;AAElC,SAAO,iBAAO;AAAP,IACL,OAAO;AAAA,MACL,MAAM,YAAY,UAAkB;AAClC,eAAO,SAAS,sCAAU,CAAC,4BAA4B,EAAE,UAAU,WAAW,UAAU,CAAC,CAAC;AAAA,MAC5F;AAAA,MAEA,oBAAoB;AAClB,YAAI,CAAC,CAAC,mBAAmB;AACvB,8BAAM,CAAC,KAAK,uDAAuD;AACnE;AAAA,QACF;AACA,cAAM,YAAY,sCAAiB,CAAC,GAAG;AACvC,eAAO,SAAS,+CAAkB,CAAC,kBAAkB,SAAS,CAAC;AAAA,MACjE;AAAA,MAEA,MAAM,aAAa,UAAkB;AACnC,eAAO,SAAS,sCAAU,CAAC,mBAAmB,QAAQ,CAAC;AAAA,MACzD;AAAA,MAEA,cAAc,cAAsB;AAClC,mBAAW,CAAC,EAAE,QAAQ,qCAAe,CAAC,gBAAgB,SAAS,EAAE,aAAa,EAAE,CAAC;AACjF,eAAO,SAAS,eAAe,CAAC,cAAc,YAAY,CAAC;AAAA,MAC7D;AAAA,MAEA,MAAM,mBAAmB;AACvB,eAAO,SAAS,gBAAgB,CAAC,CAAC;AAAA,MACpC;AAAA,MAEA,MAAM,UAAU;AACd,cAAM,8CAAkB,CAAC;AACzB,iBAAS,mCAAa,CAAC,QAAQ,cAAc,SAAS,CAAC;AACvD,iBAAS,sCAAU,CAAC,QAAQ,CAAC;AAC7B,iBAAS,0CAAgB,CAAC,QAAQ,QAAQ,CAAC;AAC3C,iBAAS,wCAAe,CAAC,QAAQ,QAAQ,CAAC;AAC1C,iBAAS,4CAAiB,CAAC,QAAQ,gBAAgB,CAAC;AACpD,cAAM,0CAAkB,CAAC;AACzB,kCAA0B,CAAC;AAC3B,aAAK,2BAAS,CAAC,MAAM,UAAU;AAC/B,sCAAW,CAAC,MAAM;AAAA,MACpB;AAAA,MAEA,MAAM,aAAa;AACjB,cAAM,8CAAkB,CAAC;AACzB,eAAO,SAAS,+CAAkB,CAAC,WAAW,CAAC;AAAA,MACjD;AAAA,IACF;AAAA,IACA,CAAC,WAAW,mBAAmB,UAAU,SAAS;AAAA,EACpD;AACF;;;;;;;;;;;;;;;AChFiD;AAE1C,SAAS,mBAAmB,SAAqB;AACtD,SAAO,CAAC,UAAiD;AACvD,QAAI,MAAM,QAAQ,WAAW,SAAS;AACpC,cAAQ;AAAA,IACV;AAAA,EACF;AACF;AAEA,IAAI,QAAQ;AAEL,SAAS,eAAe,KAAwB,QAAQ,GAAG;AAChE,QAAM,CAAC,WAAW,YAAY,IAAI,+CAAQ,CAAC,KAAK;AAEhD,QAAM,YAAY,kDAAW;AAAX,IAChB,CAAC,UAAyB;AACxB,UAAI,QAAQ,SAAS,MAAM,QAAQ;AACjC,gBAAQ,OAAO,WAAW,MAAM,aAAa,IAAI,GAAG,KAAK;AAAA,MAC3D;AACA,UAAI,QAAQ,aAAa,MAAM,SAAS;AACtC,gBAAQ,OAAO,WAAW,MAAM,aAAa,IAAI,GAAG,KAAK;AAAA,MAC3D;AAAA,IACF;AAAA,IACA,CAAC,OAAO,GAAG;AAAA,EACb;AAEA,QAAM,UAAU,kDAAW;AAAX,IACd,CAAC,UAAyB;AACxB,UAAI,QAAQ,SAAS,CAAC,MAAM,QAAQ;AAClC,qBAAa,KAAK;AAClB,qBAAa,KAAK;AAAA,MACpB;AACA,UAAI,QAAQ,aAAa,CAAC,MAAM,SAAS;AACvC,qBAAa,KAAK;AAClB,qBAAa,KAAK;AAAA,MACpB;AAAA,IACF;AAAA,IACA,CAAC,GAAG;AAAA,EACN;AAEA,kDAAS,CAAC,MAAM;AACd,aAAS,iBAAiB,WAAW,SAAS;AAC9C,aAAS,iBAAiB,SAAS,OAAO;AAC1C,WAAO,MAAM;AACX,mBAAa,KAAK;AAClB,eAAS,oBAAoB,WAAW,SAAS;AACjD,eAAS,oBAAoB,SAAS,OAAO;AAAA,IAC/C;AAAA,EACF,GAAG,CAAC,WAAW,OAAO,CAAC;AAEvB,SAAO,EAAE,UAAU;AACrB;;;;;;;;;;;;;;;ACpD0B;AAEC;AAEpB,SAAS,WAAW,QAAsD;AAC/E,kDAAS,CAAC,MAAM;AACd,UAAM,KAAK,OAAO;AAClB,WAAO,MAAO,uEAAU,CAAC,EAAE,IAAI,GAAG,IAAI;AAAA,EAExC,GAAG,CAAC,CAAC;AACP;;;;;;;;;;;;;;;ACVO,MAAM,sBAAsB,IAAI,gBAAgB,OAAO,SAAS,KAAK,MAAM,GAAG,EAAE,CAAC,CAAC;AAElF,MAAM,OAAO,oBAAoB,IAAI,MAAM;AAC3C,MAAM,SAAS,oBAAoB,IAAI,QAAQ;;;;;;;;;;;;;;;;;ACHhC;AACa;AACqC;AAEjE,SAAS,gBAAgB,KAAa;AAC3C,SAAO,iFAAiB,CAAC,4EAAY,CAAC,sFAAsB,CAAC,GAAG,CAAC,CAAC;AACpE;AAEO,SAAS,mBAAmB,WAAmB;AACpD,QAAM,OAAO,0EAAkB,CAAC,SAAS;AACzC,SAAO,wDAAK,CAAC,eAAe,IAAI;AAClC;;;;;;;;;;;;;;;;;;;;;;;ACX4C;AACJ;AACL;AACV;AAEc;AAEX;AACL;AACG;AAE1B,MAAM,UAAU;AAAA,EACd,SAAS,OAAO,QAAgB;AAC9B,UAAM,aAAa,MAAM,OAAO,QAAQ,MAAM,IAAI,GAAG;AACrD,WAAO,WAAW,GAAG;AAAA,EACvB;AAAA,EACA,SAAS,CAAC,KAAa,UAAkB,OAAO,QAAQ,MAAM,IAAI,EAAE,CAAC,GAAG,GAAG,MAAM,CAAC;AAAA,EAClF,YAAY,CAAC,QAAgB,OAAO,QAAQ,MAAM,OAAO,CAAC,GAAG,CAAC;AAChE;AAEA,MAAM,8BAA8B,6GAA2B,CAAC,EAAE,QAAQ,CAAC;AAE3E,SAAS,WAAW,OAAiC;AAEnD,SAAO,iBAAiB,kDAAQ,IAAI,MAAM,SAAS;AACrD;AAEO,MAAM,cAAc,IAAI,uEAAW,CAAC;AAAA,EACzC,YAAY,IAAI,sEAAU,CAAC;AAAA,IACzB,QAAQ,OAAO,OAAO;AACpB,UAAI,WAAW,KAAK,GAAG;AACrB,cAAM,iBAAiB;AAAA,UACrB,OAAO,MAAM,SAAS,CAAC;AAAA,UACvB,MAAM,MAAM;AAAA,UACZ,OAAO,KAAK,UAAU,MAAM,MAAM;AAAA,QACpC;AACA,mEAAM,CAAC,MAAM,eAAe,cAAc;AAI1C,aAAK,wEAAS,CAAC,MAAM,eAAe,cAAc;AAAA,MACpD;AAAA,IACF;AAAA,EACF,CAAC;AAAA,EACD,gBAAgB;AAAA,IACd,SAAS;AAAA,MACP,QAAQ,mFAAsB;AAAtB;AAAA,MAER,OAAO,sEAAW,GAAG,QAAQ;AAAA,IAC/B;AAAA,EACF;AACF,CAAC;AAEM,eAAe,oBAAoB,WAAuB;AAC/D,MAAI,CAAC,sEAAW,EAAE;AAChB,SAAK,kGAAkB,CAAC;AAAA,MACtB;AAAA,MACA,WAAW;AAAA,MACX,QAAQ,QAAO;AAAP,IACV,CAAC;AAAA,EACH;AACA,YAAU;AACZ;;;;;;;;;;;;;ACrCA,SAAS,yBAA2C;AAClD,QAAM,WAAgD,CAAC;AAEvD,SAAO;AAAA,IACL,QAAQ,OAAO,KAAM;AACnB,eAAS,KAAK,EAAE,QAAQ,OAAK,EAAE,GAAG,CAAC;AAAA,IACrC;AAAA,IAEA,UAAU,OAAO,UAAU;AACzB,YAAM,OAAO,SAAS,KAAK,KAAK,CAAC;AACjC,WAAK,KAAK,QAAQ;AAClB,eAAS,KAAK,IAAI;AAAA,IACpB;AAAA,IAEA,YAAY,OAAO,UAAU;AAC3B,UAAI,OAAO,SAAS,KAAK,KAAK,CAAC;AAC/B,aAAO,KAAK,OAAO,OAAK,MAAM,QAAQ;AACtC,eAAS,KAAK,IAAI;AAAA,IACpB;AAAA,EACF;AACF;AA4BO,MAAM,YAAY,uBAAwC;;;;;;;;;;;;;;;;;;;;ACxEnC;AACc;AAEnB;AAIlB,SAAS,oCAAoC,cAA8C;AAChG,QAAM,QAAQ,uDAAW,CAAC,YAAY;AACtC,SAAO,MAAM;AACf;AAEO,SAAS,6BAA6B,cAAwC;AACnF,QAAM,QAAQ,uDAAW,CAAC,YAAY;AACtC,SAAO,MAAM;AACf;AAEO,SAAS,kCAAkC,cAAsB;AACtE,QAAM,QAAQ,uDAAW,CAAC,YAAY;AACtC,MAAI,qEAAQ,CAAC,MAAM,OAAO,EAAG,OAAM,IAAI,MAAM,2BAA2B;AAExE,QAAM,SAAS,MAAM;AAKrB,SAAO;AAAA,IACL,GAAI;AAAA,IACJ,SAAS,yEAAa,CAAC,MAAM,CAAC,KAAK,OAAO,SAAS,KAAK,CAAC;AAAA,IACzD,QAAQ,yEAAa,CAAC,MAAM,CAAC,KAAK,OAAO,QAAQ,KAAK,CAAC;AAAA,EACzD;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChCO,SAAS,sBAAsB,KAAa;AACjD,SAAO,IAAI,UAAU,KAAK,EAAE,QAAQ,oBAAoB,EAAE;AAC5D;;;;ACFwB;AAES;AAEJ;AAEgB;AAEtB;AACI;AAEM;AAEK;AAE/B,MAAM,cAAc,CAAC;AAAA,EAC1B;AAAA,EACA,gBAAgB;AAAA,EAChB,aAAa;AAAA,EACb,aAAa;AACf,MAKM;AACJ,QAAM,SAAS,oCAAa,CAAC,KAAK;AAClC,QAAM,YAAY,OAAO,SAAS;AAClC,SAAO,GACL,cAAc,YAAY,MACtB,kCAAgB,CAAC,SAAS,IAC1B,UAAU,eAAe,SAAS;AAAA,IAChC,uBAAuB,gBAAgB,yBAAY,GAAG;AAAA,EACxD,CAAC,CACP,GAAG,aAAa,SAAS,EAAE;AAC7B;AAEO,MAAM,aAAa,CAAC,OAAoC,aAAqB;AAClF,QAAM,SAAS,oCAAa,CAAC,KAAK;AAClC,SAAO,OACJ,UAAU,CAAC,QAAQ,EACnB,SAAS,EACT,eAAe,SAAS,EAAE,uBAAuB,SAAS,CAAC;AAChE;AAEO,MAAM,oBAAoB,CAAC,OAAoC,aAAqB;AACzF,QAAM,SAAS,oCAAa,CAAC,KAAK;AAClC,SAAO,OAAO,UAAU,QAAQ,EAAE,SAAS,EAAE;AAC/C;AAEO,MAAM,wBAAwB,CAAC,kBAAmC;AACvE,MAAI;AACF,oCAAgB,CAAC,aAAa;AAC9B,WAAO;AAAA,EACT,SAAS,GAAG;AACV,WAAO;AAAA,EACT;AACF;AAEO,SAAS,qBAAqB,SAAiB,gBAAsC;AAC1F,QAAM,SAAS,QAAQ,MAAM,GAAG,CAAC;AACjC,UAAQ,eAAe,MAAM,OAAO,SAAS;AAAA,IAC3C,KAAK,yBAAO,CAAC;AACX,aAAO,WAAW,QAAQ,WAAW;AAAA,IACvC,KAAK,yBAAO,CAAC;AACX,aAAO,WAAW,QAAQ,WAAW;AAAA,IACvC;AACE,aAAO;AAAA,EACX;AACF;AAEO,SAAS,gBAAgB,MAAc;AAC5C,SAAO,CAAC,OAAO,SAAS,QAAQ,EAAE,SAAS,qBAAqB,CAAC,IAAI,EAAE,kBAAkB,CAAC;AAC5F;AAEO,SAAS,yBAAyB,mBAA2B,MAAc;AAChF,SAAO,qBAAqB,kCAAU,CAAC,iBAAiB,KAAK,CAAC,gBAAgB,IAAI,IAC9E,oBACA;AACN;AAOO,MAAM,wBAAwB,CAAC,eAA+B;AACnE,MAAI,WAAW,SAAS,GAAG,GAAG;AAC5B,UAAM,QAAQ,YAAY,MAAM,GAAG;AACnC,QAAI,WAAW,SAAS,IAAI,GAAG;AAC7B,aAAO,MAAM,CAAC,EAAE,MAAM,IAAI,EAAE,CAAC;AAAA,IAC/B;AACA,WAAO,MAAM,CAAC;AAAA,EAChB;AACA,sBAAM,CAAC;AAAA,IACL;AAAA,IACA;AAAA,EACF;AACA,SAAO;AACT;AAOA,MAAM,6BAA6B,CAAC,eAA+B;AACjE,MAAI,CAAC,WAAW,SAAS,IAAI,GAAG;AAC9B,wBAAM,CAAC;AAAA,MACL;AAAA,MACA;AAAA,IACF;AACA,WAAO;AAAA,EACT;AACA,SAAO,WAAW,MAAM,IAAI,EAAE,CAAC;AACjC;AAOO,MAAM,iCAAiC,CAC5C,eAKG;AACH,MAAI,CAAC,WAAW,SAAS,GAAG,KAAK,CAAC,WAAW,SAAS,IAAI,GAAG;AAC3D,wBAAM,CAAC;AAAA,MACL;AAAA,MACA;AAAA,IACF;AACA,WAAO;AAAA,MACL,iBAAiB;AAAA,MACjB,mBAAmB;AAAA,MACnB,cAAc;AAAA,IAChB;AAAA,EACF;AAEA,QAAM,kBAAkB,WAAW,MAAM,GAAG,EAAE,CAAC;AAC/C,QAAM,oBAAoB,2BAA2B,UAAU;AAC/D,QAAM,eAAe,sBAAsB,UAAU;AAErD,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF;;;;;;;;;;;;;;ACtJiC;AAI1B,SAAS,wBAAwB;AACtC,QAAM,EAAE,wBAAwB,0BAA0B,IACxD,4EAAgB,CAA6B;AAC/C,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA,sBAAsB;AACpB,gCAA0B,CAAC,sBAAsB;AAAA,IACnD;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;ACiFQ;AA/FuD;AAEjC;AACM;AAEf;AAEC;AACU;AACK;AAEV;AAEpB,MAAM,gBAAgB;AAAA,EAC3B,OAAO;AAAA,EACP,MAAM;AAAA,EACN,QAAQ;AACV;AAKO,MAAM,gBAAgB,CAAC,UAA6B;AACzD,SAAO,cAAc,KAAK;AAC5B;AAEA,MAAM,eAAe,oDAAa,CAI/B;AAAA;AAAA,EAED,OAAO;AAAA,EACP,mBAAmB;AAAA,EACnB,sBAAsB,6DAAI;AAC5B,CAAC;AAED,MAAM,iBAAiB,MACrB,OAAO,WAAW,8BAA8B,EAAE,UAAU,SAAS;AAEvE,SAAS,iBAAiB,mBAAqD;AAC7E,MAAI,sBAAsB,SAAU,QAAO,eAAe;AAC1D,SAAO;AACT;AAEA,SAAS,qBAAqB,OAA0B;AACtD,yDAAK,CAAC,SAAS,2FAAe,CAAC,qBAAqB,KAAK,CAAC;AAC5D;AAMA,SAAS,qBAAqB;AAC5B,WAAS,eAAe,eAAe,GAAG,OAAO;AACnD;AAEO,SAAS,sBAAsB,EAAE,SAAS,GAA+B;AAC9E,QAAM,oBAAoB,sGAAoB,CAAC;AAC/C,QAAM,CAAC,OAAO,QAAQ,IAAI,+CAAQ,CAAgB,MAAM,iBAAiB,iBAAiB,CAAC;AAE3F,0EAAU,CAAC,MAAM;AACf,uBAAmB;AAAA,EACrB,CAAC;AAED,kDAAS,CAAC,MAAM;AACd,YAAQ,mBAAmB;AAAA,MACzB,KAAK,UAAU;AACb,iBAAS,eAAe,CAAC;AACzB,cAAM,WAAW,CAAC,EAAE,QAAQ,MAA2B;AACrD,cAAI,SAAS;AACX,qBAAS,MAAM;AAAA,UACjB,OAAO;AACL,qBAAS,OAAO;AAAA,UAClB;AAAA,QACF;AACA,eAAO,WAAW,8BAA8B,EAAE,iBAAiB,UAAU,QAAQ;AACrF,eAAO,MAAM;AACX,iBAAO,WAAW,8BAA8B,EAAE,oBAAoB,UAAU,QAAQ;AAAA,QAC1F;AAAA,MACF;AAAA,MACA,KAAK,QAAQ;AACX,iBAAS,MAAM;AACf;AAAA,MACF;AAAA,MACA,KAAK,SAAS;AACZ,iBAAS,OAAO;AAChB;AAAA,MACF;AAAA,IACF;AAAA,EACF,GAAG,CAAC,UAAU,iBAAiB,CAAC;AAEhC,SACE,uEAAC,aAAa,UAAb,EAAsB,OAAO,EAAE,OAAO,mBAAmB,qBAAqB,GAC7E,iFAAC,6DAAU,IAAC,YAAY,OACtB,iFAAC,uEAAqB,EAArB,EAAsB,eAAe,KAAM,UAAS,GACvD,GACF;AAEJ;AAEO,MAAM,mBAAmB,MAAM,iDAAU,CAAC,YAAY;;;;;;;;;;;;;;;ACrGrC;AAE+B;AAEvD,SAAS,eAAe,YAAyB;AAC/C,SAAO,eAAe;AACxB;AAEA,SAAS,iBAAiB,YAAyB;AACjD,SAAO,eAAe;AACxB;AAIA,SAAS,WAAW,YAAyB;AAC3C,SAAO,CAAmC,kBAAqB;AAC7D,QAAI,eAAe,UAAU,EAAG,QAAO,cAAc;AACrD,QAAI,iBAAiB,UAAU,EAAG,QAAO,cAAc;AACvD,UAAM,IAAI,MAAM,mDAAmD;AAAA,EACrE;AACF;AAEO,SAAS,gBAAgB;AAC9B,QAAM,aAAa,wGAAqB,CAAC;AAEzC,SAAO,8CAAO;AAAP,IACL,OAAO;AAAA,MACL;AAAA,MACA,YAAY,WAAW,UAAU;AAAA,IACnC;AAAA,IACA,CAAC,UAAU;AAAA,EACb;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChC2B;AAC0C;AAC3C;AAEE;AAKrB;AAE2B;AAElC,SAAS,UAAU,KAAa;AAC9B,SAAO,IAAI,QAAQ,aAAa,WAAS,MAAM,MAAM,YAAY,CAAC;AACpE;AASO,SAAS,yBAAyB;AAAA,EACvC;AAAA,EACA,eAAe,IAAI,gBAAgB;AAAA,EACnC;AAAA,EACA,aAAa;AACf,GAAiC;AAC/B,eAAa,OAAO,SAAS,IAAI;AACjC,MAAI,YAAY;AACd,iBAAa,OAAO,OAAO,4FAAkC;AAAA,EAC/D;AACA,SAAO,GAAG,0EAAiB,SAAS,IAAI,IAAI,aAAa,SAAS,CAAC;AACrE;AASO,SAAS,8BAA8B;AAAA,EAC5C;AAAA,EACA,eAAe,IAAI,gBAAgB;AAAA,EACnC;AAAA,EACA,aAAa;AACf,GAAsC;AACpC,eAAa,OAAO,SAAS,IAAI;AACjC,MAAI,YAAY;AACd,iBAAa,OAAO,OAAO,4FAAkC;AAAA,EAC/D;AACA,SAAO,GAAG,0EAAiB,YAAY,OAAO,IAAI,aAAa,SAAS,CAAC;AAC3E;AAMO,SAAS,0BAA0B;AAAA,EACxC;AAAA,EACA,SAAS,EAAE,YAAY,eAAe;AACxC,GAAkC;AAChC,QAAM,iBAAiB;AAEvB,UAAQ,gBAAgB;AAAA,IACtB,KAAK;AACH,aAAO,GAAG,cAAc,OAAO,IAAI;AAAA,IACrC,KAAK;AACH,aAAO,GAAG,cAAc,eAAe,IAAI;AAAA,IAC7C,KAAK;AACH,aAAO,GAAG,cAAc,gBAAgB,IAAI;AAAA,IAC9C,KAAK;AACH,aAAO,GAAG,cAAc,cAAc,IAAI;AAAA,IAC5C,KAAK;AACH,aAAO,GAAG,UAAU,OAAO,IAAI;AAAA,EACnC;AACF;AAEO,SAAS,eAAe,KAAa,WAAmB;AAC7D,MAAI,IAAI,UAAU,WAAW;AAC3B,WAAO;AAAA,EACT;AACA,SAAO,IAAI,MAAM,GAAG,SAAS,IAAI;AACnC;AAEA,SAAS,WAAW,QAAgB,SAAS,GAAG;AAC9C,SAAO,OAAO,MAAM,GAAG,MAAM;AAC/B;AAEO,SAAS,UAAU,OAAe;AACvC,MAAI,OAAO,UAAU,KAAK;AAC1B,MAAI,KAAK,SAAS,GAAG,GAAG;AACtB,UAAM,QAAQ,KAAK,MAAM,GAAG;AAC5B,QAAI,MAAM,UAAU,GAAG;AACrB,aAAO,GAAG,WAAW,MAAM,CAAC,CAAC,CAAC,GAAG,WAAW,MAAM,CAAC,CAAC,CAAC,GAAG,WAAW,MAAM,CAAC,CAAC,CAAC;AAAA,IAC9E,OAAO;AACL,aAAO,GAAG,WAAW,MAAM,CAAC,CAAC,CAAC,GAAG,WAAW,MAAM,CAAC,GAAG,CAAC,CAAC;AAAA,IAC1D;AAAA,EACF,WAAW,KAAK,UAAU,GAAG;AAC3B,WAAO,GAAG,WAAW,MAAM,CAAC,CAAC;AAAA,EAC/B;AACA,SAAO,KAAK,YAAY;AAC1B;AAEO,SAAS,wBAAwB,eAAsC;AAC5E,QAAM,SAAS,IAAI,sEAAW,CAAC,oEAAU,CAAC,aAAa,CAAC;AACxD,SAAO,wFAAwB,CAAC,MAAM;AACxC;AAEA,SAAS,OAAO,KAAoC;AAClD,MAAI,CAAC,KAAK;AACR,WAAO;AAAA,EACT;AACA,MAAI,IAAI;AACR,QAAM,MAAM,IAAI;AAChB,SAAO,IAAI,KAAK;AAEd,QAAI,IAAI,CAAC,KAAK,KAAM;AAClB;AACA;AAAA,IACF;AAEA,QAAI,IAAI,CAAC,KAAK,OAAQ,IAAI,CAAC,KAAK,KAAM;AAEpC,UAAI,IAAI,IAAI,CAAC,KAAK,MAAM,GAAG;AACzB,aAAK;AAEL;AAAA,MACF,OAAO;AACL,eAAO;AAAA,MACT;AAAA,IACF;AAGA,SACI,IAAI,CAAC,MAAM,OAAQ,IAAI,IAAI,CAAC,KAAK,OAAQ,IAAI,IAAI,CAAC,KAAK,OACtD,IAAI,CAAC,MAAM,OAAQ,IAAI,IAAI,CAAC,KAAK,OAAQ,IAAI,IAAI,CAAC,KAAK,QAC1D,IAAI,IAAI,CAAC,KAAK,MAAM,GACpB;AACA,WAAK;AACL;AAAA,IACF;AAGA,SACI,IAAI,CAAC,KAAK,OAAQ,IAAI,CAAC,KAAK,OAAU,IAAI,CAAC,KAAK,OAAQ,IAAI,CAAC,KAAK,QACpE,IAAI,IAAI,CAAC,KAAK,MAAM,KACpB,IAAI,IAAI,CAAC,KAAK,MAAM,GACpB;AACA,WAAK;AAEL;AAAA,IACF;AAIA,SACI,IAAI,CAAC,MAAM,OAAQ,IAAI,IAAI,CAAC,KAAK,OAAQ,IAAI,IAAI,CAAC,KAAK,OACtD,IAAI,CAAC,KAAK,OAAQ,IAAI,CAAC,KAAK,OAAQ,IAAI,IAAI,CAAC,KAAK,MAAM,KACxD,IAAI,CAAC,MAAM,OAAQ,IAAI,IAAI,CAAC,KAAK,OAAQ,IAAI,IAAI,CAAC,KAAK,QAC1D,IAAI,IAAI,CAAC,KAAK,MAAM,KACpB,IAAI,IAAI,CAAC,KAAK,MAAM,GACpB;AACA,WAAK;AACL;AAAA,IACF;AACA,WAAO;AAAA,EACT;AACA,SAAO;AACT;AAEO,MAAM,mBAAmB,CAAC,MAAc;AAC7C,MAAI,IAAI,IAAK,QAAO,EAAE,SAAS;AAC/B,MAAI,KAAK,OAAO,IAAI,IAAK,QAAO,EAAE,IAAI,KAAK,QAAQ,CAAC,IAAI;AACxD,MAAI,KAAK,OAAO,IAAI,IAAK,QAAO,EAAE,IAAI,KAAK,QAAQ,CAAC,IAAI;AACxD,MAAI,KAAK,OAAO,IAAI,KAAM,QAAO,EAAE,IAAI,KAAK,QAAQ,CAAC,IAAI;AACzD,MAAI,KAAK,KAAM,QAAO,EAAE,IAAI,MAAM,QAAQ,CAAC,IAAI;AAC/C,SAAO,EAAE,SAAS;AACpB;AAEA,SAAS,MAAM,KAAsB;AACnC,QAAM,SAAS;AACf,SAAO,OAAO,KAAK,GAAG;AACxB;AAEA,SAAS,SAAS,oBAAoC;AACpD,MAAI,uBAAuB,SAAU,QAAO;AAC5C,SAAO,mBAAmB,WAAW,IAAI,IACrC,mBAAmB,QAAQ,MAAM,EAAE,IACnC;AACN;AAEO,SAAS,UAAU,KAAqB;AAC7C,SAAO,MAAM,CAAC,KAAK,SAAS,GAAG,GAAG,KAAK;AACzC;AAEO,SAAS,mBAAmB,KAAa;AAC9C,MAAI,CAAC,MAAM,GAAG,EAAG,QAAO;AACxB,QAAM,OAAO,UAAU,GAAG;AAC1B,MAAI,OAAO,IAAI,EAAG,QAAO,KAAK,SAAS,MAAM;AAC7C,SAAO,KAAK,GAAG;AACjB;AAEO,MAAM,UAAU,IAAI,SAAsC;AAC/D,QAAM,QAAQ,KAAK,KAAK,GAAG;AAE3B,SAAO,MACJ,UAAU,KAAK,EACf,QAAQ,oBAAoB,EAAE,EAC9B,YAAY,EACZ,KAAK,EACL,QAAQ,eAAe,EAAE,EACzB,QAAQ,QAAQ,GAAG;AACxB;AAEO,SAAS,eAAe,KAAa;AAC1C,SAAO,IAAI,IAAI,GAAG,EAAE;AACtB;AAEA,SAAS,WAAW,KAAa;AAC/B,SAAO,IAAI,IAAI,GAAG,EAAE;AACtB;AAEO,SAAS,cAAc,KAAa;AACzC,QAAM,OAAO,WAAW,GAAG;AAC3B,SAAO,OAAO,IAAI,IAAI,KAAK;AAC7B;AAEO,SAAS,OAAO,OAAuB;AAC5C,SAAO,CAAC,MAAM,WAAW,IAAI,IAAI,KAAK,KAAK,KAAK;AAClD;AAEO,SAAS,2BAA2B,YAAoB;AAC7D,SAAO,WAAW,MAAM,IAAI,EAAE,CAAC;AACjC;AAEO,SAAS,iBAAiB,SAAiB,MAAc;AAC9D,SAAO,GAAG,OAAO,IAAI,IAAI;AAC3B;AAEO,SAAS,8BAA8B;AAC5C,SAAO,QAAS,UAAkB,GAAG;AACvC;AAEA,SAAS,aAAa;AACpB,SAAO,SAAS,SAAS,SAAS,WAAW,aAAa;AAC5D;AAEA,MAAM,WAAW,WAAW,IAAI,SAAS;AAOlC,SAAS,aAAgB,aAAiC;AAC/D,SAAO,YAAY,QAAQ;AAC7B;AAEO,SAAS,cAAc;AAC5B,SAAO,aAAa;AACtB;AAEO,MAAM,uBAAuB,CAAC,MAAc;AACjD,MAAI;AACF,WAAO,6DAAS,CAAC,CAAC;AAAA,EACpB,QAAQ;AACN,WAAO;AAAA,EACT;AACF;AAEO,SAAS,WAAW,KAAa;AACtC,SAAO,IAAI,OAAO,CAAC,EAAE,YAAY,IAAI,IAAI,MAAM,CAAC;AAClD;AASO,SAAS,oBAAoB,EAAE,OAAO,KAAK,EAAE,GAAwB;AAC1E,UAAQ,IAAI,KAAK,QAAQ,IAAI;AAC/B;AAEO,SAAS,6BAA6B,GAAW;AACtD,SAAO,EAAE,QAAQ,SAAS,EAAE;AAC9B;AAEO,SAAS,gBAAgB,OAAe;AAC7C,SAAO,MAAM,QAAQ,KAAK,EAAE;AAC9B;;;;;;;;;;;;;;;ACtS2B;AAEpB,SAAS,aAAa,KAAa;AACxC,MAAI,CAAC,+EAAU,CAAC,GAAG,EAAG;AAGtB,QAAM,YAAY,OAAO,KAAK,KAAK,UAAU,qBAAqB;AAClE,MAAI,UAAW,WAAU,SAAS;AACpC;AAEO,SAAS,sBAAsB,MAA0B,cAAuB;AACrF,QAAM,eAAe,eAAe,eAAe;AACnD,SAAO,OAAO,KAAK,OAAO;AAAA,IACxB,KAAK,OAAO,QAAQ,OAAO,cAAc,IAAI,KAAK,YAAY;AAAA,EAChE,CAAC;AACH;;;;;;;;;;;;;;;;ACQU;AAvBkB;AAED;AAQpB,SAAS,qBAAqB;AAAA,EACnC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA8B;AAC5B,SACE,uEAAC,6DAAG,IAAC,IAAG,YACN;AAAA,IAAC,gEAAU;AAAV;AAAA,MACC,KAAK;AAAA,MACL,WAAW;AAAA,MACX,aAAa;AAAA,MACb,YACE,uEAAC,gEAAM,CAAC,MAAP,EAAY,OAAM,oBAAmB,WAAU,YAAW,4BAE3D;AAAA,MAEF,cACE,aACE,uEAAC,gEAAM,CAAC,QAAP,EAAc,YAAW,QAAO,SAAS,WACxC,iFAAC,gEAAM,CAAC,MAAP,EAAY,WAAU,cAAa,mBAAK,GAC3C;AAAA;AAAA,EAGN,GACF;AAEJ;;;;;;;;;;;;;;;;AC9Ba;AARe;AAEe;AAEpC,SAAS,6BAA6B;AAC3C,SACE,uEAAC,6DAAG,IAAC,IAAG,YACN;AAAA,IAAC,gEAAU;AAAV;AAAA,MACC,KAAK,uEAAC,gEAAM,IAAC,SAAQ,4BAA2B,MAAK,QAAO;AAAA,MAC5D,WAAW,uEAAC,oEAAc,IAAC,WAAS,MAAC,QAAO,QAAO,OAAM,SAAQ;AAAA,MACjE,aAAa,uEAAC,oEAAc,IAAC,WAAS,MAAC,QAAO,QAAO,OAAM,QAAO;AAAA,MAClE,YAAY,uEAAC,oEAAc,IAAC,WAAS,MAAC,OAAM,SAAQ;AAAA,MACpD,cAAc,uEAAC,oEAAc,IAAC,WAAS,MAAC,OAAM,QAAO;AAAA;AAAA,EACvD,GACF;AAEJ;;;;;;;;;;;;;;;;;ACJI;AAZkC;AAEjB;AAEQ;AAMtB,SAAS,WAAW,EAAE,gBAAgB,cAAc,GAAG,MAAM,GAAoB;AACtF,SACE,uEAAC,6DAAG,IAAE,GAAG,OACP,kFAAC,gEAAM,CAAC,MAAP,EAAY,WAAU,cACpB;AAAA;AAAA,IACA,eACC,wEAAC,0DAAI,IAAC,SAAQ,UAAS,UAAS,QAAO,SAAS,MAAM,wFAAY,CAAC,YAAY,GAC5E;AAAA;AAAA,MAAI;AAAA,OAEP,IACE;AAAA,IACH,eAAe,MAAM;AAAA,KACxB,GACF;AAEJ;;;;;;;;;;;;;;;ACfI;AAVqB;AAMlB,SAAS,QAAQ,EAAE,OAAO,GAAiB;AAChD,QAAM,CAAC,UAAU,WAAW,IAAI,+CAAQ,CAAC,KAAK;AAC9C,MAAI,SAAU,QAAO;AACrB,SACE;AAAA,IAAC;AAAA;AAAA,MACC,KAAK,6CAA6C,MAAM;AAAA,MACxD,SAAS,MAAM,YAAY,IAAI;AAAA;AAAA,EACjC;AAEJ;;;;;;;;;;;;;;;;;;;;;;ACEM;AAfoC;AACiB;AAE1B;AACR;AAQlB,SAAS,YAAY,EAAE,OAAO,OAAO,wBAAwB,GAAG,MAAM,GAAqB;AAChG,SACE,wEAAC,gEAAM,IAAC,YAAW,SAAQ,UAAS,QAAO,gBAAe,iBAAiB,GAAG,OAC5E;AAAA,4EAAC,8DAAI,IAAC,YAAW,UAAS,KAAI,YAC5B;AAAA,6EAAC,gEAAM,CAAC,MAAP,EAAY,OAAM,oBAAmB,IAAG,YAAW,WAAU,WAC3D,iBACH;AAAA,MACC,0BAA0B;AAAA,OAC7B;AAAA,IACC,qEAAQ,CAAC,KAAK,IACb;AAAA,MAAC,gEAAM,CAAC;AAAA,MAAP;AAAA,QACC,OAAM;AAAA,QACN,WAAU;AAAA,QACV,aAAY;AAAA,QACZ,eAAa,2GAAyB,CAAC;AAAA,QAEtC;AAAA;AAAA,IACH,IAEA;AAAA,KAEJ;AAEJ;AAGO,SAAS,oBAAoB;AAClC,SAAO,uEAAC,8DAAQ,IAAC,IAAG,YAAW;AACjC;AAUO,SAAS,mBAAmB;AAAA,EACjC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAA4B;AAC1B,SACE,uEAAC,6DAAG,IAAC,OAAM,QAAQ,GAAG,OACpB,kFAAC,+DAAK,IAAC,YAAW,UAAS,OAAM,QAAO,IAAG,YACxC;AAAA,YAAQ;AAAA,IAET,wEAAC,8DAAI,IAAC,YAAW,UAAS,eAAc,UACtC;AAAA;AAAA,QAAC,gEAAM,CAAC;AAAA,QAAP;AAAA,UACC,eAAa,2GAAyB,CAAC;AAAA,UACvC,IAAG;AAAA,UACH,WAAU;AAAA,UAET;AAAA;AAAA,YAAM;AAAA,YAAE;AAAA;AAAA;AAAA,MACX;AAAA,MACC,aACC,wEAAC,gEAAM,CAAC,MAAP,EAAY,WAAU,YAAW;AAAA;AAAA,QAC7B;AAAA,QAAU;AAAA,QAAE;AAAA,SACjB;AAAA,OAEJ;AAAA,KACF,GACF;AAEJ;AAQO,SAAS,YAAY,EAAE,MAAM,OAAO,QAAQ,GAAqB;AACtE,SACE,uEAAC,4DAAM,IAAC,SAAkB,MAAK,KAC7B,kFAAC,8DAAI,IAAC,YAAW,UAAS,gBAAe,UACvC;AAAA,2EAAC,gEAAM,CAAC,MAAP,EAAY,IAAG,YAAW,WAAU,YAClC,iBACH;AAAA,IACC;AAAA,KACH,GACF;AAEJ;AAMO,SAAS,eAAe,EAAE,SAAS,GAAwB;AAChE,SACE;AAAA,IAAC,8DAAI;AAAJ;AAAA,MACC,YAAW;AAAA,MACX,IAAI,EAAE,MAAM,0BAA0B,IAAI,GAAG;AAAA,MAC7C,QAAO;AAAA,MACP,gBAAe;AAAA,MACf,GAAE;AAAA,MACF,UAAU,EAAE,MAAM,SAAS,IAAI,QAAQ;AAAA,MACvC,OAAM;AAAA,MACN,QAAQ;AAAA,MAEP;AAAA;AAAA,EACH;AAEJ;;;;;;;;;;;;;;;ACvHS;AAHqB;AAEvB,SAAS,QAAQ,OAAiB;AACvC,SAAO,uEAAC,6DAAG,IAAC,IAAG,sBAAqB,QAAO,OAAM,OAAM,QAAQ,GAAG,OAAO;AAC3E;;;;;;;;;;;;;;;ACOI;AATuB;AAOpB,SAAS,mBAAmB,EAAE,MAAM,UAAU,WAAW,GAA4B;AAC1F,SACE;AAAA,IAAC,gEAAU;AAAV;AAAA,MACC,QAAO;AAAA,MACP,QAAQ;AAAA,QACN,IAAI;AAAA,QACJ,QAAQ;AAAA,MACV;AAAA,MACA,OAAM;AAAA,MACN,eAAa;AAAA,MACb;AAAA,MACA,SAAS;AAAA,MACT,YAAW;AAAA,MACX,YAAW;AAAA,MACX,QAAQ;AAAA;AAAA,EACV;AAEJ;;;;;;;;;;;;;;;;;;;ACXI;AAfoB;AACqC;AAE5B;AAGM;AAOhC,SAAS,WAAW,EAAE,SAAS,WAAW,UAAU,GAAG,MAAM,GAAoB;AACtF,SACE;AAAA,IAAC,8DAAI;AAAJ;AAAA,MACC,YAAW;AAAA,MACX,qBAAqB,YAAY,gBAAgB;AAAA,MACjD,cAAa;AAAA,MACb,OAAM;AAAA,MACL,GAAG;AAAA,MAEJ;AAAA,+EAAC,kEAAQ,IAAC,aAAY,SACpB,iFAAC,8DAAI,IAAC,IAAI,EAAE,MAAM,GAAG,IAAI,WAAW,GAAI,mBAAQ,GAClD;AAAA,QACC,aAAa,uEAAC,kEAAQ,IAAC,QAAO,QAAQ,qBAAU;AAAA,QACjD,uEAAC,kEAAQ,IAAE,oBAAS;AAAA;AAAA;AAAA,EACtB;AAEJ;AAEO,SAAS,mBAAmB,EAAE,SAAS,GAAgB;AAC5D,QAAM,EAAE,OAAO,MAAM,UAAU,IAAI,oGAAsB,CAAC;AAC1D,SACE,wEAAC,gEAAM,IAAC,YAAW,UAAS,gBAAe,YACzC;AAAA;AAAA,MAAC,sEAAgB;AAAhB;AAAA,QACC,gBAAgB,MAAM,OAAO,YAAY,mEAAO,CAAC;AAAA,QACjD,MAAM;AAAA;AAAA,IACR;AAAA,IACC;AAAA,KACH;AAEJ;;;;;;;;;;;;;;;ACpCI;AANkC;AAI/B,SAAS,OAAO,EAAE,UAAU,GAAG,MAAM,GAA2B;AACrE,SACE;AAAA,IAAC,gEAAM,CAAC;AAAA,IAAP;AAAA,MACC,gBAAe;AAAA,MACf,QAAQ,EAAE,MAAM,GAAG,IAAI,OAAO;AAAA,MAC9B,GAAE;AAAA,MACF,IAAG;AAAA,MACH,UAAU,EAAE,MAAM,SAAS,IAAI,mBAAmB;AAAA,MAClD,OAAM;AAAA,MACL,GAAG;AAAA,MAEH;AAAA;AAAA,EACH;AAEJ;;;;;;;;;;;;;;;;;ACNM;AAZ8B;AACN;AAET;AAMd,SAAS,QAAQ,EAAE,SAAS,GAAG,MAAM,GAAiB;AAC3D,SACE,uEAAC,6DAAG,IAAC,QAAO,yBAAwB,QAAO,QAAO,IAAG,YAAW,WAAU,MAAM,GAAG,OACjF,iFAAC,0DAAI,IAAC,eAAa,+FAAmB,CAAC,iBAAiB,SAAkB,GAC5E;AAEJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJI;AATgB;AAOb,SAAS,KAAK,EAAE,SAAS,GAAc;AAC5C,SACE,oCAAC,eAAG,IAAC,OAAM,aAAY,QAAO,QAAO,QAAQ,EAAE,MAAM,QAAQ,IAAI,cAAc,GAC5E,UACH;AAEJ;;;;;;ACSI;AAtB4B;AACV;AAWf,SAAS,KAAK;AAAA,EACnB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,eAAe;AAAA,EACf,GAAG;AACL,GAA0B;AACxB,SACE;AAAA,IAAC,gBAAI;AAAJ;AAAA,MACC,eAAa;AAAA,MACb,WAAU;AAAA,MACV,UAAU,EAAE,MAAM,SAAS,IAAI,WAAW;AAAA,MAC1C,QAAQ,EAAE,MAAM,SAAS,IAAI,UAAU;AAAA,MACvC,SAAQ;AAAA,MACP,GAAG;AAAA,MAEH;AAAA;AAAA,QACD;AAAA,UAAC,gBAAI;AAAJ;AAAA,YACC,eAAc;AAAA,YACd,OAAM;AAAA,YACN,WAAU;AAAA,YACV,OAAO,EAAE,cAAc,SAAS,uBAAK,CAAC,oBAAoB,IAAI,EAAE;AAAA,YAChE,GAAE;AAAA,YACF,WAAW,EAAE,MAAM,QAAQ,IAAI,OAAO;AAAA,YACrC,GAAG;AAAA,YAEH;AAAA;AAAA,QACH;AAAA,QACC,UACC;AAAA,UAAC,gBAAI;AAAJ;AAAA,YACC,QAAQ;AAAA,YACR,UAAS;AAAA,YACT,KAAI;AAAA,YACJ,GAAE;AAAA,YACF,OAAM;AAAA,YACN,UAAS;AAAA,YACT,QAAQ;AAAA,YACR,WAAU;AAAA,YACV,IAAG;AAAA,YACH,WAAW,eAAe,YAAY;AAAA,YACtC,wBAAuB;AAAA,YACvB,yBAAwB;AAAA,YAEvB;AAAA;AAAA,QACH;AAAA;AAAA;AAAA,EAEJ;AAEJ;;;;AC1DI;AAN4B;AAIzB,SAAS,UAAU,EAAE,UAAU,GAAG,MAAM,GAA4B;AACzE,SACE,oCAAC,gBAAI,IAAC,eAAc,UAAS,KAAI,YAAW,OAAM,QAAQ,GAAG,OAC1D,UACH;AAEJ;;;;;;;;ACEI;AAZmB;AAEoB;AAEf;AAMrB,SAAS,cAAc,EAAE,aAAa,YAAY,GAAuB;AAC9E,SACE,qCAAC,kBAAM,IAAC,KAAI,YAAW,OAAM,QAC3B;AAAA;AAAA,MAAC,6BAAW;AAAX;AAAA,QACC,MAAM,oCAAC,oCAAgB,IAAC,OAAM,0BAAyB;AAAA,QACvD,OAAM;AAAA,QACN,SAAS;AAAA;AAAA,IACX;AAAA,IACA;AAAA,MAAC,6BAAW;AAAX;AAAA,QACC,MAAM,oCAAC,4BAAQ,IAAC,OAAM,0BAAyB;AAAA,QAC/C,OAAM;AAAA,QACN,SAAS;AAAA;AAAA,IACX;AAAA,KACF;AAEJ;;;;;;;;ACLM;AApBoC;AAEX;AAEG;AACL;AAQtB,SAAS,iBAAiB;AAAA,EAC/B;AAAA,EACA;AAAA,EACA,sBAAsB;AACxB,GAA0B;AACxB,SACE,qCAAC,gBAAI,IAAC,YAAW,UAAS,gBAAe,iBACvC;AAAA,yCAAC,kBAAM,IAAC,KAAI,YACV;AAAA,0CAAC,kBAAM,CAAC,MAAP,EAAY,OAAM,oBAAmB,WAAU,cAAa,+BAE7D;AAAA,MACA,oCAAC,iCAAY,IAAC,SAAO,MAAC,OAAO,qBAAqB,MAAK,OACrD,8CAAC,eAAG,IACF,8CAAC,kCAAc,IAAC,OAAM,oBAAmB,SAAQ,SAAQ,GAC3D,GACF;AAAA,OACF;AAAA,IACA,oCAAC,kBAAM,CAAC,MAAP,EAAY,OAAM,oBAAmB,IAAG,YAAW,WAAU,cAC5D,8CAAC,4CAAiB,IAAC,WAAuB,mBAAQ,GACpD;AAAA,KACF;AAEJ;;;;ACnCqB;AACK;AACI;AACG;;;;;;AC0BzB;AA3BiC;AAUlC,SAAS,gBAAgB;AAAA,EAC9B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA4C;AAC1C,SACE;AAAA,IAAC,gBAAI;AAAJ;AAAA,MACC,eAAe,EAAE,MAAM,UAAU,IAAI,MAAM;AAAA,MAC3C,IAAG;AAAA,MACH,IAAI,EAAE,MAAM,YAAY,IAAI,WAAW;AAAA,MACvC,IAAI,EAAE,MAAM,QAAQ,IAAI,YAAY,IAAI,WAAW;AAAA,MACnD,KAAI;AAAA,MACJ,OAAO,EAAE,MAAM,SAAS,IAAI,QAAQ;AAAA,MAEpC;AAAA,4CAAC,gBAAI,IAAC,eAAc,UAAS,KAAI,YAC/B,+CAAC,iBAAK,IAAC,KAAI,YACT;AAAA,8CAAC,kBAAM,CAAC,IAAP,EAAU,WAAU,cAAc,iBAAM;AAAA,UACzC,oCAAC,kBAAM,CAAC,GAAP,EAAS,WAAU,YAAY,mBAAQ;AAAA,UACxC,oCAAC,eAAG,IAAC,IAAG,YAAY,kBAAO;AAAA,WAC7B,GACF;AAAA,QAEA,oCAAC,gBAAI,IAAC,KAAI,YAAW,eAAc,UAAS,IAAI,EAAE,MAAM,YAAY,IAAI,IAAI,GAC1E;AAAA,UAAC,iBAAK;AAAL;AAAA,YACC,GAAG,EAAE,MAAM,YAAY,IAAI,WAAW;AAAA,YACtC,KAAI;AAAA,YACJ,IAAG;AAAA,YACH,QAAO;AAAA,YACP,cAAa;AAAA,YACb,OAAM;AAAA,YACN,UAAU;AAAA,cACR,MAAM;AAAA,cACN,IAAI;AAAA,cACJ,IAAI,YAAY,uBAAuB;AAAA,YACzC;AAAA,YACA,MAAK;AAAA,YAEJ;AAAA;AAAA,QACH,GACF;AAAA;AAAA;AAAA,EACF;AAEJ;;;;AClDI;AANiB;AAId,SAAS,gBAAgB,EAAE,SAAS,GAAgB;AACzD,SACE,oCAAC,gBAAI,IAAC,eAAc,UAAS,UAAU,GAAG,OAAM,QAAO,QAAQ,EAAE,MAAM,SAAS,IAAI,OAAO,GACxF,UACH;AAEJ;;;;ACVqB;AACP;AAEmB;AAET;AACQ;AACA;;;;;;;;;;;;;;;ACD5B;AANiB;AAId,SAAS,QAAQ,EAAE,SAAS,GAAgB;AACjD,SACE;AAAA,IAAC,8DAAI;AAAJ;AAAA,MACC,WAAU;AAAA,MACV,UAAU;AAAA,MACV,UAAS;AAAA,MACT,OAAM;AAAA,MACN,UAAS;AAAA,MAER;AAAA;AAAA,EACH;AAEJ;;;;;;;;;;;;;;;;;;;ACdwC;AACD;AAED;AACL;AACC;AAe3B,SAAS,iCAAiC;AAAA,EAC/C;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAA0B;AACxB,QAAM,mBAAmB,sHAAuB,CAAC;AAEjD,QAAM,sBAAsB,6FAAsB,CAAC;AAEnD,QAAM,cAAc,aAAa,QAAQ,sBAAsB,MAAM;AAErE,QAAM,SAAS,mIAAqB,CAAC,WAAW;AAEhD,MAAI,CAAC,UAAU,CAAC,iBAAkB,QAAO;AACzC,SAAO,SAAS,OAAO,CAAC,CAAC;AAC3B;AAEO,SAAS,4BAA4B,EAAE,UAAU,GAAG,MAAM,GAA0B;AACzF,QAAM,mBAAmB,sHAAuB,CAAC;AACjD,QAAM,UAAU,mGAAiB,CAAC;AAElC,QAAM,sBAAsB,6FAAsB,CAAC;AAEnD,QAAM,cAAc,aAAa,QAAQ,sBAAsB,MAAM;AAErE,QAAM,SAAS,wHAAgB,CAAC,aAAa,QAAQ,MAAM,QAAQ,IAAI;AAEvE,MAAI,CAAC,UAAU,CAAC,iBAAkB,QAAO;AACzC,SAAO,SAAS,OAAO,CAAC,CAAC;AAC3B;;;;;;;;;;;;;;;;;;;ACvBwB;AA3BM;AAEuB;AAEhB;AACM;AAMpC,SAAS,iBAAiB,EAAE,SAAS,SAAS,GAA0B;AAC7E,QAAM,EAAE,QAAQ,IAAI,yIAAoC,CAAC,OAAO;AAChE,SAAO,SAAS,OAAO;AACzB;AAUO,SAAS,0BAA0B,EAAE,SAAS,SAAS,GAAmC;AAC/F,QAAM,EAAE,SAAS,oBAAoB,WAAW,wBAAwB,IACtE,yIAAoC,CAAC,OAAO;AAC9C,MAAI,UAAW,QAAO,uEAAC,iHAA0B,IAAC;AAClD,MAAI,mBAAmB;AACrB,WAAO,uEAAC,qGAAoB,IAAC,SAAQ,OAAM,MAAM,uEAAC,mEAAa,IAAC,GAAI,OAAM,WAAU;AACtF,SAAO,SAAS,SAAS,WAAW,uBAAuB;AAC7D;;;;;;;;;;;;;;;AC5BI;AAJ0B;AAEvB,SAAS,iBAAiB,OAAiB;AAChD,SACE;AAAA,IAAC,6DAAG;AAAH;AAAA,MACC,WAAU;AAAA,MACV,iBAAgB;AAAA,MAChB,iBAAgB;AAAA,MACf,GAAG;AAAA;AAAA,EACN;AAEJ;;;;;;;;;;;;;;;;;ACCI;AAX2B;AAEgB;AAEpB;AAKpB,SAAS,iBAAiB,EAAE,QAAQ,GAA0B;AACnE,SACE,wEAAC,gEAAM,IAAC,YAAW,UAAS,gBAAe,iBACzC;AAAA,2EAAC,gEAAM,CAAC,MAAP,EAAY,WAAU,cAAa,kCAAoB;AAAA,IACxD,uEAAC,gEAAM,CAAC,MAAP,EAAY,WAAU,cACpB,iFAAU,CAAC,4FAA8B,CAAC,OAAO,CAAC,GACrD;AAAA,KACF;AAEJ;;;;;;;;;;;;;;;;ACIM;AArBuC;AAEhB;AAQtB,SAAS,kBAAkB;AAAA,EAChC;AAAA,EACA;AAAA,EACA;AAAA,EACA,QAAQ,CAAC;AAAA,EACT,GAAG;AACL,GAA2B;AACzB,QAAM,eAAe,aAAa;AAElC,SACE,uEAAC,2FAAY,IAAC,OAAM,cAAa,UAAU,CAAC,cAAc,SAAO,MAC/D;AAAA,IAAC,gEAAM,CAAC;AAAA,IAAP;AAAA,MACE,GAAG;AAAA,MACJ,SAAS,eAAe,cAAc;AAAA,MACtC,QAAQ,eAAe,YAAY;AAAA,MACnC,OAAO;AAAA,QACL,GAAG;AAAA,QACH,YAAY,YAAY,oCAAoC,OAAO;AAAA,QACnE,eAAe,YAAY,WAAW,OAAO;AAAA,MAC/C;AAAA,MAEC,sBAAY,QAAQ;AAAA;AAAA,EACvB,GACF;AAEJ;;;;;;;;;;;;;;;;;ACrBI;AAd8B;AACG;AACJ;AAO1B,SAAS,YAAY,EAAE,UAAU,gBAAgB,GAAG,KAAK,GAAqB;AACnF,QAAM,gBAAgB,kGAAgB,CAAC;AACvC,QAAM,oBAAoB,oGAAoB,CAAC;AAE/C,SACE;AAAA,IAAC,mGAAiB;AAAjB;AAAA,MACE,GAAG;AAAA,MACJ,WAAW;AAAA,MACX,aAAa,iBAAiB,oBAAoB;AAAA,MAEjD;AAAA;AAAA,EACH;AAEJ;;;;;;;;;;;;;;;;;;;;;;;;;ACIU;AA5BkB;AAEM;AACQ;AAEC;AAEjB;AAEY;AACf;AACY;AACY;AACvB;AACC;AAMlB,SAAS,iBAAiB,EAAE,WAAW,MAAM,GAA0B;AAC5E,QAAM,EAAE,wBAAwB,0BAA0B,IAAI,4HAAqB,CAAC;AACpF,QAAM,WAAW,wEAAW,CAAC;AAE7B,SACE,uEAAC,kFAAM,IAAC,IAAG,YACT;AAAA,IAAC,2FAAU;AAAV;AAAA,MACC,SACE,mIACE;AAAA;AAAA,UAAC,4GAAkB;AAAlB;AAAA,YACC,MAAM,uEAAC,mEAAa,IAAC;AAAA,YACrB,UAAU,MAAM,SAAS,EAAE;AAAA,YAC3B,YAAY,2GAAyB,CAAC;AAAA;AAAA,QACxC;AAAA,QACC,CAAC,YAAY,uEAAC,qFAAO,IAAC,SAAS,MAAM,SAAS,kEAAS,CAAC,IAAI,GAAG;AAAA,SAClE;AAAA,MAEF,UACE,uEAAC,mGAAkB,IACjB;AAAA,QAAC,8EAAQ;AAAR;AAAA,UACC,eAAe,uEAAC,iEAAW,IAAC,eAAa,2FAAiB,CAAC,iBAAiB;AAAA,UAC5E,qBAAqB,MAAM,0BAA0B,CAAC,sBAAsB;AAAA;AAAA,MAC9E,GACF;AAAA;AAAA,EAEJ,GACF;AAEJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpC6B;AAVgB;AACL;AACV;AAKvB,SAAS,uBAAuB;AACrC,QAAM,gBAAgB,wDAAuB,CAAC;AAC9C,QAAM,EAAE,MAAM,OAAO,UAAU,IAAI,yDAA4B,CAAC;AAChE,MAAI,CAAC,cAAe,QAAO,oCAAC,mCAAa,IAAC,OAAO,GAAG,MAAY,WAAU,IAAG;AAE7E,SACE,oCAAC,mCAAa,IAAC,OAAO,cAAc,OAAO,MAAY,WAAW,cAAc,cAAc;AAElG;;;;;;;;;;;;ACJM;AAbyB;AAEG;AACI;AAGO;AACd;AACF;AAE7B,SAAS,iBAAiB,EAAE,UAAU,GAAG,MAAM,GAA2B;AACxE,SACE,oCAAC,eAAG,IAAE,GAAG,OACP,8CAAC,kBAAM,CAAC,MAAP,EAAY,eAAa,2CAAiB,CAAC,2BAA2B,WAAU,YAC9E,UACH,GACF;AAEJ;AAEA,MAAM,sBAAsB,cAAI,CAAC,CAAC,UAAoB;AACpD,QAAM,EAAE,MAAM,OAAO,UAAU,IAAI,yDAA4B,CAAC;AAEhE,QAAM,gBAAgB;AACtB,QAAM,SAAS,KAAK,SAAS;AAC7B,QAAM,cAAc,gCAAc,CAAC,MAAM,aAAa;AACtD,SACE,oCAAC,iCAAY,IAAC,OAAO,SAAS,OAAO,QACnC,8CAAC,oBAAkB,GAAG,OAAQ,uBAAY,GAC5C;AAEJ,CAAC;AAEM,SAAS,qBAAqB;AACnC,QAAM,EAAE,MAAM,cAAc,UAAU,IAAI,yDAA4B,CAAC;AACvE,QAAM,WAAW,oCAAC,oBAAkB,uBAAY;AAChD,SACE,oCAAC,cAAQ,IAAC,UACR,8CAAC,uBAAoB,GACvB;AAEJ;;;;;;;;;;;;AC3Bc;AAdU;AACI;AAEqB;AAChB;AACL;AAErB,SAAS,aAAa;AAC3B,SACE,oCAAC,8DAAgC,IAAC,SAAO,MACtC,sBACC,oCAAC,0CAAgB,IAAC,SAAS,OAAO,SAC/B,uBACC,oCAAC,2BAAO,IACN,8CAAC,+BAAW,IAAC,gBAAc,MAAE,sCAAW,CAAC,QAAQ,gBAAgB,GAAE,GACrE,GAEJ,GAEJ;AAEJ;;;;;;;;ACKM;AA1BkB;AAEiB;AACjB;AAEI;AACA;AAKrB,SAAS,WAAW,OAAwB;AACjD,QAAM,EAAE,QAAQ,IAAI;AACpB,QAAM,EAAE,qBAAqB,IAAI,gDAAwB,CAAC,OAAO;AAEjE,QAAM,aAAa,iBAAO;AAAP,IACjB,MACE,oCAAW,CAAC;AAAA,MACV,OAAO,qBAAqB,MAAM,gBAAgB,UAAU;AAAA,MAC5D,YAAY;AAAA,IACd,CAAC;AAAA,IACH,CAAC,qBAAqB,MAAM,gBAAgB,MAAM;AAAA,EACpD;AAEA,SACE,oCAAC,2BAAO,IACN,8CAAC,+BAAW,IAAC,gBAAc,MAAE,sBAAW,GAC1C;AAEJ;;;;;;;;ACdI;AAfqB;AAEG;AAED;AACA;AACM;AACO;AACA;AAKxC,SAAS,mBAAmB,EAAE,SAAS,GAA4B;AACjE,SACE,oCAAC,eAAG,IAAC,GAAE,YAAW,OAAM,QACrB,UACH;AAEJ;AAUA,SAAS,qBAAqB,EAAE,yBAAyB,GAAsB;AAC7E,QAAM,UAAU,wDAAuB,CAAC;AACxC,QAAM,mBAAmB,uDAAuB,CAAC;AACjD,SACE,oCAAC,sBACC,+CAAC,kBAAM,IAAC,YAAW,UAAS,gBAAe,SACxC;AAAA,iCAA6B,SAAS,oCAAC,UAAU,IAAC,SAAS,SAAS,WAAW,IAAI;AAAA,IACnF,oBAAoB,6BAA6B,SAAS,oCAAC,UAAU,IAAC;AAAA,KACzE,GACF;AAEJ;AAEA,SAAS,uBAAuB;AAC9B,SACE,oCAAC,sBACC,8CAAC,yCAAgB,IAAC,OAAM,QAAO,QAAO,QAAO,GAC/C;AAEJ;AAEO,SAAS,aAAa,OAA0B;AACrD,SACE,oCAAC,cAAQ,IAAC,UAAU,oCAAC,wBAAqB,GACxC,8CAAC,wBAAsB,GAAG,OAAO,GACnC;AAEJ;;;;AChCU;AAxBU;AAEO;AAEW;AACf;AACwB;AACV;AACF;AACN;AAOtB,SAAS,YAAY,EAAE,mBAAmB,QAAQ,GAAqB;AAC5E,QAAM,EAAE,wBAAwB,0BAA0B,IAAI,iEAAqB,CAAC;AAEpF,SACE,oCAAC,oBAAM,IACL;AAAA,IAAC,6BAAU;AAAV;AAAA,MACC,qBAAoB;AAAA,MACpB,SACE,4DACG,8BACC;AAAA,QAAC,wBAAI;AAAJ;AAAA,UACC,OAAM;AAAA,UACN,KAAK,oCAAC,oBAAoB,IAAC;AAAA,UAC3B,SAAS,MAAM,0BAA0B,CAAC,sBAAsB;AAAA,UAChE,QAAO;AAAA,UAEP,8CAAC,kBAAkB,IAAC;AAAA;AAAA,MACtB,IAEA,oCAAC,eAAG,IAAC,QAAO,qBAAoB,QAAO,QAAO,IAAG,YAC/C,8CAAC,wBAAI,IAAC,GACR,GAEJ;AAAA,MAEF,UACE,oCAAC,qCAAkB,IAChB,qBAAW,oCAAC,YAAY,IAAC,0BAA0B,SAAS,GAC/D;AAAA;AAAA,EAEJ,GACF;AAEJ;;;;;;;;;;;;;;;;;;;ACjDwB;AACiB;AAEd;AAMD;AAInB;AAE4C;AAE5C,SAAS,oBAAoB;AAClC,QAAM,WAAW,uEAAW,CAAC;AAC7B,QAAM,WAAW,uEAAW,CAAC;AAE7B,SAAO,8CAAO;AAAP,IACL,OAAO;AAAA,MACL,2BAA2B;AACzB,eAAO,SAAS,MAAM,kEAAS,CAAC,aAAa,IAAI;AAAA,UAC/C,SAAS;AAAA,UACT,OAAO,EAAE,CAAC,8GAAkC,GAAG,KAAK;AAAA,QACtD,CAAC;AAAA,MACH;AAAA,MAEA,sCAAsC,aAAgC;AACpE,eAAO,SAAS,kEAAS,CAAC,eAAe;AAAA,UACvC,SAAS;AAAA,UACT,UAAU;AAAA,UACV,OAAO,EAAE,IAAI,oEAAU,CAAC,YAAY,UAAU,CAAC,EAAE;AAAA,QACnD,CAAC;AAAA,MACH;AAAA,MAEA,uCACE,MACA,cACA;AACA,eAAO,SAAS,kEAAS,CAAC,eAAe;AAAA,UACvC,SAAS;AAAA,UACT,UAAU;AAAA,UACV,OAAO;AAAA,YACL,IAAI,oEAAU,CAAC,IAAI;AAAA,YACnB;AAAA,YACA,oBAAoB,EAAE,UAAU,kEAAS,CAAC,KAAK;AAAA,UACjD;AAAA,QACF,CAAC;AAAA,MACH;AAAA,MAEA,4BAA4B,SAA0B;AACpD,eAAO,SAAS,kEAAS,CAAC,eAAe;AAAA,UACvC,SAAS;AAAA;AAAA,UAET,OAAO,EAAE,GAAG,0GAA6B,CAAC,OAAO,EAAE;AAAA,QACrD,CAAC;AAAA,MACH;AAAA,MAEA,iBAAiB,aAAsB;AACrC,eAAO,SAAS,kEAAS,CAAC,YAAY;AAAA,UACpC,SAAS;AAAA,UACT,OAAO,EAAE,aAAa,oBAAoB,EAAE,UAAU,kEAAS,CAAC,KAAK,EAAE;AAAA,QACzE,CAAC;AAAA,MACH;AAAA,MAEA,wBAAwB,OAA6B;AACnD,eAAO,SAAS,kEAAS,CAAC,sBAAsB;AAAA,UAC9C,SAAS;AAAA,UACT,OAAO;AAAA,YACL;AAAA,YACA,oBAAoB,EAAE,UAAU,kEAAS,CAAC,KAAK;AAAA,UACjD;AAAA,QACF,CAAC;AAAA,MACH;AAAA,MAEA,YAAY,OAA6B,cAAuB;AAC9D,eAAO,SAAS,kEAAS,CAAC,oBAAoB;AAAA,UAC5C,SAAS;AAAA,UACT,OAAO;AAAA,YACL,mBAAmB;AAAA,YACnB;AAAA,YACA,oBAAoB,EAAE,UAAU,kEAAS,CAAC,KAAK;AAAA,UACjD;AAAA,QACF,CAAC;AAAA,MACH;AAAA,MAEA,0BAA0B,EAAE,qBAAqB,GAAsC;AACrF,eAAO,SAAS,kEAAS,CAAC,0BAA0B;AAAA,UAClD,SAAS;AAAA,UACT,OAAO;AAAA,YACL;AAAA,YACA,oBAAoB,EAAE,UAAU,kEAAS,CAAC,KAAK;AAAA,UACjD;AAAA,QACF,CAAC;AAAA,MACH;AAAA,MAEA,0BAA0B;AACxB,eAAO,SAAS,kEAAS,CAAC,yBAAyB;AAAA,UACjD,SAAS;AAAA,UACT,OAAO;AAAA,YACL,oBAAoB,EAAE,UAAU,kEAAS,CAAC,KAAK;AAAA,UACjD;AAAA,QACF,CAAC;AAAA,MACH;AAAA,MAEA,yBAAyB;AACvB,eAAO,SAAS,kEAAS,CAAC,4BAA4B;AAAA,UACpD,SAAS;AAAA,UACT,OAAO;AAAA,YACL,oBAAoB,EAAE,UAAU,kEAAS,CAAC,KAAK;AAAA,UACjD;AAAA,QACF,CAAC;AAAA,MACH;AAAA,MAEA,wBAAwB,aAAsB;AAC5C,eAAO,SAAS,kEAAS,CAAC,yBAAyB;AAAA,UACjD,SAAS;AAAA,UACT,OAAO;AAAA,YACL,oBAAoB,EAAE,UAAU,kEAAS,CAAC,KAAK;AAAA,YAC/C;AAAA,UACF;AAAA,QACF,CAAC;AAAA,MACH;AAAA,MAEA,yBAAyB;AACvB,eAAO,SAAS,kEAAS,CAAC,oBAAoB;AAAA,UAC5C,SAAS;AAAA,UACT,OAAO;AAAA,YACL,oBAAoB,EAAE,UAAU,kEAAS,CAAC,KAAK;AAAA,UACjD;AAAA,QACF,CAAC;AAAA,MACH;AAAA,MAEA,qBAAqB,OAAe;AAClC,eAAO,SAAS,kEAAS,CAAC,sBAAsB;AAAA,UAC9C,SAAS;AAAA,UACT,OAAO;AAAA,YACL,oBAAoB,EAAE,UAAU,kEAAS,CAAC,KAAK;AAAA,YAC/C;AAAA,UACF;AAAA,QACF,CAAC;AAAA,MACH;AAAA,MAEA,qBAAqB;AAEnB,cAAM,UAAU,IAAI,SAAS,SAAS,MAAM,GAAG,EAAE,CAAC,CAAC;AAEnD,eAAO,SAAS,SAAS;AAAA,UACvB,UAAU;AAAA,UACV,SAAS;AAAA,UACT,OAAO,EAAE,GAAG,SAAS,OAAO,UAAU,KAAK;AAAA,QAC7C,CAAC;AAAA,MACH;AAAA,MAEA,kCAAkC;AAChC,eAAO,SAAS,kEAAS,CAAC,IAAI;AAAA,MAChC;AAAA,IACF;AAAA,IAEA,CAAC,UAAU,QAAQ;AAAA,EACrB;AACF;;;;;;;;;;;;;;;;ACpK4B;AAED;AAEpB,MAAM,qCAAqC;AAE3C,SAAS,oCAAoC,IAAgB;AAClE,QAAM,WAAW,uEAAW,CAAC;AAE7B,qFAAU,CAAC,MAAM;AACf,UAAM,QAAa,SAAS;AAC5B,QAAI,OAAO,UAAU,YAAY,UAAU,KAAM;AACjD,QAAI,MAAM,kCAAkC,GAAG;AAE7C,iBAAW,EAAE;AAAA,IACf;AAAA,EACF,CAAC;AACH;;;;;;;;;;;;;;;;;;;;;;;;ACjBsB;AAE0B;AAMzC;AAGgD;AAShD,SAAS,wBAAwB,SAA8B;AACpE,SAAO,eAAe,8BAA8B;AAClD,QAAI,YAAY,WAAW;AACzB,YAAM,sFAAqB,CAAC,4EAAe,CAAC,eAAe;AAAA,IAC7D,WAAW,YAAY,WAAW;AAChC,YAAM,sFAAqB,CAAC,4EAAe,CAAC,eAAe;AAAA,IAC7D;AAEA,UAAM,YAAY,MAAM,8EAAS,CAAC,OAAO;AACzC,WAAO,IAAI,uDAAU,CAAC,SAAS;AAAA,EACjC;AACF;AAMO,eAAe,qBAAqB,KAA6C;AACtF,QAAM,aAAa,MAAM,IAAI,iBAAiB;AAC9C,SAAO,EAAE,OAAO,WAAoB,GAAG,WAAW;AACpD;AAYA,SAAS,6BACP,UACA;AACA,SAAO,CAAC,EAAE,SAAS,cAAc,aAAa,KAAK,MACjD,MAAM,SAAS,SAAS,YAAY,EAAE,QAAQ,KAAK,WAAW,IAAI,MAAM;AAC5E;AAEO,SAAS,sCAAsC,eAAoC;AACxF,SAAO,IAAI,+DAAmB;AAAnB,IACT;AAAA,IACA,6BAA6B,+FAAoC,EAAE,aAAa;AAAA,EAClF;AACF;AAEO,SAAS,iCAAiC,eAAoC;AACnF,SAAO,IAAI,+DAAmB;AAAnB,IACT;AAAA,IACA,6BAA6B,0FAA+B,EAAE,aAAa;AAAA,EAC7E;AACF;AAEO,SAAS,gCACd,MACA,YACA;AACA,aAAW,QAAQ,CAAC,CAAC,OAAO,SAAS,MAAM,KAAK,YAAY,OAAO,EAAE,YAAY,CAAC,SAAS,EAAE,CAAC,CAAC;AACjG;AAEO,SAAS,gCACd,MACA,YACA;AACA,aAAW;AAAA,IAAQ,CAAC,CAAC,OAAO,SAAS,MACnC,KAAK,YAAY,OAAO,EAAE,WAAW,UAAU,UAAU,CAAC;AAAA,EAC5D;AACF;AAEO,SAAS,iBAAiB,EAAE,QAAQ,GAAqC;AAC9E,SAAO,SAAS,uBAAuB,EAAE,KAAK,GAAqB;AACjE,QAAI,YAAY,WAAW;AACzB,aAAO,SAAS,4EAAe,CAAC;AAAA,IAClC;AACA,WAAO,SAAS,4EAAe,CAAC;AAAA,EAClC;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/FwB;AAGxB,MAAM,mBAAmB;AAAA,EACvB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,EAAE,OAAO,YAAU,OAAO,WAAW,UAAU;AAE/C,SAAS,YAAY,OAAc;AACjC,aAAW,aAAa,kBAAkB;AACxC,QAAI,iBAAiB,UAAW,OAAM;AAAA,EACxC;AACF;AAGO,eAAe,UAAa,SAAqB,WAAwB;AAC9E,SAAO,QACJ,KAAK,UAAQ;AACZ,QAAI,8BAAO,CAAC,IAAI,GAAG;AACjB,kBAAY,IAAI;AAChB,aAAO,CAAC,IAAI;AAAA,IACd;AACA,WAAO,CAAC,QAAW,IAAI;AAAA,EACzB,CAAC,EACA,MAAM,CAAC,UAAiB;AACvB,gBAAY,KAAK;AACjB,WAAO,CAAC,KAAK;AAAA,EACf,CAAC,EACA,QAAQ,MAAM;AACb,QAAI,UAAW,WAAU;AAAA,EAC3B,CAAC;AACL;;;;;ACpCyB;AACG;AAEA;AACL;AAED;AAEI;AAEA;AAInB,IAAK,yBAAL,kBAAKA,4BAAL;AACL,EAAAA,wBAAA,qBAAkB;AAClB,EAAAA,wBAAA,gBAAa;AACb,EAAAA,wBAAA,wBAAqB;AACrB,EAAAA,wBAAA,wBAAqB;AACrB,EAAAA,wBAAA,kBAAe;AACf,EAAAA,wBAAA,wBAAqB;AANX,SAAAA;AAAA;AASL,MAAM,kBAAkB;AAAA,EAC7B,QAAQ;AAAA,EACR,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,WAAW;AACb;AASA,MAAM,cAAc,oBAAI,IAAI;AAAA,EAC1B,CAAC,YAAY,QAAQ;AAAA,EACrB,CAAC,YAAY,QAAQ;AACvB,CAAC;AACM,SAAS,oCAAoC,UAAkB;AACpE,SAAO,YAAY,IAAI,QAAQ;AACjC;AACO,SAAS,yBAAyB;AACvC,SAAO,kBAAQ,CAAuB,IAAI;AAC5C;AAIO,SAAS,6BAA6B,SAAuB;AAClE,SAAO,CAAC,QAAQ,OAAO,QAAQ,OAAO,QAAQ,KAAK,EAAE,KAAK,GAAG;AAC/D;AAMO,SAAS,4BAA8D,cAAiB;AAC7F,SAAO,OAAO,SAA4C;AACxD,UAAM,EAAE,iBAAiB,QAAQ,IAAI;AACrC,oBAAgB,IAAI;AACpB,UAAM,CAAC,OAAO,GAAG,IAAI,MAAM,SAAS,CAAC,aAAa,CAAC;AACnD,UAAM,4BAAK,CAAC,GAAI;AAChB,oBAAgB,KAAK;AAErB,QAAI,SAAS,CAAC,KAAK;AACjB,cAAQ,KAAK;AACb,YAAM,IAAI,MAAM,+BAA+B;AAAA,IACjD;AAEA,WAAO;AAAA,EACT;AACF;AAKA,eAAe,QAAQ,WAA6C;AAClE,QAAM,UAAU,KAAK,KAAM,KAAM,GAAM,CAAI;AAC7C;AAGA,eAAe,QAAQ,WAA8B,MAA6B;AAChF,QAAM,UAAU,KAAK,KAAM,KAAM,GAAM,GAAM,MAAM,CAAC,KAAK,MAAM,OAAO,CAAC;AACzE;AAEA,eAAe,mBAAmB;AAChC,QAAM,eAAe,MAAM,8BAAe,CAAC,OAAO;AAClD,QAAM,gBAAgB,IAAI,gBAAU,CAAC,YAAY;AACjD,QAAM,gBAAgB,MAAM,cAAc,iBAAiB;AAC3D,SAAO;AACT;AAEA,eAAe,kBAAkB;AAC/B,QAAM,eAAe,MAAM,8BAAe,CAAC,OAAO;AAClD,QAAM,QAAQ,YAAY;AAG1B,QAAM,4BAAK,CAAC,GAAG;AACjB;AAEO,eAAe,sBAAsB,SAAiB;AAC3D,QAAM,gBAAgB,MAAM,iBAAiB;AAC7C,MAAI,cAAc,SAAS,WAAW,cAAc,SAAS,gBAAgB,WAAW;AACtF,UAAM,gBAAgB;AAAA,EACxB;AAEA,QAAM,eAAe,MAAM,8BAAe,CAAC,OAAO;AAElD,MAAI,cAAc,SAAS,SAAS;AAClC,UAAM,QAAQ,cAAc,OAAO;AAAA,EACrC;AAGA,QAAM,4BAAK,CAAC,GAAG;AACjB;AAEO,SAAS,uBAAuB,GAAU;AAC/C,SAAO,CAAC,EACN,GAAG,SAAS,uBACZ,GAAG,SAAS,SAAS,mBAAmB,KACxC,GAAG,YAAY;AAEnB;AAEA,SAAS,+BAAwC;AAC/C,QAAM,EAAE,SAAS,IAAI,4BAAW,CAAC;AACjC,SACE,SAAS,SAAS,2BAAS,CAAC,aAAa,KACzC,SAAS,SAAS,2BAAS,CAAC,oBAAoB,KAChD,SAAS,SAAS,2BAAS,CAAC,kBAAkB,KAC9C,SAAS,SAAS,2BAAS,CAAC,wBAAwB;AAExD;AAEO,SAAS,sBAAsB,0BAA4C;AAChF,QAAM,sBAAsB,6BAA6B;AAEzD,SAAO,CAAC,4BAA4B;AACtC;;;;;;;;;;;;;;;;;ACjIoB;AAXK;AAEG;AAEmB;AAK/C,SAAS,eAAe,OAA4B;AAClD,QAAM,EAAE,SAAS,IAAI;AACrB,SAAO,WAAW,uEAAC,mEAAa,IAAC,SAAQ,SAAQ,IAAK,uEAAC,qEAAe,IAAC,SAAQ,SAAQ;AACzF;AAMO,SAAS,WAAW,OAAwB;AACjD,QAAM,EAAE,KAAK,IAAI;AACjB,QAAM,CAAC,UAAU,WAAW,IAAI,+CAAQ,CAAC,KAAK;AAC9C,QAAM,CAAC,aAAa,cAAc,IAAI,+CAAQ,CAAC,IAAI;AACnD,SACE,wEAAC,6DAAG,IAAC,IAAG,YACN;AAAA;AAAA,MAAC,gEAAM,CAAC;AAAA,MAAP;AAAA,QACC,QAAQ,EAAE,SAAS,GAAG,gBAAgB,YAAY;AAAA,QAClD,QAAQ,EAAE,QAAQ,UAAU;AAAA,QAC5B,SAAS,MAAM;AACb,yBAAe,WAAW,KAAK,IAAI;AACnC,sBAAY,CAAC,QAAQ;AAAA,QACvB;AAAA,QACA,MAAK;AAAA,QACL,OAAM;AAAA,QACN,SAAQ;AAAA,QAER;AAAA,iFAAC,gEAAM,CAAC,MAAP,EAAY,IAAG,YAAW,WAAU,cAClC,qBAAW,cAAc,aAC5B;AAAA,UACA,uEAAC,6DAAG,IAAC,IAAG,QAAO,YAAW,QAAO,IAAG,QAClC,iFAAC,kBAAe,UAAU,UAAU,GACtC;AAAA;AAAA;AAAA,IACF;AAAA,IACA;AAAA,MAAC,6DAAG;AAAH;AAAA,QACC,QAAQ,WAAW,SAAS;AAAA,QAC5B,YAAW;AAAA,QACX,YAAY,WAAW,YAAY;AAAA,QAEnC;AAAA,UAAC,gEAAM,CAAC;AAAA,UAAP;AAAA,YACC,OAAM;AAAA,YACN,YAAW;AAAA,YACX,WAAU;AAAA,YACV,WAAU;AAAA,YAET;AAAA;AAAA,QACH;AAAA;AAAA,IACF;AAAA,KACF;AAEJ;;;;;;;;;;;;;;;;AChDI;AAV0B;AAEH;AAMpB,SAAS,kBAAkB,EAAE,SAAS,KAAK,GAAoB;AACpE,SACE;AAAA,IAAC,+DAAK;AAAL;AAAA,MACC,IAAG;AAAA,MACH,QAAO;AAAA,MACP,cAAa;AAAA,MACb,IAAI,OAAO,aAAa;AAAA,MACxB,OAAM;AAAA,MACN,UAAS;AAAA,MAET;AAAA;AAAA,UAAC,+DAAK;AAAL;AAAA,YACC,IAAG;AAAA,YACH,cAAa;AAAA,YACb,KAAI;AAAA,YACJ,IAAG;AAAA,YACH,IAAG;AAAA,YACH,WAAU;AAAA,YAET,kBAAQ,MAAM,OAAO,EAAE,IAAI,CAAC,MAAM,UACjC,uEAAC,gEAAM,CAAC,MAAP,EAAqC,WAAU,YAC7C,kBADe,GAAG,IAAI,IAAI,KAAK,EAElC,CACD;AAAA;AAAA,QACH;AAAA,QACC,OAAO,uEAAC,6DAAU,IAAC,MAAY,IAAK;AAAA;AAAA;AAAA,EACvC;AAEJ;;;;;;;;;;;;;;;;;;;ACFM;AAjCwB;AAET;AAEyB;AACtB;AACe;AAOhC,SAAS,qBAAqB;AAAA,EACnC;AAAA,EACA;AAAA,EACA,iBAAiB;AACnB,GAA8B;AAC5B,QAAM,EAAE,OAAO,UAAU,IAAI,oGAAsB,CAAC;AAEpD,QAAM,iBAAiB,SAAS,KAAK,2EAAc,CAAC,MAAM,CAAC,MAAM;AACjE,QAAM,kBAAkB,YACpB,UAAU,2EAAc,CAAC,MAAM,OAAO,GAAG,CAAC,GAAG,0EAAa,CAAC,MAAM,OAAO,GAAG,CAAC,KAC5E;AAEJ,QAAM,cAAc,QAAQ;AAE5B,QAAM,UAAU,cACZ,gBAAgB,WAAW,GAAG,cAAc,GAAG,eAAe,KAC9D;AAEJ,SACE,wEAAC,+DAAK,IAAC,KAAI,YAAW,IAAG,YACvB;AAAA,2EAAC,gEAAM,CAAC,IAAP,EAAU,WAAU,cAAa,0BAAY;AAAA,IAC7C,WACC,uEAAC,0DAAI,IAAC,KAAK,uEAAC,qEAAO,IAAC,QAAQ,UAAU,IAAI,GAAI,IAAG,YAC/C,kFAAC,gEAAM,CAAC,MAAP,EAAY,WAAU,YAAW,WAAU,cACzC;AAAA;AAAA,MACA;AAAA,OACH,GACF;AAAA,KAEJ;AAEJ;;;;;;;;;;;;;;;ACrCI;AAPkB;AAKf,SAAS,4BAA4B,EAAE,SAAS,GAAqC;AAC1F,SACE,uEAAC,+DAAK,IAAC,IAAI,CAAC,YAAY,YAAY,OAAO,GAAG,KAAI,YAAW,OAAM,QAChE,UACH;AAEJ;;;;;;;;;;;;;;;;;ACKI;AAhBmB;AAEA;AAEO;AAOvB,SAAS,mBAAmB,OAAsC;AACvE,QAAM,EAAE,eAAe,qBAAqB,UAAU,IAAI;AAC1D,QAAM,EAAE,WAAW,IAAI,mFAAa,CAAC;AAErC,SACE,wEAAC,gEAAM,IAAC,KAAI,YACV;AAAA,2EAAC,4DAAM,IAAC,SAAS,qBAAqB,SAAQ,WAAU,OAAM,OAAM,oBAEpE;AAAA,IACA,uEAAC,4DAAM,IAAC,aAAW,WAAW,SAAS,eAAe,OAAM,OACzD,qBAAW,EAAE,UAAU,QAAQ,QAAQ,iBAAiB,CAAC,GAC5D;AAAA,KACF;AAEJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzBiC;AACI;AAE9B,SAAS,aAAa;AAC3B,QAAM,kBAAkB,CAAC,CAAC,uDAAoB,CAAC;AAC/C,QAAM,gBAAgB,6CAAgB,CAAC;AAEvC,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA,SAAS,mBAAmB;AAAA,EAC9B;AACF;;;;;;;;;;;;;;;;;;;;;;;;ACXyB;AACP;AAEQ;AAEc;AACF;AAItC,eAAe,sBAAsB,IAAoC;AACvE,QAAM,OAAO,MAAM,oBAAK,CAAC;AAAA,IACvB,gCAAgC,4BAAU,IAAI,6BAAW,UAAU,EAAE;AAAA,EACvE;AACA,SAAO,KAAK;AACd;AAEA,SAAS,6BAA6B;AACpC,SAAO,4BAAQ,CAAC;AAAA,IACd,SAAS,gCAAS,CAAC,6BAAS,KAAK,gCAAS,CAAC,8BAAU;AAAA,IACrD,UAAU,CAAC,wBAAwB,6BAAS;AAAA,IAC5C,MAAM,UAAU;AACd,aAAO,sBAAsB,6BAAS,IAAI,EAAE;AAAA,IAC9C;AAAA,EACF,CAAC;AACH;AAEO,SAAS,8BAA8B;AAC5C,QAAM,EAAE,MAAM,YAAY,IAAI,2BAA2B;AACzD,MAAI,CAAC,YAAa,QAAO,EAAE,eAAe,KAAK;AAC/C,SAAO;AAAA;AAAA;AAAA,IAGL,eAAe,YAAY,KAAK,IAAI,WAAW,8BAAU,IAAI,EAAE;AAAA,IAC/D,iBAAiB,YAAY;AAAA,EAC/B;AACF;;;;;;ACrBM;AAhB8B;AAES;AAEL;AAEX;AACe;AACf;AAK7B,MAAM,kBAAkB,oBAAU;AAAV,EACtB,CAAC,EAAE,UAAU,iBAAiB,GAAG,MAAM,GAAyB,QAC9D,oCAAC,eAAG,IAAC,IAAG,4BAA2B,IAAG,YAAW,IAAG,YAClD;AAAA,IAAC,kBAAM,CAAC;AAAA,IAAP;AAAA,MACC,WAAU;AAAA,MACV,UAAS;AAAA,MACT;AAAA,MACA,OAAM;AAAA,MACN,gBAAgB,kBAAkB,SAAS;AAAA,MAC3C,cAAa;AAAA,MACZ,GAAG;AAAA,MAEH;AAAA;AAAA,EACH,GACF;AAEJ;AAEO,SAAS,aAAa;AAC3B,QAAM,EAAE,iBAAiB,cAAc,IAAI,2BAA2B,CAAC;AAEvE,QAAM,UAAU,iBAAO,CAAC,MAAM;AAC5B,YAAQ,YAA8B,EAAE;AAAA,MACtC,KAAK;AACH,eAAO,+BAAW;AAAX,MACT,KAAK;AACH,eAAO,GAAG,+BAAW,IAAI,8BAAU,EAAE,MAAM,GAAG,CAAC,CAAC;AAAA,MAClD;AACE,eAAO,IAAI,QAAO;AAAA,IACtB;AAAA,EACF,GAAG,CAAC,CAAC;AAEL,MAAI,CAAC,iBAAiB,YAA8B,KAAK,WAAW,EAYnE;AAED,SAAO,oCAAC,mBAAgB,iBAAe,MAAE,mBAAQ;AACnD;;;;;;;;;;;;;;AC7CQ;AAfyB;AACb;AACW;AAEoC;AAO5D,SAAS,gBAAgB,EAAE,sBAAsB,cAAc,GAAU;AAC9E,SACE,qCAAC,gCAAY,CAAC,MAAb,EACC;AAAA,wCAAC,gCAAY,CAAC,YAAb,EAAwB,eAAa,yCAAgB,CAAC,gBACrD,8CAAC,iCAAa,IAAC,OAAM,oBAAmB,GAC1C;AAAA,IACA,oCAAC,gCAAY,CAAC,QAAb,EACC;AAAA,MAAC,gCAAY,CAAC;AAAA,MAAb;AAAA,QACC,OAAM;AAAA,QACN,MAAK;AAAA,QACL,YAAY;AAAA,QACZ,WAAW,mBAAG,CAAC;AAAA,UACb,OAAO;AAAA,QACT,CAAC;AAAA,QAED,+CAAC,gCAAY,CAAC,OAAb,EACC;AAAA;AAAA,YAAC,gCAAY,CAAC;AAAA,YAAb;AAAA,cACC,eAAa,yCAAgB,CAAC;AAAA,cAC9B,SAAS,OAAK;AACZ,kBAAE,gBAAgB;AAClB,8BAAc;AAAA,cAChB;AAAA,cAEA,+CAAC,kBAAM,IACL;AAAA,oDAAC,8BAAU,IAAC;AAAA,gBACZ,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAW,kBAAI;AAAA,iBACxC;AAAA;AAAA,UACF;AAAA,UACA;AAAA,YAAC,gCAAY,CAAC;AAAA,YAAb;AAAA,cACC,eAAa,yCAAgB,CAAC;AAAA,cAC9B,SAAS,OAAK;AACZ,kBAAE,gBAAgB;AAClB,qCAAqB;AAAA,cACvB;AAAA,cAEA,+CAAC,kBAAM,IAAC,OAAM,8BACZ;AAAA,oDAAC,6BAAS,IAAC,OAAM,8BAA6B;AAAA,gBAC9C,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAW,oBAAM;AAAA,iBAC1C;AAAA;AAAA,UACF;AAAA,WACF;AAAA;AAAA,IACF,GACF;AAAA,KACF;AAEJ;;;;ACAY;AAxDqB;AACC;AACU;AAGQ;AAEL;AAEf;AAazB,SAAS,sBAAsB;AAAA,EACpC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA+B;AAC7B,QAAM,eAAe,CAAC,YAAY;AAClC,SACE,oCAAC,gBAAI,IAAC,eAAa,2CAAiB,CAAC,iBACnC;AAAA,IAAC,0BAAM;AAAN;AAAA,MACC,OAAM;AAAA,MACN,SAAQ;AAAA,MAER,QACE,eACI,SACA;AAAA,QACE,IAAI;AAAA,MACN;AAAA,MAEN,IAAG;AAAA,MACH,IAAG;AAAA,MACH,SAAS,eAAe,SAAY;AAAA,MACpC,QAAQ,CAAC,WAAW,gBAAgB,WAAW,YAAY;AAAA,MAC3D,SAAS,CAAC,WAAW,MAAM;AAAA,MAC3B,eAAa,QAAQ;AAAA,MACrB,iBAAe;AAAA,MAEf,+CAAC,gBAAI,IAAC,OAAM,QAAO,gBAAe,iBAAgB,YAAW,UAC3D;AAAA,6CAAC,iBAAK,IAAC,YAAW,cAAa,MAAM,GAAG,KAAI,YAC1C;AAAA,+CAAC,kBAAM,IAAC,YAAW,UAAS,IAAG,KAC7B;AAAA,gDAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAY,0CAAc,CAAC,QAAQ,MAAM,EAAE,GAAE;AAAA,YACnE,YACC;AAAA,cAAC,iCAAa;AAAb;AAAA,gBACC,SAAQ;AAAA,gBACR,eAAa,yCAAgB,CAAC;AAAA;AAAA,YAChC;AAAA,aAEJ;AAAA,UAEA,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cACpB,0CAAc,CAAC,QAAQ,MAAM,OAAO,GAAG,GAC1C;AAAA,WACF;AAAA,QACC,CAAC,WAAW,oCAAC,gCAAY,IAAC,IAAK;AAAA,QAC/B,YAAY,YACX;AAAA,UAAC,eAAe;AAAf;AAAA,YACC,sBAAsB,MAAM,gBAAgB,QAAQ,EAAE;AAAA,YACtD;AAAA;AAAA,QACF;AAAA,SAEJ;AAAA;AAAA,IAvCK;AAAA,EAwCP,GACF;AAEJ;;;;ACrDI;AA5BkC;AACS;AAEE;AAEX;AAS/B,SAAS,gBAAgB;AAAA,EAC9B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAyB;AACvB,QAAM,mBAAmB,kDAAmB,CAAC;AAC7C,QAAM,WAAW,0CAAW,CAAC;AAE7B,QAAM,UAAU,SAAS,SAAS,KAAK,yCAAqB;AAC5D,QAAM,EAAE,UAAU,IAAI,sDAA8B,CAAC,QAAQ,MAAM,OAAO,GAAG;AAE7E,SACE;AAAA,IAAC,qBAAqB;AAArB;AAAA,MACC,UAAU,cAAc;AAAA,MACxB,UAAU;AAAA,MACV;AAAA,MACA;AAAA,MACA;AAAA,MACA,iBAAiB,MAAM,kBAAkB,SAAS;AAAA,MAClD;AAAA,MACA;AAAA;AAAA,EACF;AAEJ;;;;;;ACIc;AA3Cc;AAEM;AAEmB;AACV;AAEjB;AACA;AAEM;AAC2B;AAC/B;AAE5B,MAAM,oBAAoB,OAAO,OAAO,wDAAoC;AAMrE,SAAS,aAAa,EAAE,QAAQ,GAAsB;AAC3D,QAAM,WAAW,4BAAW,CAAC;AAC7B,QAAM,WAAW,0CAAW,CAAC;AAC7B,QAAM,kBAAkB,6CAAkB,CAAC;AAC3C,QAAM,iBAAiB,iDAAsB,CAAC;AAE9C,WAAS,aAAa;AACpB,SAAK,2BAAS,CAAC,MAAM,aAAa;AAClC,aAAS,2BAAS,CAAC,UAAU;AAAA,EAC/B;AAEA,WAAS,cAAc,IAAY;AACjC,SAAK,2BAAS,CAAC,MAAM,gBAAgB;AACrC,oBAAgB,cAAc,EAAE;AAAA,EAClC;AAEA,WAAS,cAAc,IAAY;AACjC,SAAK,2BAAS,CAAC,MAAM,kBAAkB,EAAE,GAAG,CAAC;AAC7C,oBAAgB,cAAc,EAAE;AAAA,EAClC;AAEA,SACE;AAAA,IAAC,yBAAK;AAAL;AAAA,MACC,QAAQ,oCAAC,+BAAW,IAAC,OAAM,kBAAiB;AAAA,MAC5C,WAAS;AAAA,MACT;AAAA,MACA,QACE;AAAA,QAAC,0BAAM;AAAN;AAAA,UACC,eAAa,2CAAiB,CAAC;AAAA,UAC/B,WAAS;AAAA,UACT,SAAS,MAAM;AACb,uBAAW;AACX,oBAAQ;AAAA,UACV;AAAA,UACD;AAAA;AAAA,MAED;AAAA,MAGD,iBAAO,KAAK,QAAQ,EAAE,IAAI,QACzB;AAAA,QAAC,eAAe;AAAf;AAAA,UAEC,WAAW;AAAA,UACX,mBAAmB,CAAAC,QAAM;AACvB,0BAAcA,GAAE;AAChB,oBAAQ;AAAA,UACV;AAAA,UACA,UAAU,CAAC,kBAAkB,SAAS,EAAE;AAAA,UACxC,iBAAiB,CAAAA,QAAM;AACrB,gBAAIA,QAAO,eAAe,GAAI,iBAAgB,cAAc,SAAS;AACrE,0BAAcA,GAAE;AAAA,UAClB;AAAA,UACA,eAAe,MAAM;AACnB,oBAAQ;AACR,qBAAS,2BAAS,CAAC,aAAa;AAAA,cAC9B,OAAO;AAAA,gBACL,SAAS,SAAS,EAAE;AAAA,cACtB;AAAA,YACF,CAAC;AAAA,UACH;AAAA;AAAA,QAlBK;AAAA,MAmBP,CACD;AAAA;AAAA,EACH;AAEJ;;;;;;;;AC/Cc;AArCoB;AACR;AACW;AAEe;AAEtB;AACJ;AAOnB,SAAS,aAAa,EAAE,WAAW,oBAAoB,QAAQ,GAAsB;AAC1F,QAAM,EAAE,YAAY,WAAW,IAAI,wCAAa,CAAC;AACjD,QAAM,OAAO,gCAAS,CAAC;AAAA,IACrB,eAAe;AAAA,MACb,eAAe,WAAW,EAAE,QAAQ,MAAM,UAAU,MAAM,CAAC;AAAA,MAC3D,wBAAwB,WAAW,EAAE,QAAQ,MAAM,UAAU,MAAM,CAAC;AAAA,IACtE;AAAA,IACA,WAAW;AACT,oBAAc;AAAA,IAChB;AAAA,EACF,CAAC;AAED,QAAM,aAAa,KAAK,OAAO,iBAAiB,KAAK,OAAO;AAE5D,WAAS,gBAAgB;AACvB,QAAI,YAAY;AACd,cAAQ;AACR,yBAAmB;AAAA,IACrB;AAAA,EACF;AAEA,SACE;AAAA,IAAC,yBAAK;AAAL;AAAA,MACC,QAAQ,oCAAC,+BAAW,IAAC,OAAM,YAAW;AAAA,MACtC;AAAA,MACA;AAAA,MACA,QACE,qCAAC,wBAAS,IAAC,eAAc,OACvB;AAAA;AAAA,UAAC,0BAAM;AAAN;AAAA,YACC,OAAM;AAAA,YACN,eAAa,2CAAiB,CAAC;AAAA,YAC/B,UAAU;AAAA,YACV,SAAQ;AAAA,YACR,SAAS;AAAA,YACV;AAAA;AAAA,QAED;AAAA,QACA;AAAA,UAAC,0BAAM;AAAN;AAAA,YACC,OAAM;AAAA,YACN,SAAS,CAAC,aAAa,MAAM;AAAA,YAC7B,eAAa,2CAAiB,CAAC;AAAA,YAC/B,UAAU;AAAA,YACV,UAAU,CAAC;AAAA,YACX,SAAS;AAAA,YACT,MAAK;AAAA,YACN;AAAA;AAAA,QAED;AAAA,SACF;AAAA,MAGF;AAAA,4CAAC,2BAAO,IAAC,SAAQ,WAAU,OAAM,QAAO,OAAM,gDAC3C,qBAAW;AAAA,UACV,UACE;AAAA,UACF,QACE;AAAA,QACJ,CAAC,GACH;AAAA,QACA,oCAAC,gBAAI,IAAC,YAAW,UAAS,eAAc,UAAS,GAAE,YACjD,+CAAC,UAAK,UAAU,KAAK,cAAc,UAAU,KAAK,cAChD;AAAA,8CAAC,kBAAM,CAAC,OAAP,EAAa,YAAW,UAAS,SAAS,eAAe,aAAa,SAAS,QAC9E,+CAAC,kBAAM,IAAC,KAAI,YACV;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,MAAK;AAAA,gBACL,MAAK;AAAA,gBACL,gBAAgB,KAAK,OAAO;AAAA,gBAC5B,eAAa,2CAAiB,CAAC;AAAA;AAAA,YACjC;AAAA,YAEA,oCAAC,kBAAM,CAAC,GAAP,EAAS,WAAU,cAAa,YAAW,QAAO,6CAEnD;AAAA,aACF,GACF;AAAA,UACA;AAAA,YAAC,kBAAM,CAAC;AAAA,YAAP;AAAA,cACC,YAAW;AAAA,cACX,IAAG;AAAA,cACH,SAAS,eAAe,aAAa,SAAS;AAAA,cAE9C,+CAAC,kBAAM,IAAC,KAAI,YACV;AAAA;AAAA,kBAAC;AAAA;AAAA,oBACC,MAAK;AAAA,oBACL,MAAK;AAAA,oBACL,gBAAgB,KAAK,OAAO;AAAA,oBAC5B,eAAa,2CAAiB,CAAC;AAAA;AAAA,gBACjC;AAAA,gBACA,oCAAC,kBAAM,CAAC,GAAP,EAAS,WAAU,cAAa,YAAW,QAAO,kGAEnD;AAAA,iBACF;AAAA;AAAA,UACF;AAAA,WACF,GACF;AAAA;AAAA;AAAA,EACF;AAEJ;;;;AC7FI;AAjBwB;AAEF;AAEI;AAED;AAMtB,SAAS,QAAQ,EAAE,QAAQ,GAAiB;AACjD,QAAM,EAAE,QAAQ,IAAI,wCAAa,CAAC;AAClC,QAAM,WAAW,4BAAW,CAAC;AAE7B,SACE;AAAA,IAAC,YAAY;AAAZ;AAAA,MACC,WAAS;AAAA,MACT,oBAAoB,MAAM;AACxB,aAAK,QAAQ,EAAE,QAAQ,MAAM;AAC3B,mBAAS,2BAAS,CAAC,UAAU;AAAA,QAC/B,CAAC;AAAA,MACH;AAAA,MACA;AAAA;AAAA,EACF;AAEJ;;;;;;ACQM;AAnCsB;AAEM;AAEJ;AAEmB;AAO1C,SAAS,cAAc,EAAE,OAAO,iBAAiB,SAAS,GAAuB;AACtF,QAAM,aAAa,wCAAa,CAAC,KAAK;AACtC,QAAM,oBAAoB,qBAAW,CAAC,MAAM;AAC1C,oBAAgB,KAAK;AAAA,EACvB,GAAG,CAAC,iBAAiB,KAAK,CAAC;AAE3B,SACE;AAAA,IAAC,eAAG;AAAH;AAAA,MACC,OAAM;AAAA,MAEN,QACE,WACI,SACA;AAAA,QACE,IAAI;AAAA,MACN;AAAA,MAEN,IAAG;AAAA,MACH,IAAG;AAAA,MACH,SAAS,WAAW,SAAY;AAAA,MAChC,QAAQ,WAAW,YAAY;AAAA,MAE/B,+CAAC,gBAAI,IAAC,OAAM,QAAO,gBAAe,iBAAgB,YAAW,UAAS,QAAO,QAC3E;AAAA,4CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAY,sBAAW;AAAA,QAC7C,YAAY,oCAAC,iCAAa,IAAC;AAAA,SAC9B;AAAA;AAAA,IAhBK;AAAA,EAiBP;AAEJ;;;;ACTmB;AAhCS;AAEO;AAET;AAEyC;AAErC;AAMvB,SAAS,WAAW,EAAE,QAAQ,GAAoB;AACvD,QAAM,SAAS,OAAO,KAAK,oCAAa;AAExC,QAAM,EAAE,qBAAqB,IAAI,2CAAgB,CAAC;AAElD,QAAM,sBAAsB,qBAAW;AAAX,IAC1B,CAAC,UAA6B;AAC5B,WAAK,2BAAS,CAAC,MAAM,gBAAgB;AAAA,QACnC;AAAA,MACF,CAAC;AACD,2BAAqB,KAAK;AAAA,IAC5B;AAAA,IACA,CAAC,oBAAoB;AAAA,EACvB;AAEA,QAAM,EAAE,kBAAkB,IAAI,2CAAgB,CAAC;AAE/C,SACE,oCAAC,yBAAK,IAAC,QAAQ,oCAAC,+BAAW,IAAC,OAAM,gBAAe,GAAI,WAAS,MAAC,SAC5D,iBAAO,IAAI,WACV;AAAA,IAAC,aAAa;AAAb;AAAA,MAEC;AAAA,MACA,iBAAiB;AAAA,MACjB,UAAU,UAAU;AAAA;AAAA,IAHf;AAAA,EAIP,CACD,GACH;AAEJ;;;;;;;;;;;;;;;;ACPI;AApCoB;AACC;AAEa;AACb;AAMlB;AAEiB;AACC;AAEzB,MAAM,kCAAkC;AAExC,SAAS,qCAAqC,gBAAyB;AACrE,MAAI,CAAC,+BAAQ,CAAC,cAAc,EAAG,QAAO;AACtC,SAAO,iBAAiB;AAC1B;AAEO,SAAS,oBAAoB;AAClC,QAAM,EAAE,QAAQ,eAAe,IAAI,yCAAQ,CAAC,YAAY,4CAAiB,CAAC,GAAG,CAAC,CAAC;AAC/E,QAAM,QAAQ,6BAAQ,CAAC;AAEvB,QAAM,oBAAoB,iBAAO,CAAC,MAAM;AACtC,UAAM,eAAe;AACrB,QAAI,CAAC,+BAAQ,CAAC,cAAc,EAAG,QAAO;AACtC,UAAM,qBAAqB,iBAAiB;AAC5C,WAAO,qCAAqC,cAAc,IACtD,eACA,UAAU,mBAAmB,YAAY,CAAC,CAAC;AAAA,EACjD,GAAG,CAAC,cAAc,CAAC;AAEnB,SACE,6DACE;AAAA;AAAA,MAAC,gCAAY,CAAC;AAAA,MAAb;AAAA,QACC,SAAS,YAAY;AACnB,gBAAM,8CAAmB,CAAC;AAC1B,gBAAM,QAAQ,qBAAqB;AAAA,QACrC;AAAA,QACD;AAAA;AAAA,UAEC,oCAAC,2BAAO,IAAC,IAAG,YAAW,UAAS,mBAAkB,oDAElD;AAAA;AAAA;AAAA,IACF;AAAA,IACA;AAAA,MAAC,gCAAY,CAAC;AAAA,MAAb;AAAA,QACC,SAAS,YAAY;AACnB,gBAAM,kDAAuB,CAAC;AAC9B,gBAAM,QAAQ,yBAAyB;AAAA,QACzC;AAAA,QACD;AAAA;AAAA,UAEC,oCAAC,2BAAO,IAAC,IAAG,YAAW,UAAS,mBAC7B,6BACH;AAAA;AAAA;AAAA,IACF;AAAA,IACA,oCAAC,sBAAO,IAAC;AAAA,KACX;AAEJ;;;;ACnDI;AAX8B;AAEP;AAEH;AAKjB,SAAS,oBAAoB,EAAE,WAAW,GAA6B;AAC5E,SACE,6DACE;AAAA,yCAAC,gBAAI,IAAC,IAAG,YAAW,IAAG,YAAW,IAAG,YAAW,UAAS,QAAO,YAAW,UACzE;AAAA,0CAAC,eAAG,IAAC,IAAG,YACN,8CAAC,8BAAU,IAAC,GACd;AAAA,MACA,qCAAC,kBAAM,CAAC,MAAP,EAAY,QAAO,WAAU;AAAA;AAAA,QAAQ,cAAc;AAAA,SAAG;AAAA,OACzD;AAAA,IACA,oCAAC,sBAAO,IAAC;AAAA,KACX;AAEJ;;;;AC6DmC;AAlFD;AACO;AAEP;AACd;AACgB;AAkB7B;AAEmB;AACmB;AAElB;AACG;AACC;AACD;AACC;AACqB;AACzB;AACH;AACK;AACL;AACG;AACa;AACJ;AACC;AACJ;AAEmB;AAClB;AACE;AAO7B,SAAS,SAAS;AAAA,EACvB,gBAAgB;AAAA,EAChB;AAAA,EACA;AACF,GAAkB;AAChB,QAAM,CAAC,aAAa,cAAc,IAAI,kBAAQ,CAAC,KAAK;AACpD,QAAM,CAAC,iBAAiB,kBAAkB,IAAI,kBAAQ,CAAC,KAAK;AAC5D,QAAM,CAAC,mBAAmB,oBAAoB,IAAI,kBAAQ,CAAC,KAAK;AAEhE,QAAM,EAAE,SAAS,cAAc,IAAI,UAAU,CAAC;AAE9C,QAAM,EAAE,WAAW,IAAI,wCAAa,CAAC;AAErC,QAAM,mBAAmB,kDAAmB,CAAC;AAC7C,QAAM,WAAW,4BAAW,CAAC;AAE7B,QAAM,EAAE,WAAW,IAAI,wCAAa,CAAC;AACrC,QAAM,WAAW,oDAAuB,CAAC;AAEzC,QAAM,gBAAgB,wDAAgB,CAAC;AACvC,QAAM,oBAAoB,iDAAoB,CAAC;AAE/C,QAAM,WAAW,4BAAW,CAAC;AAE7B,QAAM,EAAE,WAAW,wBAAwB,IAAI,0CAAc,CAAC,OAAO,GAAG;AAExE,QAAM,mBAAmB,iBAAO;AAAP,IACvB,MACE;AAAA,MACE,2BAA2B,oCAAC,iBAAiB,IAAC;AAAA,MAC9C,iBAAiB,WAAW,eAAe,cACzC;AAAA,QAAC,gCAAY,CAAC;AAAA,QAAb;AAAA,UACC,UAAU,MAAM;AACd,iBAAK,2BAAS,CAAC,MAAM,cAAc;AACnC,iBAAK,WAAW;AAChB,qBAAS,2BAAS,CAAC,MAAM;AAAA,UAC3B;AAAA,UACA,eAAa,2CAAiB,CAAC;AAAA,UAE/B,8CAAC,wBAAI,IAAC,KAAK,oCAAC,4BAAQ,IAAC,GAAI,WAAU,YAAW,kBAE9C;AAAA;AAAA,MACF;AAAA,MAGF,WACE;AAAA,QAAC,gCAAY,CAAC;AAAA,QAAb;AAAA,UACC,UAAU,MAAM,eAAe,CAAC,WAAW;AAAA,UAC3C,eAAa,2CAAiB,CAAC;AAAA,UAE/B,8CAAC,wBAAI,IAAC,OAAM,8BAA6B,KAAK,oCAAC,4BAAQ,IAAC,GAAI,WAAU,YAAW,sBAEjF;AAAA;AAAA,MACF;AAAA,IAEJ,EAAE,OAAO,OAAO;AAAA,IAClB,CAAC,eAAe,SAAS,YAAY,UAAU,yBAAyB,aAAa,UAAU;AAAA,EACjG;AAEA,SACE,6DACE;AAAA,yCAAC,gCAAY,CAAC,MAAb,EACC;AAAA,0CAAC,gCAAY,CAAC,YAAb,EAAyB,yBAAc;AAAA,MACxC,oCAAC,gCAAY,CAAC,QAAb,EACC;AAAA,QAAC,gCAAY,CAAC;AAAA,QAAb;AAAA,UACC,OAAM;AAAA,UACN,MAAK;AAAA,UACL,YAAY;AAAA,UACZ,WAAW,mBAAG,CAAC;AAAA,YACb,OAAO;AAAA,YACP,WAAW;AAAA,YACX,WAAW;AAAA,UACb,CAAC;AAAA,UAED;AAAA,iDAAC,gCAAY,CAAC,OAAb,EACE;AAAA,+BAAiB,YAChB,oCAAC,gCAAY,CAAC,MAAb,EACC,8CAAC,mBAAmB,IAAC,YAAY,oEAAmC,CAAC,QAAQ,GAAG,GAClF;AAAA,cAED,WAAW,uBACV;AAAA,gBAAC,gCAAY,CAAC;AAAA,gBAAb;AAAA,kBACC,eAAa,2CAAiB,CAAC;AAAA,kBAC/B,UAAU;AAAA,kBAEV,8CAAC,wBAAI,IAAC,KAAK,oCAAC,4CAAyB,IAAC,GAAI,WAAU,YAAW,4BAE/D;AAAA;AAAA,cACF;AAAA,cAED,WAAW,eAAe,cACzB;AAAA,gBAAC,gCAAY,CAAC;AAAA,gBAAb;AAAA,kBACC,eAAa,2CAAiB,CAAC;AAAA,kBAC/B,UAAU,MAAM,SAAS,2BAAS,CAAC,aAAa;AAAA,kBAEhD,8CAAC,wBAAI,IAAC,KAAK,oCAAC,2BAAO,IAAC,GAAI,WAAU,YAAW,6BAE7C;AAAA;AAAA,cACF;AAAA,cAEF,oCAAC,kBAAM,CAAC,KAAP,EAAW,UAAS,MACnB;AAAA,gBAAC,gCAAY,CAAC;AAAA,gBAAb;AAAA,kBACC,eAAa,2CAAiB,CAAC;AAAA,kBAC/B,UAAU,MAAM;AACd,yBAAK,2BAAS,CAAC,MAAM,iCAAiC;AACtD,oEAAqB,CAAC,SAAS,QAAQ;AAAA,kBACzC;AAAA,kBAEA,8CAAC,wBAAI,IAAC,KAAK,oCAAC,8BAAU,IAAC,GAAI,WAAU,YAAW,sBAEhD;AAAA;AAAA,cACF,GACF;AAAA,cAEA;AAAA,gBAAC,gCAAY,CAAC;AAAA,gBAAb;AAAA,kBACC,eAAa,2CAAiB,CAAC;AAAA,kBAC/B,UAAU,MAAM;AACd,yBAAK,2BAAS,CAAC,MAAM,gCAAgC;AACrD,yCAAqB,CAAC,iBAAiB;AAAA,kBACzC;AAAA,kBAEA,8CAAC,wBAAI,IAAC,KAAK,oCAAC,mCAAe,IAAC,GAC1B,+CAAC,iBAAK,IAAC,KAAI,YACT;AAAA,wDAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAW,4BAAc;AAAA,oBAChD,oCAAC,2BAAO,IAAC,eAAa,2CAAiB,CAAC,gBACrC,0CAAc,CAAC,iBAAiB,SAAS,GAAG,EAAE,GACjD;AAAA,qBACF,GACF;AAAA;AAAA,cACF;AAAA,cAEA;AAAA,gBAAC,gCAAY,CAAC;AAAA,gBAAb;AAAA,kBACC,eAAa,2CAAiB,CAAC;AAAA,kBAC/B,UAAU,MAAM;AACd,yBAAK,2BAAS,CAAC,MAAM,8BAA8B;AACnD,uCAAmB,CAAC,eAAe;AAAA,kBACrC;AAAA,kBAEA,8CAAC,wBAAI,IAAC,KAAK,oCAAC,kCAAc,IAAC,GACzB,8CAAC,gBAAI,IAAC,gBAAe,iBAAgB,WAAU,YAAW,0BAE1D,GACF;AAAA;AAAA,cACF;AAAA,cAEA;AAAA,gBAAC,gCAAY,CAAC;AAAA,gBAAb;AAAA,kBACC,eAAa,2CAAiB,CAAC;AAAA,kBAC/B,UAAU,MAAM;AACd,yBAAK,2BAAS,CAAC,MAAM,sBAAsB;AAC3C,sCAAkB;AAAA,kBACpB;AAAA,kBAEA,8CAAC,wBAAI,IAAC,KAAK,gBAAgB,oCAAC,kCAAc,IAAC,IAAK,oCAAC,4BAAQ,IAAC,GACxD,8CAAC,gBAAI,IAAC,gBAAe,iBAAgB,WAAU,YAAW,4BAE1D,GACF;AAAA;AAAA,cACF;AAAA,eACF;AAAA,YACA,oCAAC,sBAAO,IAAC;AAAA,YACT,qCAAC,gCAAY,CAAC,OAAb,EACC;AAAA;AAAA,gBAAC,gCAAY,CAAC;AAAA,gBAAb;AAAA,kBACC,eAAa,2CAAiB,CAAC;AAAA,kBAC/B,UAAU,MAAM;AACd,2DAAY,CAAC,4BAA4B;AAAA,kBAC3C;AAAA,kBAEA,8CAAC,wBAAI,IAAC,KAAK,oCAAC,+BAAW,IAAC,GAAI,WAAU,YACpC,+CAAC,gBAAI,IAAC,gBAAe,iBAAgB;AAAA;AAAA,oBAEnC,oCAAC,oCAAgB,IAAC,SAAQ,SAAQ;AAAA,qBACpC,GACF;AAAA;AAAA,cACF;AAAA,cACA,oCAAC,gCAAY,CAAC,MAAb,EAAkB,UAAU,MAAM,uCAAiB,CAAC,GACnD,8CAAC,wBAAI,IAAC,KAAK,oCAAC,iCAAa,IAAC,GAAI,WAAU,YAAW,2BAEnD,GACF;AAAA,eACF;AAAA,YAEC,iBAAiB,SAAS,KACzB,6DACE;AAAA,kDAAC,sBAAO,IAAC;AAAA,cACT,qCAAC,gCAAY,CAAC,OAAb,EAAoB;AAAA,mBAAG;AAAA,iBAAiB;AAAA,eAC3C;AAAA,YAGF,oCAAC,UAAU,IAAC;AAAA;AAAA;AAAA,MACd,GACF;AAAA,OACF;AAAA,IACC,eAAe,oCAAC,OAAO,IAAC,SAAS,MAAM,eAAe,CAAC,WAAW,GAAG;AAAA,IACrE,mBAAmB,oCAAC,UAAU,IAAC,SAAS,MAAM,mBAAmB,CAAC,eAAe,GAAG;AAAA,IACpF,qBACC,oCAAC,YAAY,IAAC,SAAS,MAAM,qBAAqB,CAAC,iBAAiB,GAAG;AAAA,KAE3E;AAEJ;;;;;;;;;;;;;;;AC5P0C;AAQnC,MAAM,eAAe,oDAAa,CAA2B,IAAI;AAEjE,SAAS,WAAW;AACzB,QAAM,UAAU,iDAAU,CAAC,YAAY;AACvC,MAAI,CAAC,QAAS,OAAM,IAAI,MAAM,6CAA6C;AAC3E,SAAO;AACT;;;;;;;;;;;;;;;;;;;;;;ACdO,SAAS,gCAAgC;AAC9C,MAAI,KAAmC,CAAc,GAAO;AAG5D,UAAQ;AAAA,IACN;AAAA,IACA;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDM;AAP0B;AAER;AAEjB,SAAS,eAAe,OAAsC;AACnE,SACE,oCAAC,gBAAI,IAAC,YAAW,UAAS,UAAU,GAAG,gBAAe,UAAS,OAAM,QAAQ,GAAG,OAC9E,8CAAC,2BAAO,IAAC,MAAM,MAAM,MAAM,GAC7B;AAEJ;AAEO,SAAS,uBAAuB,OAAkB;AACvD,SACE,oCAAC,gBAAI,IAAC,QAAO,SAAQ,OAAM,QAAQ,GAAG,OACpC,8CAAC,kBAAe,GAClB;AAEJ;AAEO,SAAS,iCAAiC,OAAkB;AACjE,SACE,oCAAC,gBAAI,IAAC,QAAO,sBAAqB,OAAM,QAAQ,GAAG,OACjD,8CAAC,kBAAe,GAClB;AAEJ;;;;;;AClBM;AAR8B;AACD;AAEP;AAErB,SAAS,WAAW;AACzB,SAAO,8BAAW,GAChB,oCAAC,+CAAmB,IAAC,QAAQ,8BAAW,EACtC,8CAAC,gCAAkB,IAAC,gBAAe,eAAc,GACnD,IACE;AACN;;;;;;ACNM;AALyD;AAExD,SAAS,eAAe;AAC7B,SACE,oCAAC,8BAAiB,IAChB,8CAAC,mBAAgB,GACnB;AAEJ;AAEA,SAAS,kBAAkB;AACzB,QAAM,SAAS,MAAmC,GAAgB,IAAS;AAC3E,SACE,6DACE;AAAA,wCAAC,uBAAK,IAAC,qBAAO;AAAA,IACd,oCAAC,sBAAI,IAAC,KAAI,QAAO,MAAM,iCAAiC,MAAM,QAAQ;AAAA,KACxE;AAEJ;;;;;;AClB+C;AAIxC,SAAS,mBAAmB;AACjC,QAAM,CAAC,QAAQ,SAAS,IAAI,kBAAQ,CAAC,oBAAI,IAAI,CAAC;AAE9C,QAAM,iBAAiB,qBAAW,CAAC,CAAC,UAAsB;AACxD,cAAU,UAAQ;AAChB,YAAM,SAAS,IAAI,IAAI,IAAI;AAC3B,aAAO,IAAI,OAAO,KAAK,IAAI,CAAC,GAAG,EAAE,GAAG,MAAM,CAAC;AAC3C,aAAO;AAAA,IACT,CAAC;AAAA,EACH,GAAG,CAAC,CAAC;AAEL,SAAO,iBAAO,CAAC,MAAM;AACnB,WAAO;AAAA,MACL;AAAA,MACA,mBAAmB,CAAC,QAAa;AAC/B,kBAAU,UAAQ;AAChB,gBAAM,SAAS,IAAI,IAAI,IAAI;AAC3B,iBAAO,OAAO,GAAG;AACjB,iBAAO;AAAA,QACT,CAAC;AAAA,MACH;AAAA,MACA,oBAAoB,CAAC,YAAoB,eAAe,EAAE,SAAS,SAAS,OAAO,CAAC;AAAA,MACpF,uBAAuB,CAAC,YAAoB,eAAe,EAAE,SAAS,SAAS,UAAU,CAAC;AAAA,MAC1F,qBAAqB,CAAC,YAAoB,eAAe,EAAE,SAAS,SAAS,QAAQ,CAAC;AAAA,MACtF,uBAAuB,OACrB,SACA,SACG;AACH,eAAO,QACJ,KAAK,UAAQ;AACZ,yBAAe,EAAE,SAAS,KAAK,SAAS,SAAS,UAAU,CAAC;AAC5D,iBAAO;AAAA,QACT,CAAC,EACA,MAAM,MAAM;AACX,yBAAe,EAAE,SAAS,KAAK,OAAO,SAAS,QAAQ,CAAC;AAAA,QAC1D,CAAC;AAAA,MACL;AAAA,IACF;AAAA,EACF,GAAG,CAAC,gBAAgB,MAAM,CAAC;AAC7B;;;;ACVM;AAjCkB;AAEW;AAIN;AACI;AAEjC,SAAS,eAAe,OAAoB;AAC1C,QAAM,EAAE,SAAS,IAAI;AAErB,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI,gBAAgB,CAAC;AAErB,SACE;AAAA,IAAC,6BAAY,CAAC;AAAA,IAAb;AAAA,MACC,OAAO,iBAAO;AAAP,QACL,OAAO;AAAA,UACL,OAAO;AAAA,UACP,MAAM;AAAA,UACN,SAAS;AAAA,UACT,SAAS;AAAA,QACX;AAAA,QACA,CAAC,qBAAqB,oBAAoB,uBAAuB,qBAAqB;AAAA,MACxF;AAAA,MAEA,+CAAC,yBAAK,CAAC,UAAN,EAAe,UAAU,KACvB;AAAA;AAAA,QACA,MAAM,KAAK,MAAM,EAAE,IAAI,CAAC,CAAC,KAAK,KAAK,MAClC;AAAA,UAAC,yBAAK,CAAC;AAAA,UAAN;AAAA,YACC,SAAO;AAAA,YACP,YAAU;AAAA,YAEV,cAAc,UAAQ;AACpB,kBAAI,CAAC,KAAM,mBAAkB,GAAG;AAAA,YAClC;AAAA,YAEA,8CAAC,yBAAK,CAAC,OAAN,EACC,8CAAC,+BAAW,IAAC,SAAS,MAAM,SAAS,SAAS,MAAM,SAAS,GAC/D;AAAA;AAAA,UAPK;AAAA,QAQP,CACD;AAAA,QACD,oCAAC,yBAAK,CAAC,UAAN,EAAe;AAAA,SAClB;AAAA;AAAA,EACF;AAEJ;AAE0B;;;;;;;;;;;;;;;;ACjDjB;AANc;AAEe;AAE/B,SAAS,sBAAsB;AACpC,QAAM,EAAE,wBAAwB,0BAA0B,IAAI,iEAAqB,CAAC;AACpF,SAAO,oCAAC,gCAAM,IAAC,SAAS,EAAE,wBAAwB,0BAA0B,GAAG;AACjF;;;;;;;;ACFW;AAL2C;AAE/C,SAAS,WAAW,EAAE,UAAU,GAAG,KAAK,GAAc;AAC3D,SACE;AAAA,IAAC,wBAAI;AAAJ;AAAA,MACC,KAAK,oCAAC,mCAAe,IAAC,OAAM,8BAA6B,SAAQ,SAAQ;AAAA,MACzE,SAAQ;AAAA,MACR,OAAM;AAAA,MACN,WAAU;AAAA,MACV,WAAU;AAAA,MACT,GAAG;AAAA,MAEH;AAAA;AAAA,EACH;AAEJ;;;;;;;;;;AC4FI;AA3GwB;AAEK;AACA;AACF;AAOxB;AAQA;AAEoB;AAI3B,MAAM,WAGA;AAAA,EACJ;AAAA,IACE,OAAO;AAAA,IACP,OAAO;AAAA,EACT;AAAA,EACA;AAAA,IACE,OAAO;AAAA,IACP,OAAO;AAAA,EACT;AAAA,EACA;AAAA,IACE,OAAO;AAAA,IACP,OAAO;AAAA,EACT;AAAA,EACA;AAAA,IACE,OAAO;AAAA,IACP,OAAO;AAAA,EACT;AAAA,EACA;AAAA,IACE,OAAO;AAAA,IACP,OAAO;AAAA,EACT;AACF;AAMO,SAAS,kBAAkB,EAAE,kBAAkB,GAA2B;AAC/E,QAAM,EAAE,cAAc,eAAe,QAAQ,cAAc,IACzD,uCAAgB,CAAuB;AAEzC,QAAM,eAAe,qBAAW;AAAX,IACnB,CAAC,UAAkB;AACjB,WAAK,cAAc,aAAa,KAAK;AAAA,IACvC;AAAA,IACA,CAAC,aAAa;AAAA,EAChB;AAEA,QAAM,gBAAgB,qBAAW;AAAX,IACpB,CAAC,UAAkB;AACjB,WAAK,cAAc,cAAc,KAAK;AAAA,IACxC;AAAA,IACA,CAAC,aAAa;AAAA,EAChB;AAEA,WAAS,eAAe,OAAuB;AAC7C,YAAQ,OAAO;AAAA,MACb,KAAK;AACH,qBAAa,qBAAqB;AAClC,sBAAc,gDAA4B;AAC1C;AAAA,MACF,KAAK;AACH,qBAAa,6BAA6B;AAC1C,sBAAc,iDAA6B;AAC3C;AAAA,MACF,KAAK;AACH,qBAAa,6BAA6B;AAC1C,sBAAc,iDAA6B;AAC3C;AAAA,MACF,KAAK;AACH,qBAAa,6BAA6B;AAC1C,sBAAc,kCAAkC;AAChD;AAAA,MACF,KAAK;AACH,qBAAa,6BAA6B;AAC1C,sBAAc,mCAAmC;AACjD;AAAA,IACJ;AAAA,EACF;AAEA,oCAAU,CAAC,MAAM;AACf,QAAI,mBAAmB;AACrB;AAAA,IACF;AAEA,mBAAe,OAAO,cAAc;AAAA,EACtC,CAAC;AAED,SACE,6DACE;AAAA,yCAAC,yBAAK,CAAC,MAAN,EACC;AAAA,0CAAC,yBAAK,CAAC,OAAN,EAAY,kBAAI;AAAA,MACjB;AAAA,QAAC,yBAAK,CAAC;AAAA,QAAN;AAAA,UACC,WAAS;AAAA,UACT,eAAa,yCAAgB,CAAC;AAAA,UAC9B,UAAU;AAAA,UACV,MAAK;AAAA,UACL,OAAO,OAAO;AAAA,UACd,OAAM;AAAA;AAAA,MACR;AAAA,OACF;AAAA,IACA,oCAAC,yBAAK,IAAC,yBAAW;AAAA,IAElB;AAAA,MAAC,0BAAM,CAAC;AAAA,MAAP;AAAA,QACC,cAAc,cAAc,kBAAkB,SAAS,CAAC,EAAE;AAAA,QAC1D,eAAe,CAAC,UAA0B;AACxC,yBAAe,KAAK;AACpB,eAAK,cAAc,kBAAkB,KAAK;AAAA,QAC5C;AAAA,QAEA;AAAA,+CAAC,0BAAM,CAAC,SAAP,EAAe,eAAa,yCAAgB,CAAC,8BAC5C;AAAA,gDAAC,0BAAM,CAAC,OAAP,EAAa;AAAA,YACd,oCAAC,0BAAM,CAAC,MAAP,EACC,8CAAC,mCAAe,IAAC,SAAQ,SAAQ,GACnC;AAAA,aACF;AAAA,UACA,oCAAC,0BAAM,CAAC,QAAP,EACC,8CAAC,0BAAM,CAAC,SAAP,EAAe,OAAM,SAAQ,UAAS,UAAS,YAAY,GAC1D,8CAAC,0BAAM,CAAC,UAAP,EACE,mBAAS,IAAI,UACZ;AAAA,YAAC,0BAAM,CAAC;AAAA,YAAP;AAAA,cAEC,OAAO,KAAK;AAAA,cACZ,eAAa,sBAAsB,KAAK,KAAK;AAAA,cAE7C;AAAA,gBAAC,oCAAgB;AAAhB;AAAA,kBACC,aACE,qCAAC,kBAAM,IAAC,SAAQ,QAAO,KAAI,YAAW,OAAM,QAC1C;AAAA,wDAAC,0BAAM,CAAC,UAAP,EACC,8CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAY,eAAK,OAAM,GAChD;AAAA,oBACA,oCAAC,0BAAM,CAAC,eAAP,EACC,8CAAC,iCAAa,IAAC,SAAQ,SAAQ,GACjC;AAAA,qBACF;AAAA;AAAA,cAEJ;AAAA;AAAA,YAfK,KAAK;AAAA,UAgBZ,CACD,GACH,GACF,GACF;AAAA;AAAA;AAAA,IACF;AAAA,IAEA,oCAAC,yBAAK,IAAC,6BAAe;AAAA,IACtB,qCAAC,yBAAK,CAAC,MAAN,EACC;AAAA,0CAAC,yBAAK,CAAC,OAAN,EAAY,6BAAe;AAAA,MAC5B;AAAA,QAAC,yBAAK,CAAC;AAAA,QAAN;AAAA,UACC,UAAU;AAAA,UACV,MAAK;AAAA,UACL,OAAO,OAAO;AAAA,UACd,OAAM;AAAA,UACN,eAAa,yCAAgB,CAAC;AAAA;AAAA,MAChC;AAAA,OACF;AAAA,IACA,qCAAC,yBAAK,CAAC,MAAN,EACC;AAAA,0CAAC,yBAAK,CAAC,OAAN,EAAY,yBAAW;AAAA,MACxB;AAAA,QAAC,yBAAK,CAAC;AAAA,QAAN;AAAA,UACC,eAAa,yCAAgB,CAAC;AAAA,UAC9B,UAAU;AAAA,UACV,MAAK;AAAA,UACL,OAAO,OAAO;AAAA,UACd,OAAM;AAAA;AAAA,MACR;AAAA,OACF;AAAA,IACA,oCAAC,yBAAK,IAAC,4BAAc;AAAA,IACrB,qCAAC,yBAAK,CAAC,MAAN,EACC;AAAA,0CAAC,yBAAK,CAAC,OAAN,EAAY,kBAAI;AAAA,MACjB;AAAA,QAAC,yBAAK,CAAC;AAAA,QAAN;AAAA,UACC,QAAO;AAAA,UACP,UAAU;AAAA,UACV,MAAK;AAAA,UACL,OAAO,OAAO;AAAA,UACd,OAAM;AAAA,UACN,eAAa,yCAAgB,CAAC;AAAA;AAAA,MAChC;AAAA,OACF;AAAA,KACF;AAEJ;;;;;;;;ACrMO,SAAS,oBAAoB,MAAc;AAChD,SAAO,KAAK,QAAQ,QAAQ,EAAE;AAChC;;;;;;ACFyB;AACgB;AAEjB;AAQjB;AAEmB;AACC;AAES;AAI7B;AAMP,IAAK,gBAAL,kBAAKC,mBAAL;AACE,EAAAA,8BAAA,aAAU,aAAV;AACA,EAAAA,8BAAA,aAAU,cAAV;AAFG,SAAAA;AAAA;AAaL,MAAM,oBAA0C;AAAA,EAC9C,KAAK;AAAA,EACL,MAAM;AAAA,EACN,WAAW;AAAA,EACX,YAAY;AAAA,EACZ,gBAAgB;AAClB;AAEA,SAAS,qBAAqB;AAC5B,QAAM,EAAE,MAAM,IAAI,yCAAW,CAAC;AAE9B,SAAO;AAAA,IACL,mBAAmB,OAAO;AAAA,IAC1B,SAAS,OAAO;AAAA,EAClB;AACF;AAEA,SAAS,mBAAmB;AAC1B,QAAM,EAAE,QAAQ,IAAI,mBAAmB;AAEvC,MAAI,CAAC,SAAS;AACZ,WAAO;AAAA,EACT;AAEA,QAAM,wBAAwB,8CAA0B,CAAC,UAAU,OAAO,EAAE;AAE5E,MAAI,CAAC,uBAAuB;AAC1B,WAAO;AAAA,EACT;AAEA,SAAO;AAAA,IACL,KAAK,QAAQ;AAAA,IACb,MAAM,QAAQ;AAAA,IACd,WAAW,QAAQ,MAAM,OAAO;AAAA,IAChC,YAAY,QAAQ,MAAM,QAAQ;AAAA,IAClC,gBAAgB,QAAQ,MAAM,QAAQ;AAAA,IACtC,MAAM,QAAQ,MAAM,QAAQ;AAAA,EAC9B;AACF;AAEO,SAAS,gBAAgB;AAC9B,QAAM,CAAC,SAAS,UAAU,IAAI,kBAAQ,CAAC,KAAK;AAC5C,QAAM,CAAC,OAAO,QAAQ,IAAI,kBAAQ,CAAC,EAAE;AACrC,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,UAAU,uDAA4B,CAAC;AAC7C,QAAM,kBAAkB,6CAAkB,CAAC;AAC3C,QAAM,gBAAgB,iBAAiB;AACvC,QAAM,EAAE,kBAAkB,IAAI,mBAAmB;AAEjD,SAAO;AAAA,IACL;AAAA,IACA,mBAAmB;AAAA,IACnB;AAAA,IACA;AAAA,IACA,UAAU,OAAO,WAAiC;AAChD,YAAM,EAAE,MAAM,WAAW,YAAY,KAAK,eAAe,IAAI;AAE7D,UAAI,CAAC,MAAM;AACT,iBAAS,cAAc;AACvB;AAAA,MACF;AAEA,UAAI,CAAC,kCAAU,CAAC,SAAS,GAAG;AAC1B,iBAAS,8BAA8B;AACvC;AAAA,MACF;AAEA,UAAI,CAAC,kCAAU,CAAC,UAAU,GAAG;AAC3B,iBAAS,+BAA+B;AACxC;AAAA,MACF;AAEA,UAAI,CAAC,KAAK;AACR,iBAAS,oBAAoB;AAC7B;AAAA,MACF;AAEA,iBAAW,IAAI;AACf,eAAS,EAAE;AAEX,YAAM,aAAa,mBAAmB,CAAC,IAAI,IAAI,OAAO,SAAS,EAAE,IAAI;AACrE,YAAM,cAAc,mBAAmB,CAAC,IAAI,IAAI,OAAO,UAAU,EAAE,IAAI;AAEvE,UAAI;AACF,cAAM,kBAAkB,MAAM,QAAQ,QAAQ,GAAG,WAAW,iBAAiB;AAC7E,YAAI,CAAC,gBAAgB,GAAI,OAAM,IAAI,MAAM,2CAA2C;AACpF,cAAM,iBAAiB,MAAM,gBAAgB,KAAK;AAClD,YAAI,CAAC,MAAM,QAAQ,cAAc;AAC/B,gBAAM,IAAI,MAAM,2CAA2C;AAAA,MAC/D,SAASC,QAAO;AACd,iBAAS,2CAA2C;AACpD,mBAAW,KAAK;AAChB;AAAA,MACF;AAEA,UAAI;AACJ,UAAI;AACF,cAAM,iBAAiB,MAAM,QAAQ,QAAQ,GAAG,UAAU,UAAU;AACpE,0BAAkB,MAAM,eAAe,KAAK;AAC5C,YAAI,CAAC,gBAAiB,OAAM,IAAI,MAAM,uCAAuC;AAAA,MAC/E,SAASA,QAAO;AACd,iBAAS,uCAAuC;AAChD,mBAAW,KAAK;AAChB;AAAA,MACF;AAMA,YAAM,EAAE,YAAY,SAAS,mBAAmB,gBAAgB,IAAI;AAEpE,YAAM,WAAW,OAAO,gBAAgB,iCAAiC;AACzE,YAAM,qBACJ,aACC,oBAAoB,2BAAyB,oBAAoB;AAEpE,eAAS,sBAAsB;AAC7B,YAAI,cAAc,KAAK;AACrB,0BAAgB,cAAc,cAAc,GAAG;AAAA,QACjD;AAAA,MACF;AAEA,UAAI,oBAAoB;AACtB,cAAM,gBACJ,oBAAoB,0BAAwB,6BAAO,CAAC,UAAU,6BAAO,CAAC;AACxE,4BAAoB;AACpB,wBAAgB,WAAW;AAAA,UACzB,IAAI;AAAA,UACJ;AAAA,UACA,SAAS;AAAA;AAAA,UACT,eAAe;AAAA;AAAA,UACf,KAAK;AAAA,UACL;AAAA,UACA,MAAM,mDAA2B,CAAC,cAAc;AAAA,UAChD,YAAY;AAAA,QACd,CAAC;AACD,iBAAS,2BAAS,CAAC,IAAI;AAAA,MACzB,WAAW,YAAY,6BAAO,CAAC,WAAW,YAAY,6BAAO,CAAC,SAAS;AACrE,4BAAoB;AACpB,wBAAgB,WAAW;AAAA,UACzB,IAAI;AAAA,UACJ;AAAA,UACA;AAAA,UACA,KAAK;AAAA,UACL;AAAA,UACA,MAAM,mDAA2B,CAAC,cAAc;AAAA,UAChD,YAAY;AAAA,QACd,CAAC;AACD,iBAAS,2BAAS,CAAC,IAAI;AAAA,MACzB,OAAO;AACL,iBAAS,wCAAwC;AAAA,MACnD;AACA,iBAAW,KAAK;AAAA,IAClB;AAAA,EACF;AACF;;;;ACzKY;AA1BqB;AACJ;AACC;AAED;AAEF;AACN;AAEa;AACJ;AAOvB,SAAS,YAAY,EAAE,mBAAmB,MAAM,GAAqB;AAC1E,QAAM,EAAE,OAAO,mBAAmB,SAAS,SAAS,IAAI,aAAa,CAAC;AAEtE,SACE,oCAAC,yBAAM,IAAC,eAAe,mBAAmB,UACvC,WAAC,EAAE,aAAa,MACf;AAAA,IAAC,mBAAI;AAAJ;AAAA,MACC,cAAY;AAAA,MACZ,QACE;AAAA,QAAC,0BAAM;AAAN;AAAA,UACC,WAAS;AAAA,UACT,aAAW;AAAA,UACX,eAAa,yCAAgB,CAAC;AAAA,UAC9B,MAAK;AAAA,UACL,SAAS,MAAM,aAAa;AAAA,UAE3B;AAAA;AAAA,MACH;AAAA,MAGF,8CAAC,uBAAI,IAAC,eAAa,yCAAgB,CAAC,kBAClC;AAAA,QAAC,iBAAK;AAAL;AAAA,UACC,KAAI;AAAA,UACJ,UAAS;AAAA,UACT,IAAI,EAAE,MAAM,YAAY,IAAI,YAAY,IAAI,WAAW;AAAA,UACvD,IAAG;AAAA,UAEH;AAAA,iDAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,WAAU;AAAA;AAAA,cACY;AAAA,cAC3C;AAAA,gBAAC,wBAAI;AAAJ;AAAA,kBACC,MAAK;AAAA,kBACL,QAAO;AAAA,kBACP,KAAI;AAAA,kBACL;AAAA;AAAA,cAED;AAAA,cAAQ;AAAA,cAAI;AAAA,cACT;AAAA,cACH,oCAAC,wBAAI,IAAC,MAAK,uCAAsC,QAAO,UAAS,KAAI,cAAa,oCAElF;AAAA,cAAO;AAAA,eAET;AAAA,YACA,oCAAC,iBAAiB,IAAC,mBAAsC;AAAA,YACxD,QACC,oCAAC,UAAU,IAAC,eAAa,yCAAgB,CAAC,WAAY,iBAAM,IAC1D;AAAA;AAAA;AAAA,MACN,GACF;AAAA;AAAA,EACF,GAEJ;AAEJ;;;;;;;;;;;;;;;;;;AC3BU;AAzCkB;AAEM;AACQ;AACnB;AAE+B;AAE5B;AAEY;AACf;AACY;AACY;AACvB;AACC;AAUlB,SAAS,WAAW;AAAA,EACzB;AAAA,EACA,gBAAgB;AAAA,EAChB,wBAAwB;AAAA,EACxB;AACF,GAAoB;AAClB,QAAM,EAAE,wBAAwB,0BAA0B,IAAI,iEAAqB,CAAC;AACpF,QAAM,WAAW,yCAAW,CAAC;AAG7B,QAAM,WAAW,iBAAiB,MAAM,SAAS,cAAc,IAAI,MAAM,SAAS,EAAE;AACpF,QAAM,YAAY,CAAC;AACnB,SACE,oCAAC,oBAAM,IAAC,IAAI,EAAE,MAAM,YAAY,IAAI,WAAW,GAC7C;AAAA,IAAC,6BAAU;AAAV;AAAA,MACC,SACE,6DACG;AAAA,qBACC;AAAA,UAAC,8CAAkB;AAAlB;AAAA,YACC,MAAM,oCAAC,iCAAa,IAAC;AAAA,YACrB,UAAU;AAAA,YACV,YAAY,2DAAyB,CAAC;AAAA;AAAA,QACxC;AAAA,QAEF,oCAAC,uBAAO,IAAC,SAAS,MAAM,SAAS,2BAAS,CAAC,IAAI,GAAG;AAAA,SACpD;AAAA,MAEF,WAAW,SAAS,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cAAc,iBAAM;AAAA,MAC/D,UACE,oCAAC,qCAAkB,IAChB,0BACC;AAAA,QAAC,8CAAkB;AAAlB;AAAA,UACC,MAAM,oCAAC,6BAAS,IAAC;AAAA,UACjB,YAAY,2DAAyB,CAAC;AAAA,UACtC,UAAU,MAAM,SAAS,2BAAS,CAAC,IAAI;AAAA;AAAA,MACzC,IAEA,oCAAC,kBAAM,CAAC,KAAP,EAAW,WAAW,wBAAwB,SAAY,MACzD;AAAA,QAAC,wBAAQ;AAAR;AAAA,UACC,eAAe,oCAAC,+BAAW,IAAC,eAAa,2CAAiB,CAAC,iBAAiB;AAAA,UAC5E,qBAAqB,MAAM,0BAA0B,CAAC,sBAAsB;AAAA;AAAA,MAC9E,GACF,GAEJ;AAAA;AAAA,EAEJ,GACF;AAEJ;;;;AC/DI;AAV0B;AACH;AAOpB,SAAS,kBAAkB,EAAE,OAAO,SAAS,GAA2B;AAC7E,SACE,6DACE;AAAA,wCAAC,UAAU,IAAC,OAAc;AAAA,IAC1B,oCAAC,sBAAO,IACN,8CAAC,mBAAI,IAAE,UAAS,GAClB;AAAA,KACF;AAEJ;;;;ACXM;AARsB;AACM;AAElC,MAAM,QAAQ;AAEP,SAAS,aAAa;AAC3B,SACE,oCAAC,iBAAiB,IAAC,OACjB,8CAAC,WAAW,IAAC,OAAc,GAC7B;AAEJ;;;;ACHM;AARsB;AACM;AAElC,MAAM,kBAAK,GAAG;AAEP,SAAS,cAAc;AAC5B,SACE,oCAAC,iBAAiB,IAAC,KAAK,sBACtB,8CAAC,WAAW,IAAC,mBAAiB,MAAC,KAAK,sBAAS,GAC/C;AAEJ;;;;;;;;;;;;;;;;ACX0B;AAER;AAEmD;AAEtB;AAKxC;AAEe;AACW;AACI;AAEV;AACE;AAE7B,MAAM,+BAA+B;AAAA,EACnC,IAAI;AAAA,EACJ,UAAU;AAAA,EACV,SAAS;AAAA,EACT,SAAS,QAAO;AAAP,EACT,GAAI,kCAAI,IAAI,EAAE,IAAI,qCAAC;AAAA,EACnB,GAAI,oCAAM,IAAI,EAAE,MAAM,uCAAC;AACzB;AAEA,SAAS,yBAAyB;AAChC,QAAM,QAAQ,mBAAK,CAAC,SAAS;AAC7B,QAAM,iBAAiB,mDAAoB,CAAC,KAAK;AACjD,QAAM,aAAa,kDAAgB,CAAC,KAAK;AAEzC,SAAO;AAAA,IACL;AAAA,IACA;AAAA,EACF;AACF;AAEA,SAAS,aAAa,KAAa;AACjC,SAAO,IAAI,SAAS,6CAAyB,KAAK,IAAI,SAAS,6CAAyB;AAC1F;AAEA,SAAS,kCAAkC;AACzC,QAAM,WAAW,uBAAuB;AAExC,SAAO;AAAA,IACL,OAAO,SAAS;AAAA,IAChB,SAAS,SAAS,eAAe,KAAK,YAAY;AAAA,IAClD,qBAAqB,aAAa,SAAS,eAAe,MAAM,OAAO,GAAG;AAAA,IAC1E,YAAY,SAAS;AAAA,EACvB;AACF;AAEO,SAAS,wBAAwB;AACtC,qBAAS,CAAC,MAAM;AACd,QAAI,CAAC,qCAAiB,IAAI,+BAAW,CAAE;AACvC,uCAAa,CAAC;AAAA,EAChB,GAAG,CAAC,CAAC;AACP;AAEA,wDAAkC,CAAC,OAAO;AAAA,EACxC,GAAG;AAAA,EACH,GAAG,gCAAgC;AACrC,EAAE;AAEF,MAAM,2BAA2B,KAAC,CAAC,OAAO;AAAA,EACxC,WAAW,KAAC,CAAC,OAAO;AAAA,EACpB,YAAY,KAAC,CAAC,OAAO,KAAC,CAAC,QAAQ,CAAC,EAAE,SAAS;AAC7C,CAAC;AAED,MAAM,sBAAsB,KAAC,CAAC,MAAM,wBAAwB;AAE5D,MAAM,oBAAoB;AAEnB,SAAS,qCAAqC;AACnD,oCAAU,CAAC,MAAM;AACf,mBAAe,wBAAwB;AACrC,YAAM,oBAAoB,MAAM,OAAO,QAAQ,MAAM,IAAI,iBAAiB;AAE1E,UAAI;AACF,cAAM,SAAS,oBAAoB,MAAM,kBAAkB,iBAAiB,KAAK,CAAC,CAAC;AACnF,YAAI,CAAC,OAAO,OAAQ;AACpB,cAAM,OAAO,QAAQ,MAAM,OAAO,iBAAiB;AACnD,cAAM,QAAQ;AAAA,UACZ,OAAO,IAAI,CAAC,EAAE,WAAW,WAAW,MAAM,2BAAS,CAAC,MAAM,WAAW,UAAU,CAAC;AAAA,QAClF;AAAA,MACF,SAAS,GAAG;AACV,aAAK,2BAAS,CAAC,MAAM,kCAAkC;AAAA,MACzD;AAAA,IACF;AACA,SAAK,sBAAsB;AAAA,EAC7B,CAAC;AACH;;;;;;;;AC9F4B;AAEF;AAEI;AACL;AAElB,SAAS,mBAAmB;AACjC,QAAM,EAAE,iBAAiB,IAAI,wCAAa,CAAC;AAC3C,QAAM,QAAQ,6BAAQ,CAAC;AAEvB,SAAO,qBAAW,CAAC,MAAM;AACvB,SAAK,2BAAS,CAAC,MAAM,oBAAoB;AACzC,SAAK,MAAM,QAAQ,iBAAiB,GAAG;AAAA,MACrC,SAAS;AAAA,MACT,OAAO;AAAA,IACT,CAAC;AAAA,EACH,GAAG,CAAC,kBAAkB,KAAK,CAAC;AAC9B;;;;;;;;;;;;AClB4B;AAE8C;AAE3B;AACb;AAI3B,SAAS,8BAA8B;AAC5C,QAAM,UAAU,kBAAkB;AAClC,QAAM,WAAW,YAAY,8BAA8B;AAE3D,QAAM,iBAAiB,SAAS,KAAK,OAAK;AACxC,WACE,qBAAqB,EAAE,IAAI,MAC3B,oCAAoC,QAAQ,MAAM,QAAQ,IAAI;AAAA,EAElE,CAAC;AAED,SAAO;AACT;AAEO,SAAS,6BAA6B;AAC3C,QAAM,WAAW,mCAAW,CAAC,wDAA8B;AAC3D,QAAM,UAAU,gDAAiB,CAAC;AAElC,SAAO,SAAS,OAAO,OAAK;AAC1B,WACE,6CAAoB,CAAC,EAAE,IAAI,MAC3B,4DAAmC,CAAC,QAAQ,MAAM,QAAQ,IAAI;AAAA,EAElE,CAAC;AACH;;;;;;;;ACjCoC;AAEG;AAEvC,SAAS,cAAc,OAAe;AACpC,QAAM,CAAC,SAAS,UAAU,IAAI,kBAAQ,CAAC,MAAM,OAAO,WAAW,KAAK,EAAE,OAAO;AAE7E,qBAAS,CAAC,MAAM;AACd,UAAM,QAAQ,OAAO,WAAW,KAAK;AACrC,QAAI,MAAM,YAAY,SAAS;AAC7B,iBAAW,MAAM,OAAO;AAAA,IAC1B;AACA,UAAM,WAAW,MAAM,WAAW,MAAM,OAAO;AAC/C,WAAO,iBAAiB,UAAU,QAAQ;AAC1C,WAAO,MAAM,OAAO,oBAAoB,UAAU,QAAQ;AAAA,EAC5D,GAAG,CAAC,SAAS,KAAK,CAAC;AAEnB,SAAO;AACT;AAEO,SAAS,kBAAkB,OAAe;AAC/C,SAAO,cAAc,eAAe,KAAK,KAAK;AAChD;AAEO,SAAS,oBAAoB,UAA2B;AAC7D,SAAO,cAAc,eAAe,uBAAK,CAAC,eAAe,QAAQ,EAAE,CAAC,GAAG;AACzE;;;;AC1B0B;AAEnB,SAAS,oBAAoB,UAAsB;AACxD,qBAAS,CAAC,MAAM;AACd,UAAM,WAAW,MAAM,SAAS;AAChC,WAAO,iBAAiB,UAAU,QAAQ;AAC1C,WAAO,MAAM,OAAO,oBAAoB,UAAU,QAAQ;AAAA,EAC5D,GAAG,CAAC,QAAQ,CAAC;AACf;;;;ACyBI;AAjCgC;AAEhB;AAEgB;AACA;AAQpC,SAAS,WAAW,IAAY;AAC9B,QAAM,gBAAgB,CAAC,GAAG,QAAQ,MAAM,EAAE;AAC1C,SAAQ,gBAAgB,OAAO,cAAe;AAChD;AAEO,SAAS,gBAAgB,EAAE,UAAU,WAAW,QAAQ,GAAoB;AACjF,QAAM,CAAC,KAAK,MAAM,IAAI,kBAAQ,CAAC,CAAC;AAChC,QAAM,cAAc,mBAAmB,CAAC,IAAI;AAC5C,QAAM,gBAAgB,cAAc,SAAS;AAC7C,QAAM,eAAe,UAAU,MAAM;AACrC,QAAM,eAAe,YAAY,KAAK;AACtC,QAAM,eAAe,eAAe;AACpC,QAAM,SAAS,WAAW,aAAa,IAAI;AAE3C,QAAM,WAAW,MAAM;AACrB,WAAO,KAAK,IAAI,CAAC;AAAA,EACnB;AAEA,qBAAmB,CAAC,QAAQ;AAC5B,SACE;AAAA,IAAC,eAAG;AAAH;AAAA,MAEC,IAAG;AAAA,MACH,UAAS;AAAA,MACT,OAAO;AAAA,QACL;AAAA,QACA,cAAc,YAAY,GAAG,YAAY,OAAO;AAAA,MAClD;AAAA,MAEC;AAAA;AAAA,IARI;AAAA,EASP;AAEJ;;;;AClCM;AAX4B;AAE3B,SAAS,yBAAyB;AACvC,SACE;AAAA,IAAC,gBAAI;AAAJ;AAAA,MACC,eAAc;AAAA,MACd,gBAAe;AAAA,MACf,WAAU;AAAA,MACV,IAAG;AAAA,MACH,IAAG;AAAA,MAEH,+CAAC,eAAG,IACF;AAAA,4CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAW,gDAAkC;AAAA,QACpE,oCAAC,kBAAM,CAAC,MAAP,EAAY,IAAG,YAAW,WAAU,WAAU,2JAG/C;AAAA,SACF;AAAA;AAAA,EACF;AAEJ;;;;;;ACpB0B;AAEE;AAErB,eAAe,mBAAmB,SAAiB,OAAe;AACvE,QAAM,sBAAsB,8BAAW,CAAC,aAAa,CAAC,2BAA2B,OAAO,CAAC;AACzF,MAAI,CAAC,oBAAqB;AAC1B,MAAI;AACF,UAAM,gBAAgB,CAAC,CAAE,oBAA4B,IAAI,YAAY,OAAO,cAAc,CAAC;AAC3F,SAAK,2BAAS,CAAC,MAAM,kBAAkB,EAAE,OAAO,cAAc,CAAC;AAAA,EACjE,UAAE;AAAA,EACF;AACF;;;;ACZ4B;AAEW;AAMhC;AAE4B;AACL;AAE9B,MAAM,UAAU;AAET,SAAS,iBAAiB,UAAuB;AACtD,QAAM,EAAE,cAAc,IAAI,wCAAa,CAAC;AACxC,QAAM,iBAAiB,wDAAuB,CAAC;AAC/C,QAAM,WAAW,kDAAiB,CAAC;AACnC,QAAM,UAAU,2DAA0B,CAAC;AAC3C,QAAM,qBAAqB,6DAA4B,CAAC;AACxD,QAAM,CAAC,aAAa,cAAc,IAAI,mDAAsB,CAAC;AAE7D,QAAM,sBAAsB,qBAAW;AAAX,IAC1B,OAAO,UAAkB;AACvB,qBAAe,IAAI;AACnB,oBAAc,KAAK;AACnB,UAAI,SAAU,YAAW,MAAM,SAAS,GAAG,OAAO;AAClD,UAAI,CAAC,SAAU;AACf,WAAK,kBAAkB,CAAC,SAAS,KAAK,GAAG,SAAS,KAAK;AAAA,IACzD;AAAA,IACA,CAAC,gBAAgB,eAAe,UAAU,QAAQ;AAAA,EACpD;AAEA,QAAM,cAAc,qBAAW;AAAX,IAClB,CAAC,UACC,OAAO,YAAY,YAAY,CAAC,cAC5B,UAAU,UACV,UAAU,gBAAgB;AAAA,IAChC,CAAC,SAAS,aAAa,cAAc;AAAA,EACvC;AAEA,SAAO,EAAE,qBAAqB,aAAa,mBAAmB;AAChE;;;;;;;;;;AC3CqB;AACM;AAIpB,MAAM,eAAe,oCAAU,CAAC,YAAU;AAC/C,QAAM,SAAS,wBAAI,CAAe,MAAM;AACxC,SAAO,aAAa,gBAAgB,MAAM;AAC1C,SAAO;AACT,CAAC;;;;ACTuB;AAEK;AAEtB,SAAS,gBAAgB,KAAa;AAC3C,SAAO,6BAAO,CAAC,YAAY,CAAC,GAAG,CAAC;AAClC;;;;ACNgC;AAEzB,IAAK,cAAL,kBAAKC,iBAAL;AACL,EAAAA,aAAA,kCAA+B;AAC/B,EAAAA,aAAA,6BAA0B;AAC1B,EAAAA,aAAA,gCAA6B;AAHnB,SAAAA;AAAA;AAML,SAAS,WAAW,KAAa;AACtC,QAAM,CAAC,OAAO,QAAQ,IAAI,eAAe,CAAC,GAAG;AAE7C,QAAM,eAAe,MAAM,SAAS,SAAS;AAC7C,QAAM,YAAY,MAAM,SAAS,MAAM;AAEvC,QAAM,YAAY,UAAU;AAC5B,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF;;;;;;;;ACpBwB;AAKjB;AACoE;AAEtB;AAM9C,SAAS,gBAAgB,EAAE,YAAY,WAAW,GAAwB;AAE/E,QAAM,gBAAgB,8DAAsC,CAAC,KAAK;AAClE,QAAM,gBAAgB,8DAAsC,CAAC,KAAK;AAGlE,QAAM,EAAE,sBAAsB,yBAAyB,kCAAkC,IACvF,gDAAwB,CAAC,UAAU;AAErC,QAAM;AAAA,IACJ,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,WAAW;AAAA,IACX,WAAW;AAAA,EACb,IAAI;AAEJ,QAAM,aAAa,UAAU,QAAQ,eAAe,kCAAW,CAAC,GAAG,KAAK;AAGxE,QAAM;AAAA,IACJ,SAAS;AAAA,IACT,WAAW;AAAA,IACX,oBAAoB,EAAE,YAAY,sBAAsB,WAAW,oBAAoB;AAAA,IACvF,yBAAyB;AAAA,EAC3B,IAAI,+EAAoC,CAAC,UAAU;AAEnD,SAAO,iBAAO,CAAC,MAAM;AAEnB,UAAM,eAAe,gDAAyB,CAAC,YAAY,aAAa;AACxE,UAAM,eAAe,gDAAyB,CAAC,WAAW,kBAAkB,aAAa;AAEzF,UAAM,eAAe,EAAE,GAAG,cAAc,QAAQ,aAAa,OAAO,KAAK,aAAa,MAAM,EAAE;AAC9F,WAAO;AAAA,MACL,YAAY,wBAAwB;AAAA,MACpC,WAAW,uBAAuB;AAAA,MAClC,WAAW,uBAAuB;AAAA,MAClC;AAAA,MACA,iBAAiB,yCAAkB;AAAlB,QACf;AAAA,QACA,aAAa,OAAO,uBAAuB,GAAO,IAAI,IAAI;AAAA,MAC5D;AAAA,MACA,yBACE,qCAAqC;AAAA,IACzC;AAAA,EACF,GAAG;AAAA,IACD,WAAW;AAAA,IACX;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AACH;;;;;;AC3CQ;AA7Ba;AAEE;AAEuB;AAEd;AACJ;AAOrB,MAAM,sBAAsB,cAAI,CAAC,CAAC,EAAE,YAAY,WAAW,MAAgC;AAChG,QAAM,EAAE,iBAAiB,YAAY,WAAW,wBAAwB,IAAI,eAAe,CAAC;AAAA,IAC1F;AAAA,IACA;AAAA,EACF,CAAC;AAED,MAAI,CAAC,gBAAiB,QAAO;AAE7B,SACE,oCAAC,kCAAc,IAAC,QAAO,QAAO,WAC5B;AAAA,IAAC,kBAAM,CAAC;AAAA,IAAP;AAAA,MACC,WAAW,iCAAa;AAAb,MACX,WAAU;AAAA,MACV,cAAY,2BAA2B,aAAa,YAAY;AAAA,MAEhE,8CAAC,+BAAW,IAAE,2BAAgB;AAAA;AAAA,EAChC,GACF;AAEJ,CAAC;;;;;;AC/BsC;AAIhC;AAOA,SAAS,2BAA2B;AAAA,EACzC;AAAA,EACA;AACF,GAAoC;AAClC,QAAM,iBAAiB,wDAAuB,CAAC;AAC/C,MAAI,CAAC,eAAgB,QAAO;AAC5B,SAAO,SAAS,cAAc;AAChC;AAgBO,SAAS,oBAAoB,EAAE,UAAU,GAAG,MAAM,GAA6B;AACpF,QAAM,iBAAiB,kDAAiB,CAAC;AACzC,QAAM,sBAAsB,mDAAsB,CAAC;AACnD,QAAM,cAAc,aAAa,QAAQ,sBAAsB,MAAM;AAErE,QAAM,UAAU,eAAe,WAAW;AAC1C,MAAI,CAAC,QAAS,QAAO;AACrB,SAAO,SAAS,OAAO;AACzB;;;;AC9BM;AAdiB;AAEkB;AACV;AAEkB;AACb;AAK7B,SAAS,kBAAkB,EAAE,MAAM,GAA0B;AAClE,SACE,oCAAC,kBAAM,IAAC,YAAW,UAAS,KAAI,YAAW,YAAW,UACpD,+CAAC,mCAAe,IACd;AAAA,wCAAC,mBAAmB,IAAC,OAClB,uBAAW,oCAAC,2BAAO,IAAE,+CAAc,CAAC,QAAQ,SAAS,CAAC,GAAE,GAC3D;AAAA,IACA,oCAAC,8DAAgC,IAAC,OAC/B,sBAAU,oCAAC,2BAAO,IAAE,+CAAc,CAAC,OAAO,SAAS,CAAC,GAAE,GACzD;AAAA,KACF,GACF;AAEJ;;;;ACiBU;AAvCwB;AAEqC;AAErC;AAa3B,SAAS,sBAAsB,OAAmC;AACvE,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI;AAEJ,QAAM,yBAAyB,iBAAiB,CAAC,GAAG;AAEpD,QAAM,UACJ;AAAA,IAAC,8BAAU;AAAV;AAAA,MACC;AAAA,MACA,KAAK,yBAAyB,SAAS;AAAA,MACvC,WAAW;AAAA,MACX,YACE,YACE,oCAAC,2BAAO,IAAC,OAAM,oBAAmB,UAAS,YAAW,OAAO,GAAG,KAAI,mBAAkB,IAEtF;AAAA,MAGJ,aAAa;AAAA;AAAA,EACf;AAGF,SACE;AAAA,IAAC,6BAAS;AAAT;AAAA,MACC,eAAa,2CAAiB,CAAC,uBAAuB,QAAQ,WAAW,GAAG,KAAK,EAAE;AAAA,MAEnF,SAAS;AAAA,MAER,wBACC,oCAAC,wBAAI,IAAC,SAAO,MAAC,KAAK,oCAAC,oCAAgB,IAAC,SAAQ,SAAQ,GAClD,mBACH,IAEA;AAAA;AAAA,IARG,WAAW,KAAK;AAAA,EAUvB;AAEJ;;;;ACpDI;AAbiB;AAEwB;AAEf;AAOvB,MAAM,oBAAoB,cAAI;AAAJ,EAC/B,CAAC,EAAE,UAAU,WAAW,GAAG,KAAK,MAC9B;AAAA,IAAC,kBAAM,CAAC;AAAA,IAAP;AAAA,MACC,WAAW,iCAAa;AAAb,MACX,WAAU;AAAA,MACV,aAAW;AAAA,MACX,cAAY,YAAY,YAAY;AAAA,MACnC,GAAG;AAAA,MAEH;AAAA;AAAA,EACH;AAEJ;;;;;;;;ACbS;AAVY;AAES;AAOvB,MAAM,oBAAoB,cAAI,CAAC,CAAC,EAAE,MAAM,WAAW,MAAM,MAA8B;AAC5F,SAAO,oCAAC,mCAAa,IAAC,OAAc,MAAY,WAAsB;AACxE,CAAC;;;;ACiCyB;AA5CL;AAEiB;AACL;AACN;AACS;AACF;AACI;AACJ;AACI;AACJ;AACA;AAO3B,MAAM,wBAAwB,cAAI;AAAJ,EACnC,CAAC,EAAE,aAAa,qBAAqB,MAAM,MAAkC;AAC3E,UAAM,iBAAiB,kDAAiB,CAAC;AACzC,UAAM,aAAa,eAAe,KAAK,GAAG,WAAW;AACrD,UAAM,gBAAgB,6DAAqB,CAAC,KAAK;AACjD,UAAM,aAAa,gBAAgB,CAAC,EAAE,WAAW;AAEjD,UAAM,EAAE,WAAW,cAAc,UAAU,IAAI,UAAU;AAAV,MAC7C,oBAAoB,cAAc,CAAU;AAAV,IACpC;AACA,UAAM,EAAE,oBAAoB,IAAI,gBAAgB,CAAC,WAAW;AAC5D,UAAM,EAAE,MAAM,OAAO,IAAI,YAAY,kBAAkB,IAAI,kDAAqB,CAAC;AAAA,MAC/E,SAAS;AAAA,MACT;AAAA,IACF,CAAC;AAED,UAAM,cAAc,YAAY;AAC9B,mBAAa;AACb,iBAAW,YAAY;AACrB,cAAM,oBAAoB,KAAK;AAC/B,kBAAU;AAAA,MACZ,GAAG,EAAE;AAAA,IACP;AAEA,WACE;AAAA,MAAC,qBAAqB;AAArB;AAAA,QACC,kBAAkB,oCAAC,iBAAiB,IAAC,OAAc;AAAA,QACnD,aAAa,oCAAC,iBAAiB,IAAC,WAAW,mBAAoB,gBAAK;AAAA,QACpE,QACE;AAAA,UAAC,iBAAiB;AAAjB;AAAA,YACC;AAAA,YACA,WAAW,eAAe,KAAK,GAAG,gBAAgB;AAAA,YAClD;AAAA;AAAA,QACF;AAAA,QAEF,cAAc,oCAAC,mBAAmB,IAAC,YAAwB,YAAwB;AAAA,QACnF;AAAA,QACA;AAAA,QACA,YAAY,wBAAwB;AAAA,QACpC,iBAAiB;AAAA;AAAA,IACnB;AAAA,EAEJ;AACF;;;;ACxBW;AArCU;AACI;AAEL;AAEuB;AAEV;AACH;AACS;AACI;AACT;AACF;AAEO;AACD;AAO/B,MAAM,qBAAqB,cAAI,CAAC,CAAC,EAAE,WAAW,QAAQ,MAA+B;AAC1F,QAAM,sBAAsB,mDAAsB,CAAC;AACnD,QAAM,gBAAgB,gBAAgB,CAAC;AACvC,QAAM,EAAE,WAAW,IAAI,wCAAa,CAAC;AACrC,QAAM,iBAAiB,kDAAiB,CAAC;AACzC,QAAM,kBAAkB,0BAA0B,CAAC;AACnD,QAAM,kBAAkB,gBAAgB,SAAS;AACjD,QAAM,qBAAqB,eAAe;AAE1C,QAAM,kBAAkB,MAAM;AAC5B,kBAAc;AACd,YAAQ;AAAA,EACV;AAEA,MAAI,aAAa,uBAAuB,KAAK,oBAAoB,GAAG;AAClE,WAAO,oCAAC,sBAAsB,IAAC;AAAA,EACjC;AAIA,MAAI,CAAC,UAAW,QAAO;AAEvB,QAAM,aAAa,sBAAsB;AAEzC,SACE;AAAA,IAAC,yBAAK;AAAL;AAAA,MACC,QAAQ,oCAAC,+BAAW,IAAC,OAAM,kBAAiB;AAAA,MAC5C;AAAA,MACA;AAAA,MACA,cAAc;AAAA,MACd,QAAQ,WAAW;AAAA,QACjB,UACE,oCAAC,0BAAM,IAAC,WAAS,MAAC,SAAS,MAAM,gBAAgB,GAAG,gCAEpD;AAAA,QAEF,QAAQ;AAAA,MACV,CAAC;AAAA,MAED,8CAAC,eAAe,IAAC,WAAW,WAAW,EAAE,QAAQ,OAAO,UAAU,KAAK,CAAC,GACtE;AAAA,QAAC,oCAAQ;AAAR;AAAA,UACC,OAAO;AAAA,YACL,QAAQ;AAAA,UACV;AAAA,UACA,yBAAyB,WAAW,EAAE,QAAQ,GAAG,UAAU,oBAAoB,CAAC;AAAA,UAChF,YAAY;AAAA,UACZ,aAAa,WACX,oCAAC,eAAG,IAAa,IAAG,YAAW,IAAG,YAChC;AAAA,YAAC,qBAAqB;AAArB;AAAA,cACC,aAAa;AAAA,cACb;AAAA,cACA;AAAA;AAAA,UACF,KALQ,KAMV;AAAA;AAAA,MAEJ,GACF;AAAA;AAAA,EACF;AAEJ,CAAC;;;;;;;;;;AChDW;AAjCsB;AAER;AAOnB,SAAS,gBAAgB,OAA6B;AAC3D,QAAM,EAAE,IAAI,OAAO,MAAM,cAAc,eAAe,KAAK,UAAU,aAAa,UAAU,IAC1F;AAEF,SACE,oCAAC,gBAAI,IAAC,UAAS,YAAW,IAAG,YAAW,IAAG,YAAW,OAAM,QAAO,gBAAe,UAChF;AAAA,IAAC,gBAAI;AAAJ;AAAA,MACC,KAAI;AAAA,MACJ,eAAe,CAAC,UAAU,MAAM,KAAK;AAAA,MACrC,OAAM;AAAA,MACN,UAAU,EAAE,MAAM,SAAS,IAAI,mBAAmB;AAAA,MAClD,IAAI,CAAC,SAAS,UAAU;AAAA,MAEvB;AAAA,uBACC;AAAA,UAAC,kBAAM,CAAC;AAAA,UAAP;AAAA,YACC,UAAS;AAAA,YACT,GAAE;AAAA,YACF,KAAK,CAAC,SAAS,MAAM,KAAK;AAAA,YAC1B,IAAI,CAAC,YAAY,MAAM,OAAO;AAAA,YAC9B,WAAW,CAAC,MAAM,MAAM,kBAAkB;AAAA,YAC1C,OAAO,CAAC,aAAa,UAAU;AAAA,YAC/B,QAAQ,EAAE,SAAS,kBAAkB;AAAA,YACrC,SAAS,MAAM,UAAU,EAAE;AAAA,YAE3B,8CAAC,6BAAS,IAAC;AAAA;AAAA,QACb;AAAA,QAED,OACC,oCAAC,eAAG,IAAC,IAAI,CAAC,YAAY,MAAM,OAAO,GACjC,8CAAC,SAAI,OAAO,UAAU,KAAK,KAAK,GAClC;AAAA,QAEF,qCAAC,eAAG,IACD;AAAA,mBACC,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAW,SAAQ,SAAQ,YAAW,WAC1D,iBACH;AAAA,UAEF;AAAA,YAAC,kBAAM,CAAC;AAAA,YAAP;AAAA,cACC,WAAU;AAAA,cACV,SAAQ;AAAA,cACR,UAAS;AAAA,cACT,IAAG;AAAA,cACH,YAAW;AAAA,cAEV;AAAA;AAAA,gBACA,gBACC;AAAA,kBAAC,kBAAM,CAAC;AAAA,kBAAP;AAAA,oBACC,WAAU;AAAA,oBACV,gBAAe;AAAA,oBACf,MAAM;AAAA,oBACN,YAAW;AAAA,oBACX,QAAO;AAAA,oBACP,IAAG;AAAA,oBAEF,0BAAgB,gBAAgB;AAAA;AAAA,gBACnC;AAAA;AAAA;AAAA,UAEJ;AAAA,WACF;AAAA;AAAA;AAAA,EACF,GACF;AAEJ;;;;ACvCM;AAjCsB;AAEI;AAEN;AAEe;AACF;AACL;AACK;AAEP;AAEzB,SAAS,cAAc,OAAkB;AAC9C,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,WAAW,wDAAwB,CAAC;AAE1C,QAAM,EAAE,KAAK,IAAI,iDAAsB,CAAC;AACxC,QAAM,iBAAiB,8CAAiB,CAAC;AACzC,QAAM,eAAe,8DAAsB,CAAC;AAE5C,MAAI,SAAS,aAAa,2BAAS,CAAC,QAAQ,SAAS,WAAW,EAAG,QAAO;AAE1E,QAAM,eAAe,SAAS,OAAO,SAAO,CAAC,aAAa,SAAS,IAAI,EAAE,CAAC,EAAE,CAAC;AAE7E,MAAI,CAAC,aAAc,QAAO;AAE1B,MAAI,aAAa,gBAAgB,SAAS,aAAa,gBAAgB,MAAM;AAC3E,WAAO;AAAA,EACT;AAEA,SACE,oCAAC,gBAAI,IAAC,IAAG,4BAA4B,GAAG,OACtC,8CAAC,eAAe,IAAC,WAAW,eAAa,eAAe,SAAS,GAAI,GAAG,cAAc,GACxF;AAEJ;;;;;;ACpCgC;AAGL;AAEpB,SAAS,mBAAmB,SAAyC;AAC1E,oCAAU,CAAC,MAAM;AACf,WAAO,QAAQ,UAAU,YAAY,CAAC,SAA6B,SAAS,iBAAiB;AAC3F,UAAI,SAAS,WAAW,qCAAe,CAAC,eAAgB,SAAQ,QAAQ,QAAQ,YAAY;AAC5F,mBAAa;AAAA,IACf,CAAC;AAAA,EACH,CAAC;AACH;;;;;;ACZ2B;AACA;AAEpB,SAAS,aAAa,SAAqB;AAChD,oCAAU,CAAC,MAAM;AACf,WAAO,QAAQ,UAAU,YAAY,CAAC,SAAS,SAAS,iBAAiB;AACvE,UAAI,SAAS,WAAW,sCAAU,CAAC,QAAQ,KAAM,SAAQ;AACzD,mBAAa;AAAA,IACf,CAAC;AAAA,EACH,CAAC;AACH;;;;;;ACV2B;AACQ;AAE5B,SAAS,gBAAgB,SAAqB;AACnD,oCAAU,CAAC,MAAM;AACf,WAAO,QAAQ,UAAU,YAAY,CAAC,SAAS,SAAS,iBAAiB;AACvE,UAAI,SAAS,WAAW,+CAAkB,CAAC,WAAW,KAAM,SAAQ;AACpE,mBAAa;AAAA,IACf,CAAC;AAAA,EACH,CAAC;AACH;;;;;;ACVO,SAAS,eAAyC;AACvD,SAAO,IAAI;AAAA,IAAQ,aACjB,OAAO,KAAK,MAAM,EAAE,eAAe,MAAM,QAAQ,KAAK,GAAG,UAAQ,QAAQ,KAAK,CAAC,CAAC,CAAC;AAAA,EACnF;AACF;;;;;;ACJ4B;AAEC;AAEF;AACC;AAK5B,IAAI,eAAe;AACnB,eAAe,MAAM;AACnB,QAAM,MAAM,MAAM,YAAY,CAAC;AAI/B,MAAI,CAAC,IAAK;AACV,iBAAe,IAAI,MAAM;AAC3B;AACA,KAAK,IAAI;AAEF,SAAS,sBAAsB;AACpC,QAAM,WAAW,yCAAW,CAAC;AAE7B,oCAAU,CAAC,YAAY;AACrB,QAAI,CAAC,oCAAW,CAAC,KAAK,CAAC,gBAAgB,CAAC,OAAO,QAAQ,QAAS;AAChE,UAAM,MAAM,gBAAgB,aAAa,SAAS;AAClD,UAAM,QAAQ,MAAM,OAAO,QAAQ,QAAQ,IAAI,gBAAgB,aAAa,SAAS,CAAC;AACtF,UAAM,iBAAiB,MAAM,GAAG;AAChC,QAAI,CAAC,kBAAkB,CAAC,eAAe,OAAQ;AAC/C,aAAS,UAAU,eAAe,QAAQ,EAAE,OAAO,eAAe,CAAC;AAAA,EACrE,CAAC;AACH;;;;ACQkC;AAxCE;AACA;AAGR;AACF;AAKnB;AACyB;AACD;AACI;AACL;AACK;AACN;AACG;AACsB;AACxB;AAEM;AAE7B,SAAS,YAAY;AAC1B,QAAM,EAAE,UAAU,iBAAiB,IAAI,yCAAW,CAAC;AACnD,QAAM,WAAW;AACjB,QAAM,CAAC,wBAAwB,yBAAyB,IAAI,kBAAQ,CAAC,KAAK;AAC1E,QAAM,WAAW,gCAAc,CAAC;AAEhC,QAAM,qBAAqB,uCAAqB,CAAC;AAEjD,iBAAe,CAAC,MAAM,6BAAW,CAAC,CAAC;AACnC,cAAY,CAAC,MAAM,6BAAW,CAAC,CAAC;AAChC,qBAAmB,CAAC;AACpB,uBAAqB,CAAC;AACtB,oCAAkC,CAAC;AACnC,oBAAkB,CAAC,WAAS,SAAS,oCAAa,CAAC,QAAQ,cAAc,KAAK,CAAC,CAAC;AAEhF,qBAAS,CAAC,MAAM,KAAK,2BAAS,CAAC,KAAK,QAAQ,GAAG,QAAQ,EAAE,GAAG,CAAC,QAAQ,CAAC;AAEtE,MAAI,CAAC,mBAAoB,QAAO,oCAAC,cAAc,IAAC;AAEhD,SACE,6DACG;AAAA,8BACC;AAAA,MAAC,kBAAkB;AAAlB;AAAA,QACC,WAAW;AAAA,QACX,SAAS,MAAM,0BAA0B,KAAK;AAAA;AAAA,IAChD;AAAA,IAEF,oCAAC,aAAa,IAAC;AAAA,IACf,oCAAC,8BAAe,IACd,8CAAC,gCAAM,IAAC,SAAS,EAAE,wBAAwB,0BAA0B,GAAG,GAC1E;AAAA,KACF;AAEJ;;;;ACxCiB;AAhBiB;AAEN;AAEU;AACf;AACwB;AACvB;AACC;AAElB,SAAS,aAAa;AAC3B,QAAM,EAAE,wBAAwB,0BAA0B,IAAI,iEAAqB,CAAC;AAEpF,SACE,oCAAC,oBAAM,IACL;AAAA,IAAC,6BAAU;AAAV;AAAA,MACC,SAAS,oCAAC,uBAAO,IAAC,WAAW,QAAW;AAAA,MACxC,UACE,oCAAC,qCAAkB,IACjB;AAAA,QAAC,wBAAQ;AAAR;AAAA,UACC,eAAe,oCAAC,+BAAW,IAAC,eAAa,2CAAiB,CAAC,iBAAiB;AAAA,UAC5E,qBAAqB,MAAM,0BAA0B,CAAC,sBAAsB;AAAA;AAAA,MAC9E,GACF;AAAA;AAAA,EAEJ,GACF;AAEJ;;;;;;;AC5BoC;AACR;AAEZ;AAEY;AAWrB,SAAS,iBAAiB,UAAkB,cAAuB;AACxE,QAAM,WAAW,yCAAW,CAAC;AAC7B,SAAO,oBAAG,CAAC,UAAU,SAAS,QAAQ,IAAI,YAAY;AACxD;AAIO,SAAS,0BAAsC,UAAkB,cAAkB;AACxF,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,CAAC,OAAO,QAAQ,IAAI,kBAAQ,CAAC,YAAY;AAC/C,QAAM,WAAW,oBAAG,CAAC,UAAU,SAAS,QAAQ,EAAE;AAElD,qBAAS,CAAC,MAAM;AACd,QAAI,CAAC,kCAAW,CAAC,QAAQ,EAAG,UAAS,QAAQ;AAAA,EAC/C,GAAG,CAAC,UAAU,UAAU,QAAQ,CAAC;AAEjC,SAAO,YAAY,SAAS;AAC9B;;;;;;;;;;;;;AChCsB;AAyBf,MAAM,oBAAoB;AAAA,EAA1B;AACL,yCAAgB;AAChB,0CAAiB;AACjB,yCAAgB;AAChB,gDAAuB;AACvB,+CAAsB;AACtB,+CAAsB;AACtB,0CAAiB;AACjB,2CAAkB;AAClB,0CAAiB;AACjB,yCAAgB;AAChB,wCAAe;AACf,uCAAc;AACd,0CAAiB;AACjB,wDAAmD;AAAA,MACjD;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAEA,yCAA+B;AAAA,MAC7B,aAAa;AAAA,MACb,cAAc;AAAA,MACd,SAAS;AAAA,MACT,SAAS;AAAA,MACT,oBAAoB;AAAA,MACpB,mBAAmB;AAAA,MACnB,0BAA0B;AAAA,MAC1B,yBAAyB;AAAA,MACzB,qBAAqB;AAAA,MACrB,oBAAoB;AAAA,MACpB,mBAAmB;AAAA,IACrB;AAEA,kCAAwB,EAAE,GAAG,KAAK,cAAc;AAAA;AAAA,EAEhD,6BAA6B,QAAgB;AAC3C,QAAI,SAAS,IAAI;AACf,aAAO;AAAA,IACT,WAAW,UAAU,KAAK;AACxB,aAAO;AAAA,IACT,WAAW,UAAU,OAAO;AAC1B,aAAO;AAAA,IACT,WAAW,UAAU,YAAY;AAC/B,aAAO;AAAA,IACT,OAAO;AACL,YAAM,IAAI,MAAM,oCAAoC;AAAA,IACtD;AAAA,EACF;AAAA,EAEA,gBAAgB,QAAgB;AAC9B,QAAI,SAAS,KAAK;AAChB,aAAO;AAAA,IACT,WAAW,SAAS,OAAO;AACzB,aAAO;AAAA,IACT,WAAW,SAAS,YAAY;AAC9B,aAAO;AAAA,IACT,WAAW,IAAI,wBAAS,CAAC,MAAM,EAAE,WAAW,sBAAsB,GAAG;AACnE,aAAO;AAAA,IACT,OAAO;AACL,YAAM,IAAI,MAAM,iBAAiB;AAAA,IACnC;AAAA,EACF;AAAA,EAEA,oBAAoB,cAAgC,aAAqB,cAAsB;AAC7F,QAAI;AACJ,QAAI,iBAAiB,WAAW,iBAAiB,QAAQ;AACvD,uBAAiB;AAAA,IACnB,OAAO;AAEL,uBACE;AAAA,MACA;AAAA,MACA,KAAK,gBAAgB,WAAW,IAAI;AAAA,IACxC;AAEA,WACE;AAAA,IACA,KAAK,gBAAgB,WAAW;AAAA,IAChC,KAAK,gBAAgB,YAAY;AAAA,IACjC;AAAA,IACA;AAAA,EAEJ;AAAA,EAEA,2BAA2B,cAAgC,aAAqB;AAC9E,QAAI;AACJ,QAAI,iBAAiB,WAAW,iBAAiB,QAAQ;AACvD,uBAAiB;AAAA,IACnB,OAAO;AAEL,uBACE;AAAA,MACA;AAAA,MACA,KAAK,gBAAgB,WAAW,IAAI;AAAA,IACxC;AAEA,WAAO,iBAAiB;AAAA,EAC1B;AAAA,EAEA,cAAc,MAA8B;AAE1C,WAAO,QAAQ,OAAO,OAAO,KAAK,aAAa;AAE/C,UAAM,cAAc,KAAK,eAAe,KAAK,cAAc;AAC3D,QAAI,CAAC,OAAO,UAAU,WAAW,KAAK,cAAc,GAAG;AACrD,YAAM,IAAI,MAAM,0CAA0C,WAAW;AAAA,IACvE;AAEA,UAAM,eAAe,KAAK,gBAAgB,KAAK,cAAc;AAC7D,QAAI,KAAK,6BAA6B,QAAQ,YAAY,MAAM,IAAI;AAClE,YAAM,IAAI,MAAM,iCAAiC;AAAA,IACnD;AAEA,UAAM,UAAU,KAAK,WAAW,KAAK,cAAc;AACnD,QAAI,CAAC,OAAO,UAAU,OAAO,KAAK,UAAU,GAAG;AAC7C,YAAM,IAAI,MAAM,oCAAoC;AAAA,IACtD;AAEA,UAAM,UAAU,KAAK,WAAW,KAAK,cAAc;AACnD,QAAI,CAAC,OAAO,UAAU,OAAO,KAAK,UAAU,GAAG;AAC7C,YAAM,IAAI,MAAM,iCAAiC;AAAA,IACnD;AAEA,UAAM,qBAAqB,KAAK,sBAAsB,KAAK,cAAc;AACzE,QAAI,CAAC,OAAO,UAAU,kBAAkB,KAAK,qBAAqB,GAAG;AACnE,YAAM,IAAI,MAAM,uCAAuC;AAAA,IACzD;AAEA,UAAM,oBAAoB,KAAK,qBAAqB,KAAK,cAAc;AACvE,QAAI,CAAC,OAAO,UAAU,iBAAiB,KAAK,oBAAoB,GAAG;AACjE,YAAM,IAAI,MAAM,sCAAsC;AAAA,IACxD;AAEA,UAAM,2BACJ,KAAK,4BAA4B,KAAK,cAAc;AACtD,QAAI,CAAC,OAAO,UAAU,wBAAwB,KAAK,2BAA2B,GAAG;AAC/E,YAAM,IAAI,MAAM,6CAA6C;AAAA,IAC/D;AAEA,UAAM,0BACJ,KAAK,2BAA2B,KAAK,cAAc;AACrD,QAAI,CAAC,OAAO,UAAU,uBAAuB,KAAK,0BAA0B,GAAG;AAC7E,YAAM,IAAI,MAAM,4CAA4C;AAAA,IAC9D;AAEA,UAAM,sBAAsB,KAAK,uBAAuB,KAAK,cAAc;AAC3E,QAAI,CAAC,OAAO,UAAU,mBAAmB,KAAK,sBAAsB,GAAG;AACrE,YAAM,IAAI,MAAM,wCAAwC;AAAA,IAC1D;AAEA,UAAM,qBAAqB,KAAK,sBAAsB,KAAK,cAAc;AACzE,QAAI,CAAC,OAAO,UAAU,kBAAkB,KAAK,qBAAqB,GAAG;AACnE,YAAM,IAAI,MAAM,uCAAuC;AAAA,IACzD;AAEA,UAAM,oBAAoB,KAAK,qBAAqB,KAAK,cAAc;AACvE,QAAI,CAAC,OAAO,UAAU,iBAAiB,KAAK,oBAAoB,GAAG;AACjE,YAAM,IAAI,MAAM,sCAAsC;AAAA,IACxD;AAEA,SAAK,SAAS;AAAA,MACZ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAEA,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,iBAAiB;AACf,WACE,KAAK,OAAO,qBACZ,KAAK,OAAO,oBACZ,KAAK,OAAO,2BACZ,KAAK,OAAO,0BACZ,KAAK,OAAO,sBACZ,KAAK,OAAO,qBACZ,KAAK,OAAO;AAAA,EAEhB;AAAA,EAEA,0BAA0B;AAExB,QAAI,YAAY;AAChB,QAAI,mBAAmB;AACvB,QAAI;AACJ,YAAQ,KAAK,OAAO,cAAc;AAAA,MAChC,KAAK;AACH,oBAAY,KAAK;AACjB;AAAA,MACF,KAAK;AACH,oBAAY,KAAK;AACjB,2BAAmB;AACnB;AAAA,MACF,KAAK;AACH,oBAAY,KAAK;AACjB,2BAAmB;AACnB;AAAA,MACF,KAAK;AACH,oBAAY,KAAK;AACjB,2BAAmB;AACnB;AAAA,MACF,KAAK;AACH,2BACE;AAAA,QACA,KAAK,OAAO,WAAW,IAAI,KAAK;AAAA,QAChC;AAAA,QACA;AACF,cAAM,gBACJ;AAAA,QACA,KAAK,OAAO,WAAW,IAAI,KAAK;AAAA,QAChC,KAAK,6BAA6B,gBAAgB,IAClD;AACF,oBAAY,KAAK,IAAI,KAAK,gBAAgB,aAAa,IAAI,gBAAgB;AAC3E;AAAA,MACF,KAAK;AAAA,MACL,KAAK;AACH,2BACE;AAAA,QACA,KAAK,OAAO,WAAW,IAAI,KAAK;AAAA,QAChC;AAAA,QACA;AACF,2BACE;AAAA,QACA,KAAK,OAAO,WAAW,IAAI,KAAK;AAAA,QAChC,KAAK,6BAA6B,gBAAgB,IAClD;AACF,oBACE;AAAA,QACA,mBAAmB;AAAA,QACnB;AACF,YAAI,KAAK,OAAO,iBAAiB,cAAc;AAC7C,uBAAa,KAAK;AAAA,QACpB;AAAA,IACJ;AAEA,WAAO;AAAA,MACL;AAAA,MACA;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,MAA8B;AACvC,SAAK,cAAc,IAAI;AACvB,UAAM,eAAe,KAAK,eAAe;AACzC,UAAM,EAAE,WAAW,iBAAiB,IAAI,KAAK,wBAAwB;AAErE,UAAM,WACJ,KAAK,oBAAoB,KAAK,OAAO,cAAc,KAAK,OAAO,aAAa,YAAY,IACxF,YAAY,KAAK,OAAO,cACxB,KAAK,iBAAiB,KAAK,OAAO,qBAClC,KAAK,gBAAgB,KAAK,OAAO,oBACjC,KAAK,uBAAuB,KAAK,OAAO,2BACxC,KAAK,sBAAsB,KAAK,OAAO,0BACvC,KAAK,kBAAkB,KAAK,OAAO,sBACnC,KAAK,iBAAiB,KAAK,OAAO,qBAClC,KAAK,gBAAgB,KAAK,OAAO;AAEnC,UAAM,UACJ,KAAK,2BAA2B,KAAK,OAAO,cAAc,KAAK,OAAO,WAAW,IACjF,WACA,mBAAmB,KAAK,OAAO;AACjC,UAAM,WAAW,WAAW;AAE5B,WAAO,EAAE,UAAU,SAAS,SAAS;AAAA,EACvC;AAAA,EAEA,YAAY,OAAe,OAAe;AACxC,QAAI,MAAM,KAAK,KAAK,MAAM,KAAK,GAAG;AAChC,YAAM,IAAI,MAAM,8BAA8B;AAAA,IAChD;AACA,WAAO,QAAQ;AAAA,EACjB;AAAA,EAEA,eAAe,KAAa,YAAoB;AAC9C,QAAI,MAAM,GAAG,KAAK,MAAM,UAAU,GAAG;AACnC,YAAM,IAAI,MAAM,8BAA8B;AAAA,IAChD;AAEA,QAAI,aAAa,GAAG;AAClB,YAAM,IAAI,MAAM,6BAA6B;AAAA,IAC/C;AAEA,UAAM,gBAAgB,MAAM;AAE5B,WAAO,MAAM,gBAAgB,SAAS,MAAM;AAAA,EAC9C;AACF;;;;ACtUsB;AAMf;AAEgC;AAGc;AAIjB;AAE7B,SAAS,qBAAqB,IAAe;AAClD,SAAO,GAAG,IAAI,KAAK,WAAS,MAAM,QAAQ,sBAAsB,SAAS;AAC3E;AAKO,SAAS,wBAAwB;AAAA,EACtC;AAAA,EACA;AAAA,EACA;AACF,GAIG;AACD,QAAM,EAAE,iBAAiB,oBAAoB,IAAI,mBAAmB;AAAA,IAClE;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AAED,QAAM,gBAAgB,MACnB,OAAO,UAAQ,KAAK,SAAS,6CAAsB,EACnD,OAAO,UAAQ;AAEd,UAAM,EAAE,gBAAgB,IAAI,mBAAmB;AAAA,MAC7C,OAAO,MAAM,OAAO,OAAK,EAAE,SAAS,KAAK,IAAI;AAAA,MAC7C;AAAA,MACA;AAAA,IACF,CAAC;AAED,WAAO,gBAAgB,SAAS,IAAI,oBAAoB,SAAS;AAAA,EACnE,CAAC;AACH,SAAO;AACT;AAEO,SAAS,2BAA2B,SAIxC;AACD,QAAM,EAAE,YAAY,WAAW,YAAY,IAAI;AAC/C,QAAM,cAAc,kCAAQ,CAAC,SAAS,IAAI,wCAAc,CAAC,SAAS,IAAI;AACtE,QAAM,gCAAgC,cAAc,YAAY,OAAO;AAEvE,QAAM,UAAU,IAAI,mBAAmB,CAAC;AACxC,QAAM,WAAW,QAAQ,WAAW;AAAA;AAAA,IAElC,cAAc;AAAA,IACd,aAAa;AAAA;AAAA,IAEb,CAAC,gCAAgC,eAAe,GAAG;AAAA,EACrD,CAAC;AAED,SAAO;AACT;AAEO,SAAS,8BACd,MACA,uBACA;AACA,SAAO,KAAK,KAAK,YAAU,OAAO,yBAAyB,qBAAqB,GAC5E;AACN;AAEO,MAAM,sBAAsB,CAAC,gBAClC,cAAc,qCAAc,CAAC,YAAY,MAAM,CAAC,IAAI;AAKtD,MAAM,4BAA4B,CAAC,SAAiB,gBAClD,YAAY,IAAI,OAAO,WAAS,MAAM,QAAQ,yBAAyB,OAAO;AAIhF,MAAM,gCAAgC,CAAC,SAAiB,gBACtD,YAAY,KAAK,OAAO,YAAU,OAAO,yBAAyB,OAAO;AAEpE,SAAS,mBAAmB,SAAiB,aAAwB;AAC1E,QAAM,SAAS,0BAA0B,SAAS,WAAW;AAC7D,QAAM,UAAU,8BAA8B,SAAS,WAAW;AAElE,MAAI,OAAO,UAAU,QAAQ,OAAQ,QAAO;AAC5C,MAAI,OAAO,OAAQ,QAAO;AAC1B,SAAO;AACT;AAEO,SAAS,kBAAkB,SAAiB,aAAyB;AAC1E,MAAI,CAAC,YAAa,QAAO;AACzB,QAAM,SAAS,0BAA0B,SAAS,WAAW;AAC7D,QAAM,UAAU,8BAA8B,SAAS,WAAW;AAClE,QAAM,mBAAmB,OAAO,IAAI,SAAO,IAAI,QAAQ,KAAK;AAC5D,QAAM,aAAa,QAAQ,IAAI,UAAQ,KAAK,KAAK;AACjD,QAAM,kBAAkB,+BAAQ,CAAC,iCAAU,CAAC,gBAAgB,CAAC;AAC7D,QAAM,mBAAmB,+BAAQ,CAAC,iCAAU,CAAC,UAAU,CAAC;AAGxD,QAAM,4CAA4C,gBAAgB,MAAM,gBAAgB;AACxF,MAAI,OAAO,UAAU,QAAQ;AAC3B,WAAO,MAAM,0CAA0C,SAAS;AAElE,MAAI,OAAO,OAAQ,QAAO,MAAM,gBAAgB,SAAS;AACzD,MAAI,QAAQ,OAAQ,QAAO,iBAAiB,SAAS;AACrD,SAAO;AACT;AAEO,SAAS,mBAAmB;AAAA,EACjC;AAAA,EACA;AAAA,EACA;AACF,GAIG;AACD,QAAM,UAAU,MAAM,IAAI,UAAQ,KAAK,KAAK,EAAE,OAAO,CAAC,SAAS,WAAW,UAAU,QAAQ,CAAC;AAE7F,QAAM,OAAO,YAAY;AAAA,IACvB,aAAa,MAAM;AAAA,IACnB;AAAA,EACF,CAAC;AACD,QAAM,MAAM,KAAK,KAAK,KAAK,WAAW,OAAO;AAC7C,QAAM,mBAAmB,4BAAS,CAAC,OAAO;AAC1C,SAAO;AAAA,IACL,iBAAiB,wBAAS,CAAC,IAAI,GAAG,iBAAiB,MAAM,GAAG,CAAC;AAAA,IAC7D;AAAA,EACF;AACF;AAEO,SAAS,YAAY,SAIzB;AACD,QAAM,EAAE,aAAa,YAAY,UAAU,IAAI;AAE/C,QAAM,qBAAqB,WACxB,IAAI,eAAa,kCAAQ,CAAC,UAAU,OAAO,KAAK,wCAAc,CAAC,UAAU,OAAO,CAAC,EACjF,OAAO,OAAO;AAEjB,WAAS,kCAAkC;AACzC,WAAO,mBAAmB;AAAA,MACxB,CAAC,KAAK,EAAE,KAAK,MAAM;AACjB,YAAI,IAAI,KAAK,IAAI,IAAI,KAAK,KAAK;AAC/B,eAAO;AAAA,MACT;AAAA,MACA,CAAC;AAAA,IACH;AAAA,EACF;AAEA,QAAM,mBAAmB,gCAAgC;AAGzD,MAAI,CAAC,WAAW;AACd,qBAAiB,iCAAW,CAAC,MAAM,KAAK,iBAAiB,iCAAW,CAAC,MAAM,KAAK,KAAK;AAAA,EACvF;AAGA,QAAM,cAAc,OAAO,QAAQ,gBAAgB,EAAE;AAAA,IACnD,CAAC,KAAK,CAAC,MAAM,KAAK,MAAM;AACtB,UAAI,OAAO,eAAe,IAAI;AAC9B,aAAO;AAAA,IACT;AAAA,IACA,CAAC;AAAA,EACH;AAEA,QAAM,UAAU,IAAI,mBAAmB,CAAC;AACxC,QAAM,WAAW,QAAQ,WAAW;AAAA,IAClC,cAAc;AAAA,IACd,aAAa;AAAA,IACb,GAAG;AAAA,EACL,CAAC;AAED,SAAO;AACT;;;;ACjMsB;AACG;AAEc;AAEF;AAIgB;AAE9C,MAAM,+BAA+B,MAAM;AAAA,EAChD,cAAc;AACZ,UAAM,oBAAoB;AAAA,EAC5B;AACF;AAaA,SAAS,aAAa,OAA2B;AAC/C,SAAO,iCAAU,CAAC,MAAM,IAAI,UAAQ,KAAK,KAAK,CAAC;AACjD;AAEO,SAAS,0BAA0B;AAAA,EACxC;AAAA,EACA;AAAA,EACA;AACF,GAA+B;AAC7B,aAAW,QAAQ,eAAa;AAC9B,QAAI,CAAC,kCAAQ,CAAC,UAAU,OAAO;AAC7B,YAAM,IAAI,MAAM,gDAAgD;AAAA,EACpE,CAAC;AACD,QAAM,gBAAgB,uBAAuB,CAAC,EAAE,OAAO,SAAS,WAAW,CAAC;AAE5E,QAAM,WAAW,WAAW,CAAC;AAAA,IAC3B,aAAa,cAAc;AAAA,IAC3B,WAAW;AAAA,IACX;AAAA,EACF,CAAC;AAGD,QAAM,UAAU,WAAW,IAAI,CAAC,EAAE,SAAS,OAAO,OAAO;AAAA,IACvD,OAAO,OAAO,OAAO,OAAO,SAAS,CAAC;AAAA,IACtC;AAAA,EACF,EAAE;AAEF,QAAM,MAAM,KAAK,KAAK,SAAS,WAAW,OAAO;AAEjD,SAAO;AAAA,IACL,QAAQ;AAAA,IACR;AAAA,IACA,MAAM,SAAS;AAAA,IACf;AAAA,EACF;AACF;AAEO,SAAS,uBAAuB,EAAE,SAAS,YAAY,MAAM,GAA+B;AACjG,aAAW,QAAQ,eAAa;AAC9B,QAAI,CAAC,kCAAQ,CAAC,UAAU,OAAO;AAC7B,YAAM,IAAI,MAAM,gDAAgD;AAAA,EACpE,CAAC;AACD,QAAM,gBAAgB,uBAAuB,CAAC;AAAA,IAC5C,OAAO,MAAM,KAAK,CAAC,GAAG,MAAM,EAAE,QAAQ,EAAE,KAAK;AAAA,IAC7C;AAAA,IACA;AAAA,EACF,CAAC;AACD,MAAI,CAAC,cAAc,OAAQ,OAAM,IAAI,uBAAuB;AAE5D,QAAM,SAAS,+BAAQ,CAAC,WAAW,IAAI,eAAa,UAAU,MAAM,CAAC;AAGrE,QAAM,cAAkC,CAAC,cAAc,CAAC,CAAC;AAEzD,WAAS,0BAA0B;AACjC,WAAO,WAAW,CAAC;AAAA,MACjB,aAAa,YAAY;AAAA,MACzB;AAAA,IACF,CAAC;AAAA,EACH;AAEA,WAAS,0BAA0B;AACjC,UAAM,eAAe,wBAAwB;AAC7C,UAAM,eAAe,IAAI,wBAAS,CAAC,aAAa,WAAW,OAAO,EAAE,KAAK,OAAO,MAAM;AACtF,WAAO,aAAa,WAAW,EAAE,uBAAuB,YAAY;AAAA,EACtE;AAEA,WAAS,2BAA2B;AAClC,WAAO,cAAc,OAAO,UAAQ,CAAC,YAAY,SAAS,IAAI,CAAC;AAAA,EACjE;AAEA,SAAO,CAAC,wBAAwB,GAAG;AACjC,UAAM,CAAC,QAAQ,IAAI,yBAAyB;AAC5C,QAAI,CAAC,SAAU,OAAM,IAAI,uBAAuB;AAChD,gBAAY,KAAK,QAAQ;AAAA,EAC3B;AAEA,QAAM,MAAM,KAAK;AAAA,IACf,IAAI,wBAAS,CAAC,wBAAwB,EAAE,QAAQ,EAAE,aAAa,OAAO,EAAE,SAAS;AAAA,EACnF;AAEA,QAAM,eACJ,OAAO,aAAa,WAAW,EAAE,SAAS,CAAC,IAAI,OAAO,OAAO,OAAO,SAAS,CAAC,IAAI,OAAO,GAAG;AAE9F,QAAM,cACJ,eAAe,6CAAsB,GACjC;AAAA,IACE;AAAA,MACE,OAAO;AAAA,IACT;AAAA,EACF,IACA,CAAC;AAEP,QAAM,UAAoB;AAAA,IACxB,GAAG,WAAW,IAAI,CAAC,EAAE,SAAS,QAAAC,QAAO,OAAO;AAAA,MAC1C,OAAO,OAAOA,QAAO,OAAO,SAAS,CAAC;AAAA,MACtC;AAAA,IACF,EAAE;AAAA,IACF,GAAG;AAAA,EACL;AAEA,SAAO;AAAA,IACL;AAAA,IACA,QAAQ;AAAA,IACR;AAAA,IACA,MAAM,wBAAwB,EAAE;AAAA,IAChC;AAAA,IACA,GAAG,wBAAwB;AAAA,EAC7B;AACF;;;;AC/HM;AAVuB;AAOtB,SAAS,qBAAqB,EAAE,UAAU,aAAa,GAA8B;AAC1F,SACE,qCAAC,gBAAI,IAAC,gBAAe,iBACnB;AAAA,wCAAC,kBAAM,CAAC,MAAP,EAAY,OAAM,oBAAmB,WAAU,WAC7C,wBACH;AAAA,IACA,qCAAC,kBAAM,CAAC,MAAP,EAAY,OAAM,oBAAmB,WAAU,WAC7C;AAAA;AAAA,MAAS;AAAA,OACZ;AAAA,KACF;AAEJ;;;;AClB8C;AAEe;AAE7D,MAAM,cAAc;AAAA,EAClB,wBAAwB;AAAA,EACxB,uBAAuB;AAAA,EACvB,kBAAkB;AACpB;AAMO,SAAS,4BAA4B,OAAO,aAAa;AAC9D,QAAM,EAAE,wBAAwB,uBAAuB,iBAAiB,IAAI;AAE5E,QAAM,qBAAqB,oFAA4C,CAAC;AACxE,QAAM,UAAU,mBAAmB;AAEnC,SAAO,qDAA6B,CAAC;AAAA,IACnC;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AACH;;;;AC1B4B;AAE2B;AACoB;AAQpE;AACqC;AAErC,MAAM,0BAA0B;AAOhC,SAAS,oBAAoB,EAAE,cAAc,WAAW,GAA4B;AACzF,QAAM,EAAE,MAAM,QAAQ,CAAC,EAAE,IAAI,2BAA2B,CAAC;AACzD,QAAM,gBAAgB,8DAAsC,CAAC,KAAK;AAElE,SAAO,qBAAW;AAAX,IACL,CAAC,YAAoB;AACnB,UAAI,CAAC,WAAW,CAAC,MAAM,OAAQ,QAAO,EAAE,KAAK,GAAG,cAAc,GAAG;AAEjE,YAAM,qBAAiD;AAAA,QACrD;AAAA,QACA;AAAA,QACA;AAAA,MACF;AACA,YAAM,EAAE,IAAI,IAAI,eACZ,yBAAyB,CAAC,kBAAkB,IAC5C,sBAAsB,CAAC,kBAAkB;AAE7C,aAAO;AAAA,QACL;AAAA,QACA,cAAc,KAAK,yCAAkB;AAAlB,UACjB,gDAAyB,CAAC,kCAAW,CAAC,KAAK,KAAK,GAAG,GAAG,KAAK,GAAG,aAAa;AAAA,QAC7E,CAAC;AAAA,MACH;AAAA,IACF;AAAA,IACA,CAAC,OAAO,cAAc,YAAY,aAAa;AAAA,EACjD;AACF;;;;ACsCQ;AArFiB;AAEA;AACH;AAEA;AACG;AAIE;AACY;AAEZ;AACU;AACD;AAEpC,MAAM,gBAAgB;AAYf,SAAS,sBAAsB;AAAA,EACpC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAU;AACR,QAAM,CAAC,KAAK,IAAI,+BAAQ,CAAC,SAAS;AAElC,QAAM,CAAC,UAAU,WAAW,IAAI,kBAAQ,CAGrC,IAAI;AAEP,QAAM,qBAAqB,mBAAmB,CAAC;AAAA,IAC7C;AAAA,IACA;AAAA,EACF,CAAC;AACD,QAAM,CAAC,cAAc,eAAe,IAAI,kBAAQ,CAAC,KAAK;AACtD,QAAM,CAAC,gCAAgC,iCAAiC,IAAI,kBAAQ,CAAC,KAAK;AAE1F,QAAM,WAAW,+BAA+B,gBAAgB;AAChE,QAAM,eACJ,+BAA+B,iCAC3B,uBACA;AAEN,WAAS,gBAAgB,SAAiB;AACxC,QAAI;AACF,YAAM,YAAY,mBAAmB,OAAO,OAAO,CAAC;AACpD,kBAAY,SAAS;AAErB,sBAAgB,KAAK;AACrB,wCAAkC,KAAK;AAAA,IACzC,SAAS,KAAK;AACZ,UAAI,eAAe,sBAAsB,EAAE;AACzC,eAAO,kCAAkC,IAAI;AAAA,MAC/C;AAEA,sBAAgB,IAAI;AAAA,IACtB;AAAA,EACF;AAEA,WAAS,SAAS,GAAwC;AACxD,UAAM,QAAQ,EAAE,OAAO;AACvB,+BAA2B,EAAE,OAAO,KAAK;AACzC,oBAAgB,KAAK;AAAA,EACvB;AAEA,oCAAU,CAAC,MAAM;AACf,oBAAgB,qBAAqB;AAAA,EACvC,CAAC;AACD,SACE,qCAAC,iBAAK,IAAC,KAAI,YACT;AAAA,yCAAC,iBAAK,IACJ;AAAA,2CAAC,yBAAK,CAAC,MAAN,EAAW,UACV;AAAA,4CAAC,yBAAK,CAAC,OAAN,EAAa,yBAAc;AAAA,QAC5B;AAAA,UAAC,yBAAK,CAAC;AAAA,UAAN;AAAA,YACC;AAAA,YACC,GAAG;AAAA,YACJ,UAAU,OAAK;AACb,oBAAM,SAAS,CAAC;AAChB,yBAAW,CAAC;AAAA,YACd;AAAA;AAAA,QACF;AAAA,SACF;AAAA,MACC,YAAY,oCAAC,UAAU,IAAE,wBAAa;AAAA,OACzC;AAAA,IAEC,CAAC,YAAY,YACZ;AAAA,MAAC,oBAAoB;AAApB;AAAA,QACC,UAAU,+BAAQ,CAAC,SAAS,GAAG,EAAE,SAAS;AAAA,QAC1C,cAAc,SAAS;AAAA;AAAA,IACzB;AAAA,KAEJ;AAEJ;;;;;;AC3G4B;AAEc;AACH;AAEV;AAMtB,SAAS,yBAAyB;AACvC,QAAM,EAAE,MAAM,IAAI,iDAAsB,CAAC;AACzC,QAAM,EAAE,QAAQ,IAAI;AACpB,QAAM,0BAA0B,qBAAW;AAAX,IAC9B,CAAC,EAAE,KAAK,MAAmC;AACzC,6CAAY,CAAC,kDAAyB,CAAC,EAAE,MAAM,QAAQ,CAAC,CAAC;AAAA,IAC3D;AAAA,IACA,CAAC,OAAO;AAAA,EACV;AAEA,SAAO;AAAA,IACL;AAAA,EACF;AACF;;;;ACIM;AA5ByB;AAEG;AAO3B,SAAS,kBAAkB,OAA+B;AAC/D,QAAM,EAAE,WAAW,YAAY,cAAc,IAAI;AACjD,QAAM,WAAW,aAAa,CAAC;AAE/B,SACE;AAAA,IAAC,kBAAM,CAAC;AAAA,IAAP;AAAA,MACC,QAAQ,EAAE,OAAO,mBAAmB;AAAA,MACpC,IAAG;AAAA,MACH,SAAS,OAAK;AACZ,sBAAc;AACd,UAAE,gBAAgB;AAAA,MACpB;AAAA,MACA,SAAS,CAAC,WAAW,IAAI;AAAA,MACzB,eAAe,CAAC,WAAW,SAAS;AAAA,MACpC,UAAS;AAAA,MACT,IAAG;AAAA,MACH,SAAQ;AAAA,MACR,QAAQ;AAAA,MAER,+CAAC,kBAAM,IAAC,KAAI,YACV;AAAA,4CAAC,qCAAiB,IAAC,OAAM,UAAS,SAAQ,SAAQ;AAAA,QAClD,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAW,0BAAY;AAAA,SAChD;AAAA;AAAA,EACF;AAEJ;;;;;;ACVM;AAxB2B;AAEX;AACK;AAES;AACP;AAKtB,SAAS,iBAAiB,OAA8B;AAC7D,QAAM,EAAE,MAAM,IAAI;AAClB,QAAM,MAAM,gBAAM,CAAwB,IAAI;AAC9C,QAAM,UAAU,IAAI;AACpB,QAAM,CAAC,kBAAkB,mBAAmB,IAAI,kBAAQ;AAAR,IAC9C,SAAS,cAAc,SAAS;AAAA,EAClC;AACA,QAAM,WAAW,MAAM,oBAAoB,SAAS,cAAc,SAAS,WAAW;AAEtF,qBAAmB,CAAC,QAAQ;AAE5B,SACE,oCAAC,iCAAY,IAAC,UAAU,CAAC,kBAAkB,OAAO,OAAO,MAAK,OAC5D;AAAA,IAAC,yBAAK;AAAL;AAAA,MACC,UAAS;AAAA,MACT;AAAA,MACA,cAAa;AAAA,MACb,WAAU;AAAA,MACV,YAAW;AAAA,MAEV,2CAAU,CAAC,KAAK;AAAA;AAAA,EACnB,GACF;AAEJ;;;;;;ACbI;AApBmB;AAEwB;AAEb;AAclC,SAAS,QAAQ,EAAE,SAAS,UAAU,GAAgD;AACpF,SACE,oCAAC,4CAAiB,IAAC,WAAsB,WAAU,YAAW,IAAG,YAC9D,mBACH;AAEJ;AAEO,SAAS,sBAAsB;AAAA,EACpC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA+B;AAC7B,SACE,oCAAC,6BAAS,IAAC,SAAS,YAAY,IAAG,YACjC;AAAA,IAAC,8BAAU;AAAV;AAAA,MACC,KAAK,UAAU;AAAA,MACf,WAAW;AAAA,MACX,aACE,qCAAC,kBAAM,IAAC,YAAW,UACjB;AAAA;AAAA,UAAC,2BAAO;AAAP;AAAA,YACC,UAAS;AAAA,YACT,cAAa;AAAA,YACb,UAAU,EAAE,MAAM,SAAS,IAAI,QAAQ;AAAA,YAEtC;AAAA;AAAA,QACH;AAAA,QACC,YAAY;AAAA,SACf;AAAA,MAEF,YAAY,oCAAC,WAAQ,SAAkB,WAAsB;AAAA,MAC7D,cAAc;AAAA;AAAA,EAChB,GACF;AAEJ;;;;AClDW;AAV+B;AAGC;AAER;AAEnC,SAAS,aAAa,OAA2C;AAC/D,QAAM,EAAE,SAAS,GAAG,IAAI;AACxB,MAAI,kBAAkB,CAAC,SAAS,EAAE;AAChC,WAAO,oCAAC,iCAAa,IAAC,OAAM,0BAAyB,SAAQ,SAAQ;AACvE,SAAO,oCAAC,+BAAW,IAAC,OAAM,0BAAyB,SAAQ,SAAQ;AACrE;AAOO,SAAS,uBAAuB;AAAA,EACrC;AAAA,EACA;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAAyB;AACvB,SACE,qCAAC,gBAAI,IAAC,UAAS,YACZ;AAAA;AAAA,IACD;AAAA,MAAC,kBAAM;AAAN;AAAA,QACC,QAAO;AAAA,QACP,OAAM;AAAA,QACN,UAAS;AAAA,QACT,MAAK;AAAA,QACL,IAAI,YAAY,OAAO,YAAY,WAAW;AAAA,QAC9C,OAAM;AAAA,QACN,QAAO;AAAA,QACN,GAAG;AAAA,QAEJ,8CAAC,gBAAa,SAAS,YAAY,IAAI,aAAa;AAAA;AAAA,IACtD;AAAA,KACF;AAEJ;;;;ACzBU;AAjBa;AAGW;AAE3B,SAAS,gBAAgB,EAAE,aAAa,GAAG,KAAK,GAAiC;AACtF,UAAQ,YAAY,UAAU;AAAA,IAC5B,KAAK;AACH,aACE;AAAA,QAAC,kBAAM;AAAN;AAAA,UACC,IAAG;AAAA,UACH,OAAM;AAAA,UACN,YAAY;AAAA,UACZ,UAAS;AAAA,UACT,MAAK;AAAA,UACJ,GAAG;AAAA,UAEJ;AAAA,YAAC;AAAA;AAAA,cACC,KAAK,YAAY;AAAA,cACjB,OAAO;AAAA,gBACL,OAAO;AAAA,gBACP,QAAQ;AAAA,gBACR,aAAa;AAAA,gBACb,WAAW;AAAA,gBACX,cAAc;AAAA,cAChB;AAAA;AAAA,UACF;AAAA;AAAA,MACF;AAAA,IAEJ;AACE,aAAO,oCAAC,qCAAiB,IAAC;AAAA,EAC9B;AACF;;;;ACjBM;AAdkB;AAEK;AAK7B,MAAM,wBACJ;AAEK,SAAS,yBAAyB,EAAE,YAAY,GAAkC;AACvF,QAAM,YAAY,CAAC,YAAY,OAAO;AACtC,SAAO,YACL,oCAAC,iCAAY,IAAC,SAAO,MAAC,OAAO,uBAAuB,MAAK,UACvD,8CAAC,2BAAO,IAAC,OAAM,iCAAgC,qBAAO,GACxD,IACE;AACN;;;;ACmDM;AArEkB;AACiB;AAElB;AAGgB;AACiB;AAE9B;AACA;AAEa;AAMhC;AACsB;AACK;AACD;AAC6B;AAC7B;AAEK;AACC;AACP;AACS;AAKlC,SAAS,uBAAuB,EAAE,YAAY,GAAgC;AACnF,QAAM,EAAE,SAAS,IAAI,yCAAW,CAAC;AACjC,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,YAAY,wDAAgB,CAAC;AAEnC,QAAM,EAAE,MAAM,gBAAgB,IAAI,8CAAsB,CAAC,WAAW;AAEpE,QAAM,iBAAiB,qFAA6C,CAAC;AACrE,QAAM,EAAE,yBAAyB,iBAAiB,IAAI,sBAAsB,CAAC;AAC7E,QAAM,UAAU,iBAAO,CAAC,MAAM,mBAAmB,CAAC,WAAW,GAAG,CAAC,WAAW,CAAC;AAC7E,QAAM,QAAQ,iBAAO;AAAP,IACZ,MAAM,iBAAiB,CAAC,gBAAgB,WAAW;AAAA,IACnD,CAAC,gBAAgB,WAAW;AAAA,EAC9B;AAEA,MAAI,CAAC,YAAa,QAAO;AAEzB,QAAM,gBAAgB,MAAM;AAC1B,aAAS,2BAAS,CAAC,gBAAgB,EAAE,OAAO,EAAE,OAAO,YAAY,EAAE,CAAC;AAAA,EACtE;AAEA,QAAM,aAAa,MAAM;AACvB,SAAK,2BAAS,CAAC,MAAM,0BAA0B;AAC/C,QAAI,iBAAiB;AACnB,6CAAY,CAAC,gBAAgB,EAAE;AAC/B;AAAA,IACF;AACA,qBAAiB,EAAE,MAAM,aAAa,QAAQ,GAAG,CAAC;AAAA,EACpD;AAEA,QAAM,eAAe,CAAC,kBAAkB,CAAC,gBAAgB,WAAW;AACpE,QAAM,YACJ,gBAAgB,CAAC,YAAY,OAAO,aAAa,CAAC,oBAAoB,CAAC,WAAW;AAEpF,QAAM,YACJ,oCAAC,kBAAM,IAAC,KAAI,YACV,+CAAC,mCAAe,IACd;AAAA,wCAAC,2BAAO,IAAE,mBAAQ;AAAA,IACjB,kBAAkB,oCAAC,2BAAO,IAAE,0BAAgB,UAAS,IAAa;AAAA,KACrE,GACF;AAGF,QAAM,QAAQ,kBAAkB,wBAAwB,gBAAgB,MAAM,KAAK;AACnF,QAAM,oBACJ;AAAA,IAAC,iBAAiB;AAAjB;AAAA,MACC;AAAA,MACA,YAAY,aAAa,2BAAS,CAAC;AAAA,MACnC;AAAA;AAAA,EACF;AAGF,SACE;AAAA,IAAC,qBAAqB;AAArB;AAAA,MACC;AAAA,MACA,cAAc,YAAY,oBAAoB;AAAA,MAC9C;AAAA,MACA,QACE;AAAA,QAAC,sBAAsB;AAAtB;AAAA,UACC,MACE,kBAAkB,oCAAC,eAAe,IAAC,aAAa,iBAAiB,IAAK,oCAAC,iCAAa,IAAC;AAAA,UAEvF;AAAA,UACA,YAAY;AAAA;AAAA,MACd;AAAA,MAEF,UAAU,oCAAC,wBAAwB,IAAC,aAA0B;AAAA,MAC9D,SAAS,oCAAC,gBAAgB,IAAC,OAAc;AAAA,MACzC,SAAS;AAAA,MACT;AAAA;AAAA,EACF;AAEJ;;;;ACnFI;AAtB6B;AAEV;AAEO;AACJ;AAQnB,SAAS,mBAAmB,OAAgC;AACjE,QAAM,EAAE,gBAAgB,YAAY,WAAW,SAAS,IAAI;AAE5D,QAAM,EAAE,aAAa,IAAI,uCAAgB,CAAC;AAC1C,QAAM,EAAE,WAAW,IAAI,wCAAa,CAAC;AAErC,QAAM,aAAa,WAAW,EAAE,QAAQ,qBAAqB,UAAU,SAAS,CAAC;AAEjF,SACE,qCAAC,wBAAS,IAAC,eAAc,OACvB;AAAA,wCAAC,0BAAM,IAAC,SAAS,UAAU,SAAQ,WAAU,UAAU,GAAG,oBAE1D;AAAA,IACA;AAAA,MAAC,0BAAM;AAAN;AAAA,QACC,MAAK;AAAA,QACL,SAAS;AAAA,QACT,aAAW,aAAa;AAAA,QACxB,cAAa;AAAA,QACb,iBAAe;AAAA,QACf,UAAU;AAAA,QACV,UAAU;AAAA,QAET;AAAA;AAAA,IACH;AAAA,KACF;AAEJ;;;;;;;;;;ACvCwB;AAEwB;AAKzC;AAMA;AAMA;AACqD;AAI5D,SAAS,cACP,0BACA,cACA;AACA,MAAI;AACF,UAAM,EAAE,IAAI,IAAI,eACZ,yBAAyB,CAAC,wBAAwB,IAClD,sBAAsB,CAAC,wBAAwB;AACnD,WAAO;AAAA,EACT,SAAS,OAAO;AACd,WAAO;AAAA,EACT;AACF;AAQO,SAAS,mBAAmB;AAAA,EACjC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA2B;AACzB,QAAM,EAAE,QAAQ,IAAI,sFAA2C,CAAC;AAChE,QAAM,gBAAgB,8DAAsC,CAAC,KAAK;AAClE,QAAM,EAAE,MAAM,UAAU,UAAU,IAAI,iDAAyB,CAAC;AAEhE,QAAM,WAA2B,iBAAO,CAAC,MAAM;AAC7C,aAAS,gBAAgB,KAAa;AACpC,aAAO,KAAK,yCAAkB;AAAlB,QACV,gDAAyB,CAAC,kCAAW,CAAC,KAAK,KAAK,GAAG,GAAG,KAAK,GAAG,aAAa;AAAA,MAC7E,CAAC;AAAA,IACH;AAEA,QAAI,CAAC,YAAY,CAAC,MAAM,OAAQ,QAAO,CAAC;AAExC,UAAM,4BAA4B;AAAA,MAChC,YAAY;AAAA,QACV,EAAE,SAAS,WAAW,QAAQ,eAAe,QAAQ,mBAAmB,OAAO;AAAA,MACjF;AAAA,MACA;AAAA,IACF;AAEA,UAAM,+BAA+B;AAAA,MACnC,GAAG;AAAA,MACH,SAAS,SAAS,WAAW,SAAS;AAAA,IACxC;AAEA,UAAM,mCAAmC;AAAA,MACvC,GAAG;AAAA,MACH,SAAS,SAAS,YAAY,SAAS;AAAA,IACzC;AAEA,UAAM,8BAA8B;AAAA,MAClC,GAAG;AAAA,MACH,SAAS,SAAS,QAAQ,SAAS;AAAA,IACrC;AAEA,UAAM,UAAU,CAAC;AAEjB,UAAM,eAAe,cAAc,8BAA8B,YAAY;AAC7E,UAAM,mBAAmB,cAAc,kCAAkC,YAAY;AACrF,UAAM,cAAc,cAAc,6BAA6B,YAAY;AAE3E,QAAI,cAAc;AAChB,cAAQ,KAAK;AAAA,QACX,OAAO,8BAAU,CAAC;AAAA,QAClB,OAAO;AAAA,QACP,UAAU,wCAAiB,CAAC,kCAAW,CAAC,cAAc,KAAK,CAAC;AAAA,QAC5D,MAAM,gCAAY,CAAC;AAAA,QACnB,WAAW,gBAAgB,YAAY;AAAA,QACvC,SAAS,SAAS,WAAW,SAAS;AAAA,MACxC,CAAC;AAAA,IACH;AAEA,QAAI,kBAAkB;AACpB,cAAQ,KAAK;AAAA,QACX,OAAO,8BAAU,CAAC;AAAA,QAClB,OAAO;AAAA,QACP,UAAU,wCAAiB,CAAC,kCAAW,CAAC,kBAAkB,KAAK,CAAC;AAAA,QAChE,MAAM,gCAAY,CAAC;AAAA,QACnB,WAAW,gBAAgB,gBAAgB;AAAA,QAC3C,SAAS,SAAS,YAAY,SAAS;AAAA,MACzC,CAAC;AAAA,IACH;AAEA,QAAI,aAAa;AACf,cAAQ,KAAK;AAAA,QACX,OAAO,8BAAU,CAAC;AAAA,QAClB,OAAO;AAAA,QACP,UAAU,wCAAiB,CAAC,kCAAW,CAAC,aAAa,KAAK,CAAC;AAAA,QAC3D,MAAM,gCAAY,CAAC;AAAA,QACnB,WAAW,gBAAgB,WAAW;AAAA,QACtC,SAAS,SAAS,QAAQ,SAAS;AAAA,MACrC,CAAC;AAAA,IACH;AAEA,WAAO;AAAA,EACT,GAAG,CAAC,UAAU,OAAO,WAAW,cAAc,QAAQ,kBAAkB,QAAQ,aAAa,CAAC;AAE9F,SAAO;AAAA,IACL;AAAA,IACA;AAAA,EACF;AACF;;;;;;;;ACnIwB;AACI;AAEP;AACC;AACD;AAG0B;AACA;AAErB;AACA;AAEE;AAKrB;AACiC;AACL;AACV;AACmB;AACS;AACL;AACf;AAC4B;AAEtD,SAAS,kBAAkB,OAAkB;AAClD,QAAM,QAAQ,6BAAQ,CAAC;AACvB,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,cAAc,4DAA+B,CAAC;AAEpD,QAAM,EAAE,SAAS,uBAAuB,UAAU,IAChD,oFAA4C,CAAC;AAC/C,QAAM,EAAE,MAAM,QAAQ,CAAC,GAAG,mBAAmB,IAAI,2BAA2B,CAAC;AAC7E,QAAM,kBAAkB,0CAAgB,CAAC;AACzC,QAAM,EAAE,aAAa,eAAe,IAAI,sDAA8B,CAAC;AACvE,QAAM,YAAY,6BAA6B,CAAC,MAAM,MAAM,qBAAqB,KAAK;AAEtF,QAAM,WAAW,iBAAO;AAAP,IACf,MACE,0BAA0B,CAAC;AAAA,MACzB,YAAY,MAAM,IAAI;AAAA,MACtB;AAAA,MACA,aAAa,MAAM,KAAK;AAAA,IAC1B,CAAC;AAAA,IACH,CAAC,MAAM,IAAI,QAAQ,MAAM,KAAK,QAAQ,SAAS;AAAA,EACjD;AAEA,QAAM,EAAE,QAAQ,IAAI,+EAAoC,CAAC,qBAAqB;AAC9E,QAAM,gBAAgB,iBAAiB,CAAC,uBAAuB,KAAK;AACpE,QAAM,EAAE,SAAS,IAAI,kBAAkB,CAAC;AAAA,IACtC,QAAQ,kCAAW,CAAC,+BAAQ,CAAC,aAAa,GAAG,KAAK;AAAA,IAClD,cAAc;AAAA,IACd;AAAA,IACA;AAAA,EACF,CAAC;AAED,WAAS,mBAAmB,SAA6C;AACvE,UAAM,QAAQ,IAAI,mCAAe,CAAC;AAClC,UAAM,EAAE,KAAK,MAAM,KAAK,QAAQ,IAAI,QAAQ;AAC5C,UAAM,SAAS,sBAAU,CAAC,WAAW,WAAW;AAEhD,QAAI,QAAQ,WAAS;AACnB,YAAM,SAAS;AAAA,QACb,MAAM,MAAM;AAAA,QACZ,OAAO,MAAM;AAAA,QACb,UAAU,MAAM,WAAW;AAAA,QAC3B,aAAa;AAAA;AAAA,UAEX,QAAQ,OAAO;AAAA,UACf,QAAQ,OAAO,MAAM,QAAQ,KAAK;AAAA,QACpC;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AAED,UAAM,SAAS,KAAK,KAAK,SAAS,WAAW,OAAO,QAAQ,OAAO,CAAC;AACpE,UAAM,UAAU,SAAS;AAEzB,SAAK,QAAQ,YAAU;AACrB,UAAI,OAAO,yBAAyB,uBAAuB;AACzD,cAAM,aAAa,OAAO,QAAQ;AAElC,YAAI,aAAa,GAAG;AAClB,eAAK,2BAAS,CAAC,MAAM,kCAAkC;AAAA,YACrD;AAAA,UACF,CAAC;AACD,gBAAM,IAAI,MAAM,yCAAyC;AAAA,QAC3D;AAEA,cAAM,iBAAiB,uBAAuB,OAAO,UAAU,GAAG,WAAW;AAC7E;AAAA,MACF;AACA,YAAM,iBAAiB,WAAW,OAAO,OAAO,KAAK,GAAG,WAAW;AAAA,IACrE,CAAC;AAED,WAAO;AAAA,EACT;AAEA,iBAAe,oBAAoB,YAA6B;AAC9D,UAAM,KAAK,MAAM,gBAAgB,WAAW,OAAO,CAAC;AACpD,OAAG,SAAS;AACZ,UAAM,YAAY;AAAA,MAChB,IAAI,GAAG;AAAA,MACP,MAAM,UAAU,MAAM;AACpB,cAAM,QAAQ,4BAA4B;AAC1C,iBAAS,2BAAS,CAAC,QAAQ;AAC3B,aAAK,2BAAS,CAAC,MAAM,4BAA4B;AAAA,UAC/C,QAAQ;AAAA,UACR;AAAA,QACF,CAAC;AACD,cAAM,mBAAmB,QAAQ;AACjC,aAAK,8BAAW,CAAC,kBAAkB,EAAE,UAAU,CAAC,oBAAoB,EAAE,CAAC;AAAA,MACzE;AAAA,MACA;AAAA,MACA,WAAW;AAAA,IACb,CAAC;AAAA,EACH;AAEA,iBAAe,SAAS,QAA6B;AACnD,QAAI;AACF,YAAM,KAAK,mBAAmB,EAAE,SAAS,OAAO,SAAS,IAAI,MAAM,CAAC;AACpE,YAAM,oBAAoB,EAAE;AAAA,IAC9B,SAAS,GAAG;AACV,cAAQ,CAAC;AAAA,IACX;AAAA,EACF;AAEA,WAAS,QAAQ,OAAgB;AAC/B,UAAM,UAAU,8BAAO,CAAC,KAAK,IAAI,MAAM,UAAU;AACjD,UAAM,MAAM,OAAO;AACnB,aAAS,2BAAS,CAAC,IAAI;AAAA,EACzB;AAEA,QAAM,mBAAmB,4BAAU,CAAC;AAAA,IAClC,SAAS,4BACA,CAAC,EACP,QAAQ,4BAA4B,EACpC,SAAS,iBAAiB,EAC1B,KAAK;AAAA,MACJ,SAAS;AAAA,MACT,KAAK,OAAO;AACV,cAAM,UAAU,IAAI,wBAAS,CAAC,KAAK;AACnC,cAAM,UAAU,IAAI,wBAAS,CAAC,MAAM,GAAG;AAEvC,eAAO,QAAQ,WAAW,QAAQ,aAAa,SAAS,QAAQ,CAAC;AAAA,MACnE;AAAA,IACF,CAAC,EACA,KAAK;AAAA,MACJ,SAAS;AAAA,MACT,KAAK,OAAO;AACV,cAAM,UAAU,IAAI,wBAAS,CAAC,KAAK;AAGnC,YACE,SAAS,SAAS,KAClB,QAAQ,cAAc,SAAS,CAAC,EAAE,UAAU,uBAAuB,GACnE;AACA,iBAAO;AAAA,QACT;AAGA,eAAO,QAAQ,oBAAoB,QAAQ,iBAAiB,MAAM;AAAA,MACpE;AAAA,IACF,CAAC;AAAA,EACL,CAAC;AAED,SAAO;AAAA,IACL,YAAY;AAAA,IACZ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF;;;;ACrHQ;AA7DiB;AACwB;AAE1B;AACK;AAGyB;AACF;AAEzB;AAEgB;AACR;AACI;AACC;AACc;AACQ;AAE1B;AACD;AAE3B,SAAS,sBAAsB;AACpC,QAAM,KAAK,yBAAyB,CAAC,OAAO;AAC5C,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,WAAW,yCAAW,CAAC;AAE7B,QAAM,QAAQ;AACd,QAAM,qBAAqB,oFAA4C,CAAC;AACxE,QAAM,wBAAwB,mBAAmB;AACjD,QAAM,EAAE,QAAQ,IAAI,+EAAoC,CAAC,qBAAqB;AAC9E,QAAM,EAAE,gBAAgB,UAAU,UAAU,kBAAkB,UAAU,IACtE,iBAAiB,CAAC,KAAK;AAEzB,QAAM,aAAa,kCAAW,CAAC,QAAQ,gBAAgB;AAEvD,QAAM,aAAa;AAAA,IACjB;AAAA,MACE,SAAS;AAAA,MACT,QAAQ,kCAAW,CAAC,+BAAQ,CAAC,iBAAiB,CAAC,uBAAuB,KAAK,CAAC,GAAG,KAAK;AAAA,IACtF;AAAA,EACF;AAEA,QAAM,UAAU,MAAM;AACpB,aAAS,2BAAS,CAAC,IAAI;AAAA,EACzB;AAEA,MAAI,CAAC,GAAI,QAAO;AAEhB,QAAM,iBAAiB,IAAI,GAAG,MAAM,SAAS,UAAU,QAAQ,CAAC,CAAC;AAEjE,SACE,4DACE;AAAA,IAAC,yBAAM;AAAN;AAAA,MACC,eAAe,EAAE,SAAS,eAAe;AAAA,MACzC;AAAA,MACA,kBAAkB;AAAA,MAClB,gBAAgB;AAAA,MAChB,iBAAiB;AAAA,MACjB;AAAA,MAEA,uEACE;AAAA;AAAA,UAAC,yBAAK;AAAL;AAAA,YACC,WAAW,SAAS,aAAa,2BAAS,CAAC;AAAA,YAC3C;AAAA,YACA,QAAQ,oCAAC,+BAAW,IAAC,OAAM,gBAAe;AAAA,YAC1C,QACE;AAAA,cAAC,kBAAkB;AAAlB;AAAA,gBACC,YAAY;AAAA,gBACZ;AAAA,gBACA,UAAU,MAAM,SAAS,2BAAS,CAAC,IAAI;AAAA;AAAA,YACzC;AAAA,YAGF,8CAAC,iBAAK,IAAC,KAAI,YAAW,IAAG,YAAW,IAAG,YACrC;AAAA,cAAC,cAAQ;AAAR;AAAA,gBACC,UACE,oCAAC,gBAAI,IAAC,YAAW,UAAS,gBAAe,UAAS,GAAE,YAClD,8CAAC,2BAAO,IAAC,GACX;AAAA,gBAGF;AAAA,sDAAC,2BAAO,IAAC,0KAGT;AAAA,kBACA,qCAAC,iBAAK,IAAC,KAAI,YACR;AAAA,6BAAS,oCAAC,sBAAsB,IAAC,aAAa,OAAO;AAAA,oBACtD,qCAAC,iBAAK,IAAC,KAAI,YACT;AAAA,0DAAC,iBAAK,IAAC,KAAI,YACT;AAAA,wBAAC,qBAAqB;AAArB;AAAA,0BACC,cAAc;AAAA,0BACd;AAAA,0BACA,6BAA6B;AAAA,0BAC7B,uBAAuB;AAAA;AAAA,sBACzB,GACF;AAAA,sBAEC,WAAW,qCAAC,2BAAO,IAAC;AAAA;AAAA,wBAAU;AAAA,yBAAW;AAAA,uBAC5C;AAAA,qBACF;AAAA;AAAA;AAAA,YACF,GACF;AAAA;AAAA,QACF;AAAA,QACA,oCAAC,gCAAM,IAAC;AAAA,SACV;AAAA;AAAA,EACF,GACF;AAEJ;;;;AC7G4B;AAE0B;AAChC;AAEyB;AAIxC,SAAS,2BAA2B;AACzC,QAAM,UAAU,+DAA8B,CAAC;AAC/C,QAAM,EAAE,QAAQ,IAAI,6DAAqC,CAAC,OAAO;AACjE,SAAO,qBAAW;AAAX,IACL,OAAO,OAAgB;AACrB,UAAI,OAAO,OAAO,SAAU,OAAM,4BAAK,CAAC,EAAE;AAC1C,WAAK,QAAQ;AAAA,IACf;AAAA,IACA,CAAC,OAAO;AAAA,EACV;AACF;;;;;;ACnBO,SAAS,oBAAoB,IAAY;AAC9C,QAAM,SAAS;AACf,MAAI,GAAG,WAAW,MAAM,EAAG,QAAO;AAClC,SAAO,SAAS;AAClB;;;;ACJO,IAAK,oBAAL,kBAAKC,uBAAL;AACL,EAAAA,mBAAA,+BAA4B;AAC5B,EAAAA,mBAAA,qBAAkB;AAClB,EAAAA,mBAAA,oBAAiB;AACjB,EAAAA,mBAAA,wBAAqB;AACrB,EAAAA,mBAAA,4BAAyB;AACzB,EAAAA,mBAAA,8BAA2B;AAC3B,EAAAA,mBAAA,kBAAe;AACf,EAAAA,mBAAA,4BAAyB;AACzB,EAAAA,mBAAA,6BAA0B;AAC1B,EAAAA,mBAAA,oBAAiB;AACjB,EAAAA,mBAAA,yBAAsB;AACtB,EAAAA,mBAAA,uBAAoB;AACpB,EAAAA,mBAAA,sBAAmB;AACnB,EAAAA,mBAAA,kBAAe;AACf,EAAAA,mBAAA,oBAAiB;AACjB,EAAAA,mBAAA,qBAAkB;AAClB,EAAAA,mBAAA,iBAAc;AACd,EAAAA,mBAAA,sBAAmB;AAEnB,EAAAA,mBAAA,8BAA2B;AAC3B,EAAAA,mBAAA,kCAA+B;AAC/B,EAAAA,mBAAA,iCAA8B;AAtBpB,SAAAA;AAAA;;;;ACCe;AAEO;AAE3B,SAAS,qBAAqB,KAAa;AAChD,MAAI,CAAC,IAAK,QAAO,iBAAiB,CAAC;AACnC,QAAM,QAAQ,iBAAiB,CAAC;AAChC,SAAO,MAAM,QAAQ,cAAc,OAAO,IAAI,QAAQ,CAAC;AACzD;AAEO,SAAS,+BACd,KACA,aACA;AACA,MAAI,CAAC,IAAK,QAAO,iBAAiB,CAAC;AACnC,QAAM,uBAAuB,IAAI,OAAO,GAAG,CAAC;AAE5C,QAAM,kBAAkB,iCAAU,CAAC,WAAW,IAAI,YAAY,GAAG,IAAI,IAAI,OAAO,SAAS,EAAE;AAE3F,SAAO,GAAG,iBAAiB,CAAC,mBAAmB,IAC7C,uBAAuB,MAAM,eAC/B,IAAI,IAAI,MAAM;AAChB;;;;ACvBqB;AAEsB;AACH;AAEN;AAE3B,SAAS,0BAA0B;AACxC,SAAO,4BACE,CAAC,EACP,SAAS,iBAAiB,CAAC,cAAc,EACzC,UAAU,2BAA2B;AAC1C;AAEA,SAAS,kCAAkC,WAAmB,cAAsB;AAClF,SAAO,4BACE,CAAC,EACP,SAAS,iBAAiB,CAAC,cAAc,EACzC,UAAU,iBAAiB,CAAC,YAAY,EACxC,KAAK;AAAA,IACJ,SAAS;AAAA,IACT,KAAK,OAAgB;AACnB,UAAI,CAAC,+BAAQ,CAAC,KAAK,EAAG,QAAO;AAC7B,aAAO,oCAAa,CAAC,KAAK,KAAK;AAAA,IACjC;AAAA,EACF,CAAC;AACL;AAEO,SAAS,+CAA2B,CAAC,UAAkB;AAC5D,SAAO,kCAAkC,mCAAY,EAAE,QAAQ;AACjE;AAEO,SAAS,4BAA4B,UAAkB;AAC5D,SAAO,kCAAkC,mCAAY,EAAE,QAAQ;AACjE;;;;AC9BmE;AAEE;AAI9D;AAOP,SAAS,oBAAoB;AAAA,EAC3B;AAAA,EACA;AAAA,EACA;AACF,GAA4B;AAC1B,SAAO,UAAU,oBAAoB,CAAC,gBAAgB,CAAC,EAAE,KAAK;AAAA,IAC5D,SAAS,8BAA8B;AAA9B,MAA+B;AAAA,MAAkB,SACxD,sCAAe,CAAC,GAAG,EAAE,SAAS;AAAA,IAChC;AAAA,IACA,KAAK,KAAc;AACjB,UAAI,CAAC,oBAAoB,CAAC,+BAAQ,CAAC,GAAG,EAAG,QAAO;AAChD,aAAO,iBAAiB,OAAO,uBAAuB,cAAc,GAAG,CAAC;AAAA,IAC1E;AAAA,EACF,CAAC;AACH;AAGO,SAAS,gBAAgB,kBAA0B;AACxD,SAAO,oBAAoB;AAAA,IACzB;AAAA,IACA,eAAe;AAAA,IACf,WAAW;AAAA,EACb,CAAC;AACH;AAEO,SAAS,gBAAgB,kBAA0B;AACxD,SAAO,oBAAoB;AAAA,IACzB;AAAA,IACA,eAAe,gCAAa;AAAb,IACf,WAAW,2BAA2B;AAA3B,EACb,CAAC;AACH;;;;AChD4B;AAEa;AACF;AAEV;AAMtB,SAAS,wBAAwB;AACtC,QAAM,EAAE,MAAM,kBAAkB,IAAI,iDAAsB,CAAC;AAE3D,QAAM,yBAAyB,qBAAW;AAAX,IAC7B,CAAC,EAAE,cAAc,KAAK,MAAkC;AACtD,6CAAY;AAAZ,QACE,iDAAwB,CAAC,EAAE,MAAM,cAAc,YAAY,mBAAmB,KAAK,CAAC;AAAA,MACtF;AAAA,IACF;AAAA,IACA,CAAC,MAAM,iBAAiB;AAAA,EAC1B;AAEA,SAAO;AAAA,IACL;AAAA,EACF;AACF;;;;;;;;;;;AC1B2B;AACM;AAc1B;AACmB;AAGK;AAEoB;AAE5C,MAAM,eAAe,CAAC,OAAiC;AAC5D,QAAM,EAAE,UAAU,IAAI;AACtB,MAAI,cAAc,UAAW,QAAO;AACpC,MAAI,cAAc,UAAW,QAAO;AACpC,SAAO;AACT;AAEO,MAAM,yBAAyB,CAAC,gBACrC,KAAK,gCAAU,CAAC,YAAY,UAAU,CAAC,CAAC;AAEnC,MAAM,eAAe,CAAC,gBAA0B;AACrD,UAAQ,YAAY,SAAS;AAAA,IAC3B,KAAK;AACH,aAAO,qCAAc,CAAC,YAAY,eAAe,YAAY,MAAM,GAAG,EAAE,CAAC,GAAG,CAAC;AAAA,IAC/E,KAAK;AACH,aAAO,YAAY,cAAc,YAAY,MAAM,GAAG,EAAE,CAAC;AAAA,IAC3D,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AACH,aAAO,qCAAc,CAAC,YAAY,OAAO,CAAC;AAAA,IAC5C;AACE,aAAO;AAAA,EACX;AACF;AAEA,MAAM,mBAAmB,CAAC,OAAuD;AAC/E,MAAI,GAAG,YAAY,gBAAiB,QAAO;AAC3C,MAAI,GAAG,cAAc,UAAW,QAAO;AACvC,QAAM,WAAW,GAAG,OAAO,KAAK,WAAS,MAAM,eAAe,sBAAsB;AACpF,MAAI,UAAU,eAAe,uBAAwB,QAAO;AAC5D,SAAO;AACT;AAEO,MAAM,aAAa,CAAC,IAAc,iBAAkD;AACzF,MAAI,GAAG,YAAY,kBAAkB;AACnC,WAAO,GAAG,eAAe,MAAM,EAAE,GAAG,oCAAW,CAAC;AAAA,MAC9C,OAAO,GAAG,eAAe;AAAA,MACzB,YAAY;AAAA,IACd,CAAC,CAAC;AAAA,EACJ;AACA,QAAM,WAAW,iBAAiB,EAAE;AACpC,MAAI,SAAU,QAAO,IAAI,0BAAS,CAAC,SAAS,MAAM,MAAM,EAAE,SAAS;AACnE,SAAO;AACT;AAEO,MAAM,aAAa,CAAC,OAAiB;AAC1C,UAAQ,GAAG,SAAS;AAAA,IAClB,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO,GAAG,cAAc;AAAA,IAC1B,KAAK;AACH,aAAO,8CAAqB,CAAC,GAAG,eAAe,WAAW;AAAA,IAC5D,KAAK;AACH,aAAO,YAAa,GAA2B,YAAY;AAAA,IAC7D,KAAK;AACH,aAAO;AAAA,IACT;AACE,aAAO;AAAA,EACX;AACF;AAIO,MAAM,+BAA+B,CAC1C,UACA,WACG;AACH,SAAO,IAAI,0BAAS,CAAC,MAAM,EAAE,UAAU,CAAC,QAAQ;AAClD;AAEO,SAAS,2BAA2B,QAA0B;AACnE,SACE,WAAW,6BAAgB,CAAC,eAC5B,WAAW,6BAAgB,CAAC,gBAC5B,WAAW,6BAAgB,CAAC;AAEhC;AAEO,SAAS,cAAc,IAAuB;AACnD,SAAO,GAAG,KAAK,aAAa,8BAAQ,CAAC;AACvC;AAEA,SAAS,4BACP,eACA,UACA,oBACQ;AACR,QAAM,UAAU,2CAAwB,CAAC,UAAU,kBAAkB;AACrE,MAAI,cAAc,WAAW,IAAI;AAC/B,UAAM,IAAI,MAAM,6BAA6B;AAAA,EAC/C;AACA,QAAM,OAAO,yCAAsB,CAAC,SAAS,cAAc,SAAS,KAAK,CAAC;AAC1E,SAAO,kCAAe,CAAC,IAAI;AAC7B;AAEO,SAAS,mBAAmB,IAA2C;AAC5E,MAAI,CAAC,IAAI,MAAM,mBAAmB,OAAQ;AAC1C,QAAM,WAAW;AAAA,IACf,MAAM,CAAC,KAAK,GAAG,KAAK,kBAAkB,QAAQ,KAAK;AAAA,IACnD,GAAG,KAAK,kBAAkB;AAAA,IAC1B,GAAG;AAAA,EACL;AACA,SAAO;AACT;AAEO,SAAS,6BACd,WACA,WACA;AACA,QAAM,YAAY,YACd,WAAW,QAAQ,oBACnB,WAAW,QAAQ;AAEvB,MAAI,CAAC,UAAW,QAAO;AAEvB,SAAO,IAAI,YAAY,EAAE;AAC3B;AAEO,SAAS,YAAY,IAAc;AACxC,SAAO,GAAG,cAAc;AAC1B;;;;ACtIqB;AATsB;AAEI;AAExC,SAAS,kBAAkB,OAAyB;AACzD,QAAM,EAAE,GAAG,IAAI;AACf,QAAM,2BAA2B,+DAA8B,CAAC;AAChE,QAAM,SAAS,GAAG,mBAAmB;AAErC,MAAI,OAAQ,QAAO,oCAAC,+BAAW,IAAC,OAAM,0BAAyB,SAAQ,SAAQ;AAE/E,SAAO,oCAAC,iCAAa,IAAC,OAAM,0BAAyB,SAAQ,SAAQ;AACvE;;;;ACHa;AAToC;AAEf;AAE3B,SAAS,gBAAgB,OAAyB;AACvD,QAAM,EAAE,GAAG,IAAI;AAEf,UAAQ,GAAG,SAAS;AAAA,IAClB,KAAK;AACH,aAAO,oCAAC,4BAAQ,IAAC,OAAM,0BAAyB,SAAQ,SAAQ;AAAA,IAClE,KAAK;AACH,aAAO,oCAAC,4BAAQ,IAAC,OAAM,0BAAyB,SAAQ,SAAQ;AAAA,IAClE,KAAK;AACH,aAAO,oCAAC,iBAAiB,IAAC,IAAQ;AAAA,IACpC,KAAK;AACH,aAAO,oCAAC,gCAAY,IAAC,OAAM,0BAAyB,SAAQ,SAAQ;AAAA,IACtE;AACE,aAAO;AAAA,EACX;AACF;;;;ACNI;AAZgC;AAM7B,SAAS,2BAA2B;AAAA,EACzC;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAAoC;AAClC,SACE;AAAA,IAAC,kBAAM;AAAN;AAAA,MACC,IAAG;AAAA,MACH,QAAO;AAAA,MACP,QAAO;AAAA,MACP,OAAM;AAAA,MACN,UAAS;AAAA,MACT,OAAM;AAAA,MACN,MAAK;AAAA,MACJ,GAAG;AAAA,MAEH;AAAA;AAAA,EACH;AAEJ;;;;ACEc;AA3Be;AAEG;AACW;AAI3C,SAAS,eAAe,IAAc;AACpC,QAAM,WAA2B;AAAA,IAC/B,SAAS;AAAA,IACT,SAAS;AAAA,IACT,QAAQ;AAAA,EACV;AAEA,SAAO,SAAS,YAAY,CAAC,EAAE,CAAC,KAAK;AACvC;AAKO,SAAS,oBAAoB,EAAE,YAAY,GAA6B;AAC7E,MACE,CAAC,YAAY,iBAAiB,kBAAkB,gBAAgB,EAAE,SAAS,YAAY,OAAO,GAC9F;AACA,WACE;AAAA,MAAC,0BAA0B;AAA1B;AAAA,QACC,IAAI,eAAe,WAAW;AAAA,QAC9B,MAAM,oCAAC,eAAe,IAAC,IAAI,aAAa;AAAA;AAAA,IAC1C;AAAA,EAEJ;AACA,SAAO;AACT;;;;AChBI;AAhBgC;AAIA;AAM7B,SAAS,uBAAuB;AAAA,EACrC;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAAgC;AAC9B,SACE;AAAA,IAAC,kBAAM;AAAN;AAAA,MACC,IAAG;AAAA,MACH,OAAM;AAAA,MACN,YAAY;AAAA,MACZ,UAAS;AAAA,MACT,MAAK;AAAA,MACJ,GAAG;AAAA,MAEH;AAAA;AAAA,QACD,oCAAC,mBAAmB,IAAC,aAA0B;AAAA;AAAA;AAAA,EACjD;AAEJ;;;;ACfsC;AAZ4C;AAE3C;AACH;AAK7B,SAAS,sBAAsB,EAAE,aAAa,GAAG,KAAK,GAAyB;AACpF,UAAQ,YAAY,SAAS;AAAA,IAC3B,KAAK;AACH,aACE,oCAAC,sBAAsB,IAAC,MAAM,oCAAC,iCAAa,IAAC,GAAI,aAA2B,GAAG,MAAM;AAAA,IAEzF,KAAK;AACH,aACE,oCAAC,sCAAkB,IAAC,OAAO,GAAG,YAAY,eAAe,WAAW,IAAK,GAAG,MAC1E,8CAAC,mBAAmB,IAAC,aAA0B,GACjD;AAAA,IAEJ,KAAK;AACH,aACE;AAAA,QAAC,sCAAkB;AAAlB;AAAA,UACC,OAAO,GAAG,YAAY,cAAc,WAAW,KAAK,YAAY,cAAc,aAAa;AAAA,UAC1F,GAAG;AAAA,UAEJ,8CAAC,mBAAmB,IAAC,aAA0B;AAAA;AAAA,MACjD;AAAA,IAEJ,KAAK;AACH,aACE,oCAAC,sBAAsB,IAAC,MAAM,oCAAC,iCAAa,IAAC,GAAI,aAA2B,GAAG,MAAM;AAAA,IAEzF,KAAK;AACH,aACE,oCAAC,sBAAsB,IAAC,MAAM,oCAAC,mCAAe,IAAC,GAAI,aAA2B,GAAG,MAAM;AAAA,IAE3F;AACE,aAAO;AAAA,EACX;AACF;;;;AC1BI;AAhBoB;AAEI;AACC;AAE7B,MAAM,+CAAqB,GACzB;AAKK,SAAS,wBAAwB,EAAE,YAAY,GAA2B;AAC/E,QAAM,YAAY,WAAW,CAAC,WAAW;AACzC,QAAM,WAAW,CAAC,aAAa,YAAY,cAAc;AAEzD,SACE,6DACG;AAAA,iBACC,oCAAC,iCAAY,IAAC,SAAO,MAAC,OAAO,+CAAqB,EAAE,MAAK,UACvD,8CAAC,2BAAO,IAAC,OAAM,iCAAgC,qBAAO,GACxD;AAAA,IAED,YACC,oCAAC,iCAAY,IAAC,OAAO,YAAY,WAAW,MAAK,UAC/C,8CAAC,2BAAO,IAAC,OAAM,iCAAgC,oBAAM,GACvD;AAAA,KAEJ;AAEJ;;;;ACiD+B;AA/EU;AAIf;AACA;AAEY;AAM/B;AACuB;AACD;AACS;AACL;AACO;AACP;AAEK;AACJ;AACI;AACE;AAUjC,SAAS,sBAAsB;AAAA,EACpC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA+B;AAC7B,QAAM,EAAE,uBAAuB,IAAI,qBAAqB,CAAC;AACzD,QAAM,iBAAiB,wDAAuB,CAAC;AAC/C,QAAM,YAAY,wDAAgB,CAAC;AAEnC,QAAM,EAAE,SAAS,IAAI,yCAAW,CAAC;AACjC,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,EAAE,WAAW,IAAI,wCAAa,CAAC;AAErC,QAAM,yBAAyB,CAAC,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,CAAC;AACpE,MAAI,CAAC,eAAe,CAAC,uBAAwB,QAAO;AAEpD,QAAM,aAAa,MAAM;AACvB,SAAK,2BAAS,CAAC,MAAM,kBAAkB;AACvC,2BAAuB;AAAA,MACrB,MAAM,aAAa,SAAS,QAAQ;AAAA,IACtC,CAAC;AAAA,EACH;AAEA,QAAM,gBAAgB,MAAM;AAC1B,QAAI,CAAC,YAAa;AAElB,UAAM,WAAW,2BAAS,CAAC,eAAe,QAAQ,SAAS,YAAY,KAAK;AAE5E,eAAW;AAAA,MACT,QAAQ,MACN,qCAAY,CAAC;AAAA,QACX,MAAM,MAAM,SAAS,QAAQ;AAAA,QAC7B,OAAO,MAAM,gDAAqB,CAAC,QAAQ;AAAA,MAC7C,CAAC,EAAE;AAAA,MACL,UAAU,MAAM,SAAS,QAAQ;AAAA,IACnC,CAAC,EAAE;AAAA,EACL;AAEA,QAAM,eAAe,aAAa,mBAAmB,gBAAgB;AACrE,QAAM,YAAY,eAAe,WAAW,CAAC,WAAW;AAExD,QAAM,YAAY,cAAc,YAAY,CAAC,WAAW,IAAI,WAAW;AACvE,QAAM,SAAS,cAAc,oCAAC,qBAAqB,IAAC,aAA0B,IAAK;AACnF,QAAM,UAAU,cAAc,UAAU,CAAC,WAAW,IAAI,SAAS;AACjE,QAAM,UAAU,cAAc,UAAU,CAAC,aAAa,YAAY,IAAI;AACtE,QAAM,oBACJ;AAAA,IAAC,iBAAiB;AAAjB;AAAA,MACC,WAAW,gBAAgB;AAAA,MAC3B,YAAY,aAAa,2BAAS,CAAC;AAAA,MACnC;AAAA;AAAA,EACF;AAEF,QAAM,WAAW,eAAe,oCAAC,uBAAuB,IAAC,aAA0B;AAEnF,SACE;AAAA,IAAC,qBAAqB;AAArB;AAAA,MACC;AAAA,MACA,cAAc,gBAAgB,YAAY,oBAAoB;AAAA,MAC9D;AAAA,MACA;AAAA,MACA;AAAA,MACA,SAAS,oCAAC,gBAAgB,IAAC,OAAO,SAAS;AAAA,MAC3C;AAAA,MACA;AAAA;AAAA,EACF;AAEJ;;;;;;AClGO;AAMA,SAAS,0BAA0B;AAAA,EACxC;AAAA,EACA;AACF,GAA8D;AAC5D,SAAO;AAAA,IACL,QAAQ,oCAAc;AAAd,IACR,QAAQ,qCAAe,CAAC;AAAA,IACxB,SAAS;AAAA,MACP,oBAAoB;AAAA,MACpB,qBAAqB;AAAA,IACvB;AAAA,EACF;AACF;;;;ACvBuB;AAEK;AACF;AAEgB;AAQnC,SAAS,oBAAoB,EAAE,gBAAgB,MAAM,MAAM,GAA4B;AAC5F,MAAI;AACF,UAAM,kBAAkB,yBAAyB,CAAC,EAAE,SAAS,gBAAgB,UAAU,KAAK,CAAC;AAC7F,WAAO,KAAK,YAAY,OAAO,eAAe;AAC9C,iCAAW,CAAC;AAAA,EACd,SAAS,GAAG;AAKV,SAAK,2BAAS,EAAE,MAAM,sCAAsC,EAAE,MAAM,EAAE,CAAC;AACvE,wBAAM,CAAC,MAAM,oCAAoC,CAAC;AAAA,EACpD;AACF;;;;;;;;ACxBO,SAAS,gBACd,QAOA;AACA,UAAQ,QAAQ;AAAA,IACd,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT;AACE,aAAO;AAAA,EACX;AACF;;;;;;AC7D2C;AAEpC,MAAM,+BAA+B,8DAA0B,CAAC;;;;ACF3C;AAIiB;AAE7C,MAAM,iCAAiC,gEAA4B,CAAC;AAAA,EAClE,WAAS,MAAM;AACjB;AAEO,SAAS,2BAA2B;AACzC,SAAO,mCAAW,CAAC,+BAA+B,SAAS;AAC7D;;;;ACZqC;AAID;AACL;AAEc;AACJ;AAGlC,SAAS,iCAAiC;AAC/C,QAAM,wBAAwB,wBAAwB,CAAC;AACvD,QAAMC,gCAA+B,gCAAgC;AACrE,SAAO,qBAAW;AAAX,IACL,CAAC,SAA+B;AAC9B,YAAM,eAAe,KAAK,IAAI,QAAM,GAAG,KAAK;AAC5C,4BAAsB,IAAI,QAAM;AAC9B,YAAI,aAAa,SAAS,mBAAmB,CAAC,GAAG,IAAI,CAAC;AACpD,iBAAOA,8BAA6B,0BAA0B,GAAG,IAAI;AACvE;AAAA,MACF,CAAC;AAAA,IACH;AAAA,IACA,CAAC,uBAAuBA,6BAA4B;AAAA,EACtD;AACF;AAEO,SAAS,kCAAkC;AAChD,QAAM,WAAW,gCAAc,CAAC;AAEhC,SAAO,iBAAO;AAAP,IACL,OAAO;AAAA,MACL,wBAAwB,EAAE,OAAO,KAAK,GAAyB;AAC7D,eAAO,SAAS,4BAA4B,CAAC,wBAAwB,EAAE,OAAO,KAAK,CAAC,CAAC;AAAA,MACvF;AAAA,MAEA,0BAA0B,MAAc;AACtC,eAAO,SAAS,4BAA4B,CAAC,0BAA0B,IAAI,CAAC;AAAA,MAC9E;AAAA,MAEA,yBAAyB,MAAc;AACrC,eAAO,SAAS,4BAA4B,CAAC,yBAAyB,IAAI,CAAC;AAAA,MAC7E;AAAA,IACF;AAAA,IACA,CAAC,QAAQ;AAAA,EACX;AACF;;;;AC9C4B;AAED;AAC6B;AAEzB;AAER;AACG;AAEM;AACS;AACd;AACS;AACX;AACoB;AACG;AAEhD,MAAM,qBAAqB;AAUpB,SAAS,6BAA6B,EAAE,WAAW,GAA6B;AACrF,QAAM,+BAA+B,+BAA+B,CAAC;AACrE,QAAM,QAAQ,6BAAQ,CAAC;AACvB,QAAM,qBAAqB,wBAAwB,CAAC;AAEpD,QAAM,EAAE,cAAc,UAAU,IAAI,UAAU,CAAC,UAAU;AACzD,QAAM,gBAAgB,uDAA4B,CAAC;AAEnD,SAAO,qBAAW;AAAX,IACL,CAAC,EAAE,WAAW,QAAQ,MACpB,OAAO,gBAAmC;AACxC,mBAAa;AACb,UAAI;AACF,cAAM,WAAW,MAAM,yCAAoB,CAAC,aAAa,aAAa;AACtE,YAAI,SAAS,OAAO;AAClB,8BAAM,CAAC,MAAM,yBAAyB,QAAQ;AAC9C,cAAI,SAAS,OAAQ,OAAM,MAAM,eAAe,CAAC,SAAS,MAAM,CAAC;AACjE,kBAAQ,SAAS,KAAK;AACtB,oBAAU;AAAA,QACZ,OAAO;AACL,8BAAM,CAAC,KAAK,yBAAyB,QAAQ;AAC7C,uCAA6B,wBAAwB;AAAA,YACnD,OAAO,gCAAU,CAAC,YAAY,UAAU,CAAC;AAAA,YACzC,MAAM,mBAAmB,CAAC,SAAS,IAAI;AAAA,UACzC,CAAC;AAED,gBAAM,4BAAK,CAAC,GAAG;AAEf,eAAK,2BAAS,CAAC,MAAM,yBAAyB,EAAE,QAAQ,MAAM,CAAC;AAC/D,oBAAU,mBAAmB,CAAC,SAAS,IAAI,CAAC;AAC5C,oBAAU;AACV,gBAAM,mBAAmB,kBAAkB;AAAA,QAC7C;AAAA,MACF,SAAS,OAAO;AACd,4BAAM,CAAC,MAAM,wBAAwB,EAAE,MAAM,CAAC;AAC9C,gBAAQ,8BAAO,CAAC,KAAK,IAAI,QAAQ,EAAE,MAAM,IAAI,SAAS,GAAG,CAAC;AAC1D,kBAAU;AAAA,MACZ;AAAA,IACF;AAAA,IACF;AAAA,MACE;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;AClEO;AAEqB;AACY;AAEjC,MAAM,iCAAiC,CAC5C,OACG;AACH,MAAI,GAAG,kBAAkB,uCAAiB,CAAC;AACzC,WAAO,GAAG,kCAAe,CAAC,GAAG,UAAU,OAAO,CAAC,IAAI,GAAG,UAAU,YAAY,IAC1E,GAAG,UAAU,UAAU,OACzB;AACF,MAAI,GAAG,kBAAkB,uCAAiB,CAAC,IAAK,QAAO;AACvD,SAAO,GAAG,UAAU,UAAU;AAChC;AAEO,MAAM,6BAA6B,CACxC,OACG;AACH,MAAI,GAAG,kBAAkB,uCAAiB,CAAC,SAAU,QAAO,GAAG,OAAO,SAAS;AAC/E,MAAI,GAAG,kBAAkB,uCAAiB,CAAC;AACzC,WAAO,oCAAW,CAAC,EAAE,OAAO,GAAG,OAAO,SAAS,GAAG,YAAY,MAAM,CAAC;AACvE,SAAO;AACT;AAEO,MAAM,6BAA6B,CACxC,OACG;AACH,MAAI,eAAe,IAAI;AACrB,WAAO,GAAG,UAAU,UAAU,QAAQ,MAAM,GAAG,CAAC,EAAE,YAAY;AAAA,EAChE;AACA,SAAO;AACT;AAEO,MAAM,2BAA2B,CACtC,OACG;AACH,MAAI,eAAe,IAAI;AACrB,WAAO,GAAG,UAAU,UAAU;AAAA,EAChC;AACA,SAAO;AACT;AAEO,SAAS,4BACd,MACA,UACA;AACA,QAAM,SAAS,WAAW,QAAQ;AAClC,UAAQ,MAAM;AAAA,IACZ,KAAK,2CAAqB,CAAC;AACzB,aAAO,GAAG,MAAM;AAAA,IAElB,KAAK,2CAAqB,CAAC;AACzB,aAAO,GAAG,MAAM;AAAA,IAElB,KAAK,2CAAqB,CAAC;AACzB,aAAO,GAAG,MAAM;AAAA,IAElB,KAAK,2CAAqB,CAAC;AACzB,aAAO,GAAG,MAAM;AAAA,IAElB,KAAK,2CAAqB,CAAC;AACzB,aAAO,GAAG,MAAM;AAAA,IAElB,KAAK,8CAAwB,CAAC;AAC5B,aAAO,GAAG,MAAM;AAAA,IAElB,KAAK,8CAAwB,CAAC;AAC5B,aAAO,GAAG,MAAM;AAAA,EACpB;AACF;AAcO,SAAS,qBACd,gBACA,gBACA,gBACiB;AACjB,QAAM,mBAAmB,oDAAoB,CAAC,cAAc;AAC5D,QAAM,0BAA0B,oDAAoB,CAAC,cAAc;AAEnE,SAAO,eAAe,IAAI,mBAAiB;AACzC,UAAM,yBAAyB,iBAAiB,aAAa;AAE7D,QAAI,kBAAkB,uBAAuB,UAAW,QAAO;AAC/D,UAAM,EAAE,WAAW,GAAG,QAAQ,IAAI;AAClC,UAAM,WAAW,iBAAiB,QAAQ,SAAS,UAAU,QAAQ;AACrE,UAAM,WAAW,iBAAiB,QAAQ,YAAY,UAAU,QAAQ;AACxE,UAAM,sBAAsB,YAAY;AACxC,WAAO;AAAA,MACL,GAAG;AAAA,MACH,WAAW,sBAAsB,0BAA0B;AAAA,IAC7D;AAAA,EACF,CAAC;AACH;AAEO,SAAS,iBAAiB,eAAsD;AACrF,SAAO,OAAO,kBAAkB,WAAW,gDAAuB,CAAC,aAAa,IAAI;AACtF;AAEO,SAAS,kBACd,gBAC6B;AAC7B,SAAO,gBAAgB,IAAI,gBAAgB;AAC7C;AAEA,MAAM,4BAA4B,CAAC,SAA2D;AAC5F,UAAQ,MAAM;AAAA,IACZ,KAAK,2CAAqB,CAAC;AACzB,aAAO;AAAA,IACT,KAAK,2CAAqB,CAAC;AACzB,aAAO;AAAA,IACT,KAAK,2CAAqB,CAAC;AACzB,aAAO;AAAA,IACT,KAAK,2CAAqB,CAAC;AACzB,aAAO;AAAA,IACT,KAAK,2CAAqB,CAAC;AACzB,aAAO;AAAA,IACT,KAAK,8CAAwB,CAAC;AAC5B,aAAO;AAAA,IACT,KAAK,8CAAwB,CAAC;AAC5B,aAAO;AAAA,IACT;AACE,aAAO;AAAA,EACX;AACF;AAEO,MAAM,wBAAwB,CACnC,OACG;AACH,SAAO,0BAA0B,GAAG,aAAa,KAAK;AACxD;;;;ACnJO;AAQA;AACQ;AAEW;AAEQ;AACS;AAE3C,SAAS,UAAU,OAAgB;AACjC,SAAO,UAAU,SAAY,IAAI,cAAE,CAAC,OAAO,EAAE,IAAI;AACnD;AAmBA,SAAS,+BAA+B,MAA0C;AAChF,QAAM,EAAE,QAAQ,WAAW,OAAO,IAAI,IAAI;AAC1C,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI;AAEJ,QAAM,SAAS,aAAa,IAAI,SAAO,8BAAa,CAAC,kCAAS,CAAC,GAAG,CAAC,CAAC;AAEpE,QAAM,UAAU;AAAA,IACd;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,YAAY,cAAc,gCAAU,CAAC;AAAA,IACrC,cAAc;AAAA,IACd,OAAO,UAAU,KAAK,GAAG,SAAS;AAAA,IAClC,KAAK,IAAI,cAAE,CAAC,KAAK,EAAE,EAAE,SAAS;AAAA,IAC9B;AAAA,IACA,gBAAgB,iBAAiB,CAAC,cAAc;AAAA,IAChD;AAAA,IACA;AAAA,EACF;AACA,SAAO,6CAAwB,CAAC,OAAO;AACzC;AAMA,SAAS,iCAAiC,MAA4C;AACpF,QAAM,EAAE,QAAQ,WAAW,OAAO,IAAI,IAAI;AAC1C,QAAM,EAAE,cAAc,UAAU,SAAS,gBAAgB,mBAAmB,WAAW,IAAI;AAC3F,QAAM,UAAU;AAAA,IACd;AAAA,IACA;AAAA,IACA,OAAO,UAAU,KAAK,GAAG,SAAS;AAAA,IAClC,KAAK,IAAI,cAAE,CAAC,KAAK,EAAE,GAAG,SAAS;AAAA,IAC/B;AAAA,IACA,YAAY,cAAc,gCAAU,CAAC;AAAA,IACrC;AAAA,IACA,gBAAgB,iBAAiB,CAAC,cAAc;AAAA,IAChD;AAAA,EACF;AACA,SAAO,+CAA0B,CAAC,OAAO;AAC3C;AAMA,SAAS,8BAA8B,MAAyC;AAC9E,QAAM,EAAE,QAAQ,WAAW,OAAO,IAAI,IAAI;AAC1C,QAAM,EAAE,WAAW,MAAM,QAAQ,SAAS,WAAW,IAAI;AACzD,QAAM,UAAU;AAAA,IACd;AAAA,IACA;AAAA,IACA;AAAA,IACA,YAAY,cAAc,gCAAU,CAAC;AAAA,IACrC,QAAQ,IAAI,cAAE,CAAC,MAAM,EAAE,SAAS;AAAA,IAChC,OAAO,UAAU,KAAK,GAAG,SAAS;AAAA,IAClC,KAAK,IAAI,cAAE,CAAC,KAAK,EAAE,EAAE,SAAS;AAAA,IAC9B;AAAA,EACF;AACA,SAAO,iDAA4B,CAAC,OAAO;AAC7C;AAKO,eAAe,4BAA4B,SAA6C;AAC7F,QAAM,EAAE,QAAQ,WAAW,OAAO,IAAI,IAAI;AAC1C,QAAM,UAAU,0BAA0B,CAAC,OAAO,MAAM;AAExD,MAAI,CAAC,QAAS,OAAM,IAAI,MAAM,6BAA6B,OAAO,MAAM,EAAE;AAE1E,UAAQ,OAAO,QAAQ;AAAA,IACrB,KAAK,6BAAgB,CAAC;AACpB,aAAO,8BAA8B,EAAE,QAAQ,WAAW,OAAO,IAAI,CAAC;AAAA,IACxE,KAAK,6BAAgB,CAAC;AACpB,aAAO,+BAA+B,EAAE,QAAQ,WAAW,OAAO,IAAI,CAAC;AAAA,IACzE,KAAK,6BAAgB,CAAC;AACpB,aAAO,iCAAiC,EAAE,QAAQ,WAAW,OAAO,IAAI,CAAC;AAAA,EAC7E;AACF;;;;;;ACnI2C;AAEpC,eAAe,+BACpB,YAC4B;AAC5B,SAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtC,aAAS,gBAAgB,KAA8C;AACrE,UAAI,IAAI,eAAe,YAAY;AACjC,0CAAS,CAAC,YAAY,wBAAwB,eAAe;AAC7D,0CAAS,CAAC,YAAY,kCAAkC,qBAAqB;AAC7E,gBAAQ,IAAI,QAAQ;AAAA,MACtB;AAAA,IACF;AACA,sCAAS,CAAC,UAAU,wBAAwB,eAAe;AAE3D,aAAS,sBAAsB,KAAwD;AACrF,UAAI,IAAI,eAAe,YAAY;AACjC,0CAAS,CAAC,YAAY,kCAAkC,qBAAqB;AAC7E,0CAAS,CAAC,YAAY,wBAAwB,eAAe;AAC7D,eAAO,IAAI,MAAM,sCAAsC,CAAC;AAAA,MAC1D;AAAA,IACF;AACA,sCAAS,CAAC,UAAU,kCAAkC,qBAAqB;AAAA,EAC7E,CAAC;AACH;;;;;;AC1BwB;AAG+B;AAEK;AAKrD;AACwC;AAEJ;AAEpC,SAAS,yBACd,SACA,SACA;AACA,MAAI,CAAC,WAAW,CAAC,QAAS;AAE1B,MAAI,QAAQ,gBAAgB;AAC1B,QAAI,QAAQ;AACV,aAAO,oBAAoB,CAAC,QAAQ,gBAAgB,QAAQ,YAAY,OAAO;AAEjF,WAAO,QAAQ,eAAe,IAAI,gBAAgB;AAAA,EACpD;AACA,SAAO,CAAC;AACV;AAEO,SAAS,4BAA4B;AAC1C,SAAO,oDAA0B,CAAC,GAAG;AACvC;AAEO,SAAS,wBAAwB;AACtC,QAAM,UAAU,oDAA0B,CAAC;AAC3C,QAAM,UAAU,+DAA8B,CAAC;AAC/C,SAAO,iBAAO,CAAC,MAAM,yBAAyB,SAAS,OAAO,GAAG,CAAC,SAAS,OAAO,CAAC;AACrF;AAEO,SAAS,kCAAkC,IAA2B;AAC3E,QAAM,kBAAkB,kCAAe,CAAC,GAAG,UAAU,OAAO;AAC5D,QAAM,eAAe,GAAG,UAAU,aAAa;AAC/C,QAAM,aAAa,GAAG,eAAe,IAAI,YAAY;AACrD,QAAM,EAAE,MAAM,MAAM,IAAI,wDAAgC,CAAC,UAAU;AAEnE,SAAO,EAAE,SAAS,iCAAS,CAAC,KAAK,KAAK,SAAY;AACpD;;;;AC/CqC;AACZ;AAEE;AACM;AAS1B;AACQ;AAEc;AACc;AAEpB;AAGe;AAI/B;AACuB;AACiB;AACb;AACT;AAIlB;AACsC;AAEP;AACK;AAEpC,SAAS,+BAA+B;AAC7C,SAAO,qBAAqB,CAAC;AAC/B;AAEO,SAAS,wCAAwC;AACtD,QAAM,UAAU,uDAA4B,CAAC;AAC7C,QAAM,aAAa,+DAA8B,CAAC;AAClD,QAAM,EAAE,MAAM,UAAU,IAAI,oCAAY,CAAC,UAAU;AACnD,QAAM,UAAU,oDAA0B,CAAC;AAC3C,QAAM,iBAAiB,6BAA6B;AACpD,QAAM,UAAU,wDAAuB,CAAC;AAExC,QAAM,UAAU,iBAAO;AAAP,IACd,OAAO;AAAA,MACL,KAAK;AAAA,MACL,WAAW,SAAS;AAAA,MACpB,OAAO,WAAW,SAAS;AAAA,MAC3B,QAAQ,EAAE,GAAG,SAAS,gBAAgB,QAAQ;AAAA,IAChD;AAAA,IACA,CAAC,SAAS,cAAc,SAAS,WAAW,OAAO,SAAS,cAAc;AAAA,EAC5E;AAEA,QAAM,cAAc,yCAAQ,CAAC,YAAY;AACvC,WAAO,2BAA2B,CAAC,OAA6C;AAAA,EAClF,GAAG,CAAC,SAAS,WAAW,OAAO,SAAS,UAAU,CAAC,EAAE;AAErD,SAAO,iBAAO,CAAC,MAAM;AACnB,QAAI,CAAC,WAAW,CAAC,WAAW,CAAC,WAAY,QAAO,EAAE,aAAa,QAAW,QAAQ;AAElF,QACE,QAAQ,WAAW,6BAAgB,CAAC,gBACpC,CAAC,8CAAqB,CAAC,QAAQ,eAAe,GAC9C;AACA,aAAO,EAAE,aAAa,QAAW,QAAQ;AAAA,IAC3C;AAEA,WAAO,EAAE,aAAa,QAAQ;AAAA,EAChC,GAAG,CAAC,SAAS,SAAS,SAAS,YAAY,WAAW,CAAC;AACzD;AAEO,SAAS,qCAAqC,QAAqC;AACxF,QAAM,4BAA4B,6BAA6B,MAAM;AACrE,SAAO,iBAAO,CAAC,MAAM,2BAA2B,CAAC,yBAAyB,CAAC;AAC7E;AASO,SAAS,kBAAkB,SAA+C;AAC/E,QAAM,EAAE,iBAAiB,mBAAmB,cAAc,YAAY,OAAO,IAAI;AAEjF,QAAM,YAAY,+CAAe,CAAC,iBAAiB,cAAc,iBAAiB;AAClF,SAAO,sDAAiC;AAAjC,IACL;AAAA,IACA,2CAAqB,CAAC;AAAA,IACtB,IAAI,cAAE,CAAC,QAAQ,EAAE,EAAE,SAAS;AAAA,IAC5B;AAAA,EACF;AACF;AAEO,SAAS,uCAAuC;AACrD,QAAM,oBAAoB,sCAAsC;AAChE,QAAM,aAAa,+DAA8B,CAAC;AAClD,QAAM,EAAE,MAAM,UAAU,IAAI,oCAAY,CAAC,UAAU;AAEnD,SAAO,qBAAW;AAAX,IACL,CAAC,WAAwC;AACvC,UAAI,CAAC,qBAAqB,kCAAW,CAAC,WAAW,KAAK,EAAG,QAAO;AAChE,YAAM,EAAE,QAAQ,IAAI;AACpB,aAAO,2BAA2B,CAAC;AAAA,QACjC,GAAG;AAAA,QACH,KAAK,oCAAa,CAAC,OAAO,GAAG,EAAE,SAAS;AAAA,QACxC,OAAO,OAAO,OAAO,KAAK,KAAK,WAAW;AAAA,MAC5C,CAAC;AAAA,IACH;AAAA,IACA,CAAC,WAAW,OAAO,iBAAiB;AAAA,EACtC;AACF;AAEA,SAAS,6BAA6B,QAAqC;AACzE,QAAM,aAAa,qCAAqC;AAExD,QAAM,KAAK,yCAAQ,CAAC,YAAY;AAC9B,WAAO,WAAW,UAAU,MAAS;AAAA,EACvC,GAAG,CAAC,MAAM,CAAC;AAEX,SAAO,GAAG;AACZ;AAEA,SAAS,mCAAmC;AAC1C,QAAM,QAAQ,6BAAQ,CAAC;AACvB,QAAM,UAAU,wDAAuB,CAAC;AAExC,SAAO,qBAAW;AAAX,IACL,CAAC,OAA0B;AACzB,UAAI,SAAS,SAAS,YAAY;AAChC,SAAC,MAAM,OAAO,oBAAM,CAAC,KAAK,EAAE;AAAA,UAAQ,QAClC,GAAG,kEAAkE;AAAA,QACvE;AACA;AAAA,MACF;AACA,YAAM,SAAS,IAAI,mCAAiB,CAAC,EAAE;AACvC,UAAI,CAAC,QAAS,QAAO;AACrB,aAAO,WAAW,uCAAsB,CAAC,QAAQ,aAAa,CAAC;AAC/D,aAAO;AAAA,IACT;AAAA,IACA,CAAC,SAAS,MAAM,KAAK;AAAA,EACvB;AACF;AAEO,SAAS,2BAA2B;AACzC,QAAM,EAAE,WAAW,IAAI,wCAAa,CAAC;AACrC,QAAM,iBAAiB,gDAAiB,CAAC;AACzC,QAAM,iBAAiB,iCAAiC;AAExD,SAAO,CAAC,OACN,WAAW;AAAA,IACT,MAAM,OAAOC,KAAuB;AAClC,qBAAe,sCAAsCA,GAAE;AACvD,aAAO,8BAA8B,CAAC,uCAAU,CAACA,IAAG,UAAU,CAAC,CAAC;AAAA,IAClE;AAAA,IACA,MAAM,SAASA,KAAuB;AACpC,aAAO,eAAeA,GAAE;AAAA,IAC1B;AAAA,EACF,CAAC,EAAE,EAAE;AACT;;;;;;;;;;ACzK4B;AAUrB;AACe;AAMf;AASA;AAEsC;AACA;AACN;AAEhC,SAAS,4BAA4B,OAAuB;AAEjE,QAAM,kBAAkB,8DAAsC,CAAC,KAAsB;AACrF,QAAM,EAAE,UAAU,IAAI,iDAAsB,CAAC;AAC7C,QAAM,EAAE,MAAM,UAAU,IAAI,yDAAiC,CAAC;AAE9D,WAAS,uBAAuB,MAAc,UAA6B,UAAmB;AAC5F,WAAO;AAAA,MACL,OAAO;AAAA,QACL,QAAQ;AAAA,UACN,YAAY;AAAA,UACZ,MAAM,QAAQ;AAAA,QAChB;AAAA,QACA;AAAA,QACA,GAAG,oBAAoB,UAAU,OAAO,QAAQ;AAAA,MAClD;AAAA,IACF;AAAA,EACF;AAEA,WAAS,oBAAoB,IAAuB,SAAS,OAAO,WAAW,GAAG;AAChF,QAAI,WAAW,OAAO;AACpB,aAAO,mBAAmB,IAAI,QAAQ,QAAQ;AAAA,IAChD;AAEA,UAAM,UAAU,GAAG;AACnB,UAAM,UAAU,QAAQ;AACxB,UAAM,MAAM,GAAG,KAAK,kBAAkB;AACtC,UAAM,cAAc,SAAS,MAAM,WAAW;AAC9C,UAAM,kBAAkB,qDAA4B,CAAC,WAAW,KAAK;AAErE,WAAO;AAAA,MACL,WAAW,kCAAe,CAAC,QAAQ,UAAU,OAAO;AAAA,MACpD,KAAK,kCAAW,CAAC,0DAAmC,CAAC,OAAO,OAAO,GAAG,CAAC,CAAC;AAAA,MACxE,YAAY,kCAAW,CAAC,0DAAmC,CAAC,OAAO,OAAO,UAAU,GAAG,CAAC,CAAC;AAAA,MACzF,WAAW,4BAA4B,CAAC,WAAW,SAAS;AAAA,MAC5D,QAAQ;AAAA,MACR,SAAS,oCAAa,CAAC,OAAO,OAAO,CAAC,EAAE,SAAS;AAAA,MACjD,cAAc,kCAAW,CAAC,0DAAmC,CAAC,OAAO,OAAO,OAAO,CAAC,CAAC;AAAA,MACrF,aAAa,yCAAkB;AAAlB,QACX,gDAAyB,CAAC,kCAAW,CAAC,OAAO,QAAQ,MAAM,GAAG,KAAK,GAAG,eAAe;AAAA,MACvF;AAAA,MACA,mBAAmB,gBAAgB,MAAM;AAAA,MACzC,OAAO,OAAO,GAAG,KAAK,kBAAkB,KAAK;AAAA,MAC7C;AAAA,IACF;AAAA,EACF;AAEA,WAAS,wBAAwB,SAAsC;AACrE,UAAM,aAAa;AACnB,QAAI,CAAC,gCAAS,CAAC,QAAQ,aAAa,CAAC,CAAC,GAAG;AACvC,aAAO;AAAA,IACT;AACA,UAAM,SAAS,QAAQ,aAAa,CAAC,EAAE,SAAS,oCAAW,CAAC;AAC5D,WAAO,SAAS,iCAAW,CAAC,gCAAW,CAAC,QAAQ,aAAa,CAAC,CAAC,CAAC,IAAI;AAAA,EACtE;AAEA,WAAS,mBAAmB,IAAuB,QAAgB,WAAW,GAAG;AAC/E,UAAM,UAAU,GAAG;AACnB,UAAM,MAAM,GAAG,KAAK,kBAAkB;AACtC,UAAM,UAAU,OAAQ,QAAQ,aAAa,CAAC,EAAY,KAAK;AAC/D,UAAM,kBAAkB,wBAAwB,OAAO;AAEvD,UAAM,eAAe,kCAAW;AAAX,MACnB,0DAAmC,CAAC,QAAQ,SAAS,QAAQ;AAAA,IAC/D;AACA,UAAM,WAAW,kCAAW,CAAC,0DAAmC,CAAC,OAAO,OAAO,GAAG,CAAC,CAAC;AACpF,UAAM,aAAa,GAAG,YAAY,MAAM,QAAQ;AAEhD,UAAM,mBAAmB,gDAAyB;AAAzB,MACvB,kCAAW,CAAC,SAAS,OAAO,YAAY,GAAG,QAAQ;AAAA,MACnD;AAAA,IACF;AAEA,UAAM,cAAc,iBAAiB,OAAO,SAAS,IACjD,yCAAkB,CAAC,gBAAgB,IACnC;AAEJ,WAAO;AAAA,MACL,WAAW,mCAAU,CAAC,QAAQ,aAAa,CAAC,CAAC;AAAA,MAC7C,WAAW,4BAA4B,CAAC,WAAW,SAAS;AAAA,MAC5D,SAAS,IAAI,wBAAS,CAAC,OAAO,EAAE,UAAU,CAAC,QAAQ,EAAE,SAAS;AAAA,MAC9D,OAAO,OAAO,GAAG,KAAK,kBAAkB,KAAK;AAAA,MAC7C,KAAK;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA,mBAAmB,gBAAgB,MAAM;AAAA,MACzC;AAAA,MACA;AAAA,IACF;AAAA,EACF;AAEA,SAAO;AAAA,IACL;AAAA,IACA;AAAA,EACF;AACF;;;;AChIkC;AACN;AAEgB;AAGH;AAEL;AACb;AACG;AAEc;AACZ;AACiB;AACN;AACd;AACa;AACG;AAEG;AAE5C,eAAe,0CAA0C;AACvD,QAAM,4BAAK,CAAC,GAAI;AAClB;AAQO,SAAS,8BAA8B;AAAA,EAC5C;AAAA,EACA;AAAA,EACA;AACF,GAAsC;AACpC,QAAM,wBAAwB,wBAAwB,CAAC;AACvD,QAAM,CAAC,gBAAgB,iBAAiB,IAAI,kBAAQ,CAAC,KAAK;AAC1D,QAAM,EAAE,MAAM,IAAI,oEAAuB,CAAC;AAC1C,QAAM,eAAe,+CAAqB,CAAC;AAC3C,QAAM,EAAE,uBAAuB,IAAI,2BAA2B,CAAC,KAAK;AACpE,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,QAAQ,6BAAQ,CAAC;AAEvB,QAAM,yBAAyB,4BAA4B,CAAC;AAAA,IAC1D,YAAY,WAAW,CAAC;AAAA,EAC1B,CAAC;AAED,SAAO,iBAAO,CAAC,MAAM;AACnB,aAAS,qBAAqB,UAA6B,MAAe;AACxE,UAAI,gBAAgB,OAAO;AACzB,2BAAmB,CAAC;AAAA,UAClB,gBAAgB;AAAA,UAChB;AAAA,UACA,MAAM;AAAA,YACJ,OAAO,sBAAsB,CAAC,QAAQ;AAAA,YACtC;AAAA,UACF;AAAA,QACF,CAAC;AAAA,MACH;AACA,UAAI,MAAM;AACR,YAAI,0BAA0B;AAC5B,mBAAS,2BAAS,CAAC,QAAQ;AAC3B;AAAA,QACF;AAEA;AAAA,UACE,2BAAS,CAAC,iBAAiB,QAAQ,WAAW,MAAM,YAAY,CAAC,EAAE;AAAA,YACjE;AAAA,YACA,GAAG,IAAI;AAAA,UACT;AAAA,UACA,uBAAuB,MAAM,UAAU,QAAQ;AAAA,QACjD;AAAA,MACF;AAAA,IACF;AAEA,mBAAe,2BAA2B,UAA6B;AACrE,UAAI,CAAC,UAAU;AACb,4BAAM,CAAC,MAAM,8CAA8C;AAC3D,cAAM,MAAM,iCAAiC;AAC7C;AAAA,MACF;AACA,UAAI;AACF,0BAAkB,IAAI;AACtB,cAAM,cAAc,SAAS,MAAM,aAAa,8BAAQ,CAAC;AACzD,YAAI,aAAa;AACf,gBAAM,wCAAwC;AAC9C,+BAAqB,QAAQ;AAAA,QAC/B,OAAO;AACL,gBAAM,uBAAuB;AAAA,YAC3B,QAAQ,GAAmB;AACzB,oBAAM,UAAU,+BAAQ,CAAC,CAAC,IAAI,IAAI,EAAE;AACpC,uBAAS,2BAAS,CAAC,2BAA2B,EAAE,OAAO,EAAE,QAAQ,EAAE,CAAC;AAAA,YACtE;AAAA,YACA,UAAU,MAAM;AACd,mCAAqB,UAAU,IAAI;AACnC,kBAAI,0BAA0B;AAC5B,sBAAM,QAAQ,4BAA4B;AAAA,cAC5C;AAAA,YACF;AAAA,YACA,cAAc;AAAA,UAChB,CAAC,EAAE,QAAQ;AAAA,QACb;AAAA,MACF,SAAS,GAAG;AACV,iBAAS,2BAAS,CAAC,2BAA2B;AAAA,UAC5C,OAAO,EAAE,SAAS,8BAAO,CAAC,CAAC,IAAI,EAAE,UAAU,gBAAgB;AAAA,QAC7D,CAAC;AAAA,MACH,UAAE;AACA,0BAAkB,KAAK;AAAA,MACzB;AAAA,IACF;AAEA,mBAAe,qBAAqB,YAA+B;AACjE,UAAI;AACF,YAAI,CAAC,WAAY;AACjB,cAAM,WAAW,MAAM,sBAAsB,UAAU;AAEvD,YAAI,CAAC,SAAU;AACf,cAAM,2BAA2B,QAAQ;AAAA,MAC3C,SAAS,GAAG;AAAA,MAAC;AAAA,IACf;AAEA,WAAO;AAAA,MACL,4BAA4B;AAAA,MAC5B;AAAA,IACF;AAAA,EACF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AACH;;;;ACnII;AAToC;AAKjC,SAAS,oBAAoB,OAAiC;AACnE,QAAM,EAAE,YAAY,GAAG,KAAK,IAAI;AAEhC,SACE;AAAA,IAAC,kBAAM,CAAC;AAAA,IAAP;AAAA,MACC,QAAQ,EAAE,QAAQ,QAAQ;AAAA,MAC1B,QAAQ,EAAE,IAAI,iCAAiC;AAAA,MAC/C,QAAO;AAAA,MACP,cAAa;AAAA,MAEb,IAAG;AAAA,MACH,IAAG;AAAA,MACH,MAAK;AAAA,MACJ,GAAG;AAAA,MAEH;AAAA;AAAA,QAAW;AAAA;AAAA;AAAA,IANP,YAAY,UAAU;AAAA,EAO7B;AAEJ;;;;ACRI;AAfgC;AAEA;AAEpC,MAAM,cAAc,CAAC,GAAG,GAAG,EAAE;AAOtB,SAAS,cAAc,OAA2B;AACvD,QAAM,EAAE,oBAAoB,WAAW,GAAG,KAAK,IAAI;AAEnD,SACE,qCAAC,kBAAM,IAAC,YAAW,UAAU,GAAG,MAC7B;AAAA,iBACC;AAAA,MAAC,mBAAmB;AAAnB;AAAA,QACC,YAAY;AAAA,QAEZ,SAAS,MAAM,mBAAmB,CAAC;AAAA;AAAA,MAD9B;AAAA,IAEP;AAAA,IAED,YAAY,IAAI,gBACf;AAAA,MAAC,mBAAmB;AAAnB;AAAA,QACC;AAAA,QACA,SAAS,MAAM,mBAAmB,UAAU;AAAA;AAAA,MACvC,YAAY,UAAU;AAAA,IAC7B,CACD;AAAA,KACH;AAEJ;;;;ACGI;AAnC2C;AAEtB;AACK;AAEe;AAElB;AAEG;AAKvB,SAAS,iBAAiB,OAAiD;AAChF,QAAM,EAAE,WAAW,IAAI;AACvB,QAAM,CAAC,OAAO,MAAM,OAAO,IAAI,+BAAQ,CAAC,KAAK;AAC7C,QAAM,CAAC,UAAU,WAAW,IAAI,kBAAQ,CAAC,KAAK;AAE9C,QAAM,sBAAsB,iBAAO,CAAC,MAAM;AACxC,QAAI,SAAU,QAAO;AACrB,QAAI,CAAC,WAAY,QAAO;AACxB,WAAO,oCAAa,CAAC,MAAM,KAAK,EAAE,SAAS,MAAM;AAAA,EACnD,GAAG,CAAC,YAAY,UAAU,MAAM,KAAK,CAAC;AAEtC,QAAM,qBAAqB,qBAAW;AAAX,IACzB,OAAO,eAAuB;AAC5B,UAAI,CAAC,WAAY;AACjB,kBAAY,eAAe,CAAC;AAC5B,YAAM,QAAQ,SAAS,oCAAa,CAAC,aAAa,UAAU,CAAC;AAAA,IAC/D;AAAA,IACA,CAAC,YAAY,OAAO;AAAA,EACtB;AAEA,SACE,6DACE;AAAA,yCAAC,iBAAK,IAAC,UAAS,YAAW,OAAM,QAC/B;AAAA;AAAA,QAAC,aAAa;AAAb;AAAA,UACC,IAAG;AAAA,UACH,QAAO;AAAA,UACP,KAAK;AAAA,UACL,OAAO;AAAA,UACP,QAAQ;AAAA,UACR,UAAS;AAAA,UACT,WAAW;AAAA,UACX;AAAA;AAAA,MACF;AAAA,MACA,oCAAC,kBAAM,CAAC,OAAP,EAAa,SAAQ,OAAM,SAAQ,QAAO,iBAE3C;AAAA,MACA;AAAA,QAAC,kBAAM,CAAC;AAAA,QAAP;AAAA,UACC,QAAQ,EAAE,QAAQ,QAAQ;AAAA,UAC1B,cAAa;AAAA,UACb,IAAG;AAAA,UACH,QAAO;AAAA,UACP,cAAa;AAAA,UACb,QAAO;AAAA,UACP,SAAQ;AAAA,UACR,GAAE;AAAA,UACF,aAAY;AAAA,UACZ,MAAK;AAAA,UACL,WAAU;AAAA,UACV,OAAM;AAAA,UACL,GAAG;AAAA;AAAA,MACN;AAAA,OACF;AAAA,IACC,KAAK,SAAS,oCAAC,UAAU,IAAE,eAAK,OAAM;AAAA,KACzC;AAEJ;;;;ACF4C;AAnEK;AACW;AAGtC;AACC;AACK;AACP;AAMd;AAC8C;AACR;AAEnB;AAEe;AACb;AACQ;AACJ;AACD;AACO;AACQ;AACrB;AACsB;AACC;AAEb;AACF;AAE1B,SAAS,sBAAsB;AACpC,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,EAAE,KAAK,IAAI,sCAAS,CAAC;AAC3B,QAAM,QAAQ,6BAAQ,CAAC;AACvB,QAAM,qBAAqB,wBAAwB,CAAC;AACpD,QAAM,EAAE,MAAM,IAAI,WAAW,YAAY,IAAI,kDAA0B,CAAC,QAAQ,EAAE;AAClF,QAAM,aAAa,+DAA8B,CAAC;AAClD,QAAM,2BAA2B,sDAA8B,CAAC,UAAU;AAC1E,QAAM,+BAA+B,+BAA+B,CAAC;AACrE,QAAM,EAAE,gBAAgB,MAAM,IAAI,+CAAuB,CAAC,QAAQ,EAAE;AACpE,QAAM,EAAE,2BAA2B,IAAI,6BAA6B,CAAC;AAAA,IACnE,OAAO;AAAA,IACP,0BAA0B;AAAA,EAC5B,CAAC;AAED,qBAAS,CAAC,MAAM;AACd,QAAI,MAAM,GAAG,cAAc,WAAW;AACpC,YAAM,KAAK,wDAAwD;AAAA,IACrE;AAAA,EACF,GAAG,CAAC,OAAO,IAAI,IAAI,SAAS,CAAC;AAE7B,QAAM,WAAW,qBAAW;AAAX,IACf,OAAO,QAAaC,WAA8B;AAChD,UAAI,CAAC,MAAM,CAACA,OAAO;AACnB,MAAAA,OAAM,OAAO,oCAAa,CAAC,OAAO,GAAG,EAAE,SAAS,CAAC;AACjD,YAAMC,QAAO,GAAG,SAAS,mBAAmB,CAACD,OAAM,KAAK,CAAC;AACzD,YAAM,mBAAmB;AACzB,mCAA6B,yBAAyBC,KAAI;AAC1D,YAAM,2BAA2BD,MAAK;AAAA,IACxC;AAAA,IACA,CAAC,IAAI,oBAAoB,8BAA8B,0BAA0B;AAAA,EACnF;AAEA,MAAI,kBAAkB,YAAa,QAAO,oCAAC,cAAc,IAAC;AAC1D,MAAI,CAAC,KAAM,QAAO;AAElB,QAAM,MAAM,OAAO,OAAO,KAAK,mBAAmB,GAAG;AACrD,QAAM,mBAAmB,4BAAU,CAAC,EAAE,KAAK,eAAe,CAAC,wBAAwB,EAAE,CAAC;AAEtF,SACE,4DACE;AAAA,IAAC,yBAAM;AAAN;AAAA,MACC,eAAe,EAAE,KAAK,IAAI,wBAAS,CAAC,oCAAa,CAAC,GAAG,CAAC,EAAE,SAAS,EAAE;AAAA,MACnE,UAAU,YAAU,SAAS,QAAQ,KAAK;AAAA,MAC1C,kBAAkB;AAAA,MAClB,gBAAgB;AAAA,MAChB,iBAAiB;AAAA,MACjB;AAAA,MAEC,qBACC,6DACE;AAAA;AAAA,UAAC,yBAAK;AAAL;AAAA,YACC,WAAW,SAAS,aAAa,2BAAS,CAAC,eAAe,QAAQ,SAAS,IAAI;AAAA,YAC/E,SAAS,MAAM,SAAS,2BAAS,CAAC,IAAI;AAAA,YACtC,QAAQ,oCAAC,+BAAW,IAAC,OAAM,gBAAe;AAAA,YAC1C,QACE;AAAA,cAAC,kBAAkB;AAAlB;AAAA,gBACC,YAAY,oCAAa,CAAC,MAAM,OAAO,GAAG,EAAE,UAAU,GAAG;AAAA,gBACzD,WAAW,kBAAkB;AAAA,gBAC7B,UAAU,MAAM,SAAS,2BAAS,CAAC,IAAI;AAAA;AAAA,YACzC;AAAA,YAGF,8CAAC,iBAAK,IAAC,KAAI,YAAW,IAAG,YAAW,IAAG,YACrC;AAAA,cAAC,cAAQ;AAAR;AAAA,gBACC,UACE,oCAAC,gBAAI,IAAC,YAAW,UAAS,gBAAe,UAAS,GAAE,YAClD,8CAAC,2BAAO,IAAC,GACX;AAAA,gBAGF;AAAA,sDAAC,2BAAO,IAAC,0KAGT;AAAA,kBACA,qCAAC,iBAAK,IAAC,KAAI,YACR;AAAA,0BAAM,oCAAC,qBAAqB,IAAC,aAAa,IAAI;AAAA,oBAC/C,qCAAC,iBAAK,IAAC,KAAI,YACT;AAAA,0DAAC,gBAAgB,IAAC,YAAY,KAAK;AAAA,sBAClC,yBAAyB,UACxB,qCAAC,2BAAO,IAAC;AAAA;AAAA,wBACE;AAAA,wBACR,oCAAW,CAAC;AAAA,0BACX,OAAO,yBAAyB;AAAA,0BAChC,eAAe;AAAA,wBACjB,CAAC;AAAA,yBACH;AAAA,uBAEJ;AAAA,qBACF;AAAA;AAAA;AAAA,YACF,GACF;AAAA;AAAA,QACF;AAAA,QACA,oCAAC,gCAAM,IAAC;AAAA,SACV;AAAA;AAAA,EAEJ,GACF;AAEJ;;;;;;;;;;;;ACrIO,MAAM,iBAAiB;AAAA,EAC5B,OAAO;AAAA,EACP,QAAQ;AAAA,EACR,eAAe;AAAA,EACf,cAAc;AAAA,EACd,cAAc;AAAA,EACd,UAAU;AAAA,EACV,SAAS;AAAA,EACT,OAAO;AAAA,EACP,QAAQ;AAAA,EACR,aAAa;AAAA,EACb,QAAQ,CAAC,WAAW,WAAW,WAAW,WAAW,SAAS;AAChE;;;;ACMM;AAlB4C;AAC7B;AAES;AACV;AACqB;AAElB;AAGM;AAEE;AACa;AAErC,SAAS,kBAAkB,EAAE,SAAS,GAAgB;AAC3D,SACE,oCAAC,qBAAM,CAAC,MAAP,EAAY,aAAW,MACtB;AAAA,IAAC,qBAAM,CAAC;AAAA,IAAP;AAAA,MAEC,iBAAiB,OAAK,EAAE,eAAe;AAAA,MACvC,mBAAmB,OAAK,EAAE,eAAe;AAAA,MACzC,WAAW,mBAAG,CAAC,EAAE,UAAU,SAAS,iBAAiB,yBAAyB,CAAC;AAAA,MAE9E;AAAA;AAAA,EACH,GACF;AAEJ;AAEO,SAAS,yBAAyB;AACvC,QAAM,UAAU,2BAA2B,CAAC;AAC5C,QAAM,CAAC,cAAc,eAAe,IAAI,kBAAQ,CAAC,KAAK;AAEtD,SACE,6DACE;AAAA,wCAAC,eAAG,IAAC,iBAAa,MAAC,KAAI,YAAW,MAAM,GAAG,KAAK,GAAG,OAAO,GAAG,QAAQ,GAAG,IAAG,YACzE,8CAAC,eAAG,IAAC,UAAS,YAAW,MAAK,OAAM,KAAI,OACtC,8CAAC,uBAAQ,IAAC,QAAQ,cAAc,QAAQ,cAAc,EAAE,GAC1D,GACF;AAAA,IAEA,qCAAC,eAAG,IAAC,UAAS,YAAW,QAAQ,GAC/B;AAAA;AAAA,QAAC,kBAAM,CAAC;AAAA,QAAP;AAAA,UACC,KAAI;AAAA,UACJ,KAAI;AAAA,UACJ,GAAE;AAAA,UACF,GAAE;AAAA;AAAA,MACJ;AAAA,MACA,oCAAC,kBAAM,CAAC,IAAP,EAAU,WAAU,cAAa,IAAG,YAAW,uCAEhD;AAAA,MACA,oCAAC,kBAAM,CAAC,GAAP,EAAS,WAAU,cAAa,IAAG,QAAO,IAAG,QAAO,iJAGrD;AAAA,MACA,oCAAC,gBAAI,IAAC,IAAG,QACP;AAAA,QAAC,0BAAM;AAAN;AAAA,UACC,SAAS,MAAM;AACb,oBAAQ,gBAAgB;AACxB,4BAAgB,IAAI;AAAA,UACtB;AAAA,UAEC,WAAC,eAAe,iCAAiC;AAAA;AAAA,MACpD,GACF;AAAA,OACF;AAAA,KACF;AAEJ;AAEO,SAAS,yBAAyB;AACvC,QAAM,MAAM,gBAAM,CAAmB,IAAI;AACzC,QAAM,UAAU,2BAA2B,CAAC;AAE5C,2BAAe,CAAC,MAAM;AACpB,QAAI,IAAI,QAAS,KAAI,QAAQ,eAAe;AAAA,EAC9C,GAAG,CAAC,GAAG,CAAC;AAER,SACE,qCAAC,eAAG,IACF;AAAA,wCAAC,kBAAM,CAAC,IAAP,EAAU,WAAU,cAAa,0BAAY;AAAA,IAE9C,oCAAC,eAAG,IAAC,QAAO,SAAQ,IAAG,QAAO,QAAO,YACnC,8CAAC,kBAAK,IACJ,8CAAC,WAAM,KAAU,KAAI,0CAAyC,UAAQ,MAAC,OAAK,MAAC,GAC/E,GACF;AAAA,IACA,qCAAC,eAAG,IAAC,IAAG,QAAO;AAAA;AAAA,MAEqC;AAAA,MAClD;AAAA,QAAC,kBAAM,CAAC;AAAA,QAAP;AAAA,UACC,MAAK;AAAA,UACL,gBAAe;AAAA,UACf,SAAS,OAAK;AACZ,cAAE,eAAe;AACjB,mDAAY,CAAC,qDAAqD;AAAA,UACpE;AAAA,UACD;AAAA;AAAA,MAED;AAAA,OACF;AAAA,IACA,qCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cAAa,SAAQ,SAAQ,WAAU,QAAO,IAAG,QAAO;AAAA;AAAA,MAE/B;AAAA,MAC9C,oCAAC,kBAAM,CAAC,GAAP,EAAS,MAAK,4BAA2B,gBAAe,aAAY,QAAO,UAAS,8BAErF;AAAA,MAAY;AAAA,MAAI;AAAA,MACZ;AAAA,MACJ;AAAA,QAAC,kBAAM,CAAC;AAAA,QAAP;AAAA,UACC,MAAK;AAAA,UACL,QAAO;AAAA,UACP,gBAAe;AAAA,UAChB;AAAA;AAAA,MAED;AAAA,MAAW;AAAA,OAEb;AAAA,IACA,qCAAC,iBAAK,IAAC,KAAI,QAAO,IAAG,YACnB;AAAA,0CAAC,0BAAM,IAAC,SAAS,QAAQ,eAAe,8BAAgB;AAAA,MACxD,oCAAC,0BAAM,IAAC,SAAS,QAAQ,sBAAsB,SAAQ,WAAU,kCAEjE;AAAA,OACF;AAAA,KACF;AAEJ;;;;AC9GE;AAhBwC;AACC;AAErB;AAEI;AAEG;AAMtB;AAEA,MAAM,0BACX,qCAAC,+BAAK,IAAC,SAAS,oCAAC,8BAA2B,GAC1C;AAAA,sCAAC,+BAAK,IAAC,MAAK,sBAAqB,SAAS,oCAAC,sBAAsB,IAAC,GAAI;AAAA,EACtE,oCAAC,+BAAK,IAAC,MAAK,uBAAsB,SAAS,oCAAC,sBAAsB,IAAC,GAAI;AAAA,GACzE;AAQF,MAAM,eAAe,uBAAa,CAA2B,IAAI;AAEjE,MAAM,EAAE,UAAU,0BAA0B,IAAI;AAEzC,SAAS,8BAA8B;AAC5C,QAAM,UAAU,oBAAU,CAAC,YAAY;AACvC,MAAI,CAAC,QAAS,OAAM,IAAI,MAAM,4DAA4D;AAC1F,SAAO;AACT;AAEA,SAAS,6BAA6B;AACpC,QAAM,WAAW,yCAAW,CAAC;AAC7B,iBAAe,kBAAkB;AAC/B,SAAK,2BAAS,CAAC,MAAM,uBAAuB;AAC5C,UAAM,4BAAK,CAAC,GAAI;AAChB,aAAS,yBAAyB,EAAE,SAAS,KAAK,CAAC;AAAA,EACrD;AAEA,iBAAe,gBAAgB;AAC7B,SAAK,2BAAS,CAAC,MAAM,wBAAwB;AAC7C,aAAS,OAAO,EAAE,SAAS,KAAK,CAAC;AAAA,EACnC;AAEA,WAAS,uBAAuB;AAC9B,SAAK,2BAAS,CAAC,MAAM,wBAAwB;AAC7C,2CAAY,CAAC,oEAAoE;AAAA,EACnF;AAEA,SACE,oCAAC,6BAA0B,OAAO,EAAE,iBAAiB,eAAe,qBAAqB,GACvF,8CAAC,iBAAiB,IAChB,8CAAC,gCAAM,IAAC,GACV,GACF;AAEJ;;;AC9DA,sDAAe,qBAAuB,yCAAyC;;;;;ACArD;AAS1B,MAAM,UAAU,CAACE,WAAqB;AASpC,WAAS,UAAU,SAAiB;AAClC,WAAO,OAAO,YAAY,OAAO,YAAY;AAAA,EAC/C;AAKA,QAAM,MAAM;AAGZ,QAAM,QAAQ;AAEd,QAAM,WAA6B;AAAA;AAAA,IAEjC,SAAS;AAAA,MACP,SAAS;AAAA,MACT,OAAO,CAAC,WAAW,OAAO;AAAA,IAC5B;AAAA,IACA,SAAS;AAAA,IACT,QAAQ;AAAA,MACN;AAAA,QACE,SAAS;AAAA,QACT,QAAQ;AAAA,MACV;AAAA,MACA;AAAA,QACE,SAAS;AAAA,QACT,QAAQ;AAAA,MACV;AAAA,IACF;AAAA,IACA,QAAQ;AAAA,MACN,SAAS;AAAA,MACT,QAAQ;AAAA,IACV;AAAA,IACA,SAAS;AAAA,MACP;AAAA,QACE,SAAS;AAAA,UACP,MACE,mTAKA;AAAA,QACJ;AAAA,QACA,YAAY;AAAA,MACd;AAAA,MACA;AAAA,QACE,SAAS,OAAO,MAAM,0CAA0C,KAAK;AAAA,QACrE,YAAY;AAAA,MACd;AAAA,MACA;AAAA,QACE,SAAS;AAAA,UACP,MACE,wJAGA;AAAA,QACJ;AAAA,QACA,YAAY;AAAA,MACd;AAAA,MACA;AAAA,QACE,SAAS;AAAA,UACP,MACE,4IAEA;AAAA,QACJ;AAAA,QACA,YAAY;AAAA,MACd;AAAA,MACA;AAAA,QACE,SAAS;AAAA,UACP,MACE,sFACA;AAAA,QACJ;AAAA,QACA,YAAY;AAAA,MACd;AAAA,MACA;AAAA,QACE,SAAS,OAAO,MAAM,2CAA2C,KAAK;AAAA,QACtE,YAAY;AAAA,MACd;AAAA,IACF;AAAA,IACA,SAAS;AAAA,IACT,QAAQ;AAAA,MACN,SAAS,UAAU,YAAY;AAAA,MAC/B,YAAY;AAAA,IACd;AAAA,IACA,SAAS;AAAA,MACP,SAAS;AAAA,MACT,YAAY;AAAA,IACd;AAAA,IACA,UAAU;AAAA,MACR,SAAS;AAAA,MACT,YAAY;AAAA,IACd;AAAA,IACA,UAAU;AAAA,MACR,SAAS;AAAA,MACT,YAAY;AAAA,IACd;AAAA,IACA,aAAa;AAAA,EACf;AAEA,EAAAA,OAAM,UAAU,UAAU;AAC5B;AAEA,QAAQ,KAAQ;AAET,MAAM,QAAQ,KAAQ;;;;AC7He;AAQ5C,SAAS,gBAAgB,OAAe;AACtC,QAAM,KAAK,SAAS,cAAc,UAAU;AAC5C,KAAG,QAAQ;AACX,KAAG,aAAa,YAAY,EAAE;AAC9B,KAAG,MAAM,WAAW;AACpB,KAAG,MAAM,OAAO;AAChB,WAAS,KAAK,YAAY,EAAE;AAE5B,QAAM,eAAe,SAAS,aAAa;AAC3C,QAAM,WAAW,gBAAgB,aAAa,aAAa,IAAI,aAAa,WAAW,CAAC,IAAI;AAC5F,KAAG,OAAO;AAEV,WAAS,YAAY,MAAM;AAC3B,WAAS,KAAK,YAAY,EAAE;AAC5B,MAAI,UAAU;AACZ,aAAS,aAAa,GAAG,gBAAgB;AACzC,aAAS,aAAa,GAAG,SAAS,QAAQ;AAAA,EAC5C;AACF;AAEO,SAAS,aAAa,OAA4B;AACvD,QAAM,CAAC,WAAW,YAAY,IAAI,kBAAQ,CAAC,KAAK;AAChD,QAAM,SAAS,gBAAM,CAAW,CAAC,CAAC;AAElC,WAAS,SAAS;AAChB,oBAAgB,KAAK;AACrB,iBAAa,IAAI;AACjB,WAAO,QAAQ,KAAK,OAAO,WAAW,MAAM,aAAa,KAAK,GAAG,IAAI,CAAC;AAAA,EACxE;AAEA,qBAAS,CAAC,MAAM,MAAM,OAAO,QAAQ,QAAQ,WAAS,aAAa,KAAK,CAAC,GAAG,CAAC,CAAC;AAE9E,SAAO,EAAE,OAAO,QAAQ,UAAU;AACpC;;;;;;;;ACzCiD;AAC/B;AAGyB;AAEjB;AAE2C;AACnC;AAElC,MAAM,WAAW;AAEjB,MAAM,UAAU;AAAA;AAAA,EAEd,OAAO;AACT;AAEA,eAAe,qCAAqC,SAAiB;AACnE,QAAM,OAAO,MAAM,oBAAK,CAAC,KAAK,UAAU,EAAE,QAAQ,GAAG,EAAE,QAAQ,CAAC;AAChE,SAAO,KAAK;AACd;AAEA,eAAe,kCAAkC,SAAiB;AAChE,QAAM,OAAO,MAAM,oBAAK,CAAC,IAAI,WAAW,MAAM,SAAS,EAAE,QAAQ,CAAC;AAClE,SAAO,KAAK;AACd;AAQO,eAAe,8BAA8B,SAA4C;AAC9F,QAAM,qCAAqC,OAAO;AAClD,QAAM,eAAe,MAAM,kCAAkC,OAAO;AAEpE,QAAM,oBAAoB,aAAa,SAAS;AAEhD,MAAI,kBAAmB,MAAK,2BAAS,CAAC,MAAM,iCAAiC,EAAE,QAAQ,CAAC;AAExF,SAAO,EAAE,GAAG,cAAc,kBAAkB;AAC9C;AAEA,MAAM,cAAc;AAEpB,SAAS,oBACP,SACA,SACmC;AACnC,SAAO;AAAA,IACL,SAAS,YAAY;AAAA,IACrB,UAAU,CAAC,4BAA4B,OAAO;AAAA,IAC9C,MAAM,UAAU;AACd,aAAO,8BAA8B,OAAO;AAAA,IAC9C;AAAA,IACA,QAAQ;AAAA,IACR,WAAW;AAAA,IACX,iBAAiB;AAAA,IACjB,gBAAgB;AAAA,IAChB,oBAAoB;AAAA,IACpB,sBAAsB;AAAA,EACxB;AACF;AAEA,SAAS,iCAAiC,WAAqB;AAC7D,QAAM,UAAU,gDAAiB,CAAC;AAClC,SAAO,gCAAU,CAAC;AAAA,IAChB,SAAS,UACN,OAAO,aAAW,CAAC,oCAAa,CAAC,OAAO,CAAC,EACzC,IAAI,aAAW,oBAAoB,SAAS,QAAQ,MAAM,QAAQ,IAAI,CAAC;AAAA,EAC5E,CAAC;AACH;AAEO,MAAM,qBAAqB;AAE3B,SAAS,6BAA6B,SAA4B;AACvE,QAAM,qBAAqB,4FAAoD,CAAC;AAEhF,QAAM,oBAAoB,iCAAiC;AAAA,IACzD,oBAAoB,WAAW;AAAA,IAC/B,GAAG,kCAAW,CAAC,OAAO;AAAA,EACxB,CAAC;AAED,MAAI,kBAAkB,KAAK,YAAU,OAAO,MAAM,iBAAiB,GAAG;AACpE,SAAK,2BAAS,CAAC,MAAM,+BAA+B;AACpD,UAAM,IAAI,MAAM,kBAAkB;AAAA,EACpC;AACF;;;;;;ACAO,MAAM,QAAoB;AAAA,EAC/B,OAAO;AAAA,IACL,OAAO;AAAA,IACP,YAAY;AAAA,EACd;AAAA,EACA,QAAQ;AAAA,IACN;AAAA,MACE,OAAO,CAAC,QAAQ;AAAA,MAChB,OAAO;AAAA,QACL,OAAO;AAAA,MACT;AAAA,IACF;AAAA,IACA;AAAA,MACE,OAAO,CAAC,WAAW,aAAa;AAAA,MAChC,OAAO;AAAA,QACL,OAAO;AAAA,MACT;AAAA,IACF;AAAA,IACA;AAAA,MACE,OAAO,CAAC,WAAW,OAAO,WAAW,YAAY,SAAS;AAAA,MAC1D,OAAO;AAAA,QACL,OAAO;AAAA,MACT;AAAA,IACF;AAAA,IACA;AAAA,MACE,OAAO,CAAC,UAAU,YAAY,UAAU;AAAA,MACxC,OAAO;AAAA,QACL,OAAO;AAAA,MACT;AAAA,IACF;AAAA,IACA;AAAA,MACE,OAAO,CAAC,UAAU;AAAA,MAClB,OAAO;AAAA,QACL,OAAO;AAAA,MACT;AAAA,IACF;AAAA,IACA;AAAA,MACE,OAAO,CAAC,UAAU;AAAA,MAClB,OAAO;AAAA,QACL,OAAO;AAAA,MACT;AAAA,IACF;AAAA,IACA;AAAA,MACE,OAAO,CAAC,WAAW;AAAA,MACnB,OAAO;AAAA,QACL,OAAO;AAAA,MACT;AAAA,IACF;AAAA,IACA;AAAA,MACE,OAAO,CAAC,KAAK;AAAA,MACb,OAAO;AAAA,QACL,OAAO;AAAA,MACT;AAAA,IACF;AAAA,IACA;AAAA,MACE,OAAO,CAAC,WAAW,QAAQ;AAAA,MAC3B,OAAO;AAAA,QACL,OAAO;AAAA,MACT;AAAA,IACF;AAAA,IACA;AAAA,MACE,OAAO,CAAC,YAAY;AAAA,MACpB,OAAO;AAAA,QACL,OAAO;AAAA,MACT;AAAA,IACF;AAAA,IACA;AAAA,MACE,OAAO,CAAC,MAAM;AAAA,MACd,OAAO;AAAA,QACL,OAAO;AAAA,MACT;AAAA,IACF;AAAA,EACF;AACF;;;;AClKO,MAAM,WAAW,CAAC,GAAW,IAAI,GAAG,IAAI,SAC5C,IAAI,IAAI,UAAU,IAAI,CAAC,IAAI,GAAG,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC,IAAI,KAAK,IAAI,CAAC,GAAG,MAAM,KAAK,CAAC,IAAI,IAAI;;;;ACiCvF;AAlCa;AAEK;AACA;AAUnB;AACkB;AAEzB,MAAM,kBAAkB;AACxB,MAAM,gBAAgB,CAAC,GAAW,WAAmB,QAAQ,CAAC,IAAI,GAAG,OAAO,SAAS,EAAE,MAAM;AAE7F,SAAS,OAAO;AAAA,EACd;AAAA,EACA;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAIG;AACD,QAAM,KAAK,QAAQ,kBAAkB,kBAAkB,GAAG;AAE1D,SACE,oCAAC,eAAG,IAAC,IAAQ,IAAG,YAAW,UAAS,YAAW,QAAQ,GAAI,GAAG,MAC3D,iBAAO,IAAI,CAAC,OAAO,MAClB,oCAAC,eAAG,IAAS,IAAG,YAAW,SAAQ,gBAAgB,GAAG,cAAc,EAAE,OAAO,EAAE,CAAC,KAAtE,CAAyE,CACpF,GACH;AAEJ;AAEA,SAAS,WAAW,EAAE,QAAQ,QAAQ,GAAG,KAAK,GAAuC;AACnF,SACE;AAAA,IAAC,gBAAI;AAAJ;AAAA,MACC,WAAU;AAAA,MACV,IAAG;AAAA,MACH,IAAG;AAAA,MACH,OAAO;AAAA,MACP,aAAY;AAAA,MACZ,kBAAiB;AAAA,MACjB,OAAM;AAAA,MACN,YAAY;AAAA,MACZ,OAAO,EAAE,YAAY,OAAO;AAAA,MAC5B,UAAS;AAAA,MACT,MAAM;AAAA,MACN,QAAO;AAAA,MACP,OAAM;AAAA,MACN,SAAQ;AAAA,MACR,QAAQ;AAAA,MACP,GAAG;AAAA,MAEH,wBAAc,QAAQ,MAAM;AAAA;AAAA,EAC/B;AAEJ;AAEA,SAAS,KAAK;AAAA,EACZ;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAOG;AACD,SACE;AAAA,IAAC,gBAAI;AAAJ;AAAA,MACC,QAAO;AAAA,MACP,OAAM;AAAA,MACN,aAAY;AAAA,MACZ,QACE,gBACI,SACA;AAAA,QACE,IAAI,CAAC,SAAS,SAAS,kBAAkB;AAAA,QACzC,aAAa,CAAC,oBAAoB,oBAAoB,kBAAkB;AAAA,MAC1E;AAAA,MAEN,UAAS;AAAA,MACR,GAAG;AAAA,MAEH;AAAA,0BAAkB,oCAAC,cAAW,QAAQ,OAAO,QAAgB,IAAK;AAAA,QACnE,oCAAC,UAAO,iBAAkC,eAA8B,QAAgB;AAAA;AAAA;AAAA,EAC1F;AAEJ;AAEA,SAAS,MAAM;AAAA,EACb,QAAQ;AAAA,EACR;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAyE;AACvE,SACE,oCAAC,eAAG,IAAC,SAAQ,SAAQ,WACnB,8CAAC,eAAG,IAAC,SAAQ,SAAQ,OAAO,EAAE,YAAY,YAAY,GACnD,gBAAM,IAAI,CAAC,QAA4B,MACtC;AAAA,IAAC;AAAA;AAAA,MACC,OAAO;AAAA,MAEP;AAAA,MACA;AAAA,MACA,QAAQ,MAAM,SAAS;AAAA,MACvB;AAAA,MACA,eAAe,iBAAiB,MAAM,SAAS;AAAA,MAC9C,GAAG,aAAa,EAAE,MAAM,QAAQ,KAAK,EAAE,CAAC;AAAA;AAAA,IANpC;AAAA,EAOP,CACD,GACH,GACF;AAEJ;AAUO,MAAM,cAAc,cAAI;AAAJ,EACzB,CAAC,EAAE,MAAM,WAAW,WAAW,iBAAiB,eAAe,MAAM,MAAwB;AAC3F,WACE,oCAAC,2CAAS,IAAC,KAAK,SAAS,MAAY,UAAoB,OACtD,qBACC,oCAAC,SAAM,iBAAkC,eAA+B,GAAG,OAAO,GAEtF;AAAA,EAEJ;AACF;;;;ACzHM;AA5BqB;AAEG;AAEgB;AAIvC,MAAM,YAAY,oBAAU;AAAV,EACvB,CACE,EAAE,MAAM,iBAAiB,eAAe,QAAQ,CAAC,GAAG,UAAU,OAAO,GAAG,KAAK,GAC7E,QAEA;AAAA,IAAC,eAAG;AAAH;AAAA,MACC,IAAG;AAAA,MACH,cAAc,CAAC,GAAG,IAAI;AAAA,MACtB,WAAU;AAAA,MACV,GAAE;AAAA,MACF;AAAA,MACA,OAAO;AAAA,QACL,GAAG;AAAA,QACH,YAAY;AAAA,QACZ,YAAY;AAAA,QACZ,UAAU;AAAA,MACZ;AAAA,MACA,OAAM;AAAA,MACL,GAAG;AAAA,MAEJ;AAAA,QAAC,WAAW;AAAX;AAAA,UACC;AAAA,UACA,MAAM,KAAK,SAAS,EAAE,KAAK;AAAA,UAC3B;AAAA,UACA;AAAA,UACA;AAAA;AAAA,MACF;AAAA;AAAA,EACF;AAEJ;;;;ACdI;AAvB0B;AAEH;AACe;AACA;AAEH;AACf;AAEF;AACO;AACM;AACT;AAED;AAEzB,SAAS,gCAAgC,UAAkB;AACzD,MAAI,SAAS,SAAS,kBAAkB,EAAG,QAAO;AAClD,SAAO;AACT;AAEA,SAAS,mBAAmB;AAC1B,SACE;AAAA,IAAC,kBAAM,CAAC;AAAA,IAAP;AAAA,MACC,eAAa,2DAAyB,CAAC;AAAA,MACvC,IAAG;AAAA,MACH,IAAG;AAAA,MACH,WAAU;AAAA,MACX;AAAA;AAAA,QAC4D;AAAA,QAC3D,oCAAC,wBAAI,IAAC,MAAK,8BAA6B,QAAO,UAAS,gBAAe,aACrE;AAAA,UAAC,kBAAM,CAAC;AAAA,UAAP;AAAA,YACC,eAAa,2DAAyB,CAAC;AAAA,YACvC,WAAU;AAAA,YACX;AAAA;AAAA,QAED,GACF;AAAA;AAAA;AAAA,EACF;AAEJ;AAEA,MAAM,wBAAK,GAAG;AAEd,MAAM,mBAAmB;AAEzB,SAAS,aAAa,OAAgB;AACpC,MAAI,CAAC,8BAAO,CAAC,KAAK,EAAG,QAAO;AAC5B,SAAO,MAAM,SAAS;AACxB;AAEO,SAAS,sBAAsB;AACpC,QAAM,QAAQ,2CAAa,CAAC;AAC5B,QAAM,QAAQ,6BAAQ,CAAC;AAEvB,QAAM,YAAY,aAAa,KAAK;AAEpC,QAAM,EAAE,OAAO,IAAI,YAAY,CAAC,aAAa,KAAK,CAAC;AAEnD,WAAS,cAAc;AACrB,WAAO;AACP,UAAM,QAAQ,eAAe;AAAA,EAC/B;AAEA,SACE;AAAA,IAAC,gBAAI;AAAJ;AAAA,MACC,YAAW;AAAA,MACX,gBAAe;AAAA,MACf,eAAc;AAAA,MACd,IAAI,CAAC,YAAY,OAAO;AAAA,MACxB,IAAI,CAAC,YAAY,UAAU;AAAA,MAC3B,OAAM;AAAA,MACN,UAAS;AAAA,MAET;AAAA,4CAAC,eAAG,IAAC,IAAG,YACN,8CAAC,SAAI,KAAK,eAAc,EAAE,KAAI,gCAA+B,OAAM,SAAQ,GAC7E;AAAA,QAEA;AAAA,UAAC,kBAAM,CAAC;AAAA,UAAP;AAAA,YACC,eAAa,2DAAyB,CAAC;AAAA,YACvC,IAAG;AAAA,YACH,IAAG;AAAA,YACH,WAAU;AAAA,YAET,kCAAK;AAAL;AAAA,QACH;AAAA,QAEC,gCAAgC,SAAS,KAAK,oCAAC,oBAAiB;AAAA,QAEhE,aACC;AAAA,UAAC,SAAS;AAAT;AAAA,YACC,IAAG;AAAA,YACH,cAAa;AAAA,YACb,IAAG;AAAA,YACH,IAAG;AAAA,YACH,GAAE;AAAA,YACF,OAAO,KAAK;AAAL,YACP,MAAM;AAAA,YACN,UAAS;AAAA,YACT,eAAa;AAAA;AAAA,QACf;AAAA,QAGF,qCAAC,kBAAM,IAAC,OAAM,QAAO,KAAI,YACvB;AAAA;AAAA,YAAC,0BAAM;AAAN;AAAA,cACC,MAAK;AAAA,cACL,SAAQ;AAAA,cACR,gBAAe;AAAA,cACf,YAAW;AAAA,cACX,KAAI;AAAA,cACJ,SAAS;AAAA,cACT,SAAQ;AAAA,cACT;AAAA;AAAA,gBAEC,oCAAC,4BAAQ,IAAC;AAAA;AAAA;AAAA,UACZ;AAAA,UACA,oCAAC,0BAAM,IAAC,MAAK,KAAI,SAAS,MAAM,OAAO,SAAS,OAAO,GAAG,8BAE1D;AAAA,WACF;AAAA;AAAA;AAAA,EACF;AAEJ;;;;ACzHoC;AAUpC,IAAI,YAA0C,oBAAI,IAAI;AAEtD,IAAI,OAAO,WAAW,aAAa;AAEjC,SAAO,2BACL,OAAO,4BAA4B,oBAAI,IAA6B;AACtE,cAAY,OAAO;AACrB;AAEA,MAAM,mBAAmB,CAAC,aAAsC;AAC9D,MAAI,UAAU,SAAS,GAAG;AACxB,oBAAgB,IAAI;AAAA,EACtB;AAEA,YAAU,IAAI,QAAQ;AACxB;AAEA,MAAM,qBAAqB,CAAC,aAAsC;AAChE,YAAU,OAAO,QAAQ;AAEzB,MAAI,UAAU,SAAS,GAAG;AACxB,oBAAgB,KAAK;AAAA,EACvB;AACF;AAEA,MAAM,kBAAkB,CAAC,eAAwB;AAC/C,MAAI,YAAY;AACd,aAAS,KAAK,UAAU,IAAI,WAAW;AAAA,EACzC,OAAO;AACL,aAAS,KAAK,UAAU,OAAO,WAAW;AAAA,EAC5C;AACF;AAEO,MAAM,gBAAgB,CAAC,eAAwB;AAEpD,QAAM,CAAC,SAAS,IAAI,kBAAQ,CAAC,CAAC,CAAC;AAE/B,qBAAS,CAAC,MAAM;AACd,QAAI,YAAY;AACd,uBAAiB,SAAS;AAAA,IAC5B;AAGA,WAAO,MAAM,mBAAmB,SAAS;AAAA,EAC3C,GAAG,CAAC,WAAW,UAAU,CAAC;AAC5B;;;;ACtD0B;AAEH;AAEhB,SAAS,qBAAqB,OAAyB;AAC5D,MAAI,gCAAS,CAAC,MAAM,WAAW,EAAG,QAAO,OAAO,MAAM,YAAY,MAAM;AACxE,MAAI,gCAAS,CAAC,MAAM,cAAc,KAAK,gCAAS,CAAC,MAAM,KAAK;AAC1D,WAAO,OAAO,MAAM,eAAe,QAAQ,MAAM,KAAK,GAAG,MAAM;AACjE,sBAAM,CAAC,KAAK,mFAAmF;AAC/F,SAAO;AACT;;;;ACZqB;AAGd,SAAS,uBAAoC;AAClD,MAAI,UAAU,CAAC,WAAqB,2BAAI,CAAC;AACzC,QAAM,UAAU,IAAI,QAAQ,OAAM,UAAU,CAAE;AAC9C,SAAO;AAAA,IACL,KAAK,OAAW;AACd,cAAQ,KAAK;AAAA,IACf;AAAA,IACA,OAAO;AACL,aAAO;AAAA,IACT;AAAA,EACF;AACF;;;;ACd0C;AAOL;AAI9B,SAAS,sCAAsC;AACpD,SAAO,oBAAoB,CAA4C;AACzE;AAoBA,MAAM,yBAAyB,uBAAa,CAAgC,IAAI;AAEzE,SAAS,4BAA4B;AAC1C,QAAM,UAAU,oBAAU,CAAC,sBAAsB;AACjD,MAAI,CAAC,QAAS,OAAM,IAAI,MAAM,qCAAqC;AACnE,SAAO;AACT;AAEO,MAAM,0BAA0B,uBAAuB;;;;AC9B1D;AAXoD;AAE5B;AAKrB,SAAS,iBAAiB,EAAE,UAAU,GAAG,MAAM,GAA0B;AAC9E,QAAM,iBAAiB,MAAM,QAAQ,QAAQ,IAAI,WAAW,CAAC,QAAQ;AAErE,SACE,4DACG,yBACE,QAAQ,CAAC,OAAO,UAAU;AACzB,QAAI,CAAC,wBAAc,CAAC,KAAK,EAAG,QAAO;AACnC,WAAO;AAAA,MACL,sBAAY,CAAC,OAAO;AAAA,QAClB,KAAK;AAAA,MACP,CAAC;AAAA,MACD,oCAAC,cAAE,IAAiC,GAAG,SAA9B,MAAM,SAAS,IAAI,KAAkB;AAAA,IAChD;AAAA,EACF,CAAC,EACA,OAAO,CAAC,QAAQ,OAAO,UAAU,UAAU,MAAM,SAAS,CAAC,GAChE;AAEJ;;;;ACvBI;AAFG,SAAS,wBAAwB;AACtC,SACE;AAAA,IAAC;AAAA;AAAA,MACC,OAAM;AAAA,MACN,QAAO;AAAA,MACP,SAAQ;AAAA,MACR,MAAK;AAAA,MACL,OAAM;AAAA,MAEN;AAAA,4CAAC,UAAK,GAAE,2BAA0B,QAAO,gBAAe;AAAA,QACxD,oCAAC,UAAK,GAAE,eAAc,QAAO,gBAAe;AAAA,QAC5C,oCAAC,UAAK,GAAE,oBAAmB,QAAO,gBAAe;AAAA,QACjD;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA,QACA,oCAAC,UAAK,GAAE,mCAAkC,QAAO,gBAAe;AAAA,QAChE;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,MAAK;AAAA,YACL,QAAO;AAAA;AAAA,QACT;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,MAAK;AAAA;AAAA,QACP;AAAA,QACA,oCAAC,UAAK,IAAG,8BAA6B,MAAK,SACzC;AAAA,UAAC;AAAA;AAAA,YACC,UAAS;AAAA,YACT,UAAS;AAAA,YACT,GAAE;AAAA;AAAA,QACJ,GACF;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,MAAK;AAAA,YACL,MAAK;AAAA;AAAA,QACP;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,SAAQ;AAAA,YACR,GAAE;AAAA,YACF,MAAK;AAAA;AAAA,QACP;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,MAAK;AAAA;AAAA,QACP;AAAA,QACA,oCAAC,UAAK,IAAG,+BAA8B,MAAK,SAC1C;AAAA,UAAC;AAAA;AAAA,YACC,UAAS;AAAA,YACT,UAAS;AAAA,YACT,GAAE;AAAA;AAAA,QACJ,GACF;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,UAAS;AAAA,YACT,UAAS;AAAA,YACT,GAAE;AAAA,YACF,MAAK;AAAA;AAAA,QACP;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,MAAK;AAAA,YACL,MAAK;AAAA;AAAA,QACP;AAAA,QACA,oCAAC,UAAK,GAAE,0BAAyB,MAAK,gBAAe;AAAA,QACrD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,gBAAe;AAAA,QACrD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,gBAAe;AAAA,QACrD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,gBAAe;AAAA,QACrD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,gBAAe;AAAA,QACrD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,gBAAe;AAAA,QACrD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,gBAAe;AAAA,QACrD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,gBAAe;AAAA,QACrD;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA,QACA,oCAAC,UAAK,GAAE,qBAAoB,QAAO,gBAAe;AAAA,QAClD,oCAAC,UAAK,GAAE,mBAAkB,QAAO,gBAAe;AAAA,QAChD;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,SAAQ;AAAA,YACR,GAAE;AAAA,YACF,MAAK;AAAA;AAAA,QACP;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,SAAQ;AAAA,YACR,GAAE;AAAA,YACF,MAAK;AAAA;AAAA,QACP;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,SAAQ;AAAA,YACR,GAAE;AAAA,YACF,MAAK;AAAA;AAAA,QACP;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,SAAQ;AAAA,YACR,GAAE;AAAA,YACF,MAAK;AAAA;AAAA,QACP;AAAA;AAAA;AAAA,EACF;AAEJ;;;;ACxGI;AAT4B;AAEC;AAK1B,SAAS,sBAAsB,EAAE,UAAU,GAAG,MAAM,GAA+B;AACxF,SACE,qCAAC,gBAAI,IAAC,YAAW,UAAS,eAAc,OAAO,GAAG,OAChD;AAAA,wCAAC,2BAAO,IAAC,SAAS,KAAK;AAAA,IACvB,oCAAC,2BAAO,IAAC,IAAG,YAAY,UAAS;AAAA,KACnC;AAEJ;;;;ACLI;AAT4B;AAEO;AAKhC,SAAS,mBAAmB,EAAE,UAAU,GAAG,MAAM,GAA4B;AAClF,SACE,qCAAC,gBAAI,IAAC,YAAW,UAAS,OAAM,gCAA+B,eAAc,OAAO,GAAG,OACrF;AAAA,wCAAC,iCAAa,IAAC;AAAA,IACf,oCAAC,2BAAO,IAAC,OAAM,WAAU,IAAG,YACzB,UACH;AAAA,KACF;AAEJ;;;;ACRW;AAR2B;AACH;AAK5B,SAAS,8BAA8B,EAAE,OAAO,GAAuC;AAC5F,MAAI,WAAW;AACb,WAAO,oCAAC,qBAAqB,IAAC,IAAG,YAAW,uCAAyB;AAEvE,SAAO,oCAAC,kBAAkB,IAAC,IAAG,YAAW,sBAAQ;AACnD;;;;ACQY;AAnBsB;AAEM;AAEX;AAOtB,SAAS,mBAAmB,OAAgC;AACjE,QAAM,EAAE,UAAU,OAAO,aAAa,IAAI;AAE1C,SACE,qCAAC,gBAAI,IAAC,aAAY,sBAAqB,eAAc,UACnD;AAAA,wCAAC,2BAAO,IACL,yBACC,oCAAC,iCAAY,IAAC,OAAO,cAAc,MAAK,OACtC,+CAAC,gBAAI,IAAC,QAAO,YAAW,SAAQ,eAC7B;AAAA;AAAA,MACD,oCAAC,eAAG,IAAC,IAAG,YAAW,IAAG,YACpB,8CAAC,kCAAc,IAAC,OAAM,oBAAmB,SAAQ,SAAQ,GAC3D;AAAA,OACF,GACF,IAEA,4DAAG,iBAAM,GAEb;AAAA,IACA,oCAAC,gBAAI,IAAC,YAAW,UAAS,IAAG,YAC3B,8CAAC,kBAAM,CAAC,MAAP,EAAY,cAAa,cAAa,OAAM,QAC1C,UACH,GACF;AAAA,KACF;AAEJ;;;;AChCS;AAHc;AAEhB,SAAS,WAAW,EAAE,SAAS,GAA4B;AAChE,SAAO,oCAAC,kBAAM,CAAC,MAAP,EAAY,eAAc,cAAc,UAAS;AAC3D;;;;ACGI;AAT6B;AAIN;AAEpB,SAAS,YAAY,OAAiB;AAC3C,QAAM,EAAE,UAAU,GAAG,KAAK,IAAI;AAC9B,SACE,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cAAc,GAAG,MACrC,UACH;AAEJ;AAKO,SAAS,8BAA8B;AAAA,EAC5C;AAAA,EACA,GAAG;AACL,GAAuC;AACrC,SACE,qCAAC,eAAa,GAAG,OAAO;AAAA;AAAA,IACQ,oCAAC,UAAU,IAAE,iBAAM;AAAA,IAAa;AAAA,KAChE;AAEJ;;;;AClBM;AAT8B;AAM7B,SAAS,cAAc,EAAE,OAAO,UAAU,GAAG,MAAM,GAAuB;AAC/E,SACE,oCAAC,eAAG,IAAC,WAAU,QAAO,IAAG,YAAW,WAAU,UAAU,GAAG,OACzD,+CAAC,gBAAI,IAAC,YAAW,UAAS,eAAc,UAAS,IAAG,YACjD;AAAA,aAAS,oCAAC,eAAG,IAAC,IAAG,YAAY,iBAAM;AAAA,IACnC;AAAA,KACH,GACF;AAEJ;;;;ACGI;AAlBsB;AAEO;AACK;AAEQ;AACX;AACP;AACE;AAOvB,SAAS,6BAA6B,OAA0C;AACrF,QAAM,EAAE,aAAa,SAAS,OAAO,IAAI;AACzC,SACE,qCAAC,aAAa,IACZ;AAAA,wCAAC,eAAG,IAAC,IAAG,YACN,8CAAC,qBAAqB,IAAC,GACzB;AAAA,IACA,oCAAC,WAAW,IAAC,IAAG,YAAW,IAAG,YAC3B,uBACH;AAAA,IACA,oCAAC,6BAA6B,IAAC,QAAgB;AAAA,IAC/C;AAAA,MAAC,gBAAI;AAAJ;AAAA,QACC,IAAG;AAAA,QACH,cAAa;AAAA,QACb,eAAc;AAAA,QACd,IAAG;AAAA,QACH,IAAG;AAAA,QACH,WAAU;AAAA,QACV,OAAM;AAAA,QAEN,8CAAC,gBAAgB,IAAC,IAAG,YAClB,kBAAQ,IAAI,CAAC,CAAC,OAAO,OAAO,YAAY,MACvC,oCAAC,kBAAkB,IAAa,OAAc,cAC3C,mBADsB,KAEzB,CACD,GACH;AAAA;AAAA,IACF;AAAA,KACF;AAEJ;;;;AC7CwB;AACI;AAEZ;AAET,SAAS,0BAA0B;AACxC,QAAM,WAAW,yCAAW,CAAC;AAE7B,SAAO,iBAAO,CAAC,MAAM;AACnB,UAAM,QAAQ,SAAS;AACvB,WAAO,oBAAG,CAAC,OAAO,wBAAwB,KAAK;AAAA,EACjD,GAAG,CAAC,SAAS,KAAK,CAAC;AACrB;;;;ACMI;AAhB8C;AAEb;AAEK;AACG;AACL;AAEjC,SAAS,6BAA6B;AAC3C,QAAM,uBAAuB,uBAAuB,CAAC;AAErD,QAAM,UAAU,yBAAyB,CAAC;AAE1C,MAAI,QAAQ,UAAU,UAAW,QAAO;AAExC,SACE;AAAA,IAAC,4BAA4B;AAA5B;AAAA,MACC,aAAY;AAAA,MACZ,SACE;AAAA,QACE,GAAG,wCAAe,CAAC,QAAQ,WAAyC,EAAE,IAAI,CAAC,OAAO,MAAM;AAAA,UACtF,SAAS,IAAI,CAAC;AAAA,UACd,GAAG,oBAAoB,CAAC,KAAK,CAAC;AAAA,QAChC,CAAC;AAAA,QACD,GAAG,yCAAgB,CAAC,QAAQ,WAAyC,EAAE;AAAA,UACrE,CAAC,QAAQ,MAAM,CAAC,UAAU,IAAI,CAAC,IAAI,OAAO,QAAQ,SAAS,IAAI,OAAO;AAAA,QACxE;AAAA,MACF;AAAA,MAEF,QAAQ,uBAAuB,aAAa;AAAA;AAAA,EAC9C;AAEJ;;;AClCA,oDAAe,qBAAuB,yCAAyC;;;ACmBvE;AAnBoB;AACQ;AAEb;AACD;AAEK;AACC;AACE;AAEY;AAEnC,SAAS,8BAA8B;AAC5C,QAAM,UAAU,yBAAyB,CAAC;AAC1C,QAAM,EAAE,WAAW,cAAc,UAAU,IAAI,UAAU,CAAC,wBAAwB;AAClF,MAAI,QAAQ,UAAU,SAAU,QAAO;AACvC,SACE,qCAAC,aAAa,IACZ;AAAA,wCAAC,eAAG,IAAC,IAAG,YACN,8CAAC,SAAI,KAAK,aAAe,EAAE,OAAM,SAAQ,GAC3C;AAAA,IACA,oCAAC,WAAW,IAAC,IAAG,YAAW,2CAA6B;AAAA,IACxD,qCAAC,kBAAM,CAAC,MAAP,EAAY,IAAG,YAAW,IAAG,YAAW,WAAU,WAAU;AAAA;AAAA,MACyB;AAAA,MACpF,oCAAC,OAAE,MAAK,wBAAuB,OAAO,EAAE,gBAAgB,YAAY,GAAG,yBAEvE;AAAA,MAAK;AAAA,MAAI;AAAA,OAEX;AAAA,IACA,qCAAC,kBAAM,IAAC,IAAG,YAAW,IAAG,YACvB;AAAA;AAAA,QAAC,kBAAM,CAAC;AAAA,QAAP;AAAA,UACC,aAAW;AAAA,UACX,MAAK;AAAA,UACL,SAAS,YAAY;AACnB,yBAAa;AACb,kBAAM,4BAAK,CAAC,GAAG;AACf,sBAAU;AAAA,UACZ;AAAA,UACD;AAAA;AAAA,MAED;AAAA,MACA;AAAA,QAAC,0BAAM;AAAN;AAAA,UACC,SAAS,MAAM,QAAQ,8BAA8B,KAAK,iBAAiB;AAAA,UAC3E,SAAQ;AAAA,UACT;AAAA;AAAA,MAED;AAAA,OACF;AAAA,KACF;AAEJ;;;;AClDwB;AACI;AAErB,SAAS,uBAAuB;AACrC,QAAM,WAAW,yCAAW,CAAC;AAE7B,SAAO,iBAAO,CAAC,MAAM;AACnB,UAAM,QAAQ,SAAS;AACvB,QAAI,CAAC,SAAS,UAAU,KAAM,QAAO;AACrC,QAAI,OAAO,UAAU,UAAU;AAC7B,YAAM,QAAS,MAAc;AAC7B,UAAI,MAAO,QAAO;AAAA,IACpB;AACA,WAAO;AAAA,EACT,GAAG,CAAC,SAAS,KAAK,CAAC;AACrB;;;;ACGI;AAhB6B;AACN;AACU;AAEI;AACP;AAE3B,SAAS,qBAAqB;AACnC,QAAM,oBAAoB,oBAAoB,CAAC;AAC/C,QAAM,iBAAiB,gDAAiB,CAAC;AACzC,QAAM,QAAQ,gBAAgB,CAAuB,OAAO;AAI5D,QAAM,UAAU,mCAAU,CAAC,KAAK;AAChC,SACE;AAAA,IAAC,wBAAwB;AAAxB;AAAA,MACC,aAAa;AAAA,MACb;AAAA,MACA,YAAY,MAAM,eAAe,yBAAyB;AAAA;AAAA,EAC5D;AAEJ;;;;ACtBI;AAFG,SAAS,mBAAmB;AACjC,SACE;AAAA,IAAC;AAAA;AAAA,MACC,OAAM;AAAA,MACN,QAAO;AAAA,MACP,SAAQ;AAAA,MACR,MAAK;AAAA,MACL,OAAM;AAAA,MAEN;AAAA,4CAAC,UAAK,GAAE,2BAA0B,QAAO,gBAAe;AAAA,QACxD,oCAAC,UAAK,GAAE,eAAc,QAAO,gBAAe;AAAA,QAC5C,oCAAC,UAAK,GAAE,oBAAmB,QAAO,gBAAe;AAAA,QACjD;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA,QACA,oCAAC,UAAK,GAAE,mCAAkC,QAAO,gBAAe;AAAA,QAChE;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,MAAK;AAAA,YACL,QAAO;AAAA;AAAA,QACT;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,MAAK;AAAA;AAAA,QACP;AAAA,QACA,oCAAC,UAAK,IAAG,8BAA6B,MAAK,SACzC;AAAA,UAAC;AAAA;AAAA,YACC,UAAS;AAAA,YACT,UAAS;AAAA,YACT,GAAE;AAAA;AAAA,QACJ,GACF;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,MAAK;AAAA,YACL,MAAK;AAAA;AAAA,QACP;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA,QACA,oCAAC,UAAK,IAAG,+BAA8B,MAAK,SAC1C;AAAA,UAAC;AAAA;AAAA,YACC,UAAS;AAAA,YACT,UAAS;AAAA,YACT,GAAE;AAAA;AAAA,QACJ,GACF;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,UAAS;AAAA,YACT,UAAS;AAAA,YACT,GAAE;AAAA,YACF,MAAK;AAAA;AAAA,QACP;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,MAAK;AAAA,YACL,MAAK;AAAA;AAAA,QACP;AAAA,QACA,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA,QACA,oCAAC,UAAK,GAAE,qBAAoB,QAAO,gBAAe;AAAA,QAClD,oCAAC,UAAK,GAAE,mBAAkB,QAAO,gBAAe;AAAA,QAChD;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA;AAAA;AAAA,EACF;AAEJ;;;;ACzEI;AAhB6C;AAEC;AAEjB;AAEL;AACE;AAK9B,SAAS,8BAA8B,OAA2C;AAChF,QAAM,EAAE,KAAK,IAAI;AAEjB,SACE,qCAAC,gBAAI,IAAC,YAAW,UACf;AAAA,wCAAC,eAAG,IAAC,IAAG,YACN,8CAAC,8BAAU,IAAC,MAAK,oBAAmB,OAAM,OAAM,GAClD;AAAA,IACA,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,WAAW,gBAAK;AAAA,KACzC;AAEJ;AAOO,SAAS,yBAAyB,OAAsC;AAC7E,QAAM,EAAE,aAAa,YAAY,QAAQ,IAAI;AAE7C,SACE,qCAAC,aAAa,IACZ;AAAA,wCAAC,eAAG,IAAC,IAAG,YACN,8CAAC,gBAAgB,IAAC,GACpB;AAAA,IACA,oCAAC,WAAW,IAAC,IAAI,EAAE,MAAM,YAAY,IAAI,WAAW,GAAG,2DAEvD;AAAA,IAEA,oCAAC,2BAAO,IAAC,SAAS,cAAc,YAAY,SAAS,IAAG,YACrD,wBAAc,cAAc,qBAC/B;AAAA,IAEA,qCAAC,iBAAK,IAAC,cAAa,MAAK,KAAI,YAAW,WAAU,QAAO,IAAG,YAC1D;AAAA,0CAAC,iCAA8B,MAAK,wDAAuD;AAAA,MAC3F,oCAAC,iCAA8B,MAAK,qDAAoD;AAAA,MACxF,oCAAC,iCAA8B,MAAM,cAAc,OAAO,8BAA8B;AAAA,MACxF,oCAAC,iCAA8B,MAAK,gDAA+C;AAAA,OACrF;AAAA,IACA,oCAAC,0BAAM,IAAC,OAAM,QAAO,SAAS,YAAY,uBAE1C;AAAA,IACA,qCAAC,kBAAM,IAAC,KAAI,YAAW,IAAG,YACxB;AAAA,0CAAC,kBAAM,CAAC,MAAP,EAAY,OAAM,oBAAmB,WAAU,YAAW,gDAE3D;AAAA,MACA;AAAA,QAAC,wBAAI;AAAJ;AAAA,UACC,MAAK;AAAA,UACL,MAAK;AAAA,UACN;AAAA;AAAA,MAED;AAAA,OACF;AAAA,KACF;AAEJ;;;;AClEI;AAFG,SAAS,uBAAuB;AACrC,SACE;AAAA,IAAC;AAAA;AAAA,MACC,OAAM;AAAA,MACN,QAAO;AAAA,MACP,SAAQ;AAAA,MACR,MAAK;AAAA,MACL,OAAM;AAAA,MAEN;AAAA,4CAAC,UAAK,GAAE,2BAA0B,QAAO,gBAAe;AAAA,QACxD,oCAAC,UAAK,GAAE,eAAc,QAAO,gBAAe;AAAA,QAC5C,oCAAC,UAAK,GAAE,oBAAmB,QAAO,gBAAe;AAAA,QACjD;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA,QACA,oCAAC,UAAK,GAAE,mCAAkC,QAAO,gBAAe;AAAA,QAChE;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,MAAK;AAAA,YACL,QAAO;AAAA;AAAA,QACT;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,MAAK;AAAA;AAAA,QACP;AAAA,QACA,oCAAC,UAAK,IAAG,8BAA6B,MAAK,SACzC;AAAA,UAAC;AAAA;AAAA,YACC,UAAS;AAAA,YACT,UAAS;AAAA,YACT,GAAE;AAAA;AAAA,QACJ,GACF;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,MAAK;AAAA,YACL,MAAK;AAAA;AAAA,QACP;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,SAAQ;AAAA,YACR,UAAS;AAAA,YACT,UAAS;AAAA,YACT,GAAE;AAAA,YACF,MAAK;AAAA;AAAA,QACP;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,UAAS;AAAA,YACT,UAAS;AAAA,YACT,GAAE;AAAA,YACF,MAAK;AAAA;AAAA,QACP;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA,QACA,oCAAC,UAAK,IAAG,+BAA8B,MAAK,SAC1C;AAAA,UAAC;AAAA;AAAA,YACC,UAAS;AAAA,YACT,UAAS;AAAA,YACT,GAAE;AAAA;AAAA,QACJ,GACF;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,UAAS;AAAA,YACT,UAAS;AAAA,YACT,GAAE;AAAA,YACF,MAAK;AAAA;AAAA,QACP;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,MAAK;AAAA,YACL,MAAK;AAAA;AAAA,QACP;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA,QACA,oCAAC,UAAK,GAAE,qBAAoB,QAAO,gBAAe;AAAA,QAClD,oCAAC,UAAK,GAAE,mBAAkB,QAAO,gBAAe;AAAA,QAChD;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA;AAAA;AAAA,EACF;AAEJ;;;;AC5EI;AAXiC;AAES;AAChB;AACK;AAK5B,SAAS,2BAA2B,EAAE,MAAM,GAAoC;AACrF,SACE,qCAAC,aAAa,IACZ;AAAA,wCAAC,oBAAoB,IAAC;AAAA,IACtB,oCAAC,6BAA6B,IAAC,OAAc,IAAG,YAAW,IAAG,QAAO;AAAA,IACrE,oCAAC,kBAAkB,IAAC,IAAG,YAAW,wBAAU;AAAA,KAC9C;AAEJ;;;;ACXS;AANwB;AAEU;AAEpC,SAAS,2CAAoB,GAAG;AACrC,QAAM,QAAQ,gBAAgB,CAAuB,OAAO;AAC5D,SAAO,oCAAC,0BAA0B,IAAC,OAAc;AACnD;;;;;;ACkDW;AA3D6B;AAEG;AAGW;AAE9B;AAEM;AAE9B,MAAM,iCAAiC,cAAI;AAAJ,EACrC,MAAM,mGAAmD;AAC3D;AAYO,SAAS,cAAc,OAA2B;AACvD,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI;AAEJ,QAAM,2BAA2B,iBAAO,CAAC,MAAM;AAC7C,WAAO,UAAU,aAAa,CAAC,CAAC;AAAA,EAClC,GAAG,CAAC,OAAO,cAAc,CAAC;AAE1B,QAAM,0BAA0B,iBAAO,CAAC,MAAM;AAC5C,WAAO,UAAU,YAAY,CAAC,CAAC;AAAA,EACjC,GAAG,CAAC,OAAO,aAAa,CAAC;AAEzB,QAAM,eAAe,iBAAO,CAAC,MAAM;AACjC,UAAM,eAAe,4BAA4B;AACjD,WAAO;AAAA,MACL;AAAA,MACA,UAAU,2BAA2B,aAAa,EAAE,IAAI,eAAe,OAAO,EAAE,IAC9E,0BAA0B,WAAW,EACvC;AAAA,MACA;AAAA,IACF;AAAA,EACF,GAAG,CAAC,0BAA0B,uBAAuB,CAAC;AAEtD,SACE,qCAAC,aAAa,IACZ;AAAA,wCAAC,eAAG,IAAC,UAAS,YAAW,OAAM,QAAO,WAAU,SAC9C,8CAAC,cAAQ,IAAC,UAAU,MACjB,8CAAC,kCAA+B,UAAS,YAAW,KAAI,SAAQ,GACnE,GACF;AAAA,IAEA,qCAAC,iBAAK,IAAC,KAAI,YAAW,cAAa,cAAa,WAAU,SAAQ,IAAG,YACnE;AAAA,0CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cAAa,6CAA+B;AAAA,MAEnE,oCAAC,iBAAK,IAAC,KAAI,YAAW,IAAG,YACtB,uBAAa,IAAI,CAAC,aAAa,UAC9B,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,WACpB,yBADmC,KAEtC,CACD,GACH;AAAA,MACA,qCAAC,kBAAM,IACJ;AAAA,oCACC;AAAA,UAAC,0BAAM;AAAN;AAAA,YACC,SAAS,mBAAmB;AAAA,YAC5B,aAAW;AAAA,YAEX,+CAAC,kBAAM,IAAC,KAAI,YACV;AAAA,kDAAC,+BAAW,IAAC,OAAM,0BAAyB;AAAA,cAC5C,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAW,6BAAe;AAAA,eACnD;AAAA;AAAA,QACF;AAAA,QAED,2BACC;AAAA,UAAC,0BAAM;AAAN;AAAA,YACC,SAAS,mBAAmB;AAAA,YAC5B,aAAW;AAAA,YACX,SAAQ;AAAA,YACR,YAAW;AAAA,YAEX,+CAAC,kBAAM,IAAC,KAAI,YACV;AAAA,kDAAC,8BAAU,IAAC,OAAM,0BAAyB;AAAA,cAC3C,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAW,4BAAc;AAAA,eAClD;AAAA;AAAA,QACF;AAAA,SAEJ;AAAA,OACF;AAAA,IACC,WACC,oCAAC,eAAG,IAAC,IAAG,YAAW,IAAG,YACnB,mBACH;AAAA,IAED,mBACC,qCAAC,iBAAK,IAAC,KAAI,YAAW,OAAM,QAC1B;AAAA,0CAAC,sBAAO,IAAC;AAAA,MACT,qCAAC,iBAAK,IAAC,YAAW,UAAS,KAAI,YAC7B;AAAA,4CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAW,OAAM,oBAAmB,iDAE3D;AAAA,QACA;AAAA,UAAC,wBAAI;AAAJ;AAAA,YACC,MAAK;AAAA,YACL,MAAK;AAAA,YACN;AAAA;AAAA,QAED;AAAA,SACF;AAAA,OACF,IACE;AAAA,KACN;AAEJ;;;;ACtHS;AALwB;AACA;AAE1B,SAAS,aAAa;AAC3B,QAAM,cAAc,gBAAgB,CAAS,aAAa;AAC1D,SAAO,oCAAC,gBAAgB,IAAC,qBAAqB,eAAe,sBAAsB;AACrF;;;;ACMI;AAZiC;AAEP;AACQ;AAK/B,SAAS,iBAAiB,OAA8B;AAC7D,QAAM,EAAE,oBAAoB,IAAI;AAEhC,SACE,qCAAC,aAAa,IACZ;AAAA,wCAAC,oBAAoB,IAAC;AAAA,IACtB,oCAAC,qBAAqB,IAAC,IAAG,YAAY,+BAAoB;AAAA,KAC5D;AAEJ;;;;ACFI;AAf8B;AAEX;AAEU;AAEH;AAKvB,SAAS,iCAAiC;AAAA,EAC/C;AACF,GAA0C;AACxC,SACE,qCAAC,aAAa,IACZ;AAAA,wCAAC,eAAG,IACF,8CAAC,gBAAgB,IAAC,GACpB;AAAA,IACA,oCAAC,kBAAM,CAAC,MAAP,EAAY,IAAG,YAAW,WAAU,YAAW,0BAEhD;AAAA,IACA,oCAAC,kBAAM,CAAC,MAAP,EAAY,IAAG,YAAW,YAAW,QAAO,WAAU,cAAa,+EAEpE;AAAA,IACA,oCAAC,gBAAI,IAAC,IAAG,YACP,8CAAC,0BAAM,IAAC,SAAQ,WAAU,IAAG,YAAW,SAAS,SAAS,mBAE1D,GACF;AAAA,KACF;AAEJ;;;;AC3BS;AALwC;AACf;AAE3B,SAAS,6BAA6B;AAC3C,QAAM,iBAAiB,gDAAiB,CAAC;AACzC,SAAO,oCAAC,gCAAgC,IAAC,SAAS,MAAM,eAAe,mBAAmB,GAAG;AAC/F;;;;ACJI;AAFG,SAAS,uBAAuB,OAAsC;AAC3E,SACE;AAAA,IAAC;AAAA;AAAA,MACC,OAAM;AAAA,MACN,QAAO;AAAA,MACP,SAAQ;AAAA,MACR,MAAK;AAAA,MACL,OAAM;AAAA,MACL,GAAG;AAAA,MAEJ;AAAA,4CAAC,UAAK,GAAE,uBAAsB,QAAO,WAAU;AAAA,QAC/C,oCAAC,UAAK,GAAE,eAAc,QAAO,WAAU;AAAA,QACvC,oCAAC,UAAK,GAAE,oBAAmB,QAAO,WAAU;AAAA,QAC5C;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA,QACA,oCAAC,UAAK,GAAE,mCAAkC,QAAO,WAAU;AAAA,QAC3D,oCAAC,UAAK,GAAE,qCAAoC,MAAK,WAAU;AAAA,QAC3D;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,MAAK;AAAA;AAAA,QACP;AAAA,QACA,oCAAC,UAAK,IAAG,8BAA6B,MAAK,SACzC;AAAA,UAAC;AAAA;AAAA,YACC,UAAS;AAAA,YACT,UAAS;AAAA,YACT,GAAE;AAAA;AAAA,QACJ,GACF;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,MAAK;AAAA,YACL,MAAK;AAAA;AAAA,QACP;AAAA,QACA,oCAAC,UAAK,GAAE,oBAAmB,QAAO,WAAU;AAAA,QAC5C,oCAAC,UAAK,GAAE,oBAAmB,QAAO,WAAU;AAAA,QAC5C,oCAAC,UAAK,GAAE,wCAAuC,QAAO,WAAU;AAAA,QAChE,oCAAC,UAAK,GAAE,4DAA2D,QAAO,WAAU;AAAA,QACpF;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA,QACA,oCAAC,UAAK,IAAG,+BAA8B,MAAK,SAC1C;AAAA,UAAC;AAAA;AAAA,YACC,UAAS;AAAA,YACT,UAAS;AAAA,YACT,GAAE;AAAA;AAAA,QACJ,GACF;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,MAAK;AAAA,YACL,MAAK;AAAA;AAAA,QACP;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA,QACA,oCAAC,UAAK,GAAE,qBAAoB,QAAO,WAAU;AAAA,QAC7C,oCAAC,UAAK,GAAE,mBAAkB,QAAO,WAAU;AAAA,QAC3C;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA;AAAA;AAAA,EACF;AAEJ;;;;ACtDQ;AAjBoB;AAEL;AAEK;AACE;AACS;AAMhC,SAAS,yBAAyB,OAAsC;AAC7E,QAAM,EAAE,gBAAgB,QAAQ,IAAI;AACpC,SACE,qCAAC,aAAa,IACZ;AAAA,wCAAC,eAAG,IACF,8CAAC,sBAAsB,IAAC,OAAM,SAAQ,GACxC;AAAA,IACA,oCAAC,WAAW,IAAC,IAAG,YAAW,0CAA4B;AAAA,IACvD,qCAAC,kBAAM,IAAC,OAAM,QACZ;AAAA,0CAAC,0BAAM,IAAC,MAAM,GAAG,SAAQ,WAAU,SAAS,SAAS,mBAErD;AAAA,MACA,oCAAC,0BAAM,IAAC,MAAM,GAAG,SAAS,gBAAgB,2BAE1C;AAAA,OACF;AAAA,KACF;AAEJ;;;;ACxBI;AANqC;AACP;AAE3B,SAAS,qBAAqB;AACnC,QAAM,iBAAiB,gDAAiB,CAAC;AACzC,SACE;AAAA,IAAC,wBAAwB;AAAxB;AAAA,MACC,SAAS,MAAM,eAAe,mBAAmB;AAAA,MACjD,gBAAgB,MAAM,eAAe,yBAAyB;AAAA;AAAA,EAChE;AAEJ;;;;ACTI;AAFG,SAAS,mBAAmB;AACjC,SACE;AAAA,IAAC;AAAA;AAAA,MACC,OAAM;AAAA,MACN,QAAO;AAAA,MACP,SAAQ;AAAA,MACR,MAAK;AAAA,MACL,OAAM;AAAA,MAEN;AAAA,4CAAC,UAAK,GAAE,2BAA0B,QAAO,gBAAe;AAAA,QACxD,oCAAC,UAAK,GAAE,eAAc,QAAO,gBAAe;AAAA,QAC5C,oCAAC,UAAK,GAAE,oBAAmB,QAAO,gBAAe;AAAA,QACjD;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA,QACA,oCAAC,UAAK,GAAE,mCAAkC,QAAO,gBAAe;AAAA,QAChE;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,MAAK;AAAA,YACL,QAAO;AAAA;AAAA,QACT;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,MAAK;AAAA;AAAA,QACP;AAAA,QACA,oCAAC,UAAK,IAAG,8BAA6B,MAAK,SACzC;AAAA,UAAC;AAAA;AAAA,YACC,UAAS;AAAA,YACT,UAAS;AAAA,YACT,GAAE;AAAA;AAAA,QACJ,GACF;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,MAAK;AAAA,YACL,MAAK;AAAA;AAAA,QACP;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA,QACA,oCAAC,UAAK,IAAG,+BAA8B,MAAK,SAC1C;AAAA,UAAC;AAAA;AAAA,YACC,UAAS;AAAA,YACT,UAAS;AAAA,YACT,GAAE;AAAA;AAAA,QACJ,GACF;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,UAAS;AAAA,YACT,UAAS;AAAA,YACT,GAAE;AAAA,YACF,MAAK;AAAA;AAAA,QACP;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,MAAK;AAAA,YACL,MAAK;AAAA;AAAA,QACP;AAAA,QACA,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,WAAU;AAAA,QAChD;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA,QACA,oCAAC,UAAK,GAAE,qBAAoB,QAAO,gBAAe;AAAA,QAClD,oCAAC,UAAK,GAAE,mBAAkB,QAAO,gBAAe;AAAA,QAChD;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA;AAAA;AAAA,EACF;AAEJ;;;;ACxEI;AAlBgB;AAEG;AAEU;AAEL;AACE;AAMvB,SAAS,8BAA8B;AAAA,EAC5C;AAAA,EACA;AACF,GAAuC;AACrC,SACE,qCAAC,aAAa,IACZ;AAAA,wCAAC,eAAG,IACF,8CAAC,gBAAgB,IAAC,GACpB;AAAA,IACA,oCAAC,WAAW,IAAC,IAAG,YAAY,uBAAY;AAAA,IACxC,oCAAC,0BAAM,IAAC,WAAS,MAAC,IAAG,YAAW,SAAS,SAAS,SAAQ,WAAU,mBAEpE;AAAA,KACF;AAEJ;;;;ACjBI;AAX6B;AACa;AACZ;AAE3B,SAAS,oBAAoB;AAClC,QAAM,iBAAiB,gDAAiB,CAAC;AACzC,QAAM,cAAc,gBAAgB;AAAhB,IAClB;AAAA,IACA;AAAA,EACF;AACA,SACE;AAAA,IAAC,6BAA6B;AAA7B;AAAA,MACC;AAAA,MACA,SAAS,MAAM,eAAe,mBAAmB;AAAA;AAAA,EACnD;AAEJ;;;;ACAQ;AAhB0B;AAEX;AAEU;AAEH;AAMvB,SAAS,wBAAwB,EAAE,SAAS,WAAW,GAAiC;AAC7F,SACE,qCAAC,aAAa,IACZ;AAAA,wCAAC,eAAG,IACF,8CAAC,gBAAgB,IAAC,GACpB;AAAA,IACA,oCAAC,kBAAM,CAAC,MAAP,EAAY,IAAG,YAAW,WAAU,YAAW,uCAEhD;AAAA,IACA,oCAAC,kBAAM,CAAC,MAAP,EAAY,IAAG,YAAW,YAAW,QAAO,WAAU,cAAa,kFAEpE;AAAA,IACA,qCAAC,gBAAI,IAAC,IAAG,YACP;AAAA,0CAAC,0BAAM,IAAC,SAAQ,WAAU,IAAG,YAAW,SAAS,SAAS,mBAE1D;AAAA,MACA,oCAAC,0BAAM,IAAC,SAAS,YAAY,uBAAS;AAAA,OACxC;AAAA,KACF;AAEJ;;;;ACzBI;AAP8B;AAEM;AAEjC,SAAS,0BAA0B;AACxC,QAAM,iBAAiB,gDAAiB,CAAC;AACzC,SACE;AAAA,IAAC,uBAAuB;AAAvB;AAAA,MACC,SAAS,MAAM,eAAe,mBAAmB;AAAA,MACjD,YAAY,MAAM,eAAe,yBAAyB;AAAA;AAAA,EAC5D;AAEJ;;;;ACHM;AATC,SAAS,wBAAwB;AACtC,SACE;AAAA,IAAC;AAAA;AAAA,MACC,OAAM;AAAA,MACN,QAAO;AAAA,MACP,SAAQ;AAAA,MACR,MAAK;AAAA,MACL,OAAM;AAAA,MAEN;AAAA,4CAAC,UAAK,GAAE,kDAAiD,QAAO,gBAAe;AAAA,QAC/E;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA;AAAA,QACT;AAAA,QACA,oCAAC,UAAK,GAAE,oCAAmC,QAAO,gBAAe;AAAA,QACjE,oCAAC,UAAK,GAAE,mCAAkC,QAAO,gBAAe;AAAA,QAChE,oCAAC,UAAK,GAAE,0CAAyC,QAAO,gBAAe;AAAA,QACvE,oCAAC,UAAK,GAAE,wDAAuD,QAAO,gBAAe;AAAA,QACrF,oCAAC,UAAK,GAAE,0BAAyB,MAAK,gBAAe;AAAA,QACrD,oCAAC,UAAK,GAAE,uBAAsB,MAAK,gBAAe;AAAA,QAClD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,gBAAe;AAAA,QACrD,oCAAC,UAAK,GAAE,uBAAsB,MAAK,gBAAe;AAAA,QAClD,oCAAC,UAAK,GAAE,0BAAyB,MAAK,gBAAe;AAAA,QACrD,oCAAC,UAAK,GAAE,yBAAwB,MAAK,gBAAe;AAAA,QACpD,oCAAC,UAAK,GAAE,OAAM,GAAE,MAAK,OAAM,MAAK,QAAO,KAAI,MAAK,gBAAe;AAAA,QAC/D,oCAAC,UAAK,GAAE,OAAM,GAAE,MAAK,OAAM,MAAK,QAAO,KAAI,MAAK,gBAAe;AAAA,QAC/D,oCAAC,UAAK,GAAE,OAAM,GAAE,OAAM,OAAM,KAAI,QAAO,KAAI,MAAK,gBAAe;AAAA,QAC/D,oCAAC,UAAK,GAAE,OAAM,GAAE,OAAM,OAAM,KAAI,QAAO,KAAI,MAAK,gBAAe;AAAA,QAC/D,oCAAC,UAAK,GAAE,OAAM,GAAE,OAAM,OAAM,KAAI,QAAO,KAAI,MAAK,gBAAe;AAAA,QAC/D,oCAAC,UAAK,GAAE,MAAK,GAAE,OAAM,OAAM,KAAI,QAAO,KAAI,MAAK,gBAAe;AAAA,QAC9D,oCAAC,UAAK,GAAE,gBAAe,QAAO,SAAQ;AAAA,QACtC,oCAAC,UAAK,GAAE,gBAAe,QAAO,SAAQ;AAAA,QACtC;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA,YACP,gBAAe;AAAA;AAAA,QACjB;AAAA,QACA;AAAA,UAAC;AAAA;AAAA,YACC,GAAE;AAAA,YACF,QAAO;AAAA,YACP,gBAAe;AAAA;AAAA,QACjB;AAAA,QACA,oCAAC,UAAK,GAAE,mCAAkC,QAAO,gBAAe,gBAAe,SAAQ;AAAA,QACvF,oCAAC,UAAK,GAAE,iCAAgC,QAAO,gBAAe,gBAAe,SAAQ;AAAA,QACrF,qCAAC,OAAE,SAAQ,QACT;AAAA,8CAAC,UAAK,IAAG,QAAO,IAAG,OAAM,IAAG,QAAO,IAAG,MAAK,QAAO,SAAQ;AAAA,UAC1D,oCAAC,UAAK,IAAG,QAAO,IAAG,OAAM,IAAG,QAAO,IAAG,MAAK,QAAO,SAAQ;AAAA,UAC1D,oCAAC,UAAK,IAAG,SAAQ,IAAG,OAAM,IAAG,SAAQ,IAAG,MAAK,QAAO,SAAQ;AAAA,UAC5D,oCAAC,UAAK,IAAG,SAAQ,IAAG,OAAM,IAAG,SAAQ,IAAG,MAAK,QAAO,SAAQ;AAAA,UAC5D,oCAAC,UAAK,IAAG,OAAM,IAAG,SAAQ,IAAG,MAAK,IAAG,SAAQ,QAAO,SAAQ;AAAA,UAC5D,oCAAC,UAAK,IAAG,OAAM,IAAG,QAAO,IAAG,MAAK,IAAG,QAAO,QAAO,SAAQ;AAAA,UAC1D,oCAAC,UAAK,IAAG,OAAM,IAAG,QAAO,IAAG,MAAK,IAAG,QAAO,QAAO,SAAQ;AAAA,WAC5D;AAAA;AAAA;AAAA,EACF;AAEJ;;;;ACxCmB;AAfS;AAEL;AAEkB;AAEH;AAEV;AACE;AAEvB,SAAS,2BAA2B;AACzC,QAAM,WAAW,yCAAW,CAAC;AAE7B,SACE,oCAAC,yBAAK,IAAC,QAAQ,oCAAC,+BAAW,IAAC,GAAI,WAAS,MAAC,SAAS,MAAM,SAAS,EAAE,GAClE,+CAAC,aAAa,IAAC,OAAO,oCAAC,qBAAqB,IAAC,GAC3C;AAAA,wCAAC,WAAW,IAAC,IAAG,YAAW,0CAA4B;AAAA,IACvD,qCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAW,OAAM,oBACrC;AAAA;AAAA,MACD,oCAAC,wBAAI,IAAC,gBAAe,aAAY,MAAK,kCAAiC,oBAEvE;AAAA,MACC;AAAA,MACD,oCAAC,wBAAI,IAAC,gBAAe,aAAY,MAAK,+BAA8B,mBAEpE;AAAA,MAAO;AAAA,OAET;AAAA,KACF,GACF;AAEJ;;;;AChCc;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACON;AAlBmB;AACO;AAEX;AAEK;AACE;AAMvB,SAAS,2BAA2B,OAAwC;AACjF,QAAM,EAAE,OAAO,QAAQ,IAAI;AAE3B,SACE,qCAAC,aAAa,IACZ;AAAA,wCAAC,eAAG,IAAC,IAAG,YAAW,IAAG,YACpB,8CAAC,SAAI,KAAK,eAAc,EAAE,OAAM,SAAQ,GAC1C;AAAA,IACA,oCAAC,WAAW,IAAC,IAAG,YAAW,IAAG,YAAW,IAAG,YAAW,yCAEvD;AAAA,IACA,qCAAC,kBAAM,CAAC,MAAP,EAAY,IAAG,YAAW,IAAG,YAAW,WAAU,WAAU;AAAA;AAAA,MACrB,SAAS,6DAAE;AAAA;AAAA,QAAuB;AAAA,SAAM;AAAA,OAChF;AAAA,IACA,oCAAC,gBAAI,IAAC,IAAG,YACP,8CAAC,0BAAM,IAAC,IAAG,YAAW,SAAS,SAAS,SAAQ,WAAU,mBAE1D,GACF;AAAA,KACF;AAEJ;;;;ACnBI;AAdwB;AAEZ;AAEkB;AAES;AAEpC,SAAS,uBAAuB;AACrC,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,iBAAiB,gDAAiB,CAAC;AACzC,QAAM,QAAQ,oBAAG,CAAC,SAAS,OAAO,SAAS,EAAE;AAE7C,SACE;AAAA,IAAC,0BAA0B;AAA1B;AAAA,MACC;AAAA,MACA,SAAS,MAAM,eAAe,gCAAgC;AAAA;AAAA,EAChE;AAEJ;;;;;;;;;;;;;;;;;ACnBsB;AAMf;AAC+D;AAC9C;AAEwC;AASzD;AAEA,SAAS,8BAA8B,KAAgB;AAC5D,SAAO,OAAO,UACZ,IAAI;AAAA,IACF,6CAAqB,CAAC,KAAK;AAAA;AAAA;AAAA,IAG3B,oCAAc,CAAC;AAAA,EACjB;AACJ;AAQO,eAAe,yBAAyB;AAC7C,QAAM,sDAAqB,CAAC,4CAAe,CAAC,MAAM;AAClD,QAAM,YAAY,MAAM,8BAAS,CAAC,OAAO;AACzC,SAAO,IAAI,gBAAS,CAAC,SAAS;AAChC;AAOO,eAAe,oBAAoB,KAA2C;AACnF,QAAM,aAAa,MAAM,IAAI,WAAW;AACxC,MAAI,WAAW,iBAAiB,aAAa;AAC3C,UAAM,IAAI,MAAM,WAAW,YAAY;AAAA,EACzC;AACA,SAAO,EAAE,MAAM,4CAAe,CAAC,QAAQ,OAAO,UAAmB,GAAG,WAAW;AACjF;AAEO,MAAM,yCAAyC,4DAA2B;AAA3B,EACpD;AAAA;AAEF;AAEO,SAAS,4BAA4B,KAAgB;AAC1D,SAAO,OAAO,SAAiB,iBAC7B,IAAI,KAAK,4CAAwB,CAAC,QAAQ,aAAa,aAAa,SAAS,CAAC,GAAG,OAAO;AAC5F;AAEO,SAAS,4BAA4B,KAAgB;AAC1D,SAAO,OAAO,SAAiB,iBAC7B,IAAI,SAAS,6CAAqB,CAAC,YAAY,GAAG,OAAO;AAC7D;AAEO,SAAS,kCAAkC,KAAgB;AAChE,SAAO,OAAO,QAAgB,SAAiB,iBAC7C,IAAI,oBAAoB,6CAAqB,CAAC,YAAY,GAAG,QAAQ,OAAO;AAChF;AAEO,SAAS,mCAAmC,aAAqB,cAAsB;AAC5F,QAAM,iBAAiB,sDAAsB,CAAC,WAAW;AACzD,QAAM,oBAAoB,yCAAsB,CAAC,aAAa,SAAS,KAAK,CAAC;AAC7E,EAAC,eAAe,KAAK,kBAAiD,YACpE;AACF,SAAO;AACT;AAEO,SAAS,wBAAwB,UAA2B;AACjE,QAAM,0CAA0C;AAChD,SACE,SAAS,eAAe,8BAAW,CAAC,0BACpC,SAAS,eAAe;AAE5B;AAIA,MAAM,8CAA8C;AAE7C,SAAS,mDACd,sBACA;AACA,SAAO,0BAAO;AAAP,IACL,6DAA4B,CAAC,oBAAoB;AAAA,IACjD;AAAA,IACA;AAAA,EACF;AACF;AAEO,SAAS,gBAAgB,EAAE,KAAK,GAAqB;AAC1D,SAAO,SAAS,4CAAe,CAAC;AAClC;;;;ACtFwB;AAtBD;AAGC;AAEG;AAGa;AAWxC,SAAS,yBAAyB,EAAE,MAAM,GAAsB;AAC9D,SACE,qCAAC,2BAAO,IAAC,SAAQ,WAAU,WAAU,QAAO;AAAA;AAAA,IACxB,qCAAC,UAAU,IAAE;AAAA;AAAA,MAAM;AAAA,OAAI;AAAA,IAAa;AAAA,IACtD,oCAAC,kBAAM,CAAC,GAAP,EAAS,MAAK,wBAAuB,gBAAe,aAAY,+CAEjE;AAAA,KACF;AAEJ;AAEA,SAAS,0BAA0B,EAAE,MAAM,GAAsB;AAC/D,SACE,qCAAC,2BAAO,IAAC,SAAQ,WAAU,WAAU,QAAO;AAAA;AAAA,IACK;AAAA,IAC/C,oCAAC,UAAU,IAAE,iBAAM;AAAA,IAClB;AAAA,IAAG;AAAA,KACN;AAEJ;AAEA,SAAS,uBAAuB,EAAE,MAAM,GAAsB;AAC5D,SACE,qCAAC,2BAAO,IAAC,SAAQ,WAAU,WAAU,QAAO;AAAA;AAAA,IACtC,oCAAC,UAAU,IAAE,iBAAM;AAAA,IAAa;AAAA,KACtC;AAEJ;AAEO,SAAS,iCAAiC;AAAA,EAC/C;AAAA,EACA;AAAA,EACA,2BAA2B;AAC7B,GAAoC;AAClC,MAAI,CAAC,qBAAsB,QAAO;AAElC,MAAI,0BAA0B;AAC5B,WAAO,oCAAC,4BAAyB,OAAc;AAAA,EACjD;AACA,MAAI,qBAAqB,aAAc,QAAO,oCAAC,6BAA0B,OAAc;AACvF,MAAI,uBAAuB,CAAC,oBAAoB;AAC9C,WAAO,oCAAC,0BAAuB,OAAc;AAC/C,SAAO;AACT;;;;;;AC7CQ;AAjByC;AACnB;AACsB;AAEV;AAEnC,SAAS,sBAAsB;AACpC,QAAM,EAAE,OAAO,iBAAiB,sBAAsB,yBAAyB,IAC7E,yBAAyB,CAAC;AAE5B,qFAAmC,CAAC,MAAM,gBAAgB,CAAC;AAE3D,SACE;AAAA,IAAC,aAAa;AAAb;AAAA,MACC;AAAA,MACA,0BAA0B;AAAA,MAC1B,SACE;AAAA,QAAC,gCAAgC;AAAhC;AAAA,UACC;AAAA,UACA;AAAA;AAAA,MACF;AAAA,MAEF,iBAAiB;AAAA,MACjB,kBAAkB;AAAA;AAAA,EACpB;AAEJ;;;;ACDI;AAxBkB;AAEI;AAEkB;AAUrC;AAC8B;AACD;AAM7B,SAAS,mBAAmB,EAAE,WAAW,aAAa,GAA4B;AACvF,SACE,qCAAC,+BAAK,IAAC,SAAS,WACb;AAAA;AAAA,IACD,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,eAAe,SAAS,oCAAC,mBAAmB,IAAC,GAAI;AAAA,IACxE,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,YAAY,SAAS,oCAAC,UAAU,IAAC,GAAI;AAAA,IAC5D,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,oBAAoB,SAAS,oCAAC,kBAAkB,IAAC,GAAI;AAAA,IAC5E,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,0BAA0B,SAAS,oCAAC,wBAAwB,IAAC,GAAI;AAAA,IACxF,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,sBAAsB,SAAS,oCAAC,2CAAoB,IAAC,GAAI;AAAA,IAChF,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,oBAAoB,SAAS,oCAAC,kBAAkB,IAAC,GAAI;AAAA,IAC5E,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,yBAAyB,SAAS,oCAAC,iBAAiB,IAAC,GAAI;AAAA,IAChF,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,yBAAyB,SAAS,oCAAC,uBAAuB,IAAC,GAAI;AAAA,IACtF,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,4BAA4B,SAAS,oCAAC,0BAA0B,IAAC,GAAI;AAAA,IAC5F,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,0BAA0B,SAAS,oCAAC,2BAA2B,IAAC,GAAI;AAAA,IAC3F,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,sBAAsB,SAAS,oCAAC,oBAAoB,IAAC,GAAI;AAAA,KAClF;AAEJ;;;;ACxB+B;AAhBR;AAEY;AAEL;AAEkC;AAMzD,SAAS,cAAc,EAAE,SAAS,YAAY,GAAuB;AAC1E,eAAa,CAAC,IAAI;AAClB,SACE,oCAAC,uBAAuB,IAAC,OAAO,SAC9B,8CAAC,yBAAK,IAAC,WAAS,MAAC,QAAQ,oCAAC,+BAAW,IAAC,GAAI,SAAS,aACjD,8CAAC,gCAAM,IAAC,GACV,GACF;AAEJ;;;;ACrBkC;AAMH;AAEG;AAM3B;AAE6C;AAY7C,SAAS,gBAAoD;AAAA,EAClE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA6B;AAC3B,QAAM,CAAC,2BAA2B,4BAA4B,IAAI,kBAAQ,CAAC,KAAK;AAChF,QAAM,CAAC,sBAAsB,uBAAuB,IAAI,uDAAsB,CAAC;AAC/E,QAAM,CAAC,0BAA0B,2BAA2B,IAAI,kBAAQ,CAAC,KAAK;AAC9E,QAAM,iBAAiB,gDAAiB,CAAC;AACzC,QAAM,gCAAgC,iBAAO,CAAC,MAAM,mCAAmC,CAAC,GAAG,CAAC,CAAC;AAC7F,iBAAe,mCAAmC,KAAU;AAC1D,UAAM,WAAW,MAAM,cAAc,GAAG;AACxC,QAAI,CAAC,UAAU,EAAE,MAAM,SAAS,KAAK,CAAC,GAAG;AACvC,kCAA4B,KAAK;AACjC,YAAM,IAAI,MAAM,mDAAsB,CAAC,UAAU;AAAA,IACnD;AACA,UAAM,+BAA+B,MAAM,+BAA+B,QAAQ;AAClF,QAAI,8BAA8B;AAChC,aAAO;AAAA,IACT;AACA;AAAA,EACF;AAEA,iBAAe,sBAAsB;AACnC,QAAI;AACJ,QAAI;AACF,8BAAwB,EAAE,cAAc,MAAM,CAAQ;AACtD,kCAA4B,IAAI;AAChC,YAAM,MAAM,WAAW;AACvB,YAAM,mCAAmC,GAAG;AAC5C,kCAA4B,KAAK;AACjC,qBAAe,wBAAwB,KAAK;AAC5C,YAAM,4BAAK,CAAC,IAAI;AAChB,YAAM,0BAA0B,GAAG;AACnC,kBAAY;AAAA,IACd,SAAS,GAAG;AACV,kCAA4B,KAAK;AACjC,UAAI,8BAAO,CAAC,CAAC,KAAK,uDAAsB,CAAC,CAAC,GAAG;AAC3C,gCAAwB,EAAE,cAAc,KAAK,CAAQ;AACrD;AAAA,MACF;AAEA,qBAAe,YAAY,KAAK;AAAA,IAClC,UAAE;AACA,YAAM,KAAK,UAAU,MAAM;AAAA,IAC7B;AAAA,EACF;AAEA,SAAO;AAAA,IACL,iBAAiB;AAAA,IACjB;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF;;;;AC1FwB;AAEE;AAEnB,SAAS,qBAAqB;AACnC,SAAO,iBAAO;AAAP,IACL,OAAO;AAAA,MACL,uBAAuB,MAAc;AACnC,aAAK,2BAAS,CAAC,MAAM,2BAA2B,IAAI;AAAA,MACtD;AAAA,MACA,wCAAwC;AACtC,aAAK,2BAAS,CAAC,MAAM,oCAAoC;AAAA,MAC3D;AAAA,MACA,oCAAoC;AAClC,aAAK,2BAAS,CAAC,MAAM,oCAAoC;AAAA,MAC3D;AAAA,MACA,oCAAoC;AAClC,aAAK,2BAAS,CAAC,MAAM,gCAAgC;AAAA,MACvD;AAAA,MACA,gCAAgC;AAC9B,aAAK,2BAAS,CAAC,MAAM,gCAAgC;AAAA,MACvD;AAAA,MACA,yCAAyC;AACvC,aAAK,2BAAS,CAAC,MAAM,uCAAuC;AAAA,MAC9D;AAAA,IACF;AAAA,IACA,CAAC;AAAA,EACH;AACF;;;;;;ACOa;AAnCuB;AACD;AAEd;AACM;AAEX;AAEM;AAGC;AACG;AAEgB;AACZ;AACJ;AACiB;AACR;AAEL;AACE;AACG;AACD;AAK3B;AAC+B;AACb;AACc;AACL;AAE3B,MAAM,+BAA+B,kBAAkB,CAAC;AAAA,EAC7D,WAAW,oCAAC,gCAA6B;AAAA,EACzC,cACE,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,0BAA0B,SAAS,oCAAC,0BAA0B,IAAC,GAAI;AAE9F,CAAC;AAED,SAAS,+BAA+B;AACtC,QAAM,QAAQ,6BAAQ,CAAC;AACvB,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,iBAAiB,gDAAiB,CAAC;AACzC,QAAM,kBAAkB,kBAAkB,CAAC;AAC3C,eAAa,CAAC,IAAI;AAElB,QAAM,CAAC,wBAAwB,yBAAyB,IAAI,kBAAQ,CAAgB,IAAI;AACxF,QAAM,CAAC,qBAAqB,sBAAsB,IAAI,kBAAQ,CAAyB,IAAI;AAC3F,QAAM,aAAa,gDAAsB,CAAC;AAC1C,QAAM,UAAU,gDAAiB,CAAC;AAElC,QAAM,eAAe,yBAAyB,CAA8B,cAAc;AAE1F,qBAAS,CAAC,MAAM;AACd,UAAM,KAAK,oBAAG,CAAC,SAAS,OAAO,IAAI;AACnC,QAAI,IAAI;AACN,gCAA0B,EAAE;AAC5B,6BAAuB,mCAAe,CAAC,SAAS,gCAAU,CAAC,EAAE,CAAC,CAAC;AAAA,IACjE;AAAA,EACF,GAAG,CAAC,SAAS,KAAK,CAAC;AAEnB,qBAAS,CAAC,MAAM,MAAM,uBAAuB,IAAI,GAAG,CAAC,CAAC;AAEtD,QAAM,QAAQ;AAEd,QAAM,EAAE,iBAAiB,sBAAsB,yBAAyB,IACtE,eAAe,CAAa;AAAA,IAC1B;AAAA,IACA,WAAW,iDAAgB,CAAC,EAAE,SAAS,QAAQ,MAAM,QAAQ,KAAK,CAAC;AAAA,IACnE,eAAe,iDAAoB;AAApB,IACf,YAAY,wDAAuB,CAAC,QAAQ,MAAM,QAAQ,IAAI;AAAA,IAC9D,MAAM,0BAA0B,YAAY;AAC1C,UAAI,CAAC,cAAc;AACjB,uBAAe,mBAAmB;AAClC,cAAM,MAAM,iCAAiC;AAC7C;AAAA,MACF;AAEA,qBAAe,iBAAiB,sCAAiC;AAEjE,qBAAe,wBAAwB,SAAS;AAChD,YAAM,4BAAK,CAAC,IAAI;AAChB,UAAI,CAAC,oBAAqB,OAAM,IAAI,MAAM,gBAAgB;AAE1D,qBAAe,0BAA0B,EAAE,sBAAsB,MAAM,CAAC;AAExE,UAAI;AACF,cAAM,QAAQ,MAAM,WAAW,YAAY,oBAAoB,OAAO,GAAG,YAAY;AAErF,YAAI,CAAC,SAAS,CAAC,uBAAwB,OAAM,IAAI,MAAM,gBAAgB;AACvE,uBAAe,0BAA0B,EAAE,sBAAsB,KAAK,CAAC;AACvE,cAAM,4BAAK,CAAC,IAAI;AAChB,0CAAS,CAAC,QAAQ,yBAAyB;AAAA,UACzC,YAAY;AAAA,UACZ,cAAc;AAAA,QAChB,CAAC;AAAA,MACH,SAAS,GAAG;AACV,4BAAM,CAAC,MAAM,iCAAiC,CAAC;AAC/C,wBAAgB,kCAAkC;AAClD,uBAAe,wBAAwB;AAAA,MACzC,UAAE;AACA,aAAK,WAAW,UAAU,MAAM;AAAA,MAClC;AAAA,IACF;AAAA,EACF,CAAC;AAEH,QAAM,qBAA6C;AAAA,IACjD;AAAA,IACA,aAAa;AAAA,IACb;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACA,QAAM,wBAAwB,sDAAqB,CAAC,wBAAwB;AAE5E,SACE;AAAA,IAAC,aAAa;AAAb;AAAA,MACC,SAAS;AAAA,MACT,aAAa,wBAAwB,eAAe,qBAAqB;AAAA;AAAA,EAC3E;AAEJ;;;;;;;;;;;;;;;;;AC3HmC;AACE;AACC;AAChB;AAEf,eAAe,gDAAgD;AAAA,EACpE;AAAA,EACA,UAAU,CAAC;AAAA,EACX,YAAY,+BAAS,CAAC,EAAE,QAAQ;AAClC,GAIoB;AAClB,QAAM,UAAU,0CAAqB,CAAC,aAAa;AAEnD,QAAM,UAAU;AAAA,IACd,KAAK,+BAAS,CAAC;AAAA,IACf,KAAK,KAAK,OAAM,oBAAI,KAAK,GAAE,QAAQ,IAAI,GAAI;AAAA;AAAA,IAC3C,KAAK,KAAK,MAAM,YAAY,GAAI;AAAA;AAAA,IAChC,KAAK,mCAAkB,CAAC,OAAO;AAAA,IAC/B,aAAa,CAAC,aAAa;AAAA,IAC3B;AAAA,EACF;AAEA,QAAM,SAAS,EAAE,KAAK,OAAO,KAAK,SAAS;AAE3C,QAAM,eAAe,0BAAgB,CAAC,KAAK,UAAU,MAAM,CAAC;AAE5D,QAAM,gBAAgB,0BAAgB,CAAC,KAAK,UAAU,OAAO,CAAC;AAE9D,QAAM,cAAc,CAAC,cAAc,aAAa,EAAE,KAAK,GAAG;AAE1D,SAAO;AACT;;;;;;;;;;;;AClCuB;AACI;AAEH;AAEkB;AAE1C,SAAS,2BAA2B,cAA0B;AAI5D,SAAO,uCAAqB,CAAC,wBAAM,CAAC,KAAK,YAAY,GAAG,OAAO;AACjE;AAEO,SAAS,8BAA8B,cAAsB,WAAuB;AACzF,QAAM,eAAe,2BAA2B,SAAS;AACzD,SAAO,CAAC,cAAc,YAAY,EAAE,KAAK,GAAG;AAC9C;AAEO,SAAS,8BAA8B,SAAiB;AAC7D,SAAO,gCAAU,CAAC,yBAAM,CAAC,OAAO,CAAC;AACnC;AAEO,SAAS,kBAAkB,KAAgB;AAChD,SAAO,OAAO,SAAiB,iBAC7B,IAAI,SAAS,wDAAyB,CAAC,YAAY,GAAG,OAAO;AACjE;;;;AC1B8B;AAET;AASd,MAAM,0BAA0B,uBAAa,CAA0B;AAAA,EAC5E,sBAAsB;AAAA,EACtB,0BAA0B;AAAA,EAC1B,gBAAgB,uBAAI;AAAJ,EAChB,gBAAgB;AAClB,CAAC;AAEM,MAAM,2BAA2B,wBAAwB;;;;ACuKhD;AAzLoB;AACA;AAEwB;AAChC;AACZ;AAEmB;AACJ;AAEM;AACd;AAE0B;AACd;AACK;AACV;AACA;AACkC;AAC1B;AAI/B;AAIA;AAE2B;AAC6B;AAKxD;AAC2D;AAE3D,SAAS,yBAAyB;AACvC,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,iBAAiB,gDAAiB,CAAC;AACzC,eAAa,CAAC,IAAI;AAElB,QAAM,gBAAgB,wDAAuB,CAAC;AAC9C,QAAM,WAAW,kDAAiB,CAAC;AAEnC,QAAM,kCAAkC,6EAAgC,CAAC;AAEzE,QAAM,aAAa,wCAAa,CAAC;AACjC,QAAM,EAAE,oBAAoB,YAAY,IAAI,kDAAkB,CAAC;AAE/D,QAAM,CAAC,cAAc,eAAe,IAAI,kBAAQ,CAAgB,IAAI;AAEpE,qBAAS,CAAC,MAAM;AACd,UAAM,QAAQ,SAAS,oBAAG,CAAC,SAAS,OAAO,OAAO,GAAG,EAAE;AACvD,QAAI,OAAO,SAAS,KAAK,EAAG,iBAAgB,KAAK;AAAA,EACnD,GAAG,CAAC,SAAS,KAAK,CAAC;AAEnB,QAAM,CAAC,sBAAsB,uBAAuB,IAAI,uDAAsB,CAAC;AAE/E,QAAM,CAAC,0BAA0B,2BAA2B,IAAI,kBAAQ,CAAC,KAAK;AAE9E,QAAM,CAAC,gBAAgB,iBAAiB,IAAI,kBAAQ,CAAgB,IAAI;AACxE,QAAM,EAAE,QAAQ,MAAM,IAAI,oEAAuB,CAAC;AAElD,QAAM,QAAQ;AAEd,QAAM,iBAAiB,YAAY;AACjC,QAAI,CAAC,OAAQ,OAAM,IAAI,MAAM,wCAAwC;AAErE,QAAI,iBAAiB,MAAM;AACzB,0BAAM,CAAC,KAAK,wBAAwB;AACpC;AAAA,IACF;AAEA,QAAI,CAAC,iBAAiB,CAAC,sBAAsB,CAAC,eAAe,CAAC,YAAY,CAAC,OAAO;AAChF,0BAAM,CAAC,KAAK,6DAA6D;AAAA,QACvE,SAAS;AAAA,QACT;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF,CAAC;AACD;AAAA,IACF;AAEA,UAAM,UAAU,SAAS,YAAY;AAErC,QAAI,CAAC,SAAS;AACZ,0BAAM,CAAC,KAAK,kCAAkC;AAC9C;AAAA,IACF;AAEA,UAAM,SAAS,MAAM,sCAAsC,CAAC;AAAA,MAC1D,iBAAiB;AAAA,MACjB,QAAQ,GAAG;AACT,YAAI,8BAAO,CAAC,CAAC,KAAK,uDAAsB,CAAC,CAAC,GAAG;AAC3C,kCAAwB,EAAE,cAAc,KAAK,CAAQ;AACrD;AAAA,QACF;AACA,uBAAe,YAAY,KAAK;AAAA,MAClC;AAAA,IACF,CAAC;AAED,UAAM,cAAc,MAAM,mBAAmB,CAAC,MAAM;AACpD,4BAAwB,WAAW;AAEnC,QAAI,YAAY,cAAc;AAC5B,kCAA4B,KAAK;AACjC;AAAA,IACF;AAEA,QAAI,YAAY,eAAe,8BAAW,CAAC,UAAU;AACnD,0BAAM,CAAC,MAAM,qCAAqC,WAAW;AAC7D;AAAA,IACF;AAGA,QAAI,mBAAmB,CAAC;AACxB,QAAI;AACF,yBAAmB,gCAAgC,YAAY;AAAA,IACjE,SAAS,GAAG;AACV,0BAAM,CAAC,MAAM,sDAAsD,CAAC;AAAA,IACtE;AAEA,QAAI;AACF,qBAAe,wBAAwB,QAAQ;AAC/C,YAAM,4BAAK,CAAC,GAAI;AAEhB,YAAM,sBAAsB,MAAM,+CAA+C,CAAC;AAAA,QAChF,eAAe,QAAQ;AAAA,QACvB,SAAS;AAAA,UACP,YAAY;AAAA,YACV,SAAS,wCAAuB,CAAC,QAAQ,cAAc,wCAAkB,CAAC,OAAO;AAAA,YACjF,SAAS,wCAAuB,CAAC,QAAQ,cAAc,wCAAkB,CAAC,OAAO;AAAA,UACnF;AAAA,UACA,GAAG;AAAA,QACL;AAAA,MACF,CAAC;AAED,wBAAkB,6BAA6B,CAAC,mBAAmB,CAAC;AAEpE,qBAAe,0BAA0B,EAAE,sBAAsB,MAAM,CAAC;AAExE,YAAM,OAAO,MAAM,iBAAiB,CAAC,MAAM,EAAE,qBAAqB,YAAY;AAE9E,UAAI,KAAK,eAAe,8BAAW,CAAC,qBAAqB;AACvD,uBAAe,wBAAwB;AACvC;AAAA,MACF;AAEA,qBAAe,0BAA0B,EAAE,sBAAsB,KAAK,CAAC;AACvE,YAAM,eAAe,6BAA6B,CAAC,qBAAqB,KAAK,YAAY;AACzF,YAAM,4BAAK,CAAC,GAAG;AACf,iBAAW,cAAc,YAAY;AAErC,4DAAoB,CAAC;AAAA,QACnB;AAAA,QACA;AAAA,QACA;AAAA,QACA,kBAAkB;AAAA,QAClB;AAAA,MACF,CAAC;AAAA,IACH,SAAS,GAAG;AACV,qBAAe,uBAAuB;AAAA,IACxC,UAAE;AACA,YAAM,OAAO,UAAU,MAAM;AAAA,IAC/B;AAAA,EACF;AAEA,QAAM,wBAAwB,eAAe;AAE7C,QAAM,qBAA8C;AAAA,IAClD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AAEA,QAAM,wBAAwB,sDAAqB,CAAC,wBAAwB;AAE5E,SACE,oCAAC,wBAAwB,IAAC,OAAO,oBAC/B;AAAA,IAAC,yBAAK;AAAL;AAAA,MACC,WAAS;AAAA,MACT,QAAQ,oCAAC,+BAAW,IAAC;AAAA,MACrB,SAAS,wBAAwB,MAAM,sBAAsB,IAAI;AAAA,MAEjE,8CAAC,gCAAM,IAAC;AAAA;AAAA,EACV,GACF;AAEJ;;;;ACjLQ;AAfmB;AAEsB;AACT;AACV;AAEvB,SAAS,uBAAuB;AACrC,QAAM,EAAE,gBAAgB,sBAAsB,yBAAyB,IACrE,oBAAU,CAAC,uBAAuB;AAEpC,SACE;AAAA,IAAC,aAAa;AAAb;AAAA,MACC,OAAM;AAAA,MACN,0BAA0B;AAAA,MAC1B,SACE;AAAA,QAAC,gCAAgC;AAAhC;AAAA,UACC,OAAM;AAAA,UACN;AAAA;AAAA,MACF;AAAA,MAEF,iBAAiB;AAAA,MACjB,kBAAkB;AAAA;AAAA,EACpB;AAEJ;;;;ACPI;AAjBuB;AAED;AAEoB;AACX;AACP;AACE;AACU;AACA;AACF;AAE/B,SAAS,cAAc;AAC5B,QAAM,EAAE,eAAe,IAAI,oBAAU,CAAC,uBAAuB;AAC7D,QAAM,uBAAuB,uBAAuB,CAAC;AAErD,SACE,qCAAC,aAAa,IACZ;AAAA,wCAAC,eAAG,IAAC,IAAG,YACN,8CAAC,qBAAqB,IAAC,GACzB;AAAA,IACA,oCAAC,WAAW,IAAC,IAAG,YAAW,IAAG,YAAW,iDAEzC;AAAA,IACA;AAAA,MAAC,6BAA6B;AAA7B;AAAA,QACC,QAAQ,uBAAuB,aAAa;AAAA;AAAA,IAC9C;AAAA,IACA;AAAA,MAAC,gBAAI;AAAJ;AAAA,QACC,IAAG;AAAA,QACH,cAAa;AAAA,QACb,eAAc;AAAA,QACd,WAAU;AAAA,QACV,IAAG;AAAA,QACH,IAAG;AAAA,QACH,OAAM;AAAA,QAEN;AAAA,UAAC,kBAAkB;AAAlB;AAAA,YACC,OAAM;AAAA,YACN,cAAa;AAAA,YAEZ;AAAA;AAAA,QACH;AAAA;AAAA,IACF;AAAA,KACF;AAEJ;;;;AC7BE;AAhBoB;AAEI;AAQnB;AACgC;AACF;AACT;AAErB,MAAM,yBACX,qCAAC,+BAAK,IAAC,SAAS,oCAAC,sBAAsB,IAAC,GACtC;AAAA,sCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,eAAe,SAAS,oCAAC,oBAAoB,IAAC,GAAI;AAAA,EACzE,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,oBAAoB,SAAS,oCAAC,kBAAkB,IAAC,GAAI;AAAA,EAC5E,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,sBAAsB,SAAS,oCAAC,2CAAoB,IAAC,GAAI;AAAA,EAChF,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,yBAAyB,SAAS,oCAAC,iBAAiB,IAAC,GAAI;AAAA,EAChF,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,YAAY,SAAS,oCAAC,UAAU,IAAC,GAAI;AAAA,EAC5D,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,0BAA0B,SAAS,oCAAC,WAAW,IAAC,GAAI;AAAA,EAC3E,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,oBAAoB,SAAS,oCAAC,kBAAkB,IAAC,GAAI;AAAA,GAC9E;;;;ACxBuB;AAMM;AAEI;AACD;AAM3B;AAGA,MAAM,4CAA4C;AAUlD,SAAS,qBAAyD;AAAA,EACvE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAkC;AAChC,QAAM,CAAC,2BAA2B,4BAA4B,IAAI,kBAAQ,CAAC,KAAK;AAChF,QAAM,CAAC,sBAAsB,uBAAuB,IAAI,uDAAsB,CAAC;AAC/E,QAAM,CAAC,0BAA0B,2BAA2B,IAAI,kBAAQ,CAAC,KAAK;AAC9E,QAAM,iBAAiB,gDAAiB,CAAC;AACzC,QAAM,kBAAkB,kBAAkB,CAAC;AAE3C,iBAAe,mCAAmC,KAAU;AAC1D,UAAM,WAAW,MAAM,cAAc,GAAG;AAExC,QAAI,CAAC,UAAU,EAAE,MAAM,SAAS,KAAK,CAAC,GAAG;AACvC,kCAA4B,KAAK;AACjC,YAAM,IAAI,MAAM,mDAAsB,CAAC,UAAU;AAAA,IACnD;AACA,WAAO;AAAA,EACT;AAEA,iBAAe,cAAc;AAC3B,QAAI;AACJ,QAAI;AACF,8BAAwB,EAAE,cAAc,MAAM,CAAQ;AACtD,kCAA4B,IAAI;AAChC,YAAM,MAAM,WAAW;AACvB,YAAM,mCAAmC,GAAG;AAC5C,kCAA4B,KAAK;AACjC,qBAAe,wBAAwB,KAAK;AAC5C,YAAM,4BAAK,CAAC,IAAI;AAChB,YAAM,mBAAmB,GAAG;AAC5B,sBAAgB,uCAAuC;AACvD,YAAM,IAAI,UAAU,MAAM;AAC1B,kBAAY;AAAA,IACd,SAAS,GAAG;AACV,kCAA4B,KAAK;AACjC,UAAI,8BAAO,CAAC,CAAC,KAAK,uDAAsB,CAAC,CAAC,GAAG;AAC3C,gCAAwB,EAAE,cAAc,KAAK,CAAQ;AACrD;AAAA,MACF;AAEA,qBAAe,YAAY,KAAK;AAChC,aAAO,KAAK,UAAU,MAAM;AAAA,IAC9B;AAAA,EACF;AAEA,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF;;;;ACjFO;AAEe;AAEoC;AAKnD;AAYP,SAAS,wBAAwB;AAAA,EAC/B;AAAA,EACA;AACF,GAAuC;AACrC,SAAO,OAAO;AAAA,IACZ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,MAAuC;AACrC,UAAM,OAAO,iBAAiB,SAAS,YAAY;AACnD,UAAM,OAAO,MAAM,WAAW,kBAAkB,IAAI;AACpD,UAAM,SAAS,SAAS,EAAE,MAAM,aAAa,SAAS,aAAa,CAAC;AACpE,WAAO,EAAE,QAAQ,OAAO,KAAK,CAAC,GAAG,MAAM,aAAa,KAAK;AAAA,EAC3D;AACF;AAEA,MAAM,mCAAmC,wBAAwB;AAAA,EAC/D,kBAAkB,yDAAoC;AAApC,EAClB,UAAU,kEAAqC;AACjD,CAAC;AAED,MAAM,8BAA8B,wBAAwB;AAAA,EAC1D,kBAAkB,oDAA+B;AAA/B,EAClB,UAAU,6DAAgC;AAC5C,CAAC;AAMM,SAAS,gCAAgC,YAAwB,WAAW,IAAI;AACrF,SAAO,OAAO,EAAE,cAAc,QAAQ,MAA2C;AAC/E,UAAM,cAAc,MAAM,WAAW,qBAAqB;AAC1D,UAAM,OAAyE,CAAC;AAChF,aACM,eAAe,GACnB,eAAe,yCAAyC,EACxD,gBACA;AACA,qBAAe,YAAY;AAC3B,YAAM,EAAE,MAAM,OAAO,IAAI,MAAM,iCAAiC;AAAA,QAC9D;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF,CAAC;AACD,WAAK,KAAK,EAAE,IAAI,oDAA2B,CAAC,MAAM,SAAS,GAAG,MAAM,QAAQ,SAAS,CAAC;AAAA,IACxF;AAEA,aACM,eAAe,GACnB,eAAe,yCAAyC,EACxD,gBACA;AACA,qBAAe,eAAe,yCAAyC;AACvE,YAAM,EAAE,MAAM,OAAO,IAAI,MAAM,4BAA4B;AAAA,QACzD;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF,CAAC;AACD,WAAK,KAAK,EAAE,IAAI,oDAA2B,CAAC,MAAM,SAAS,GAAG,MAAM,QAAQ,SAAS,CAAC;AAAA,IACxF;AACA,UAAM,4BAAK,CAAC,GAAG;AACf,WAAO,EAAE,QAAQ,WAAW,KAAK;AAAA,EACnC;AACF;;;;AC9F0C;AAY1C,MAAM,2BAA2B,uBAAa,CAAkC,IAAI;AAE7E,SAAS,8BAA8B;AAC5C,QAAM,UAAU,oBAAU,CAAC,wBAAwB;AACnD,MAAI,CAAC,QAAS,OAAM,IAAI,MAAM,mCAAmC;AACjE,SAAO;AACT;AAEO,MAAM,4BAA4B,yBAAyB;;;;ACC1D;AArByC;AACL;AACd;AACsB;AAE7C,SAAS,2BAA2B;AACzC,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI,2BAA2B,CAAC;AAEhC,qFAAmC,CAAC,MAAM,yBAAyB,CAAC;AAEpE,SACE;AAAA,IAAC,aAAa;AAAb;AAAA,MACC;AAAA,MACA,0BAA0B;AAAA,MAC1B,SACE;AAAA,QAAC,gCAAgC;AAAhC;AAAA,UACC;AAAA,UACA;AAAA,UACA,0BAA0B;AAAA;AAAA,MAC5B;AAAA,MAEF,kBAAgB;AAAA,MAChB,iBAAiB;AAAA;AAAA,EACnB;AAEJ;;;;ACbI;AAlBkB;AAEI;AAOnB;AACkC;AAMlC,SAAS,wBAAwB,EAAE,MAAM,UAAU,GAAiC;AACzF,SACE,qCAAC,+BAAK,IAAC,MAAY,SAAS,WAC1B;AAAA,wCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,eAAe,SAAS,oCAAC,wBAAwB,IAAC,GAAI;AAAA,IAC7E,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,YAAY,SAAS,oCAAC,UAAU,IAAC,GAAI;AAAA,IAC5D,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,oBAAoB,SAAS,oCAAC,kBAAkB,IAAC,GAAI;AAAA,IAC5E,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,sBAAsB,SAAS,oCAAC,2CAAoB,IAAC,GAAI;AAAA,IAChF,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,0BAA0B,SAAS,oCAAC,wBAAwB,IAAC,GAAI;AAAA,KAC1F;AAEJ;;;;ACHgB;AAvBO;AAEY;AAEL;AAEI;AACkC;AAM7D,SAAS,gBAAgB,EAAE,SAAS,0BAA0B,GAAyB;AAC5F,QAAM,iBAAiB,gDAAiB,CAAC;AACzC,eAAa,CAAC,IAAI;AAElB,QAAM,wBAAwB,eAAe;AAE7C,SACE,oCAAC,yBAAyB,IAAC,OAAO,SAChC;AAAA,IAAC,yBAAK;AAAL;AAAA,MACC,WAAS;AAAA,MACT,QAAQ,oCAAC,+BAAW,IAAC;AAAA,MACrB,SAAS,4BAA4B,wBAAwB;AAAA,MAE7D,8CAAC,gCAAM,IAAC;AAAA;AAAA,EACV,GACF;AAEJ;;;;AC4CI;AA1EwB;AACA;AAIwB;AAEJ;AACR;AAER;AAIzB;AAC2B;AAK3B;AAC+B;AACL;AACC;AAElC,SAAS,2BAA2B;AAClC,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,WAAW,mCAAW,CAAC;AAE7B,QAAM,iBAAiB,gDAAiB,CAAC;AACzC,QAAM,UAAU,gDAAiB,CAAC;AAElC,QAAM,QAAQ;AAEd,QAAM,EAAE,aAAa,sBAAsB,yBAAyB,IAClE,oBAAoB,CAAa;AAAA,IAC/B;AAAA,IACA,YAAY,wDAAuB,CAAC,QAAQ,MAAM,QAAQ,IAAI;AAAA,IAC9D,eAAe,iDAAoB;AAApB,IACf,WAAW,iDAAgB,CAAC,EAAE,SAAS,QAAQ,MAAM,QAAQ,KAAK,CAAC;AAAA,IACnE,YAAY;AACV,eAAS,KAAK,EAAE,SAAS,KAAK,CAAC;AAAA,IACjC;AAAA,IACA,MAAM,mBAAmB,KAAK;AAC5B,YAAM,EAAE,KAAK,IAAI,MAAM,+BAA+B,CAAC,GAAG,EAAE;AAAA,QAC1D,SAAS,4DAAmC,CAAC,QAAQ,MAAM,QAAQ,IAAI;AAAA,QACvE,aAAa,OAAO;AAClB,gBAAM,qBAAqB,yCAAyC,GAAG;AACvE,gBAAM,oBAAoB,SAAS;AACnC,cAAI,mBAAmB;AACrB,2BAAe;AAAA,cACb,6CAA6C,QAAQ,CAAC,SAAI,yCAAyC;AAAA,YACrG;AACA;AAAA,UACF;AACA,yBAAe;AAAA,YACb,uCAAuC,QAAQ,kBAAkB,SAAI,yCAAyC;AAAA,UAChH;AAAA,QACF;AAAA,MACF,CAAC;AACD,eAAS,0CAAgB,CAAC,QAAQ,QAAQ,IAAI,CAAC;AAAA,IACjD;AAAA,EACF,CAAC;AAEH,QAAM,qBAA+C;AAAA,IACnD,OAAO;AAAA,IACP,0BAA0B;AAAA,IAC1B;AAAA,IACA;AAAA,IACA,2BAA2B;AAAA,EAC7B;AAEA,QAAM,wBAAwB,sDAAqB,CAAC,wBAAwB;AAC5E,SACE;AAAA,IAAC,eAAe;AAAf;AAAA,MACC,SAAS;AAAA,MACT,2BAA2B;AAAA;AAAA,EAC7B;AAEJ;AAEO,MAAM,2BAA2B,uBAAuB,CAAC;AAAA,EAC9D,MAAM;AAAA,EACN,WAAW,oCAAC,4BAAyB;AACvC,CAAC;;;;;;ACpF0B;AACL;AAGgB;AAChB;AAEoB;AAEgB;AAInD;AAEP,SAAS,mCAAmC,KAAgB;AAC1D,SAAO,OAAO,UAAkB,IAAI,kBAAkB,wDAAyB,CAAC,KAAK,CAAC;AACxF;AAEA,SAAS,6BAA6B,WAAmB;AACvD,QAAM,QAAQ,iCAAoB,CAAC,QAAQ,SAAS;AACpD,SAAO,uCAAU,CAAC,MAAM,WAAW,KAAK,CAAC;AAC3C;AAoBO,SAAS,+BAA+B,WAAsB;AACnE,SAAO,OAAO;AAAA,IACZ;AAAA,EACF,MAA4E;AAC1E,UAAM,aAAa,CAAC;AAEpB,aAAS,QAAQ,GAAG,QAAQ,yCAAyC,EAAE,SAAS;AAC9E,UAAI,aAAc,cAAa,KAAK;AACpC,YAAM,mBAAmB,MAAM,6BAA6B,CAAC,SAAS,EAAE,KAAK;AAC7E,YAAM,oBAAoB,MAAM,mCAAmC,SAAS,EAAE,KAAK;AAEnF,UAAI,CAAC,iBAAiB,UAAW,QAAO,EAAE,QAAQ,WAAW,GAAG,iBAAiB;AACjF,UAAI,CAAC,kBAAkB,UAAW,QAAO,EAAE,QAAQ,WAAW,GAAG,kBAAkB;AAEnF,iBAAW,KAAK;AAAA,QACd,MAAM,6CAAqB,CAAC,KAAK;AAAA,QACjC,cAAc,iBAAiB,UAAU,SAAS,KAAK;AAAA;AAAA;AAAA;AAAA,QAIvD,eAAe,6BAA6B,kBAAkB,UAAU,SAAS,KAAK,CAAC;AAAA,MACzF,CAAC;AAAA,IACH;AACA,UAAM,4BAAK,CAAC,GAAI;AAChB,WAAO,EAAE,QAAQ,WAAW,WAAW;AAAA,EACzC;AACF;;;;;;ACWI;AA/EwB;AACA;AAGmB;AAEZ;AAEK;AAER;AAIzB;AAC2B;AACI;AAK/B;AACkB;AACO;AAEhC,SAAS,0BAA0B;AACjC,QAAM,QAAQ,6BAAQ,CAAC;AACvB,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,iBAAiB,gDAAiB,CAAC;AAEzC,QAAM,WAAW,mCAAW,CAAC;AAE7B,QAAM,QAAQ;AAEd,QAAM,EAAE,aAAa,sBAAsB,0BAA0B,0BAA0B,IAC7F,oBAAoB,CAAY;AAAA,IAC9B;AAAA,IACA,YAAY,sBAAsB;AAAtB,IACZ,eAAe,mBAAmB;AAAnB,IACf,WAAW,eAAe;AAAf,IACX,YAAY;AACV,eAAS,KAAK,EAAE,SAAS,KAAK,CAAC;AAAA,IACjC;AAAA,IACA,MAAM,mBAAmB,KAAK;AAC5B,YAAM,OAAO,MAAM,8BAA8B,CAAC,GAAG,EAAE;AAAA,QACrD,aAAa,cAAc;AACzB,yBAAe;AAAA,YACb,6BAA6B,eAAe,CAAC,SAAI,yCAAyC;AAAA,UAC5F;AAAA,QACF;AAAA,MACF,CAAC;AACD,UAAI,KAAK,WAAW,WAAW;AAC7B,cAAM,MAAM,KAAK,YAAY;AAC7B,uBAAe,YAAY,OAAO,KAAK,YAAY;AACnD;AAAA,MACF;AACA,qBAAe,iBAAiB;AAChC;AAAA,QACE,wCAAe,CAAC,QAAQ;AAAA,UACtB,KAAK,WAAW,IAAI,WAAS;AAAA,YAC3B,GAAG;AAAA,YACH,IAAI,KAAK,KAAK,QAAQ,KAAK,gCAAkB;AAAA,YAC7C,UAAU,sBAAsB,YAAY;AAAA,UAC9C,EAAE;AAAA,QACJ;AAAA,MACF;AAAA,IACF;AAAA,EACF,CAAC;AAEH,QAAM,qBAA+C;AAAA,IACnD,OAAO;AAAA,IACP,0BAA0B;AAAA,IAC1B;AAAA,IACA;AAAA,IACA;AAAA,EACF;AAEA,QAAM,wBAAwB,sDAAqB,CAAC,wBAAwB;AAC5E,SACE;AAAA,IAAC,eAAe;AAAf;AAAA,MACC,SAAS;AAAA,MACT,2BAA2B;AAAA;AAAA,EAC7B;AAEJ;AAEO,MAAM,0BAA0B,uBAAuB,CAAC;AAAA,EAC7D,MAAM;AAAA,EACN,WAAW,oCAAC,2BAAwB;AACtC,CAAC;;;;ACzF2B;AAIY;AAEM;AACZ;AAE3B,SAAS,yCAAyC;AACvD,QAAM,UAAU,wDAAuB,CAAC;AACxC,QAAM,iBAAiB,gDAAiB,CAAC;AAEzC,SAAO,qBAAW;AAAX,IACL,OAAO,cAAyB;AAC9B,UAAI,CAAC,QAAS;AACd,YAAM,EAAE,UAAU,IAAI,MAAM,6BAA6B,CAAC,SAAS,EAAE,QAAQ,KAAK;AAClF,UAAI,UAAU,SAAS,KAAK,MAAM,QAAQ,cAAc;AACtD,uBAAe,wBAAwB;AACvC,cAAM,IAAI,MAAM,yBAAyB;AAAA,MAC3C;AAAA,IACF;AAAA,IACA,CAAC,SAAS,cAAc;AAAA,EAC1B;AACF;;;;ACtBO,SAAS,gBAAgB,IAAuB;AACrD,MAAI,CAAC,GAAG,WAAW,EAAE,kBAAkB,GAAG,SAAU,QAAO;AAC3D,QAAM,UAAU,GAAG;AACnB,SACE,QAAQ,aAAa,YAAY,eAChC,QAAQ,aAAa,WAAW,KAAK,QAAQ,aAAa,WAAW;AAE1E;;;;AC2DI;AApEoB;AAEgB;AACd;AAEI;AAEE;AACU;AACG;AACL;AACA;AAExC,MAAM,0BAA0B,CAAC,UAAU,UAAU,MAAM,MAAM;AAEjE,SAAS,6BAA6B,OAAe;AACnD,SAAO,YAAY,KAAK,WAAM,wBAAwB,KAAK,CAAC;AAC9D;AAEA,SAAS,mBAAmB,QAAgB;AAC1C,QAAM,kBAAkB,oCAAa,CAAC,OAAO,MAAM,CAAC;AACpD,SAAO,oEAAiE,eAAe;AACzF;AAEO,SAAS,4BAA4B;AAC1C,QAAM,EAAE,aAAa,MAAM,IAAI,yBAAyB,CAAC;AACzD,QAAM,iBAAiB,wDAAuB,CAAC;AAC/C,QAAM,uBAAuB,uBAAuB,CAAC;AAErD,QAAM,qBAAkD,iBAAO,CAAC,MAAM;AACpE,QAAI,CAAC,eAAe,UAAU,SAAU,QAAO,CAAC;AAEhD,QAAI,YAAY,QAAQ,gBAAgB,iCAAW,CAAC,eAAe;AACjE,aAAO;AAAA,QACL,CAAC,UAAU,gBAAgB,WAAW,EAAE;AAAA,QACxC,CAAC,SAAS,OAAO,YAAY,KAAK,kBAAkB,KAAK,CAAC;AAAA,QAC1D;AAAA,UACE;AAAA,UACA,OAAO,YAAY,KAAK,kBAAkB,GAAG;AAAA,UAC7C,mBAAmB,YAAY,KAAK,kBAAkB,GAAG;AAAA,QAC3D;AAAA,QACA;AAAA,UACE;AAAA,UACA,IAAI,0BAAS,CAAC,OAAO,YAAY,QAAQ,MAAM,CAAC,EAAE,SAAS;AAAA,UAC3D,mBAAmB,YAAY,QAAQ,MAAM;AAAA,QAC/C;AAAA,QACA,CAAC,MAAM,mCAAU,CAAC,YAAY,QAAQ,SAAS,CAAC;AAAA,QAChD,CAAC,QAAQ,YAAY,QAAQ,KAAK,OAAO;AAAA,MAC3C;AAAA,IACF;AAEA,QACE,YAAY,QAAQ,gBAAgB,iCAAW,CAAC,gBAChD,eAAe,CAAC,WAAW;AAE3B,aAAO,YAAY,QAAQ,aACxB,IAAI,QAAM,mCAAU,CAAC,EAAE,CAAC,EACxB,IAAI,CAAC,OAAO,UAAU,CAAC,6BAA6B,KAAK,GAAG,KAAK,CAAC;AAEvE,QAAI,YAAY,QAAQ,gBAAgB,iCAAW,CAAC;AAClD,aAAO,YAAY,QAAQ,aACxB,IAAI,QAAM,mCAAU,CAAC,EAAE,CAAC,EACxB,IAAI,CAAC,OAAO,UAAU,CAAC,YAAY,QAAQ,CAAC,IAAI,KAAK,CAAC;AAE3D,WAAO,CAAC;AAAA,EACV,GAAG,CAAC,OAAO,gBAAgB,SAAS,WAAW,CAAC;AAEhD,SACE;AAAA,IAAC,4BAA4B;AAA5B;AAAA,MACC,aAAY;AAAA,MACZ,SAAS;AAAA,MACT,QAAQ,uBAAuB,aAAa;AAAA;AAAA,EAC9C;AAEJ;;;;;ACvCa;AAnCuB;AACY;AAET;AACA;AACvB;AAEe;AAEL;AACA;AAEI;AACJ;AAEY;AAQ/B;AACiC;AAEL;AACL;AACE;AACG;AACD;AACqB;AACb;AAEnC,MAAM,8BAA8B,kBAAkB,CAAC;AAAA,EAC5D,WAAW,oCAAC,+BAA4B;AAAA,EACxC,cACE,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,0BAA0B,SAAS,oCAAC,yBAAyB,IAAC,GAAI;AAE7F,CAAC;AAED,SAAS,8BAA8B;AACrC,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,iBAAiB,gDAAiB,CAAC;AACzC,QAAM,kBAAkB,kBAAkB,CAAC;AAC3C,eAAa,CAAC,IAAI;AAClB,QAAM,UAAU,wDAAuB,CAAC;AACxC,QAAM,wBAAwB,sCAAsC,CAAC;AACrE,QAAM,CAAC,YAAY,aAAa,IAAI,kBAAQ,CAAgB,IAAI;AAChE,QAAM,WAAW,yCAAW,CAAC;AAE7B,QAAM,QAAQ;AAEd,qBAAS,CAAC,MAAM;AACd,UAAM,KAAK,oBAAG,CAAC,SAAS,OAAO,IAAI;AACnC,QAAI,GAAI,eAAc,EAAE;AAAA,EAC1B,GAAG,CAAC,SAAS,KAAK,CAAC;AAEnB,qBAAS,CAAC,MAAM,MAAM,cAAc,IAAI,GAAG,CAAC,CAAC;AAE7C,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI,eAAe,CAAY;AAAA,IAC7B;AAAA,IACA,WAAW,eAAe;AAAf,IACX,eAAe,mBAAmB;AAAnB,IACf,YAAY,sBAAsB;AAAtB,IACZ,MAAM,6BAA6B,YAAY;AAC7C,UAAI,WAAW,UAAU,UAAU;AACjC,eAAO;AAAA,MACT;AAEA,UAAI,kDAAkD,CAAC,UAAU,GAAG;AAClE,iBAAS,2BAAS,CAAC,wBAAwB;AAC3C,cAAM,WAAW,MAAM,8BAA8B,KAAK;AAE1D,YAAI,aAAa,uBAAuB;AACtC,yBAAe,mBAAmB;AAAA,QACpC;AACA,eAAO;AAAA,MACT;AACA,aAAO;AAAA,IACT;AAAA,IACA,MAAM,0BAA0B,WAAW;AAEzC,UAAI,CAAC,QAAS;AAEd,qBAAe,iBAAiB,sCAAiC;AACjE,YAAM,sBAAsB,SAAS;AACrC,qBAAe,wBAAwB,QAAQ;AAC/C,YAAM,4BAAK,CAAC,GAAI;AAChB,UAAI,CAAC,WAAY,OAAM,IAAI,MAAM,gBAAgB;AAEjD,qBAAe,0BAA0B,EAAE,sBAAsB,MAAM,CAAC;AAExE,YAAM,OAAO,MAAM,2BAA2B,CAAC,SAAS;AAAA,QACtD,sCAAM,CAAC,KAAK,YAAY,KAAK;AAAA,QAC7B,QAAQ;AAAA,MACV;AAIA,UAAI,KAAK,eAAe,8BAAW,CAAC,eAAe;AACjD,uBAAe,uBAAuB;AACtC;AAAA,MACF;AAEA,UAAI,KAAK,eAAe,8BAAW,CAAC,qBAAqB;AACvD,uBAAe,wBAAwB;AACvC,wBAAgB,kCAAkC;AAClD;AAAA,MACF;AAEA,UAAI,KAAK,eAAe,8BAAW,CAAC,UAAU;AAC5C,cAAM,IAAI,MAAM,kBAAkB;AAAA,MACpC;AAEA,qBAAe,0BAA0B,EAAE,sBAAsB,KAAK,CAAC;AAEvE,YAAM,4BAAK,CAAC,GAAI;AAEhB,YAAM,WAAW,kCAAkC,CAAC,YAAY,KAAK,YAAY;AACjF,sBAAgB,sCAAsC;AAEtD,UAAI;AACF,0CAAS,CAAC,QAAQ,wBAAwB;AAAA,UACxC;AAAA,UACA;AAAA,QACF,CAAC;AAAA,MACH,SAAS,GAAG;AACV,cAAM,QAAQ,8BAAO,CAAC,CAAC,IAAI,EAAE,UAAU;AACvC,aAAK,2BAAS,CAAC,MAAM,oCAAoC;AAAA,UACvD,OAAO;AAAA,YACL,SAAS;AAAA,YACT,OAAO;AAAA,UACT;AAAA,QACF,CAAC;AAED,uBAAe,qBAAqB,KAAK;AACzC;AAAA,MACF;AAAA,IACF;AAAA,EACF,CAAC;AAED,WAAS,cAAc;AACrB,sCAAS,CAAC,QAAQ,kCAAkC,EAAE,YAAY,cAAc,GAAG,CAAC;AACpF,mBAAe,mBAAmB;AAAA,EACpC;AAEA,QAAM,qBAA6C;AAAA,IACjD;AAAA,IACA,aAAa,aAAa,sDAAsB,CAAC,UAAU,IAAI;AAAA,IAC/D;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACA,QAAM,wBAAwB,sDAAqB,CAAC,wBAAwB;AAE5E,SACE;AAAA,IAAC,aAAa;AAAb;AAAA,MACC,SAAS;AAAA,MACT,aAAa,wBAAwB,cAAc;AAAA;AAAA,EACrD;AAEJ;;;;AClI6B;AAtCD;AAEO;AAET;AACE;AAE8B;AACpB;AAEa;AACrB;AAEvB,SAAS,qBAAqB;AACnC,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,wBAAwB,CAAC,QAC7B,qCAAY,CAAC;AAAA,IACX,OAAO;AACL,eAAS,KAAK,EAAE,SAAS,MAAM,OAAO,EAAE,CAAC,8EAAkC,GAAG,KAAK,EAAE,CAAC;AAAA,IACxF;AAAA,IACA,QAAQ;AACN,WAAK,gDAAqB,CAAC,GAAG;AAC9B,mCAAW,CAAC;AAAA,IACd;AAAA,EACF,CAAC;AAEH,WAAS,aAAa,OAAe;AACnC,UAAM,uBAAuB;AAAA,MAC3B,2BAAS,CAAC,aAAa,IAAI,KAAK,MAAM,2BAAS,CAAC;AAAA,IAClD;AACA,UAAM,6BAA6B;AAAA,MACjC,2BAAS,CAAC,aAAa,MAAM,2BAAS,CAAC;AAAA,IACzC;AAEA,wDAA2B,CAAC,IAAI,qBAAqB,IAAI,2BAA2B;AAAA,EACtF;AAEA,SACE,oCAAC,yBAAK,IAAC,WAAS,MAAC,QAAQ,oCAAC,+BAAW,IAAC,GAAI,SAAS,MAAM,SAAS,KAAK,GACrE;AAAA,IAAC,aAAa;AAAb;AAAA,MACC,gBAAgB,MAAM,aAAa,SAAS;AAAA,MAC5C,eAAe,MAAM,aAAa,QAAQ;AAAA,MAC1C,kBAAgB;AAAA;AAAA,EAClB,GACF;AAEJ;;;;AC3BM;AAnBoC;AACZ;AAEG;AAK1B,SAAS,qBAAqB,EAAE,SAAS,GAAG,KAAK,GAA8B;AACpF,SACE;AAAA,IAAC,eAAG;AAAH;AAAA,MACC,eAAa,2DAAyB,CAAC;AAAA,MACvC,SAAQ;AAAA,MACR,UAAS;AAAA,MACT,gBAAe;AAAA,MACf,UAAS;AAAA,MACT,IAAG;AAAA,MACF,GAAG;AAAA,MAEJ,8CAAC,oCAAgB,IAAC,SAAkB;AAAA;AAAA,EACtC;AAEJ;;;;;;;;ACLc;AAjBe;AAEsC;AAQ5D,SAAS,oCACd,OACA;AACA,QAAM,EAAE,SAAS,sBAAsB,gBAAgB,SAAS,IAAI;AACpE,SACE;AAAA,IAAC,yBAAK;AAAL;AAAA,MACC,WAAS;AAAA,MACT,QAAQ,oCAAC,+BAAW,IAAC;AAAA,MACrB,SAAS,MAAM,QAAQ;AAAA,MACvB,QACE,oCAAC,gBAAI,IAAC,eAAc,OAClB,8CAAC,0BAAM,IAAC,SAAS,sBAAsB,aAAW,gBAAgB,WAAS,MAAC,8BAE5E,GACF;AAAA,MAGF,+CAAC,gBAAI,IAAC,YAAW,SAAQ,eAAc,UAAS,IAAG,YAAW,IAAG,YAAW,WAAU,QACpF;AAAA,4CAAC,iCAAa,IAAC;AAAA,QACf,qCAAC,kBAAM,CAAC,MAAP,EAAY,IAAG,YAAW,WAAU,YAAW;AAAA;AAAA,UAChB,oCAAC,QAAG;AAAA,UAAE;AAAA,WACtC;AAAA,QACA,oCAAC,kBAAM,CAAC,MAAP,EAAY,IAAG,YAAW,WAAU,WAAU,gHAG/C;AAAA,QACA,oCAAC,kBAAM,CAAC,MAAP,EAAY,IAAG,YAAW,WAAU,WAAU,mJAG/C;AAAA,QACA,oCAAC,kBAAM,CAAC,MAAP,EAAY,IAAG,YAAW,WAAU,WAAU,yEAE/C;AAAA,QACC;AAAA,QACD,oCAAC,2BAAO,IAAC,SAAQ,WAAU,IAAG,YAAW,IAAG,YAAW,qMAIvD;AAAA,SACF;AAAA;AAAA,EACF;AAEJ;;;;;;ACpDqC;AAEhB;AAEuB;AAMrC;AACiC;AAEJ;AACG;AACS;AACa;AAItD;AAEA,SAAS,oCAAoC;AAClD,QAAM,cAAc,4DAA+B,CAAC;AAEpD,QAAM,sBAAsB,mDAAsB,CAAC;AACnD,QAAM,UAAU,0DAAwB,CAAC;AACzC,QAAM,qBAAqB,oFAA4C,CAAC;AAExE,QAAM,mBAAmB,+DAAwC,CAAC;AAAA,IAChE,iBAAiB,SAAS;AAAA,IAC1B,qBAAqB,mBAAmB;AAAA,IACxC;AAAA,EACF,CAAC;AAED,QAAM,eAAe,gEAA8B,CAAC;AACpD,QAAM,EAAE,MAAM,SAAS,IAAI,iDAAyB,CAAC;AACrD,QAAM,+BAA+B,qDAA6B,CAAC;AAAA,IACjE,iBAAiB,SAAS;AAAA,IAC1B,qBAAqB,mBAAmB;AAAA,EAC1C,CAAC;AAED,QAAM,MAAM,iBAAO,CAAC,MAAM;AACxB,QAAI,CAAC,SAAU,QAAO,kCAAW,CAAC,GAAG,KAAK;AAC1C,UAAM,UAAU,IAAI,mBAAmB,CAAC;AACxC,UAAM,EAAE,SAAS,IAAI,QAAQ,WAAW;AAAA,MACtC,aAAa,iBAAiB;AAAA,MAC9B,qBAAqB;AAAA,IACvB,CAAC;AACD,WAAO,kCAAW,CAAC,KAAK,KAAK,WAAW,SAAS,QAAQ,SAAS,CAAC,GAAG,KAAK;AAAA,EAC7E,GAAG,CAAC,UAAU,iBAAiB,MAAM,CAAC;AAEtC,QAAM,iCAAiC,qBAAW;AAAX,IACrC,OAAO,EAAE,WAAW,KAAAC,KAAI,MAAyC;AAC/D,YAAM,KAAK,IAAI,mCAAe,CAAC;AAC/B,YAAM,cAAc,iCAAU,CAAC,iBAAiB,IAAI,UAAQ,KAAK,KAAK,CAAC;AAEvE,uBAAiB,QAAQ,UAAQ;AAC/B,cAAM,eAAe,mDAA2B,CAAC,KAAK,cAAc;AACpE,cAAM,SAAS,eAAe,YAAY;AAC1C,YAAI,CAAC,OAAQ;AAEb,WAAG,SAAS;AAAA,UACV,MAAM,KAAK;AAAA,UACX,OAAO,KAAK;AAAA,UACZ,gBAAgB,OAAO,QAAQ;AAAA,UAC/B,aAAa;AAAA,YACX,QAAQ,OAAO,QAAQ;AAAA,YACvB,QAAQ,OAAO,KAAK,KAAK;AAAA,UAC3B;AAAA,QACF,CAAC;AAAA,MACH,CAAC;AAED,YAAM,8BAA8B,MAAM,QAAQ;AAAA,QAChD,iBAAiB,IAAI,UAAQ,6BAA6B,KAAK,MAAM,KAAK,IAAI,CAAC;AAAA,MACjF;AAEA,UAAI,CAAC,4BAA4B,MAAM,sBAAoB,qBAAqB,CAAC,GAAG;AAClF,cAAM,IAAI,MAAM,4BAA4B;AAAA,MAC9C;AAEA,YAAM,gBAAgB,OAAO,YAAY,MAAMA,KAAI,OAAO,SAAS,CAAC,EAAE,SAAS,CAAC;AAEhF,SAAG,iBAAiB,WAAW,eAAe,WAAW;AAEzD,uBAAiB,QAAQ,UAAQ;AAC/B,cAAM,eAAe,mDAA2B,CAAC,KAAK,cAAc;AACpE,eAAO,eAAe,YAAY,EAAE,KAAK,EAAE;AAAA,MAC7C,CAAC;AAED,SAAG,SAAS;AACZ,aAAO,GAAG;AAAA,IACZ;AAAA,IACA,CAAC,cAAc,8BAA8B,aAAa,gBAAgB;AAAA,EAC5E;AAEA,SAAO,EAAE,gCAAgC,IAAI;AAC/C;;;;ACvBiD;AA1ErB;AAEN;AAMf;AACc;AACoC;AAE/B;AACA;AAEW;AACU;AACtB;AACc;AAIhC;AACkC;AAEW;AACF;AAE3C,SAAS,gCAAgC;AAC9C,QAAM,QAAQ,6BAAQ,CAAC;AACvB,QAAM,WAAW,yCAAW,CAAC;AAE7B,QAAM,sBAAsB,mDAAsB,CAAC;AACnD,QAAM,UAAU,0DAAwB,CAAC;AACzC,QAAM,qBAAqB,oFAA4C,CAAC;AACxE,QAAM,UAAU,uDAA+B,CAAC;AAAA,IAC9C;AAAA,IACA,iBAAiB,SAAS;AAAA,IAC1B,qBAAqB,mBAAmB;AAAA,EAC1C,CAAC;AACD,QAAM,YAAY,qFAA6C,CAAC;AAChE,QAAM,mBAAmB,+DAAwC,CAAC;AAAA,IAChE,iBAAiB,SAAS;AAAA,IAC1B,qBAAqB,mBAAmB;AAAA,IACxC;AAAA,EACF,CAAC;AAED,QAAM,EAAE,gCAAgC,IAAI,IAAI,iCAAiC,CAAC;AAClF,QAAM,EAAE,aAAa,eAAe,IAAI,sDAA8B,CAAC;AAEvE,iBAAe,mCAAmC;AAChD,UAAM,KAAK,MAAM,+BAA+B,EAAE,WAAW,IAAI,CAAC;AAClE,UAAM,YAAY;AAAA,MAChB;AAAA,MACA,MAAM,YAAY;AAChB,cAAM,4BAAK,CAAC,IAAI;AAChB,cAAM,QAAQ,wBAAwB;AACtC,cAAM,4BAAK,CAAC,GAAG;AACf,iBAAS,2BAAS,CAAC,QAAQ;AAC3B,aAAK,2BAAS,CAAC,MAAM,6CAA6C;AAAA,MACpE;AAAA,MACA,QAAQ,GAAG;AACT,cAAM,CAAC;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SACE;AAAA,IAAC,mCAAmC;AAAnC;AAAA,MACC;AAAA,MACA,sBAAsB;AAAA,MACtB,SAAS,MAAM,SAAS,2BAAS,CAAC,IAAI;AAAA,MAEtC,+CAAC,iBAAK,IAAC,OAAM,QACX;AAAA,4CAAC,6BAAW,IAAC,OAAM,gBAAe,OAAO,oCAAC,oBAAoB,IAAC,SAAS,WAAW,GAAI;AAAA,QACvF,oCAAC,mCAAiB,IAAC;AAAA,QACnB,oCAAC,6BAAW,IAAC,OAAM,UAAS,OAAO,wCAAiB,CAAC,OAAO,GAAG;AAAA,QAC/D,oCAAC,6BAAW,IAAC,OAAM,OAAM,OAAO,wCAAiB,CAAC,GAAG,GAAG;AAAA,QACxD,oCAAC,mCAAiB,IAAC;AAAA,QAClB,iBAAiB,IAAI,CAAC,MAAM,MAC3B;AAAA,UAAC,6BAAW;AAAX;AAAA,YAEC,OAAO,qBAAqB,CAAC;AAAA,YAC7B,OACE,qCAAC,wBAAI,IAAC,MAAM,+BAA+B,KAAK,IAAI,IAAI,KAAK,IAAI,IAC9D;AAAA,iBAAG,qCAAc,CAAC,KAAK,MAAM,CAAC,CAAC,IAAI,KAAK,IAAI;AAAA,cAAG;AAAA,eAClD;AAAA;AAAA,UALG,KAAK;AAAA,QAOZ,CACD;AAAA,SACH;AAAA;AAAA,EACF;AAEJ;;;;AC7F4B;AAES;AAEF;AACK;AAEjC,SAAS,uBAAuB;AACrC,QAAM,EAAE,oBAAoB,YAAY,IAAI,kDAAkB,CAAC;AAC/D,QAAM,EAAE,QAAQ,MAAM,IAAI,oEAAuB,CAAC;AAElD,SAAO,qBAAW,CAAC,MAAM;AACvB,QAAI,CAAC,sBAAsB,CAAC,eAAe,CAAC,UAAU,CAAC,OAAO;AAC5D;AAAA,IACF;AACA,UAAM,eAAe;AACrB,0DAAoB,CAAC;AAAA,MACnB;AAAA,MACA;AAAA,MACA;AAAA,MACA,kBAAkB;AAAA,MAClB;AAAA,IACF,CAAC;AAAA,EACH,GAAG,CAAC,oBAAoB,aAAa,QAAQ,KAAK,CAAC;AACrD;;;;;;ACxBqC;AAE9B,SAAS,gBAAgB;AAC9B,QAAM,EAAE,YAAY,IAAI,uDAAoB,CAAC;AAC7C,QAAM,EAAE,SAAS,MAAM,SAAS,MAAM,QAAQ,IAAI,IAAI,eAAe,CAAC;AACtE,SAAO,EAAE,MAAM,MAAM,IAAI;AAC3B;;;;;;ACOW;AAbY;AAEF;AAEG;AAMjB,SAAS,cAAc,EAAE,UAAU,GAAuB;AAC/D,SACE;AAAA,IAAC,wBAAI;AAAJ;AAAA,MACC,KAAK,oCAAC,sBAAO,IAAC,QAAQ,WAAW;AAAA,MACjC,OAAM;AAAA,MACN,gBAAe;AAAA,MACf,IAAG;AAAA,MACH,IAAG;AAAA,MACH,cAAa;AAAA,MACb,OAAM;AAAA,MAEN,8CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAY,qBAAU;AAAA;AAAA,EAC/C;AAEJ;;;;;;;;ACZI;AAZgC;AACD;AAEnC,SAAS,UAAU;AAAA,EACjB;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAGiB;AACf,SACE;AAAA,IAAC,kBAAM;AAAN;AAAA,MACC,SAAS,aAAa,YAAY,IAAI;AAAA,MACtC,YAAW;AAAA,MACX,cAAa;AAAA,MACb,UAAS;AAAA,MACT,MAAK;AAAA,MACL,MAAK;AAAA,MACL,KAAI;AAAA,MACJ,IAAG;AAAA,MACH,QAAQ;AAAA,MACP,GAAG;AAAA;AAAA,EACN;AAEJ;AAkBO,SAAS,aAAa,aAA2C;AACtE,QAAM,CAAC,WAAW,IAAI,IAAI,6BAAQ,CAAC;AACnC,QAAM,CAAC,WAAW,SAAS,IAAI,6BAAQ,CAAC;AAExC,QAAM,YAAY,oCAAC,aAAU,WAAsB,WAAsB;AACzE,MAAI,CAAC;AACH,WAAO;AAAA,MACL,4DAAE;AAAA;AAAA,MAEF,CAAC;AAAA,MACD,EAAE,WAAW,OAAO,WAAW,MAAM;AAAA,IACvC;AACF,SAAO;AAAA,IACL;AAAA,IACA;AAAA,MACE,GAAG;AAAA,MACH,GAAG;AAAA,MACH,QAAQ,cAAc,YAAY;AAAA,MAClC,UAAU;AAAA,MACV,QAAQ;AAAA,IACV;AAAA,IACA,EAAE,WAAW,UAAU;AAAA,EACzB;AACF;;;;ACnCS;AA/ByC;AACtB;AACH;AAEsB;AACzB;AAEG;AAEC;AAEW;AACC;AACL;AACH;AACN;AACY;AACF;AACI;AACT;AAC+B;AAC1B;AAEJ;AACE;AAKhC,SAAS,wBAAwB,EAAE,QAAQ,GAAiC;AAC1E,QAAM,OAAO,WAAW,SAAS,QAAQ,CAAC;AAC1C,SAAO,oCAAC,kBAAM,CAAC,MAAP,EAAa,gBAAK;AAC5B;AAQA,MAAM,oBAAoB,cAAI;AAAJ,EACxB,CAAC,EAAE,SAAS,WAAW,gBAAgB,MAA8B;AACnE,UAAM,EAAE,MAAM,OAAO,GAAG,IAAI,kDAAqB,CAAC,OAAO;AAEzD,UAAM,aAAa,mFAA2C,CAAC,QAAQ,KAAK;AAE5E,UAAM,cAAc,iBAAO,CAAC,MAAM,gCAAO,CAAC,WAAW,SAAS,QAAQ,CAAC,EAAE,GAAG,CAAC,SAAS,KAAK,CAAC;AAE5F,WACE;AAAA,MAAC,qBAAqB;AAArB;AAAA,QACC,kBAAkB,oCAAC,iBAAiB,IAAC,OAAO,QAAQ,OAAO;AAAA,QAC3D,aACE,oCAAC,cAAQ,IAAC,UAAU,oCAAC,2BAAwB,SAAkB,GAC7D,8CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAY,gBAAK,GAC1C;AAAA,QAEF,QACE;AAAA,UAAC,mCAAa;AAAb;AAAA,YACC,OAAO,QAAQ;AAAA,YACf,WAAW,QAAQ;AAAA,YACnB;AAAA,YACA,UAAU;AAAA;AAAA,QACZ;AAAA,QAEF,cAAc,oCAAC,mBAAmB,IAAC,YAAY,QAAQ,SAAS,YAAwB;AAAA,QACxF,eAAa,WAAW,WAAW,IAAI,QAAQ,KAAK;AAAA,QACpD,OAAO,QAAQ;AAAA,QACf;AAAA,QACA,YAAY;AAAA,QACZ,iBAAiB,MAAM,gBAAgB,QAAQ,KAAK;AAAA;AAAA,IACtD;AAAA,EAEJ;AACF;AAEA,SAAS,mBAAmB;AAC1B,QAAM,CAAC,WAAW,IAAI,IAAI,YAAY,CAAC,IAAI;AAC3C,QAAM,gBAAgB,gBAAgB,CAAC;AAEvC,QAAM,kBAAkB,MAAM;AAC5B,kBAAc;AAAA,EAChB;AAEA,SACE,qCAAC,eAAG,IAAC,IAAG,YAAW,IAAG,YAAW,SAAS,iBAAkB,GAAG,MAC7D;AAAA,yCAAC,kBAAM,IAAC,YAAW,UACjB;AAAA,0CAAC,4BAAQ,IAAC;AAAA,MAAE;AAAA,OAEd;AAAA,IACC;AAAA,KACH;AAEJ;AAEO,SAAS,qBAAqB;AACnC,QAAM,eAAe,uDAAoB,CAAC;AAC1C,QAAM,EAAE,WAAW,IAAI,wCAAa,CAAC;AACrC,QAAM,WAAW,kDAAiB,CAAC;AACnC,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,CAAC,iBAAiB,kBAAkB,IAAI,kBAAQ,CAAgB,IAAI;AAE1E,QAAM,kBAAkB,OAAO,UAAkB;AAC/C,uBAAmB,KAAK;AACxB,UAAM,WAAW;AAAA,MACf,MAAM,WAAW;AACf,cAAM,aAAa,KAAK;AAAA,MAC1B;AAAA,MACA,MAAM,SAAS;AACb,iBAAS,2BAAS,CAAC,eAAe,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC;AAAA,MACxD;AAAA,IACF,CAAC,EAAE;AAAA,EACL;AAEA,MAAI,CAAC,SAAU,QAAO;AAEtB,SACE,qCAAC,eAAG,IAAC,IAAG,YAAW,IAAG,YAAW,OAAM,QACpC;AAAA,eAAW,EAAE,UAAU,oCAAC,oBAAiB,GAAI,QAAQ,4DAAE,EAAI,CAAC;AAAA,IAC7D,oCAAC,eAAe,IAAC,SAAO,MACtB;AAAA,MAAC,oCAAQ;AAAR;AAAA,QACC,OAAO;AAAA,UACL,YAAY,uBAAK,CAAC,+BAA+B;AAAA,QACnD;AAAA,QACA,MAAM;AAAA,QACN,aAAa,CAAC,OAAO,YACnB,oCAAC,eAAG,IAAa,IAAG,YAAW,IAAG,YAChC;AAAA,UAAC;AAAA;AAAA,YACC;AAAA,YACA,WAAW,WAAW,EAAE,UAAU,oBAAoB,OAAO,QAAQ,MAAM,CAAC;AAAA,YAC5E,iBAAiB;AAAA;AAAA,QACnB,KALQ,KAMV;AAAA;AAAA,IAEJ,GACF;AAAA,KACF;AAEJ;;;;ACzI0B;AAEM;AAEN;AAEc;AAEjC,SAAS,oBAAoB,SAAqB;AACvD,QAAM,EAAE,MAAM,IAAI,oEAAuB,CAAC;AAE1C,qBAAS,CAAC,MAAM;AACd,UAAM,iBAAiB,CACrB,SACA,SACA,iBACG;AACH,UAAI,QAAQ,WAAW,qCAAe,CAAC,qBAAsB;AAE7D,UAAI,QAAQ,QAAQ,UAAU,OAAO;AACnC,gBAAQ;AACR,aAAK,2BAAS,CAAC,MAAM,kDAAkD;AAAA,MACzE;AACA,mBAAa;AAAA,IACf;AAEA,WAAO,QAAQ,UAAU,YAAY,cAAc;AAEnD,WAAO,MAAM,OAAO,QAAQ,UAAU,eAAe,OAAO;AAAA,EAG9D,GAAG,CAAC,CAAC;AACP;;;;ACEI;AAlCsB;AACH;AAEa;AAEA;AAER;AAES;AACP;AACA;AACK;AACC;AACF;AAE3B,SAAS,gBAAgB;AAC9B,QAAM,EAAE,IAAI,IAAI,aAAa,CAAC;AAC9B,QAAM,WAAW,kDAAiB,CAAC;AACnC,QAAM,6BAA6B,SAAS,SAAS;AAErD,QAAM,uBAAuB,oBAAoB,CAAC;AAElD,qBAAmB,CAAC,MAAM,6BAAW,CAAC,CAAC;AAEvC,QAAM,gBAAgB,YAAY,qBAAqB;AAEvD,qBAAS,CAAC,MAAM;AACd,WAAO,iBAAiB,gBAAgB,aAAa;AACrD,WAAO,MAAM,OAAO,oBAAoB,gBAAgB,aAAa;AAAA,EAEvE,GAAG,CAAC,CAAC;AAEL,SACE,6DACE;AAAA,yCAAC,gBAAI,IAAC,YAAW,UAAS,eAAc,UAAS,IAAG,YAAW,OAAM,QACnE;AAAA,2CAAC,iBAAK,IAAC,KAAI,YAAW,WAAU,UAAS,YAAW,UACjD;AAAA,eAAO,oCAAC,aAAa,IAAC,WAAW,IAAI,SAAS,GAAG;AAAA,QAClD,oCAAC,uCAAmB,IAAC,QAAQ,IAAI,OAAO,KAAK;AAAA,QAC7C,oCAAC,iBAAK,IAAC,KAAI,YACT,8CAAC,kBAAM,CAAC,IAAP,EAAU,WAAU,cAClB,uCACG,iCACA,+BACN,GACF;AAAA,SACF;AAAA,MACC,8BAA8B,oCAAC,kBAAkB,IAAC;AAAA,OACrD;AAAA,IACA,oCAAC,gCAAM,IAAC;AAAA,KACV;AAEJ;;;;;;;;;;ACxB4C;AAvBrC;AACuB;AAEO;AACM;AAUpC,SAAS,0BAA0B,EAAE,SAAS,SAAS,GAAmC;AAC/F,QAAM,EAAE,qBAAqB,sBAAsB,wBAAwB,IACzE,gDAAwB,CAAC,OAAO;AAElC,iBAAe,aAAa;AAC1B,UAAM,oBAAoB,QAAQ;AAClC,WAAO,qBAAqB,QAAQ;AAAA,EACtC;AAEA,MAAI,oBAAoB,UAAW,QAAO,oCAAC,+DAA0B,IAAC;AAEtE,MAAI,8CAAsB,CAAC,oBAAoB,GAAG;AAChD,WACE;AAAA,MAAC,mDAAoB;AAApB;AAAA,QACC,SAAQ;AAAA,QACR,MAAM,oCAAC,iCAAa,IAAC;AAAA,QACrB,WAAW,MAAM,WAAW;AAAA,QAC5B,OAAM;AAAA;AAAA,IACR;AAAA,EAEJ;AAEA,MAAI,CAAC,4CAAoB,CAAC,oBAAoB,GAAG;AAC/C,WAAO,oCAAC,mDAAoB,IAAC,SAAQ,OAAM,MAAM,oCAAC,iCAAa,IAAC,GAAI,OAAM,UAAS;AAAA,EACrF;AAEA,QAAM,EAAE,MAAM,SAAS,UAAU,IAAI;AAErC,SAAO,SAAS,SAAS,WAAW,uBAAuB;AAC7D;;;;;;AChDiC;AAEjC,SAAS,aAAa,kBAA0B;AAC9C,SAAO,iBAAiB,QAAQ,MAAM,EAAE;AAC1C;AAEO,SAAS,cAAc,QAAgB;AAC5C,QAAM,WAAW,aAAa,MAAM;AACpC,QAAM,SAAS,SAAS,SAAS,GAAG,IAAI,WAAW,QAAQ,IAAI,SAAS,QAAQ;AAChF,SAAO,SAAS,MACZ;AAAA,IACE,eAAe;AAAA,IACf,OAAO,yCAAgB,CAAC,MAAM;AAAA,EAChC,IACA,EAAE,eAAe,OAAO,OAAO,OAAO;AAC5C;;;;ACdyC;AAEX;AAEvB,SAAS,wBAAwB,kBAAyB;AAC/D,QAAM,yBAAyB,+CAAwB,CAAC,gBAAgB;AACxE,QAAM,mBAAmB,aAAa,CAAC,sBAAsB;AAE7D,SAAO;AAAA,IACL;AAAA,IACA;AAAA,EACF;AACF;;;;AC+CQ;AA5DiB;AACC;AAUnB;AACoB;AAEO;AACL;AAEW;AAkBjC,SAAS,sBAAsB;AAAA,EACpC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,YAAY;AAAA,EACZ,0BAA0B;AAAA,EAC1B,YAAY;AAAA,EACZ;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA+B;AAC7B,QAAM,EAAE,wBAAwB,iBAAiB,IAAI,uBAAuB,CAAC,gBAAgB;AAE7F,QAAM,aACJ,oCAAC,kCAAc,IAAC,OAAM,SAAQ,WAC5B;AAAA,IAAC,iCAAY;AAAZ;AAAA,MACC,SAAO;AAAA,MACP,OAAO,iBAAiB,iBAAiB,CAAC,YAAY,yBAAyB;AAAA,MAC/E,MAAK;AAAA,MAEL,8CAAC,gBAAI,IAAC,YAAW,UAAS,KAAI,YAAW,WAAU,YACjD,+CAAC,mCAAe,IACd;AAAA;AAAA,UAAC,4CAAiB;AAAjB;AAAA,YACC;AAAA,YACA,cAAY,0BAA0B,YAAY;AAAA,YAClD,WAAW,iCAAa;AAAb,YAEV;AAAA,+BAAiB;AAAA,cAAM;AAAA,cAAE;AAAA;AAAA;AAAA,QAC5B;AAAA,QACC;AAAA,SACH,GACF;AAAA;AAAA,EACF,GACF;AAGF,QAAM,eACJ,oCAAC,kCAAc,IAAC,OAAM,QAAO,WAC3B,8CAAC,gBAAI,IAAC,YAAW,UAAS,OAAM,oBAAmB,KAAI,YACrD,+CAAC,mCAAe,IACd;AAAA;AAAA,MAAC,2BAAO;AAAP;AAAA,QACC,cAAY,0BAA0B,YAAY;AAAA,QAClD,WAAW,iCAAa;AAAb,QAEX,8CAAC,4CAAiB,IAAC,WAChB,2BAAiB,OAAO,SAAS,IAAI,IAAI,cAAc,MAC1D;AAAA;AAAA,IACF;AAAA,IACC;AAAA,KACH,GACF,GACF;AAGF,QAAM,gBAAgB,CAAC,CAAC;AAExB,QAAM,UACJ;AAAA,IAAC,8BAAU;AAAV;AAAA,MACC,KAAK;AAAA,MACL,WAAW,iCAAU,CAAC,SAAS;AAAA,MAC/B,aAAa,iCAAU,CAAC,WAAW;AAAA,MACnC;AAAA,MACA;AAAA;AAAA,EACF;AAGF,MAAI;AACF,WACE;AAAA,MAAC,6BAAS;AAAT;AAAA,QACC,eAAa;AAAA,QACb,SAAS,MAAM,cAAc,iBAAiB,QAAQ,UAAU;AAAA,QAChE,IAAG;AAAA,QAEF;AAAA;AAAA,IACH;AAGJ,SACE,oCAAC,eAAG,IAAC,IAAG,YAAW,eAAa,mBAAQ,CAAC,UAAU,GAChD,mBACH;AAEJ;;;;AC3FY;AA9B2C;AACzB;AACgC;AAExB;AACL;AAQ1B,SAAS,mBAAmB;AAAA,EACjC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA4B;AAC1B,QAAM,YAAY,wDAAgB,CAAC;AACnC,QAAM,aAAa,8DAAsC,CAAC,KAAK;AAC/D,QAAM,uBAAuB,yCAAkB;AAAlB,IAC3B,gDAAyB,CAAC,QAAQ,kBAAkB,UAAU;AAAA,EAChE;AAEA,SACE;AAAA,IAAC,qBAAqB;AAArB;AAAA,MACC,kBAAkB,QAAQ;AAAA,MAC1B,aAAY;AAAA,MACZ,aAAa;AAAA,MACb,MAAM,oCAAC,iCAAa,IAAC;AAAA,MACrB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,WAAU;AAAA,MACV,YAAW;AAAA;AAAA,EACb;AAEJ;;;;ACHI;AArCmB;AAGgC;AAChB;AAKhC;AAE+B;AAQ/B,SAAS,mBAAmB;AAAA,EACjC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA4B;AAC1B,QAAM,aAAa,8DAAsC,CAAC,KAAK;AAE/D,QAAM,EAAE,kBAAkB,cAAc,IAAI;AAC5C,QAAM,oBAAoB,cAAc,OAAO,cAAc,CAAC,KAAK,CAAC;AAEpE,QAAM,oBAAoB,yCAAkB;AAAlB,IACxB,gDAAyB,CAAC,eAAe,UAAU;AAAA,EACrD;AACA,QAAM,uBAAuB,yCAAkB;AAAlB,IAC3B,gDAAyB,CAAC,kBAAkB,UAAU;AAAA,EACxD;AACA,QAAM,uBACJ,qCAAC,kBAAM,CAAC,MAAP,EAAa;AAAA,mDAAwB,CAAC,aAAa;AAAA,IAAE;AAAA,KAAO;AAE/D,QAAM,yBAAyB,qCAAC,2BAAO,IAAE;AAAA;AAAA,IAAkB;AAAA,KAAO;AAElE,SACE;AAAA,IAAC,qBAAqB;AAArB;AAAA,MACC,kBAAkB,QAAQ;AAAA,MAC1B,aAAY;AAAA,MACZ,wBAAwB,qBAAqB;AAAA,MAC7C,aAAa;AAAA,MACb,MAAM,oCAAC,iCAAa,IAAC;AAAA,MACrB;AAAA,MACA;AAAA,MACA;AAAA,MACA,WAAU;AAAA,MACV,sBAAsB,qBAAqB;AAAA,MAC3C,YAAW;AAAA;AAAA,EACb;AAEJ;;;;AC9BI;AA1BwB;AACQ;AAEN;AAEJ;AAEU;AACa;AACP;AACC;AACD;AACP;AACA;AACR;AACM;AAE1B,SAAS,0BAA0B;AACxC,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,YAAY,wDAAgB,CAAC;AACnC,QAAM,iBAAiB,qBAAW;AAAX,IACrB,CAAC,WAAmB,SAAS,2BAAS,CAAC,KAAK,QAAQ,aAAa,MAAM,CAAC;AAAA,IACxE,CAAC,QAAQ;AAAA,EACX;AAEA,SACE,6DACE;AAAA,wCAAC,UAAU,IAAC,uBAAuB,OAAO,gBAAgB,2BAAS,CAAC,MAAM;AAAA,IAC1E,qCAAC,sBAAO,IACN;AAAA,0CAAC,mBAAI,IACH;AAAA,QAAC,mBAAI;AAAJ;AAAA,UACC,cAAc;AAAA,YACZ,GAAG;AAAA,UACL;AAAA,UACA,QACE,qCAAC,kBAAM,CAAC,IAAP,EAAU,WAAU,cAAa,GAAE,YAAW;AAAA;AAAA,YAChC,oCAAC,QAAG;AAAA,YAAE;AAAA,aACrB;AAAA,UAGF,+CAAC,iBAAK,IAAC,IAAG,YAAW,IAAG,YACtB;AAAA,gDAAC,8DAAgC,IAAC,SAAO,MACtC,sBACC,oCAAC,mDAAyB,IAAC,SAAS,OAAO,SACxC,WAAC,SAAS,cACT;AAAA,cAAC,kBAAkB;AAAlB;AAAA,gBACC;AAAA,gBACA;AAAA,gBACA,eAAe,MAAM,eAAe,KAAK;AAAA;AAAA,YAC3C,GAEJ,GAEJ;AAAA,YAEA,oCAAC,0BAA0B,IACxB,uBACC,oCAAC,yBAAyB,IAAC,SAAS,QAAQ,SACzC,WAAC,SAAS,cACT;AAAA,cAAC,kBAAkB;AAAlB;AAAA,gBACC;AAAA,gBACA;AAAA,gBACA;AAAA,gBACA,eAAe,MAAM,eAAe,KAAK;AAAA;AAAA,YAC3C,GAEJ,GAEJ;AAAA,aACF;AAAA;AAAA,MACF,GACF;AAAA,MACA,oCAAC,gCAAM,IAAC;AAAA,OACV;AAAA,KACF;AAEJ;;;;AC3DM;AAjBwB;AAUvB,SAAS,WAAW,EAAE,YAAY,QAAQ,SAAS,GAAoB;AAC5E,SACE;AAAA,IAAC,iBAAK;AAAL;AAAA,MACC,YAAY,EAAE,MAAM,QAAQ,IAAI,SAAS;AAAA,MACzC,GAAG,EAAE,MAAM,YAAY,IAAI,QAAQ;AAAA,MACnC,KAAK,EAAE,MAAM,YAAY,IAAI,WAAW;AAAA,MAExC;AAAA;AAAA,UAAC,kBAAM,CAAC;AAAA,UAAP;AAAA,YACC,WAAW,EAAE,MAAM,QAAQ,IAAI,SAAS;AAAA,YACxC,OAAM;AAAA,YACN,WAAW,EAAE,MAAM,cAAc,IAAI,aAAa;AAAA,YACnD;AAAA;AAAA,cACY;AAAA,cAAO;AAAA,cAAC,oCAAC,QAAG;AAAA,cAAE;AAAA;AAAA;AAAA,QAE3B;AAAA,QAEA;AAAA,UAAC,kBAAM,CAAC;AAAA,UAAP;AAAA,YACC,WAAU;AAAA,YACV,OAAM;AAAA,YACN,UAAS;AAAA,YACT,WAAW,EAAE,MAAM,QAAQ,IAAI,SAAS;AAAA,YACzC;AAAA;AAAA,cAC8C;AAAA,cAC7C,oCAAC,kBAAM,CAAC,MAAP,EAAY,eAAc,cAAc,sBAAW;AAAA,cAAc;AAAA,cAAG;AAAA,cAAO;AAAA,cACD;AAAA,cAAO;AAAA;AAAA;AAAA,QAEpF;AAAA,QACC;AAAA;AAAA;AAAA,EACH;AAEJ;;;;ACxCO,IAAK,oBAAL,kBAAKC,uBAAL;AACL,EAAAA,mBAAA,mBAAgB;AAChB,EAAAA,mBAAA,sBAAmB;AACnB,EAAAA,mBAAA,sBAAmB;AAHT,SAAAA;AAAA;;;;ACuCJ;AAvC0B;AACS;AAWpC,SAAS,gBAAgB,OAA6B;AAC3D,QAAM,EAAE,YAAY,aAAa,MAAM,aAAa,aAAa,QAAQ,MAAM,IAAI;AAEnF,SACE;AAAA,IAAC,kBAAM,CAAC;AAAA,IAAP;AAAA,MACC,QAAQ;AAAA,QACN,QAAQ;AAAA,QACR,WAAW;AAAA,QACX,QAAQ;AAAA,MACV;AAAA,MACA,QAAQ;AAAA,QACN,WAAW;AAAA,QACX,QAAQ;AAAA,MACV;AAAA,MACA,QAAO;AAAA,MACP,cAAa;AAAA,MACb,WAAU;AAAA,MACV,eAAa;AAAA,MACb,SAAQ;AAAA,MACR,QAAO;AAAA,MACP,WAAU;AAAA,MACV,YAAW;AAAA,MACX,SAAS;AAAA,MACT,MAAK;AAAA,MACL,OAAO,CAAC,QAAQ,SAAS;AAAA,MAEzB,+CAAC,iBAAK,IAAC,YAAW,cAAa,KAAI,YAAW,GAAE,YAC9C;AAAA,6CAAC,kBAAM,IAAC,YAAW,UAAS,KAAK,cAAc,aAAa,YACzD;AAAA,wBAAc,oCAAC,eAAY,IAAK;AAAA,UACjC;AAAA,YAAC,eAAG;AAAH;AAAA,cACC,YAAW;AAAA,cACX,IAAG;AAAA,cACH,QAAO;AAAA,cACP,cAAa;AAAA,cACb,SAAQ;AAAA,cACR,QAAO;AAAA,cACP,gBAAe;AAAA,cACf,OAAM;AAAA,cAEN,8CAAC,SAAI,KAAK,MAAM,OAAM,QAAO;AAAA;AAAA,UAC/B;AAAA,UAEA;AAAA,YAAC,kBAAM,CAAC;AAAA,YAAP;AAAA,cACC,WAAU;AAAA,cACV,eAAa,iBAAiB,CAAC;AAAA,cAC/B,OAAM;AAAA,cAEL;AAAA;AAAA,UACH;AAAA,WACF;AAAA,QACA;AAAA,UAAC,kBAAM,CAAC;AAAA,UAAP;AAAA,YACC,eAAa,iBAAiB,CAAC;AAAA,YAC/B,OAAM;AAAA,YACN,WAAU;AAAA,YACV,WAAU;AAAA,YAET;AAAA;AAAA,QACH;AAAA,QACA,oCAAC,kBAAM,IAAC,KAAI,YAAY,sBAAW;AAAA,SACrC;AAAA;AAAA,EACF;AAEJ;;;;ACpCI;AAtC8B;AAEK;AAEN;AAED;AAEhC,MAAM,yCAAyC;AAC/C,MAAM,0CAA0C;AAChD,MAAM,+BAA+B;AAErC,SAAS,wBAAwB,kBAAoC;AACnE,UAAQ,kBAAkB;AAAA,IACxB,KAAK,4CAAgB,CAAC;AACpB,aAAO;AAAA,IACT,KAAK,4CAAgB,CAAC;AACpB,aAAO;AAAA,IACT,KAAK,4CAAgB,CAAC;AACpB,aAAO;AAAA,IACT;AACE,aAAO;AAAA,EACX;AACF;AAUO,SAAS,iBAAiB,OAA0B;AACzD,QAAM,EAAE,kBAAkB,wBAAwB,gBAAgB,MAAM,gBAAgB,MAAM,IAC5F;AAEF,QAAM,aACJ,6DACG;AAAA,8BACC,oCAAC,uBAAG,IAAC,MAAM,oCAAC,2BAAO,IAAC,SAAQ,SAAQ,GAAI,OAAM,iBAAgB,SAAQ,WAAU;AAAA,IAEjF,CAAC,kBACA,oCAAC,uBAAG,IAAC,MAAM,oCAAC,4BAAQ,IAAC,SAAQ,SAAQ,GAAI,OAAM,YAAW,SAAQ,WAAU;AAAA,KAEhF;AAGF,SACE;AAAA,IAAC,eAAe;AAAf;AAAA,MACC,YAAY;AAAA,MACZ,aAAa,wBAAwB,gBAAgB;AAAA,MACrD;AAAA,MACA,aAAa;AAAA,MACb,QAAQ,iBAAiB,CAAC;AAAA,MAC1B;AAAA;AAAA,EACF;AAEJ;;;AC1DA,mDAAe,qBAAuB,yCAAyC;;ACA/E,0DAAe,qBAAuB,yCAAyC;;ACA/E,iDAAe,qBAAuB,yCAAyC;;ACA/E,oDAAe,qBAAuB,yCAAyC;;ACA/E,sDAAe,qBAAuB,yCAAyC;;ACA/E,mDAAe,qBAAuB,yCAAyC;;ACA/E,kDAAe,qBAAuB,yCAAyC;;ACA/E,mDAAe,qBAAuB,yCAAyC;;ACA/E,+CAAe,qBAAuB,yCAAyC;;ACA/E,mDAAe,qBAAuB,yCAAyC;;;;;ACAvD;AACM;AACR;AACG;AACC;AACH;AACA;AACC;AACJ;AACI;AACU;AAIgC;AAKlE,IAAK,sBAAL,kBAAKC,yBAAL;AACE,EAAAA,qBAAA,aAAU;AACV,EAAAA,qBAAA,mBAAgB;AAChB,EAAAA,qBAAA,WAAQ;AACR,EAAAA,qBAAA,cAAW;AACX,EAAAA,qBAAA,eAAY;AACZ,EAAAA,qBAAA,YAAS;AACT,EAAAA,qBAAA,YAAS;AACT,EAAAA,qBAAA,aAAU;AACV,EAAAA,qBAAA,SAAM;AACN,EAAAA,qBAAA,aAAU;AAVP,SAAAA;AAAA;AAaE,MAAM,0BAAsE;AAAA,EACjF,CAAC,uBAA2B,GAAG,YAAW;AAAX,EAC/B,CAAC,mCAAiC,GAAG,mBAAiB;AAAjB,EACrC,CAAC,mBAAyB,GAAG,UAAS;AAAT,EAC7B,CAAC,yBAA4B,GAAG,aAAY;AAAZ,EAChC,CAAC,2BAA6B,GAAG,eAAa;AAAb,EACjC,CAAC,qBAA0B,GAAG,YAAU;AAAV,EAC9B,CAAC,qBAA0B,GAAG,WAAU;AAAV,EAC9B,CAAC,uBAA2B,GAAG,YAAW;AAAX,EAC/B,CAAC,eAAuB,GAAG,QAAO;AAAP,EAC3B,CAAC,uBAA2B,GAAG,YAAW;AAC5C;AAEA,SAAS,gBAAgB,SAAiB,QAAwB;AAChE,QAAM,OAAO,OAAO,YAAY;AAEhC,QAAM,YAAY,2CAAiB,CAAC;AAAA,IAClC,OAAO,mCAAe;AAAf,IACP,oBAAoB;AAAA,MAClB;AAAA,QACE;AAAA,QACA,QAAQ,CAAC,IAAI;AAAA,MACf;AAAA,IACF;AAAA,EACF,CAAC;AACD,SAAO;AACT;AAEA,SAAS,eAAe,SAAiB,QAAwB;AAC/D,QAAM,OAAO,OAAO,YAAY;AAChC,SAAO,kCAAkC,mCAAe,iBAAiB,IAAI,kBAAkB,OAAO;AACxG;AAEA,SAAS,eAAe,SAAiB,QAAwB;AAC/D,QAAM,cAAc;AACpB,QAAM,OAAO,OAAO,YAAY;AAEhC,SAAO,qCAAqC,mCAAe,uBAAuB,IAAI,wBAAwB;AAAA,IAC5G;AAAA,EACF,CAAC,yDAAyD,OAAO;AACnE;AAEA,SAAS,uBAAuB,SAAiB,UAAkB;AAEjE,SAAO,yEAAyE,QAAQ,YAAY,OAAO;AAC7G;AASO,SAAS,eAAe;AAAA,EAC7B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAwB;AACtB,MAAI,CAAC,wBAAwB;AAC3B,WAAO,uBAAuB,SAAS,IAAI;AAAA,EAC7C;AACA,UAAQ,KAAK;AAAA,IACX,KAAK;AACH,aAAO,gBAAgB,SAAS,MAAM;AAAA,IACxC,KAAK;AACH,aAAO,eAAe,SAAS,MAAM;AAAA,IACvC,KAAK;AACH,aAAO,eAAe,SAAS,MAAM;AAAA,IACvC;AACE,aAAO,uBAAuB,SAAS,IAAI;AAAA,EAC/C;AACF;;;AC1GA,mDAAe,qBAAuB,yCAAyC;;ACA/E,6DAAe,qBAAuB,yCAAyC;;;ACO3E;AAP6B;AACb;AAEyB;AAEtC,SAAS,sBAAsB;AACpC,SACE,6DACE;AAAA,wCAAC,eAAG,IACF,8CAAC,iCAAa,IAAC,MAAK,OAAM,GAC5B;AAAA,IACA,oCAAC,eAAG,IACF,8CAAC,SAAI,KAAK,sBAAoB,EAAE,OAAM,QAAO,GAC/C;AAAA,KACF;AAEJ;AAEO,SAAS,uBAAuB;AACrC,SACE,6DACE;AAAA,wCAAC,iCAAa,IAAC,MAAK,OAAM;AAAA,IAC1B,oCAAC,eAAG,IACF,8CAAC,SAAI,KAAK,sBAAoB,EAAE,OAAM,QAAO,GAC/C;AAAA,KACF;AAEJ;;;;ACII;AA7BmB;AACW;AAIF;AAC0B;AAO1D,MAAM,qBAAgE;AAAA,EACpE,KAAK;AAAA,IACH,OAAO;AAAA,IACP,eAAe,mBAAmB;AAAnB,EACjB;AAAA,EACA,KAAK;AAAA,IACH,OAAO;AAAA,IACP,eAAe,oBAAoB;AAApB,EACjB;AACF;AAKO,SAAS,iBAAiB,EAAE,WAAW,OAAO,GAAwB;AAC3E,SACE;AAAA,IAAC,eAAe;AAAf;AAAA,MACC,aAAa,mBAAmB,MAAM,EAAE;AAAA,MACxC,MAAM,YAAU;AAAV,MACN,aAAa;AAAA,MACb,aAAa,mBAAmB,MAAM,EAAE;AAAA,MACxC,QAAQ,iBAAiB,CAAC;AAAA;AAAA,EAC5B;AAEJ;;;;ACF4B;AArCa;AAEpB;AAIK;AAEG;AACE;AAIxB;AAE0B;AACuB;AACvB;AAO1B,SAAS,kBAAkB,OAA2B;AAC3D,QAAM,EAAE,SAAS,OAAO,OAAO,IAAI;AACnC,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,kBAAkB,sDAAsB,CAAC;AAC/C,QAAM,eAAe,mDAAmB,CAAC;AAEzC,QAAM,WAAW,yCAAW,CAAC;AAE7B,QAAM,8BAA8B,CAAC,UAAkB,gBAAwB;AAC7E,SAAK,2BAAS,CAAC,MAAM,qBAAqB,EAAE,SAAS,CAAC;AACtD,2CAAY,CAAC,WAAW;AAAA,EAC1B;AAEA,MAAI,CAAC,aAAc,QAAO,oCAAC,cAAc,IAAC;AAE1C,SACE;AAAA,IAAC,gBAAI;AAAJ;AAAA,MACC,WAAU;AAAA,MACV,IAAI,EAAE,MAAM,GAAG,IAAI,WAAW;AAAA,MAC9B,QAAO;AAAA,MACP,qBAAqB,EAAE,MAAM,kBAAkB,IAAI,kBAAkB,IAAI,iBAAiB;AAAA,MAE1F;AAAA;AAAA,UAAC,gBAAgB;AAAhB;AAAA,YACC;AAAA,YACA,WAAW,MACT,SAAS,OAAO;AAAA,cACd,OAAO,EAAE,oBAAoB,SAAS;AAAA,YACxC,CAAC;AAAA;AAAA,QAEL;AAAA,QACC,OAAO,QAAQ,eAAe,EAAE,IAAI,CAAC,CAAC,aAAa,aAAa,MAAM;AACrE,gBAAM,cAAc,cAAc,CAAC;AAAA,YACjC;AAAA,YACA,wBAAwB,cAAc;AAAA,YACtC,KAAK;AAAA,YACL,MAAM,cAAc;AAAA,YACpB;AAAA,UACF,CAAC;AAED,iBACE;AAAA,YAAC,gBAAgB;AAAhB;AAAA,cACC,kBAAkB,cAAc;AAAA,cAChC,wBAAwB,cAAc;AAAA,cACtC,gBAAgB,cAAc;AAAA,cAC9B,MAAM,uBAAuB,CAAC,WAAW;AAAA,cAEzC,gBAAgB,MAAM,4BAA4B,cAAc,MAAM,WAAW;AAAA,cACjF,OAAO,cAAc;AAAA;AAAA,YAFhB;AAAA,UAGP;AAAA,QAEJ,CAAC;AAAA;AAAA;AAAA,EACH;AAEJ;;;;AC3BuB;AAlDW;AASR;AAEF;AACe;AACZ;AAC0C;AAC7B;AAEb;AACO;AAU3B,SAAS,WAAW;AACzB,QAAM,oBAAoB,wDAAuB,CAAC;AAClD,QAAM,gBAAgB,4FAAoD,CAAC;AAC3E,QAAM,EAAE,WAAW,MAAM,IAAI,sCAAS,CAAC;AAEvC,QAAM,wBAAwE;AAAA,IAC5E,KAAK;AAAA,MACH,SAAS,eAAe;AAAA,MACxB,YAAY;AAAA,MACZ,OAAO,2BAAS,CAAC;AAAA,MACjB,QAAQ;AAAA,IACV;AAAA,IACA,KAAK;AAAA,MACH,SAAS,mBAAmB;AAAA,MAC5B,YAAY;AAAA,MACZ,OAAO,2BAAS,CAAC;AAAA,MACjB,QAAQ;AAAA,IACV;AAAA,EACF;AAEA,QAAM,EAAE,SAAS,YAAY,OAAO,OAAO,IAAI,sBAAsB,QAA0B;AAE/F,MAAI,CAAC,QAAS,QAAO,oCAAC,sBAAsB,IAAC;AAE7C,SACE,6DACE;AAAA,wCAAC,UAAU,IAAC,gBAAgB,2BAAS,CAAC,oBAAoB;AAAA,IAC1D,qCAAC,sBAAO,IACN;AAAA,0CAAC,UAAU,IAAC,YAAwB,QAClC,8CAAC,iBAAiB,IAAC,SAAkB,OAAc,QAAgB,GACrE;AAAA,MACA,oCAAC,gCAAM,IAAC;AAAA,OACV;AAAA,KACF;AAEJ;;;;AC/DO,IAAK,oBAAL,kBAAKC,uBAAL;AACL,EAAAA,mBAAA,eAAY;AACZ,EAAAA,mBAAA,uBAAoB;AACpB,EAAAA,mBAAA,2BAAwB;AACxB,EAAAA,mBAAA,qCAAkC;AAClC,EAAAA,mBAAA,sBAAmB;AACnB,EAAAA,mBAAA,4BAAyB;AACzB,EAAAA,mBAAA,gCAA6B;AAC7B,EAAAA,mBAAA,yBAAsB;AACtB,EAAAA,mBAAA,wBAAqB;AACrB,EAAAA,mBAAA,oBAAiB;AACjB,EAAAA,mBAAA,oBAAiB;AACjB,EAAAA,mBAAA,aAAU;AACV,EAAAA,mBAAA,oBAAiB;AACjB,EAAAA,mBAAA,qBAAkB;AAClB,EAAAA,mBAAA,4BAAyB;AAff,SAAAA;AAAA;;;;;;;ACSZ,SAAS,2BAA2B,IAAyC;AAC3E,SAAO;AAAA,IACL,YAAY;AAAA,IACZ,aAAa;AAAA,EACf;AACF;AAEA,SAAS,0BAA0B,IAA8D;AAC/F,SAAO;AAAA,IACL,YAAY;AAAA,IACZ,aAAa;AAAA,EACf;AACF;AAEO,SAAS,4BAA4B,KAAmB;AAC7D,MAAI,CAAC,IAAK,QAAO,CAAC;AAClB,QAAM,eAAe,IAAI,OAAO,QAAM,GAAG,OAAO,SAAS;AACzD,SAAO,aAAa,IAAI,QAAM,2BAA2B,EAAE,CAAC;AAC9D;AAEO,SAAS,2BAA2B,KAAyC;AAClF,MAAI,CAAC,IAAK,QAAO,CAAC;AAClB,SAAO,IAAI,IAAI,QAAM,0BAA0B,EAAE,CAAC;AACpD;;;AChCA,kDAAe,qBAAuB,yCAAyC;;;ACO3E;AAPmB;AACD;AAEE;AAEjB,SAAS,oBAAoB;AAClC,SACE,qCAAC,iBAAK,IAAC,KAAI,YAAW,gBAAe,UAAS,YAAW,UACvD;AAAA,wCAAC,SAAI,KAAK,WAAU,EAAE,OAAM,SAAQ;AAAA,IACpC,oCAAC,2BAAO,IAAC,UAAS,QAAO,WAAU,UAAS,6BAE5C;AAAA,KACF;AAEJ;;;;ACLI;AAP0B;AAKvB,SAAS,6BAA6B,EAAE,SAAS,GAAsC;AAC5F,SACE,6DACE;AAAA,wCAAC,kBAAM,CAAC,MAAP,EAAY,OAAM,oBAAmB,WAAU,WAAU,qBAE1D;AAAA,IACA,oCAAC,iBAAK,IAAC,IAAG,YAAW,IAAG,YACrB,UACH;AAAA,KACF;AAEJ;;;;ACHI;AAXmC;AACD;AAEO;AAMtC,SAAS,uBAAuB,EAAE,YAAY,UAAU,GAAgC;AAC7F,SACE,qCAAC,4BAA4B,IAC1B;AAAA,eAAW,IAAI,QACd,oCAAC,sBAAsB,IAAe,aAAa,MAAtB,GAAG,IAAuB,CACxD;AAAA,IACA,UAAU,IAAI,QACb,oCAAC,qBAAqB,IAAgB,aAAa,MAAvB,GAAG,KAAwB,CACxD;AAAA,KACH;AAEJ;;;;ACAU;AAxBsD;AAId;AAEf;AACI;AACH;AAK7B,SAAS,yBAAyB,EAAE,aAAa,GAAG,KAAK,GAAkC;AAChG,QAAM,gBAAgB,kBAAkB,CAAC,WAAW;AAEpD,UAAQ,YAAY,QAAQ,aAAa;AAAA,IACvC,KAAK,iCAAW,CAAC;AACf,aACE;AAAA,QAAC,sCAAkB;AAAlB;AAAA,UACC,UAAS;AAAA,UACT,OAAO,GAAG,kBAAkB,CAAC,WAAW,CAAC,IAAI,YAAY,QAAQ,aAAa,OAAO;AAAA,UACpF,GAAG;AAAA,UAEJ;AAAA,YAAC,mBAAmB;AAAnB;AAAA,cACC,aACE;AAAA,gBACE,gBAAgB;AAAA,gBAChB,SAAS;AAAA,gBACT,WAAW;AAAA,cACb;AAAA;AAAA,UAEJ;AAAA;AAAA,MACF;AAAA,IAEJ,KAAK,iCAAW,CAAC;AACf,aACE;AAAA,QAAC,sCAAkB;AAAlB;AAAA,UACC,UAAS;AAAA,UACT,OAAO,GAAG,kCAAe,CAAC,YAAY,QAAQ,eAAe,CAAC,IAC5D,YAAY,QAAQ,aAAa,OACnC,KAAK,YAAY,QAAQ,aAAa,OAAO;AAAA,UAC5C,GAAG;AAAA,UAEJ;AAAA,YAAC,mBAAmB;AAAnB;AAAA,cACC,aACE;AAAA,gBACE,gBAAgB;AAAA,gBAChB,SAAS;AAAA,gBACT,WAAW;AAAA,cACb;AAAA;AAAA,UAEJ;AAAA;AAAA,MACF;AAAA,IAEJ,KAAK,iCAAW,CAAC;AACf,aACE;AAAA,QAAC,sBAAsB;AAAtB;AAAA,UACC,MAAM,oCAAC,iCAAa,IAAC;AAAA,UACrB,aACE;AAAA,YACE,gBAAgB;AAAA,YAChB,SAAS;AAAA,YACT,WAAW;AAAA,UACb;AAAA,UAED,GAAG;AAAA;AAAA,MACN;AAAA,IAEJ;AACE,aAAO;AAAA,EACX;AACF;;;;ACxE+C;AAInB;AACC;AAatB,SAAS,+BAA+B;AAAA,EAC7C;AAAA,EACA;AAAA,EACA;AACF,GAA2E;AACzE,UAAQ,QAAQ,aAAa;AAAA,IAC3B,KAAK,iCAAW,CAAC;AACf,aAAO;AAAA,QACL,SAAS,YAAY,CAAC;AAAA,UACpB,SAAS;AAAA,UACT,OAAO;AAAA,QACT,CAAa;AAAA,QACb,OAAO;AAAA,QACP,OAAO,IAAI,oCAAW,CAAC;AAAA,UACrB,OAAO,OAAO,QAAQ,MAAM;AAAA,UAC5B,YAAY;AAAA,QACd,CAAC,CAAC;AAAA,MACJ;AAAA,IACF,KAAK,iCAAW,CAAC;AACf,aAAO;AAAA,QACL,SAAS,YAAY,CAAC;AAAA,UACpB,SAAS;AAAA,UACT,eAAe;AAAA,YACb,aAAa,IAAI,QAAQ,aAAa,OAAO;AAAA,UAC/C;AAAA,QACF,CAAwB;AAAA,QACxB,OAAO,QAAQ,aAAa;AAAA,QAC5B,OAAO;AAAA,MACT;AAAA,IACF,KAAK,iCAAW,CAAC;AACf,aAAO;AAAA,QACL,SAAS,YAAY,CAAC;AAAA,UACpB,SAAS;AAAA,UACT,gBAAgB;AAAA,YACd,aAAa,GAAG,aAAa,IAAI,QAAQ,aAAa,OAAO;AAAA,UAC/D;AAAA,QACF,CAAwB;AAAA,QACxB,OAAO,QAAQ,aAAa;AAAA,QAC5B,OAAO;AAAA,MACT;AAAA,IACF;AACE,aAAO;AAAA,EACX;AACF;;;;AChBa;AA5CkB;AAEgB;AAErB;AAEY;AACH;AACF;AACJ;AAEY;AACM;AAMxC,SAAS,yBAAyB,EAAE,aAAa,KAAK,GAAkC;AAC7F,QAAM,EAAE,uBAAuB,IAAI,qBAAqB,CAAC;AAEzD,MAAI,CAAC,YAAa,QAAO;AAEzB,QAAM,8BAA8B,8BAA8B,CAAC;AAAA,IACjE,SAAS,YAAY;AAAA,IACrB,eAAe,kBAAkB,CAAC,WAAW;AAAA,IAC7C;AAAA,EACF,CAAC;AAED,QAAM,aAAa,MAAM;AACvB,SAAK,2BAAS,CAAC,MAAM,kBAAkB;AACvC,2BAAuB;AAAA,MACrB,cAAc,IAAI,gBAAgB,iBAAiB;AAAA,MACnD;AAAA,IACF,CAAC;AAAA,EACH;AAEA,MAAI,CAAC,4BAA6B,QAAO;AAEzC,QAAM,EAAE,SAAS,OAAO,MAAM,IAAI;AAElC,SACE,oCAAC,6BAAS,IAAC,SAAS,YAAY,IAAG,YACjC;AAAA,IAAC,8BAAU;AAAV;AAAA,MACC,KAAK,oCAAC,wBAAwB,IAAC,aAA0B;AAAA,MACzD,WAAW,oCAAC,gBAAgB,IAAC,OAAc;AAAA,MAC3C,aACE,qCAAC,kBAAM,IAAC,YAAW,UACjB;AAAA;AAAA,UAAC,2BAAO;AAAP;AAAA,YACC,UAAS;AAAA,YACT,cAAa;AAAA,YACb,UAAU,EAAE,MAAM,SAAS,IAAI,QAAQ;AAAA,YAEtC;AAAA;AAAA,QACH;AAAA,QACA;AAAA,UAAC,iCAAY;AAAZ;AAAA,YACC,SAAO;AAAA,YACP,MAAK;AAAA,YACL,OAAO;AAAA,YAEP,8CAAC,2BAAO,IAAC,OAAM,iCAAgC,uBAAS;AAAA;AAAA,QAC1D;AAAA,SACF;AAAA,MAEF,YAAY,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAY,iBAAM;AAAA;AAAA,EACvD,GACF;AAEJ;;;;ACzDS;AAZ0B;AAEI;AACT;AAEW;AAKlC,SAAS,6BAA6B,EAAE,OAAO,KAAK,GAAsC;AAC/F,QAAM,cAAc,iBAAO,CAAC,MAAM,sDAAsB,CAAC,KAAK,GAAG,CAAC,KAAK,CAAC;AACxE,SAAO,oCAAC,wBAAwB,IAAC,aAAa,aAAa,MAAY;AACzE;AAKO,SAAS,+BAA+B,EAAE,SAAS,GAAwC;AAChG,SACE,6DACE;AAAA,wCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,WAAU,OAAM,oBAAmB,uBAE1D;AAAA,IACA,oCAAC,iBAAK,IAAC,IAAG,YAAW,KAAI,YACtB,UACH;AAAA,KACF;AAEJ;;;;ACde;AAVR;AAKA,SAAS,yBAAyB,EAAE,IAAI,GAAkC;AAC/E,SACE,oCAAC,8BAA8B,IAC5B,cAAI,IAAI,QAAM;AACb,QAAI,CAAC,GAAI,QAAO;AAChB,WAAO,oCAAC,4BAA4B,IAAe,OAAO,GAAG,OAAO,MAAM,GAAG,QAAnC,GAAG,IAAsC;AAAA,EACrF,CAAC,GACH;AAEJ;;;;ACPI;AAZgB;AAOb,SAAS,uBAAuB;AAAA,EACrC;AAAA,EACA,aAAa;AACf,GAAgC;AAC9B,SACE,oCAAC,eAAG,IAAC,WAAU,uBAAsB,IAAI,aAAa,aAAa,QAChE,UACH;AAEJ;;;;;;AChBoC;AACV;AAEnB,SAAS,yBAAyB;AAAA,EACvC;AACF,GAEG;AACD,QAAM,CAAC,eAAe,gBAAgB,IAAI,kBAAQ,CAAC,EAAE;AACrD,QAAM,EAAE,KAAK,sBAAsB,OAAO,IAAI,iDAAS,CAAC;AAAA,IACtD,YAAY;AAAA,EACd,CAAC;AAED,qBAAS,CAAC,MAAM;AACd,QAAI,QAAQ;AACV,uBAAiB,gBAAgB,EAAE;AAAA,IACrC;AAAA,EAEF,GAAG,CAAC,MAAM,CAAC;AAEX,qBAAS,CAAC,MAAM;AACd,qBAAiB,EAAE;AAAA,EACrB,GAAG,CAAC,qBAAqB,CAAC;AAE1B,SAAO;AAAA,IACL;AAAA,IACA;AAAA,EACF;AACF;;;;AC5BuC;AAEhC,MAAM,qBAAqB,sBAAsB;;;;ACgBpC;AAlBU;AAEkD;AAQzE,SAAS,kBAAkB;AAAA,EAChC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,OAAO;AAAA,EACP,GAAG;AACL,GAA2B;AACzB,MAAI,MAAO,QAAO,oCAAC,iCAAa,IAAC;AAEjC,QAAM,EAAE,MAAM,IAAI;AAElB,MAAI;AACF,WACE,qCAAC,0BAAM,CAAC,MAAP,EACC;AAAA,0CAAC,0BAAM,CAAC,OAAP,EAAa,KAAI,MAAK,KAAK,UAAU,iBAAiB,GAAG;AAAA,MAC1D,oCAAC,0BAAM,CAAC,UAAP,EAAgB,SAAS,wCAAoB,EAAE,gBAAE;AAAA,OACpD;AAGJ,MAAI,CAAC,eAAgB,QAAO;AAE5B,SACE,oCAAC,sCAAkB,IAAC,OAAc,MAAY,OAAO,gBACnD,8CAAC,eAAG,IAAC,UAAS,YAAY,UAAS,GACrC;AAEJ;;;;ACxBI;AAXmB;AAEO;AAEa;AAKpC,SAAS,sBAAsB,EAAE,KAAK,GAA+B;AAC1E,SACE,qCAAC,kBAAM,IAAC,UAAS,YACf;AAAA,wCAAC,iCAAa,IAAC;AAAA,IACf,oCAAC,0BAA0B,IAAC,MAAY;AAAA,KAC1C;AAEJ;;;;AC8BI;AA7CwD;AACjB;AAEpB;AAEkB;AAIlC;AACoC;AACT;AACI;AACE;AAEF;AAM/B,SAAS,eAAe,EAAE,YAAY,SAAS,GAAwB;AAC5E,QAAM,EAAE,MAAM,cAAc,IAAI,wDAAgC;AAAhC,IAC9B,mDAA0B,CAAC,WAAW,gBAAgB;AAAA,EACxD;AACA,QAAM,iBAAiB,wDAAuB,CAAC;AAC/C,QAAM,eAAe,WAAW,WAAW,gBAAgB;AAE3D,MAAI,EAAE,iBAAiB,iCAAS,CAAC,aAAa,IAAI;AAChD,wBAAM,CAAC,MAAM,0BAA0B;AACvC,WAAO;AAAA,EACT;AAEA,QAAM,gBAAgB,4BAA4B;AAA5B,IACpB,eAAe,YAAY;AAAA,IAC3B,WAAW;AAAA,EACb;AACA,MAAI,OAAO,kBAAkB,YAAa,QAAO;AAEjD,QAAM,UAAU,YAAY,CAAC,SAAS,EAAE,KAAK;AAC7C,QAAM,sBACJ,cAAc,uBACd,cAAc,QACd,iDAAwB,CAAC,cAAc,qBAAqB,cAAc,IAAI;AAChF,QAAM,OAAO,eACX,oCAAC,+BAAW,IAAC,OAAM,0BAAyB,SAAQ,SAAQ,IAE5D,oCAAC,iCAAa,IAAC,OAAM,0BAAyB,SAAQ,SAAQ;AAEhE,QAAM,QAAQ,GAAG,cAAc,QAAQ,OAAO;AAC9C,QAAM,QAAQ,GAAG,eAAe,MAAM,EAAE,GAAG,cAAc,SAAS,CAAC;AACnE,QAAM,eAAe,sBACnB;AAAA,IAAC,iBAAiB;AAAjB;AAAA,MACC,OAAM;AAAA,MACN,gBAAe;AAAA,MACf,mBAAmB;AAAA,MAElB;AAAA;AAAA,EACH,IAEA,oCAAC,qBAAqB,IAAC,MAAY;AAGrC,SACE;AAAA,IAAC,qBAAqB;AAArB;AAAA,MACC;AAAA,MACA,MAAM;AAAA,MACN,MAAM,SAAS,GAAG;AAAA,MAClB;AAAA,MACA;AAAA;AAAA,EACF;AAEJ;;;;ACrDI;AAnBuC;AAEf;AACC;AACS;AACE;AAEF;AAM/B,SAAS,gBAAgB,EAAE,aAAa,SAAS,GAAyB;AAC/E,QAAM,iBAAiB,wDAAuB,CAAC;AAC/C,QAAM,eAAe,YAAY,WAAW,gBAAgB;AAE5D,QAAM,UAAU,YAAY,CAAC,SAAS,EAAE,KAAK;AAC7C,QAAM,OAAO,eACX,oCAAC,+BAAW,IAAC,OAAM,0BAAyB,SAAQ,SAAQ,IAE5D,oCAAC,iCAAa,IAAC,OAAM,0BAAyB,SAAQ,SAAQ;AAEhE,QAAM,QAAQ;AACd,QAAM,QAAQ,GAAG,eAAe,MAAM,EAAE,GAAG,oCAAW,CAAC;AAAA,IACrD,OAAO,YAAY;AAAA,IACnB,YAAY;AAAA,EACd,CAAC,CAAC;AAEF,SACE;AAAA,IAAC,qBAAqB;AAArB;AAAA,MACC;AAAA,MACA,MAAM,oCAAC,qBAAqB,IAAC,MAAY;AAAA,MACzC,MAAM,SAAS,GAAG;AAAA,MAClB;AAAA,MACA;AAAA;AAAA,EACF;AAEJ;;;;AC/BI;AAR2B;AACC;AAKzB,SAAS,qBAAqB,EAAE,YAAY,GAA8B;AAC/E,SACE,6DACG;AAAA,gBAAY,cAAc,IAAI,CAAC,aAAa,UAC3C,oCAAC,eAAe,IAAC,aAA0B,UAAU,eAAkB,KAAO,CAC/E;AAAA,IACA,YAAY,eACT,YAAY,aAAa,IAAI,CAAC,YAAY,UACxC,oCAAC,cAAc,IAAC,YAAwB,UAAU,eAAkB,KAAO,CAC5E,IACD;AAAA,KACN;AAEJ;;;;ACTW;AAT2B;AACD;AAK9B,SAAS,kBAAkB,EAAE,aAAa,GAAG,KAAK,GAA2B;AAElF,MAAI,YAAY,GAAG,YAAY;AAC7B,WAAO,oCAAC,qBAAqB,IAAC,aAAa,YAAY,IAAK,GAAG,MAAM;AAEvE,SACE,6DACE;AAAA,wCAAC,oBAAoB,IAAC,aAA0B;AAAA,IAChD,oCAAC,qBAAqB,IAAC,aAAa,YAAY,IAAK,GAAG,MAAM;AAAA,KAChE;AAEJ;;;;ACVa;AAVsB;AACD;AAM3B,SAAS,oBAAoB,EAAE,GAAG,GAA6B;AACpE,UAAQ,GAAG,YAAY;AAAA,IACrB,KAAK;AACH,aAAO,oCAAC,kBAAkB,IAAC,aAAa,GAAG,aAAa;AAAA,IAC1D,KAAK;AACH,aAAO,oCAAC,iBAAiB,IAAC,aAAa,GAAG,aAAa;AAAA,IACzD;AACE,aAAO;AAAA,EACX;AACF;;;;ACRS;AANa;AAKf,SAAS,sBAAsB,EAAE,SAAS,GAA+B;AAC9E,SAAO,oCAAC,iBAAK,IAAC,IAAG,YAAY,UAAS;AACxC;;;;;;;;;;;;;;;;;;;;;;ACTkB;AACS;AACP;AACI;AACH;AACL;AAEhB,0BAAY,CAAC,mBAAO;AACpB,0BAAY,CAAC,uBAAW;AACxB,0BAAY,CAAC,0BAAc;AAC3B,0BAAY,CAAC,eAAG;AAChB,0BAAY,CAAC,oBAAQ;AAEd,SAAS,gBAAgB;AAC9B,UAAO,oBAAI,KAAK,GAAE,YAAY,EAAE,MAAM,GAAG,EAAE,CAAC;AAC9C;AAGO,SAAS,mBAAmB,SAAyB;AAC1D,SAAO,sBAAQ,CAAC,OAAO,EAAE,OAAO,YAAY;AAC9C;AAGO,SAAS,YAAY,QAAwB;AAClD,QAAM,OAAO,mBAAK,CAAC,MAAM;AACzB,MAAI,KAAK,QAAQ,EAAG,QAAO;AAC3B,MAAI,KAAK,YAAY,EAAG,QAAO;AAC/B,MAAI,mBAAK,CAAC,EAAE,OAAO,MAAM,MAAM,GAAG;AAChC,WAAO,KAAK,OAAO,QAAQ;AAAA,EAC7B;AACA,SAAO,KAAK,OAAO,cAAc;AACnC;AAEO,SAAS,uBAAuB,SAAiB;AACtD,MAAI;AACF,WAAO,mBAAmB,OAAO;AAAA,EACnC,SAAS,GAAG;AACV;AAAA,EACF;AACF;;;;ACvCkB;AAEU;AAEuC;AAO5D,SAAS,iBAAiB,QAA4B;AAC3D,UAAQ,OAAO,YAAY;AAAA,IACzB,KAAK;AACH,aAAO,OAAO,YAAY;AAAA,IAC5B,KAAK;AACH,aAAO,OAAO,YAAY,GAAG;AAAA,IAC/B;AACE,aAAO;AAAA,EACX;AACF;AAEA,SAAS,mBAAmB,QAA4B;AACtD,UAAQ,OAAO,YAAY;AAAA,IACzB,KAAK;AACH,UAAI,CAAC,OAAO,YAAY,OAAO,WAAY;AAC3C,aAAO,wBAAU,CAAC,OAAO,YAAY,OAAO,UAAU,EAAE,OAAO;AAAA,IACjE,KAAK;AACH,aACE,OAAO,YAAY,GAAG,uBACtB,OAAO,YAAY,GAAG;AAAA,IAE1B;AACE,aAAO;AAAA,EACX;AACF;AAEA,SAAS,sBAAsB,QAA4B;AACzD,UAAQ,OAAO,YAAY;AAAA,IACzB,KAAK;AACH,aAAO,OAAO,YAAY,GAAG;AAAA,IAC/B;AACE,aAAO;AAAA,EACX;AACF;AAEA,SAAS,0BAA0B,QAA4B;AAC7D,UAAQ,OAAO,YAAY;AAAA,IACzB,KAAK;AACH,UAAI,CAAC,OAAO,YAAY,OAAO,aAAc;AAC7C,aAAO,OAAO,YAAY,OAAO;AAAA,IACnC,KAAK;AACH,aAAO,OAAO,YAAY,GAAG;AAAA,IAC/B;AACE,aAAO;AAAA,EACX;AACF;AAEA,SAAS,kBAAkB,KAA2B;AACpD,SAAO,IACJ,KAAK,CAAC,GAAG,MAAM;AACd,UAAM,WAAW,sBAAsB,CAAC;AACxC,UAAM,WAAW,sBAAsB,CAAC;AAExC,QAAI,CAAC,YAAY,CAAC,SAAU,QAAO;AACnC,WAAO,WAAW,WAAW,KAAK,WAAW,WAAW,IAAI;AAAA,EAC9D,CAAC,EACA,KAAK,CAAC,GAAG,MAAM;AACd,UAAM,eAAe,0BAA0B,CAAC;AAChD,UAAM,eAAe,0BAA0B,CAAC;AAEhD,QAAI,CAAC,gBAAgB,CAAC,aAAc,QAAO;AAC3C,WAAO,eAAe,eAAe,KAAK,eAAe,eAAe,IAAI;AAAA,EAC9E,CAAC,EACA,KAAK,CAAC,GAAG,MAAM;AACd,UAAM,QAAQ,mBAAmB,CAAC;AAClC,UAAM,QAAQ,mBAAmB,CAAC;AAElC,QAAI,CAAC,SAAS,CAAC,MAAO,QAAO;AAE7B,UAAM,UAAU,IAAI,KAAK,KAAK,EAAE,QAAQ;AACxC,UAAM,UAAU,IAAI,KAAK,KAAK,EAAE,QAAQ;AAExC,WAAO,UAAU,UAAU,KAAK,UAAU,UAAU,IAAI;AAAA,EAC1D,CAAC,EACA,OAAO,CAAC,WAAW,OAAO;AACzB,UAAM,OAAO,mBAAmB,EAAE;AAClC,UAAM,OAAO,OAAO,sBAAsB,CAAC,IAAI,IAAI;AACnD,QAAI,kCAAW,CAAC,IAAI,GAAG;AACrB,YAAM,QAAQ,aAAa,CAAC;AAC5B,gBAAU,IAAI,OAAO,CAAC,GAAI,UAAU,IAAI,KAAK,KAAK,CAAC,GAAI,EAAE,CAAC;AAAA,IAC5D,OAAO;AACL,UAAI,CAAC,UAAU,IAAI,IAAI,GAAG;AACxB,kBAAU,IAAI,MAAM,CAAC,CAAC;AAAA,MACxB;AACA,gBAAU,IAAI,MAAM,CAAC,GAAI,UAAU,IAAI,IAAI,KAAK,CAAC,GAAI,EAAE,CAAC;AAAA,IAC1D;AACA,WAAO;AAAA,EACT,GAAG,oBAAI,IAAkC,CAAC;AAC9C;AAEA,SAAS,sBAAsB,OAA0C;AACvE,SAAO,CAAC,GAAG,MAAM,KAAK,CAAC,EAAE,IAAI,WAAS;AAAA,IACpC;AAAA,IACA,aAAa,WAAW,CAAC,IAAI;AAAA,IAC7B,KAAK,MAAM,IAAI,IAAI,KAAK,CAAC;AAAA,EAC3B,EAAE;AACJ;AAEA,SAAS,WAAW,KAAgC;AAClD,SAAO,IAAI,OAAO,CAAC,KAAK,aAAa;AACnC,WAAO,IAAI;AAAA,MACT,SAAS,YAAY,GAAG;AAAA,OACvB,IAAI,IAAI,SAAS,YAAY,GAAG,KAAK,KAAK,KAAK;AAAA,IAClD;AAAA,EACF,GAAG,oBAAI,IAAI,CAAC;AACd;AAEA,SAAS,yBAAyB,KAAgC;AAChE,QAAM,eAAe,WAAW,GAAG;AAEnC,SAAO,IAAI,OAAO,cAAY;AAC5B,UAAM,YAAY,SAAS,YAAY,GAAG,UAAU,SAAS,SAAS;AACtE,QAAI,aAAa,IAAI,SAAS,YAAY,GAAG,KAAK,MAAM,KAAK,CAAC,UAAW,QAAO;AAChF,WACE,SAAS,YAAY,GAAG,cAAc,aACtC,SAAS,YAAY,GAAG,UAAU,SAAS,OAAO;AAAA,EAEtD,CAAC;AACH;AAEA,SAAS,wBACP,KAKA;AACA,SAAO,IAAI,KAAK,CAAC,GAAG,MAAO,EAAE,OAAO,EAAE,OAAO,KAAK,EAAE,OAAO,EAAE,OAAO,IAAI,CAAE;AAC5E;AAEO,SAAS,uBACd,YACA,WACA;AACA,QAAM,eAAe;AAAA,IACnB,kBAAkB,CAAC,GAAG,YAAY,GAAG,yBAAyB,SAAS,CAAC,CAAC;AAAA,EAC3E;AACA,SAAO,wBAAwB,YAAY;AAC7C;;;;ACtII;AAb+B;AAO5B,SAAS,yBAAyB;AAAA,EACvC;AAAA,EACA;AAAA,EACA;AACF,GAAiC;AAC/B,SACE,qCAAC,eAAG,IACF;AAAA,wCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,WAAU,OAAM,oBACpC,uBACH;AAAA,IACA,oCAAC,iBAAK,IAAC,IAAG,YAAY,UAAS;AAAA,OAJvB,IAKV;AAEJ;;;;ACiBI;AAvCoB;AAEJ;AAEqB;AACL;AACE;AAEmB;AAChB;AAQlC,SAAS,gBAAgB;AAAA,EAC9B;AAAA,EACA;AAAA,EACA;AACF,GAAyB;AACvB,QAAM,EAAE,sBAAsB,cAAc,IAAI,wBAAwB,CAAC;AAAA,IACvE;AAAA,EACF,CAAC;AACD,QAAM,mBAAmB,iBAAO;AAAP,IACvB,MACE,WAAW,UAAU,UAAU,SAAS,sBAAsB,CAAC,YAAY,SAAS,IAAI,CAAC;AAAA,IAC3F,CAAC,YAAY,SAAS;AAAA,EACxB;AAEA,QAAM,yBAAyB,iBAAO,CAAC,MAAM;AAC3C,WAAO,iBAAiB,OAAO,CAAC,KAA6B,MAAM,UAAU;AAC3E,UAAI,KAAK,IAAI,KAAK,IAAI,UAAU,IAAI,QAAQ,CAAC,KAAK;AAClD,aAAO;AAAA,IACT,GAAG,CAAC,CAAC;AAAA,EACP,GAAG,CAAC,gBAAgB,CAAC;AAErB,SACE,qCAAC,qBAAqB,IACnB;AAAA,qBAAiB,IAAI,CAAC,EAAE,MAAM,aAAa,IAAI,GAAG,cAAc;AAC/D,YAAM,UAAU,uBAAuB,YAAY,CAAC,KAAK;AAEzD,UAAI,UAAU,eAAe;AAC3B,eAAO;AAAA,MACT;AAEA,aACE,oCAAC,wBAAwB,IAAC,MAAY,aACnC,cAAI,IAAI,CAAC,IAAI,YAAY;AAExB,YAAI,UAAU,UAAU,cAAe,QAAO;AAC9C,eAAO,oCAAC,mBAAmB,IAA4B,MAAtB,gBAAgB,CAAC,EAAE,CAAW;AAAA,MACjE,CAAC,KALkE,IAMrE;AAAA,IAEJ,CAAC;AAAA,IACD,oCAAC,eAAG,IAAC,KAAK,sBAAsB;AAAA,KAClC;AAEJ;;;;ACiDM;AA7G6B;AACZ;AAEJ;AAOZ;AAEwB;AACS;AACG;AACkB;AACd;AACA;AACN;AAE+B;AACtC;AACK;AACE;AACF;AACP;AAIhC,SAAS,sBAAsB;AAC7B,MAAI;AACF,WAAO,oFAA4C,CAAC,EAAE;AAAA,EACxD,SAAS,GAAG;AACV,WAAO;AAAA,EACT;AACF;AAEA,SAAS,sBAAsB;AAC7B,MAAI;AACF,WAAO,oDAA0B,CAAC;AAAA,EACpC,SAAS,GAAG;AACV,WAAO;AAAA,EACT;AACF;AAEO,SAAS,eAAe;AAC7B,QAAM,mBAAmB,oBAAoB;AAC7C,QAAM,mBAAmB,oBAAoB;AAC7C,QAAM,aAAa,+DAA8B,CAAC;AAClD,QAAM,qBAAqB,8BAA8B,CAAC;AAE1D,QAAM;AAAA,IACJ,EAAE,WAAW,gCAAgC,MAAM,wBAAwB,CAAC,EAAE;AAAA,IAC9E,EAAE,WAAW,gCAAgC,MAAM,wBAAwB,CAAC,EAAE;AAAA,EAChF,IAAI,mEAA2C,CAAC,CAAC,kBAAkB,gBAAgB,CAAC;AAEpF,QAAM,CAAC,EAAE,MAAM,eAAe,CAAC,EAAE,GAAG,EAAE,MAAM,eAAe,CAAC,EAAE,CAAC,IAAI,qDAA6B,CAAC;AAAA,IAC/F;AAAA,IACA;AAAA,EACF,CAAC;AACD,QAAM,oBAAoB,iBAAO;AAAP,IACxB,MAAM,uBAAM,CAAC,CAAC,GAAG,cAAc,GAAG,YAAY,GAAG,MAAM;AAAA,IACvD,CAAC,cAAc,YAAY;AAAA,EAC7B;AAEA,QAAM,EAAE,WAAW,6BAA6B,MAAM,gCAAgC,IACpF,mEAA2C,CAAC,UAAU;AACxD,QAAM;AAAA,IACJ,OAAO,EAAE,WAAW,mCAAmC;AAAA,IACvD,cAAc;AAAA,EAChB,IAAI,oDAA4B,CAAC,UAAU;AAC3C,QAAM,wBAAwB,wBAAwB,CAAC;AACvD,QAAM,mBAAmB,uDAAuB,CAAC;AAEjD,qBAAS,CAAC,MAAM;AACd,uBAAmB,yBAAyB;AAAA,EAC9C,GAAG,CAAC,2BAA2B,kBAAkB,CAAC;AAElD,QAAM,YACJ,kCACA,kCACA,+BACA;AAEF,QAAM,4BAA4B,iBAAO,CAAC,MAAM;AAC9C,WAAO,2BAA2B;AAA3B,MACL,uBAAM,CAAC,CAAC,GAAG,uBAAuB,GAAG,qBAAqB,GAAG,MAAM;AAAA,IACrE;AAAA,EACF,GAAG,CAAC,uBAAuB,qBAAqB,CAAC;AAEjD,QAAM,wBAAwB,0BAA0B,IAAI,QAAM,GAAG,KAAK;AAC1E,QAAM,2BAA2B,iBAAO;AAAP,IAC/B,MACE,0BAA0B,CAAC,iCAAiC,OAAO,EAAE;AAAA,MACnE,CAAC,EAAE,YAAY,MAAM,CAAC,sBAAsB,SAAS,YAAY,GAAG,KAAK;AAAA,IAC3E;AAAA,IACF,CAAC,iCAAiC,qBAAqB;AAAA,EACzD;AAEA,QAAM,2BAA2B,sBAAsB,SAAS;AAChE,QAAM,yBACJ,kBAAkB,SAAS,KAAK,0BAA0B,SAAS;AACrE,QAAM,kBACJ,0BAA0B,SAAS,KAAK,yBAAyB,SAAS;AAE5E,QAAM,SAAS,4BAA4B,0BAA0B;AAErE,MAAI;AACF,WACE,qCAAC,sBAAsB,IAAC,YAAU,MAChC;AAAA,0CAAC,cAAc,IAAC;AAAA,MAChB,oCAAC,gCAAM,IAAC;AAAA,OACV;AAGJ,MAAI,CAAC;AACH,WACE,qCAAC,sBAAsB,IAAC,YAAU,MAChC;AAAA,0CAAC,iBAAiB,IAAC;AAAA,MACnB,oCAAC,gCAAM,IAAC;AAAA,OACV;AAGJ,SACE,6DACE;AAAA,yCAAC,sBAAsB,IACpB;AAAA,kCAA4B,oCAAC,wBAAwB,IAAC,KAAK,uBAAuB;AAAA,MAClF,0BACC;AAAA,QAAC,sBAAsB;AAAtB;AAAA,UACC,YAAY,mBAAmB,oBAAoB,CAAC;AAAA,UACpD,WAAW;AAAA;AAAA,MACb;AAAA,MAED,mBACC;AAAA,QAAC,eAAe;AAAf;AAAA,UACC,YAAY,mBAAmB,4BAA4B,CAAC;AAAA,UAC5D,WAAW;AAAA,UACX,uBAAuB;AAAA;AAAA,MACzB;AAAA,OAEJ;AAAA,IACA,oCAAC,gCAAM,IAAC;AAAA,KACV;AAEJ;;;;AC9GM;AAlCoB;AAEY;AAEJ;AAED;AAE1B,SAAS,iBAAiB;AAC/B,QAAM,EAAE,MAAM,IAAI,2CAAgB,CAAC;AACnC,SACE;AAAA,IAAC,0BAAM;AAAN;AAAA,MACC,QAAQ,EAAE,IAAI,2BAA2B;AAAA,MACzC,IAAG;AAAA,MACH,SAAQ;AAAA,MACR,MAAK;AAAA,MACL,KAAI;AAAA,MACJ,QAAO;AAAA,MACP,OAAM;AAAA,MACN,MAAK;AAAA,MACL,KAAI;AAAA,MACJ,WACE,UAAU,UACN,8HACA;AAAA,MAEN,QACE,UAAU,SACN,gKACA;AAAA,MAEN,QAAQ;AAAA,MACR,SAAS,mCAAiB;AAAjB,MAET,+CAAC,gBAAI,IACH;AAAA,4CAAC,eAAG,IAAC,IAAG,YAAW,IAAG,OACpB,8CAAC,iCAAa,IAAC,SAAQ,SAAQ,GACjC;AAAA,QAAM;AAAA,SAER;AAAA;AAAA,EACF;AAEJ;;;;;;AC1CgD;AAET;AACN;AAc1B,SAAS,kBAAkB;AAChC,QAAM,sBAAsB,uDAA+B,CAAC;AAE5D,QAAM,eAAe,mDAAsB,CAAC;AAC5C,QAAM,iBAAiB,+CAAgB,CAAC;AAExC,WAAS,eAAe,EAAE,SAAS,oBAAoB,GAAuB;AAC5E,UAAM,QAAQ,eAAe,KAAK,OAAK,EAAE,iBAAiB,gBAAgB,EAAE,OAAO,OAAO;AAC1F,UAAM,qBACJ,oBAAoB,SAAS,OAAO,KAAK,qBAAqB,SAAS,OAAO;AAEhF,WAAO,OAAO,WAAW;AAAA,EAC3B;AAEA,WAAS,aAAgB;AAAA,IACvB;AAAA,IACA,SAAS;AAAA,IACT;AAAA,IACA;AAAA,EACF,GAA6B;AAC3B,QAAI,WAAW,MAAO,QAAO;AAE7B,WAAO,OAAO,OAAO,OAAK;AACxB,YAAM,UAAU,WAAW,CAAC;AAC5B,YAAM,eAAe,eAAe,EAAE,SAAS,oBAAoB,CAAC;AAEpE,aAAO,WAAW,YAAY,eAAe,CAAC;AAAA,IAChD,CAAC;AAAA,EACH;AAEA,SAAO,EAAE,gBAAgB,aAAa;AACxC;;;;AChDsB;AAOf;AAMA;AAC2C;AAEW;AACd;AACb;AAG3B,SAAS,sBAAsB;AACpC,QAAM,iBAAiB,kBAAkB;AAEzC,QAAM,oBAAoB,qBAAqB;AAE/C,MAAI,CAAC,kBAAkB,oBAAoB;AACzC,WAAO,EAAE,SAAS,OAAO,QAAQ,4CAA4C;AAAA,EAC/E;AAEA,QAAM,mBACJ,eAAe,MAAM,QAAQ,mBAAmB,aAChD,eAAe,MAAM,QAAQ,mBAAmB;AAElD,MAAI,CAAC,iBAAkB,QAAO,EAAE,SAAS,OAAO,QAAQ,sBAAsB;AAI9E,SAAO,EAAE,SAAS,KAAK;AACzB;AAEA,SAAS,2BAA2B,UAAkB,QAAsC;AAC1F,SAAO;AAAA,IACL;AAAA,IACA,SAAS;AAAA,IACT,MAAM;AAAA,IACN,QAAQ;AAAA,EACV;AACF;AAEO,SAAS,iBAAiB;AAC/B,QAAM,4BAA4B,oDAA4B,CAAC;AAC/D,QAAM,sBAAsB,gEAA8B,CAAC;AAC3D,QAAM,qBAAqB,oFAA4C,CAAC;AAExE,QAAM,SAAS,8CAAsB,CAAC;AAAA,IACpC;AAAA,IACA,qBAAqB,mBAAmB;AAAA,EAC1C,CAAC;AAED,MAAI,CAAC,4CAAoB,CAAC,MAAM,EAAG,QAAO,CAAC;AAE3C,QAAM,SAAS,OAAO,KAAK,MACxB,QAAQ,UAAQ,KAAK,WAAW,EAChC,OAAO,WAAS,MAAM,SAAS,CAAC,EAChC,QAAQ,WAAS,KAAK;AAEzB,SAAO,OAAO,IAAI,WAAS;AACzB,UAAM,YAAY;AAAA,MAChB,kCAAW,CAAC,IAAI,wBAAS,CAAC,MAAM,QAAQ,yBAAyB,CAAC,GAAG,KAAK;AAAA,IAC5E;AACA,WAAO;AAAA,MACL,SAAS,gDAAwB;AAAxB,QACP,kCAAW;AAAX,UACE,2CAAoB,CAAC,MAAM,KAAK,QAAQ,EAAE,IAAI,wBAAS,CAAC,MAAM,QAAQ,eAAe,CAAC;AAAA,UACtF,MAAM,QAAQ;AAAA,UACd,MAAM,KAAK;AAAA,QACb;AAAA,MACF;AAAA,MACA,MAAM,2BAA2B,MAAM,KAAK,UAAU,MAAM,QAAQ,MAAM;AAAA,MAC1E,eAAe,MAAM;AAAA,MACrB,YAAY,wCAAgB;AAAhB,QACV,wCAAgB,CAAC,MAAM,QAAQ,QAAQ,KAAK;AAAA,QAC5C,kCAAW,CAAC,UAAU,QAAQ,KAAK;AAAA,MACrC;AAAA,IACF;AAAA,EACF,CAAC;AACH;;;;ACrFkD;AACnB;AAoB/B,SAAS,WAAW,OAAuB;AACzC,SAAO,MAAM,KAAK;AACpB;AACO,SAAS,kBAAkB,EAAE,UAAU,SAAS,MAAM,GAA2B;AACtF,QAAM,SAAS,cAAc,CAAC;AAE9B,QAAM,EAAE,aAAa,IAAI,eAAe,CAAC;AAEzC,QAAM,sBAAsB,OACzB,OAAO,OAAK,EAAE,WAAW,MAAM,OAAO,cAAc,CAAC,CAAC,EACtD,IAAI,OAAK,EAAE,KAAK,MAAM;AAEzB,QAAM,iBAAiB,aAAa;AAAA,IAClC;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AAED,SAAO,SAAS,EAAE,QAAQ,gBAAgB,oBAAoB,CAAC;AACjE;;;;AC1C8B;AAEoB;AAoBlD,SAAS,uBAAU,CAAC,OAAsB;AACxC,SAAO,MAAM,KAAK;AACpB;AAEO,SAAS,YAAY,EAAE,WAAW,UAAU,SAAS,MAAM,GAAqB;AACrF,QAAM,EAAE,QAAQ,CAAC,EAAE,IAAI,qCAAa,CAAC,SAAS;AAE9C,QAAM,EAAE,aAAa,IAAI,eAAe,CAAC;AAEzC,QAAM,sBAAgC,CAAC;AACvC,QAAM,iBAAiB,aAAa;AAAA,IAClC,QAAQ;AAAA,IACR;AAAA,IACA,UAAU;AAAV,IACA;AAAA,EACF,CAAC;AAED,SAAO,SAAS,EAAE,QAAQ,gBAAgB,oBAAoB,CAAC;AACjE;;;;;;;;;;ACzC2B;AAOpB;AACgB;AAEhB,MAAM,WAAuB,MAAM;AACxC,MAAI;AACF,WAAO,IAAI,mBAAU,CAAC;AAAA,MACpB,UAAU,oCAAgB;AAAhB,MACV,SAAS,mCAAe;AAAf,MACT,iBAAiB,2CAAuB;AAAvB,MACjB,wBAAwB,kDAA8B;AAA9B,IAC1B,CAAC;AAAA,EACH,SAAS,GAAG;AACV,wBAAM,CAAC,MAAM,mCAAmC;AAEhD,WAAO,CAAC;AAAA,EACV;AACF,GAAG;;;;ACvBqB;AAEjB,SAAS,8CAA8C;AAC5D,SAAO;AAAA,IACL,UAAU,CAAC,8BAA8B;AAAA,IACzC,SAAS,MAAM,OAAO,CAAC,mBAAmB;AAAA,IAC1C,gBAAgB;AAAA,IAChB,oBAAoB;AAAA,IACpB,sBAAsB;AAAA,IACtB,YAAY,MAAO;AAAA,IACnB,WAAW,MAAO,KAAK;AAAA,EACzB;AACF;;;;ACJO;AAEA,SAAS,8BAA8B,OAAkB;AAC9D,MACE,CAAC,MAAM,cACN,CAAC,CAAC,MAAM,WACP,6CAAsB,CAAC,MAAM,OAAO,KACpC,CAAC,6CAAsB,CAAC,MAAM,WAAW,KAAK;AAGhD,WAAO;AACT,SAAO,yCAAkB,CAAC,gDAAyB,CAAC,MAAM,SAAS,MAAM,UAAU,CAAC;AACtF;AAEO,SAAS,8BAA8B,SAAgB,OAAmB,OAAe;AAC9F,QAAM,eAAe,kCAAW;AAAX,IACnB,2CAAoB,CAAC,QAAQ,QAAQ,EAAE,KAAK;AAAA,IAC5C,QAAQ;AAAA,IACR,QAAQ;AAAA,EACV;AAEA,MAAI,CAAC,6CAAsB,CAAC,YAAY,EAAG;AAC3C,SAAO,gDAAyB,CAAC,cAAc,KAAK;AACtD;AAEO,SAAS,wBAAwB,MAAgB;AACtD,MAAI,SAAS;AACb,MAAI,KAAK,OAAQ,UAAS,KAAK,KAAK,SAAS,CAAC;AAC9C,MAAI,KAAK,SAAS,EAAG,UAAS,GAAG,KAAK,KAAK,SAAS,CAAC,CAAC,QAAQ,MAAM;AACpE,MAAI,KAAK,SAAS,EAAG,UAAS,GAAG,KAAK,MAAM,GAAG,EAAE,EAAE,KAAK,IAAI,CAAC,KAAK,MAAM;AACxE,SAAO;AACT;AAEO,SAAS,eAAe,QAAqB;AAClD,SAAO,OACJ,KAAK,CAAC,GAAG,MAAM;AACd,UAAM,SAAS,EAAE,eAAe,EAAE,MAAM,YAAY;AACpD,UAAM,SAAS,EAAE,eAAe,EAAE,MAAM,YAAY;AACpD,QAAI,QAAQ,MAAO,QAAO;AAC1B,QAAI,QAAQ,MAAO,QAAO;AAC1B,WAAO;AAAA,EACT,CAAC,EACA,KAAK,CAAC,GAAG,MAAM;AACd,QAAI,EAAE,SAAS,MAAO,QAAO;AAC7B,QAAI,EAAE,SAAS,MAAO,QAAO;AAC7B,WAAO;AAAA,EACT,CAAC,EACA,KAAK,CAAC,GAAG,MAAM;AACd,QAAI,EAAE,SAAS,MAAO,QAAO;AAC7B,QAAI,EAAE,SAAS,MAAO,QAAO;AAC7B,WAAO;AAAA,EACT,CAAC;AACL;;;;AC5D4B;AAEH;AACA;AACH;AAG6B;AAO5C;AAMA;AAEqD;AAE7B;AAE/B,MAAM,uBAAiC;AACvC,MAAM,wBAAwB;AAE9B,SAAS,mBAAmB,SAAiB;AAC3C,QAAM,EAAE,MAAM,OAAO,IAAI,mDAA2B,CAAC;AACrD,QAAM,oBAAoB,wDAAgC,CAAC;AAC3D,QAAM,2BAA2B,sDAA8B,CAAC,OAAO;AACvE,QAAM,cAAc,kDAA0B,CAAC,OAAO;AAEtD,SAAO,qBAAW;AAAX,IACL,CAAC,UAAyC;AACxC,UAAI,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,cAAe;AAE/C,YAAM,YAAY;AAAA,QAChB,UAAU,MAAM;AAAA,QAChB,UAAU,MAAM,OAAO,MAAM,GAAG,CAAC;AAAA,QACjC,MAAM,MAAM;AAAA,QACZ,MAAM,MAAM;AAAA,QACZ,aAAa,MAAM;AAAA,QACnB,WAAW,MAAM;AAAA,MACnB;AAEA,UAAI,MAAM,YAAY,sBAAsB;AAC1C,cAAM,QAAQ,oDAA6B;AAA7B,UACZ,IAAI,wBAAS,CAAC,OAAO,4BAAQ,CAAC,GAAG,KAAK,CAAC;AAAA,UACvC;AAAA,QACF;AACA,eAAO;AAAA,UACL,GAAG;AAAA,UACH,SAAS;AAAA,UACT,aAAa;AAAA,UACb,YAAY,wCAAgB;AAAhB,YACV,wCAAgB,CAAC,yBAAyB,QAAQ,KAAK;AAAA,YACvD,kCAAW,CAAC,OAAO,KAAK;AAAA,UAC1B;AAAA,QACF;AAAA,MACF;AAEA,YAAM,mBAAmB,YAAY;AAAA,QACnC,gBAAc,iDAA0B,CAAC,WAAW,KAAK,UAAU,MAAM,MAAM;AAAA,MACjF,GAAG,QAAQ;AAEX,aAAO;AAAA,QACL,GAAG;AAAA,QACH,SAAS,oBAAoB,kCAAW,CAAC,GAAG,MAAM,QAAQ,MAAM,aAAa;AAAA,QAC7E,YAAY,mBACR,kBAAkB,UAAU,WAAW,iBAAiB,MAAM,IAC9D,kBAAkB,UAAU,WAAW,MAAM,MAAM;AAAA,MACzD;AAAA,IACF;AAAA,IACA,CAAC,0BAA0B,mBAAmB,QAAQ,WAAW;AAAA,EACnE;AACF;AAEO,SAAS,0BAA0B,SAAiB;AACzD,QAAM,kBAAkB,mBAAmB,OAAO;AAClD,SAAO,4BAAQ,CAAC;AAAA,IACd,GAAG,2CAA2C,CAAC;AAAA,IAC/C,QAAQ,UAAQ,cAAc,CAAC,KAAK,IAAI,eAAe,EAAE,OAAO,4BAAS,CAAC;AAAA,EAC5E,CAAC;AACH;;;;ACtFwB;AAOjB;AAEmC;AAOnC,SAAS,+BAA+B,EAAE,QAAQ,GAAuB;AAC9E,QAAM,EAAE,WAAW,SAAS,CAAC,EAAE,IAAI,8CAAsB,CAAC,EAAE,QAAQ,CAAC;AACrE,QAAM,EAAE,MAAM,iBAAiB,CAAC,EAAE,IAAI,8CAAsB,CAAC,OAAO;AACpE,QAAM,EAAE,MAAM,oBAAoB,CAAC,EAAE,IAAI,yBAAyB,CAAC,OAAO;AAE1E,QAAM,iBAAiB,iBAAO,CAAC,MAAM;AACnC,UAAM,SAAS,CAAC,GAAG,gBAAgB,GAAG,iBAAiB;AACvD,WAAO;AAAA,MACL,WAAW,yCAAiB,CAAC,QAAQ,QAAQ,KAAK;AAAA,MAClD,iBAAiB,yCAAiB,CAAC,QAAQ,QAAQ,WAAW;AAAA,MAC9D,mBAAmB,yCAAiB,CAAC,QAAQ,QAAQ,aAAa;AAAA,IACpE;AAAA,EACF,GAAG,CAAC,gBAAgB,mBAAmB,MAAM,CAAC;AAE9C,SAAO,EAAE,WAAW,GAAG,eAAe;AACxC;;;;AC7B+C;AACG;AAiBlD,SAAS,8BAAU,CAAC,OAA+B;AACjD,SAAO,MAAM,KAAK;AACpB;AAEO,SAAS,kBAAkB;AAAA,EAChC;AAAA,EACA,cAAc;AAAA,EACd;AACF,GAA2B;AACzB,QAAM;AAAA,IACJ;AAAA,IACA,YAAY,CAAC;AAAA,IACb;AAAA,EACF,IAAI,8BAA8B,CAAC,EAAE,SAAS,QAAQ,MAAM,CAAC;AAE7D,QAAM,EAAE,aAAa,IAAI,eAAe,CAAC;AACzC,QAAM,sBAAsB,gBAAgB,IAAI,OAAK,EAAE,KAAK,UAAU;AACtE,QAAM,iBAAiB,aAAa;AAAA,IAClC,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,UAAU;AAAV,IACA;AAAA,EACF,CAAC;AAED,SAAO,SAAS,EAAE,WAAW,QAAQ,gBAAgB,oBAAoB,CAAC;AAC5E;;;;AC5CwC;AAEU;AAoBlD,SAAS,8BAAU,CAAC,OAA+B;AACjD,SAAO,MAAM,KAAK;AACpB;AAEO,SAAS,kBAAkB,EAAE,SAAS,UAAU,SAAS,MAAM,GAA2B;AAC/F,QAAM,EAAE,MAAM,SAAS,CAAC,EAAE,IAAI,+CAAuB,CAAC,OAAO;AAC7D,QAAM,EAAE,aAAa,IAAI,eAAe,CAAC;AACzC,QAAM,sBAAsB,OAAO,IAAI,OAAK,EAAE,KAAK,MAAM;AAEzD,QAAM,iBAAiB,aAAa;AAAA,IAClC;AAAA,IACA;AAAA,IACA,UAAU;AAAV,IACA;AAAA,EACF,CAAC;AACD,SAAO,SAAS,EAAE,QAAQ,gBAAgB,oBAAoB,CAAC;AACjE;;;;ACtC+B;AAEmB;AAmBlD,SAAS,8BAAU,CAAC,OAAuB;AACzC,SAAO,MAAM,KAAK;AACpB;AAEO,SAAS,kBAAkB,EAAE,SAAS,UAAU,SAAS,MAAM,GAA2B;AAC/F,QAAM,EAAE,MAAM,SAAS,CAAC,EAAE,IAAI,sCAAc,CAAC,OAAO;AAEpD,QAAM,EAAE,aAAa,IAAI,eAAe,CAAC;AACzC,QAAM,sBAAgC,CAAC;AACvC,QAAM,iBAAiB,aAAa;AAAA,IAClC;AAAA,IACA;AAAA,IACA,UAAU;AAAV,IACA;AAAA,EACF,CAAC;AACD,SAAO,SAAS,EAAE,QAAQ,gBAAgB,oBAAoB,CAAC;AACjE;;;;ACtCO,IAAK,uBAAL,kBAAKC,0BAAL;AACL,EAAAA,sBAAA,qBAAkB;AAClB,EAAAA,sBAAA,yBAAsB;AAFZ,SAAAA;AAAA;;;;ACKL;AAEA,SAAS,kCAAkE,QAAW;AAC3F,QAAM,4BAA4B,OAAO,OAAO,WAAS,MAAM,QAAQ,OAAO,cAAc,CAAC,CAAC;AAC9F,QAAM,wBAAwB,OAAO,OAAO,WAAS,MAAM,QAAQ,OAAO,UAAU,CAAC,CAAC;AACtF,SAAO,CAAC,GAAG,2BAA2B,GAAG,qBAAqB;AAChE;AAEO,SAAS,0BAEd,OAAU;AACV,MAAI,CAAC,MAAM,cAAc,CAAC,MAAM,WAAW,CAAC,6CAAsB,CAAC,MAAM,WAAW,KAAK;AACvF,WAAO;AACT,SAAO,yCAAkB,CAAC,gDAAyB,CAAC,MAAM,SAAS,MAAM,UAAU,CAAC;AACtF;;;;ACuBQ;AA1CiB;AACG;AAEH;AACG;AAEkB;AACnB;AAEY;AACL;AAU3B,SAAS,sBAAsB;AAAA,EACpC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,qBAAqB;AACvB,GAA+B;AAC7B,QAAM,eAAe,mDAAsB,CAAC;AAC5C,QAAM,WAAW,mCAAW,CAAC;AAE7B,QAAM,CAAC,WAAW,YAAY,IAAI,kBAAQ,CAAC,kBAAkB;AAE7D,WAAS,gBAAgB,SAAkB;AACzC,iBAAa,OAAO;AACpB;AAAA,MACE,4CAAiB,CAAC,QAAQ,2BAA2B,EAAE,IAAI,SAAS,SAAS,aAAa,CAAC;AAAA,IAC7F;AAAA,EACF;AAEA,QAAM,SACJ,oCAAC,kBAAM,IAAC,GAAE,QAAO,gBAAe,UAC9B,8CAAC,0BAAM,CAAC,MAAP,EAAY,iBAAiB,iBAAiB,SAAS,WAAW,IAAI,SACrE,8CAAC,0BAAM,CAAC,OAAP,EAAa,GAChB,GACF;AAGF,SACE,oCAAC,eAAG,IAAC,IAAG,YACN,8CAAC,6BAAS,IAAC,SAAS,MAAM,gBAAgB,CAAC,SAAS,GAAG,eAAa,mBAAQ,CAAC,OAAO,GAClF;AAAA,IAAC,8BAAU;AAAV;AAAA,MACC,KAAK;AAAA,MACL,WAAW,iCAAU,CAAC,SAAS;AAAA,MAC/B,aAAa,iCAAU,CAAC,WAAW;AAAA,MACnC,YAAY;AAAA;AAAA,EACd,GACF,GACF;AAEJ;;;;AChDW;AAX4D;AACA;AAQhE,SAAS,gBAAgB,EAAE,cAAc,aAAa,UAAU,GAAyB;AAC9F,MAAI,gBAAgB,aAAa;AAC/B,WAAO,oCAAC,qBAAqB,IAAE,GAAG,aAAa;AAAA,EACjD;AAEA,MAAI,WAAW;AACb,WAAO,oCAAC,qBAAqB,IAAE,GAAG,WAAW;AAAA,EAC/C;AAEA,SAAO;AACT;;;;AC4CqB;AA/DyC;AAEzB;AACf;AAGU;AAEU;AACV;AACA;AAK4B;AAC3B;AAiBjC,SAAS,yBAAyB,OAA+B;AAC/D,SAAO,yBAAyB,CAAC;AAAA,IAC/B,SAAS,MAAM,QAAQ;AAAA,IACvB,YAAY,MAAM;AAAA,EACpB,CAAC;AACH;AAEO,SAAS,oBAAoB;AAAA,EAClC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA6B;AAC3B,QAAM,EAAE,UAAU,IAAI,sFAA2C,CAAC;AAClE,QAAM,YAAY,wDAAgB,CAAC;AACnC,QAAM,EAAE,eAAe,IAAI,eAAe,CAAC;AAE3C,qBAAS,CAAC,MAAM;AACd,QAAI,OAAO,SAAS,KAAK,wBAAwB;AAC/C,6BAAuB,IAAI;AAAA,IAC7B;AAAA,EACF,GAAG,CAAC,QAAQ,sBAAsB,CAAC;AAEnC,MAAI,CAAC,OAAO,OAAQ,QAAO;AAE3B,SACE,oCAAC,iBAAK,IAAC,eAAa,oBAAoB,CAAC,iBACtC,iBAAO,IAAI,WAAS;AACnB,UAAM,MAAM,MAAM,KAAK;AACvB,UAAM,cAAc,MAAM,KAAK,KAAK,YAAY;AAChD,UAAM,OAAO,oCAAC,mCAAe,IAAC;AAC9B,UAAM,YAAY,MAAM,KAAK;AAE7B,WACE;AAAA,MAAC,eAAe;AAAf;AAAA,QAEC,cAAc,6BAA6B;AAAA,QAC3C,aAAa;AAAA,UACX;AAAA,UACA;AAAA,UACA;AAAA,UACA,SAAS;AAAA,UACT,oBAAoB,eAAe,EAAE,SAAS,KAAK,oBAAoB,CAAC;AAAA,QAC1E;AAAA,QACA,WAAW;AAAA,UACT,kBAAkB,MAAM,QAAQ;AAAA,UAChC;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA,aAAa,yBAAyB,KAAK;AAAA,UAC3C,YAAY;AAAA,QACd;AAAA;AAAA,MAlBK;AAAA,IAmBP;AAAA,EAEJ,CAAC,GACH;AAEJ;;;;AChDiB;AA5C6C;AAG9B;AACgC;AAEtB;AACV;AACA;AACC;AAiB1B,SAAS,eAAe;AAAA,EAC7B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAwB;AACtB,QAAM,YAAY,wDAAgB,CAAC;AACnC,QAAM,EAAE,eAAe,IAAI,eAAe,CAAC;AAE3C,qBAAS,CAAC,MAAM;AACd,QAAI,MAAM,SAAS,KAAK,wBAAwB;AAC9C,6BAAuB,IAAI;AAAA,IAC7B;AAAA,EACF,GAAG,CAAC,OAAO,sBAAsB,CAAC;AAElC,SAAO,MAAM,IAAI,CAAC,MAAM,MAAM;AAC5B,UAAM,MAAM,GAAG,KAAK,KAAK,MAAM,GAAG,CAAC;AACnC,UAAM,cAAc;AACpB,UAAM,OAAO,oCAAC,mCAAe,IAAC;AAC9B,UAAM,YAAY,KAAK,KAAK,kBAAkB,KAAK,KAAK;AAExD,UAAM,mBAAmB,6CAAsB;AAAtB,MACvB,8CAAuB,CAAC,KAAK,QAAQ,gBAAgB;AAAA,MACrD,KAAK,KAAK;AAAA,MACV,KAAK,KAAK;AAAA,IACZ;AACA,UAAM,cAAc,yBAAyB,CAAC;AAAA,MAC5C,SAAS,KAAK,QAAQ;AAAA,MACtB,YAAY,KAAK;AAAA,IACnB,CAAC;AAED,WACE;AAAA,MAAC,eAAe;AAAf;AAAA,QAEC,cAAc,6BAA6B;AAAA,QAC3C,aAAa;AAAA,UACX;AAAA,UACA;AAAA,UACA;AAAA,UACA,SAAS,KAAK,KAAK;AAAA,UACnB,oBAAoB,eAAe,EAAE,SAAS,KAAK,KAAK,UAAU,oBAAoB,CAAC;AAAA,QACzF;AAAA,QACA,WAAW;AAAA,UACT;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA,YAAY,KAAK,KAAK;AAAA,QACxB;AAAA;AAAA,MAjBK;AAAA,IAkBP;AAAA,EAEJ,CAAC;AACH;;;;AC7CiB;AAnC6C;AAE9B;AAEA;AACA;AAEC;AAU1B,SAAS,oBAAoB;AAAA,EAClC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA6B;AAC3B,QAAM,YAAY,wDAAgB,CAAC;AACnC,QAAM,EAAE,eAAe,IAAI,eAAe,CAAC;AAE3C,qBAAS,CAAC,MAAM;AACd,QAAI,OAAO,SAAS,KAAK,wBAAwB;AAC/C,6BAAuB,IAAI;AAAA,IAC7B;AAAA,EACF,GAAG,CAAC,QAAQ,sBAAsB,CAAC;AAEnC,SAAO,OAAO,IAAI,CAAC,OAAO,MAAM;AAC9B,UAAM,MAAM,GAAG,MAAM,KAAK,EAAE,GAAG,CAAC;AAChC,UAAM,cAAc,MAAM,KAAK,KAAK,YAAY;AAChD,UAAM,OAAO,oCAAC,mCAAe,IAAC;AAC9B,UAAM,YAAY,MAAM,KAAK,OAAO,YAAY;AAChD,UAAM,SAAS,MAAM,KAAK;AAE1B,WACE;AAAA,MAAC,eAAe;AAAf;AAAA,QAEC,cAAc,6BAA6B;AAAA,QAC3C,aAAa;AAAA,UACX;AAAA,UACA;AAAA,UACA;AAAA,UACA,SAAS;AAAA,UACT,oBAAoB,eAAe,EAAE,SAAS,QAAQ,oBAAoB,CAAC;AAAA,QAC7E;AAAA,QACA,WAAW;AAAA,UACT,kBAAkB,MAAM,QAAQ;AAAA,UAChC;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA,YAAY;AAAA,QACd;AAAA;AAAA,MAhBK;AAAA,IAiBP;AAAA,EAEJ,CAAC;AACH;;;AC7DA,wDAAe,qBAAuB,yCAAyC;;;ACQ3E;AAR2B;AAEK;AAEpC,MAAM,WAAW;AAEV,SAAS,gBAAgB,OAAoB;AAClD,SACE,qCAAC,0BAAM,CAAC,MAAP,EAAa,GAAG,OACf;AAAA,wCAAC,0BAAM,CAAC,OAAP,EAAa,KAAK,UAAU,KAAK,iBAAkB,EAAE;AAAA,IACtD,oCAAC,0BAAM,CAAC,UAAP,EAAiB,oBAAS;AAAA,KAC7B;AAEJ;;;;AC2BiB;AAxC6C;AAI9B;AACA;AACC;AACD;AAezB,SAAS,oBAAoB;AAAA,EAClC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA6B;AAC3B,QAAM,YAAY,wDAAgB,CAAC;AACnC,QAAM,EAAE,eAAe,IAAI,eAAe,CAAC;AAE3C,qBAAS,CAAC,MAAM;AACd,QAAI,OAAO,SAAS,KAAK,wBAAwB;AAC/C,6BAAuB,IAAI;AAAA,IAC7B;AAAA,EACF,GAAG,CAAC,QAAQ,sBAAsB,CAAC;AAEnC,SAAO,OAAO,IAAI,CAAC,OAAO,MAAM;AAC9B,UAAM,MAAM,GAAG,MAAM,KAAK,MAAM,GAAG,CAAC;AACpC,UAAM,cAAc,MAAM,KAAK,KAAK,YAAY;AAChD,UAAM,OAAO,oCAAC,eAAe,IAAC;AAC9B,UAAM,SAAS,MAAM,KAAK;AAC1B,UAAM,YAAY;AAElB,WACE;AAAA,MAAC,eAAe;AAAf;AAAA,QAEC,cAAc,6BAA6B;AAAA,QAC3C,aAAa;AAAA,UACX;AAAA,UACA;AAAA,UACA;AAAA,UACA,SAAS;AAAA,UACT,oBAAoB,eAAe,EAAE,SAAS,QAAQ,oBAAoB,CAAC;AAAA,QAC7E;AAAA,QACA,WAAW;AAAA,UACT,kBAAkB,MAAM,QAAQ;AAAA,UAChC;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA,YAAY;AAAA,QACd;AAAA;AAAA,MAhBK;AAAA,IAiBP;AAAA,EAEJ,CAAC;AACH;;;;;;AClEsB;AAEf,SAAS,6BAA6B;AAC3C,SAAO,OAAO,KAAK,mBAAK,CAAC,SAAS,EAAE,OAAO,OAAO,QAAQ,EAAE,SAAS;AACvE;;;;ACJ4B;AAIgB;AACD;AAIpC,SAAS,oCAAoC;AAClD,QAAM,uBAAuB,qDAA2B,CAAC;AACzD,QAAM,sBAAsB,0BAA0B,CAAC;AAEvD,SAAO,qBAAW;AAAX,IACL,CAAC,UAAsB;AACrB,UAAI,UAAU,WAAW;AACvB,eAAO;AAAA,MACT;AACA,UAAI,UAAU,UAAU;AACtB,eAAO;AAAA,MACT;AACA,aAAO;AAAA,IACT;AAAA,IACA,CAAC,sBAAsB,mBAAmB;AAAA,EAC5C;AACF;;;;ACYM;AArCsB;AAEL;AAGY;AAET;AAEC;AACwB;AAK5C,SAAS,oBAAoB,EAAE,MAAM,GAA6B;AACvE,QAAM,WAAW,yCAAW,CAAC;AAE7B,QAAM,UAAU,MAAM;AACpB,aAAS,GAAG,KAAK,wBAAwB;AAAA,MACvC,SAAS;AAAA,MACT,OAAO;AAAA,QACL,CAAC,8EAAkC,GAAG;AAAA,QACtC,oBAAoB,EAAE,UAAU,2BAAS,CAAC,KAAK;AAAA,MACjD;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SACE;AAAA,IAAC,0BAAM;AAAN;AAAA,MACC,SAAQ;AAAA,MACR,YAAW;AAAA,MACX,SAAQ;AAAA,MACR,MAAK;AAAA,MACL,KAAI;AAAA,MACJ;AAAA,MAEA;AAAA,4CAAC,8BAAU,IAAC;AAAA,QACZ,qCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAW;AAAA;AAAA,UAAc,mCAAU,CAAC,KAAK;AAAA,WAAE;AAAA;AAAA;AAAA,EACpE;AAEJ;;;;ACVoB;AA5BkB;AAEX;AACuB;AAGd;AAQ7B,SAAS,+BAA+B;AAAA,EAC7C;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAwC;AACtC,QAAM,2BAA2B,iCAAiC,CAAC;AACnE,MAAI,YAAY,iBAAiB,CAAC,yBAAyB,KAAK,EAAG,QAAO;AAC1E,SACE,oCAAC,6BAAS,IAAC,IAAG,YACZ;AAAA,IAAC,8BAAU;AAAV;AAAA,MACC,KAAK;AAAA,MACL,aAAa;AAAA,MACb,WAAW,mCAAU,CAAC,KAAK;AAAA,MAC3B,YAAY,oCAAC,mBAAmB,IAAC,OAAc;AAAA;AAAA,EACjD,GACF;AAEJ;;;;ACII;AArCsC;AACV;AACS;AACT;AACE;AACD;AAa1B,SAAS,oBAAoB;AAAA,EAClC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA6B;AAC3B,QAAM,YAAY,wDAAgB,CAAC;AACnC,QAAM,cAAc,yBAAyB,CAAC;AAAA,IAC5C,SAAS,QAAQ;AAAA,IACjB;AAAA,EACF,CAAC;AACD,QAAM,EAAE,eAAe,IAAI,eAAe,CAAC;AAE3C,QAAM,EAAE,YAAY,mBAAmB,MAAM,OAAO,IAAI;AAExD,QAAM,OACJ;AAAA,IAAC,iBAAiB;AAAjB;AAAA,MACC,OAAM;AAAA,MACN,gBAAgB;AAAA,MAChB,mBAAmB,iDAAwB,CAAC,mBAAmB,IAAI;AAAA,MAElE,eAAK,CAAC;AAAA;AAAA,EACT;AAGF,QAAM,cAAc;AACpB,QAAM,YAAY;AAElB,SACE;AAAA,IAAC,eAAe;AAAf;AAAA,MACC,cAAc,6BAA6B;AAAA,MAC3C,aAAa;AAAA,QACX;AAAA,QACA;AAAA,QACA;AAAA,QACA,SAAS;AAAA,QACT,oBAAoB,eAAe,EAAE,SAAS,YAAY,oBAAoB,CAAC;AAAA,MACjF;AAAA,MACA,WAAW;AAAA,QACT;AAAA,QACA,kBAAkB,QAAQ;AAAA,QAC1B;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA,YAAY;AAAA,QACZ;AAAA,MACF;AAAA;AAAA,EACF;AAEJ;;;;ACnCQ;AAxCsD;AAExC;AAEwD;AAEnC;AAGP;AAU7B,SAAS,oBAAoB;AAAA,EAClC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA6B;AAC3B,QAAM,oBAAoB,wDAAgC,CAAC;AAE3D,qBAAS,CAAC,MAAM;AACd,QAAI,OAAO,SAAS,KAAK,wBAAwB;AAC/C,6BAAuB,IAAI;AAAA,IAC7B;AAAA,EACF,GAAG,CAAC,QAAQ,sBAAsB,CAAC;AAEnC,MAAI,CAAC,OAAO,OAAQ,QAAO;AAE3B,SACE,oCAAC,iBAAK,IACH,iBAAO,IAAI,WACV;AAAA,IAAC,mBAAmB;AAAnB;AAAA,MACC;AAAA,MACA,SAAS,MAAM;AAAA,MAEf,MAAM,MAAM;AAAA,MACZ;AAAA,MACA,YAAY;AAAA,QACV,mDAA0B,CAAC,MAAM,KAAK,UAAU;AAAA,QAChD,MAAM,QAAQ,iBAAiB;AAAA,MACjC;AAAA,MACA;AAAA,MACA;AAAA;AAAA,IARK,MAAM,KAAK,OAAO,MAAM,KAAK;AAAA,EASpC,CACD,GACH;AAEJ;;;;ACWsB;AAjEA;AAEuB;AAKtC;AAC2B;AACQ;AACd;AACM;AACA;AACS;AACT;AACQ;AACN;AACL;AACK;AACA;AACD;AACK;AACP;AACA;AAGc;AACZ;AACC;AAc7B,SAAS,UAAU;AAAA,EACxB;AAAA,EACA,UAAU;AAAA,EACV,2BAA2B;AAAA,EAC3B,yBAAyB;AAAA,EACzB;AAAA,EACA;AACF,GAAmB;AACjB,QAAM,iBAAiB,wDAAuB,CAAC;AAC/C,QAAM,WAAW,6CAAgB,CAAC;AAClC,QAAM,YAAY,wDAAgB,CAAC;AAEnC,QAAM,aAAa,YAAY;AAE/B,SACE,qCAAC,iBAAK,IACH;AAAA,8BACC;AAAA,MAAC,8DAAgC;AAAhC;AAAA,QACC,SAAO;AAAA,QACP,UACE,0BACE;AAAA,UAAC,8BAA8B;AAA9B;AAAA,YACC,OAAM;AAAA,YACN,MAAM,oCAAC,iCAAa,IAAC;AAAA,YACrB,QAAO;AAAA,YACP;AAAA;AAAA,QACF;AAAA,QAIH,mCACC,oCAAC,mDAAyB,IAAC,SAAS,oBAAoB,SACrD,WAAC,SAAS,WAAW,4BACpB;AAAA,UAAC,kBAAkB;AAAlB;AAAA,YACC;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA;AAAA,QACF,GAEJ;AAAA;AAAA,IAEJ;AAAA,IAGF;AAAA,MAAC,0BAA0B;AAA1B;AAAA,QACC,UACG,CAAC,kBAAkB,CAAC,YAAa,CAAC,yBAAyB,OAC1D;AAAA,UAAC,8BAA8B;AAA9B;AAAA,YACC,OAAM;AAAA,YACN,MAAM,oCAAC,iCAAa,IAAC;AAAA,YACrB,QAAO;AAAA,YACP;AAAA;AAAA,QACF;AAAA,QAIH,uBACC,6DACG;AAAA,oCACC,oCAAC,yBAAyB,IAAC,SAAS,QAAQ,SACzC,WAAC,SAAS,cACT;AAAA,YAAC,kBAAkB;AAAlB;AAAA,cACC;AAAA,cACA;AAAA,cACA;AAAA,cACA;AAAA;AAAA,UACF,GAEJ;AAAA,UAEF,oCAAC,iBAAiB,IAAC,SAAS,QAAQ,SAAS,aAAa,QACvD,WAAC,EAAE,WAAW,QAAQ,oBAAoB,MACzC;AAAA,YAAC,mBAAmB;AAAnB;AAAA,cACC;AAAA,cACA;AAAA,cACA;AAAA,cACA;AAAA,cACA;AAAA,cACA;AAAA;AAAA,UACF,GAEJ;AAAA,UACC,cACC,oCAAC,iBAAiB,IAAC,SAAS,QAAQ,SAAS,QAC1C,WAAC,EAAE,QAAQ,oBAAoB,MAC9B;AAAA,YAAC,mBAAmB;AAAnB;AAAA,cACC;AAAA,cACA;AAAA,cACA;AAAA,cACA;AAAA;AAAA,UACF,GAEJ;AAAA,WAEJ;AAAA;AAAA,IAEJ;AAAA,IAEA,oCAAC,8DAAgC,IAAC,SAAO,MACtC,mCACC,oCAAC,yDAA2B,IAAC,SAAO,MACjC,8BACC,6DACG;AAAA,oBACC,oCAAC,iBAAiB,IAAC,QAChB,WAAC,EAAE,QAAQ,oBAAoB,MAC9B;AAAA,QAAC,mBAAmB;AAAnB;AAAA,UACC;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA;AAAA,MACF,GAEJ;AAAA,MAED,cACC,6DACE;AAAA,4CAAC,iBAAiB,IAAC,QAAgB,SAAS,oBAAoB,SAC7D,WAAC,EAAE,QAAQ,oBAAoB,MAC9B;AAAA,UAAC,mBAAmB;AAAnB;AAAA,YACC;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA;AAAA,QACF,GAEJ;AAAA,QACA;AAAA,UAAC,WAAW;AAAX;AAAA,YACC,WAAW,CAAC,oBAAoB,SAAS,eAAe,OAAO;AAAA,YAC/D;AAAA,YAEC,WAAC,EAAE,QAAQ,oBAAoB,MAC9B;AAAA,cAAC,cAAc;AAAd;AAAA,gBACC,OAAO;AAAA,gBACP;AAAA,gBACA;AAAA,gBACA;AAAA;AAAA,YACF;AAAA;AAAA,QAEJ;AAAA,SACF;AAAA,OAEJ,GAEJ,GAEJ;AAAA,KACF;AAEJ;;;;ACrLI;AAdqB;AAES;AACI;AAEmC;AAE/C;AAEnB,SAAS,eAAe;AAC7B,QAAM,CAAC,kBAAkB,mBAAmB,IAAI,kBAAQ,CAAC,KAAK;AAC9D,QAAM,CAAC,qBAAqB,sBAAsB,IAAI,kBAAQ,CAAC,KAAK;AAEpE,SACE,6DACE;AAAA;AAAA,MAAC,6BAAS;AAAT;AAAA,QACC,eAAa,iBAAiB,CAAC;AAAA,QAC/B,IAAG;AAAA,QACH,SAAS,MAAM;AACb,8BAAoB,CAAC,gBAAgB;AAAA,QACvC;AAAA,QAEA,+CAAC,kBAAM,IAAC,YAAW,UAAS,gBAAe,iBAAgB,OAAM,QAC/D;AAAA,8CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,WAAU,2BAAa;AAAA,UAC9C,oCAAC,oCAAgB,IAAC,SAAQ,SAAQ;AAAA,WACpC;AAAA;AAAA,IACF;AAAA,IAEA;AAAA,MAAC,yBAAK;AAAL;AAAA,QACC,WAAW;AAAA,QACX,SAAS,MAAM,oBAAoB,CAAC,gBAAgB;AAAA,QACpD,QAAQ,oCAAC,+BAAW,IAAC,OAAM,iBAAgB;AAAA,QAE3C,+CAAC,iBAAK,IAAC,KAAI,YAAW,IAAG,YAAW,eAAa,iBAAiB,CAAC,wBACjE;AAAA;AAAA,YAAC,SAAS;AAAT;AAAA,cACC,0BAAyB;AAAA,cACzB,QAAO;AAAA,cACP,wBAAwB;AAAA,cACxB;AAAA;AAAA,UACF;AAAA,UAEC,CAAC,uBACA,oCAAC,iBAAK,IAAC,GAAE,QAAO,SAAQ,UAAS,OAAM,UACrC,8CAAC,2BAAO,IAAC,6BAAe,GAC1B;AAAA,WAEJ;AAAA;AAAA,IACF;AAAA,KACF;AAEJ;;;;AChD2B;AAGyB;AACL;AAKxC,SAAS,2BAA2B,EAAE,SAAS,GAAoC;AACxF,QAAM,eAAe,2EAAmC,CAAC,IAAI,4BAAU;AACvE,QAAM,UAAU,gEAA8B,CAAC,IAAI,4BAAU;AAC7D,MAAI,CAAC,WAAW,CAAC,aAAc,QAAO;AACtC,SAAO,SAAS,EAAE,cAAc,QAAQ,CAAC;AAC3C;;;;AChBO,IAAK,2BAAL,kBAAKC,8BAAL;AACL,EAAAA,0BAAA,sBAAmB;AACnB,EAAAA,0BAAA,gCAA6B;AAC7B,EAAAA,0BAAA,yBAAsB;AACtB,EAAAA,0BAAA,sBAAmB;AACnB,EAAAA,0BAAA,wCAAqC;AACrC,EAAAA,0BAAA,kCAA+B;AAC/B,EAAAA,0BAAA,mCAAgC;AAChC,EAAAA,0BAAA,4BAAyB;AACzB,EAAAA,0BAAA,6BAA0B;AAC1B,EAAAA,0BAAA,4BAAyB;AACzB,EAAAA,0BAAA,8BAA2B;AAC3B,EAAAA,0BAAA,oBAAiB;AACjB,EAAAA,0BAAA,sBAAmB;AACnB,EAAAA,0BAAA,kCAA+B;AAC/B,EAAAA,0BAAA,0CAAuC;AACvC,EAAAA,0BAAA,iCAA8B;AAC9B,EAAAA,0BAAA,iCAA8B;AAC9B,EAAAA,0BAAA,yBAAsB;AACtB,EAAAA,0BAAA,8BAA2B;AAC3B,EAAAA,0BAAA,wCAAqC;AACrC,EAAAA,0BAAA,cAAW;AACX,EAAAA,0BAAA,gBAAa;AAEb,EAAAA,0BAAA,mBAAgB;AAGhB,EAAAA,0BAAA,yBAAsB;AACtB,EAAAA,0BAAA,+BAA4B;AAG5B,EAAAA,0BAAA,iBAAc;AACd,EAAAA,0BAAA,2BAAwB;AAhCd,SAAAA;AAAA;;;;ACiBR;AAfgB;AAEyB;AAOtC,SAAS,iBAAiB;AAAA,EAC/B;AAAA,EACA;AAAA,EACA;AACF,GAA0B;AACxB,SACE;AAAA,IAAC,eAAG;AAAH;AAAA,MACC,cAAc,EAAE,SAAS,UAAU;AAAA,MACnC,SAAQ;AAAA,MACR,QAAO;AAAA,MACP,MAAK;AAAA,MACL,SAAQ;AAAA,MACR,UAAS;AAAA,MACT,UAAS;AAAA,MACT,OAAO,EAAE,SAAS,YAAY,YAAY,IAAI;AAAA,MAC9C,KAAI;AAAA,MACJ,OAAM;AAAA,MAEN;AAAA;AAAA,UAAC,eAAG;AAAH;AAAA,YACC,QAAO;AAAA,YACP,QAAO;AAAA,YACP,MAAK;AAAA,YACL,UAAS;AAAA,YACT,OAAM;AAAA,YACN,QAAQ;AAAA,YAEP;AAAA;AAAA,QACH;AAAA,QACC,uBACC,oCAAC,eAAG,IAAC,IAAG,0BAAyB,UAAS,YAAW,OAAM,QAAO,KAAI,QAAO,QAAQ,KACnF;AAAA,UAAC,8BAAU;AAAV;AAAA,YACC,QAAQ,EAAE,SAAS,QAAQ;AAAA,YAC3B,QAAQ,EAAE,IAAI,iCAAiC;AAAA,YAC/C,IAAG;AAAA,YACH,OAAM;AAAA,YACN,MAAM,oCAAC,oCAAgB,IAAC;AAAA,YACxB,SAAS,OAAK;AACZ,gBAAE,gBAAgB;AAClB,kCAAoB;AAAA,YACtB;AAAA;AAAA,QACF,GACF;AAAA;AAAA;AAAA,EAEJ;AAEJ;;;;ACPM;AA/CmC;AACN;AACb;AACG;AAEQ;AAa1B,SAAS,sBAAsB;AAAA,EACpC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAA+B;AAC7B,QAAM,CAAC,WAAW,IAAI,IAAI,6BAAQ,CAAC;AAEnC,SACE;AAAA,IAAC,eAAG;AAAH;AAAA,MACC,QAAQ;AAAA,QACN,SAAS,gBAAgB,UAAU;AAAA,QACnC,eAAe,gBAAgB,SAAS;AAAA,MAC1C;AAAA,MACA,QAAQ,EAAE,IAAI,2BAA2B;AAAA,MACzC,cAAa;AAAA,MACb,QAAQ,gBAAgB,YAAY;AAAA,MACpC,SAAS;AAAA,MACT,GAAE;AAAA,MACF,WAAU;AAAA,MACV,OAAM;AAAA,MACL,GAAG;AAAA,MACH,GAAG;AAAA,MAEJ;AAAA,6CAAC,eAAG,IAAC,QAAO,OAAM,UAAS,YAAW,IAAG,QACvC;AAAA;AAAA,YAAC,gBAAgB;AAAhB;AAAA,cACC;AAAA,cACA;AAAA,cACA;AAAA;AAAA,UACF;AAAA,UACA;AAAA,YAAC,eAAG;AAAH;AAAA,cACC,YAAW;AAAA,cACX,cAAa;AAAA,cACb,SAAQ;AAAA,cACR,QAAO;AAAA,cACP,gBAAe;AAAA,cACf,MAAK;AAAA,cACL,UAAS;AAAA,cACT,UAAS;AAAA,cACT,OAAO;AAAA,gBACL,iBAAiB,aACb,uBAAK,CAAC,+BAA+B,IACrC,uBAAK,CAAC,yCAAyC;AAAA,gBACnD,QAAQ,aAAa,uBAAK,CAAC,gBAAgB,IAAI;AAAA,cACjD;AAAA,cACA,KAAI;AAAA,cACJ,OAAM;AAAA,cAEL;AAAA;AAAA,UACH;AAAA,WACF;AAAA,QACA,qCAAC,iBAAK,IAAC,KAAI,YAAW,IAAG,YAAW,IAAG,YAAW,WAAU,QAC1D;AAAA;AAAA,YAAC,kBAAM,CAAC;AAAA,YAAP;AAAA,cACC,UAAS;AAAA,cACT,cAAa;AAAA,cACb,WAAU;AAAA,cACV,YAAW;AAAA,cACX,OAAM;AAAA,cAEL;AAAA;AAAA,UACH;AAAA,UACA,oCAAC,kBAAM,CAAC,MAAP,EAAY,OAAM,oBAAmB,WAAU,cAC7C,oBACH;AAAA,WACF;AAAA,QACC,cACC,oCAAC,eAAG,IAAC,GAAE,YACL;AAAA,UAAC,kBAAM,CAAC;AAAA,UAAP;AAAA,YACC,eAAa,wBAAwB,CAAC;AAAA,YACtC,QAAQ,EAAE,UAAU,QAAQ,SAAS,QAAQ;AAAA,YAC7C,QAAQ,EAAE,IAAI,yBAAyB;AAAA,YACvC,IAAG;AAAA,YACH,cAAa;AAAA,YACb,UAAU,YAAY,SAAS;AAAA,YAC/B,YAAY;AAAA,YACZ,SAAS,OAAK;AACZ,gBAAE,gBAAgB;AAClB,0BAAY;AAAA,YACd;AAAA,YACA,IAAG;AAAA,YACH,IAAG;AAAA,YACH,WAAU;AAAA,YACV,MAAK;AAAA,YACN;AAAA;AAAA,QAED,GACF,IAEA,oCAAC,eAAG,IAAC,GAAE,YAAW;AAAA;AAAA;AAAA,EAEtB;AAEJ;;;;ACzFM;AA5BmC;AAEhB;AAEC;AACA;AAEY;AAE/B,SAAS,iBAAiB;AAC/B,QAAM,WAAW,yCAAW,CAAC;AAE7B,QAAM,WAAW,yCAAW,CAAC;AAE7B,SACE;AAAA,IAAC,qBAAqB;AAArB;AAAA,MACC,eAAe,MAAM;AACnB,aAAK,2BAAS,CAAC,MAAM,4BAA4B;AACjD,iBAAS,GAAG,2BAAS,CAAC,IAAI,GAAG,2BAAS,CAAC,kBAAkB,IAAI;AAAA,UAC3D,OAAO;AAAA,YACL,oBAAoB;AAAA,UACtB;AAAA,QACF,CAAC;AAAA,MACH;AAAA,MACA,YAAU;AAAA,MACV,UAAS;AAAA,MACT,OAAM;AAAA,MAEN,8CAAC,4BAAQ,IAAC,QAAQ,IAAI,OAAO,IAAI;AAAA;AAAA,EACnC;AAEJ;;;;ACzBI;AANiB;AAId,SAAS,6BAA6B,EAAE,SAAS,GAAgB;AACtE,SACE;AAAA,IAAC,gBAAI;AAAJ;AAAA,MACC,YAAW;AAAA,MACX,IAAG;AAAA,MACH,eAAc;AAAA,MACd,QAAO;AAAA,MACP,gBAAe;AAAA,MACf,WAAU;AAAA,MACV,OAAM;AAAA,MAEL;AAAA;AAAA,EACH;AAEJ;;;;ACJQ;AAZoB;AAEsC;AACrB;AAKtC,SAAS,iBAAiB,EAAE,MAAM,GAAG,MAAM,GAA0B;AAC1E,SACE,oCAAC,qBAAqB,IAAC,qBAAqB,MAAO,GAAG,OACpD,8CAAC,4BAA4B,IAC3B,8CAAC,+BAAW,IAAC,QAAQ,IAAI,OAAO,IAAI,GACtC,GACF;AAEJ;;;;ACII;AARoC;AAMjC,SAAS,OAAO,EAAE,SAAS,KAAK,GAAG,MAAM,GAAgB;AAC9D,SACE;AAAA,IAAC,kBAAM,CAAC;AAAA,IAAP;AAAA,MACC,SAAQ;AAAA,MACR;AAAA,MACA,UAAS;AAAA,MACT,eAAc;AAAA,MACd,SAAQ;AAAA,MACR;AAAA,MACA,YAAW;AAAA,MACV,GAAG;AAAA;AAAA,EACN;AAEJ;;;;ACzBI;AARmB;AAEQ;AAEc;AAEtC,SAAS,mBAAmB;AACjC,SACE,qCAAC,4BAA4B,IAC3B;AAAA,wCAAC,kCAAc,IAAC;AAAA,IAChB,oCAAC,kBAAM,CAAC,MAAP,EAAY,IAAG,YAAW,IAAG,YAAW,WAAU,YAAW,yCAE9D;AAAA,KACF;AAEJ;;;;ACEQ;AAjB4B;AAEb;AAE2C;AACjC;AAM1B,SAAS,kBAAkB,EAAE,MAAM,KAAK,GAAG,MAAM,GAA2B;AACjF,QAAM,CAAC,SAAS,UAAU,IAAI,kBAAQ,CAAC,KAAK;AAE5C,MAAI;AACF,WACE,oCAAC,qBAAqB,IAAC,qBAAqB,MAAO,GAAG,OACpD,8CAAC,gBAAgB,IAAC,GACpB;AAGJ,SACE,oCAAC,qBAAqB,IAAC,qBAAqB,MAAO,GAAG,OACpD;AAAA,IAAC,MAAM;AAAN;AAAA,MACC,aAAY;AAAA,MACZ,QAAO;AAAA,MACP,WAAU;AAAA,MACV,SAAS,MAAM,WAAW,IAAI;AAAA,MAC9B;AAAA,MACA,OAAM;AAAA,MACN,QAAQ;AAAA;AAAA,EACV,GACF;AAEJ;;;;ACfQ;AAnB4B;AAE8B;AACjC;AAO1B,SAAS,iBAAiB,OAA8B;AAC7D,QAAM,EAAE,KAAK,MAAM,KAAK,GAAG,KAAK,IAAI;AACpC,QAAM,CAAC,SAAS,UAAU,IAAI,kBAAQ,CAAC,KAAK;AAC5C,QAAM,CAAC,WAAW,YAAY,IAAI,kBAAQ,CAAC,IAAI;AAC/C,QAAM,CAAC,OAAO,QAAQ,IAAI,kBAAQ,CAAC,CAAC;AAEpC,MAAI;AACF,WACE,oCAAC,qBAAqB,IAAC,qBAAqB,MAAO,GAAG,MACpD,8CAAC,gBAAgB,IAAC,GACpB;AAGJ,SACE,oCAAC,qBAAqB,IAAC,qBAAqB,MAAO,GAAG,MACpD;AAAA,IAAC;AAAA;AAAA,MACC;AAAA,MACA,SAAS,MAAM,WAAW,IAAI;AAAA,MAC9B,SAAQ;AAAA,MACR,QAAQ,WAAS;AACf,cAAM,SAAS,MAAM;AACrB,iBAAS,OAAO,YAAY;AAC5B,qBAAa,KAAK;AAAA,MACpB;AAAA,MACA;AAAA,MACA,OAAO;AAAA,QACL,OAAO;AAAA,QACP,QAAQ;AAAA,QACR,aAAa;AAAA,QACb,WAAW;AAAA;AAAA,QAEX,SAAS,YAAY,MAAM;AAAA,QAC3B,gBAAgB,SAAS,KAAK,cAAc;AAAA,MAC9C;AAAA;AAAA,EACF,GACF;AAEJ;;;;ACrCM;AAVc;AAE8C;AAK3D,SAAS,iBAAiB,EAAE,UAAU,GAAG,MAAM,GAA0B;AAC9E,SACE,oCAAC,qBAAqB,IAAE,GAAG,OACzB;AAAA,IAAC,eAAG;AAAH;AAAA,MACC,YAAW;AAAA,MACX,IAAG;AAAA,MACH,SAAQ;AAAA,MACR,QAAO;AAAA,MACP,gBAAe;AAAA,MACf,OAAM;AAAA,MAEL;AAAA;AAAA,EACH,GACF;AAEJ;;;;ACWM;AAjCqB;AACP;AACA;AAEmB;AAEhC,SAAS,UAAU,SAAiB;AACzC,MAAI;AACF,WAAO,KAAK,UAAU,KAAK,MAAM,OAAO,GAAG,MAAM,CAAC;AAAA,EACpD,SAAS,GAAG;AACV,WAAO;AAAA,EACT;AACF;AAEA,SAAS,kBAAkB,OAAY;AACrC,MAAI,+BAAQ,CAAC,KAAK,EAAG,QAAO,MAAM,SAAS;AAC3C,MAAI,mCAAY,CAAC,KAAK,EAAG,QAAO,gCAAU,CAAC,KAAK;AAChD,SAAO;AACT;AAEO,SAAS,KAAK,OAAY;AAC/B,SACE;AAAA,IAAC,eAAG;AAAH;AAAA,MACC,WAAW,mBAAG,CAAC;AAAA,QACb,SAAS;AAAA,UACP,WAAW;AAAA,UACX,YAAY;AAAA,UACZ,UAAU;AAAA,QACZ;AAAA,MACF,CAAC;AAAA,MACD,WAAU;AAAA,MACV,IAAG;AAAA,MAEH,8CAAC,SAAK,eAAK,UAAU,OAAO,CAAC,GAAG,MAAM,kBAAkB,CAAC,GAAG,CAAC,GAAE;AAAA;AAAA,EACjE;AAEJ;;;;ACTM;AA3BmB;AACL;AAKb,SAAS,sBAAsB,EAAE,SAAS,GAA+B;AAC9E,SACE;AAAA,IAAC,eAAG;AAAH;AAAA,MACC,QAAQ;AAAA,QACN,SAAS;AAAA,QACT,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,iBAAiB;AAAA,MACnB;AAAA,MACA,IAAG;AAAA,MACH,OAAM;AAAA,MACN,QAAO;AAAA,MACP,GAAE;AAAA,MACF,UAAS;AAAA,MACT,UAAS;AAAA,MACT,WAAU;AAAA,MACV,OAAM;AAAA,MAEN,8CAAC,SAAK,6BAAQ,CAAC,QAAQ,GAAE;AAAA;AAAA,EAC3B;AAEJ;;;;ACnBM;AAX4D;AAC5B;AAM/B,SAAS,gBAAgB,OAA6B;AAC3D,QAAM,EAAE,SAAS,MAAM,GAAG,KAAK,IAAI;AACnC,SACE,oCAAC,qBAAqB,IAAC,qBAAqB,MAAO,GAAG,MACpD,8CAAC,qBAAqB,IAAE,mBAAQ,GAClC;AAEJ;;;;ACcY;AA5B6B;AAES;AAChB;AAER;AAEM;AAQzB,SAAS,gBAAgB;AAAA,EAC9B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAyB;AACvB,QAAM,QAAQ,yDAAiC,CAAC,UAAU;AAE1D,MAAI,MAAM,aAAa,MAAM,QAAS,QAAO;AAE7C,SACE;AAAA,IAAC,eAAe;AAAf;AAAA,MACC,eAAa,wBAAwB,CAAC;AAAA,MACtC,MAAM,oCAAC,qCAAiB,IAAC,MAAK,MAAK;AAAA,MAEnC;AAAA,MACA;AAAA,MACA,SAAS,SAAS,CAAC,MAAM,IAAI;AAAA,MAC7B,UAAS;AAAA,MACT,OAAO,KAAK,iBAAiB;AAAA;AAAA,IALxB;AAAA,EAMP;AAEJ;;;;ACCgB;AAtCyB;AAGP;AAEP;AACD;AAEG;AAEI;AACC;AACD;AACA;AACD;AAMhC,SAAS,mBAAmB,KAAa;AACvC,SAAO,uCAAY,CAAC,GAAG,4BAAU,IAAI,GAAG,EAAE;AAC5C;AAEO,SAAS,YAAY,EAAE,YAAY,GAAqB;AAC7D,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,WAAW,yCAAW,CAAC;AAE7B,WAAS,2BAA2B;AAClC,aAAS,2BAAS,CAAC,wBAAwB;AAAA,MACzC,OAAO,EAAE,aAAa,oBAAoB,SAAS;AAAA,IACrD,CAAC;AAAA,EACH;AAEA,UAAQ,YAAY,UAAU;AAAA,IAC5B,KAAK;AACH,aACE;AAAA,QAAC,gBAAgB;AAAhB;AAAA,UACC,MAAM,oCAAC,qCAAiB,IAAC,MAAK,MAAK;AAAA,UAEnC,qBAAqB,MAAM,mBAAmB,YAAY,MAAM;AAAA,UAChE,aAAa,MAAM,yBAAyB;AAAA,UAC5C,UAAS;AAAA,UACT,OAAO,KAAK,YAAY,MAAM;AAAA;AAAA,QAJzB,YAAY;AAAA,MAKnB;AAAA,IAEJ,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AACH,aACE;AAAA,QAAC,iBAAiB;AAAjB;AAAA,UACC,MAAM,oCAAC,qCAAiB,IAAC,MAAK,MAAK;AAAA,UAEnC,qBAAqB,MAAM,mBAAmB,YAAY,MAAM;AAAA,UAChE,aAAa,MAAM,yBAAyB;AAAA,UAC5C,KAAK,YAAY;AAAA,UACjB,UAAS;AAAA,UACT,OAAO,KAAK,YAAY,MAAM;AAAA;AAAA,QALzB,YAAY;AAAA,MAMnB;AAAA,IAEJ,KAAK;AACH,aACE;AAAA,QAAC,gBAAgB;AAAhB;AAAA,UACC,MAAM,oCAAC,qCAAiB,IAAC,MAAK,MAAK;AAAA,UAEnC,qBAAqB,MAAM,mBAAmB,YAAY,MAAM;AAAA,UAChE,aAAa,MAAM,yBAAyB;AAAA,UAC5C,KAAK,YAAY;AAAA,UACjB,UAAS;AAAA,UACT,OAAO,KAAK,YAAY,MAAM;AAAA;AAAA,QALzB,YAAY;AAAA,MAMnB;AAAA,IAEJ,KAAK;AACH,aACE;AAAA,QAAC,eAAe;AAAf;AAAA,UACC,YAAY,YAAY;AAAA,UACxB,mBAAmB,YAAY;AAAA,UAC/B,qBAAqB,MAAM,mBAAmB,YAAY,MAAM;AAAA,UAChE,aAAa,MAAM,yBAAyB;AAAA;AAAA,MAC9C;AAAA,IAEJ,KAAK;AACH,aACE;AAAA,QAAC,gBAAgB;AAAhB;AAAA,UAEC,qBAAqB,MAAM,mBAAmB,YAAY,MAAM;AAAA,UAChE,aAAa,MAAM,yBAAyB;AAAA,UAC5C,UAAS;AAAA,UACT,OAAO,KAAK,YAAY,MAAM;AAAA,UAE9B,8CAAC,qCAAiB,IAAC,MAAK,MAAK;AAAA;AAAA,QANxB,YAAY;AAAA,MAOnB;AAAA,IAEJ;AACE,aAAO;AAAA,EACX;AACF;;;;ACpCI;AA7DsB;AACA;AAEN;AAEY;AAEN;AAEmC;AACpB;AAEb;AAKrB,SAAS,SAAS,EAAE,iBAAiB,GAAkB;AAC5D,QAAM,UAAU,0DAAwB,CAAC;AACzC,QAAM,qBAAqB,oFAA4C,CAAC;AAExE,QAAM,SAAS,uCAAe,CAAC;AAAA,IAC7B,iBAAiB,SAAS;AAAA,IAC1B,qBAAqB,mBAAmB;AAAA,EAC1C,CAAC;AAED,QAAM,EAAE,KAAK,sBAAsB,OAAO,IAAI,iDAAS,CAAC;AAAA,IACtD,YAAY;AAAA,EACd,CAAC;AAED,qBAAS,CAAC,MAAM;AACd,mBAAe,gBAAgB;AAC7B,UAAI,CAAC,OAAO,eAAe,OAAO,aAAa,OAAO,mBAAoB;AAC1E,UAAI;AACF,yBAAiB,IAAI;AACrB,cAAM,OAAO,cAAc;AAAA,MAC7B,SAAS,GAAG;AAAA,MAGZ,UAAE;AACA,yBAAiB,KAAK;AAAA,MACxB;AAAA,IACF;AACA,QAAI,QAAQ;AACV,WAAK,cAAc;AAAA,IACrB;AAAA,EACF,GAAG,CAAC,QAAQ,QAAQ,gBAAgB,CAAC;AAErC,qBAAS,CAAC,MAAM;AACd,UAAM,qBAAqB,OAAO,aAAa,UAAU;AACzD,QAAI,qBAAqB,GAAG;AAC1B,WAAK,2BAAS,CAAC,MAAM,qBAAqB;AAAA,QACxC,gBAAgB;AAAA,MAClB,CAAC;AACD,WAAK,2BAAS,CAAC,SAAS,EAAE,gBAAgB,mBAAmB,CAAC;AAAA,IAChE;AAAA,EACF,GAAG,CAAC,OAAO,aAAa,MAAM,CAAC;AAE/B,MAAI,CAAC,OAAO,aAAc,QAAO;AAEjC,SACE,6DACG;AAAA,WAAO,aAAa,IAAI,iBACvB,oCAAC,WAAW,IAAC,eAA+B,YAAY,EAAI,CAC7D;AAAA,IACD,oCAAC,eAAG,IAAC,KAAK,sBAAsB;AAAA,KAClC;AAEJ;;;ACpEA,yDAAe,qBAAuB,yCAAyC;;;ACQ3E;AAR4B;AAES;AAEzC,MAAM,2BAAQ,GAAG;AAEV,SAAS,iBAAiB,OAAoB;AACnD,SACE,qCAAC,0BAAM,CAAC,MAAP,EAAa,GAAG,OACf;AAAA,wCAAC,0BAAM,CAAC,OAAP,EAAa,KAAK,2BAAQ,EAAE,KAAK,kBAAmB,EAAE;AAAA,IACvD,oCAAC,0BAAM,CAAC,UAAP,EAAiB,qCAAQ,EAAC;AAAA,KAC7B;AAEJ;;;;ACCY;AAZiB;AACI;AAEA;AAEjC,MAAM,qBAAqB;AAEpB,SAAS,MAAM,OAAuC;AAC3D,QAAM,EAAE,aAAa,IAAI;AAEzB,SACE;AAAA,IAAC,gBAAgB;AAAhB;AAAA,MACC,MAAM,oCAAC,gBAAgB,IAAC,MAAK,MAAK;AAAA,MAElC,qBAAqB,MAAM,uCAAY,CAAC,GAAG,kBAAkB,GAAG,aAAa,KAAK,EAAE;AAAA,MACpF,KAAK,aAAa;AAAA,MAClB,UAAS;AAAA,MACT,OAAO,KAAK,aAAa,KAAK;AAAA;AAAA,IAJzB,aAAa;AAAA,EAKpB;AAEJ;;;;ACIyB;AA1BC;AAES;AAET;AAEoC;AAExC;AAEf,SAAS,SAAS;AACvB,QAAM,2BAA2B,qFAA6C,CAAC;AAC/E,QAAM,EAAE,MAAM,SAAS,CAAC,EAAE,IAAI,0CAAkB,CAAC,wBAAwB;AAEzE,qBAAS,CAAC,MAAM;AACd,QAAI,CAAC,OAAO,OAAQ;AACpB,QAAI,OAAO,SAAS,GAAG;AACrB,WAAK,2BAAS,CAAC,MAAM,qBAAqB;AAAA,QACxC,cAAc,OAAO;AAAA,MACvB,CAAC;AACD,WAAK,2BAAS,CAAC,SAAS,EAAE,cAAc,OAAO,OAAO,CAAC;AAAA,IACzD;AAAA,EACF,GAAG,CAAC,MAAM,CAAC;AAEX,MAAI,CAAC,OAAO,OAAQ,QAAO;AAE3B,SAAO,OAAO,IAAI,OAAK,oCAAC,KAAK,IAAC,cAAc,KAAQ,EAAE,OAAS,CAAE;AACnE;;;;ACHI;AAxBuC;AACrB;AAE4B;AAEnB;AAUxB,SAAS,mBAAmB;AAAA,EACjC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA4B;AAC1B,SACE,6DACE;AAAA,yCAAC,gBAAI,IAAC,eAAc,OAAM,gBAAe,iBAAgB,YAAW,UAAS,MAAM,GACjF;AAAA,2CAAC,kBAAM,IAAC,WAAU,YAChB;AAAA,4CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAW,UAAS,YACxC,iBACH;AAAA,QACC,YACC,oCAAC,2BAAO,IAAC,OAAO,uBAAK,CAAC,yBAAyB,GAAG,SAAS,KAAK,IAEhE;AAAA,UAAC,4CAAwB;AAAxB;AAAA,YACC,QAAO;AAAA,YACP,SAAS,MAAM,UAAU;AAAA,YACzB,SAAQ;AAAA;AAAA,QACV;AAAA,SAEJ;AAAA,MACC;AAAA,OACH;AAAA,IACA;AAAA,MAAC,gBAAI;AAAJ;AAAA,QACC,qBAAqB;AAAA,UACnB,MAAM;AAAA,UACN,IAAI;AAAA,QACN;AAAA,QAEC;AAAA;AAAA,IACH;AAAA,IACC,iBAAiB,oCAAC,cAAc,IAAC;AAAA,KACpC;AAEJ;;;ACrDA,qDAAe,qBAAuB,yCAAyC;;;ACWpD;AAXF;AAEK;AAEQ;AAE/B,SAAS,cAAc,OAA4B;AACxD,QAAM,EAAE,QAAQ,IAAI;AAEpB,SACE;AAAA,IAAC,qBAAqB;AAArB;AAAA,MACC,qBAAqB,oCAAC,iCAAa,IAAC,MAAK,MAAK;AAAA,MAC9C,UAAS;AAAA,MACT,OAAO;AAAA,MAEP,8CAAC,SAAI,KAAI,aAAY,KAAK,cAAY,EAAE,OAAM,SAAQ;AAAA;AAAA,EACxD;AAEJ;;;;ACHgC;AAbF;AAEH;AAEM;AACA;AAK1B,SAAS,wBAAwB,EAAE,SAAS,GAAiC;AAClF,QAAM,mBAAmB,SAAS,gBAAgB,kCAAU,CAAC,SAAS,YAAY;AAElF,MAAI,CAAC,iBAAkB,QAAO,oCAAC,gBAAgB,IAAC;AAEhD,SACE;AAAA,IAAC,gBAAgB;AAAhB;AAAA,MACC,KAAI;AAAA,MACJ,MAAM,oCAAC,iCAAa,IAAC,MAAK,MAAK;AAAA,MAC/B,KAAK,SAAS,gBAAgB;AAAA,MAC9B,UAAS;AAAA,MACT,OAAO,SAAS,QAAQ;AAAA;AAAA,EAC1B;AAEJ;;;;ACMI;AAhCsB;AAKnB;AAEmB;AAEW;AAEP;AACU;AAKjC,SAAS,mBAAmB,EAAE,QAAQ,GAA4B;AACvE,QAAM,QAAQ,yDAAiC,CAAC,OAAO,EAAE,MAAM;AAE/D,QAAM,yBAAyB,0DAAkC,CAAC,OAAO;AAEzE,qBAAS,CAAC,MAAM;AACd,QAAI,uBAAuB,SAAS,GAAG;AACrC,WAAK,2BAAS,CAAC,MAAM,qBAAqB;AAAA,QACxC,mBAAmB,uBAAuB;AAAA,MAC5C,CAAC;AACD,WAAK,2BAAS,CAAC,SAAS,EAAE,mBAAmB,uBAAuB,OAAO,CAAC;AAAA,IAC9E;AAAA,EACF,GAAG,CAAC,uBAAuB,MAAM,CAAC;AAElC,SACE,6DACI;AAAA,cAAS,CAAC,GAAG,IAAI,UACjB,oCAAC,aAAa,IAAC,SAAS,6CAAoB,CAAC,IAAI,KAAQ,IAAM,CAChE;AAAA,IACA,uBAAuB,IAAI,CAAC,KAAK,MAAM;AACtC,UAAI,CAAC,OAAO,CAAC,IAAI,SAAU,QAAO;AAClC,aAAO,oCAAC,uBAAuB,IAAS,UAAU,IAAI,YAAjB,CAA2B;AAAA,IAClE,CAAC;AAAA,KACH;AAEJ;;;;ACTM;AAjC0C;AAC3B;AACO;AAEoC;AACzB;AACsB;AACpB;AACZ;AAE7B,MAAM,iCAAiC;AAAA;AAAA;AAAA;AAQhC,SAAS,wBAAwB,EAAE,wBAAwB,GAAiC;AACjG,QAAM,sBAAsB,mDAAsB,CAAC;AACnD,QAAM,UAAU,0DAAwB,CAAC;AACzC,QAAM,qBAAqB,oFAA4C,CAAC;AAExE,QAAM,UAAU,uDAA+B,CAAC;AAAA,IAC9C;AAAA,IACA,iBAAiB,SAAS;AAAA,IAC1B,qBAAqB,mBAAmB;AAAA,EAC1C,CAAC;AACD,QAAM,0BAA0B,+EAA+C,CAAC;AAChF,MAAI,CAAC,wBAAyB,QAAO;AACrC,MAAI,QAAQ,OAAO,oBAAoB,CAAC,EAAG,QAAO;AAClD,SACE,oCAAC,iCAAY,IAAC,OAAO,gCAAgC,SAAO,MAC1D,8CAAC,wBAAI,IAAC,SAAS,MAAM,wBAAwB,GAAG,WAAU,cAAa,SAAQ,QAC5E,4CAAW,CAAC,OAAO,GACtB,GACF;AAEJ;;;;;;ACtC8B;AAE4B;AAC/B;AAE3B,SAAS,yBAAyB,MAAgB;AAChD,SAAO,iCAAU,CAAC,IAAI,EAAE,SAAS,IAAI;AACvC;AAEO,SAAS,wCAAwC;AAEtD,QAAM,KAAK,sCAAa,CAAC,EAAE,UAAU,CAAC,wCAAoB,CAAC,wBAAwB,EAAE,CAAC;AACtF,QAAM,KAAK,sCAAa,CAAC,EAAE,UAAU,CAAC,wCAAoB,CAAC,wBAAwB,EAAE,CAAC;AACtF,QAAM,KAAK,sCAAa,CAAC,EAAE,UAAU,CAAC,wCAAoB,CAAC,cAAc,EAAE,CAAC;AAC5E,QAAM,KAAK,sCAAa,CAAC,EAAE,UAAU,CAAC,wCAAoB,CAAC,yBAAyB,EAAE,CAAC;AACvF,QAAM,KAAK,sCAAa,CAAC,EAAE,UAAU,CAAC,wCAAoB,CAAC,eAAe,EAAE,CAAC;AAG7E,QAAM,KAAK,sCAAa,CAAC,EAAE,UAAU,CAAC,uCAAmB,CAAC,oBAAoB,EAAE,CAAC;AAGjF,QAAM,KAAK,sCAAa,CAAC,EAAE,UAAU,CAAC,uCAAmB,CAAC,cAAc,EAAE,CAAC;AAE3E,SAAO,sBAAsB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,EAAE;AACzD;;;;ACSU;AAjCe;AACG;AAEG;AAEL;AAEI;AACa;AACA;AACC;AAEb;AACN;AACF;AACY;AACA;AACK;AACc;AAE/C,SAAS,eAAe;AAC7B,QAAM,EAAE,WAAW,IAAI,wCAAa,CAAC;AACrC,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,uBAAuB,2DAA2B,CAAC;AACzD,QAAM,cAAc,8CAAc,CAAC;AACnC,QAAM,aAAa,qCAAqC,CAAC;AACzD,QAAM,CAAC,eAAe,gBAAgB,IAAI,kBAAQ,CAAC,KAAK;AAExD,SACE;AAAA,IAAC,kBAAkB;AAAlB;AAAA,MACC,OAAM;AAAA,MACN,WAAW,WAAW;AAAA,QACpB,UACE;AAAA,UAAC,uBAAuB;AAAvB;AAAA,YACC,yBAAyB,MACvB,SAAS,2BAAS,CAAC,sBAAsB;AAAA,cACvC,OAAO;AAAA,gBACL,oBAAoB,EAAE,UAAU,2BAAS,CAAC,KAAK;AAAA,cACjD;AAAA,YACF,CAAC;AAAA;AAAA,QAEL;AAAA,QAEF,QAAQ;AAAA,MACV,CAAC;AAAA,MACD,WAAW;AAAA,MACX;AAAA,MACA,WAAW,MAAM,KAAK,YAAY,eAAe,EAAE,MAAM,SAAS,CAAC;AAAA,MAEnE;AAAA,4CAAC,0BAA0B,IAAE,gBAAM,oCAAC,cAAc,IAAC,GAAG;AAAA,QAErD,wBACC,oCAAC,0BAA0B,IACxB,uBAAW,oCAAC,kBAAkB,IAAC,SAAS,SAAS,WAAW,IAAI,GACnE;AAAA,QAGF,oCAAC,0BAA0B,IACxB,gBACC,6DACE;AAAA,8CAAC,MAAM,IAAC;AAAA,UACR,oCAAC,QAAQ,IAAC,kBAAoC;AAAA,WAChD,GAEJ;AAAA;AAAA;AAAA,EACF;AAEJ;;;;ACxDI;AAXmB;AAEW;AACZ;AAEI;AACG;AACA;AAEtB,SAAS,SAAS;AACvB,SACE,qCAAC,iBAAK,IAAC,eAAa,iBAAiB,CAAC,WACpC;AAAA,wCAAC,SAAS,IAAC,QAAO,WAAU;AAAA,IAC5B,oCAAC,YAAY,IAAC;AAAA,IACd,oCAAC,YAAY,IAAC;AAAA,IACd,oCAAC,gCAAM,IAAC;AAAA,KACV;AAEJ;;;;ACFI;AAhB+C;AAElB;AAS1B,SAAS,uBAAuB,EAAE,SAAS,GAAgC;AAChF,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,qBAAqB,gBAAgB,CAAW,oBAAoB;AAE1E,SACE,6DACE;AAAA,yCAAC,gCAAM,IAAC,UAAU,sBAAsB,UACrC;AAAA;AAAA,MACD,oCAAC,+BAAK,IAAC,MAAK,KAAI,SAAS,oCAAC,gCAAM,IAAC,GAAI;AAAA,OACvC;AAAA,IACC,sBAAsB,oCAAC,gCAAM,IAAC;AAAA,KACjC;AAEJ;;;;ACxBuB;AAEI;AAEpB,SAAS,eAAe;AAC7B,QAAM,MAAM,gBAAM,CAAqB,IAAI;AAE3C,oCAAU,CAAC,MAAM;AACf,UAAM,KAAK,IAAI;AACf,QAAI,IAAI;AACN,YAAM,cAAc,GAAG,eAAe,eAAe;AACrD,YAAM,eAAe,GAAG;AACxB,YAAM,QAAQ,cAAc;AAC5B,YAAM,aAAa,KAAK,IAAI,KAAK;AACjC,SAAG,MAAM,YAAY,aAAa,IAAI,SAAS,UAAU,MAAM;AAAA,IACjE;AAAA,EACF,CAAC;AAED,SAAO;AACT;;;;ACmCU;AApDwB;AACQ;AACR;AAEmC;AAExC;AACK;AACA;AAc3B,SAAS,YAAY;AAAA,EAC1B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAqB;AACnB,QAAM,eAAe,YAAY,CAAC;AAElC,SACE;AAAA,IAAC,gBAAI;AAAJ;AAAA,MACC,WAAU;AAAA,MACV,QAAQ,EAAE,MAAM,UAAU,IAAI,QAAQ;AAAA,MACtC,SAAQ;AAAA,MACR,IAAI,EAAE,MAAM,YAAY,IAAI,IAAI;AAAA,MAChC,IAAI,EAAE,MAAM,YAAY,IAAI,IAAI;AAAA,MAEhC;AAAA,4CAAC,gBAAI,IAAC,SAAQ,OAAM,SAAQ,iBAAgB,OAAM,UAChD;AAAA,UAAC,wBAAI;AAAJ;AAAA,YACC,SAAS,EAAE,IAAI,cAAc;AAAA,YAC7B,QAAQ,EAAE,OAAO,2BAA2B;AAAA,YAC5C,eAAa,2CAAiB,CAAC;AAAA,YAC/B,SAAS;AAAA,YACT,SAAQ;AAAA,YACR,UAAS;AAAA,YAET,+CAAC,gBAAI,IACH;AAAA;AAAA,gBAAC,iBAAiB;AAAjB;AAAA,kBACC,WAAW;AAAA,kBACX,eAAa,2CAAiB,CAAC;AAAA,kBAC/B,WAAU;AAAA,kBAET;AAAA;AAAA,cACH;AAAA,cAEA,oCAAC,eAAG,IAAC,IAAG,YAAW,IAAG,YACpB,8CAAC,mCAAe,IAAC,SAAQ,SAAQ,GACnC;AAAA,eACF;AAAA;AAAA,QACF,GACF;AAAA,QACA,qCAAC,gBAAI,IAAC,SAAS,EAAE,MAAM,UAAU,IAAI,MAAM,GAAG,SAAQ,iBACpD;AAAA,8CAAC,eAAG,IAAC,IAAG,YAAW,IAAG,YACpB,8CAAC,kCAAc,IAAC,OAAM,SAAQ,QAAO,QAAO,WAAW,kBACrD;AAAA,YAAC,kBAAM,CAAC;AAAA,YAAP;AAAA,cACC,WAAU;AAAA,cACV,cAAY,0BAA0B,YAAY;AAAA,cAClD,WAAW,iCAAa;AAAb,cACX,eAAa,2DAAyB,CAAC;AAAA,cACvC,OAAO;AAAA,gBACL,YAAY;AAAA,gBACZ,SAAS;AAAA,gBACT,iBAAiB;AAAA,gBACjB,UAAU;AAAA,cACZ;AAAA,cACA,KAAK;AAAA,cAEL;AAAA,gBAAC,4CAAiB;AAAjB;AAAA,kBACC,WAAW;AAAA,kBACX,aAAa;AAAA,kBACb,SAAQ;AAAA,kBACR,UAAS;AAAA,kBAER;AAAA;AAAA,cACH;AAAA;AAAA,UACF,GACF,GACF;AAAA,UACC;AAAA,WACH;AAAA;AAAA;AAAA,EACF;AAEJ;;;;ACtEY;AA9BmB;AACH;AAEM;AAEmC;AAC1B;AAEjB;AAEI;AACD;AACS;AAC+B;AACtB;AAE/C,SAAS,qBAAqB;AAC5B,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,EAAE,WAAW,IAAI,wCAAa,CAAC;AACrC,QAAM,aAAa,4FAAoD,CAAC,GAAG;AAC3E,QAAM,aAAa,+DAA8B,CAAC;AAClD,QAAM,EAAE,qBAAqB,IAAI,gDAAwB,CAAC,UAAU;AACpE,QAAM,iBAAiB,kDAA0B,CAAC,UAAU;AAE5D,QAAM,aAAa,CAAC,cAAc,CAAC,qBAAqB,QAAQ,gBAAgB,WAAW;AAE3F,SACE;AAAA,IAAC,8BAAU;AAAV;AAAA,MACC,eAAa,iBAAiB,CAAC;AAAA,MAC/B,OAAM;AAAA,MACN,MAAM,oCAAC,iCAAc,IAAC;AAAA,MACtB,SAAS,MACP,WAAW;AAAA,QACT,QAAQ,MACN,qCAAY,CAAC;AAAA,UACX,MAAM,MAAM,SAAS,2BAAS,CAAC,eAAe;AAAA,UAC9C,OAAO,MAAM,gDAAqB,CAAC,2BAAS,CAAC,eAAe;AAAA,QAC9D,CAAC,EAAE;AAAA,QACL,UAAU,MAAM,SAAS,2BAAS,CAAC,eAAe;AAAA,MACpD,CAAC,EAAE;AAAA,MAEL,UAAU;AAAA;AAAA,EACZ;AAEJ;AAEA,MAAM,qBAAqB,cAAI,CAAC,MAC9B,oCAAC,8BAAU,IAAC,OAAM,QAAO,MAAM,oCAAC,iCAAc,IAAC,GAAI,UAAQ,MAAC,CAC7D;AAEM,SAAS,aAAa;AAC3B,SACE,oCAAC,cAAQ,IAAC,UAAU,oCAAC,sBAAmB,GACtC,8CAAC,sBAAmB,GACtB;AAEJ;;;;AClDI;AAN0B;AAET;AAEd,SAAS,4BAA4B;AAC1C,SACE,qCAAC,iBAAK,IAAC,KAAI,KACT;AAAA,wCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cAAa,wCAA0B;AAAA,IAC9D;AAAA,MAAC,wBAAI;AAAJ;AAAA,QACC,MAAK;AAAA,QACL,QAAO;AAAA,QACP,OAAM;AAAA,QACN,OAAM;AAAA,QAEN,8CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cAAa,wBAAU;AAAA;AAAA,IAChD;AAAA,KACF;AAEJ;;;;ACqBI;AAvCqC;AAEjB;AACU;AACR;AAEQ;AAC+C;AAEvD;AAKnB;AAC8D;AAC7B;AACN;AACL;AAEF;AACe;AAEnC,SAAS,iBAAiB;AAC/B,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,mBAAmB,uDAAuB,CAAC;AACjD,QAAM,gBAAgB,wDAAuB,CAAC;AAC9C,QAAM,mBAAmB,4FAAoD,CAAC;AAC9E,QAAM,aAAa,kBAAkB;AACrC,QAAM,iBAAiB,gDAAiB,CAAC;AACzC,QAAM,eAAe,qDAAqB,CAAC;AAC3C,QAAM,mBAAmB,CAAC,gBAAgB,CAAC;AAE3C,QAAM,cAAc,mBAChB,2BAAS,CAAC,UACV,GAAG,2BAAS,CAAC,IAAI,GAAG,2BAAS,CAAC,UAAU;AAE5C,SACE,qCAAC,gBAAI,IAAC,KAAK,EAAE,MAAM,YAAY,IAAI,WAAW,GAAG,IAAG,YAAW,gBAAe,iBAC5E;AAAA,wCAAC,UAAU,IAAC;AAAA,IACZ;AAAA,MAAC,8BAAU;AAAV;AAAA,QACC,eAAa,iBAAiB,CAAC;AAAA,QAC/B,MAAM,oCAAC,6BAAS,IAAC;AAAA,QACjB,OAAM;AAAA,QACN,SAAS,MAAM,SAAS,aAAa,EAAE,OAAO,EAAE,oBAAoB,SAAS,EAAE,CAAC;AAAA;AAAA,IAClF;AAAA,KAEE,CAAC,CAAC,iBAAiB,CAAC,CAAC,eACrB;AAAA,MAAC,8BAAU;AAAV;AAAA,QACC,eAAa,iBAAiB,CAAC;AAAA,QAC/B,MAAM,oCAAC,kCAAc,IAAC;AAAA,QACtB,OAAM;AAAA,QACN,SAAS,MAAM,SAAS,2BAAS,CAAC,kBAAkB;AAAA;AAAA,IACtD;AAAA,IAED,yCAAiB,CAAC,eAAe,MAAM,OAAO,OAAO,EAAE;AAAA,MACtD,CAAC,6BAAO,CAAC,OAAO,GACd;AAAA,QAAC,iCAAY;AAAZ;AAAA,UACC,OAAO,eAAe,KAAK,oCAAC,yBAAyB,IAAC;AAAA,UACtD,MAAK;AAAA,UACL,SAAO;AAAA,UAEP,8CAAC,eAAG,IAAC,SAAQ,QACX;AAAA,YAAC,8BAAU;AAAV;AAAA,cACC,eAAa,iBAAiB,CAAC;AAAA,cAC/B,UAAU;AAAA,cACV,MAAM,oCAAC,4CAAyB,IAAC;AAAA,cACjC,OAAM;AAAA,cACN,SAAS,MACP,SAAS,2BAAS,CAAC,KAAK,QAAQ,SAAS,KAAK,EAAE,QAAQ,UAAU,EAAE,CAAC;AAAA;AAAA,UAEzE,GACF;AAAA;AAAA,MACF;AAAA,MAEF,CAAC,6BAAO,CAAC,OAAO,GAAG;AAAA,IACrB,CAAC;AAAA,KACH;AAEJ;;;;AC1DQ;AAtBiB;AACgB;AAEd;AAEN;AAEK;AAEK;AAMxB,SAAS,SAAS,EAAE,SAAS,GAAkB;AACpD,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,WAAW,yCAAW,CAAC;AAE7B,SACE,qCAAC,iBAAK,IAAC,UAAU,GAAG,IAAI,EAAE,MAAM,GAAG,IAAI,WAAW,GAAG,KAAI,YACvD;AAAA,wCAAC,wBAAI,CAAC,MAAL,EAAU,eAAe,UAAQ,SAAS,IAAI,GAAG,cAAc,SAAS,UACvE,+CAAC,wBAAI,CAAC,MAAL,EACC;AAAA,0CAAC,wBAAI,CAAC,SAAL,EAAa,eAAY,cAAa,OAAO,2BAAS,CAAC,MAAM,oBAE9D;AAAA,MACA,oCAAC,wBAAI,CAAC,SAAL,EAAa,eAAY,gBAAe,OAAO,2BAAS,CAAC,UAAU,sBAEpE;AAAA,OACF,GACF;AAAA,IACA,oCAAC,cAAQ,IAAC,UAAU,oCAAC,cAAc,IAAC,IAAG,QAAO,GAC5C,8CAAC,eAAG,IAAC,IAAI,EAAE,MAAM,YAAY,IAAI,EAAE,GAAG,OAAM,QACzC,UACH,GACF;AAAA,KACF;AAEJ;;;;ACqCU;AA3EyB;AAED;AACP;AAED;AAEY;AACH;AACH;AACL;AACW;AACT;AACA;AACE;AACR;AACa;AACG;AACA;AACuB;AACtB;AACH;AACJ;AACL;AAEG;AACN;AAElB,SAAS,OAAO;AACrB,QAAM,EAAE,mBAAmB,IAAI,kDAAkB,CAAC;AAClD,QAAM,EAAE,oBAAoB,IAAI,iEAAqB,CAAC;AACtD,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,UAAU,wDAAuB,CAAC;AACxC,QAAM,sBAAsB,mDAAsB,CAAC;AACnD,QAAM,gBAAgB,wDAAgB,CAAC;AACvC,QAAM,oBAAoB,iDAAoB,CAAC;AAE/C,QAAM,EAAE,MAAM,OAAO,IAAI,YAAY,kBAAkB,IAAI,kDAAqB,CAAC;AAAA,IAC/E,SAAS,SAAS,WAAW;AAAA,IAC7B,OAAO,uBAAuB;AAAA,EAChC,CAAC;AAED,QAAM,aAAa,qFAA6C,CAAC;AACjE,QAAM,EAAE,iBAAiB,WAAW,wBAAwB,IAAI,eAAe,CAAC;AAAA,IAC9E;AAAA,IACA,YAAY,SAAS,WAAW;AAAA,EAClC,CAAC;AAED,oCAAU,CAAC,MAAM;AACf,QAAI,mBAAoB,UAAS,2BAAS,CAAC,aAAa;AAAA,EAC1D,CAAC;AAED,SACE;AAAA,IAAC,iBAAK;AAAL;AAAA,MACC,eAAa,iBAAiB,CAAC;AAAA,MAC/B,IAAI,EAAE,MAAM,GAAG,IAAI,WAAW;AAAA,MAC9B,IAAI,EAAE,MAAM,GAAG,IAAI,WAAW;AAAA,MAC9B,KAAK,EAAE,MAAM,GAAG,IAAI,WAAW;AAAA,MAC/B,OAAM;AAAA,MACN,IAAG;AAAA,MACH,cAAa;AAAA,MACb,WAAU;AAAA,MACV,mBAAkB;AAAA,MAElB;AAAA,4CAAC,eAAG,IAAC,IAAI,EAAE,MAAM,YAAY,IAAI,EAAE,GAAG,IAAI,EAAE,MAAM,YAAY,IAAI,EAAE,GAClE;AAAA,UAAC,WAAW;AAAX;AAAA,YACC;AAAA,YACA,SAAS;AAAA,YACT,qBAAqB,MAAM,oBAAoB;AAAA,YAC/C;AAAA,YACA,kBAAkB;AAAA,YAClB;AAAA,YACA,kBAAkB;AAAA,YAClB,eAAe;AAAA,YAEf,8CAAC,cAAc,IAAC;AAAA;AAAA,QAClB,GACF;AAAA,QACC,qCAAY,CAAC,EAAE,MAAM,oCAAC,cAAc,IAAC,GAAI,OAAO,KAAK,CAAC;AAAA,QACvD,oCAAC,QAAQ,IACP,+CAAC,sBAAsB,IACrB;AAAA,8CAAC,+BAAK,IAAC,OAAK,MAAC,SAAS,oCAAC,MAAM,IAAC,GAAI;AAAA,UAClC,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,UAAU,SAAS,oCAAC,YAAY,IAAC,GACrD,6BAAmB,EACtB;AAAA,UACC,mBAAmB;AAAnB,WACH,GACF;AAAA;AAAA;AAAA,EACF;AAEJ;;;;;;;;ACnFI;AAPiB;AAKd,SAAS,cAAc,EAAE,SAAS,GAAuB;AAC9D,SACE;AAAA,IAAC,gBAAI;AAAJ;AAAA,MACC,qBAAqB;AAAA,QACnB,MAAM;AAAA,QACN,IAAI;AAAA,QACJ,IAAI;AAAA,MACN;AAAA,MACA,QAAO;AAAA,MACP,WAAU;AAAA,MAET;AAAA;AAAA,EACH;AAEJ;;;;ACFM;AAjB8B;AACI;AAMjC,SAAS,cAAc,EAAE,MAAM,IAAI,GAAuB;AAC/D,SACE;AAAA,IAAC,gBAAI;AAAJ;AAAA,MACC,QAAO;AAAA,MACP,OAAM;AAAA,MACN,KAAI;AAAA,MACJ,IAAG;AAAA,MACH,IAAG;AAAA,MACH,cAAa;AAAA,MAEb;AAAA,6CAAC,kBAAM,CAAC,MAAP,EAAY,SAAQ,QAAO,YAAW,UAAS,IAAG,YAAW,OAAM,oBACjE;AAAA;AAAA,UAAI;AAAA,WACP;AAAA,QACA;AAAA,UAAC,kBAAM,CAAC;AAAA,UAAP;AAAA,YACC,SAAQ;AAAA,YACR,YAAW;AAAA,YACX,OAAM;AAAA,YACN,eAAa,+CAAmB,CAAC;AAAA,YAEhC;AAAA;AAAA,QACH;AAAA;AAAA;AAAA,EACF;AAEJ;;;;ACAU;AA9Be;AAEW;AACF;AACU;AAEe;AAE7B;AACA;AASvB,SAAS,gBAAgB;AAAA,EAC9B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAyB;AACvB,QAAM,CAAC,eAAe,gBAAgB,IAAI,kBAAQ,CAAC,KAAK;AAExD,SACE,qCAAC,iBAAK,IAAC,KAAI,YACT;AAAA,wCAAC,aAAa,IACX,0BAAgB,IAAI,CAAC,MAAM,UAC1B;AAAA,MAAC,aAAa;AAAb;AAAA,QAEC,MAAM,gBAAgB,OAAO,IAAI,OAAO,KAAK,MAAM;AAAA,QACnD,KAAK,QAAQ;AAAA;AAAA,MAFR;AAAA,IAGP,CACD,GACH;AAAA,IACA,qCAAC,gBAAI,IAAC,KAAI,YAAW,WAAW,EAAE,MAAM,UAAU,IAAI,MAAM,GAC1D;AAAA;AAAA,QAAC,0BAAM;AAAN;AAAA,UACC,WAAS;AAAA,UACT,SAAQ;AAAA,UACR,MAAK;AAAA,UACL,SAAQ;AAAA,UACR,GAAE;AAAA,UACF,gBAAe;AAAA,UACf,YAAW;AAAA,UACX,eAAa,2CAAiB,CAAC;AAAA,UAC/B,SAAS,MAAM,iBAAiB,CAAC,aAAa;AAAA,UAE9C,+CAAC,kBAAM,IACJ;AAAA,4BAAgB,oCAAC,kCAAc,IAAC,IAAK,oCAAC,4BAAQ,IAAC;AAAA,YAChD,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YACpB,0BAAgB,aAAa,YAChC;AAAA,aACF;AAAA;AAAA,MACF;AAAA,MACA;AAAA,QAAC,0BAAM;AAAN;AAAA,UACC,WAAS;AAAA,UACT,SAAQ;AAAA,UACR,MAAK;AAAA,UACL,SAAQ;AAAA,UACR,GAAE;AAAA,UACF,gBAAe;AAAA,UACf,YAAW;AAAA,UACX,eAAa,2CAAiB,CAAC;AAAA,UAC/B,SAAS,CAAC,YAAY,oBAAoB;AAAA,UAE1C,+CAAC,kBAAM,IACL;AAAA,gDAAC,4BAAQ,IAAC;AAAA,YACV,oCAAC,kBAAM,CAAC,GAAP,EAAS,WAAU,WAAW,WAAC,YAAY,UAAU,WAAU;AAAA,aAClE;AAAA;AAAA,MACF;AAAA,OACF;AAAA,IACA;AAAA,MAAC,0BAAM;AAAN;AAAA,QACC,OAAM;AAAA,QACN,eAAa,+CAAmB,CAAC;AAAA,QACjC,SAAS;AAAA,QACT,SAAQ;AAAA,QACT;AAAA;AAAA,IAED;AAAA,KACF;AAEJ;;;;ACvDI;AA5B0B;AACmB;AAEvB;AACA;AAEG;AAEG;AAKzB,MAAM,YAAY,cAAI,CAAC,CAAC,EAAE,UAAU,MAAsB;AAC/D,QAAM,EAAE,QAAQ,UAAU,IAAI,YAAY,CAAC,aAAa,EAAE;AAC1D,QAAM,EAAE,SAAS,IAAI,yCAAW,CAAC;AAEjC,QAAM,WAAW,yCAAW,CAAC;AAE7B,QAAM,kBAAkB,MAAM;AAC5B,SAAK,2BAAS,CAAC,MAAM,8BAA8B;AACnD,WAAO;AAAA,EACT;AAEA,QAAM,iBAAiB,iBAAO,CAAC,MAAM,WAAW,MAAM,GAAG,GAAG,CAAC,SAAS,CAAC;AACvE,QAAM,2BAA2B,aAAa,2BAAS,CAAC;AAExD,SACE,6DACE;AAAA;AAAA,MAAC,eAAe;AAAf;AAAA,QACC;AAAA,QACA,mBAAmB;AAAA,QACnB;AAAA,QACA;AAAA,QACA,qBAAqB,MAAM,SAAS,2BAAS,CAAC,WAAW;AAAA;AAAA,IAC3D;AAAA,IACA,oCAAC,gCAAM,IAAC;AAAA,KACV;AAEJ,CAAC;;;;;;ACbK;AA1B0B;AACJ;AAEU;AAEY;AAExB;AAEe;AACR;AACP;AACgB;AAEnC,MAAM,sBAAsB,cAAI,CAAC,MAAM;AAC5C,QAAM,YAAY,6DAAyB,CAAC;AAC5C,QAAM,WAAW,yCAAW,CAAC;AAE7B,qBAAS,CAAC,MAAM;AACd,QAAI,CAAC,UAAW,UAAS,2BAAS,CAAC,UAAU;AAAA,EAC/C,GAAG,CAAC,UAAU,SAAS,CAAC;AAExB,MAAI,CAAC,UAAW,QAAO;AAEvB,SACE,6DACE;AAAA,wCAAC,yCAAgB,IAAC;AAAA,IAClB,oCAAC,sBAAO,IACN;AAAA,MAAC,8BAAe;AAAf;AAAA,QACC,OAAM;AAAA,QACN,SACE,4DAAE,8IAGF;AAAA,QAEF,QACE,qCAAC,iBAAK,IAAC,KAAI,YAAW,IAAG,YACvB;AAAA,+CAAC,kBAAM,IAAC,YAAW,UACjB;AAAA,gDAAC,2BAAO,IAAC;AAAA,YACT,qCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cAAa;AAAA;AAAA,cACZ,oCAAC,QAAG;AAAA,cAAE;AAAA,eAC9B;AAAA,aACF;AAAA,UACA,qCAAC,kBAAM,IAAC,YAAW,UACjB;AAAA,gDAAC,kCAAc,IAAC;AAAA,YAChB,qCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cAAa;AAAA;AAAA,cACjB,oCAAC,QAAG;AAAA,cAAE;AAAA,eACzB;AAAA,aACF;AAAA,UACA,qCAAC,kBAAM,IAAC,YAAW,UACjB;AAAA,gDAAC,4BAAQ,IAAC;AAAA,YACV,qCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cAAa;AAAA;AAAA,cACf,oCAAC,QAAG;AAAA,cAAE;AAAA,eAC3B;AAAA,aACF;AAAA,WACF;AAAA,QAGF,8CAAC,SAAS,IAAC,WAAsB;AAAA;AAAA,IACnC,GACF;AAAA,KACF;AAEJ,CAAC;;;;;;;;;;AChEwD;AAC7B;AAEK;AACR;AAEH;AAEI;AACA;AAEC;AACI;AACI;AACI;AAEvC,eAAe,+CAA+C;AAC5D,QAAM,4BAAK,CAAC,GAAG;AACjB;AAEO,SAAS,YAAY;AAC1B,QAAM,CAAC,OAAO,QAAQ,IAAI,kDAAsB,CAAC;AACjD,QAAM,CAAC,aAAa,cAAc,IAAI,kBAAQ,CAAC,IAAI;AAEnD,QAAM,EAAE,WAAW,cAAc,UAAU,IAAI,UAAU,CAAC,WAAW;AACrE,QAAM,WAAW,yCAAW,CAAC;AAE7B,QAAM,cAAc,gBAAM,CAA6B,IAAI;AAE3D,QAAM,WAAW,gCAAc,CAAC;AAEhC,QAAM,iBAAiB,qBAAW;AAAX,IACrB,CACE,UAAU,sFACP;AACH,eAAS,OAAO;AAChB,gBAAU;AACV,WAAK,2BAAS,CAAC,MAAM,2BAA2B;AAChD;AAAA,IACF;AAAA,IACA,CAAC,UAAU,SAAS;AAAA,EACtB;AAEA,QAAM,qBAAqB,qBAAW;AAAX,IACzB,OAAO,gBAAwB;AAC7B,mBAAa;AACb,YAAM,iBAAiB,cAAc,YAAY,KAAK,IAAI;AAG1D,UAAI,eAAe,WAAW,GAAG;AAC/B,uBAAe,uCAAuC;AAAA,MACxD;AAEA,UAAI,CAAC,gCAAgB,CAAC,gBAAgB,uBAAQ,GAAG;AAC/C,uBAAe;AACf;AAAA,MACF;AAEA,YAAM,6CAA6C;AAEnD,eAAS,+CAAkB,CAAC,cAAc,cAAc,CAAC;AACzD,WAAK,2BAAS,CAAC,MAAM,yBAAyB;AAC9C,eAAS,2BAAS,CAAC,WAAW;AAC9B,gBAAU;AAAA,IACZ;AAAA,IACA,CAAC,cAAc,UAAU,UAAU,WAAW,cAAc;AAAA,EAC9D;AAEA,QAAM,gBAAgB,qBAAW,CAAC,MAAM;AACtC,mBAAe,UAAQ,CAAC,IAAI;AAAA,EAC9B,GAAG,CAAC,CAAC;AAEL,qBAAS;AAAT,IACE,MAAM,MAAM;AACV,eAAS,MAAS;AAClB,gBAAU;AAAA,IACZ;AAAA;AAAA;AAAA,IAGA,CAAC,QAAQ;AAAA,EACX;AAEA,SAAO;AAAA,IACL;AAAA,IACA,KAAK;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF;;;;AC1F2C;AAEpC,SAAS,gBAAgB,MAAc;AAC5C,QAAM,CAAC,OAAO,IAAI,IAAI,+BAAQ,CAAC,IAAI;AACnC,SAAO,MAAM,UAAU,KAAK;AAC9B;AAEO,SAAS,kBAAkB,MAAc;AAC9C,QAAM,OAAO,uCAAgB,CAAC;AAC9B,QAAM,CAAC,GAAG,IAAI,IAAI,+BAAQ,CAAC,IAAI;AAC/B,QAAM,UAAU,gBAAgB,IAAI;AACpC,QAAM,iBAAiB,SAAS,eAAe,aAAa,MAAM,MAAM;AAExE,SAAO,CAAC,EACL,KAAK,cAAc,KAAK,KAAK,SAC7B,CAAC,kBAAkB,KAAK,WAAW,WAAW,KAAK;AAExD;;;;ACUM;AA3BmB;AAEA;AAEH;AACkB;AAER;AAQzB,SAAS,kBAAkB;AAAA,EAChC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA2B;AACzB,QAAM,OAAO,GAAG,WAAW;AAC3B,QAAM,CAAC,OAAO,IAAI,IAAI,+BAAQ,CAAC,IAAI;AACnC,QAAM,CAAC,WAAW,YAAY,IAAI,kBAAQ,CAAC,KAAK;AAChD,QAAM,UAAU,eAAe,CAAC,IAAI;AACpC,SACE,qCAAC,yBAAK,CAAC,MAAN,EAAW,UAAU,WAAW,CAAC,CAAC,KAAK,OAAO,QAAQ,CAAC,CAAC,OACvD;AAAA;AAAA,MAAC,yBAAK,CAAC;AAAA,MAAN;AAAA,QAIC,gBAAe;AAAA,QACf,cAAa;AAAA,QACb,YAAY;AAAA,QACZ,eAAa,kBAAkB,WAAW;AAAA,QAC1C,IAAI;AAAA,QACJ,MAAM,YAAY,SAAS;AAAA,QAC3B,SAAS,MAAM,aAAa,CAAC,SAAS;AAAA,QACrC,GAAG;AAAA,QACJ,OAAO,SAAS,MAAM,SAAS;AAAA,QAE/B,iBAAiB,CAAC,MAAW;AAC3B,YAAE,eAAe;AACjB,uBAAa,EAAE,OAAO,KAAK;AAAA,QAC7B;AAAA,QACA,eAAe,MAAM,aAAa,CAAC,SAAS;AAAA,QAC5C,SAAS,OAAK;AACZ,gBAAM,aAAa,8CAAuB,CAAC,EAAE,cAAc,QAAQ,MAAM,CAAC;AAC1E,cAAI,WAAW,SAAS,GAAG,GAAG;AAC5B,cAAE,eAAe;AAEjB,6BAAiB,UAAU;AAAA,UAC7B;AAAA,QACF;AAAA;AAAA,IACF;AAAA,IACA,qCAAC,yBAAK,CAAC,OAAN,EAAY;AAAA;AAAA,MAAM;AAAA,OAAY;AAAA,KACjC;AAEJ;;;;ACxDO,SAAS,sBAAsB,QAA+B;AACnE,SAAO,OAAO,OAAO,MAAM,EAAE,OAAO,WAAS,UAAU,EAAE,EAAE,SAAS;AACtE;AAEO,SAAS,wBAAwB,qBAAuC;AAC7E,SAAO,oBAAoB,SAAS,IAChC,SAAS,oBACN,SAAS,EACT,QAAQ,eAAe,MAAM,CAAC,iCACjC,QAAQ,mBAAmB;AACjC;AAEO,SAAS,uBACd,QACA,SACA,QACU;AACV,SAAO,OAAO,KAAK,MAAM,EACtB;AAAA,IACC,iBAAe,gBAAgB,UAAa,QAAQ,WAAW,KAAK,OAAO,WAAW,MAAM;AAAA,EAC9F,EACC,KAAK,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,EACtB,IAAI,iBAAe,IAAI,WAAW,EAAE;AACzC;;;;ACzByB;AACJ;AAErB,SAAS,gBAAgB,MAAuB;AAC9C,SAAO,uBAAQ,CAAC,SAAS,IAAI;AAC/B;AAGA,SAAS,SAAY,KAA8B,MAA4B;AAC7E,SAAO,OAAO,KAAK,GAAG,EAAE,OAAO,CAAC,QAAQ,SAAS,EAAE,GAAG,QAAQ,CAAC,GAAG,GAAG,KAAK,IAAI,CAAC,CAAC;AAClF;AAGA,MAAM,qBAAqB,4BAAU,CAAC,EAAE,KAAK;AAAA,EAC3C,KAAK,OAAO;AACV,QAAI,CAAC,MAAO,QAAO;AACnB,WAAO,gBAAgB,KAAK;AAAA,EAC9B;AACF,CAAC;AAEM,MAAM,mBAAmB,0BAAQ;AAAJ,EAAK,SACvC,4BAAU,CAAC,SAAoC,KAAK,kBAAkB,CAAC;AACzE;;;;AC+CY;AArEwB;AACP;AACP;AAEC;AAC0B;AAEtB;AACD;AACQ;AAK3B;AAC0B;AACH;AAOvB,SAAS,aAAa,EAAE,UAAU,aAAa,mBAAmB,GAAsB;AAC7F,QAAM,EAAE,oBAAoB,OAAO,UAAU,IAAI,SAAS,CAAC;AAE3D,WAAS,mBAAmB,OAAe,MAAc;AACvD,UAAM,cAAc,CAAC,GAAG,QAAQ;AAChC,gBAAY,KAAK,IAAI;AACrB,gBAAY,WAAW;AAAA,EACzB;AAEA,WAAS,gBAAgB,KAAa,eAAsD;AAC1F,UAAM,SAAS,IAAI,MAAM,GAAG;AAC5B,WAAO,IAAI,CAAC,OAAO,UAAU,cAAc,GAAG,QAAQ,CAAC,IAAI,KAAK,CAAC;AACjE,gBAAY,MAAM;AAClB,SAAK,mBAAmB,GAAG;AAAA,EAC7B;AAEA,WAAS,eAAe;AACtB,WAAO,KAAK,mBAAmB,SAAS,KAAK,GAAG,CAAC;AAAA,EACnD;AAEA,QAAM,qBAAqB,WACvB,WACA,8CAAuB,CAAC,qBAAqB,KAAK,EAAE;AAGxD,QAAM,gBAAgB,mBAAmB;AAAA,IACvC,CAAC,aAAa,GAAG,WAAY,YAAY,GAAG,QAAQ,CAAC,EAAE,IAAI,IAAK;AAAA,IAChE,CAAC;AAAA,EACH;AACA,SACE;AAAA,IAAC,yBAAM;AAAN;AAAA,MACC;AAAA,MAEA,UAAU;AAAA,MACV,gBAAgB;AAAhB,MACA,gBAAc;AAAA,MACd,kBAAgB;AAAA,MAEf,WAAC,EAAE,QAAQ,SAAS,eAAe,QAAQ,QAAQ,MAAM;AACxD,cAAM,gBAAgB,qBAAqB,CAAC,MAAM;AAClD,cAAM,sBAAsB,sBAAsB,CAAC,QAAQ,SAAS,MAAM;AAC1E,cAAM,qBAAqB,CAAC,8BAAO,CAAC,mBAAmB,KAAK;AAC5D,cAAM,uBAAuB,uBAAuB,CAAC,mBAAmB;AAExE,eACE,oCAAC,uBAAI,IACH,+CAAC,iBAAK,IAAC,KAAI,YACT;AAAA,8CAAC,aAAa,IACX,6BAAmB,IAAI,CAAC,GAAG,MAC1B;AAAA,YAAC,iBAAiB;AAAjB;AAAA,cACC,aAAa,IAAI;AAAA,cAEjB,OAAO,SAAS,CAAC,KAAK;AAAA,cACtB,kBAAkB,SAAO;AACvB,gBAAC,SAAS,cAAmC,KAAK;AAClD,gCAAgB,KAAK,aAAa;AAAA,cACpC;AAAA,cACA,cAAc,OAAK,mBAAmB,GAAG,CAAC;AAAA;AAAA,YANrC;AAAA,UAOP,CACD,GACH;AAAA,WACE,sBAAsB,UACtB,oCAAC,UAAU,IAAC,eAAa,+CAAmB,CAAC,iBAC1C,+BAAqB,uBAAuB,OAC/C;AAAA,UAGF;AAAA,YAAC,0BAAM;AAAN;AAAA,cACC,eAAa,+CAAmB,CAAC;AAAA,cACjC,iBAAe,aAAa;AAAA,cAC5B,UAAU,8BAAO,CAAC,OAAO,KAAK,CAAC,WAAW,CAAC;AAAA,cAC3C,aAAW;AAAA,cACX,OAAM;AAAA,cACN,MAAK;AAAA,cACL,SAAQ;AAAA,cACR,SAAS,OAAK;AACZ,kBAAE,eAAe;AACjB,uBAAO,aAAa;AAAA,cACtB;AAAA,cACD;AAAA;AAAA,UAED;AAAA,WACF,GACF;AAAA,MAEJ;AAAA;AAAA,EACF;AAEJ;;;;ACzFM;AAtB8B;AAEf;AACmB;AAEC;AACR;AACJ;AAEtB,SAAS,SAAS;AACvB,QAAM,CAAC,oBAAoB,qBAAqB,IAAI,kBAAQ,CAAC,IAAI;AACjE,QAAM,CAAC,UAAU,WAAW,IAAI,kBAAQ,CAAoB,CAAC,CAAC;AAE9D,qBAAS,CAAC,MAAM;AACd,UAAM,qBAAqB,qBACvB,8CAAuB,CAAC,EAAE,IAC1B,8CAAuB,CAAC,EAAE;AAC9B,gBAAY,kBAAkB;AAAA,EAChC,GAAG,CAAC,kBAAkB,CAAC;AAEvB,SACE,6DACE;AAAA,wCAAC,yCAAgB,IAAC;AAAA,IAClB,oCAAC,sBAAO,IACN;AAAA,MAAC,8BAAe;AAAf;AAAA,QACC,OACE,6DAAE;AAAA;AAAA,UACQ,oCAAC,QAAG;AAAA,UAAE;AAAA,UAAW,oCAAC,QAAG;AAAA,UAAE;AAAA,WACjC;AAAA,QAEF,SAAQ;AAAA,QACR,QACE;AAAA,UAAC,wBAAI;AAAJ;AAAA,YACC,SAAS,MAAM,sBAAsB,CAAC,kBAAkB;AAAA,YACxD,WAAU;AAAA,YACV,OAAM;AAAA,YACN,SAAQ;AAAA,YAEP,+BAAqB,+BAA+B;AAAA;AAAA,QACvD;AAAA,QAGF;AAAA,UAAC,YAAY;AAAZ;AAAA,YACC;AAAA,YACA;AAAA,YACA;AAAA;AAAA,QACF;AAAA;AAAA,IACF,GACF;AAAA,KACF;AAEJ;;;;ACgBQ;AAnE4B;AACF;AAEuC;AAExC;AAQ1B,SAAS,cAAc;AAAA,EAC5B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA0C;AAExC,QAAM,EAAE,MAAM,IAAI,2CAAgB,CAAC;AAEnC,QAAM,iBAAiB;AACvB,QAAM,iBAAiB;AAEvB,QAAM,sBAAsB;AAAA,IAC1B,GAAG;AAAA,IACH,UAAU;AAAA,IACV,IAAI;AAAA,MACF,MAAM;AAAA,MACN,IAAI,UAAU,UAAU,iBAAiB;AAAA,IAC3C;AAAA,IACA,OAAO;AAAA,MACL,MAAM;AAAA,MACN,IAAI,UAAU,UAAU,iBAAiB;AAAA,IAC3C;AAAA,IAEA,QAAQ;AAAA,MACN,IAAI;AAAA,MACJ,OAAO,UAAU,UAAU,iBAAiB;AAAA,IAC9C;AAAA,EACF;AACA,QAAM,wBAAwB;AAAA,IAC5B,GAAG;AAAA,IACH,UAAU;AAAA,IACV,OAAO,EAAE,MAAM,gBAAgB,IAAI,UAAU,UAAU,iBAAiB,eAAe;AAAA,IACvF,QAAQ,aAAa,cAAc;AAAA,IACnC,aAAa,EAAE,MAAM,gBAAgB,IAAI,UAAU,UAAU,iBAAiB,eAAe;AAAA,IAC7F,QAAQ;AAAA,MACN,IAAI;AAAA,MACJ,OAAO;AAAA,IACT;AAAA,EACF;AAEA,QAAM,UAAU;AAChB,QAAM,kBAAkB;AACxB,QAAM,YACJ;AAEF,SACE,qCAAC,gBAAI,IAAC,SAAS,EAAE,MAAM,kBAAkB,IAAI,MAAM,GAAG,MAAK,SAAQ,MAAK,SACtE;AAAA;AAAA,MAAC,gBAAI;AAAJ;AAAA,QACC,SAAQ;AAAA,QACR,IAAI,EAAE,MAAM,gBAAgB,IAAI,mBAAmB;AAAA,QACnD,MAAM,EAAE,MAAM,GAAG,IAAI,EAAE;AAAA,QACvB,GAAE;AAAA,QAEF;AAAA;AAAA,YAAC,gBAAI;AAAJ;AAAA,cACC,SAAQ;AAAA,cACR,MAAM,EAAE,MAAM,GAAG,IAAI,EAAE;AAAA,cACvB,gBAAgB,EAAE,MAAM,OAAO,IAAI,aAAa;AAAA,cAChD,OAAO,EAAE,MAAM,gBAAgB,IAAI,yBAAyB;AAAA,cAE5D;AAAA,oDAAC,kBAAM,CAAC,IAAP,EAAU,WAAU,MAAK,WAAU,cAAa,UAAS,SACvD,mBACH;AAAA,gBACA,oCAAC,kBAAM,CAAC,IAAP,EAAU,UAAS,MAAK,WAAU,cAAa,UAAS,SACtD,2BACH;AAAA,gBAEA;AAAA,kBAAC,kBAAM,CAAC;AAAA,kBAAP;AAAA,oBACC,WAAW,EAAE,MAAM,YAAY,IAAI,aAAa;AAAA,oBAChD,IAAI,EAAE,MAAM,YAAY,IAAI,WAAW;AAAA,oBACvC,MAAK;AAAA,oBAEJ;AAAA;AAAA,gBACH;AAAA;AAAA;AAAA,UACF;AAAA,UACA,qCAAC,gBAAI,IAAC,SAAS,EAAE,MAAM,UAAU,IAAI,MAAM,GAAG,KAAI,YAAW,IAAG,YAAW,OAAM,QAC/E;AAAA;AAAA,cAAC,0BAAM;AAAN;AAAA,gBACC,SAAS;AAAA,gBACT,eAAa,+CAAmB,CAAC;AAAA,gBACjC,aAAW;AAAA,gBACX,KAAK;AAAA,gBACN;AAAA;AAAA,YAED;AAAA,YAEA,qCAAC,gBAAI,IAAC,KAAI,YACR;AAAA;AAAA,gBAAC,0BAAM;AAAN;AAAA,kBACC,SAAQ;AAAA,kBACR,MAAM;AAAA,kBACN,SAAS;AAAA,kBACT,KAAK;AAAA,kBACL,eAAa,+CAAmB,CAAC;AAAA,kBACjC,WAAS;AAAA,kBACV;AAAA;AAAA,cAED;AAAA,cACA;AAAA,gBAAC,0BAAM;AAAN;AAAA,kBACC,SAAQ;AAAA,kBACR,MAAM;AAAA,kBACN,SAAS;AAAA,kBACT,KAAK;AAAA,kBACL,WAAS;AAAA,kBACV;AAAA;AAAA,cAED;AAAA,eACF;AAAA,aACF;AAAA;AAAA;AAAA,IACF;AAAA,IACA;AAAA,MAAC,gBAAI;AAAJ;AAAA,QACC,GAAE;AAAA,QACF,IAAI,EAAE,MAAM,gBAAgB,IAAI,2BAA2B;AAAA,QAC3D,OAAO,EAAE,MAAM,gBAAgB,IAAI,mBAAmB;AAAA,QACtD,SAAQ;AAAA,QACR,gBAAe;AAAA,QACf,MAAM,EAAE,MAAM,GAAG,IAAI,EAAE;AAAA,QAEvB;AAAA,+CAAC,gBAAI,IAAC,gBAAe,iBACnB;AAAA,gDAAC,uCAAmB,IAAC,QAAQ,IAAI,OAAO,KAAK;AAAA,YAC7C,oCAAC,wBAAI,IAAC,MAAK,uBAAsB,WAAU,MAAK,SAAQ,QAAO,wBAE/D;AAAA,aACF;AAAA,UACA,oCAAC,eAAG,IAAC,WAAU,MACb,8CAAC,yCAAqB,IAAC,QAAO,QAAO,OAAM,QAAO,GACpD;AAAA;AAAA;AAAA,IACF;AAAA,KACF;AAEJ;;;;ACnEI;AA1E6C;AACb;AAEV;AACE;AACF;AAES;AACL;AACyC;AACjC;AAER;AAEvB,SAAS,cAAc;AAC5B,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,EAAE,mBAAmB,IAAI,kDAAkB,CAAC;AAElD,QAAM,aAAa,wCAAa,CAAC;AAEjC,QAAM,CAAC,oBAAoB,qBAAqB,IAAI,kBAAQ,CAAC,KAAK;AAElE,QAAM,kBAAkB,qBAAW,CAAC,YAAY;AAC9C,QAAI,oCAAW,CAAC,GAAG;AACjB,sDAAqB,CAAC,2BAAS,CAAC,UAAU;AAC1C,mCAAW,CAAC;AACZ;AAAA,IACF;AACA,0BAAsB,IAAI;AAE1B,UAAM,WAAW,QAAQ;AACzB,eAAW,kBAAkB;AAC7B,SAAK,2BAAS,CAAC,MAAM,yBAAyB;AAC9C,QAAI,oBAAoB;AACtB,eAAS,2BAAS,CAAC,WAAW;AAAA,IAChC;AACA,aAAS,2BAAS,CAAC,eAAe;AAAA,EACpC,GAAG,CAAC,YAAY,oBAAoB,QAAQ,CAAC;AAE7C,qBAAS,CAAC,MAAM;AACd,WAAO,MAAM,sBAAsB,KAAK;AAAA,EAE1C,GAAG,CAAC,CAAC;AAEL,QAAM,wBAAwB,CAAC,QAC7B,qCAAY,CAAC;AAAA,IACX,OAAO;AACL,eAAS,GAAG;AAAA,IACd;AAAA,IACA,QAAQ;AACN,WAAK,gDAAqB,CAAC,GAAG;AAC9B,mCAAW,CAAC;AAAA,IACd;AAAA,EACF,CAAC;AAEH,QAAM,uBAAuB;AAAA,IAC3B,2BAAS,CAAC,aAAa,MAAM,2BAAS,CAAC;AAAA,EACzC;AACA,QAAM,6BAA6B;AAAA,IACjC,2BAAS,CAAC,aAAa,MAAM,2BAAS,CAAC;AAAA,EACzC;AAEA,QAAM,gBAAgB,sBAAsB,2BAAS,CAAC,MAAM;AAE5D,QAAM,wBAAwB,qBAAW,CAAC,YAAY;AACpD,UAAM,WAAW,QAAQ;AACzB,QAAI,oDAA2B,CAAC,GAAG;AACjC,2BAAqB;AAAA,IACvB,OAAO;AACL,iCAA2B;AAAA,IAC7B;AAAA,EACF,GAAG,CAAC,4BAA4B,YAAY,oBAAoB,CAAC;AAEjE,SACE,6DACE;AAAA;AAAA,MAAC,aAAa;AAAb;AAAA,QACC;AAAA,QACA;AAAA,QACA,mBAAmB,MAAM,gBAAgB;AAAA,QACzC,iBAAiB,MAAM,cAAc;AAAA;AAAA,IACvC;AAAA,IACA,oCAAC,gCAAM,IAAC;AAAA,KACV;AAEJ;;;;ACpFO,eAAe,iCAAe,CAAC,MAAc;AAClD,QAAM,UAAU,UAAU,UAAU,IAAI;AAC1C;;;;ACF0B;AACe;AAEf;AAEO;AAO1B,SAAS,8BAA8B,UAAU,2BAAS,CAAC,MAAM;AACtE,QAAM,EAAE,UAAU,OAAO,OAAO,IAAI,yCAAW,CAAC;AAChD,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,qBAAqB,gBAAgB,CAAC,oBAAoB;AAEhE,qBAAS,CAAC,MAAM;AACd,UAAM,YAAY;AAChB,UAAI,uBAAuB,QAAW;AACpC,eAAO;AAAA,UACL,EAAE,UAAU,OAAO;AAAA,UACnB;AAAA,YACE,OAAO,EAAE,oBAAoB,EAAE,UAAU,QAAQ,GAAG,GAAG,MAAM;AAAA,UAC/D;AAAA,QACF;AAAA,MACF;AACA,aAAO;AAAA,IACT,GAAG;AAAA,EACL,GAAG,CAAC,oBAAoB,SAAS,UAAU,UAAU,OAAO,MAAM,CAAC;AACrE;;;;;;ACEY;AAhCO;AACS;AAEc;AACR;AACZ;AAEuC;AAE5B;AACa;AASvC,SAAS,oBAAoB,OAAiC;AACnE,+BAA6B,CAAC;AAE9B,QAAM,EAAE,SAAS,aAAa,0BAA0B,OAAO,QAAQ,IAAI;AAC3E,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,qBAAqB,gBAAgB,CAAW,oBAAoB;AAE1E,SACE;AAAA,IAAC,yBAAK;AAAL;AAAA,MACC,QACE;AAAA,QAAC,+BAAW;AAAX;AAAA,UACC,SAAQ;AAAA,UACR,OACE,6DAAE;AAAA;AAAA,YACQ,oCAAC,QAAG;AAAA,YAAE;AAAA,YAAE;AAAA,aAClB;AAAA,UAEF,SAAS,MAAM,SAAS,sBAAsB,IAAI;AAAA;AAAA,MACpD;AAAA,MAEF,WAAS;AAAA,MACT,SAAS,MAAM,SAAS,sBAAsB,IAAI;AAAA,MAClD,QACE,oCAAC,0BAAM,IAAC,WAAS,MAAC,SAAS,MAAM,yBAAyB,OAAO,GAAG,0BAEpE;AAAA,MAGD;AAAA,mBAAW;AAAA,QACZ;AAAA,UAAC,gBAAI;AAAJ;AAAA,YACC,YAAW;AAAA,YACX,eAAc;AAAA,YACd,IAAI,CAAC,YAAY,UAAU;AAAA,YAC3B,IAAG;AAAA,YACH,OAAO,EAAE,cAAc,uBAAK,CAAC,oBAAoB,EAAE;AAAA,YAEnD;AAAA,kDAAC,eAAG,IAAC,IAAG,YAAW,IAAG,QACpB,8CAAC,gBAAI,IAAC,YAAW,UAAS,gBAAe,UAAS,IAAG,QAAO,UAAS,YACnE;AAAA,gBAAC,iCAAM;AAAN;AAAA,kBACC,SAAS,uBAAK,CAAC,+BAA+B;AAAA,kBAC9C,SAAS,uBAAK,CAAC,yBAAyB;AAAA,kBACxC,MAAM;AAAA,kBACN,OAAO,EAAE,QAAQ,QAAQ,UAAU,QAAQ,OAAO,OAAO;AAAA,kBACzD,OAAO;AAAA,kBACP,SAAS;AAAA;AAAA,cACX,GACF,GACF;AAAA,cACA,qCAAC,gBAAI,IAAC,YAAW,UAAS,eAAc,UACrC;AAAA,+BACC,oCAAC,kBAAM,CAAC,MAAP,EAAY,IAAG,YAAW,WAAU,YAClC,uBACH;AAAA,gBAEF;AAAA,kBAAC,gBAAI;AAAJ;AAAA,oBACC,eAAa,2DAAyB,CAAC;AAAA,oBACvC,UAAS;AAAA,oBACT,gBAAe;AAAA,oBACf,UAAS;AAAA,oBACT,IAAG;AAAA,oBAEH,8CAAC,oCAAgB,IAAC,SAAkB;AAAA;AAAA,gBACtC;AAAA,iBACF;AAAA;AAAA;AAAA,QACF;AAAA;AAAA;AAAA,EACF;AAEJ;;;;ACvDI;AA/BwB;AAEZ;AAEU;AAEM;AACP;AACqB;AACP;AACqB;AAExB;AAM7B,SAAS,gBAAgB,EAAE,OAAO,MAAM,GAAwB;AACrE,+BAA6B,CAAC;AAE9B,QAAM,EAAE,MAAM,IAAI,yCAAW,CAAC;AAC9B,QAAM,QAAQ,6BAAQ,CAAC;AAEvB,QAAM,sBAAsB,mDAAsB,CAAC;AACnD,QAAM,eAAe,oBAAG,CAAC,OAAO,gBAAgB,mBAAmB;AAEnE,QAAM,0BAA0B,mFAA2C,CAAC,YAAY;AACxF,QAAM,aAAa,oBAAG,CAAC,OAAO,cAAc,uBAAuB;AAEnE,SACE;AAAA,IAAC,mBAAmB;AAAnB;AAAA,MACC,SAAS;AAAA,MACT,0BAA0B,YAAY;AACpC,aAAK,2BAAS,CAAC,MAAM,+BAA+B;AACpD,cAAM,iCAAe,CAAC,UAAU;AAChC,cAAM,QAAQ,sBAAsB;AAAA,MACtC;AAAA,MACA,OAAO,SAAS,cAAc,kBAAkB;AAAA;AAAA,EAClD;AAEJ;;;;ACrBI;AApBsB;AAEmB;AACb;AACP;AACqB;AACN;AAEJ;AAE7B,SAAS,kBAAkB;AAChC,+BAA6B,CAAC;AAC9B,QAAM,QAAQ,6BAAQ,CAAC;AACvB,QAAM,iBAAiB,wDAAuB,CAAC;AAE/C,QAAM,EAAE,MAAM,cAAc,UAAU,IAAI,yDAA4B,CAAC;AAEvE,MAAI,CAAC,eAAgB,QAAO;AAE5B,SACE;AAAA,IAAC,mBAAmB;AAAnB;AAAA,MACC,SAAS,eAAe;AAAA,MACxB;AAAA,MACA,0BAA0B,YAAY;AACpC,aAAK,2BAAS,CAAC,MAAM,+BAA+B;AACpD,cAAM,iCAAe,CAAC,eAAe,OAAO;AAC5C,cAAM,QAAQ,sBAAsB;AAAA,MACtC;AAAA,MACA,OAAM;AAAA;AAAA,EACR;AAEJ;;;;ACRM;AArBmB;AACuB;AAET;AAEV;AAE7B,MAAM,aACJ;AAQK,SAAS,mBAAmB,OAA0B;AAC3D,QAAM,EAAE,MAAM,cAAc,SAAS,OAAO,GAAG,KAAK,IAAI;AAExD,SACE,qCAAC,gBAAI,IAAC,YAAW,UAAS,eAAc,UAAS,IAAG,YAAW,OAAM,QAAQ,GAAG,MAC9E;AAAA,wCAAC,kBAAM,CAAC,KAAP,EAAW,KAAK,aAAY,EAAE,OAAM,SAAQ,QAAO,QAAO,KAAI,SAAQ,IAAG,YAAW;AAAA,IACrF,oCAAC,kBAAM,CAAC,IAAP,EAAU,IAAG,YAAW,WAAU,cAChC,iBACH;AAAA,IACA;AAAA,MAAC,kBAAM,CAAC;AAAA,MAAP;AAAA,QACC,IAAG;AAAA,QACH,WAAU;AAAA,QACV,WAAU;AAAA,QACV,OAAM;AAAA,QACN,UAAS;AAAA,QAER;AAAA;AAAA,IACH;AAAA,IACC,gBACC;AAAA,MAAC,kBAAM,CAAC;AAAA,MAAP;AAAA,QACC,QAAO;AAAA,QACP,cAAa;AAAA,QACb,UAAS;AAAA,QACT,YAAW;AAAA,QACX,eAAc;AAAA,QACd,IAAG;AAAA,QACH,IAAG;AAAA,QACH,IAAG;AAAA,QACH,IAAG;AAAA,QACH,IAAG;AAAA,QACH,WAAU;AAAA,QACV,OAAM;AAAA,QAEL;AAAA;AAAA,UACD,oCAAC,kBAAM,CAAC,IAAP,EAAU,IAAG,YAAW,WAAU,QACjC,+CAAC,kBAAM,IAAC,YAAW,UACjB;AAAA,gDAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAW,2CAA6B;AAAA,YAC/D,oCAAC,kBAAM,CAAC,QAAP,EAAc,SAAS,MAAM,uCAAY,CAAC,UAAU,GAAG,MAAK,UAC3D,8CAAC,oCAAgB,IAAC,GACpB;AAAA,aACF,GACF;AAAA;AAAA;AAAA,IACF;AAAA,IAEF,oCAAC,wBAAI,IAAC,UAAS,QAAO,IAAG,YAAW,SAAS,SAAS,0BAEtD;AAAA,KACF;AAEJ;;;;AC1DS;AAPyB;AAEN;AAEO;AAE5B,SAAS,qBAAqB,EAAE,KAAK,GAAwB;AAClE,SAAO,oCAAC,kBAAM,CAAC,IAAP,EAAU,IAAG,YAAY,gBAAK;AACxC;AASO,SAAS,aAAa,OAA0B;AACrD,QAAM,EAAE,MAAM,cAAc,UAAU,MAAM,6BAAW,CAAC,GAAG,OAAO,GAAG,KAAK,IAAI;AAE9E,SACE;AAAA,IAAC,kBAAkB;AAAlB;AAAA,MACC;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACC,GAAG;AAAA;AAAA,EACN;AAEJ;;;;ACxBE;AAP0B;AAEZ;AAEmC;AAEnD,MAAM,eAAe;AAAA,EACnB,oCAAC,oBAAoB,IAAS,MAAK,2CAAR,CAAgD;AAC7E;AAEA,SAAS,uBAAuB;AAC9B,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,UAAU,oBAAG,CAAC,SAAS,OAAO,SAAS;AAC7C,QAAM,QAAQ,oBAAG,CAAC,SAAS,OAAO,OAAO;AAEzC,SAAO,EAAE,SAAS,MAAM;AAC1B;AAEO,SAAS,eAAe;AAC7B,QAAM,EAAE,SAAS,MAAM,IAAI,qBAAqB;AAEhD,SAAO,oCAAC,YAAY,IAAC,MAAM,SAAS,cAA4B,OAAc;AAChF;;;;ACNI;AAduB;AACe;AACG;AAQtC,SAAS,qBAAqB,OAA4B;AAC/D,QAAM,EAAE,MAAM,cAAc,OAAO,UAAU,GAAG,KAAK,IAAI;AAEzD,SACE;AAAA,IAAC,gBAAI;AAAJ;AAAA,MACC,YAAW;AAAA,MACX,eAAc;AAAA,MACd,IAAI,CAAC,YAAY,OAAO;AAAA,MACxB,OAAM;AAAA,MACL,GAAG;AAAA,MAEJ;AAAA,4CAAC,eAAG,IAAC,IAAG,YACN,8CAAC,SAAI,KAAK,eAAc,EAAE,KAAI,gCAA+B,OAAM,SAAQ,GAC7E;AAAA,QACA;AAAA,UAAC,kBAAM,CAAC;AAAA,UAAP;AAAA,YACC,eAAa,2DAAyB,CAAC;AAAA,YACvC,IAAG;AAAA,YACH,IAAG;AAAA,YACH,WAAU;AAAA,YAET;AAAA;AAAA,QACH;AAAA,QACA,oCAAC,kBAAM,CAAC,MAAP,EAAY,OAAM,oBAAmB,IAAG,YAAW,WAAU,UAAS,WAAU,WAC9E,gBACH;AAAA,QACC,gBACC;AAAA,UAAC,eAAG;AAAH;AAAA,YACC,IAAG;AAAA,YACH,cAAa;AAAA,YACb,IAAG;AAAA,YACH,IAAG;AAAA,YACH,GAAE;AAAA,YACF,WAAU;AAAA,YACV,WAAU;AAAA,YACV,UAAS;AAAA,YACT,WAAU;AAAA,YAET;AAAA;AAAA,QACH;AAAA,QAED;AAAA;AAAA;AAAA,EACH;AAEJ;;;;AC3BI;AA5BqC;AAEzB;AAEmB;AAET;AACA;AAEC;AAEU;AAM9B,SAAS,eAAe,EAAE,cAAc,MAAM,GAAU;AAC7D,QAAM,EAAE,MAAM,IAAI,yCAAW,CAAC;AAC9B,QAAM,WAAW,yCAAW,CAAC;AAE7B,QAAM,MAAM,oBAAG,CAAC,OAAO,iBAAiB,wBAAwB;AAChE,QAAM,QAAQ,oBAAG,CAAC,OAAO,SAAS,kDAAkD;AACpF,QAAM,OAAO,oBAAG,CAAC,OAAO,QAAQ,iCAAiC;AAEjE,oCAAU,CAAC,MAAM,KAAK,2BAAS,CAAC,MAAM,0BAA0B,EAAE,IAAI,CAAC,CAAC;AAExE,QAAM,SACJ;AAAA,IAAC,oBAAoB;AAApB;AAAA,MACC,IAAG;AAAA,MACH,WAAU;AAAA,MACV,cAAc;AAAA,MACd;AAAA,MACA;AAAA;AAAA,EACF;AAGF,MAAI,aAAa;AACf,WACE;AAAA,MAAC,yBAAK;AAAL;AAAA,QACC,QAAQ,oCAAC,+BAAW,IAAC,OAAM,SAAQ;AAAA,QACnC,WAAS;AAAA,QACT,SAAS,MAAM,SAAS,2BAAS,CAAC,IAAI;AAAA,QAErC;AAAA;AAAA,IACH;AAAA,EAEJ;AAEA,SAAO;AACT;;;;AClD4B;AAEZ;AAIT,SAAS,+BAA+B;AAC7C,QAAM,WAAW,yCAAW,CAAC;AAC7B,SAAO;AAAA,IACL,aAAa,oBAAG,CAAC,SAAS,OAAO,eAAe,IAAI;AAAA,EACtD;AACF;;;;ACX0D;AAUnD,SAAS,0BAA0B;AAAA,EACxC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA0D;AACxD,QAAM,EAAE,kBAAkB,kBAAkB,oBAAoB,MAAM,IAAI;AAC1E,SAAO;AAAA,IACL,MAAM,YAAY;AAAA,IAClB,MAAM,OAAO,YAAY,MAAM;AAAA,IAC/B,QAAQ;AAAA,MACN,WAAW;AAAA,MACX,cAAc;AAAA,MACd,YAAY;AAAA,MACZ,YAAY;AAAA,IACd;AAAA,IACA,OAAO,OAAO,KAAK;AAAA,IACnB,gBAAgB,kEAAyC;AAAzC,MACd;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,EACF;AACF;;;;AChC0C;AAKnC,SAAS,sBAAsB,EAAE,SAAS,GAA+B;AAC9E,QAAM,EAAE,MAAM,SAAS,IAAI,iDAAyB,CAAC;AACrD,MAAI,CAAC,SAAU,QAAO;AACtB,SAAO,SAAS,EAAE,SAAS,CAAC;AAC9B;;;;ACsDQ;AAhEiB;AAC6B;AAEtC;AAGyD;AAE9C;AACY;AACsB;AACpB;AACP;AAEW;AACH;AACJ;AAS/B,SAAS,0BAA0B;AACxC,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,UAAU,8CAAgB,CAA8B;AAC9D,SAAO,EAAE,GAAG,SAAS,WAAW,oBAAG,CAAC,SAAS,OAAO,aAAa,EAAE,EAAY;AACjF;AAEO,SAAS,2BAA2B;AACzC,QAAM,CAAC,iBAAiB,kBAAkB,IAAI,kBAAQ,CAAoB,IAAI;AAC9E,QAAM,CAAC,aAAa,cAAc,IAAI,kBAAQ,CAAqB,IAAI;AACvE,QAAM,CAAC,MAAM,OAAO,IAAI,kBAAQ,CAAgC,IAAI;AAEpE,QAAM,aAAa,4BAA4B,CAAC;AAChD,QAAM,UAAU,gDAAiB,CAAC;AAClC,QAAM,sBAAsB,mDAAsB,CAAC;AACnD,QAAM,UAAU,0DAAwB,CAAC;AACzC,QAAM,qBAAqB,oFAA4C,CAAC;AAExE,QAAM,eAAe,mDAA2B,CAAC;AAAA,IAC/C,iBAAiB,SAAS;AAAA,IAC1B,qBAAqB,mBAAmB;AAAA,EAC1C,CAAC;AACD,oCAAU,CAAC,MAAM;AACf,QAAI,CAAC,WAAW,YAAa;AAC7B,mBAAe,WAAW,WAAW;AACrC;AAAA,MACE,yBAAyB,CAAC;AAAA,QACxB,aAAa,WAAW;AAAA,QACxB,SAAS,QAAQ,MAAM,QAAQ;AAAA,QAC/B,cAAc;AAAA,QACd,uBAAuB,aAAa,WAAW,YAAY,OAAO;AAAA,MACpE,CAAC;AAAA,IACH;AAAA,EACF,CAAC;AAED,MAAI,CAAC,eAAe,CAAC,KAAM,QAAO;AAElC,SACE,oCAAC,qBAAqB,IACnB,WAAC,EAAE,SAAS,MACX,oCAAC,gCAAM,IAAC,SAAS,EAAE,UAAU,aAAa,iBAAiB,oBAAoB,KAAK,GAAG,GAE3F;AAEJ;;;;ACpDM;AAhBsB;AAER;AAEM;AAEG;AAE7B,MAAM,OAAO;AACb,MAAM,qBAAK,GAAG;AAEP,SAAS,gBAAgB;AAC9B,QAAM,WAAW,yCAAW,CAAC;AAE7B,SACE,oCAAC,eAAG,IAAC,WAAU,UAAS,IAAI,CAAC,SAAS,UAAU,GAAG,IAAG,YAAW,OAAM,QACrE,8CAAC,YAAY,IAAC,MAAY,SAAS,MAAM,SAAS,2BAAS,CAAC,eAAe,GAAG,KAAK,yBAAS,GAC9F;AAEJ;;;;ACgBM;AAnCoC;AACb;AAWtB,SAAS,aAAa;AAAA,EAC3B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAAsB;AACpB,SACE;AAAA,IAAC,kBAAM,CAAC;AAAA,IAAP;AAAA,MACC,QAAQ,EAAE,YAAY,iCAAiC;AAAA,MACvD,QAAQ,aAAa,UAAU;AAAA,MAC/B,cAAa;AAAA,MACb,WAAU;AAAA,MACV,eAAa,2DAAyB,CAAC;AAAA,MACvC,IAAG;AAAA,MACH,IAAG;AAAA,MACH,YAAW;AAAA,MACX,MAAK;AAAA,MACL,OAAM;AAAA,MACL,GAAG;AAAA,MAEJ;AAAA,6CAAC,gBAAI,IAAC,gBAAe,UAAS,IAAG,YAC/B;AAAA,8CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAW,IAAG,YAClC,mBACH;AAAA,UACA,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAY,qBAAU;AAAA,WAC/C;AAAA,QACA,oCAAC,gBAAI,IAAC,gBAAe,UACnB;AAAA,UAAC,kBAAM,CAAC;AAAA,UAAP;AAAA,YACC,WAAU;AAAA,YACV,eAAa,2DAAyB,CAAC;AAAA,YAEtC,aAAG,YAAY,MAAM,OAAO,cAAc,SAAS;AAAA;AAAA,QACtD,GACF;AAAA;AAAA;AAAA,EACF;AAEJ;;;;ACCwB;AApDI;AAEN;AAIS;AACD;AACD;AA0BtB,SAAS,gBAAgB;AAAA,EAC9B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAyB;AACvB,QAAM,qBAAqB,qBAAW;AAAX,IACzB,OAAO,EAAE,SAAS,UAAU,KAAK,GAAoB,UAAsB;AACzE,2BAAqB,KAAK;AAC1B,YAAM,UAAU,uBAAuB,QAAQ;AAC/C,UAAI,CAAC,QAAS;AACd,YAAM,YAAY,EAAE,SAAS,UAAU,KAAK,CAAC;AAAA,IAC/C;AAAA,IACA,CAAC,aAAa,sBAAsB,sBAAsB;AAAA,EAC5D;AAEA,MAAI,UAAW,QAAO,oCAAC,cAAc,IAAC;AACtC,MAAI,CAAC,SAAS,OAAQ,QAAO,oCAAC,aAAa,IAAC;AAE5C,SACE,oCAAC,iBAAK,IAAC,KAAI,YAAW,IAAG,YAAW,OAAM,QACvC,mBAAS,IAAI,CAAC,EAAE,OAAO,OAAO,UAAU,WAAW,MAAM,QAAQ,MAChE;AAAA,IAAC,YAAY;AAAZ;AAAA,MACC,WAAW;AAAA,MACX,WAAW;AAAA,MACX,cAAc;AAAA,MACd;AAAA,MACA,SAAS;AAAA,MAET,YAAY,UAAU;AAAA,MACtB,SAAS,MAAM,mBAAmB,EAAE,SAAS,UAAU,OAAO,KAAK,GAAG,KAAK;AAAA;AAAA,IAFtE;AAAA,EAGP,CACD,GACH;AAEJ;;;;ACcc;AArFgD;AAErB;AACZ;AACC;AACT;AAGQ;AAIA;AAGS;AACF;AAe7B,SAAS,iBAAiB;AAAA,EAC/B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA0B;AACxB,QAAM,cAAc,gBAAM,CAA0B,IAAI;AACxD,QAAM,qBAAqB,mBAAmB,CAAC;AAAA,IAC7C;AAAA,IACA;AAAA,EACF,CAAC;AAED,QAAM,uBAAuB,qBAAW;AAAX,IAC3B,OAAO,EAAE,QAAQ,MAA2B;AAC1C,2BAAqB,IAAI;AACzB,YAAM,EAAE,KAAK,SAAS,IAAI,mBAAmB,OAAO,OAAO,CAAC;AAC5D,YAAM,UAAU,uBAAuB,QAAQ;AAC/C,UAAI,CAAC,QAAS;AACd,YAAM,YAAY,EAAE,SAAS,OAAO,OAAO,GAAG,UAAU,MAAM,IAAI,aAAa,KAAK,CAAC;AAAA,IACvF;AAAA,IACA,CAAC,sBAAsB,oBAAoB,wBAAwB,WAAW;AAAA,EAChF;AAEA,QAAM,mBAAmB,4BAAU,CAAC;AAAA,IAClC,SAAS,4BACA,CAAC,EACP,SAAS,iBAAiB,EAC1B,QAAQ,4BAA4B,EACpC,KAAK;AAAA,MACJ,SAAS;AAAA,MACT,MAAM,WAAS;AACb,eAAO,SAAS;AAAA,MAClB;AAAA,IACF,CAAC;AAAA,EACL,CAAC;AAED,SACE;AAAA,IAAC,yBAAM;AAAN;AAAA,MACC,eAAe,EAAE,SAAS,sBAAsB,SAAS,EAAE;AAAA,MAC3D,UAAU;AAAA,MACV,kBAAkB;AAAA,MAClB,gBAAgB;AAAA,MAChB,iBAAiB;AAAA,MACjB;AAAA,MAEC,qBACC,oCAAC,uBAAI,IACH,+CAAC,iBAAK,IAAC,KAAI,YAAW,IAAG,YACvB;AAAA,6CAAC,iBAAK,IAAC,KAAI,YACT;AAAA,+CAAC,kBAAM,CAAC,MAAP,EAAY,OAAM,oBAAmB,WAAU,WAAU,UAAS,WAAU;AAAA;AAAA,YAE3E;AAAA,cAAC,wBAAI;AAAJ;AAAA,gBACC,IAAG;AAAA,gBACH,SAAS,MAAM,uCAAY,CAAC,iDAAiD;AAAA,gBAC7E,WAAU;AAAA,gBACX;AAAA;AAAA,YAED;AAAA,aACF;AAAA,UACA;AAAA,YAAC,qBAAqB;AAArB;AAAA,cACC;AAAA,cACA,SAAS,YAAY;AACnB,4BAAY,SAAS,MAAM;AAC3B,sBAAM,MAAM,UAAU,EAAE,GAAG,MAAM,OAAO,CAAC;AAAA,cAC3C;AAAA,cACA;AAAA,cACA;AAAA,cACA;AAAA,cACA;AAAA;AAAA,UACF;AAAA,WACF;AAAA,QACA;AAAA,UAAC,0BAAM;AAAN;AAAA,YACC,eAAa,wBAAwB,CAAC;AAAA,YACtC,UAAU,CAAC,MAAM,OAAO;AAAA,YACxB,MAAK;AAAA,YACN;AAAA;AAAA,QAED;AAAA,SACF,GACF;AAAA;AAAA,EAEJ;AAEJ;;;;AC3GI;AAZmB;AAGK;AAOrB,SAAS,gBAAgB,EAAE,QAAQ,UAAU,GAAyB;AAC3E,SACE,oCAAC,kBAAM,CAAC,IAAP,EAAU,WAAU,cAAa,OAAO,YAAY,+BAA+B,SACjF,4CAAW,CAAC,MAAM,GACrB;AAEJ;;;;ACVI;AANmB;AAEhB,SAAS,kBAAkB,EAAE,aAAa,GAA8B;AAC7E,QAAM,WAAW,eACf,+CAEA,6DAAE;AAAA;AAAA,IACoC,oCAAC,QAAG;AAAA,IAAE;AAAA,KAC5C;AAGF,SACE,oCAAC,kBAAM,CAAC,MAAP,EAAY,OAAM,oBAAmB,WAAU,UAAS,WAAU,cAChE,oBACH;AAEJ;;;;ACaQ;AA7BiB;AAEc;AAElB;AAEK;AAEK;AAE/B,IAAK,gBAAL,kBAAKC,mBAAL;AACE,EAAAA,eAAA,iBAAc;AACd,EAAAA,eAAA,YAAS;AAFN,SAAAA;AAAA;AAUE,SAAS,cAAc,OAA2B;AACvD,QAAM,EAAE,WAAW,oBAAoB,UAAU,GAAG,KAAK,IAAI;AAE7D,SACE,oCAAC,iBAAK,IAAC,UAAU,GAAG,KAAI,YAAW,IAAG,YAAW,OAAM,QAAQ,GAAG,MAChE;AAAA,IAAC,wBAAI,CAAC;AAAA,IAAL;AAAA,MACC,cAAc,qBAAqB,wBAAuB;AAAA,MAC1D,eAAe,SAAO,KAAK,2BAAS,CAAC,KAAK,QAAQ,oBAAoB,GAAG;AAAA,MAEzE;AAAA,6CAAC,wBAAI,CAAC,MAAL,EACC;AAAA,8CAAC,wBAAI,CAAC,SAAL,EAAa,OAAO,iCAA2B,eAAY,mBAAkB,yBAE9E;AAAA,UACA,oCAAC,wBAAI,CAAC,SAAL,EAAa,OAAM,UAAS,eAAY,cAAa,oBAEtD;AAAA,WACF;AAAA,QACA,oCAAC,wBAAI,CAAC,SAAL,EAAa,OAAO,iCACnB,8CAAC,cAAQ,IAAC,UAAU,oCAAC,cAAc,IAAC,IAAG,YAAW,GAChD,8CAAC,eAAG,IAAC,IAAG,YAAY,oBAAS,GAC/B,GACF;AAAA,QACA,oCAAC,wBAAI,CAAC,SAAL,EAAa,OAAO,uBACnB,8CAAC,cAAQ,IAAC,UAAU,oCAAC,cAAc,IAAC,IAAG,QAAO,GAC5C,8CAAC,eAAG,IAAC,IAAG,YAAW,OAAM,QACtB,qBACH,GACF,GACF;AAAA;AAAA;AAAA,EACF,GACF;AAEJ;;;;AC/CM;AALgC;AAE/B,SAAS,yBAAyB,OAAiB;AACxD,SACE,oCAAC,eAAG,IAAC,YAAW,UAAS,SAAQ,QAAO,WAAU,QAAQ,GAAG,OAC3D,8CAAC,kBAAM,CAAC,MAAP,EAAY,OAAM,8BAA6B,WAAU,UAAS,WAAU,YAAW,gEAExF,GACF;AAEJ;;;;ACiDQ;AA3DiB;AAEmB;AAGhB;AAIK;AACO;AAED;AACR;AAC6B;AAC3B;AAED;AACE;AACJ;AACW;AAgBlC,SAAS,iBAAiB;AAAA,EAC/B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,wBAAwB;AAAA,EACxB,GAAG;AACL,GAA0B;AACxB,QAAM,EAAE,QAAQ,IAAI,sFAA2C,CAAC;AAChE,QAAM,YAAY,OAAO,OAAO,cAAc,CAAC;AAC/C,QAAM,CAAC,uBAAuB,wBAAwB,IAAI,kBAAQ,CAAC,kBAAkB;AACrF,QAAM,YAAY,wDAAgB,CAAC;AAEnC,MAAI,WAAW;AACb,WACE,oCAAC,gBAAI,IAAC,IAAG,SAAQ,gBAAe,UAAS,YAAW,UAAS,OAAM,QACjE,8CAAC,cAAc,IAAC,GAClB;AAAA,EAEJ;AAEA,SACE;AAAA,IAAC,mBAAI;AAAJ;AAAA,MACC,QAAO;AAAA,MACP,QACE,oCAAC,eAAG,IAAC,IAAG,YAAW,OAAM,QACvB,8CAAC,+BAAgB,IAAC,SAAS,kCAAW,CAAC,QAAQ,gBAAgB,GAAG,WAAsB,GAC1F;AAAA,MAED,GAAG;AAAA,MAEJ,+CAAC,iBAAK,IAAC,YAAW,UAAS,OAAM,QAC9B;AAAA,qBAAa,oCAAC,eAAe,IAAC,QAAgB,WAAsB;AAAA,QACpE,YACC,oCAAC,wBAAwB,IAAC,IAAI,YAAY,QAAQ,QAAQ,IAE1D,oCAAC,iBAAiB,IAAC,cAA4B;AAAA,QAEjD;AAAA,UAAC,aAAa;AAAb;AAAA,YACC;AAAA,YACA,WACE;AAAA,cAAC,gBAAgB;AAAhB;AAAA,gBACC,QAAQ,OAAO,OAAO,SAAS;AAAA,gBAC/B;AAAA,gBACA,6BAA6B;AAAA,gBAC7B;AAAA,gBACA;AAAA,gBACA;AAAA,gBACA;AAAA,gBACA;AAAA,gBACA;AAAA,gBACA,kBAAkB,wBAAwB,uBAAuB;AAAvB;AAAA,YAC5C;AAAA,YAEF;AAAA;AAAA,QACF;AAAA,SACF;AAAA;AAAA,EACF;AAEJ;;;;ACtGyB;AAG4B;AAEO;AAErD,SAAS,wBAAwB,QAAgB,cAAwB;AAC9E,QAAM,CAAC,8BAA8B,+BAA+B,IAAI,kBAAQ,CAAC,KAAK;AACtF,QAAM,EAAE,QAAQ,IAAI,sFAA2C,CAAC;AAEhE,SAAO;AAAA,IACL;AAAA,IACA,0BAA0B,UAAkB;AAC1C,YAAM,aAAa,kCAAW,CAAC,UAAU,KAAK;AAE9C,UAAI,WAAW,OAAO,cAAc,QAAQ,iBAAiB,MAAM,GAAG;AACpE,wCAAgC,IAAI;AACpC,eAAO;AAAA,MACT;AACA,aAAO;AAAA,IACT;AAAA,IACA,6BAA6B,UAAkB;AAC7C,YAAM,aAAa,kCAAW,CAAC,UAAU,KAAK;AAE9C,UAAI,CAAC,QAAQ;AACX,cAAM,IAAI,MAAM,kDAAkD;AAAA,MACpE;AAEA,YAAM,aAAa,eACf,oCAAa,CAAC,QAAQ,kBAAkB,UAAU,IAClD,+BAAQ,CAAC,CAAC,QAAQ,UAAU,CAAC;AAEjC,UAAI,WAAW,OAAO,cAAc,QAAQ,iBAAiB,MAAM,GAAG;AACpE,wCAAgC,IAAI;AACpC,eAAO;AAAA,MACT;AAEA,aAAO;AAAA,IACT;AAAA,EACF;AACF;;;;ACzCuC;AAEc;AAEjB;AAuB7B,SAAS,sCACd,MAC6B;AAC7B,QAAM,EAAE,kBAAkB,WAAW,eAAe,mBAAmB,QAAQ,IAAI;AAEnF,MAAI,kBAAkB,WAAW,EAAG,QAAO,EAAE,SAAS,MAAM;AAE5D,QAAM,UAAU,IAAI,mBAAmB,CAAC;AAExC,QAAM,gBAAgB,QAAQ,WAAW;AAAA,IACvC,cAAc;AAAA,IACd,aAAa;AAAA;AAAA,IAEb,mBAAmB;AAAA,IACnB,qBAAqB;AAAA,EACvB,CAAC;AAED,QAAM,eAAmC,CAAC;AAE1C,MAAI,QAAQ,KAAK,KAAK,cAAc,WAAW,OAAO;AAEtD,QAAM,eAAe,oCAAa,CAAC;AAEnC,WAAS,qCAAqC;AAC5C,UAAM,oBAAoB,iCAAU,CAAC,aAAa,IAAI,UAAQ,KAAK,KAAK,CAAC;AACzE,QAAI,aAAa,SAAS,IAAI,kBAAkB,OAAQ,QAAO;AAC/D,WAAO,SAAS,kBAAkB,SAAS;AAAA,EAC7C;AAEA,MAAI,QAAQ,kBACT,OAAO,UAAQ,KAAK,SAAS,6CAAsB,EACnD,KAAK,CAAC,GAAG,MAAM,EAAE,QAAQ,EAAE,KAAK;AACnC,MAAI,SAAS;AAEb,SAAO,mCAAmC,GAAG;AAC3C,UAAM,CAAC,UAAU,GAAG,cAAc,IAAI;AACtC,QAAI,SAAU,cAAa,KAAK,QAAQ;AACxC,YAAQ;AACR,aAAS,QAAQ,WAAW;AAAA,MAC1B,cAAc;AAAA,MACd,aAAa,aAAa,SAAS;AAAA,MACnC,mBAAmB;AAAA,MACnB,qBAAqB;AAAA,IACvB,CAAC;AACD,iBAAa,UAAU;AAAA,EACzB;AAEA,MAAI,CAAC,OAAQ,OAAM,IAAI,MAAM,kCAAkC;AAE/D,UAAQ,KAAK,KAAK,OAAO,WAAW,OAAO;AAE3C,QAAM,SAAS,CAAC,GAAG,YAAY;AAE/B,QAAM,eAAe,iCAAU,CAAC,aAAa,IAAI,UAAQ,KAAK,KAAK,CAAC,EAAE,MAAM,KAAK;AAEjF,MAAI,aAAa,WAAW,CAAC,EAAG,QAAO,EAAE,SAAS,MAAM;AAExD,QAAM,UAAU;AAAA;AAAA,IAEd,EAAE,OAAO,OAAO,iBAAiB,KAAK,GAAG,SAAS,UAAU;AAAA,IAC5D,aAAa,cAAc,CAAC,IACxB,EAAE,OAAO,OAAO,aAAa,SAAS,CAAC,GAAG,SAAS,cAAc,IACjE;AAAA,EACN,EAAE,OAAO,4BAAS;AAElB,SAAO,EAAE,SAAS,MAAM,QAAQ,SAAS,MAAM;AACjD;;;;AC7FqB;AACuB;AAEA;AAED;AAGpB;AAMhB;AACqC;AACI;AACI;AACL;AAEO;AAE/C,SAAS,6BAA6B,kBAA0C;AACrF,QAAM,sBAAsB,gEAA8B,CAAC;AAC3D,QAAM,2BAA2B,2EAAmC,CAAC;AACrE,QAAM,cAAc,4DAA+B,CAAC;AACpD,QAAM,EAAE,MAAM,kBAAkB,IAAI,2BAA2B,CAAC;AAEhE,WAAS,4BAA4B,QAA+B;AAClE,QAAI,wCAAc,CAAC,OAAO,YAAY,OAAO,EAAE,SAAS,iCAAW,CAAC,QAAQ;AAC1E,aAAO,0BAA0B,MAAM;AAAA,IACzC;AAEA,WAAO,qBAAqB,MAAM;AAAA,EACpC;AAEA,WAAS,qBAAqB,QAA+B;AAC3D,UAAM,eAAe,mDAA2B,CAAC,iBAAiB,cAAc;AAChF,UAAM,gBAAgB,sBAAsB,YAAY;AACxD,UAAM,qBAAqB,2BAA2B,CAAC;AAEvD,QAAI,CAAC,iBAAiB,CAAC,sBAAsB,CAAC,qBAAqB,CAAC,OAAO,QAAS;AAEpF,UAAM,SAAS,qCAAqC,CAAC;AAAA,MACnD,WAAW,OAAO;AAAA,MAClB;AAAA,MACA;AAAA,MACA,eAAe,mBAAmB,QAAQ;AAAA,MAC1C,SAAS,OAAO;AAAA,IAClB,CAAC;AAED,UAAM,mBAAmB,oCAAa,CAAC;AAEvC,UAAM,gBAA6C,CAAC;AAEpD,QAAI,CAAC,OAAO,QAAS,QAAO;AAE5B,UAAM,EAAE,QAAQ,SAAS,MAAM,IAAI;AAEnC,QAAI;AACF,YAAM,KAAK,IAAI,mCAAe,CAAC;AAG/B,SAAG,SAAS;AAAA,QACV,MAAM,iBAAiB;AAAA,QACvB,OAAO,iBAAiB;AAAA,QACxB,gBAAgB,cAAc,QAAQ;AAAA,QACtC,UAAU;AAAA,QACV,aAAa;AAAA,UACX,QAAQ,cAAc,QAAQ;AAAA,UAC9B,QAAQ,OAAO,iBAAiB,KAAK;AAAA,QACvC;AAAA,MACF,CAAC;AACD,oBAAc,KAAK;AAAA,QACjB,gBAAgB,cAAc;AAAA,QAC9B,OAAO,iBAAiB,SAAS;AAAA,MACnC,CAAC;AACD,uBAAiB,UAAU;AAG3B,aAAO,QAAQ,WAAS;AACtB,WAAG,SAAS;AAAA,UACV,MAAM,MAAM;AAAA,UACZ,OAAO,MAAM;AAAA,UACb,UAAU;AAAA,UACV,aAAa;AAAA,YACX,QAAQ,OAAO,MAAM,KAAK;AAAA,YAC1B,QAAQ,mBAAmB,QAAQ;AAAA,UACrC;AAAA,QACF,CAAC;AACD,sBAAc,KAAK;AAAA,UACjB,gBAAgB,mBAAmB;AAAA,UACnC,OAAO,iBAAiB,SAAS;AAAA,QACnC,CAAC;AACD,yBAAiB,UAAU;AAAA,MAC7B,CAAC;AAGD,cAAQ,QAAQ,YAAU,GAAG,iBAAiB,OAAO,SAAS,OAAO,OAAO,WAAW,CAAC;AAExF,SAAG,OAAO;AAEV,aAAO,EAAE,MAAM,GAAG,OAAO,GAAG,eAAe,MAAM;AAAA,IACnD,SAAS,GAAG;AACV,UAAI,aAAa,sBAAsB,EAAE;AACvC,cAAM,IAAI,sBAAsB,CAAC;AAAA,MACnC;AACA,0BAAM,CAAC,MAAM,8BAA8B,CAAC;AAC5C,aAAO;AAAA,IACT;AAAA,EACF;AAEA,WAAS,0BAA0B,QAA+B;AAChE,UAAM,qBAAqB,2BAA2B,CAAC;AAEvD,UAAM,EAAE,SAAS,UAAU,IAAI;AAC/B,QAAI,CAAC,sBAAsB,CAAC,qBAAqB,CAAC,OAAO,QAAS;AAElE,UAAM,qBAAqB;AAAA,MACzB;AAAA,MACA,YAAY,CAAC,EAAE,SAAS,WAAW,QAAQ,kCAAW,CAAC,GAAG,KAAK,EAAE,CAAC;AAAA,MAClE,OAAO;AAAA,IACT;AAEA,UAAM,EAAE,QAAQ,SAAS,IAAI,IAAI,sBAAsB,CAAC,kBAAkB;AAE1E,QAAI;AACF,YAAM,KAAK,IAAI,mCAAe,CAAC;AAG/B,OAAC,kBAAkB,GAAG,MAAM,EAAE;AAAA,QAAQ,WACpC,GAAG,SAAS;AAAA,UACV,MAAM,MAAM;AAAA,UACZ,OAAO,MAAM;AAAA,UACb,UAAU;AAAA,UACV,aAAa;AAAA,YACX,QAAQ,OAAO,MAAM,KAAK;AAAA,YAC1B,QAAQ,mBAAmB,QAAQ;AAAA,UACrC;AAAA,QACF,CAAC;AAAA,MACH;AAGA,SAAG,iBAAiB,OAAO,WAAW,OAAO,iBAAiB,KAAK,GAAG,WAAW;AAGjF,cAAQ,QAAQ,YAAU;AACxB,YAAI,OAAO,OAAO,KAAK,MAAM,EAAG;AAEhC,YAAI,CAAC,OAAO,SAAS;AACnB,aAAG,iBAAiB,mBAAmB,SAAS,OAAO,OAAO,KAAK,GAAG,WAAW;AACjF;AAAA,QACF;AACA,WAAG,iBAAiB,OAAO,WAAW,OAAO,OAAO,KAAK,GAAG,WAAW;AAAA,MACzE,CAAC;AAED,aAAO,EAAE,MAAM,GAAG,OAAO,GAAG,eAAe,QAAW,OAAO,IAAI;AAAA,IACnE,SAAS,GAAG;AACV,UAAI,aAAa,sBAAsB,EAAE;AACvC,cAAM,IAAI,sBAAsB,CAAC;AAAA,MACnC;AACA,0BAAM,CAAC,MAAM,8BAA8B,CAAC;AAC5C,aAAO;AAAA,IACT;AAAA,EACF;AAEA,SAAO,EAAE,4BAA4B;AACvC;;;;ACvKqC;AAEiB;AAK/C;AAMA;AAGqC;AACQ;AAEP;AAQtC,SAAS,2BAA2B;AAAA,EACzC;AAAA,EACA;AAAA,EACA;AACF,GAAmC;AACjC,QAAM,2BAA2B,2EAAmC,CAAC;AACrE,QAAM,EAAE,MAAM,kBAAkB,IAAI,2BAA2B,CAAC;AAEhE,QAAM,gBAAgB,8DAAsC,CAAC,KAAK;AAClE,QAAM,EAAE,MAAM,UAAU,UAAU,IAAI,iDAAyB,CAAC;AAEhE,QAAM,EAAE,4BAA4B,IAAI,4BAA4B,CAAC,IAAI;AAEzE,QAAM,oBAAoB,qBAAW;AAAX,IACxB,CAAC,YAAoB;AACnB,UAAI;AACF,cAAM,KAAK,4BAA4B;AAAA,UACrC;AAAA,UACA;AAAA,UACA;AAAA,QACF,CAAC;AAED,eAAO,IAAI;AAAA,MACb,SAAS,OAAO;AACd,eAAO;AAAA,MACT;AAAA,IACF;AAAA,IACA,CAAC,6BAA6B,WAAW,WAAW;AAAA,EACtD;AAEA,QAAM,WAA2B,iBAAO,CAAC,MAAM;AAC7C,aAAS,gBAAgB,KAAa;AACpC,aAAO,KAAK,yCAAkB;AAAlB,QACV,gDAAyB,CAAC,kCAAW,CAAC,KAAK,KAAK,GAAG,GAAG,KAAK,GAAG,aAAa;AAAA,MAC7E,CAAC;AAAA,IACH;AAEA,UAAM,qBAAqB,2BAA2B,CAAC;AAEvD,QAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,mBAAoB,QAAO,CAAC;AAEpE,UAAM,eAAe,kBAAkB,SAAS,WAAW,SAAS,CAAC;AACrE,UAAM,mBAAmB,kBAAkB,SAAS,YAAY,SAAS,CAAC;AAC1E,UAAM,cAAc,kBAAkB,SAAS,QAAQ,SAAS,CAAC;AAEjE,UAAM,UAAU,CAAC;AAEjB,QAAI,cAAc;AAChB,cAAQ,KAAK;AAAA,QACX,OAAO,8BAAU,CAAC;AAAA,QAClB,OAAO;AAAA,QACP,UAAU,wCAAiB,CAAC,kCAAW,CAAC,cAAc,KAAK,CAAC;AAAA,QAC5D,MAAM,gCAAY,CAAC;AAAA,QACnB,WAAW,gBAAgB,YAAY;AAAA,QACvC,SAAS,SAAS,WAAW,SAAS;AAAA,MACxC,CAAC;AAAA,IACH;AAEA,QAAI,kBAAkB;AACpB,cAAQ,KAAK;AAAA,QACX,OAAO,8BAAU,CAAC;AAAA,QAClB,OAAO;AAAA,QACP,UAAU,wCAAiB,CAAC,kCAAW,CAAC,kBAAkB,KAAK,CAAC;AAAA,QAChE,MAAM,gCAAY,CAAC;AAAA,QACnB,WAAW,gBAAgB,gBAAgB;AAAA,QAC3C,SAAS,SAAS,YAAY,SAAS;AAAA,MACzC,CAAC;AAAA,IACH;AAEA,QAAI,aAAa;AACf,cAAQ,KAAK;AAAA,QACX,OAAO,8BAAU,CAAC;AAAA,QAClB,OAAO;AAAA,QACP,UAAU,wCAAiB,CAAC,kCAAW,CAAC,aAAa,KAAK,CAAC;AAAA,QAC3D,MAAM,gCAAY,CAAC;AAAA,QACnB,WAAW,gBAAgB,WAAW;AAAA,QACtC,SAAS,SAAS,QAAQ,SAAS;AAAA,MACrC,CAAC;AAAA,IACH;AAEA,WAAO;AAAA,EACT,GAAG,CAAC,UAAU,mBAAmB,eAAe,0BAA0B,iBAAiB,CAAC;AAE5F,SAAO;AAAA,IACL;AAAA,IACA;AAAA,EACF;AACF;;;;AClHkC;AACb;AAGsB;AAET;AAE3B,SAAS,sBAAsB;AACpC,SAAO,4BAAU,CAAC,EAAE,KAAK;AAAA,IACvB,SAAS,iBAAiB,CAAC;AAAA,IAC3B,KAAK,OAAO;AACV,UAAI,kCAAW,CAAC,KAAK,KAAK,oCAAa,CAAC,KAAK,EAAG,QAAO;AACvD,aAAO,kCAAQ,CAAC,KAAK;AAAA,IACvB;AAAA,EACF,CAAC;AACH;AAEA,SAAS,kCAAkC,SAA8B;AACvE,WAAS,sBAAsBC,UAAuC;AAGpE,QAAIA,aAAY,SAAU,QAAO,6BAAO,CAAC;AACzC,WAAOA;AAAA,EACT;AAEA,SAAO,CAAC,UAAmB;AACzB,QAAI,kCAAW,CAAC,KAAK,KAAK,oCAAa,CAAC,KAAK,EAAG,QAAO;AACvD,WAAO,kCAAQ,CAAC,OAAO,sBAAsB,OAAO,CAAC;AAAA,EACvD;AACF;AAEO,SAAS,2BAA2B,SAA8B;AACvE,SAAO,4BAAU,CAAC,EAAE,KAAK;AAAA,IACvB,MAAM,kCAAkC,OAAO;AAAA,IAC/C,SAAS,iBAAiB,CAAC;AAAA,EAC7B,CAAC;AACH;;;;ACrCO,SAAS,gBAAgB,SAAiB,aAAuB;AACtE,SAAO,GAAG,cAAc,cAAc,EAAE,GAAG,OAAO;AACpD;;;;ACFqB;AAGsB;AAEG;AAEvC,SAAS,oBACd,uBACA,SACA;AACA,SAAO,4BAAU,CAAC,EAAE,KAAK;AAAA,IACvB,SAAS;AAAA,IACT,MAAM,KAAK,OAAO;AAChB,UAAI,YAAY,UAAW,QAAO;AAClC,UAAI,CAAC,sBAAsB,YAAY,KAAK,EAAG,QAAO;AACtD,UAAI,kCAAW,CAAC,KAAK,KAAK,oCAAa,CAAC,KAAK,EAAG,QAAO;AAEvD,UAAI;AACF,cAAM,OAAO,MAAM,6BAA6B,CAAC,KAAK;AACtD,eAAO,CAAC,KAAK;AAAA,MACf,SAAS,GAAG;AACV,eAAO;AAAA,MACT;AAAA,IACF;AAAA,EACF,CAAC;AACH;;;;;;ACCyB;AA3BW;AACV;AAEe;AAChB;AACC;AAEQ;AACP;AAE3B,MAAM,eAAe;AACrB,MAAM,aAAa;AAEZ,SAAS,oBAAoB,OAAyB;AAC3D,QAAM,EAAE,KAAK,IAAI;AACjB,QAAM,CAAC,EAAE,IAAI,IAAI,+BAAQ,CAAC,IAAI;AAC9B,QAAM,CAAC,UAAU,WAAW,IAAI,kBAAQ,CAAC,YAAY;AACrD,QAAM,YAAY,iBAAiB,CAAC,IAAI;AAExC,qBAAS,CAAC,MAAM;AACd,QAAI,WAAW;AACb,kBAAY,UAAU;AACtB;AAAA,IACF;AACA,gBAAY,YAAY;AAAA,EAC1B,GAAG,CAAC,SAAS,CAAC;AAEd,MAAI,CAAC,UAAW,QAAO,oCAAC,eAAG,IAAC,QAAQ,eAAe,MAAM;AAEzD,SACE,oCAAC,gBAAI,IAAC,IAAG,YAAW,OAAM,QACxB,8CAAC,uBAAa,IAAC,UAAU,KAAK,QAAO,YAAW,QAAQ,UACtD,8CAAC,gBAAI,IAAC,QAAQ,aAAa,MACzB,8CAAC,UAAU,IAAC,eAAa,wBAAwB,CAAC,0BAC/C,eAAK,OACR,GACF,GACF,GACF;AAEJ;;;;ACnCI;AAFG,SAAS,iBAAiB,EAAE,IAAI,GAA0B;AAC/D,SACE;AAAA,IAAC;AAAA;AAAA,MACC;AAAA,MACA,OAAO,EAAE,OAAO,QAAQ,QAAQ,QAAQ,aAAa,SAAS,WAAW,QAAQ;AAAA;AAAA,EACnF;AAEJ;;;;ACJI;AAN0B;AAIvB,SAAS,4BAA4B,EAAE,UAAU,GAAG,MAAM,GAA2B;AAC1F,SACE;AAAA,IAAC,eAAG;AAAH;AAAA,MACC,IAAG;AAAA,MACH,cAAa;AAAA,MACb,OAAM;AAAA,MACN,QAAO;AAAA,MACP,UAAS;AAAA,MACT,UAAS;AAAA,MACR,GAAG;AAAA,MAEH;AAAA;AAAA,EACH;AAEJ;;;;ACJ8B;AAdL;AACL;AAE8B;AAExB;AACK;AAKxB,SAAS,gCAAe,CAAC,OAA6B;AAC3D,QAAM,QAAQ,yDAAiC,CAAC,MAAM,UAAU;AAEhE,MAAI,MAAM,UAAW,QAAO,oCAAC,cAAc,IAAC,MAAK,QAAO;AAExD,MAAI,MAAM,QAAS,QAAO;AAE1B,SACE;AAAA,IAAC,eAAG;AAAH;AAAA,MACC,QAAQ;AAAA,QACN,SAAS;AAAA,QACT,UAAU;AAAA,QACV,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO;AAAA,QACP,iBAAiB;AAAA,MACnB;AAAA,MACA,OAAM;AAAA,MACN,UAAS;AAAA,MACT,QAAO;AAAA,MACP,GAAE;AAAA,MACF,UAAS;AAAA,MACT,UAAS;AAAA,MACT,WAAU;AAAA,MACV,OAAM;AAAA,MAEN,8CAAC,SAAK,6BAAQ,CAAC,SAAS,CAAC,MAAM,IAAI,CAAC,GAAE;AAAA;AAAA,EACxC;AAEJ;;;;ACxBU;AAjBqB;AAGG;AAED;AACW;AACZ;AAKzB,SAAS,mBAAmB,EAAE,aAAa,GAAG,MAAM,GAA4B;AACrF,UAAQ,YAAY,UAAU;AAAA,IAC5B,KAAK,SAAS;AACZ,aACE,oCAAC,2BAA2B,IAAE,GAAG,OAC/B,8CAAC,gBAAgB,IAAC,KAAK,YAAY,KAAK,GAC1C;AAAA,IAEJ;AAAA,IACA,KAAK,QAAQ;AACX,aACE,oCAAC,2BAA2B,IAAE,GAAG,OAC/B,8CAAC,gCAAe,IAAC,YAAY,YAAY,KAAK,GAChD;AAAA,IAEJ;AAAA,IACA,KAAK,SAAS;AACZ,aACE,oCAAC,2BAA2B,IAAE,GAAG,OAC/B,8CAAC,gBAAI,IAAC,YAAW,UAAS,QAAO,QAAO,gBAAe,UACrD,8CAAC,qCAAiB,IAAC,MAAK,MAAK,GAC/B,GACF;AAAA,IAEJ;AAAA,IACA;AACE,aAAO;AAAA,EACX;AACF;;;;ACrBI;AAnByB;AAER;AASd,SAAS,oBAAoB;AAAA,EAClC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA6B;AAC3B,SACE,qCAAC,gBAAI,IAAC,YAAW,cAAa,eAAc,UAAS,gBAAe,UACjE;AAAA,YAAQ;AAAA,IACT,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAY,iBAAM;AAAA,IACzC,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cAAc,oBAAS;AAAA,IAC7C,SACC,oCAAC,wBAAI,IAAC,OAAM,UAAS,SAAS,MAAM,OAAO,GAAG,WAAU,cAAa,SAAQ,QAC1E,uBACH,IACE;AAAA,KACN;AAEJ;;;;ACAM;AA9Be;AAEe;AAW7B,SAAS,uBAAuB;AAAA,EACrC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAgC;AAC9B,SACE;AAAA,IAAC,wBAAI;AAAJ;AAAA,MACC,QAAQ,aAAa,UAAU;AAAA,MAC/B,cAAc,aAAa,UAAU;AAAA,MACrC,KAAK;AAAA,MACL,GAAG,aAAa,UAAU;AAAA,MAC1B,SAAQ;AAAA,MAER;AAAA,QAAC,mBAAmB;AAAnB;AAAA,UACC;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA;AAAA,MACF;AAAA;AAAA,EACF;AAEJ;;;;ACNM;AAjCoB;AAEe;AACE;AACvB;AAEE;AAYf,SAAS,0BAA0B;AAAA,EACxC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAmC;AACjC,QAAM,CAAC,KAAK,IAAI,+BAAQ,CAAC,IAAI;AAC7B,QAAM,EAAE,cAAc,IAAI,uCAAgB,CAA+C;AAEzF,qBAAS,CAAC,MAAM;AACd,SAAK,cAAc,MAAM,MAAM,MAAM,KAAK,CAAC;AAAA,EAC7C,GAAG,CAAC,MAAM,MAAM,OAAO,aAAa,CAAC;AAErC,SACE,oCAAC,eAAG,IAAC,OAAM,QAAO,UAAS,YAAW,IAAG,YACvC,+CAAC,yBAAK,CAAC,MAAN,EAAW,QAAM,MACf;AAAA,kBACC,oCAAC,eAAG,IAAC,KAAI,YAAW,OAAM,YAAW,QAAQ,IAAI,KAAI,OAClD,sBACH;AAAA,IAED,mBAAmB,oCAAC,yBAAK,CAAC,OAAN,EAAa,2BAAgB;AAAA,IAClD;AAAA,MAAC,yBAAK,CAAC;AAAA,MAAN;AAAA,QACC,eAAa,wBAAwB,CAAC;AAAA,QACtC,aAAY;AAAA,QACX,GAAG;AAAA,QACJ,QAAQ,OAAK;AACX,gBAAM,OAAO,CAAC;AACd,mBAAS;AAAA,QACX;AAAA;AAAA,IACF;AAAA,KACF,GACF;AAEJ;;;;AC9BU;AAtB2B;AAO9B,SAAS,iBAAiB,EAAE,MAAM,MAAM,OAAO,GAA0B;AAC9E,SACE;AAAA,IAAC,gBAAI;AAAJ;AAAA,MACC,YAAW;AAAA,MACX,QAAO;AAAA,MACP,cAAa;AAAA,MACb,WAAU;AAAA,MACV,IAAG;AAAA,MACH,IAAG;AAAA,MACH,IAAG;AAAA,MACH,OAAM;AAAA,MAEN,8CAAC,kBAAM,IAAC,YAAW,UAAS,gBAAe,iBACzC,+CAAC,gBAAI,IAAC,YAAW,UACd;AAAA;AAAA,QACD,oCAAC,kBAAM,CAAC,MAAP,EAAY,IAAG,YAAW,IAAG,YAAW,WAAU,WAChD,gBACH;AAAA,QACC,UAAU,qCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,WAAU;AAAA;AAAA,UAAE,OAAO,YAAY;AAAA,UAAE;AAAA,WAAC;AAAA,SACtE,GACF;AAAA;AAAA,EACF;AAEJ;;;;ACjBQ;AAbc;AAES;AAOxB,SAAS,0BAA0B,EAAE,UAAU,UAAU,GAAmC;AACjG,MAAI,WAAW;AACb,WACE,oCAAC,iBAAK,IAAC,IAAG,SACR,8CAAC,cAAc,IAAC,GAClB;AAAA,EAEJ;AACA,SAAO;AACT;;;;ACyBsB;AA3CM;AAEa;AACZ;AACH;AAEoC;AAEpC;AAEC;AACS;AACD;AACI;AAEG;AACT;AACO;AACD;AACG;AAEnC,MAAM,qBAAqB;AAE3B,SAAS,sBAAsB;AACpC,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,EAAE,UAAU,aAAa,UAAU,IAAI,uBAAuB,CAAC;AACrE,QAAM,EAAE,sBAAsB,cAAc,kBAAkB,eAAe,IAC3E,sBAAsB,CAAC;AAEzB,SACE;AAAA,IAAC,yBAAM;AAAN;AAAA,MACC;AAAA,MACA,eAAe;AAAA,QACb,CAAC,kBAAkB,GAAG;AAAA,QACtB;AAAA,QACA,SAAS,SAAS,QAAQ,SAAS;AAAA,MACrC;AAAA,MACA,UAAU;AAAA,MAET,qBAAS;AACR,eACE,oCAAC,uBAAI,IACH;AAAA,UAAC,yBAAK;AAAL;AAAA,YACC,QAAQ,oCAAC,+BAAW,IAAC,OAAM,QAAO;AAAA,YAClC,UAAU,MAAM,SAAS,EAAE;AAAA,YAC3B,WAAS;AAAA,YACT,SAAS,MAAM,SAAS,2BAAS,CAAC,IAAI;AAAA,YACtC,QACE;AAAA,cAAC,0BAAM;AAAN;AAAA,gBACC,eAAa,wBAAwB,CAAC;AAAA,gBACtC,SAAS,MAAM,MAAM,aAAa;AAAA,gBAClC,MAAK;AAAA,gBACL,WAAS;AAAA,gBACV;AAAA;AAAA,YAED;AAAA,YAGF,8CAAC,yBAAyB,IAAC,WAAW,gBACpC,+CAAC,eAAG,IAAC,SAAQ,QAAO,eAAc,UAAS,IAAG,YAAW,IAAG,YAC1D;AAAA;AAAA,gBAAC,sBAAsB;AAAtB;AAAA,kBACC,OAAO,oCAAC,kBAAkB,IAAC,aAA0B;AAAA,kBACrD,UAAS;AAAA,kBACT,OAAO,YAAY;AAAA;AAAA,cACrB;AAAA,cACA,oCAAC,eAAG,IAAC,IAAI,CAAC,YAAY,YAAY,OAAO,GACvC,+CAAC,gBAAI,IAAC,eAAc,UAAS,IAAG,YAAW,OAAM,QAC/C;AAAA,oDAAC,gBAAgB,IAAC,MAAM,oCAAC,qCAAiB,IAAC,GAAI,MAAK,uBAAsB;AAAA,gBAC1E;AAAA,kBAAC,yBAAyB;AAAzB;AAAA,oBACC,MAAM;AAAA,oBACN,OAAM;AAAA,oBACN,aAAY;AAAA;AAAA,gBACd;AAAA,gBACA,oCAAC,mBAAmB,IAAC,MAAM,oBAAoB;AAAA,iBACjD,GACF;AAAA,cACC,gBACC,oCAAC,UAAU,IAAC,eAAa,wBAAwB,CAAC,0BAC/C,wBACH;AAAA,eAEJ,GACF;AAAA;AAAA,QACF,GACF;AAAA,MAEJ;AAAA;AAAA,EACF;AAEJ;;;;ACzFyB;AACG;AAEP;AAE+B;AACN;AACtB;AAEU;AAC8B;AACzC;AAEG;AACA;AAEM;AACO;AACH;AACH;AAC4B;AACpB;AACP;AAEM;AACL;AACU;AAEtC,SAAS,yBAAyB;AACvC,QAAM,CAAC,cAAc,YAAY,IAAI,kBAAQ,CAAgB,IAAI;AACjE,QAAM,CAAC,gBAAgB,iBAAiB,IAAI,kBAAQ,CAAC,KAAK;AAE1D,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,OAAO,0CAAgB,CAAC;AAC9B,QAAM,EAAE,aAAa,KAAK,IAAI,uBAAuB,CAAC;AACtD,QAAM,iBAAiB,gDAAiB,CAAC;AAEzC,QAAM,UAAU,0DAAwB,CAAC;AACzC,QAAM,qBAAqB,oFAA4C,CAAC;AAExE,QAAM,+BAA+B,qDAA6B,CAAC;AAAA,IACjE,iBAAiB,SAAS;AAAA,IAC1B,qBAAqB,mBAAmB;AAAA,EAC1C,CAAC;AACD,QAAM,EAAE,4BAA4B,IAAI,4BAA4B,CAAC,IAAI;AAEzE,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA,MAAM,qBAAqB,QAA+B;AACxD,wBAAkB,IAAI;AAEtB,UAAI;AACF,YAAI,OAAO,YAAY,MAAM,MAAM,GAAG;AACpC,uBAAa,iBAAiB,CAAC,wBAAwB;AACvD;AAAA,QACF;AAEA,cAAM,wBAAwB,6BAA6B,KAAK,MAAM,KAAK,IAAI;AAC/E,YAAI,wBAAwB,GAAG;AAC7B,uBAAa,iBAAiB,CAAC,4BAA4B;AAC3D;AAAA,QACF;AAIA,cAAM,OAAO,4BAA4B,MAAM;AAE/C,YAAI,CAAC,MAAM;AACT,uBAAa,iBAAiB,CAAC,2BAA2B;AAC1D;AAAA,QACF;AAEA;AAAA,UACE,IAAI,2BAAS,CAAC,sBAAsB,IAAI,2BAAS,CAAC,+BAA+B;AAAA,UACjF;AAAA,YACE,OAAO;AAAA,cACL;AAAA,cACA,WAAW,OAAO;AAAA,cAClB;AAAA,cACA,oBAAoB,EAAE,UAAU,2BAAS,CAAC,KAAK;AAAA,YACjD;AAAA,UACF;AAAA,QACF;AAAA,MACF,SAAS,OAAO;AACd,aAAK,2BAAS,CAAC,MAAM,gCAAgC,EAAE,MAAM,CAAC;AAE9D,YAAI,iBAAiB,sBAAsB,EAAE;AAC3C,uBAAa,iBAAiB,CAAC,2BAA2B;AAC1D;AAAA,QACF;AAEA,YAAI,UAAU;AACd,YAAI,8BAAO,CAAC,KAAK,GAAG;AAClB,oBAAU,MAAM;AAAA,QAClB;AACA,qBAAa,OAAO;AAAA,MACtB,UAAE;AACA,0BAAkB,KAAK;AAAA,MACzB;AAAA,IACF;AAAA,IAEA,MAAM,kBACJ,UACA,MACA,QACA,aACA;AAEA,YAAM,OAAO,4BAA4B,MAAM;AAE/C,UAAI,CAAC,MAAM;AACT,4BAAM,CAAC,MAAM,yCAAyC;AACtD;AAAA,MACF;AAEA,YAAM,WAAW,MAAM,KAAK,KAAK,MAAM,KAAK,aAAa;AAEzD,UAAI,CAAC,UAAU;AACb,4BAAM,CAAC,MAAM,gCAAgC;AAC7C;AAAA,MACF;AAEA,eAAS,SAAS;AAElB,0BAAM,CAAC,MAAM,kCAAkC,SAAS,GAAG;AAE3D,YAAM,cAAc,eAAe,CAAC,OAAO,SAAS,WAAW;AAC/D,eAAS,IAAI,2BAAS,CAAC,sBAAsB,IAAI,2BAAS,CAAC,4BAA4B,IAAI;AAAA,QACzF,OAAO;AAAA,UACL,KAAK;AAAA,UACL;AAAA,UACA;AAAA,UACA,WAAW,OAAO;AAAA,UAClB;AAAA,UACA;AAAA,UACA,UAAU,SAAS,QAAQ;AAAA,UAC3B,oBAAoB,EAAE,UAAU,2BAAS,CAAC,KAAK;AAAA,QACjD;AAAA,MACF,CAAC;AAAA,IACH;AAAA,IAEA,kBAAkB,4BAAU,CAAC;AAAA,MAC3B,CAAC,kBAAkB,GAAG,4BACb,CAAC,EACP,SAAS,iBAAiB,CAAC,eAAe,EAC1C,OAAO,mBAAmB,CAAC,CAAC,EAC5B;AAAA,QACC,mBAAmB;AAAnB,UACE,mBAAmB,CAAC;AAAA,UACpB,4DAAmC,CAAC,eAAe,MAAM,QAAQ,IAAI;AAAA,QACvE;AAAA,MACF,EACC,OAAO,0BAA0B,CAAC,eAAe,MAAM,QAAQ,IAAI,CAAC;AAAA,IACzE,CAAC;AAAA,EACH;AACF;;;;ACtGM;AAtDmB;AACW;AAGD;AACP;AAEF;AAKnB;AACwB;AACE;AACO;AAEA;AACG;AACJ;AAEhC,SAAS,2BAA2B;AACzC,QAAM,CAAC,iBAAiB,kBAAkB,IAAI,kBAAQ,CAAC,KAAK;AAC5D,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,EAAE,WAAW,iBAAiB,oBAAoB,MAAM,YAAY,IACxE,uBAAuB,CAAC;AAC1B,QAAM,EAAE,UAAU,UAAU,IAAI,0BAA0B,CAAC;AAAA,IACzD;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AACD,QAAM,qBAAqB,SAAS,CAAC,GAAG,QAAQ,SAAS,KAAK;AAE9D,QAAM,EAAE,kBAAkB,IAAI,sBAAsB,CAAC;AACrD,QAAM,EAAE,8BAA8B,0BAA0B,IAAI,uBAAuB,CAAC;AAE5F,QAAM,aAAa;AAAA,IACjB;AAAA,MACE,SAAS;AAAA,MACT,QAAQ,kCAAW,CAAC,GAAG,KAAK;AAAA,IAC9B;AAAA,EACF;AAEA,iBAAe,mBAAmB,EAAE,SAAS,UAAU,MAAM,YAAY,GAAoB;AAC3F,QAAI;AACF,yBAAmB,IAAI;AACvB,YAAM,kBAAkB,UAAU,MAAM,EAAE,SAAS,WAAW,YAAY,GAAG,WAAW;AAAA,IAC1F,UAAE;AACA,yBAAmB,KAAK;AAAA,IAC1B;AAAA,EACF;AAEA,MAAI;AACF,WACE,6DACE;AAAA,0CAAC,cAAc,IAAC;AAAA,MAChB,oCAAC,gCAAM,IAAC;AAAA,OACV;AAGJ,SACE,6DACE;AAAA;AAAA,MAAC,yBAAK;AAAL;AAAA,QACC,QAAQ,oCAAC,+BAAW,IAAC,OAAM,cAAa;AAAA,QACxC,WAAS;AAAA,QACT,UAAU,MAAM,SAAS,2BAAS,CAAC,IAAI;AAAA,QACvC,SAAS,MAAM,SAAS,2BAAS,CAAC,IAAI;AAAA,QAEtC;AAAA,UAAC,gBAAgB;AAAhB;AAAA,YACC,QAAQ,kCAAW,CAAC,GAAG,KAAK;AAAA,YAC5B,oBAAoB,CAAC,SAAS;AAAA,YAC9B,UACE;AAAA,cAAC,eAAe;AAAf;AAAA,gBACC;AAAA,gBACA;AAAA,gBACA,aAAa;AAAA,gBACb,wBAAwB;AAAA,gBACxB,sBAAsB,CAAC,UAA6B,mBAAmB,KAAK;AAAA,gBAC5E;AAAA;AAAA,YACF;AAAA,YAEF;AAAA,YACA,cAAc;AAAA,YACd,aAAa;AAAA,YACb,sBAAsB,CAAC,UAA6B,mBAAmB,KAAK;AAAA,YAC5E,wBAAwB;AAAA,YACxB;AAAA,YACA;AAAA,YACA,WAAW;AAAA,YACX,uBAAuB,SAAS,CAAC,GAAG;AAAA;AAAA,QACtC;AAAA;AAAA,IACF;AAAA,IACA,oCAAC,gCAAM,IAAC;AAAA,KACV;AAEJ;;;;ACvBc;AAxE2B;AAEd;AACc;AACR;AACjB;AAE+B;AACJ;AAEjB;AACA;AAEW;AACU;AACZ;AACd;AACuB;AAEL;AACC;AAExC,SAAS,gCAAgC;AACvC,QAAM,WAAW,yCAAW,CAAC;AAC7B,SAAO;AAAA,IACL,WAAW,oBAAG,CAAC,SAAS,OAAO,MAAM;AAAA,IACrC,UAAU,oBAAG,CAAC,SAAS,OAAO,UAAU;AAAA,IACxC,WAAW,oBAAG,CAAC,SAAS,OAAO,aAAa,EAAE;AAAA,IAC9C,aAAa,oBAAG,CAAC,SAAS,OAAO,aAAa;AAAA,EAChD;AACF;AAEO,SAAS,wBAAwB;AACtC,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,EAAE,WAAW,UAAU,WAAW,YAAY,IAAI,8BAA8B;AAEtF,QAAM,EAAE,YAAY,IAAI,uBAAuB,CAAC;AAChD,QAAM,EAAE,mBAAmB,IAAI,2BAA2B,CAAC;AAC3D,QAAM,EAAE,aAAa,eAAe,IAAI,sDAA8B,CAAC;AAEvE,iBAAe,kBAAkB;AAC/B,UAAM,YAAY;AAAA,MAChB,2BAA2B,CAAC,YAAY,IAAI;AAAA,MAC5C,IAAI,uCAAU,CAAC,QAAQ;AAAA,MACvB,MAAM,UAAU,MAAc;AAC5B,aAAK,2BAAS,CAAC,MAAM,+BAA+B;AACpD,cAAM,mBAAmB,QAAQ;AACjC,iBAAS,IAAI,2BAAS,CAAC,sBAAsB,IAAI,2BAAS,CAAC,0BAA0B,IAAI;AAAA,UACvF,OAAO;AAAA,YACL;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA,oBAAoB,EAAE,UAAU,2BAAS,CAAC,KAAK;AAAA,UACjD;AAAA,QACF,CAAC;AAAA,MACH;AAAA,MACA,QAAQ,GAAG;AACT,aAAK,2BAAS,CAAC,MAAM,2BAA2B,EAAE,OAAO,EAAE,CAAC;AAC5D,iBAAS,IAAI,2BAAS,CAAC,sBAAsB,IAAI,2BAAS,CAAC,2BAA2B,IAAI;AAAA,UACxF,OAAO;AAAA,YACL,OAAO;AAAA,YACP,oBAAoB,EAAE,UAAU,2BAAS,CAAC,KAAK;AAAA,UACjD;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SACE;AAAA,IAAC,yBAAK;AAAL;AAAA,MACC,QAAQ,oCAAC,+BAAW,IAAC,OAAM,UAAS;AAAA,MACpC,WAAS;AAAA,MACT,UAAU,MAAM,SAAS,EAAE;AAAA,MAC3B,SAAS,MAAM,SAAS,2BAAS,CAAC,IAAI;AAAA,MAEtC;AAAA,QAAC,mBAAI;AAAJ;AAAA,UACC,YAAY,wBAAwB,CAAC;AAAA,UACrC,QAAO;AAAA,UACP,cAAc;AAAA,YACZ,GAAG;AAAA,UACL;AAAA,UACA,QACE;AAAA,YAAC,0BAAM;AAAN;AAAA,cACC,SAAQ;AAAA,cACR,UAAU;AAAA,cACV,aAAW;AAAA,cACX,SAAS;AAAA,cACT,OAAM;AAAA,cACP;AAAA;AAAA,UAED;AAAA,UAGF;AAAA,gDAAC,eAAG,IAAC,IAAG,YAAW,IAAG,YACpB;AAAA,cAAC,sBAAsB;AAAtB;AAAA,gBACC,OAAO,oCAAC,kBAAkB,IAAC,aAA0B;AAAA,gBACrD,UAAS;AAAA,gBACT,OAAO,YAAY;AAAA;AAAA,YACrB,GACF;AAAA,YAEA;AAAA,cAAC,gBAAI;AAAJ;AAAA,gBACC,YAAW;AAAA,gBACX,eAAc;AAAA,gBACd,cAAa;AAAA,gBACb,OAAM;AAAA,gBACN,IAAG;AAAA,gBACH,IAAG;AAAA,gBACH,IAAG;AAAA,gBAEH,+CAAC,iBAAK,IAAC,OAAM,QAAO,IAAG,QACrB;AAAA;AAAA,oBAAC,6BAAW;AAAX;AAAA,sBACC,eAAa,wBAAwB,CAAC;AAAA,sBACtC,OAAM;AAAA,sBACN,OAAO,oCAAC,oBAAoB,IAAC,SAAS,WAAW;AAAA;AAAA,kBACnD;AAAA,kBACA,oCAAC,mCAAiB,IAAC;AAAA,kBAClB,aAAa,oCAAC,6BAAW,IAAC,OAAM,+BAA8B,OAAO,WAAW;AAAA,kBACjF,oCAAC,6BAAW,IAAC,OAAM,OAAM,OAAO,aAAa;AAAA,mBAC/C;AAAA;AAAA,YACF;AAAA;AAAA;AAAA,MACF;AAAA;AAAA,EACF;AAEJ;;;;ACvEmB;AAvDsB;AAEA;AACzB;AAG8D;AAEpD;AACA;AAEa;AACP;AACK;AACuB;AACzB;AACd;AACI;AAEc;AAEvC,SAAS,iCAAiC;AACxC,QAAM,WAAW,yCAAW,CAAC;AAC7B,SAAO;AAAA,IACL,MAAM,oBAAG,CAAC,SAAS,OAAO,MAAM;AAAA,IAChC,WAAW,oBAAG,CAAC,SAAS,OAAO,aAAa,EAAE;AAAA,IAC9C,WAAW,oBAAG,CAAC,SAAS,OAAO,WAAW;AAAA,IAC1C,aAAa,oBAAG,CAAC,SAAS,OAAO,aAAa;AAAA,IAC9C,aAAa,oBAAG,CAAC,SAAS,OAAO,aAAa;AAAA,EAChD;AACF;AAEO,SAAS,yBAAyB;AACvC,QAAM,EAAE,MAAM,WAAW,WAAW,aAAa,YAAY,IAAI,+BAA+B;AAChG,QAAM,QAAQ,6BAAQ,CAAC;AACvB,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,SAAS;AAAA,IACb,YAAY;AAAA,IACZ;AAAA,EACF;AAEA,QAAM,KAAK,QAAQ;AACnB,QAAM,EAAE,yBAAyB,iBAAiB,IAAI,sBAAsB,CAAC;AAE7E,WAAS,cAAc;AACrB,SAAK,2BAAS,CAAC,MAAM,iCAAiC,EAAE,QAAQ,MAAM,CAAC;AACvE,qBAAiB,MAAM;AAAA,EACzB;AAEA,iBAAe,cAAc;AAC3B,UAAM,iCAAe,CAAC,EAAE;AACxB,UAAM,QAAQ,YAAY;AAAA,EAC5B;AAEA,SACE,oCAAC,yBAAK,IAAC,QAAQ,oCAAC,+BAAW,IAAC,OAAM,QAAO,GAAI,WAAS,MAAC,SAAS,MAAM,SAAS,2BAAS,CAAC,IAAI,GAC3F;AAAA,IAAC,mBAAI;AAAJ;AAAA,MACC,QAAO;AAAA,MACP,QACE,qCAAC,kBAAM,IAAC,KAAI,YAAW,OAAM,QAC3B;AAAA;AAAA,UAAC,6BAAW;AAAX;AAAA,YACC,SAAS;AAAA,YACT,MAAM,oCAAC,oCAAgB,IAAC,OAAM,0BAAyB;AAAA,YACvD,OAAM;AAAA;AAAA,QACR;AAAA,QACA;AAAA,UAAC,6BAAW;AAAX;AAAA,YACC,SAAS;AAAA,YACT,MAAM,oCAAC,4BAAQ,IAAC,OAAM,0BAAyB;AAAA,YAC/C,OAAM;AAAA;AAAA,QACR;AAAA,SACF;AAAA,MAEF,cAAc;AAAA,QACZ,GAAG;AAAA,MACL;AAAA,MAEA;AAAA,4CAAC,eAAG,IAAC,IAAG,YAAW,IAAG,YACpB;AAAA,UAAC,sBAAsB;AAAtB;AAAA,YACC,MACE,oCAAC,eAAG,IAAC,IAAG,YACN,8CAAC,iCAAa,IAAC,GACjB;AAAA,YAEF,OAAO,oCAAC,kBAAkB,IAAC,aAA0B;AAAA,YACrD,UAAS;AAAA,YACT,OAAO,YAAY;AAAA;AAAA,QACrB,GACF;AAAA,QACA;AAAA,UAAC,gBAAI;AAAJ;AAAA,YACC,YAAW;AAAA,YACX,eAAc;AAAA,YACd,cAAa;AAAA,YACb,OAAM;AAAA,YACN,IAAG;AAAA,YACH,IAAG;AAAA,YACH,IAAG;AAAA,YAEH,+CAAC,iBAAK,IAAC,IAAG,YAAW,OAAM,QACzB;AAAA,kDAAC,6BAAW,IAAC,OAAM,MAAK,OAAO,oCAAC,oBAAoB,IAAC,SAAS,WAAW,GAAI;AAAA,cAC7E,oCAAC,mCAAiB,IAAC;AAAA,cAClB,aAAa,oCAAC,6BAAW,IAAC,OAAM,+BAA8B,OAAO,WAAW;AAAA,cACjF,oCAAC,6BAAW,IAAC,OAAM,OAAM,OAAO,aAAa;AAAA,eAC/C;AAAA;AAAA,QACF;AAAA;AAAA;AAAA,EACF,GACF;AAEJ;;;;AC9FE;AAboB;AAEI;AAEmB;AACd;AACU;AACA;AACL;AACE;AACC;AAEhC,MAAM,oBACX,qCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,wBAAwB,SAAS,oCAAC,wBAAwB,IAAC,GAC/E;AAAA,8BAA4B;AAA5B,EAED,oCAAC,+BAAK,IAAC,OAAK,MAAC,SAAS,oCAAC,mBAAmB,IAAC,GAAI;AAAA,EAC/C,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,iCAAiC,SAAS,oCAAC,wBAAwB,IAAC,GACxF,sCAA4B,EAC/B;AAAA,EACA,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,8BAA8B,SAAS,oCAAC,qBAAqB,IAAC,GAAI;AAAA,EAEzF,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,4BAA4B,SAAS,oCAAC,sBAAsB,IAAC,GAAI;AAAA,EACxF,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,6BAA6B,SAAS,oCAAC,cAAc,IAAC,aAAW,MAAC,GAAI;AAAA,GAC/F;;;;ACRY;AAhB2B;AAEhB;AACI;AACb;AAE2B;AAEpC,SAAS,sBAAsB;AACpC,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,UAAU,oBAAG,CAAC,SAAS,OAAO,WAAW,EAAE;AAEjD,SACE;AAAA,IAAC,yBAAK;AAAL;AAAA,MACC,WAAS;AAAA,MACT,QAAQ,oCAAC,+BAAW,IAAC;AAAA,MACrB,SAAS,MAAM,SAAS,IAAI;AAAA,MAC5B,QACE,oCAAC,0BAAM,IAAC,WAAS,MAAC,SAAS,MAAM,SAAS,IAAI,GAAG,IAAG,YAAW,mBAE/D;AAAA,MAGF;AAAA,QAAC,gBAAI;AAAJ;AAAA,UACC,eAAc;AAAA,UACd,gBAAe;AAAA,UACf,IAAG;AAAA,UACH,IAAG;AAAA,UACH,UAAS;AAAA,UACT,WAAU;AAAA,UACV,WAAU;AAAA,UAEV;AAAA,gDAAC,kBAAM,CAAC,KAAP,EAAW,KAAK,aAAY,EAAE,OAAM,SAAQ,QAAO,QAAO,GAAE,UAAS;AAAA,YACtE,oCAAC,kBAAM,CAAC,IAAP,EAAU,IAAG,YAAW,WAAU,cAAa,6CAEhD;AAAA,YACA,qCAAC,kBAAM,CAAC,MAAP,EAAY,IAAG,YAAW,IAAG,YAAW,WAAU,WAAU;AAAA;AAAA,cACtB;AAAA,cACpC,WAAW,6DAAE;AAAA;AAAA,gBAAuB,QAAQ,YAAY;AAAA,iBAAE;AAAA,eAC7D;AAAA;AAAA;AAAA,MACF;AAAA;AAAA,EACF;AAEJ;;;;AC1BM;AAlB0B;AAEP;AACS;AAEZ;AAEK;AAKpB,MAAM,iBAAiB,cAAI,CAAC,CAAC,UAA+B;AACjE,QAAM,EAAE,OAAO,IAAI;AACnB,QAAM,CAAC,OAAO,MAAM,OAAO,IAAI,+BAAQ,CAAC,OAAO;AAE/C,SACE,qCAAC,iBAAK,IAAC,OAAM,QAAQ,GAAG,OACtB;AAAA,yCAAC,yBAAK,CAAC,MAAN,EAAW,kBAAgB,KAAK,OAC/B;AAAA,0CAAC,yBAAK,CAAC,OAAN,EAAY,0BAAY;AAAA,MACzB;AAAA,QAAC,yBAAK,CAAC;AAAA,QAAN;AAAA,UACC;AAAA,UACA,OAAO,MAAM;AAAA,UACb,UAAU,OAAO,QAAqC;AACpD,kBAAM,QAAQ,SAAS,IAAI,cAAc,KAAK;AAAA,UAChD;AAAA;AAAA,MACF;AAAA,OACF;AAAA,IACC,KAAK,SAAS,oCAAC,UAAU,IAAE,eAAK,OAAM;AAAA,KACzC;AAEJ,CAAC;;;;AChBG;AAfmB;AAEA;AAEQ;AAOxB,SAAS,cAAc,OAA8C;AAC1E,QAAM,EAAE,QAAQ,SAAS,SAAS,IAAI;AAEtC,SACE,6DACE;AAAA,wCAAC,cAAc,IAAC,QAAgB;AAAA,IAChC,qCAAC,kBAAM,IAAC,KAAI,YACV;AAAA,0CAAC,0BAAM,IAAC,UAAU,GAAG,SAAQ,WAAU,SAAS,SAAS,oBAEzD;AAAA,MACA,oCAAC,0BAAM,IAAC,UAAU,GAAG,SAAS,UAAU,mBAExC;AAAA,OACF;AAAA,KACF;AAEJ;;;;ACsB+C;AAjDT;AACG;AAER;AACH;AAEW;AAId;AACE;AAEC;AAE9B,MAAM,MAAM;AAEL,SAAS,iBAAiB;AAC/B,QAAM,EAAE,QAAQ,eAAe,eAAe,eAAe,OAAO,IAAI,uCAAgB,CAEtF;AACF,QAAM,CAAC,iBAAiB,kBAAkB,IAAI,kBAAQ,CAAkB;AAExE,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,EAAE,OAAO,IAAI,yCAAW,CAAC;AAE/B,oCAAU,CAAC,MAAM,mBAAmB,OAAO,KAAK,CAAC;AACjD,QAAM,WAAW,qBAAW,CAAC,MAAM;AACjC,QAAI,QAAQ;AACV,aAAO,SAAS,OAAO,QAAQ,EAAE,SAAS,KAAK,CAAC;AAAA,IAClD;AACA,aAAS,EAAE;AAAA,EACb,GAAG,CAAC,UAAU,MAAM,CAAC;AAErB,QAAM,SAAS,qBAAW,CAAC,MAAM,cAAc,OAAO,GAAG,CAAC,aAAa,CAAC;AAExE,QAAM,WAAW,qBAAW,CAAC,YAAY;AACvC,UAAM,cAAc,OAAO;AAC3B,QAAI,CAAC,OAAO,MAAO,UAAS;AAAA,EAC9B,GAAG,CAAC,OAAO,OAAO,UAAU,aAAa,CAAC;AAE1C,QAAM,UAAU,qBAAW,CAAC,YAAY;AACtC,QAAI,CAAC,OAAO,MAAO,OAAM,cAAc,SAAS,MAAS;AACzD,kBAAc,SAAS,EAAE;AACzB,UAAM,cAAc,SAAS,eAAe;AAC5C,aAAS;AAAA,EACX,GAAG,CAAC,iBAAiB,UAAU,eAAe,eAAe,OAAO,KAAK,CAAC;AAE1E,SACE,oCAAC,yBAAK,IAAC,WAAS,MAAC,SAAkB,QAAQ,oCAAC,+BAAW,IAAC,OAAM,cAAa,GACzE,+CAAC,iBAAK,IAAC,KAAI,YAAW,IAAG,YAAW,IAAG,YACrC;AAAA,yCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cAAa;AAAA;AAAA,MAElC,oCAAC,wBAAI,IAAC,UAAS,QAAO,IAAG,YAAW,SAAS,MAAM,uCAAY,CAAC,GAAG,GAAG,yBAEtE;AAAA,OACF;AAAA,IACA,oCAAC,aAAa,IAAC,QAAgB,SAAkB,UAAoB;AAAA,KACvE,GACF;AAEJ;;;;ACvBI;AAtCgD;AAE9B;AAGc;AACZ;AAYxB,MAAM,8BAA8B,uBAAa,CAAqC,IAAI;AAEnF,SAAS,iCAAiC;AAC/C,QAAM,MAAM,oBAAU,CAAC,2BAA2B;AAClD,MAAI,CAAC,IAAK,OAAM,IAAI,MAAM,2DAA2D;AACrF,SAAO;AACT;AAEA,MAAM,+BAA+B,4BAA4B;AAE1D,SAAS,8BAA8B,EAAE,SAAS,GAAgB;AACvE,QAAM,CAAC,yBAAyB,0BAA0B,IAAI,kBAAQ,CAAC,KAAK;AAC5E,QAAM,CAAC,uBAAuB,wBAAwB,IAAI,kBAAQ,CAAC,KAAK;AAExE,WAAS,0BAA0B,QAA+B,KAAsB;AACtF,QAAI,sBAAuB,QAAO;AAClC,WAAO,8BAAO,CAAC,MAAM,KAAK,IAAI,wBAAS,CAAC,GAAG,EAAE,cAAc,0CAAmB;AAAA,EAChF;AAEA,SACE;AAAA,IAAC;AAAA;AAAA,MACC,OAAO;AAAA,QACL;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MAEC;AAAA;AAAA,EACH;AAEJ;;;;ACpCI;AAdwB;AAEQ;AAEH;AAEP;AAEG;AACA;AAE7B,MAAM,sBAAI,GAAG;AACb,MAAM,8BAAY,GAAG;AAAA,EACnB,oCAAC,kBAAM,CAAC,IAAP,EAAU,IAAG,YACZ,+CAAC,kBAAM,IAAC,YAAW,UAAS;AAAA;AAAA,IAE1B,oCAAC,kBAAM,CAAC,QAAP,EAAc,SAAS,MAAM,uCAAY,CAAC,gCAAgC,GAAG,MAAK,UACjF,8CAAC,oCAAgB,IAAC,GACpB;AAAA,KACF,KAN4B,CAO9B;AACF;AACA,MAAM,uBAAK,GAAG;AAEP,SAAS,kBAAkB;AAChC,QAAM,WAAW,yCAAW,CAAC;AAE7B,SACE,oCAAC,eAAG,IAAC,IAAI,CAAC,SAAS,UAAU,GAAG,IAAG,YAAW,WAAU,UAAS,OAAM,QACrE;AAAA,IAAC,YAAY;AAAZ;AAAA,MACC,IAAI;AAAJ,MACA,YAAY;AAAZ,MACA,SAAS,MAAM,SAAS,2BAAS,CAAC,eAAe;AAAA,MACjD,KAAK;AAAL;AAAA,EACF,GACF;AAEJ;;;;;;ACbI;AAxBwB;AAEA;AAEF;AAEU;AACV;AACC;AACiB;AAErC,SAAS,oBAAoB;AAClC,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,uBAAuB,2DAA2B,CAAC;AAEzD,WAAS,mBAAmB,QAAgB,YAAqB;AAC/D,QAAI,WAAW,SAAS,CAAC,qBAAsB,QAAO,SAAS,2BAAS,CAAC,eAAe;AACxF,QAAI,YAAY;AACd,aAAO,SAAS,GAAG,2BAAS,CAAC,eAAe,IAAI,OAAO,YAAY,CAAC,IAAI,UAAU,EAAE;AAAA,IACtF;AACA,WAAO,SAAS,GAAG,2BAAS,CAAC,eAAe,IAAI,OAAO,YAAY,CAAC,EAAE;AAAA,EACxE;AAEA,SACE,6DACE;AAAA,wCAAC,UAAU,IAAC,uBAAuB,OAAO;AAAA,IAC1C,oCAAC,sBAAO,IACN,8CAAC,mBAAI,IACH;AAAA,MAAC,mBAAI;AAAJ;AAAA,QACC,cAAc;AAAA,UACZ,GAAG;AAAA,QACL;AAAA,QACA,QACE,qCAAC,kBAAM,CAAC,IAAP,EAAU,WAAU,cAAa,GAAE,YAAW;AAAA;AAAA,UAChC,oCAAC,QAAG;AAAA,UAAE;AAAA,WACrB;AAAA,QAGF,8CAAC,eAAG,IAAC,IAAG,YAAW,IAAG,YACpB,8CAAC,SAAS,IAAC,eAAe,oBAAoB,SAAQ,eAAc,GACtE;AAAA;AAAA,IACF,GACF,GACF;AAAA,KACF;AAEJ;;;AC9CA,+CAAe,qBAAuB,yCAAyC;;;ACK3E;AALgB;AACS;AAEtB,SAAS,SAAS;AACvB,SACE,qCAAC,gBAAI,IAAC,WAAU,UAAS,YAAW,UAClC;AAAA,wCAAC,kBAAM,CAAC,KAAP,EAAW,KAAK,QAAO,EAAE,OAAM,SAAQ,QAAO,SAAQ,KAAI,YAAW,IAAG,YAAW;AAAA,IACpF,oCAAC,kBAAM,CAAC,GAAP,EAAS,WAAU,cAAa,IAAG,YAAW,sBAE/C;AAAA,KACF;AAEJ;;;;ACyCI;AArDwB;AAEN;AAEI;AAEa;AACV;AACQ;AAK9B;AAC4C;AACxB;AACF;AAEF;AAEhB,SAAS,iBAAiB;AAC/B,QAAM,EAAE,MAAM,IAAI,yCAAW,CAAC;AAE9B,QAAM,QAAQ,6BAAQ,CAAC;AAEvB,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI;AAEJ,QAAM,EAAE,OAAO,IAAI,YAAY,CAAC,IAAI;AACpC,QAAM,EAAE,yBAAyB,iBAAiB,IAAI,sBAAsB,CAAC;AAE7E,WAAS,cAAc;AACrB,SAAK,2BAAS,CAAC,MAAM,iCAAiC,EAAE,QAAQ,MAAM,CAAC;AACvE,qBAAiB,EAAE,MAAM,OAAO,KAAK,CAAC;AAAA,EACxC;AAEA,WAAS,cAAc;AACrB,WAAO;AACP,UAAM,QAAQ,YAAY;AAAA,EAC5B;AAEA,SACE,6DACE;AAAA,wCAAC,UAAU,IAAC,OAAM,QAAO,eAAa,MAAC;AAAA,IACvC,oCAAC,sBAAO,IACN,8CAAC,mBAAI,IACH;AAAA,MAAC,mBAAI;AAAJ;AAAA,QACC,cAAc;AAAA,UACZ,GAAG;AAAA,QACL;AAAA,QACA,QAAQ,oCAAC,4BAAa,IAAC,aAA0B,aAA0B;AAAA,QAE3E;AAAA,8CAAC,MAAM,IAAC;AAAA,UACR;AAAA,YAAC,oCAAkB;AAAlB;AAAA,cACC,YAAY;AAAA,cACZ,WAAW;AAAA,cACX,IAAG;AAAA,cACH;AAAA,cACA,OAAO;AAAA;AAAA,UACT;AAAA,UAEA,qCAAC,iBAAK,IAAC,IAAG,YAAW,IAAG,YAAW,OAAM,QACvC;AAAA,gDAAC,6BAAW,IAAC,OAAM,MAAK,OAAO,oCAAC,oBAAoB,IAAC,SAAS,WAAW,GAAI;AAAA,YAC7E,oCAAC,mCAAiB,IAAC;AAAA,YACnB,oCAAC,6BAAW,IAAC,OAAM,eAAc,OAAO,YAAY;AAAA,YAEpD,oCAAC,6BAAW,IAAC,OAAM,WAAU,OAAO,cAAc;AAAA,YAClD,oCAAC,6BAAW,IAAC,OAAM,OAAM,OAAO,aAAa;AAAA,YAC5C,aAAa,oCAAC,6BAAW,IAAC,OAAM,cAAa,OAAO,WAAW;AAAA,aAClE;AAAA;AAAA;AAAA,IACF,GACF,GACF;AAAA,KACF;AAEJ;;;;AClCI;AApDwB;AAEN;AAEI;AAEG;AACS;AACD;AAK9B;AAC4C;AACxB;AACF;AAEF;AAEhB,SAAS,iBAAiB;AAC/B,QAAM,EAAE,MAAM,IAAI,yCAAW,CAAC;AAC9B,QAAM,QAAQ,6BAAQ,CAAC;AAEvB,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI;AAEJ,QAAM,EAAE,OAAO,IAAI,YAAY,CAAC,QAAQ,EAAE;AAC1C,QAAM,EAAE,uBAAuB,IAAI,qBAAqB,CAAC;AAEzD,WAAS,cAAc;AACrB,SAAK,2BAAS,CAAC,MAAM,iCAAiC,EAAE,QAAQ,MAAM,CAAC;AACvE,2BAAuB,MAAM;AAAA,EAC/B;AAEA,WAAS,cAAc;AACrB,WAAO;AACP,UAAM,QAAQ,YAAY;AAAA,EAC5B;AAEA,SACE,6DACE;AAAA,wCAAC,UAAU,IAAC,OAAM,QAAO,eAAa,MAAC;AAAA,IACvC,oCAAC,sBAAO,IACN,8CAAC,mBAAI,IACH;AAAA,MAAC,mBAAI;AAAJ;AAAA,QACC,cAAc;AAAA,UACZ,GAAG;AAAA,QACL;AAAA,QACA,QAAQ,oCAAC,4BAAa,IAAC,aAA0B,aAA0B;AAAA,QAE3E;AAAA,8CAAC,MAAM,IAAC;AAAA,UAER;AAAA,YAAC,oCAAkB;AAAlB;AAAA,cACC,YAAY;AAAA,cACZ,WAAW;AAAA,cACX,IAAG;AAAA,cACH;AAAA,cACA,OAAO;AAAA;AAAA,UACT;AAAA,UAEA,qCAAC,iBAAK,IAAC,IAAG,YAAW,IAAG,YAAW,OAAM,QACvC;AAAA,gDAAC,6BAAW,IAAC,OAAM,MAAK,OAAO,oCAAC,oBAAoB,IAAC,SAAS,WAAW,GAAI;AAAA,YAC7E,oCAAC,mCAAiB,IAAC;AAAA,YACnB,oCAAC,6BAAW,IAAC,OAAM,eAAc,OAAO,YAAY;AAAA,YAEpD,oCAAC,6BAAW,IAAC,OAAM,WAAU,OAAO,cAAc;AAAA,YAClD,oCAAC,6BAAW,IAAC,OAAM,OAAM,OAAO,KAAK;AAAA,YACrC,oCAAC,6BAAW,IAAC,OAAM,+BAA8B,OAAO,WAAW;AAAA,aACrE;AAAA;AAAA;AAAA,IACF,GACF,GACF;AAAA,KACF;AAEJ;;;;AChDwB;AAtCH;AAEY;AAIK;AACF;AACF;AACI;AACJ;AACI;AAEJ;AAO3B,MAAM,kBAAkB,cAAI,CAAC,CAAC,EAAE,OAAO,eAAe,QAAQ,MAA4B;AAC/F,QAAM,EAAE,eAAe,QAAQ,gBAAgB,IAAI,uCAAgB,CAEjE;AACF,QAAM,gBAAgB,eAAe,WAAW;AAChD,QAAM,EAAE,MAAM,OAAO,GAAG,IAAI,kDAAqB,CAAC,EAAE,SAAS,eAAe,MAAM,CAAC;AACnF,QAAM,gBAAgB,6DAAqB,CAAC,KAAK;AACjD,QAAM,iBAAiB,gBAAgB,CAAC,EAAE,WAAW;AAErD,QAAM,kBAAkB,MAAM;AAC5B,UAAM,YAAY,OAAO,WAAW;AACpC,SAAK,cAAc,aAAa,YAAY,iBAAiB,eAAe,KAAK;AACjF,SAAK,gBAAgB,aAAa,KAAK;AACvC,YAAQ;AAAA,EACV;AAEA,SACE;AAAA,IAAC,qBAAqB;AAArB;AAAA,MACC,kBAAkB,oCAAC,iBAAiB,IAAC,OAAc;AAAA,MACnD,aAAa,oCAAC,iBAAiB,IAAE,gBAAK;AAAA,MACtC,QACE;AAAA,QAAC,iBAAiB;AAAjB;AAAA,UACC;AAAA,UACA,WAAW,eAAe,gBAAgB;AAAA,UAC1C;AAAA;AAAA,MACF;AAAA,MAEF,cAAc,oCAAC,mBAAmB,IAAC,YAAY,eAAe,YAAY,gBAAgB;AAAA,MAC1F;AAAA,MACA,YAAY;AAAA,MACZ,WAAW;AAAA,MACX;AAAA;AAAA,EACF;AAEJ,CAAC;;;;AC1Ba;AA5Bc;AACA;AACH;AAEL;AAEe;AAEQ;AACT;AACF;AAEA;AAEzB,SAAS,yBAAyB;AACvC,QAAM,iBAAiB,kDAAiB,CAAC;AACzC,QAAM,WAAW,yCAAW,CAAC;AAE7B,QAAM,WAAW,qBAAW,CAAC,MAAM,SAAS,MAAM,EAAE,SAAS,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC;AAChF,QAAM,kBAAkB,0BAA0B,CAAC;AACnD,QAAM,kBAAkB,gBAAgB,SAAS;AACjD,QAAM,qBAAqB,eAAe;AAE1C,MAAI,uBAAuB,KAAK,oBAAoB,EAAG,QAAO;AAC9D,QAAM,aAAa,sBAAsB;AAEzC,SACE;AAAA,IAAC,yBAAK;AAAL;AAAA,MACC,QAAQ,oCAAC,+BAAW,IAAC,OAAM,eAAc;AAAA,MACzC,WAAS;AAAA,MACT,SAAS;AAAA,MACT,cAAc;AAAA,MAEd,8CAAC,eAAe,IACd;AAAA,QAAC,oCAAQ;AAAR;AAAA,UACC,OAAO;AAAA,YACL,QAAQ;AAAA,UACV;AAAA,UACA,aAAa,WACX,oCAAC,eAAG,IAAa,IAAG,YAAW,IAAG,YAChC;AAAA,YAAC,eAAe;AAAf;AAAA,cACC,eAAe,eAAe,KAAK;AAAA,cACnC,SAAS;AAAA,cACT;AAAA;AAAA,UACF,KALQ,KAMV;AAAA,UAEF,YAAY;AAAA;AAAA,MACd,GACF;AAAA;AAAA,EACF;AAEJ;;;;ACpCS;AAhBgB;AACgB;AAQlC,SAAS,kCAAkC;AAChD,QAAM,UAAU,8CAAgB,CAA+B;AAC/D,SAAO,EAAE,GAAG,QAAQ;AACtB;AAEO,SAAS,4BAA4B;AAC1C,QAAM,CAAC,iBAAiB,kBAAkB,IAAI,kBAAQ,CAAoB,IAAI;AAC9E,SAAO,oCAAC,gCAAM,IAAC,SAAS,EAAE,iBAAiB,mBAAmB,GAAG;AACnE;;;;ACjB4B;AAEP;AAKE;AAMhB;AACyC;AACa;AAOtD,SAAS,oCAAoC;AAClD,QAAM,SAAS,oFAA4C,CAAC;AAE5D,QAAM,cAAc,4DAA+B,CAAC;AAEpD,SAAO,qBAAW;AAAX,IACL,OACE,QACA,SACA,OACA,iBACG;AACH,UAAI,CAAC,MAAM,OAAQ;AACnB,UAAI,CAAC,QAAS;AAEd,UAAI;AACF,cAAM,KAAK,IAAI,mCAAe,CAAC;AAE/B,cAAM,qBAAqB;AAAA,UACzB;AAAA,UACA,YAAY,OAAO;AAAA,UACnB;AAAA,QACF;AAEA,cAAM,EAAE,QAAQ,SAAS,IAAI,IAAI,eAC7B,yBAAyB,CAAC,kBAAkB,IAC5C,sBAAsB,CAAC,kBAAkB;AAE7C,4BAAM,CAAC,KAAK,kBAAkB,EAAE,QAAQ,SAAS,IAAI,CAAC;AAEtD,YAAI,CAAC,OAAO,OAAQ,OAAM,IAAI,MAAM,mBAAmB;AACvD,YAAI,CAAC,QAAQ,OAAQ,OAAM,IAAI,MAAM,oBAAoB;AAOzD,cAAM,SAAS,sBAAU,CAAC,OAAO,WAAW,WAAW;AAEvD,mBAAW,SAAS,QAAQ;AAC1B,aAAG,SAAS;AAAA,YACV,MAAM,MAAM;AAAA,YACZ,OAAO,MAAM;AAAA,YACb,UAAU;AAAA,YACV,aAAa;AAAA;AAAA,cAEX,QAAQ,OAAO;AAAA,cACf,QAAQ,OAAO,MAAM,KAAK;AAAA,YAC5B;AAAA,UACF,CAAC;AAAA,QACH;AAEA,gBAAQ,QAAQ,YAAU;AAGxB,cAAI,CAAC,OAAO,SAAS;AACnB,eAAG,iBAAiB,OAAO,SAAS,OAAO,OAAO,KAAK,GAAG,WAAW;AACrE;AAAA,UACF;AACA,aAAG,iBAAiB,OAAO,SAAS,OAAO,OAAO,KAAK,GAAG,WAAW;AAAA,QACvE,CAAC;AAED,eAAO,EAAE,KAAK,GAAG,KAAK,KAAU,MAAM,GAAG,OAAO,GAAG,OAAO;AAAA,MAC5D,SAAS,GAAG;AAEV,gBAAQ,IAAI,qCAAqC,CAAC;AAClD,eAAO;AAAA,MACT;AAAA,IACF;AAAA,IACA,CAAC,aAAa,OAAO,SAAS,OAAO,SAAS;AAAA,EAChD;AACF;;;;AC9FsB;AAIgB;AAEsB;AASrD,SAAS,yBAAyB;AAAA,EACvC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA6B;AAC3B,MAAI,CAAC,MAAM,UAAU,CAAC;AACpB,WAAO;AAAA,MACL,aAAa;AAAA,MACb,QAAQ,kCAAW,CAAC,GAAG,KAAK;AAAA,MAC5B,kBAAkB,IAAI,wBAAS,CAAC,CAAC;AAAA,IACnC;AAEF,QAAM,iBAAiB,WAAW,gBAAgB,YAAY,SAAS;AAEvE,QAAM,gBAAgB,uBAAuB,CAAC;AAAA,IAC5C;AAAA,IACA,SAAS;AAAA,IACT,YAAY,CAAC,EAAE,SAAS,QAAQ,kCAAW,CAAC,GAAG,KAAK,EAAE,CAAC;AAAA,EACzD,CAAC;AAED,QAAM,EAAE,iBAAiB,IAAI,IAAI,kBAAkB,CAAC;AAAA,IAClD,OAAO;AAAA,IACP,SAAS;AAAA,IACT,YAAY,CAAC,EAAE,SAAS,QAAQ,kCAAW,CAAC,GAAG,KAAK,EAAE,CAAC;AAAA,EACzD,CAAC;AAED,SAAO;AAAA,IACL,aAAa;AAAA,IACb,QAAQ,kCAAW,CAAC,iBAAiB,KAAK;AAAA,IAC1C,kBAAkB,+BAAQ,CAAC,eAAe;AAAA,EAC5C;AACF;;;;AC/C4B;AAEqC;AAExB;AAElC,SAAS,8BAA8B;AAC5C,QAAM,EAAE,MAAM,SAAS,IAAI,iDAAyB,CAAC;AAErD,SAAO,qBAAW;AAAX,IACL,CAAC,UAAU,IAAI,OAA2B,YACxC,wBAAwB,CAAC;AAAA,MACvB;AAAA,MACA;AAAA,MACA;AAAA,MACA,iBAAiB;AAAA,IACnB,CAAC;AAAA,IACH,CAAC,QAAQ;AAAA,EACX;AACF;;;;;;ACnBwB;AACiB;AAEd;AAEA;AAKD;AAsBnB,SAAS,sBAAsB;AACpC,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,WAAW,yCAAW,CAAC;AAE7B,SAAO,iBAAO;AAAP,IACL,OAAO;AAAA,MACL,eAAe,OAAY;AACzB,eAAO,SAAS,OAAO,EAAE,UAAU,QAAQ,SAAS,MAAM,MAAM,CAAC;AAAA,MACnE;AAAA,MACA,uBACE,cACA,OACA,QACA;AACA,eAAO,SAAS,2BAAS,CAAC,kBAAkB;AAAA,UAC1C,SAAS;AAAA,UACT,OAAO;AAAA,YACL;AAAA,YACA;AAAA,YACA;AAAA,UACF;AAAA,QACF,CAAC;AAAA,MACH;AAAA,MACA,+BAA+B;AAAA,QAC7B;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF,GAA6B;AAC3B,eAAO,SAAS,2BAAS,CAAC,qBAAqB;AAAA,UAC7C,OAAO;AAAA,YACL;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,UACF;AAAA,QACF,CAAC;AAAA,MACH;AAAA,MACA,+BAA+B,IAAuB,sBAA+B;AACnF,eAAO,SAAS,2BAAS,CAAC,qBAAqB;AAAA,UAC7C,SAAS;AAAA,UACT,OAAO;AAAA,YACL,IAAI,gCAAU,CAAC,GAAG,UAAU,CAAC;AAAA,YAC7B;AAAA,UACF;AAAA,QACF,CAAC;AAAA,MACH;AAAA,MACA,uCAAuC;AAAA,QACrC;AAAA,QACA;AAAA,QACA;AAAA,MACF,GAAqC;AACnC,eAAO,SAAS,GAAG,SAAS,QAAQ,YAAY;AAAA,UAC9C,OAAO;AAAA,YACL;AAAA,YACA,OAAO;AAAA,YACP,IAAI,gCAAU,CAAC,GAAG,UAAU,CAAC;AAAA,UAC/B;AAAA,QACF,CAAC;AAAA,MACH;AAAA,MACA,YAAY,OAAgB;AAE1B,cAAM,iBAAiB,iBAAiB,qCAAU,GAAG,IAAI,MAAM,MAAM,OAAO,IAAI;AAEhF,eAAO,SAAS,YAAY;AAAA,UAC1B,UAAU;AAAA,UACV,SAAS;AAAA,UACT,OAAO,EAAE,OAAO,eAAe;AAAA,QACjC,CAAC;AAAA,MACH;AAAA,IACF;AAAA,IACA,CAAC,UAAU,QAAQ;AAAA,EACrB;AACF;;;;AC3GsC;AAEf;AAES;AACkB;AAEjB;AAEW;AACR;AACC;AAE9B,SAAS,kBAAkB;AAChC,QAAM,EAAE,cAAc,UAAU,MAAM,IAAI,oBAAoB,CAAC;AAC/D,QAAM,mBAAmB,mBAAmB,CAAC;AAC7C,QAAM,aAAa,iCAAiC,CAAC;AACrD,QAAM,eAAe,2BAA2B,CAAC;AACjD,QAAM,SAAS,0CAAgB,CAAC;AAChC,QAAM,gBAAgB,kCAAW,CAAC,+BAAQ,CAAC,SAAS,MAAM,EAAE,SAAS,GAAG,KAAK;AAE7E,SAAO;AAAA,IACL;AAAA,IAEA,MAAM,mBAAmB,EAAE,SAAS,UAAU,MAAM,YAAY,GAAoB;AAClF,YAAM,SAAS,eACX,aAAa,SAAS,WAAW,OAAO,OAAO,EAAE,SACjD;AAEJ,YAAM,OAAO,MAAM;AAAA,QACjB;AAAA,UACE;AAAA,UACA,YAAY;AAAA,YACV;AAAA,cACE,SAAS,SAAS;AAAA,cAClB;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AACA,YAAM,cAAc,eAAe,CAAC,SAAS,WAAW;AACxD,UAAI,CAAC,KAAM,QAAO,oBAAM,CAAC,MAAM,gDAAgD;AAE/E,YAAM,WAAW,MAAM,OAAO,KAAK,IAAI;AAEvC,UAAI,CAAC,SAAU,QAAO,oBAAM,CAAC,MAAM,wCAAwC;AAE3E,eAAS,SAAS;AAElB,uBAAiB,+BAA+B;AAAA,QAC9C,IAAI,SAAS;AAAA,QACb,WAAW,SAAS;AAAA,QACpB,KAAK;AAAA,QACL;AAAA,QACA;AAAA,MACF,CAAC;AAAA,IACH;AAAA,EACF;AACF;;;;ACTI;AApDmB;AAOmB;AACV;AACG;AACL;AACG;AACO;AACb;AAEqB;AAChB;AAEzB,SAAS,uBAAuB;AACrC,QAAM,eAAe,yBAAyB,CAAC,cAAc;AAC7D,QAAM,WAAW,yBAAyB,CAAC,QAAQ;AACnD,QAAM,QAAQ,yBAAyB,CAAC,OAAO;AAC/C,SAAO,EAAE,cAAc,UAAU,MAAM;AACzC;AAEO,SAAS,eAAe;AAC7B,QAAM,EAAE,cAAc,UAAU,MAAM,IAAI,qBAAqB;AAC/D,QAAM,EAAE,iBAAiB,mBAAmB,IAAI,+BAA+B,CAAC;AAChF,QAAM,EAAE,eAAe,mBAAmB,IAAI,eAAe,CAAC;AAE9D,QAAM,EAAE,UAAU,UAAU,IAAI,kBAAkB,CAAC;AAAA,IACjD,QAAQ;AAAA,IACR;AAAA,IACA,WAAW,SAAS;AAAA,IACpB;AAAA,EACF,CAAC;AAED,QAAM,aAAa;AAAA,IACjB;AAAA,MACE,SAAS,SAAS;AAAA,MAClB,QAAQ;AAAA,IACV;AAAA,EACF;AAEA,QAAM,qBAAqB,SAAS,CAAC,GAAG,QAAQ,SAAS,KAAK;AAE9D,QAAM,EAAE,8BAA8B,6BAA6B,IAAI,uBAAuB;AAAvB,IACrE;AAAA,IACA;AAAA,EACF;AAEA,SACE,6DACE;AAAA,wCAAC,UAAU,IAAC,OAAM,QAAO;AAAA,IACzB,oCAAC,sBAAO,IACN,+CAAC,mBAAI,IACH;AAAA;AAAA,QAAC,gBAAgB;AAAhB;AAAA,UACC,QAAQ;AAAA,UACR,oBAAoB,CAAC,SAAS;AAAA,UAC9B,UACE;AAAA,YAAC,eAAe;AAAf;AAAA,cACC;AAAA,cACA;AAAA,cACA,aAAa;AAAA,cACb,sBAAsB,CAAC,UAA6B,mBAAmB,KAAK;AAAA,cAC5E,wBAAwB;AAAA,cACxB;AAAA;AAAA,UACF;AAAA,UAEF;AAAA,UACA;AAAA,UACA,aAAa;AAAA,UACb,wBAAwB;AAAA,UACxB,sBAAsB,CAAC,UAA6B,mBAAmB,KAAK;AAAA,UAC5E;AAAA,UACA;AAAA,UACA,WAAW;AAAA,UACX,uBAAuB,SAAS,CAAC,GAAG;AAAA;AAAA,MACtC;AAAA,MACA,oCAAC,gCAAM,IAAC;AAAA,OACV,GACF;AAAA,KACF;AAEJ;;;;AC2DQ;AA/ImE;AAElC;AAChB;AACgB;AAEO;AAGd;AACE;AACT;AAE3B,MAAM,gBAAgB;AACtB,MAAM,cAAc;AACpB,MAAM,cAAc;AAGpB,MAAM,YAAY,mCAAY,GAAG;AASjC,SAAS,0BAA0B,OAAkC;AACnE,QAAM,EAAE,UAAU,kBAAkB,aAAAC,cAAa,QAAQ,OAAO,IAAI;AACpE,QAAM,0BAA0B,OAAO,SAAS;AAChD,SAAO,OAAO,SAAS,OAAO,SAC1B,KAAK,KAAK,WAAW,uBAAuB,IAC5CA;AACN;AAYO,SAAS,YAAY;AAAA,EAC1B,eAAe;AAAA,EACf,YAAY;AAAA,EACZ;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAqB;AACnB,QAAM,CAAC,OAAO,MAAM,OAAO,IAAI,+BAAQ,CAAC,QAAQ;AAEhD,QAAM,YAAY,iBAAiB,CAAC,QAAQ;AAC5C,QAAM,CAAC,UAAU,WAAW,IAAI,kBAAQ,CAAC,WAAW;AACpD,QAAM,CAAC,cAAc,eAAe,IAAI,kBAAQ,CAAC,CAAC;AAClD,QAAM,CAAC,oBAAoB,qBAAqB,IAAI,kBAAQ,CAAC,CAAC;AAC9D,QAAM,WAAW,gBAAM,CAAkB,IAAI;AAE7C,QAAM,SAAS,eAAe,QAAQ;AAEtC,QAAM,oBAAoB,cAAc,eAAe;AACvD,QAAM,mCAAmC;AAEzC,QAAM,WAAW,CAAC,UAAyC;AACzD,UAAM,QAAQ,MAAM,cAAc;AASlC,QAAI,OAAO,UAAU,wCAAiB,IAAI,MAAM,WAAW,GAAG;AAC5D,YAAM,IAAI,MAAM,UAAU,OAAO,SAAS;AAE1C,YAAM,cAAc,4CAAmB,CAAC,EAAE,OAAO,aAAa,KAAK,aAAa,EAAE,CAAC;AACnF,kBAAY,WAAW;AAAA,IACzB;AAEA,UAAM,SAAS,KAAK;AAAA,EACtB;AAEA,qBAAS,CAAC,MAAM;AAEd,QAAI,OAAO,SAAS,wCAAiB,CAAE,aAAY,WAAW;AAG9D,QAAI,MAAM,MAAM,SAAS,OAAO,UAAU,MAAM,MAAM,SAAS,qBAAqB,GAAG;AACrF,YAAM,mBAAmB,0BAA0B;AAAA,QACjD,QAAQ,MAAM;AAAA,QACd;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF,CAAC;AACD,kBAAY,mBAAmB,cAAc,cAAc,gBAAgB;AAAA,IAC7E;AACA;AAAA,MACE,eAAe,MAAM,MAAM,SAAS,mCAAmC,MAAM,MAAM;AAAA,IACrF;AAAA,EACF,GAAG,CAAC,MAAM,OAAO,UAAU,kBAAkB,cAAc,oBAAoB,MAAM,CAAC;AAEtF,qBAAS,CAAC,MAAM;AACd,UAAM,iBAAiB,IAAI,eAAe,aAAW;AACnD,YAAM,CAAC,IAAI,IAAI;AACf,YAAM,CAAC,IAAI,IAAI,MAAM;AACrB,UAAI,MAAM;AACR,cAAM,EAAE,WAAW,IAAI;AACvB,wBAAgB,UAAU;AAAA,MAC5B;AAAA,IACF,CAAC;AAED,UAAM,gBAAgB,SAAS;AAE/B,QAAI,eAAe;AACjB,qBAAe,QAAQ,aAAa;AAAA,IACtC;AACA,UAAM,eAAe,WAAW;AAAA,EAClC,GAAG,CAAC,CAAC;AAGL,QAAM,oBAAoB,qBAAW,CAAC,MAAM;AAC1C,QAAI,cAAc;AAChB,WAAK,QAAQ,SAAS,EAAE;AACxB,0BAAoB,KAAK;AAAA,IAC3B;AAGA,eAAW,MAAM;AACf,eAAS,eAAe,aAAa,GAAG,MAAM;AAAA,IAChD,CAAC;AAAA,EACH,GAAG,CAAC,cAAc,SAAS,iBAAiB,CAAC;AAE7C,SACE,qCAAC,iBAAK,IAAC,YAAW,UAAS,KAAK,CAAC,YAAY,YAAY,aAAa,MAAM,GAAG,OAAM,QACnF;AAAA,yCAAC,gBAAI,IAAC,YAAW,UAAS,eAAc,UAAS,SAAS,mBAAmB,OAAM,QAEjF;AAAA;AAAA,QAAC,gBAAI;AAAJ;AAAA,UACC,YAAW;AAAA,UACX,QAAO;AAAA,UACP,gBAAe;AAAA,UACf,YAAY;AAAA,UACZ,UAAS;AAAA,UACT,YAAW;AAAA,UAEV;AAAA,2BAAe,oCAAC,kBAAM,CAAC,MAAP,EAAY,OAAO,EAAE,UAAU,WAAW,KAAK,GAAG,eAAC,IAAiB;AAAA,YACrF;AAAA,cAAC,kBAAM,CAAC;AAAA,cAAP;AAAA,gBACC,WAAW,EAAE,IAAI,yBAAyB;AAAA,gBAC1C,QAAQ;AAAA,kBACN,QAAQ;AAAA,kBACR,OAAO;AAAA,gBACT;AAAA,gBACA,IAAG;AAAA,gBACH,QAAO;AAAA,gBACP,eAAa,wBAAwB,CAAC;AAAA,gBACtC,QAAO;AAAA,gBACP,IAAI;AAAA,gBACJ,UAAU;AAAA,gBACV;AAAA,gBACA,aAAY;AAAA,gBACZ,IAAG;AAAA,gBACH,MAAK;AAAA,gBACL,OAAO;AAAA,kBACL,UAAU,WAAW;AAAA,kBACrB,mBAAmB,CAAC,MAAM,OAAO,SAAS,IAAI;AAAA,kBAC9C,OAAO,CAAC,MAAM,OAAO,SAAS,QAAQ,eAAe,KAAK;AAAA,gBAC5D;AAAA,gBACA,WAAU;AAAA,gBACV,eAAc;AAAA,gBAUd,WAAW;AAAA,gBACX,YAAY;AAAA,gBACZ;AAAA,gBACC,GAAG;AAAA,gBACJ;AAAA;AAAA,YACF;AAAA,YAKA;AAAA,cAAC,kBAAM,CAAC;AAAA,cAAP;AAAA,gBACC,UAAS;AAAA,gBACT,KAAK;AAAA,gBACL,YAAW;AAAA,gBACX,eAAc;AAAA,gBACd,KAAK;AAAA,gBACL,MAAM;AAAA,gBACN,eAAe,OAAO;AAAA,gBACtB,YAAY;AAAA,gBACZ,UAAU;AAAA,gBACV,OAAO,EAAE,UAAU,WAAW,KAAK;AAAA,gBAElC,gBAAM;AAAA;AAAA,YACT;AAAA,YACA;AAAA,cAAC,kBAAM,CAAC;AAAA,cAAP;AAAA,gBACC,YAAW;AAAA,gBACX,OAAM;AAAA,gBACN,eAAc;AAAA,gBACd,IAAG;AAAA,gBACH,OAAO,EAAE,UAAU,WAAW,KAAK;AAAA,gBAElC,iBAAO,YAAY;AAAA;AAAA,YACtB;AAAA;AAAA;AAAA,MACF;AAAA,MACA,oCAAC,eAAG,IAAC,IAAG,QAAQ,8BAAoB,kBAAiB;AAAA,OACvD;AAAA,IACC,aACC,oCAAC,gBAAI,IACH,8CAAC,UAAU,IAAC,eAAa,wBAAwB,CAAC,4BAC/C,eAAK,OACR,GACF;AAAA,IAED;AAAA,KACH;AAEJ;;;;ACxMU;AA9BsB;AACH;AAER;AAEM;AAOpB,SAAS,mBAAmB,EAAE,MAAM,MAAM,OAAO,GAA4B;AAClF,QAAM,CAAC,EAAE,EAAE,OAAO,IAAI,+BAAQ,CAAC,QAAQ;AAEvC,oCAAU,CAAC,MAAM,QAAQ,SAAS,MAAM,CAAC;AAEzC,SACE;AAAA,IAAC,gBAAI;AAAJ;AAAA,MACC,YAAW;AAAA,MACX,QAAO;AAAA,MACP,cAAa;AAAA,MACb,WAAU;AAAA,MACV,IAAG;AAAA,MACH,IAAG;AAAA,MACH,IAAG;AAAA,MACH,OAAM;AAAA,MAEN,8CAAC,wBAAK,IAAC,IAAG,OAAM,MAAK,UACnB,8CAAC,wBAAI,IAAC,KAAK,MAAM,SAAQ,YACvB,8CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAY,gBAAK,GAC1C,GACF;AAAA;AAAA,EACF;AAEJ;;;;ACEI;AArCgC;AAEX;AACF;AAQhB;AAQA,SAAS,cAAc,EAAE,YAAY,cAAc,IAAI,cAAc,GAAuB;AACjG,QAAM,CAAC,KAAK,IAAI,+BAAQ,CAAC,QAAQ;AACjC,QAAM,CAAC,YAAY,aAAa,IAAI,kBAAQ;AAAR,IAClC,6CAAsB,CAAC,GAAG,aAAa,aAAa;AAAA,EACtD;AAEA,qBAAS,CAAC,MAAM;AACd,QAAI,SAAS,OAAO,MAAM,KAAK;AAE/B,QAAI,MAAM,MAAM,KAAK,CAAC,+BAAQ,CAAC,MAAM,KAAK,SAAS,GAAG;AACpD,eAAS;AAAA,IACX;AAEA,UAAM,cAAc,6CAAsB,CAAC,QAAQ,aAAa,aAAa;AAC7E,kBAAc,WAAW;AAAA,EAC3B,GAAG,CAAC,MAAM,OAAO,aAAa,aAAa,CAAC;AAE5C,SACE,qCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,WAAU,OAAM,oBACpC;AAAA,WAAO,MAAM,KAAK,IAAI,KAAK;AAAA,IAAK;AAAA,IAChC,yCAAkB,CAAC,gDAAyB,CAAC,YAAY,UAAU,CAAC;AAAA,IAAE;AAAA,KACzE;AAEJ;;;;AC5BI;AAZqC;AAClB;AAKhB,SAAS,oBAAoB,EAAE,SAAS,GAAG,MAAM,GAA6B;AACnF,WAAS,8BAA8B,GAAqB;AAC1D,MAAE,eAAe;AAAA,EACnB;AAEA,SACE;AAAA,IAAC,kBAAM,CAAC;AAAA,IAAP;AAAA,MACC,MAAK;AAAA,MACL,OAAM;AAAA,MACN,YAAW;AAAA,MACX,WAAU;AAAA,MACV,QAAQ,EAAE,OAAO,2BAA2B;AAAA,MAC5C,eAAa,wBAAwB,CAAC;AAAA,MACtC,aAAa,OAAK,8BAA8B,CAAC;AAAA,MACjD,SAAS,OAAK;AAIZ,QAAC,EAAE,OAA6B,MAAM;AACtC,kBAAU;AAAA,MACZ;AAAA,MACA,QAAQ;AAAA,MACP,GAAG;AAAA,MACL;AAAA;AAAA,EAED;AAEJ;;;;ACnCsC;AAEL;AAEkB;AAEjB;AACX;AAGgB;AAGhC,SAAS,sBAAsB;AACpC,QAAM,EAAE,eAAe,eAAe,OAAO,IAAI,uCAAgB,CAE/D;AACF,QAAM,CAAC,YAAY,aAAa,IAAI,kBAAQ,CAAC,EAAE;AAC/C,QAAM,iBAAiB,iDAAsB,CAAC;AAC9C,QAAM,SAAS,uCAAe,CAAC;AAE/B,QAAM,2BAA2B,qBAAW;AAAX,IAC/B,OACE,YACG;AACH,oBAAc,EAAE;AAChB,UAAI,CAAC,OAAO,iBAAkB;AAE9B,UAAI;AACF,cAAM,QAAQ,MAAM,QAAQ,QAAQ,OAAO,kBAAkB,eAAe,SAAS;AACrF,YAAI,OAAO;AACT,wBAAc,KAAK;AACnB,wBAAc,aAAa,MAAS;AACpC,gBAAM,cAAc,aAAa,KAAK;AAAA,QACxC,OAAO;AACL,wBAAc,oBAAoB,iBAAiB,CAAC,kBAAkB;AAAA,QACxE;AAAA,MACF,SAAS,GAAG;AACV,sBAAc,oBAAoB,iBAAiB,CAAC,kBAAkB;AACtE,4BAAM,CAAC,MAAM,8BAA8B,CAAC;AAAA,MAC9C;AAAA,IACF;AAAA,IACA,CAAC,QAAQ,eAAe,WAAW,eAAe,eAAe,OAAO,gBAAgB;AAAA,EAC1F;AAEA,SAAO,EAAE,YAAY,0BAA0B,cAAc;AAC/D;;;;AC9C+C;AACnB;AAEK;AAIP;AAEU;AAEpC,MAAM,8BAA8B,EAAE,SAAS,WAAW,SAAS,WAAW;AAI9E,SAAS,4CACP,kBACA;AACA,SAAQ,OAAO,QAAQ,gBAAgB,EAAuC;AAAA,IAC5E,CAAC,CAAC,KAAK,KAAK,OAAO,EAAE,KAAK,OAAO,MAAM;AAAA,EACzC;AACF;AACO,MAAM,2BAA2B;AAAA,EACtC;AACF;AAEO,SAAS,2BAA2B;AACzC,QAAM,EAAE,eAAe,iBAAiB,cAAc,IAAI,uCAAgB,CAAC;AAE3E,QAAM,CAAC,wBAAwB,yBAAyB,IACtD,kBAAQ,CAA0B,SAAS;AAE7C,QAAM,CAAC,iBAAiB,kBAAkB,IAAI,kBAAQ,CAAC,KAAK;AAC5D,QAAM,EAAE,cAAc,IAAI,mBAAmB,CAAC;AAC9C,QAAM,WAAW,yCAAW,CAAC;AAE7B,QAAM,0BAA0B,qBAAW,CAAC,YAAY;AACtD,SAAK,cAAc,aAAa,EAAE;AAClC,kBAAc,aAAa,MAAS;AACpC,UAAM,gBAAgB,aAAa,KAAK;AACxC,SAAK,cAAc,oBAAoB,EAAE;AACzC,kBAAc,oBAAoB,MAAS;AAC3C,UAAM,gBAAgB,oBAAoB,KAAK;AAAA,EACjD,GAAG,CAAC,eAAe,eAAe,eAAe,CAAC;AAElD,SAAO,iBAAO;AAAP,IACL,OAAO;AAAA,MACL;AAAA,MAEA,4BAA4B,4BAA4B,sBAAsB;AAAA,MAE9E;AAAA,MAEA,6BAA6B;AAC3B,kCAA0B,SAAS;AACnC,iBAAS,2BAAS,CAAC,sCAAsC,EAAE,SAAS,KAAK,CAAC;AAAA,MAC5E;AAAA,MAEA,MAAM,2BAA2B,eAAwC;AACvE,cAAM,wBAAwB;AAC9B,sBAAc,EAAE;AAChB,kCAA0B,aAAa;AACvC,2BAAmB,KAAK;AAAA,MAC1B;AAAA,MAEA,MAAM,qBAAqB,OAAgB;AACzC,cAAM,wBAAwB;AAC9B,2BAAmB,KAAK;AAAA,MAC1B;AAAA,IACF;AAAA,IACA,CAAC,iBAAiB,UAAU,yBAAyB,wBAAwB,aAAa;AAAA,EAC5F;AACF;;;;ACxDI;AAhBqC;AAEW;AAK7C;AAMA,SAAS,gCAAgC,OAA6C;AAC3F,QAAM,EAAE,+BAA+B,gCAAgC,IAAI;AAC3E,SACE,qCAAC,gCAAY,CAAC,MAAb,EACC;AAAA;AAAA,MAAC,gCAAY,CAAC;AAAA,MAAb;AAAA,QACC,eAAa,wBAAwB,CAAC;AAAA,QAEtC;AAAA,UAAC,wBAAI;AAAJ;AAAA,YACC,SAAO;AAAA,YACP,KAAK,oCAAC,mCAAe,IAAC,SAAQ,SAAQ;AAAA,YACtC,SAAQ;AAAA,YACR,OAAM;AAAA,YACN,QAAQ,EAAE,OAAO,2BAA2B;AAAA,YAE3C;AAAA;AAAA,QACH;AAAA;AAAA,IACF;AAAA,IACA,oCAAC,gCAAY,CAAC,QAAb,EACC,8CAAC,gCAAY,CAAC,SAAb,EACC,8CAAC,gCAAY,CAAC,OAAb,EACE,kCAAwB,CAAC,IAAI,UAC5B;AAAA,MAAC,gCAAY,CAAC;AAAA,MAAb;AAAA,QAEC,UAAU,MAAM,gCAAgC,KAAK,GAAG;AAAA,QACxD,eAAa,0BAA0B,KAAK,GAAG;AAAA,QAE9C,eAAK;AAAA;AAAA,MAJD,KAAK;AAAA,IAKZ,CACD,GACH,GACF,GACF;AAAA,KACF;AAEJ;;;;ACvBI;AAxBwB;AAEa;AACV;AAEN;AAEC;AAEG;AACA;AAKtB,SAAS,0BAA0B,EAAE,QAAQ,GAAmC;AACrF,QAAM,EAAE,QAAQ,UAAU,IAAI,YAAY,CAAC,OAAO;AAElD,QAAM,kBAAkB,qBAAW,CAAC,MAAM;AACxC,SAAK,2BAAS,CAAC,MAAM,yCAAyC;AAC9D,WAAO;AAAA,EACT,GAAG,CAAC,MAAM,CAAC;AAEX,SACE,qCAAC,kBAAM,IAAC,IAAG,YAAW,OAAM,QAAO,IAAG,YAAW,IAAG,YAClD;AAAA;AAAA,MAAC,kBAAM,CAAC;AAAA,MAAP;AAAA,QACC,WAAU;AAAA,QACV,eAAa,wBAAwB,CAAC;AAAA,QAErC;AAAA;AAAA,IACH;AAAA,IAGA,oCAAC,iCAAY,IAAC,OAAO,YAAY,YAAY,gBAAgB,MAAK,SAAQ,SAAO,MAC/E;AAAA,MAAC,kBAAM,CAAC;AAAA,MAAP;AAAA,QACC,QAAQ,EAAE,QAAQ,UAAU;AAAA,QAC5B,eAAa,wBAAwB,CAAC;AAAA,QACtC,SAAS;AAAA,QACT,MAAK;AAAA,QAEL,8CAAC,4BAAQ,IAAC;AAAA;AAAA,IACZ,GACF;AAAA,KACF;AAEJ;;;;ACCI;AA9CgC;AAEH;AAMS;AAEA;AACN;AAO7B,SAAS,0BAA0B;AAAA,EACxC;AAAA,EACA;AAAA,EACA;AACF,GAAmC;AACjC,QAAM,CAAC,gBAAgB,iBAAiB,IAAI,kBAAQ,CAAC,KAAK;AAC1D,QAAM,EAAE,QAAQ,eAAe,OAAO,IAAI,uCAAgB,CAExD;AACF,QAAM,EAAE,YAAY,yBAAyB,IAAI,mBAAmB,CAAC;AAOrE,qBAAS,CAAC,MAAM;AACd,QAAI,CAAC,OAAO,WAAW;AACrB,oBAAc,kBAAkB,IAAI;AACpC,oBAAc,oBAAoB,MAAS;AAAA,IAC7C;AACA,QAAI,OAAO,aAAa,OAAO,WAAW;AACxC,wBAAkB,KAAK;AACvB,oBAAc,oBAAoB,OAAO,SAAS;AAAA,IACpD;AAAA,EACF,GAAG,CAAC,YAAY,OAAO,WAAW,eAAe,OAAO,SAAS,CAAC;AAElE,SACE,6DACE;AAAA;AAAA,MAAC,yBAAyB;AAAzB;AAAA,QACC,MAAK;AAAA,QACL,QAAQ,MAAM,yBAAyB,OAAO;AAAA,QAC9C,aAAY;AAAA,QACZ;AAAA,QACA;AAAA;AAAA,IACF;AAAA,IACC,iBAAiB,oCAAC,yBAAyB,IAAC,SAAS,YAAY,IAAK;AAAA,KACzE;AAEJ;;;;ACrCI;AApBgC;AAEA;AACM;AACM;AACP;AACC;AAKnC,SAAS,eAAe,EAAE,YAAY,GAAwB;AACnE,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI,wBAAwB,CAAC;AAE7B,QAAM,oBACJ;AAAA,IAAC,+BAA+B;AAA/B;AAAA,MACC,+BAA+B;AAAA,MAC/B,iCAAiC,mBAAiB,2BAA2B,aAAa;AAAA;AAAA,EAC5F;AAGF,QAAM,sBAAsB,oCAAC,mBAAmB,IAAC,SAAS,4BAA4B;AAEtF,UAAQ,wBAAwB;AAAA,IAC9B,KAAK;AACH,aACE,6DACE;AAAA;AAAA,UAAC,yBAAyB;AAAzB;AAAA,YACC,SAAS;AAAA,YACT,YAAY;AAAA,YACZ,iBAAiB;AAAA;AAAA,QACnB;AAAA,QACA,oCAAC,mBAAmB,IAAC,MAAK,oBAAmB;AAAA,SAC/C;AAAA,IAEJ,KAAK;AAAA,IACL;AACE,aACE,6DACE;AAAA;AAAA,UAAC,yBAAyB;AAAzB;AAAA,YACC,MAAK;AAAA,YACL,YAAY;AAAA,YACZ,aAAY;AAAA,YACZ,iBAAiB;AAAA;AAAA,QACnB;AAAA,QACA,oCAAC,mBAAmB,IAAC,MAAK,aAAY;AAAA,SACxC;AAAA,EAEN;AACF;;;;ACjDS;AALyB;AAEH;AAExB,SAAS,yBAAyB;AACvC,SAAO,oCAAC,cAAc,IAAC,aAAa,qCAAiB,EAAE;AACzD;;;;ACN4B;AAEH;AAIC;AAED;AASlB,SAAS,WAAW;AAAA,EACzB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAmB;AACjB,QAAM,CAAC,EAAE,GAAG,kBAAkB,IAAI,+BAAQ,CAAC,QAAQ;AACnD,QAAM,CAAC,EAAE,IAAI,eAAe,IAAI,+BAAQ,CAAC,KAAK;AAC9C,QAAM,QAAQ,6BAAQ,CAAC;AAEvB,SAAO,qBAAW,CAAC,MAAM;AACvB,SAAK,2BAAS,CAAC,MAAM,gCAAgC;AACrD,QAAI,QAAQ,OAAO,oBAAoB,CAAC,GAAG;AACzC,YAAM,MAAM,cAAc;AAC1B;AAAA,IACF;AACA,sBAAkB,CAAC,YAAY;AAC/B,SAAK,gBAAgB,SAAS,UAAU;AACxC,SAAK,mBAAmB,SAAS,gBAAgB,KAAK;AACtD,SAAK,mBAAmB,WAAW,OAAO,KAAK;AAC/C,uBAAmB,SAAS,MAAS;AAAA,EACvC,GAAG;AAAA,IACD;AAAA,IACA,QAAQ;AAAA,IACR;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AACH;;;;ACZqC;AArCI;AACrB;AAGC;AAEQ;AAEF;AAE3B,MAAM,sBAAsB;AASrB,SAAS,qBAAqB;AAAA,EACnC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAA8B;AAC5B,QAAM,YAAY,UAAU,CAAC;AAAA,IAC3B;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AAID,MAAI,mBAAmB,IAAK,QAAO,oCAAC,eAAG,IAAC,QAAO,QAAO;AAEtD,SACE,oCAAC,iCAAY,IAAC,OAAO,qBAAqB,MAAK,UAAS,SAAO,MAC7D;AAAA,IAAC,wBAAI;AAAJ;AAAA,MACC,eAAa,wBAAwB,CAAC;AAAA,MACtC,SAAS,MAAM,UAAU;AAAA,MACxB,GAAG;AAAA,MAEH,yBAAe,gBAAgB;AAAA;AAAA,EAClC,GACF;AAEJ;;;;AClD4B;AAEZ;AAET,SAAS,wBAAwB;AACtC,QAAM,EAAE,MAAM,IAAI,yCAAW,CAAC;AAC9B,SAAO;AAAA,IACL,QAAQ,oBAAG,CAAC,OAAO,UAAU,EAAE;AAAA,IAC/B,WAAW,oBAAG,CAAC,OAAO,aAAa,EAAE;AAAA,IACrC,GAAG;AAAA,EACL;AACF;;;;ACXO,SAAS,+BAAkE,KAAQ;AACxF,SAAO,EAAE,QAAQ,IAAI,WAAW,IAAI,GAAG,IAAI;AAC7C;AAEO,MAAM,6BAA6B;AAAA,EACxC,kBAAkB;AAAA,EAClB,iBAAiB;AACnB;;;;ACPqB;AAGsB;AAET;AAE0B;AAE5D,SAAS,kCAAkC,gBAAwB;AACjE,SAAO,CAAC,UAAmB,UAAU;AACvC;AAEO,SAAS,2BAA2B,gBAAwB;AACjE,SAAO,4BAAU,CAAC,EAAE,KAAK;AAAA,IACvB,SAAS,iBAAiB,CAAC;AAAA,IAC3B,MAAM,kCAAkC,cAAc;AAAA,EACxD,CAAC;AACH;AAEA,SAAS,kCAAkC,gBAAsC;AAC/E,SAAO,CAAC,UAAmB;AACzB,QAAI,kCAAW,CAAC,KAAK,KAAK,oCAAa,CAAC,KAAK,EAAG,QAAO;AACvD,WAAO,6CAAoB,CAAC,OAAO,cAAc;AAAA,EACnD;AACF;AAEO,SAAS,2BAA2B,gBAAsC;AAC/E,SAAO,4BAAU,CAAC,EAAE,KAAK;AAAA,IACvB,SAAS,iBAAiB,CAAC;AAAA,IAC3B,MAAM,kCAAkC,cAAc;AAAA,EACxD,CAAC;AACH;AAEO,SAAS,oBAAoB,UAAkB;AACpD,SAAO,4BAAU,CAAC,EAAE,KAAK;AAAA,IACvB,SAAS;AAAA,IACT,KAAK,OAAO;AACV,UAAI,kCAAW,CAAC,KAAK,KAAK,oCAAa,CAAC,KAAK,EAAG,QAAO;AACvD,aAAO,8CAAqB,CAAC,KAAK;AAAA,IACpC;AAAA,EACF,CAAC;AACH;;;;AC1CsB;AACD;AAYd;AAEmB;AAEQ;AACmC;AACA;AAErE,MAAM,uBAAuB;AAE7B,SAAS,kBAAkB;AACzB,SAAO,4BACE,CAAC,EACP,SAAS,iBAAiB,CAAC,cAAc,EACzC,SAAS,iBAAiB,CAAC,cAAc,EACzC,UAAU,yBAAyB;AACxC;AAYO,SAAS,gCAAgC;AAAA,EAC9C;AAAA,EACA;AAAA,EACA;AACF,GAAwC;AACtC,SAAO,4BACE,CAAC,EACP,UAAU,iBAAiB,CAAC,YAAY,EACxC,KAAK;AAAA,IACJ,SAAS,iBAAiB,CAAC;AAAA,IAC3B,KAAK,OAAO;AACV,UAAI,CAAC,MAAO,QAAO;AACnB,YAAM,WAAW,aAAa,WAAW,KAAK;AAC9C,UAAI,CAAC,SAAU,QAAO;AACtB,YAAM,eAAe,IAAI,wBAAS,CAAC,KAAK;AACxC,UAAI,aAAa,cAAc,SAAS,gBAAgB,EAAG,QAAO;AAClE,aAAO;AAAA,IACT;AAAA,EACF,CAAC;AACL;AAEO,SAAS,2BAA2B;AACzC,SAAO,4BACE,CAAC,EACP,UAAU,iBAAiB,CAAC,YAAY,EACxC,KAAK;AAAA,IACJ,SAAS,cAAc,+BAAQ,CAAC,oBAAoB,CAAC;AAAA,IACrD,KAAK,OAAO;AACV,UAAI,CAAC,MAAO,QAAO;AACnB,YAAM,eAAe,+BAAQ,CAAC,KAAK;AACnC,UAAI,aAAa,WAAW,oBAAoB,EAAG,QAAO;AAC1D,aAAO;AAAA,IACT;AAAA,EACF,CAAC;AACL;AAEO,SAAS,mBAAmB,qBAA4B;AAC7D,SAAO,4BACE,CAAC,EACP,UAAU,iBAAiB,CAAC,YAAY,EACxC,OAAO,uBAAuB,CAAC,CAAC,EAChC,OAAO,2BAA2B,CAAC,oBAAoB,CAAC,mBAAmB,CAAC,CAAC;AAClF;AAEO,SAAS,6BAA6B,kBAAyB;AACpE,SAAO,4BACE,CAAC,EACP,UAAU,iBAAiB,CAAC,YAAY,EACxC,KAAK;AAAA,IACJ,SAAS,8BAA8B;AAA9B,MAA+B;AAAA,MAAkB,SACxD,oCAAa,CAAC,IAAI,MAAM,EAAE,SAAS;AAAA,IACrC;AAAA,IACA,KAAK,OAAgB;AACnB,YAAM,MAAM,IAAI,wBAAS,CAAC,oCAAa,CAAC,KAAK,OAAO,GAAG,CAAC;AACxD,UAAI,CAAC,IAAI,SAAS,GAAG;AACnB,aAAK,2BAAS,CAAC,MAAM,qCAAqC;AAC1D,eAAO,KAAK,YAAY,EAAE,SAAS,6BAA6B,CAAC;AAAA,MACnE;AACA,UAAI,CAAC,+BAAQ,CAAC,KAAK,EAAG,QAAO;AAC7B,UAAI,CAAC,kBAAkB;AACrB,aAAK,2BAAS,CAAC,MAAM,mDAAmD;AACxE,eAAO,KAAK,YAAY,EAAE,SAAS,4BAA4B,CAAC;AAAA,MAClE;AACA,YAAM,0BAA0B,iBAAiB,OAAO,MAAM,GAAG;AACjE,aAAO,wBAAwB,uBAAuB,oCAAa,CAAC,KAAK,CAAC;AAAA,IAC5E;AAAA,EACF,CAAC;AACL;AAEO,SAAS,mCAAmC,SAAgB;AACjE,QAAM,EAAE,QAAQ,SAAS,IAAI;AAE7B,SAAO,gBAAgB,EACpB,KAAK,CAAC,OAAO,YAAY;AACxB,QAAI,CAAC,+BAAQ,CAAC,KAAK,EAAG,QAAO;AAC7B,QAAI,CAAC,YAAY,oCAAa,CAAC,KAAK,IAAI;AACtC,aAAO,QAAQ,YAAY;AAAA,QACzB,SAAS,iBAAiB,CAAC;AAAA,MAC7B,CAAC;AACH,QAAI,oCAAa,CAAC,KAAK,IAAI,UAAU;AACnC,aAAO,QAAQ,YAAY,EAAE,SAAS,oBAAoB,CAAC,OAAO,EAAE,CAAC;AAAA,IACvE;AACA,WAAO;AAAA,EACT,CAAC,EACA,KAAK;AAAA,IACJ,SAAS,8BAA8B,CAAC,SAAS,SAAO,oCAAa,CAAC,IAAI,MAAM,EAAE,SAAS,CAAC;AAAA,IAC5F,KAAK,OAAO;AACV,UAAI,CAAC,+BAAQ,CAAC,KAAK,KAAK,CAAC,OAAQ,QAAO;AACxC,aAAO,IAAI,wBAAS,CAAC,KAAK,EAAE,oBAAoB,8CAAuB,CAAC,QAAQ,QAAQ,CAAC;AAAA,IAC3F;AAAA,EACF,CAAC;AACL;;;;ACpI0B;AACD;AAEI;AAED;AAErB,SAAS,mCAAmC;AACjD,QAAM,YAAY,yCAAQ,CAAC,YAAY,EAAE,CAAC,CAAC,EAAE;AAE7C,WAAS,kBAAkB,OAAuD;AAChF,QAAI,CAAC,oCAAW,CAAC,KAAK,CAAC,aAAa,CAAC,OAAO,QAAQ,QAAS;AAC7D,WAAO,QAAQ,QAAQ,IAAI,EAAE,CAAC,gBAAgB,UAAU,IAAI,SAAS,CAAC,GAAG,MAAM,CAAC;AAAA,EAClF;AAEA,qBAAS;AAAT,IACE,MAAM,MAAM;AACV,UAAI,CAAC,oCAAW,CAAC,EAAG;AACpB,UAAI,CAAC,UAAW;AAChB,UAAI,CAAC,OAAO,QAAQ,QAAS;AAC7B,aAAO,QAAQ,QAAQ,OAAO,gBAAgB,UAAU,IAAI,SAAS,CAAC;AAAA,IACxE;AAAA,IACA,CAAC,SAAS;AAAA,EACZ;AAEA,SAAO,EAAE,kBAAkB;AAC7B;;;;AC1BiC;AAGZ;AAE+B;AAElB;AAC8B;AAG3B;AACV;AACgB;AAIpC;AAC6B;AAI7B;AAC0C;AACL;AACgB;AACC;AAC3B;AAEU;AACR;AAE7B,SAAS,iBAAiB;AAC/B,QAAM,CAAC,cAAc,eAAe,IAAI,kBAAQ,CAAC,KAAK;AACtD,QAAM,UAAU,gBAAM,CAAqC,IAAI;AAC/D,QAAM,iBAAiB,gDAAiB,CAAC;AACzC,QAAM,qBAAqB,oFAA4C,CAAC;AACxE,QAAM,EAAE,MAAM,QAAQ,CAAC,GAAG,mBAAmB,IAAI,2BAA2B,CAAC;AAC7E,QAAM,EAAE,QAAQ,IAAI,sFAA2C,CAAC;AAChE,QAAM,mBAAmB,mBAAmB,CAAC;AAC7C,QAAM,eAAe,2BAA2B,CAAC;AACjD,QAAM,EAAE,kBAAkB,IAAI,gCAAgC,CAAC;AAG/D,oCAAU,CAAC,MAAM,mBAAmB,QAAQ,CAAC;AAE7C,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,kBAAkB,OAAgB;AAChC,sBAAgB,KAAK;AAAA,IACvB;AAAA,IACA;AAAA,IACA,kBAAkB,4BAAU,CAAC;AAAA,MAC3B,QAAQ,4BACC,CAAC,EACP,OAAO,wBAAwB,CAAC,CAAC,EACjC,OAAO,+CAA2B,CAAC,oBAAoB,CAAC,QAAQ,gBAAgB,CAAC,CAAC,EAClF,OAAO,uBAAuB,CAAC,CAAC,EAChC;AAAA,QACC,+BAA+B,CAAC;AAAA,UAC9B;AAAA;AAAA;AAAA,UAGA,WAAW,QAAQ,SAAS,OAAO,aAAa;AAAA,UAChD;AAAA,QACF,CAAC;AAAA,MACH;AAAA,MACF,WAAW,4BACF,CAAC,EACP,QAAQ,iBAAiB,CAAC,eAAe,EACzC,OAAO,mBAAmB,CAAC,CAAC,EAC5B,OAAO,0BAA0B,CAAC,eAAe,MAAM,QAAQ,IAAI,CAAC,EACpE,OAAO,0BAA0B,CAAC,mBAAmB,WAAW,EAAE,CAAC,EACnE;AAAA,QACC,mBAAmB;AAAnB,UACE,mBAAmB,CAAC;AAAA,UACpB,4DAAmC,CAAC,eAAe,MAAM,QAAQ,IAAI;AAAA,QACvE;AAAA,MACF;AAAA,IACJ,CAAC;AAAA,IAED,MAAM,qBACJ,QACA,eACA;AAEA,YAAM,cAAc,aAAa;AACjC,uBAAiB,uBAAuB,cAAc,OAAO,MAAM;AAAA,IACrE;AAAA,EACF;AACF;;;;ACnDI;AA5CmB;AAEkB;AACZ;AACT;AAGmC;AACF;AACzB;AAEqC;AACtC;AACM;AAEL;AACO;AACL;AACS;AACF;AACC;AACqC;AAC5C;AAE/B,MAAM,SAAyB;AAExB,SAAS,cAAc;AAC5B,QAAM,aAAa,qBAAqB,CAAC;AACzC,QAAM,YAAY,wDAAgB,CAAC;AACnC,QAAM,aAAa,8DAAsC,CAAC,KAAK;AAC/D,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI,cAAc,CAAC;AAEnB,SACE,6DACE;AAAA,wCAAC,UAAU,IAAC,OAAM,QAAO;AAAA,IACzB,oCAAC,sBAAO,IACN,8CAAC,mBAAI,IACH;AAAA,MAAC,yBAAM;AAAN;AAAA,QACC,eAAe,8BAA8B,CAAC;AAAA,UAC5C,GAAG;AAAA,UACH,kBAAkB;AAAA,UAClB;AAAA,QACF,CAAC;AAAA,QACD,UAAU;AAAA,QACV;AAAA,QACA,UAAU;AAAA,QACT,GAAG,0BAA0B;AAA1B,QAEH,qBAAS;AACR,4BAAkB,MAAM,MAAM;AAC9B,gBAAM,qBAAqB,aAAa,MAAM,OAAO,WAAW,KAAK;AAErE,iBACE,qCAAC,uBAAI,IACH;AAAA;AAAA,cAAC,mBAAI;AAAJ;AAAA,gBACC,YAAY,wBAAwB,CAAC;AAAA,gBACrC,QACE,qCAAC,wBAAS,IACR;AAAA;AAAA,oBAAC,0BAAM;AAAN;AAAA,sBACC,aAAW,MAAM;AAAA,sBACjB,eAAa,wBAAwB,CAAC;AAAA,sBACtC,SAAS,MAAM,MAAM,aAAa;AAAA,sBAClC,MAAK;AAAA,sBACN;AAAA;AAAA,kBAED;AAAA,kBACA;AAAA,oBAAC,+BAAgB;AAAhB;AAAA,sBACC,SAAS,kCAAW,CAAC,QAAQ,gBAAgB;AAAA,sBAC7C;AAAA;AAAA,kBACF;AAAA,mBACF;AAAA,gBAGF;AAAA;AAAA,oBAAC,WAAW;AAAX;AAAA,sBACC,cAAa;AAAA,sBACb,SAAS,QAAQ;AAAA,sBACjB,oBACE;AAAA,wBAAC,oBAAoB;AAApB;AAAA,0BACC,SAAS,QAAQ;AAAA,0BACjB;AAAA,0BACA;AAAA,0BACA,gBAAgB,mBAAmB,iBAAiB,SAAS;AAAA,0BAC7D,YAAY,mBAAmB,YAAY,SAAS;AAAA;AAAA,sBACtD;AAAA,sBAEF;AAAA,sBACA;AAAA,sBACA,kBACE,oCAAC,aAAa,IAAC,YAAwB,aAAa,QAAQ;AAAA;AAAA,kBAEhE;AAAA,kBACA,oCAAC,kBAAkB,IAAC,MAAM,oCAAC,iCAAa,IAAC,GAAI,MAAK,WAAU,QAAgB;AAAA,kBAC5E,oCAAC,sBAAsB,IAAC;AAAA,kBACvB,eAAe,MAAM,QAAQ,SAAS,aACrC,qCAAC,2BAAO,IAAC,SAAQ,WAAU,OAAM,uBAAsB,IAAG,YAAW;AAAA;AAAA,oBAEnE;AAAA,sBAAC,wBAAI;AAAJ;AAAA,wBACC,SAAQ;AAAA,wBACR,MAAK;AAAA,wBACL,WAAU;AAAA,wBACX;AAAA;AAAA,oBAED;AAAA,qBACF;AAAA;AAAA;AAAA,YAEJ;AAAA,YACA,oCAAC,gCAAM,IAAC;AAAA,YAGP,aAAa,MAAM,OAAO,WAAW,KAAK,EAAE,iBAAiB,SAAS,IAAI,IACzE,oCAAC,eAAG,IAAC,eAAa,wBAAwB,CAAC,eAAe,IACxD;AAAA,aACN;AAAA,QAEJ;AAAA;AAAA,IACF,GACF,GACF;AAAA,KACF;AAEJ;;;;ACII;AAvIoB;AACiB;AAEd;AACN;AACoB;AACC;AACpB;AACN;AAEgB;AAKzB;AACgB;AAQhB;AAEmB;AACA;AAEE;AACS;AAK9B;AAC6B;AACT;AACiB;AAER;AAEpC,MAAM,iCAAM,GAAmB;AAE/B,SAAS,kCAAkC;AACzC,QAAM,WAAW,yCAAW,CAAC;AAC7B,SAAO;AAAA,IACL,IAAI,oBAAG,CAAC,SAAS,OAAO,IAAI;AAAA,IAC5B,KAAK,oBAAG,CAAC,SAAS,OAAO,KAAK;AAAA,IAC9B,aAAa,oBAAG,CAAC,SAAS,OAAO,aAAa;AAAA,IAC9C,WAAW,oBAAG,CAAC,SAAS,OAAO,MAAM;AAAA,IACrC,WAAW,oBAAG,CAAC,SAAS,OAAO,WAAW;AAAA,EAC5C;AACF;AAEO,SAAS,0BAA0B;AACxC,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,EAAE,IAAI,WAAW,KAAK,WAAW,YAAY,IAAI,gCAAgC;AAEvF,QAAM,cAAc,iBAAO,CAAC,MAAM,mCAAe,CAAC,QAAQ,uCAAU,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC;AAE/E,QAAM,EAAE,mBAAmB,IAAI,2BAA2B,CAAC;AAE3D,QAAM,gBAAgB,8DAAsC,CAAC,KAAK;AAClE,QAAM,EAAE,aAAa,eAAe,IAAI,sDAA8B,CAAC;AAEvE,QAAM,YAAY,wCAAe,CAAC,YAAY,GAAG;AAEjD,QAAM,MAAM,mBAAmB,CAAC;AAEhC,QAAM,iBAAiB,+BAAQ,CAAC,UAAU,QAAQ,CAAC,EAAE,OAAO,SAAS,CAAC,EAAE,SAAS;AACjF,QAAM,cAAc,yCAAkB;AAAlB,IAClB,gDAAyB,CAAC,6CAAsB,CAAC,OAAO,cAAc,GAAG,iCAAM,GAAG,aAAa;AAAA,EACjG;AACA,QAAM,oBAAoB,cAAc,MAAM;AAE9C,QAAM,WAAW,+BAAQ,CAAC,GAAG;AAC7B,QAAM,aAAa,wCAAiB;AAAjB,IACjB,6CAAsB,CAAC,OAAO,cAAc,IAAI,OAAO,QAAQ,GAAG,iCAAM;AAAA,EAC1E;AACA,QAAM,eAAe,wCAAiB,CAAC,6CAAsB,CAAC,OAAO,cAAc,GAAG,iCAAM,CAAC;AAC7F,QAAM,aAAa,wCAAiB,CAAC,kCAAW,CAAC,OAAO,GAAG,GAAG,iCAAM,CAAC;AAErE,iBAAe,sBAAsB;AACnC,UAAM,YAAY;AAAA,MAChB,IAAI,YAAY;AAAA,MAChB,MAAM,UAAU,MAAM;AACpB,aAAK,2BAAS,CAAC,MAAM,yBAAyB;AAAA,UAC5C,QAAQ;AAAA,UACR,QAAQ;AAAA,UACR;AAAA,UACA,QAAQ,UAAU,OAAO;AAAA,UACzB,SAAS,UAAU,OAAO;AAAA,QAC5B,CAAC;AACD,cAAM,mBAAmB,QAAQ;AACjC,iBAAS,2BAAS,CAAC,iBAAiB,QAAQ,SAAS,GAAG,IAAI,EAAE,GAAG;AAAA,UAC/D,OAAO,sBAAsB,IAAI;AAAA,QACnC,CAAC;AAGD;AAAA,UACE,MAAM,KAAK,8BAAW,CAAC,kBAAkB,EAAE,UAAU,CAAC,oBAAoB,EAAE,CAAC;AAAA,UAC7E;AAAA,QACF;AAAA,MACF;AAAA,MACA,QAAQ,GAAG;AACT,aAAK,2BAAS,CAAC,MAAM,uBAAuB;AAAA,UAC1C,OAAO;AAAA,QACT,CAAC;AACD,YAAI,YAAY,CAAC;AAAA,MACnB;AAAA,IACF,CAAC;AAAA,EACH;AAEA,WAAS,sBAAsB,MAAc;AAC3C,WAAO;AAAA,MACL,QAAQ;AAAA,QACN,YAAY;AAAA,QACZ,MAAM,QAAQ;AAAA,MAChB;AAAA,MACA;AAAA,MACA;AAAA,MACA,KAAK;AAAA,MACL,SAAS;AAAA,MACT;AAAA,MACA;AAAA,MACA,MAAM;AAAN,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,EACF;AAEA,SACE,6DACE;AAAA,wCAAC,UAAU,IAAC,OAAM,UAAS;AAAA,IAC3B,oCAAC,sBAAO,IACN,8CAAC,mBAAI,IACH;AAAA,MAAC,mBAAI;AAAJ;AAAA,QACC,cAAc;AAAA,UACZ,GAAG;AAAA,QACL;AAAA,QACA,YAAY,wBAAwB,CAAC;AAAA,QACrC,QACE;AAAA,UAAC,0BAAM;AAAN;AAAA,YACC,eAAa,2DAAyB,CAAC;AAAA,YACvC,aAAW;AAAA,YACX,SAAS;AAAA,YACT,OAAM;AAAA,YACP;AAAA;AAAA,QAED;AAAA,QAGF;AAAA;AAAA,YAAC,oCAAkB;AAAlB;AAAA,cACC,eAAa,wBAAwB,CAAC;AAAA,cACtC,YAAY;AAAA,cACZ,WAAW;AAAA,cACX,IAAG;AAAA,cACH,IAAG;AAAA,cACH,IAAG;AAAA,cACH,MAAM;AAAN,cACA,OAAO,OAAO,cAAc;AAAA;AAAA,UAC9B;AAAA,UAEA,qCAAC,iBAAK,IAAC,IAAG,YAAW,IAAG,YAAW,OAAM,QACvC;AAAA;AAAA,cAAC,6BAAW;AAAX;AAAA,gBACC,OAAM;AAAA,gBACN,OAAO,oCAAC,oBAAoB,IAAC,SAAS,WAAW;AAAA,gBACjD,eAAa,wBAAwB,CAAC;AAAA;AAAA,YACxC;AAAA,YACA,oCAAC,mCAAiB,IAAC;AAAA,YACnB,oCAAC,6BAAW,IAAC,OAAM,eAAc,OAAO,YAAY;AAAA,YACpD,oCAAC,6BAAW,IAAC,OAAM,WAAU,OAAO,cAAc;AAAA,YAClD;AAAA,cAAC,6BAAW;AAAX;AAAA,gBACC,OAAM;AAAA,gBACN,OAAO;AAAA,gBACP,eAAa,wBAAwB,CAAC;AAAA;AAAA,YACxC;AAAA,YACC,aAAa,oCAAC,6BAAW,IAAC,OAAM,+BAA8B,OAAO,WAAW;AAAA,aACnF;AAAA;AAAA;AAAA,IACF,GACF,GACF;AAAA,KACF;AAEJ;;;;AC3JqC;AAhCT;AAEa;AAChB;AACL;AAGC;AAEK;AAED;AAMlB,SAAS,cAAc,EAAE,SAAS,gBAAgB,GAAG,MAAM,GAAuB;AACvF,QAAM,CAAC,EAAE,GAAG,kBAAkB,IAAI,+BAAQ,CAAC,QAAQ;AACnD,QAAM,QAAQ,6BAAQ,CAAC;AAEvB,QAAM,YAAY,qBAAW,CAAC,MAAM;AAClC,SAAK,2BAAS,CAAC,MAAM,gCAAgC;AACrD,QAAI,QAAQ,OAAO,oBAAoB,CAAC,GAAG;AACzC,YAAM,MAAM,cAAc;AAC1B;AAAA,IACF;AACA,WAAO,mBAAmB,SAAS,cAAc;AAAA,EACnD,GAAG,CAAC,oBAAoB,QAAQ,QAAQ,gBAAgB,KAAK,CAAC;AAI9D,MAAI,mBAAmB,IAAK,QAAO,oCAAC,eAAG,IAAC,QAAO,QAAO;AAEtD,SACE,oCAAC,wBAAI,IAAC,eAAa,wBAAwB,CAAC,YAAY,SAAS,WAAY,GAAG,OAAO,sBAEvF;AAEJ;;;;ACvC4B;AAG2B;AACb;AAEnC,SAAS,qCAAqC,UAA0B;AAE7E,QAAM,2BAA2B,8DAAsC;AAAtC,IAC/B;AAAA,EACF;AAEA,SAAO,qBAAW;AAAX,IACL,CAAC,UAAiB,gDAAyB,CAAC,OAAO,wBAAwB;AAAA,IAC3E,CAAC,wBAAwB;AAAA,EAC3B;AACF;;;;;;AChBO,IAAK,0BAAL,kBAAKC,6BAAL;AACL,EAAAA,yBAAA,oCAAiC;AADvB,SAAAA;AAAA;;;;ACuCN;AAvCiC;AAEG;AACjB;AACW;AAGN;AAEU;AAQjC,SAAS,eAAe;AAAA,EAC7B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAwB;AACtB,QAAM,CAAC,OAAO,MAAM,OAAO,IAAI,+BAAQ,CAAC,KAAK;AAE7C,QAAM,oBAAoB,qBAAW;AAAX,IACxB,CAAC,UAAkB;AACjB,UAAI,KAAK,MAAO,QAAO,gBAAgB,EAAE;AACzC,YAAM,MAAM,oCAAa,CAAC,KAAK;AAC/B,UAAI,eAAe,IAAI,OAAO,cAAc,GAAG,GAAG;AAChD,eAAO,gBAAgB,uBAAuB,CAAC,8BAA8B;AAAA,MAC/E;AACA,aAAO,gBAAgB,EAAE;AAAA,IAC3B;AAAA,IACA,CAAC,gBAAgB,KAAK,OAAO,eAAe;AAAA,EAC9C;AAEA,SACE,oCAAC,iBAAK,IAAC,UAAS,YACd;AAAA,IAAC,gBAAI;AAAJ;AAAA,MACC,WAAU;AAAA,MACV,OAAM;AAAA,MACN,eAAc;AAAA,MACd,gBAAe;AAAA,MACf,UAAS;AAAA,MACT,OAAM;AAAA,MACN,WAAU;AAAA,MAEV;AAAA,4CAAC,kBAAM,CAAC,OAAP,EAAa,SAAQ,OAAM,UAAS,YAAW,OAAO,GAAG,QAAQ,KAC/D,6BACH;AAAA,QACA;AAAA,UAAC,kBAAM,CAAC;AAAA,UAAP;AAAA,YACC,cAAa;AAAA,YACb,cAAa;AAAA,YACb,OAAM;AAAA,YACN,eAAa,2DAAyB,CAAC;AAAA,YACvC,SAAQ;AAAA,YACR,QAAO;AAAA,YACP,MAAK;AAAA,YACL,UAAU;AAAA,YACV,UAAU,CAAC,QAAqC;AAC9C,mBAAK,QAAQ,SAAS,IAAI,cAAc,KAAK;AAI7C,gCAAkB,IAAI,cAAc,KAAK;AAAA,YAC3C;AAAA,YACA,IAAG;AAAA,YACH,aAAY;AAAA,YACZ,MAAK;AAAA,YACL,WAAU;AAAA,YACV,OAAO,MAAM;AAAA;AAAA,QACf;AAAA;AAAA;AAAA,EACF,GACF;AAEJ;;;;ACnDwB;AAzBA;AAEO;AAEsB;AAErD,MAAM,SAAS,CAAC,OAAO,YAAY,QAAQ,QAAQ;AACnD,MAAM,aAAa,OAAO,IAAI,WAAS,MAAM,YAAY,CAAC;AASnD,SAAS,gBAAgB;AAAA,EAC9B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAyB;AACvB,QAAM,eAAe,iBAAO,CAAC,MAAM;AACjC,UAAM,aAAa,UAAU;AAC7B,WAAO,aAAa,oCAAC,iCAAa,IAAC,SAAQ,SAAQ,IAAK,4DAAE;AAAA,EAC5D,GAAG,CAAC,OAAO,YAAY,CAAC;AAExB,SACE;AAAA,IAAC,wBAAI;AAAJ;AAAA,MACC,SAAS,EAAE,IAAI,cAAc;AAAA,MAC7B,QAAQ;AAAA,QACN,IAAI,YAAY,mCAAmC;AAAA,QACnD,cAAc;AAAA,QACd,OAAO;AAAA,MACT;AAAA,MACA,YAAW;AAAA,MACX,eAAa,GAAG,WAAW,KAAK,CAAC;AAAA,MACjC,SAAQ;AAAA,MACR,QAAO;AAAA,MACP,UAAS;AAAA,MACT,SAAS,MAAM,CAAC,uBAAuB,aAAa,KAAK;AAAA,MACzD,IAAI,YAAY,aAAa;AAAA,MAC7B,SAAQ;AAAA,MAER,+CAAC,kBAAM,IAAC,KAAI,YACV;AAAA,4CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAY,iBAAO,KAAK,GAAE;AAAA,QAChD,CAAC,wBAAwB,YAAY,eAAe,oCAAC,mCAAe,IAAC,SAAQ,SAAQ;AAAA,SACxF;AAAA;AAAA,EACF;AAEJ;;;;;;;;ACnDqC;AAEC;AAChB;AAEtB,MAAM,YAAY;AAClB,MAAM,aAAa;AASnB,MAAM,SAAwB,CAAC,WAAW,UAAU;AAEpD,MAAM,aAAa,CAAC,UAA6B;AAC/C,MAAI,UAAU,YAAY;AACxB;AAAA,EACF;AAEA,MAAI,2DAAyB,CAAC,GAAG;AAC/B,WAAO,EAAE,SAAS,KAAK;AAAA,EACzB;AAEA;AACF;AAEO,SAAS,kBACd,KACA,SACA,eAAyB,CAAC,GAC1B;AACA,QAAM,YAAY,CAAC;AACnB,QAAM,aAAa,iCAAS,CAAC,OAAO;AAEpC,qBAAS,CAAC,MAAM;AACd,QAAI,WAAW;AACb;AAAA,IACF;AAEA,UAAM,WAAW,CAAC,UAAyB;AACzC,UAAI,CAAC,IAAI,WAAW,CAAC,WAAW,WAAW,IAAI,QAAQ,SAAS,MAAM,MAAc,GAAG;AACrF;AAAA,MACF;AAEA,YAAM,8BAA8B,aACjC,IAAI,QAAM,SAAS,eAAe,EAAE,CAAC,EACrC,KAAK,QAAM,IAAI,SAAS,MAAM,MAAc,CAAC;AAEhD,UAAI,6BAA6B;AAC/B;AAAA,MACF;AAEA,iBAAW,QAAQ,KAAK;AAAA,IAC1B;AAEA,WAAO,QAAQ,WAAS;AACtB,eAAS,iBAAiB,OAAO,UAAU,WAAW,KAAK,CAAC;AAAA,IAC9D,CAAC;AAED,WAAO,MAAM;AACX,aAAO,QAAQ,WAAS;AACtB,iBAAS,oBAAoB,OAAO,UAAU,WAAW,KAAK,CAAyB;AAAA,MACzF,CAAC;AAAA,IACH;AAAA,EACF,GAAG,CAAC,KAAK,YAAY,WAAW,YAAY,CAAC;AAC/C;;;;ACtCI;AA9B8B;AAEQ;AACpB;AAEG;AAES;AAEF;AASzB,SAAS,wBAAwB;AAAA,EACtC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAiC;AAC/B,QAAM,MAAM,gBAAM,CAAwB,IAAI;AAE9C,mBAAiB,CAAC,KAAK,MAAM,qBAAqB,KAAK,CAAC;AAExD,SACE,4DACE,+CAAC,iBAAK,IAAC,QAAQ,EAAE,QAAQ,sBAAsB,YAAY,UAAU,GACnE;AAAA;AAAA,MAAC,eAAe;AAAf;AAAA,QACC;AAAA,QACA,OAAO;AAAA,QACP;AAAA,QACA,cAAc,MAAM,qBAAqB,IAAI;AAAA,QAC7C,cAAc,4BAAQ,CAAC;AAAA;AAAA,IACzB;AAAA,IACC,YACC;AAAA,MAAC,iBAAK;AAAL;AAAA,QACC,IAAG;AAAA,QACH,cAAa;AAAA,QACb,WAAU;AAAA,QACV,eAAa,2DAAyB,CAAC;AAAA,QACvC,eAAc;AAAA,QACd,KAAI;AAAA,QACJ,WAAU;AAAA,QACV,UAAS;AAAA,QACT,UAAS;AAAA,QACT,GAAE;AAAA,QACF,UAAS;AAAA,QACT;AAAA,QACA,KAAI;AAAA,QACJ,QAAQ;AAAA,QAEP;AAAA;AAAA,IACH,IACE;AAAA,KACN,GACF;AAEJ;;;;ACtCI;AAxB6C;AAEjB;AACQ;AAWjC,SAAS,kBAAkB;AAAA,EAChC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA2B;AACzB,SACE;AAAA,IAAC,uBAAuB;AAAvB;AAAA,MACC;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MAEC;AAAA,iBAAS,IAAI,CAACC,WAAU,UACvB;AAAA,UAAC,eAAe;AAAf;AAAA,YACC;AAAA,YACA;AAAA,YAEA;AAAA,YACA;AAAA;AAAA,UAFKA,UAAS,IAAI,OAAO,SAAS;AAAA,QAGpC,CACD;AAAA,QACA,eACC;AAAA,UAAC,eAAe;AAAf;AAAA,YACC,OAAO,4BAAQ,CAAC;AAAA,YAChB;AAAA,YACA;AAAA,YACA;AAAA;AAAA,QACF;AAAA;AAAA;AAAA,EAEJ;AAEJ;;;;ACzCM;AARgC;AAEN;AAGzB,SAAS,iBAAoC;AAClD,SACE,oCAAC,iBAAK,IAAC,OAAM,QACX;AAAA,IAAC,kBAAM;AAAN;AAAA,MACC,YAAW;AAAA,MACX,IAAG;AAAA,MACH,cAAa;AAAA,MACb,QAAO;AAAA,MACP,IAAG;AAAA,MAEH;AAAA,4CAAC,mCAAe,IAAC,OAAM,UAAS;AAAA,QAEhC,oCAAC,kBAAM,CAAC,MAAP,EAAY,OAAM,oBAAmB,iEAEtC;AAAA;AAAA;AAAA,EACF,GACF;AAEJ;;;;ACKY;AA5Ba;AACmB;AAEJ;AAEX;AACE;AACF;AAE7B,MAAM,WACJ;AACF,MAAM,mBAAG,GAAG;AAQL,SAAS,cAAc,OAA2B;AACvD,QAAM,EAAE,UAAU,cAAc,aAAa,aAAa,GAAG,KAAK,IAAI;AACtE,QAAM,CAAC,GAAG,IAAI,IAAI,+BAAQ,CAAC,KAAK;AAEhC,SACE,qCAAC,kBAAM,IAAC,KAAI,YAAW,OAAM,QAAQ,GAAG,MAAM,UAAS,QACrD;AAAA,yCAAC,kBAAM,IAAC,YAAW,UAAS,gBAAe,iBAAgB,UAAS,YAAW,OAAM,QACnF;AAAA,2CAAC,kBAAM,IAAC,YAAW,UAAS,OAAM,QAChC;AAAA,4CAAC,iCAAY,IAAC,OAAO,UAAU,MAAK,UAClC,+CAAC,kBAAM,IAAC,KAAI,YACV;AAAA,8CAAC,kBAAM,CAAC,MAAP,EAAY,OAAM,oBAAmB,WAAU,YAAW,iBAE3D;AAAA,UACA;AAAA,YAAC,kCAAc;AAAd;AAAA,cACC,OAAM;AAAA,cACN,SAAS,MAAM,uCAAY,CAAC,mBAAG;AAAA,cAC/B,SAAQ;AAAA;AAAA,UACV;AAAA,WACF,GACF;AAAA,QACC,CAAC,cAAc,cAAc;AAAA,SAChC;AAAA,MACC;AAAA,OACH;AAAA,IACC,eAAe,oCAAC,cAAc,IAAC;AAAA,IAC/B,CAAC,KAAK,SAAS,gBACd,oCAAC,2BAAO,IAAC,SAAQ,WAAU,OAAM,QAC9B,wBACH;AAAA,KAEJ;AAEJ;;;;ACpCI;AAfsC;AACnB;AAGkC;AAE5B;AAOtB,SAAS,eAAe,EAAE,KAAK,mBAAmB,UAAU,GAAwB;AACzF,QAAM,WACJ;AAAA,IAAC,kBAAM,CAAC;AAAA,IAAP;AAAA,MACC,OAAM;AAAA,MACN,eAAa,2DAAyB,CAAC;AAAA,MACvC,WAAU;AAAA,MAET;AAAA;AAAA,QAAI;AAAA,QAAE;AAAA;AAAA;AAAA,EACT;AAEF,MAAI,CAAC,aAAa,UAAU,OAAO,MAAM,EAAG,QAAO;AACnD,SACE,oCAAC,iCAAY,IAAC,OAAO,2CAAoB,CAAC,yCAAkB,CAAC,SAAS,CAAC,GACpE,oBACH;AAEJ;;;;AC2E+B;AAxG2B;AAEhB;AACpB;AACG;AACL;AAES;AACO;AACqC;AAEpB;AACpB;AAEF;AACG;AACJ;AACC;AASxB,SAAS,QAAQ;AAAA,EACtB;AAAA,EACA;AAAA,EACA,cAAc;AAAA,EACd;AAAA,EACA;AACF,GAAgB;AACd,QAAM,CAAC,UAAU,GAAG,SAAS,IAAI,+BAAQ,CAAC,KAAK;AAC/C,QAAM,CAAC,gBAAgB,IAAI,+BAAQ,CAAC,aAAa;AACjD,QAAM,CAAC,cAAc,IAAI,aAAa,IAAI,+BAAQ,CAAC,SAAS;AAC5D,QAAM,CAAC,cAAc,eAAe,IAAI,kBAAQ,CAAqB,MAAS;AAC9E,QAAM,CAAC,iBAAiB,kBAAkB,IAAI,kBAAQ,CAAC,KAAK;AAE5D,QAAM,WAAW,aAAa,UAAU,4BAAQ,CAAC,4BAAQ,CAAC,MAAM;AAChE,QAAM,eAAe,OAAO,4BAAQ,CAAC,aAAa,KAAK,CAAC;AAExD,QAAM,kBAAkB,MAAM,UAAU;AACxC,QAAM,oBAAoB,iBAAiB;AAE3C,QAAM,6BAA6B,oCAAoC,CAAC,iBAAiB;AAEzF,QAAM,WAAW,iBAAO,CAAC,MAAM;AAC7B,QAAK,CAAC,+BAAQ,CAAC,SAAS,KAAK,KAAK,CAAC,+BAAQ,CAAC,SAAS,KAAK,KAAM,CAAC,kBAAmB,QAAO;AAC3F,UAAM,aAAa,kCAAW,CAAC,IAAI,wBAAS,CAAC,SAAS,KAAK,GAAG,iBAAiB;AAC/E,WAAO,2BAA2B,UAAU;AAAA,EAC9C,GAAG,CAAC,4BAA4B,mBAAmB,SAAS,KAAK,CAAC;AAElE,qBAAS,CAAC,MAAM;AACd,QAAI,iBAAiB;AACnB,WAAK,UAAU;AAAA,QACb,8CAAuB,CAAC,IAAI,wBAAS,CAAC,OAAO,eAAe,CAAC,GAAG,mCAAY,EAAE,SAAS;AAAA,MACzF;AACA,WAAK,cAAc,SAAS,4BAAQ,CAAC,4BAAQ,CAAC,MAAM,CAAC;AAAA,IACvD;AAAA,EACF,GAAG,CAAC,WAAW,iBAAiB,aAAa,CAAC;AAE9C,qBAAS,CAAC,MAAM;AACd,QAAI,aAAa;AACf,WAAK,UAAU,SAAS,CAAC;AACzB;AAAA,IACF;AAEA,QAAI,CAAC,mBAAmB,mBAAmB,CAAC,SAAS,SAAS,CAAC,UAAU;AACvE,WAAK,UAAU;AAAA,QACb,8CAAuB,CAAC,KAAK,UAAU,4BAAQ,CAAC,MAAM,EAAE,GAAG,EAAE,SAAS;AAAA,MACxE;AACA,WAAK,cAAc,SAAS,4BAAQ,CAAC,4BAAQ,CAAC,MAAM,CAAC;AACrD;AAAA,IACF;AAAA,EACF,GAAG;AAAA,IACD;AAAA,IACA,SAAS;AAAA,IACT;AAAA,IACA;AAAA,IACA,MAAM;AAAA,IACN;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AAED,QAAM,uCAAuC,qBAAW;AAAX,IAC3C,CAAC,UAAkB;AACjB,WAAK,cAAc,SAAS,4BAAQ,CAAC,KAAK,CAAC;AAC3C,UAAI,UAAU,4BAAQ,CAAC;AACrB,aAAK,UAAU;AAAA,UACb,kBACI,8CAAuB,CAAC,IAAI,wBAAS,CAAC,OAAO,eAAe,CAAC,GAAG,mCAAY,IAC5E;AAAA,QACN;AAAA;AAEA,gBACE,KAAK,UAAU,SAAS,8CAAuB,CAAC,KAAK,UAAU,KAAK,EAAE,GAAG,EAAE,SAAS,CAAC;AACzF,sBAAgB,EAAE;AAClB,yBAAmB,KAAK;AAAA,IAC1B;AAAA,IACA,CAAC,eAAe,WAAW,MAAM,eAAe;AAAA,EAClD;AAEA,MAAI,CAAC,gBAAiB,QAAO,oCAAC,yCAAgB,IAAC,QAAO,QAAO,OAAM,QAAO;AAE1E,SACE;AAAA,IAAC,aAAa;AAAb;AAAA,MACC,eAAa,2DAAyB,CAAC;AAAA,MACvC,UACE,WACE;AAAA,QAAC,cAAc;AAAd;AAAA,UACC;AAAA,UACA;AAAA,UACA,gBAAgB,KAAK,UAAU,4BAAQ,CAAC,GAAG;AAAA,UAC3C,iBAAiB,CAAC,UAAkB,gBAAgB,KAAK;AAAA;AAAA,MAC3D,IAEA;AAAA,QAAC,eAAG;AAAH;AAAA,UACC,SAAS,MAAM,qCAAqC,4BAAQ,CAAC,MAAM;AAAA,UACnE,WAAU;AAAA,UACV,OAAM;AAAA,UAEN;AAAA,YAAC,cAAc;AAAd;AAAA,cACC,KAAK,SAAS;AAAA,cACd;AAAA,cACA,WAAW;AAAA;AAAA,UACb;AAAA;AAAA,MACF;AAAA,MAGJ;AAAA,MACA;AAAA,MACA,aACE;AAAA,QAAC,iBAAiB;AAAjB;AAAA,UACC;AAAA,UACA;AAAA,UACA,WAAW;AAAA,UACX,UAAU,KAAK;AAAA,UACf,cAAc,CAAC,UAAkB,qCAAqC,KAAK;AAAA,UAC3E,sBAAsB,CAAC,UAAmB,mBAAmB,KAAK;AAAA,UAClE;AAAA;AAAA,MACF;AAAA;AAAA,EAEJ;AAEJ;;;;AC1HS;AAxBgB;AAEQ;AAEJ;AAIkB;AAExC,SAAS,cAAc;AAC5B,QAAM,EAAE,eAAe,SAAS,OAAO,IAAI,uCAAgB,CAEzD;AACF,QAAM,aAAa,+DAA8B,CAAC;AAClD,QAAM,EAAE,MAAM,UAAU,IAAI,oCAAY,CAAC,UAAU;AAEnD,2CAAQ,CAAC,YAAY;AACnB,QAAI,WAAW,SAAS,CAAC,QAAQ,SAAS,OAAO,UAAU,UAAU,OAAO;AAC1E,aAAO,MAAM,cAAc,SAAS,WAAW,KAAK;AAAA,IACtD;AACA;AAAA,EACF,GAAG,CAAC,WAAW,KAAK,CAAC;AAErB,SAAO,4DAAE;AACX;;;;ACOc;AAhC2B;AACR;AACH;AAUvB;AAIsB;AACH;AAEqB;AAKxC,SAAS,aAAa,EAAE,aAAa,GAAsB;AAChE,QAAM,EAAE,cAAc,OAAO,IAAI,uCAAgB,CAAuB;AACxE,QAAM,EAAE,yBAAyB,0BAA0B,2BAA2B,IACpF,8BAA8B,CAAC;AAEjC,SACE;AAAA,IAAC,yBAAK;AAAL;AAAA,MACC,eAAa,wBAAwB,CAAC;AAAA,MACtC,QAAQ,oCAAC,+BAAW,IAAC;AAAA,MACrB,WAAW;AAAA,MACX,SAAS,MAAM,2BAA2B,KAAK;AAAA,MAC/C,QACE,qCAAC,wBAAS,IAAC,eAAc,OACvB;AAAA,4CAAC,0BAAM,IAAC,SAAS,MAAM,2BAA2B,KAAK,GAAG,SAAQ,WAAU,UAAU,GAAG,sBAEzF;AAAA,QACA;AAAA,UAAC,0BAAM;AAAN;AAAA,YACC,SAAS,MAAM;AACb,uCAAyB,IAAI;AAC7B,2BAAa;AAAA,YACf;AAAA,YACA,eAAa,wBAAwB,CAAC;AAAA,YACtC,MAAK;AAAA,YACL,UAAU;AAAA,YACX;AAAA;AAAA,QAED;AAAA,SACF;AAAA,MAGF,+CAAC,iBAAK,IAAC,IAAG,YAAW,KAAI,YAAW,IAAG,YACrC;AAAA,6CAAC,kBAAM,IACL;AAAA,8CAAC,qCAAiB,IAAC,OAAM,8BAA6B;AAAA,UACtD,qCAAC,yBAAK,IAAC;AAAA;AAAA,YACyB,OAAO;AAAA,YAAI;AAAA,YAAE,OAAO;AAAA,YAAY;AAAA,aAEhE;AAAA,WACF;AAAA,QACA,qCAAC,2BAAO,IAAC;AAAA;AAAA,UAEP,oCAAC,wBAAI,IAAC,SAAS,MAAM,uCAAY,CAAC,YAAY,GAAG,MAAK,MAAK,IAAG,YAAW,wBAEzE;AAAA,WACF;AAAA,SACF;AAAA;AAAA,EACF;AAEJ;;;;ACrDM;AAlBmC;AAChB;AACL;AAEE;AAEY;AACE;AAEpC,MAAM,eAAI,GAAG;AAEN,SAAS,YAAY;AAC1B,QAAM,CAAC,KAAK,IAAI,+BAAQ,CAAC,eAAI;AAE7B,QAAM,YAAY,iBAAiB,CAAC,eAAI;AAExC,SACE,qCAAC,eAAG,IAAC,OAAM,QAAO,IAAG,YACnB;AAAA,yCAAC,yBAAK,CAAC,MAAN,EAAW,UAAU,CAAC,CAAC,WACtB;AAAA,0CAAC,yBAAK,CAAC,OAAN,EAAY,kBAAI;AAAA,MACjB,oCAAC,yBAAK,CAAC,OAAN,EAAY,eAAa,wBAAwB,CAAC,gBAAiB,GAAG,OAAO;AAAA,OAChF;AAAA,IACA,oCAAC,eAAG,IAAC,IAAG,YACN,8CAAC,mBAAmB,IAAC,IAAI,mBAAQ,GACnC;AAAA,KACF;AAEJ;;;;ACtBS;AALsB;AAEA;AAExB,SAAS,uBAAuB;AACrC,SAAO,oCAAC,cAAc,IAAC,aAAa,kCAAc,EAAE;AACtD;;;;ACyDY;AA/DwB;AAEK;AACG;AAClB;AAG0B;AAEvB;AACD;AAGF;AAEF;AACgC;AAC5B;AACqB;AACpB;AACI;AAEP;AACW;AACM;AAepC,SAAS,qBAAqB;AAAA,EACnC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EAEA;AACF,GAA8B;AAC5B,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,EAAE,kBAAkB,IAAI,gCAAgC,CAAC;AAC/D,QAAM,YAAY,wDAAgB,CAAC;AACnC,SACE,oCAAC,mBAAI,IACH;AAAA,IAAC,yBAAM;AAAN;AAAA,MACC;AAAA,MACA;AAAA,MACA;AAAA,MACC,GAAG,0BAA0B;AAA1B,MAEH,qBAAS;AACR,0BAAkB,MAAM,MAAM;AAC9B,eACE,6DACE;AAAA,8CAAC,WAAW,IAAC;AAAA,UACb,qCAAC,uBAAI,IACH;AAAA;AAAA,cAAC,mBAAI;AAAJ;AAAA,gBACC,YAAY,wBAAwB,CAAC;AAAA,gBACrC,QACE,qCAAC,wBAAS,IACR;AAAA;AAAA,oBAAC,0BAAM;AAAN;AAAA,sBACC,aAAW,MAAM;AAAA,sBACjB,eAAa,wBAAwB,CAAC;AAAA,sBACtC,SAAS,MAAM,MAAM,aAAa;AAAA,sBAClC,MAAK;AAAA,sBACL,WAAS;AAAA,sBACV;AAAA;AAAA,kBAED;AAAA,kBACA;AAAA,oBAAC,+BAAgB;AAAhB;AAAA,sBACC,SAAS,kCAAW,CAAC,qBAAqB;AAAA,sBAC1C;AAAA;AAAA,kBACF;AAAA,mBACF;AAAA,gBAGF;AAAA,kBAAC,gBAAI;AAAJ;AAAA,oBACC,OAAM;AAAA,oBACN,eAAc;AAAA,oBACd,cAAc,EAAE,MAAM,SAAS,IAAI,OAAO;AAAA,oBAEzC;AAAA;AAAA,sBACA;AAAA,sBACD,oCAAC,oBAAoB,IAAC;AAAA,sBACtB,oCAAC,SAAS,IAAC;AAAA,sBACX,oCAAC,eAAG,IAAC,IAAG,YAAW,OAAM,QACvB,8CAAC,OAAO,IAAC,MAAY,aAAa,OAAO,GAC3C;AAAA,sBACA;AAAA,wBAAC,wBAAI;AAAJ;AAAA,0BACC,WAAU;AAAA,0BACV,IAAG;AAAA,0BACH,SAAS,MAAM,SAAS,2BAAS,CAAC,SAAS;AAAA,0BAC5C;AAAA;AAAA,sBAED;AAAA;AAAA;AAAA,gBACF;AAAA;AAAA,YACF;AAAA,YACA,oCAAC,YAAY,IAAC,cAAc,0DAAmC,EAAE;AAAA,YACjE,oCAAC,gCAAM,IAAC;AAAA,aACV;AAAA,WACF;AAAA,MAEJ;AAAA;AAAA,EACF,GACF;AAEJ;;;;;;;;;;;;;;ACpH4B;AACH;AAEE;AACM;AAY1B;AAGsB;AACC;AAEP;AAG2C;AAI3D;AACsC;AACX;AAEM;AAEjC,SAAS,wCAAwC;AACtD,QAAM,UAAU,wDAAuB,CAAC;AACxC,QAAM,EAAE,MAAM,UAAU,IAAI,oCAAY,CAAC,SAAS,WAAW,EAAE;AAC/D,QAAM,UAAU,uDAA4B,CAAC;AAE7C,SAAO,qBAAW;AAAX,IACL,OAAO,WAAkC;AACvC,UAAI,CAAC,QAAS;AAEd,YAAM,UAA8C;AAAA,QAClD,WAAW,QAAQ;AAAA,QACnB,OAAO,OAAO,QAAQ,KAAK,KAAK,WAAW;AAAA,QAC3C,KAAK,oCAAa,CAAC,QAAQ,OAAO,CAAC,EAAE,SAAS;AAAA,QAC9C,QAAQ;AAAA,UACN,QAAQ,6BAAgB,CAAC;AAAA;AAAA,UAEzB,WAAW,QAAQ,aAAa,QAAQ;AAAA,UACxC,QAAQ,QAAQ,SAAS,oCAAa,CAAC,QAAQ,MAAM,EAAE,SAAS,EAAE,IAAI;AAAA,UACtE,MAAM,QAAQ,QAAQ;AAAA,UACtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAMF;AAAA,MACF;AACA,aAAO,2BAA2B,CAAC,OAAO;AAAA,IAC5C;AAAA,IACA,CAAC,SAAS,WAAW,OAAO;AAAA,EAC9B;AACF;AAEO,SAAS,mCAAmC,QAA+B;AAChF,QAAM,aAAa,sCAAsC;AACzD,QAAM,UAAU,wDAAuB,CAAC;AACxC,QAAM,EAAE,MAAM,UAAU,IAAI,oCAAY,CAAC,SAAS,WAAW,EAAE;AAC/D,QAAM,UAAU,uDAA4B,CAAC;AAE7C,QAAM,KAAK,yCAAQ;AAAR,IACT,YAAY,WAAW,UAAU,MAAS;AAAA,IAC1C,CAAC,QAAQ,SAAS,SAAS,SAAS;AAAA,EACtC;AAEA,SAAO,GAAG;AACZ;AAEO,SAAS,qCAAqC,MAA4B;AAC/E,QAAM,UAAU,wDAAuB,CAAC;AACxC,QAAM,EAAE,MAAM,UAAU,IAAI,oCAAY,CAAC,SAAS,WAAW,EAAE;AAC/D,QAAM,UAAU,uDAA4B,CAAC;AAC7C,QAAM,EAAE,WAAW,IAAI;AACvB,QAAM,EAAE,iBAAiB,mBAAmB,aAAa,IACvD,uDAA8B,CAAC,UAAU;AAC3C,SAAO,qBAAW;AAAX,IACL,OAAO,WAAgE;AACrE,UAAI;AACF,YAAI,CAAC,QAAS;AAEd,cAAM,eAAe;AACrB,cAAM,YACJ,UAAU,eAAe,SACrB,6CAAa,CAAC,OAAO,aAAa,EAAE,IACpC,oCAAkB,CAAC;AACzB,cAAM,SAAS,UAAU,YAAY,SAAS,OAAO,SAAS;AAC9D,cAAM,OACJ,UAAU,UAAU,UAAU,OAAO,SAAS,KAC1C,6BAAM,CAAC,sCAAkB,CAAC,OAAO,QAAQ,EAAE,CAAC,IAC5C,6BAAM,CAAC;AAEb,cAAM,yBAAyB,0CAAiB,CAAC,QAAQ,KAAK,YAAY,CAAC;AAC3E,cAAM,uBAAuB;AAAA,UAC3B,QAAQ;AAAA,UACR;AAAA,UACA;AAAA,UACA;AAAA,UACA,YAAY,QAAQ;AAAA,QACtB;AAEA,cAAM,iBAAiB,CAAC,iBAAiB,CAAC,oBAAoB,CAAC;AAG/D,cAAM,eAA+B;AAAA,UACnC,uBAAM,CAAC,sBAAsB;AAAA,UAC7B,sDAA8B,CAAC,6CAAa,CAAC,QAAQ,OAAO,CAAC;AAAA,UAC7D,sDAA8B,CAAC,SAAS;AAAA,QAC1C;AAEA,qBAAa,KAAK,IAAI;AAEtB,cAAM,UAAU;AAAA,UACd,QAAQ;AAAA,YACN,QAAQ,6BAAgB,CAAC;AAAA,YACzB;AAAA,YACA;AAAA,YACA;AAAA,YACA,cAAc,aAAa,IAAI,4BAAW,EAAE,IAAI,SAAO,gCAAU,CAAC,GAAG,CAAC;AAAA,YACtE;AAAA,YACA,mBAAmB,uCAAiB,CAAC;AAAA,YACrC;AAAA,YACA,WAAW,QAAQ;AAAA,UACrB;AAAA,UACA,KAAK,oCAAa,CAAC,QAAQ,OAAO,CAAC,EAAE,SAAS;AAAA,UAC9C,WAAW,QAAQ;AAAA,UACnB,OAAO,OAAO,QAAQ,KAAK,KAAK,WAAW;AAAA,QAC7C;AAEA,eAAO,2BAA2B,CAAC,OAAO;AAAA,MAC5C,SAAS,OAAO;AACd,4BAAM,CAAC,MAAM,2CAA2C,KAAK;AAC7D;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,MACE;AAAA,MACA,KAAK;AAAA,MACL;AAAA,MACA,WAAW;AAAA,MACX;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,EACF;AACF;AAEO,SAAS,6BAA6B,MAA4B;AACvE,QAAM,UAAU,wDAAuB,CAAC;AACxC,QAAM,aAAa,qCAAqC,IAAI;AAE5D,QAAM,KAAK,yCAAQ,CAAC,YAAY,WAAW,GAAG,CAAC,OAAO,CAAC;AACvD,SAAO,GAAG;AACZ;;;;;ACtKsC;AACjB;AAEI;AAEzB,MAAM,wBAAwB,CAAC,QAAgB,mBAC7C,SAAS,sBAAM,CAAC,KAAK,MAAM,EAAE,SAAS,iBAAiB;AAEzD,SAAS,cAAc,MAAc;AACnC,SAAO,CAAC,sBAAsB,MAAM,2CAAqB;AAC3D;AAEO,SAAS,iBAAiB,UAAkB;AACjD,SAAO,4BAAU,CAAC,EAAE,KAAK;AAAA,IACvB,SAAS;AAAA,IACT,KAAK,OAAgB;AACnB,UAAI,CAAC,+BAAQ,CAAC,KAAK,EAAG,QAAO;AAC7B,aAAO,cAAc,KAAK;AAAA,IAC5B;AAAA,EACF,CAAC;AACH;;;;ACpBqB;AAG0B;AAEb;AAM3B;AAC6B;AAE7B,SAAS,sBACd,gBACA,gBACA;AACA,SAAO,4BACE,CAAC,EACP,QAAQ,iBAAiB,CAAC,eAAe,EACzC,OAAO,mBAAmB,CAAC,iBAAiB,CAAC,cAAc,CAAC,EAC5D,OAAO,0BAA0B,CAAC,cAAc,CAAC,EACjD,OAAO,0BAA0B,CAAC,cAAc,CAAC,EACjD;AAAA,IACC,mBAAmB;AAAnB,MACE,mBAAmB,CAAC,iBAAiB,CAAC,cAAc;AAAA,MACpD,sDAA8B,CAAC,eAAe,MAAM,OAAO,OAAO;AAAA,IACpE;AAAA,EACF;AACJ;;;;AC9BqB;AAEd,MAAM,iBAAiB,4BACrB,CAAC,EACP,QAAQ,EACR,IAAI,GAAG,4BAA4B,EACnC,UAAU,uCAAuC;;;;ACJf;AACR;AAEK;AAGD;AACK;AACP;AACgB;AACA;AACR;AAED;AACS;AAMxC,SAAS,wBAAwB;AAAA,EACtC;AAAA,EACA;AACF,GAAgC;AAC9B,QAAM,aAAa,qBAAqB,CAAC;AACzC,QAAM,aAAa,+DAA8B,CAAC;AAClD,QAAM,EAAE,MAAM,UAAU,IAAI,oCAAY,CAAC,UAAU;AACnD,QAAM,iBAAiB,iDAAsB,CAAC;AAC9C,QAAM,EAAE,2BAA2B,2BAA2B,IAC5D,8BAA8B,CAAC;AAEjC,QAAM,gBAAsC,8BAA8B,CAAC;AAAA,IACzE,4BAA4B;AAAA,IAC5B,yBAAyB;AAAA,IACzB,KAAK;AAAA,IACL,aAAa;AAAA,IACb,SAAS,4BAAQ,CAAC,4BAAQ,CAAC,OAAO;AAAA,IAClC,MAAM;AAAA,IACN,OAAO,WAAW;AAAA,IAClB,kBAAkB;AAAA,IAClB;AAAA,IACA,GAAG;AAAA,EACL,CAAC;AAED,iBAAe,oBACb,QACA,eACA;AACA,UAAM,aAAa,MAAM,cAAc,aAAa;AAEpD,QAAI,0BAA0B,YAAY,OAAO,GAAG,GAAG;AACrD,iCAA2B,IAAI;AAC/B,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAEA,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA,WAAW,qBAAqB,CAAC,YAAY,cAAc;AAAA,IAC3D,MAAM,gBAAgB,CAAC,iBAAiB,CAAC,gBAAgB;AAAA,IACzD,OAAO,cAAc;AAAd,EACT;AACF;;;;ACnEwB;AAGH;AAGoB;AACD;AAEjB;AAGkB;AACU;AAI5C;AAEiC;AACJ;AAM7B,SAAS,iBAAiB,EAAE,SAAS,KAAK,GAAyB;AACxE,QAAM,aAAa,oCAAoC,CAAC,IAAI;AAE5D,QAAM,mBAAmB,mBAAmB,CAAC;AAE7C,QAAM,aAAa,4BAA4B,CAAC,IAAI;AACpD,QAAM,EAAE,MAAM,aAAa,IAAI,gDAAwB,CAAC,UAAU;AAElE,QAAM,wBAAwB,QAAQ;AACtC,QAAM,iBAAiB,iBAAO;AAAP,IACrB,MAAM,8CAAuB,CAAC,qBAAqB;AAAA,IACnD,CAAC,qBAAqB;AAAA,EACxB;AAEA,QAAM,EAAE,eAAe,qBAAqB,WAAW,MAAM,MAAM,IAAI,uBAAuB,CAAC;AAAA,IAC7F,QAAQ,KAAK;AAAA,IACb;AAAA,EACF,CAAC;AAED,WAAS,iBAAiB;AACxB,WAAO;AAAA,MACL,QAAQ,KAAK;AAAA,MACb,mBAAmB,iDAAwB,CAAC,KAAK,mBAAmB,KAAK,IAAI;AAAA,IAC/E;AAAA,EACF;AAEA,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,QAAQ,KAAK;AAAA,IACb,UAAU,KAAK;AAAA,IACf,QAAQ,eAAe;AAAA,IACvB,kBAAkB,4BAAU,CAAC;AAAA,MAC3B,QAAQ,kCAAkC,CAAC,qBAAqB;AAAA,MAChE;AAAA,MACA;AAAA,MACA;AAAA,IACF,CAAC;AAAA,IAED,MAAM,mBACJ,QACA,eACA;AACA,YAAM,cAAc,MAAM,oBAAoB,QAAQ,aAAa;AACnE,UAAI,CAAC,YAAa;AAElB,YAAM,KAAK,MAAM,WAAW,MAAM;AAClC,UAAI,CAAC,GAAI,QAAO,oBAAM,CAAC,MAAM,wDAAwD;AAErF,uBAAiB,uCAAuC;AAAA,QACtD,UAAU,KAAK;AAAA,QACf,MAAM,KAAK;AAAA,QACX;AAAA,MACF,CAAC;AAAA,IACH;AAAA,EACF;AACF;;;;AC9CQ;AArCsB;AAEI;AAEN;AACO;AACL;AACA;AACO;AACJ;AAO1B,SAAS,4BAA4B;AAAA,EAC1C;AAAA,EACA;AAAA,EACA;AACF,GAAqC;AACnC,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,cAAc;AAAA,IACd;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI,gBAAgB,CAAC,EAAE,MAAM,QAAQ,CAAC;AAEtC,QAAM,cACJ;AAAA,IAAC,WAAW;AAAX;AAAA,MACC,SAAS;AAAA,MACT,oBACE,oCAAC,aAAa,IAAC,SAAS,uBAAuB,gBAAgB,eAAe,SAAS,GAAG;AAAA,MAE5F,aAAa;AAAA,MACb,cAAa;AAAA,MACb,kBACE,aACE,oCAAC,aAAa,IAAC,YAAwB,aAAa,QAAQ,eAAe,UAAU,IACnF;AAAA;AAAA,EAER;AAEF,QAAM,qBACJ;AAAA,IAAC,kBAAkB;AAAlB;AAAA,MACC,MACE,SACE;AAAA,QAAC,iBAAiB;AAAjB;AAAA,UACC,gBAAgB,OAAO;AAAA,UACvB,mBAAmB,OAAO;AAAA;AAAA,MAC5B,IAEA,oCAAC,iCAAa,IAAC;AAAA,MAGnB,MAAM;AAAA,MACN;AAAA;AAAA,EACF;AAGF,SACE;AAAA,IAAC,oBAAoB;AAApB;AAAA,MACC,UAAU;AAAA,MACV;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,EACF;AAEJ;;;;AChCI;AA7CmC;AAGyB;AAEtC;AAEF;AACG;AACF;AACsB;AAEH;AAS5C,SAAS,yBAAyB,EAAE,SAAS,GAAkC;AAC7E,QAAM,EAAE,WAAW,IAAI,sCAAS,CAAC;AACjC,QAAM,aAAa,+DAA8B,CAAC;AAClD,QAAM,QAAQ,qCAAa,CAAC,YAAY,cAAc,EAAE;AACxD,QAAM,oBAAoB,wDAAgC,CAAC;AAC3D,QAAM,QAAQ,6BAAQ,CAAC;AACvB,QAAM,WAAW,yCAAW,CAAC;AAE7B,MAAI,CAAC,WAAY;AAEjB,MAAI,CAAC,OAAO;AACV,UAAM,MAAM,iBAAiB;AAC7B,aAAS,2BAAS,CAAC,eAAe;AAClC;AAAA,EACF;AAEA,SAAO,SAAS;AAAA,IACd,GAAG;AAAA,IACH,YAAY,kBAAkB,MAAM,KAAK,YAAY,MAAM,QAAQ,iBAAiB,MAAM;AAAA,EAC5F,CAAC;AACH;AAEO,SAAS,qBAAqB;AACnC,SACE,6DACE;AAAA,wCAAC,UAAU,IAAC,OAAM,QAAO;AAAA,IACzB,oCAAC,sBAAO,IACN,8CAAC,4BACE,qBACC;AAAA,MAAC,2BAA2B;AAA3B;AAAA,QACC,SAAS,MAAM;AAAA,QACf,MAAM,MAAM;AAAA,QACZ,YAAY,MAAM;AAAA;AAAA,IACpB,GAEJ,GACF;AAAA,KACF;AAEJ;;;;ACRQ;AApDiC;AACnB;AAEU;AAEK;AAK9B;AACc;AAkBd,SAAS,qBAAqB;AAAA,EACnC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA8B;AAC5B,SACE;AAAA,IAAC,mBAAI;AAAJ;AAAA,MACC,YAAY,wBAAwB,CAAC;AAAA,MACrC,cAAc;AAAA,QACZ,GAAG;AAAA,MACL;AAAA,MACA,QACE;AAAA,QAAC,0BAAM;AAAN;AAAA,UACC,aAAW;AAAA,UACX,eAAa,wBAAwB,CAAC;AAAA,UACtC,SAAS;AAAA,UACT,OAAM;AAAA,UACP;AAAA;AAAA,MAED;AAAA,MAGF;AAAA;AAAA,UAAC,oCAAkB;AAAlB;AAAA,YACC,eAAa,wBAAwB,CAAC;AAAA,YACtC,YAAY;AAAA,YACZ,WAAW;AAAA,YACX,IAAG;AAAA,YACH,IAAI,CAAC,SAAS,UAAU;AAAA,YACxB,IAAG;AAAA,YACH;AAAA,YACA,OAAO,OAAO,OAAO;AAAA;AAAA,QACvB;AAAA,QAEA,oCAAC,2BAAO,IAAC,SAAQ,QAAO,OAAM,2BAA0B,IAAG,YAAW,IAAG,YACtE,2EAAiE,MAAM,oBAC1E;AAAA,QAEA,qCAAC,iBAAK,IAAC,IAAG,YAAW,IAAG,YAAW,OAAM,QACvC;AAAA;AAAA,YAAC,6BAAW;AAAX;AAAA,cACC,OAAM;AAAA,cACN,OAAO,oCAAC,oBAAoB,IAAC,SAAS,WAAW;AAAA,cACjD,eAAa,wBAAwB,CAAC;AAAA;AAAA,UACxC;AAAA,UACA,oCAAC,mCAAiB,IAAC;AAAA,UACnB,oCAAC,6BAAW,IAAC,OAAM,eAAc,OAAO,YAAY;AAAA,UACpD,oCAAC,6BAAW,IAAC,OAAM,WAAU,OAAO,cAAc;AAAA,UAClD;AAAA,YAAC,6BAAW;AAAX;AAAA,cACC,OAAM;AAAA,cACN,OAAO;AAAA,cACP,wBAAwB;AAAA,cACxB,eAAa,wBAAwB,CAAC;AAAA;AAAA,UACxC;AAAA,UACA;AAAA,YAAC,6BAAW;AAAX;AAAA,cACC,OAAM;AAAA,cACN,OAAO;AAAA,cACP,eAAa,wBAAwB,CAAC;AAAA;AAAA,UACxC;AAAA,UACA,oCAAC,6BAAW,IAAC,OAAM,SAAQ,OAAO,OAAO;AAAA,UACzC,oCAAC,6BAAW,IAAC,OAAM,+BAA8B,OAAO,WAAW;AAAA,WACrE;AAAA;AAAA;AAAA,EACF;AAEJ;;;;ACxCU;AA9DwB;AAEK;AACZ;AAGI;AAEW;AACZ;AACH;AACmB;AACF;AACf;AAEQ;AAErC,SAAS,qCAAqC;AAC5C,SAAO;AAAA,IACL,IAAI,yBAAyB,CAAC,IAAI;AAAA,IAClC,UAAU,yBAAyB,CAAC,UAAU;AAAA,IAC9C,sBAAsB,yBAAyB,CAAC,sBAAsB;AAAA,EACxE;AACF;AAEO,SAAS,6BAA6B;AAC3C,QAAM,EAAE,IAAI,UAAU,qBAAqB,IAAI,mCAAmC;AAElF,QAAM,EAAE,SAAS,MAAM,IAAI,sCAAS,CAAC;AAErC,QAAM,EAAE,4BAA4B,eAAe,IAAI,6BAA6B,CAAC;AAAA,IACnF,OAAO,OAAO,YAAY;AAAA,IAC1B;AAAA,EACF,CAAC;AAED,QAAM,gCAAgC,sDAAsB,CAAC,EAAE;AAE/D,QAAM,EAAE,oBAAoB,IAAI,2BAA2B;AAA3B,IAC9B,OAAO,YAAY;AAAA,EACrB;AACA,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI,oBAAoB,+BAA+B,QAAQ,QAAQ;AAEvE,QAAM,oBAAoB,uBACxB;AAAA,IAAC,iCAAY;AAAZ;AAAA,MACC,OACE;AAAA,MAEF,MAAK;AAAA,MAEL,8CAAC,iBAAK,IACJ,8CAAC,eAAG,IACF,8CAAC,kCAAc,IAAC,OAAM,oBAAmB,SAAQ,SAAQ,GAC3D,GACF;AAAA;AAAA,EACF,IACE;AAEJ,SACE,6DACE;AAAA,wCAAC,UAAU,IAAC,OAAM,UAAS;AAAA,IAC3B,oCAAC,sBAAO,IACN,+CAAC,mBAAI,IACH;AAAA,0CAAC,gCAAM,IAAC;AAAA,MACR;AAAA,QAAC,oBAAoB;AAApB;AAAA,UACC;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA,QAAQ,OAAO,YAAY;AAAA,UAC3B,WAAW;AAAA,UACX;AAAA,UACA,wBAAwB,MAAM,2BAA2B,6BAA6B;AAAA;AAAA,MACxF;AAAA,OACF,GACF;AAAA,KACF;AAEJ;;;;AC9FwB;AAGH;AAEQ;AAKtB;AACiC;AAEjB;AAMhB;AACyB;AACiB;AACF;AAIxC;AAEiC;AACJ;AAE7B,SAAS,iBAAiB;AAC/B,QAAM,aAAa,kCAAkC,CAAC;AACtD,QAAM,EAAE,MAAM,QAAQ,IAAI,gDAAwB,CAAC,UAAU;AAC7D,QAAM,aAAa,qCAAqC,CAAC;AACzD,QAAM,EAAE,kBAAkB,IAAI,gCAAgC,CAAC;AAC/D,QAAM,mBAAmB,mBAAmB,CAAC;AAC7C,QAAM,UAAU,+DAA8B,CAAC;AAC/C,QAAM,EAAE,iBAAiB,IAAI,mDAA2B,CAAC,OAAO;AAChE,QAAM,2BAA2B,sDAA8B,CAAC,OAAO;AAEvE,QAAM,iBAAiB,iBAAO;AAAP,IACrB,MACE,8CAAuB;AAAvB,MACE,yBAAyB,OAAO,MAAM,SAAS,UAAU,CAAC,EAAE,IAAI,UAAU,CAAC;AAAA,MAC3E,mCAAY;AAAZ,IACF;AAAA,IACF,CAAC,yBAAyB,QAAQ,SAAS,SAAS;AAAA,EACtD;AAEA,QAAM,EAAE,eAAe,qBAAqB,WAAW,MAAM,MAAM,IAAI,uBAAuB,CAAC;AAAA,IAC7F,QAAQ;AAAA,IACR,uBAAuB;AAAA,EACzB,CAAC;AAED,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IAEA,kBAAkB,4BAAU,CAAC;AAAA,MAC3B,QAAQ,kBAAkB,CAAC,wBAAwB,EAAE;AAAA,QACnD,4BAA4B,CAAC,wBAAwB;AAAA,MACvD;AAAA,MACA,KAAK,eAAe,CAAC,wBAAwB;AAAA,MAC7C;AAAA,MACA;AAAA,MACA;AAAA,IACF,CAAC;AAAA,IAED,MAAM,mBACJ,QACA,eACA;AACA,YAAM,cAAc,MAAM,oBAAoB,QAAQ,aAAa;AAEnE,UAAI,CAAC,YAAa;AAClB,YAAM,aAAa,OAAO;AAC1B,aAAO,MAAM,iBAAiB;AAAA,QAC5B,OAAO,OAAO,OAAO,KAAK;AAAA,QAC1B,KAAK,OAAO,OAAO,GAAG;AAAA,MACxB,CAAC;AAGD,YAAM,uBAAuB,eAAe,OAAO;AAEnD,YAAM,KAAK,MAAM,WAAW,MAAM;AAClC,UAAI,CAAC,GAAI,QAAO,oBAAM,CAAC,MAAM,wDAAwD;AACrF,uBAAiB,+BAA+B,IAAI,oBAAoB;AAAA,IAC1E;AAAA,EACF;AACF;;;;AC/DwB;AA7B+B;AACzB;AAEN;AACG;AAEC;AACO;AACL;AACA;AACO;AACN;AAE/B,MAAM,oBAAM,GAAG;AAER,SAAS,cAAc;AAC5B,QAAM,gBAAgB,8DAAsC,CAAC,oBAAM;AACnE,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,SAAS;AAAA,IACT;AAAA,EACF,IAAI,cAAc,CAAC;AAEnB,QAAM,cACJ;AAAA,IAAC,WAAW;AAAX;AAAA,MACC,SAAS;AAAA,MACT,kBAAkB,oCAAC,aAAa,IAAC,YAAY,eAAe,aAAa,oBAAM,EAAE;AAAA,MACjF,oBACE;AAAA,QAAC,aAAa;AAAb;AAAA,UACC,SAAS;AAAA,UACT,gBAAgB,eAAe,SAAS;AAAA;AAAA,MAC1C;AAAA;AAAA,EAEJ;AAGF,QAAM,qBACJ,oCAAC,kBAAkB,IAAC,MAAM,oCAAC,iCAAa,IAAC,GAAI,MAAK,UAAS,MAAM,wBAAU;AAG7E,SACE,6DACE;AAAA,wCAAC,UAAU,IAAC,OAAM,QAAO;AAAA,IACzB,oCAAC,sBAAO,IACN;AAAA,MAAC,oBAAoB;AAApB;AAAA,QACC,UAAU;AAAA,QACV;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA,uBAAuB;AAAA;AAAA,IACzB,GACF;AAAA,KACF;AAEJ;;;;AC9Ba;AA9BY;AACH;AAEI;AAEU;AACa;AAClB;AACc;AACD;AACE;AACd;AACJ;AAEG;AACG;AACH;AACA;AACQ;AACG;AACb;AACD;AACY;AACL;AACQ;AACf;AAE5B,MAAM,8BACJ;AAAA,EAAC,+BAAK;AAAL;AAAA,IACC,MAAM,2BAAS,CAAC;AAAA,IAChB,SAAS,oCAAC,sBAAsB,IAAC;AAAA;AACnC;AAGF,MAAM,sBAAsB,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,WAAW,SAAS,oCAAC,cAAc,IAAC,GAAI;AAC3F,MAAM,2BACJ,oCAAC,+BAAK,IAAC,MAAM,2BAA2B,SAAS,oCAAC,mBAAmB,IAAC,GAAI;AAGrE,MAAM,4BACX,qCAAC,+BAAK,IACJ;AAAA;AAAA,IAAC,+BAAK;AAAL;AAAA,MACC,MAAM,2BAAS,CAAC;AAAA,MAChB,SACE,oCAAC,gCAAW,IACV,8CAAC,cAAQ,IAAC,UAAU,oCAAC,gCAAgC,IAAC,GACpD,8CAAC,iBAAiB,IAAC,GACrB,GACF;AAAA;AAAA,EAEJ;AAAA,EAEA,qCAAC,+BAAK,IAAC,SAAS,oCAAC,yBAAyB,IAAC,GACzC;AAAA;AAAA,MAAC,+BAAK;AAAL;AAAA,QACC,MAAM,2BAAS,CAAC,oBAAoB,QAAQ,WAAW,KAAK;AAAA,QAC5D,SAAS,oCAAC,WAAW,IAAC;AAAA,QAErB;AAAA,sCAA4B;AAA5B,UACA;AAAA;AAAA;AAAA,IACH;AAAA,IACA,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,iBAAiB,SAAS,oCAAC,eAAe,IAAC,GAAI;AAAA,IACtE,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,cAAc,SAAS,oCAAC,cAAc,IAAC,GAAI;AAAA,IAElE,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,qBAAqB,SAAS,oCAAC,uBAAuB,IAAC,GAAI;AAAA,IAClF,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,kBAAkB,SAAS,oCAAC,YAAY,IAAC,GAC7D,sCAA4B,EAC/B;AAAA,IACA,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,kBAAkB,SAAS,oCAAC,cAAc,IAAC,GAAI;AAAA,KACxE;AAAA,EACA;AAAA,IAAC,+BAAK;AAAL;AAAA,MACC,MAAM,2BAAS,CAAC,oBAAoB,QAAQ,WAAW,KAAK;AAAA,MAC5D,SACE,oCAAC,6BAA6B,IAC5B,8CAAC,WAAW,IAAC,GACf;AAAA,MAGD;AAAA;AAAA,QACA;AAAA,QACA;AAAA;AAAA;AAAA,EACH;AAAA,EACA;AAAA,IAAC,+BAAK;AAAL;AAAA,MACC,MAAM,GAAG,2BAAS,CAAC,oBAAoB,QAAQ,WAAW,KAAK,CAAC;AAAA,MAChE,SAAS,oCAAC,0BAA0B,IAAC;AAAA,MAEpC,qCAA2B;AAA3B;AAAA,EACH;AAAA,EACA;AAAA,IAAC,+BAAK;AAAL;AAAA,MACC,MAAM,2BAAS,CAAC;AAAA,MAChB,SACE,oCAAC,6BAA6B,IAC5B,8CAAC,kBAAkB,IAAC,GACtB;AAAA,MAGD;AAAA;AAAA,QACA;AAAA,QACA;AAAA;AAAA;AAAA,EACH;AAAA,EACA,oCAAC,+BAAK,IAAC,MAAK,qCAAoC,SAAS,oCAAC,0BAA0B,IAAC,GAClF,qCAA2B,EAC9B;AAAA,EACA,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,kBAAkB,SAAS,oCAAC,cAAc,IAAC,GAAI;AAAA,GACxE;;;;ACvG0B;AAIC;AAOtB;AAEiC;AACK;AAEtC,SAAS,0CAA0C;AACxD,QAAM,UAAU,wDAAuB,CAAC;AAExC,QAAM,EAAE,MAAM,UAAU,IAAI,oCAAY,CAAC,SAAS,WAAW,EAAE;AAC/D,QAAM,UAAU,uDAA4B,CAAC;AAE7C,SAAO,qBAAW;AAAX,IACL,OAAO,SAA8B,WAAwC;AAC3E,UAAI,CAAC,QAAS;AAEd,YAAM,UAA8C;AAAA,QAClD,WAAW,QAAQ;AAAA,QACnB,OAAO,OAAO,QAAQ,KAAK,KAAK,WAAW;AAAA,QAC3C,KAAK,OAAO,OAAO;AAAA,QACnB,QAAQ,EAAE,GAAG,SAAS,QAAQ;AAAA,MAChC;AACA,aAAO,2BAA2B,CAAC,OAAO;AAAA,IAC5C;AAAA,IACA,CAAC,SAAS,SAAS,WAAW,KAAK;AAAA,EACrC;AACF;;;;ACpCsB;AAEK;AAEpB,SAAS,qBAAqB,SAAmB;AACtD,SAAO,IAAI,wBAAS,CAAC,QAAQ,MAAM,EAAE,MAAM,GAAG,EAAE,SAAS;AAC3D;AAEO,SAAS,kBAAkB,KAAa;AAC7C,QAAM,OAAO,IAAI,MAAM,GAAG,EAAE,CAAC;AAC7B,SAAO,SAAS,SAAS,OAAO,iCAAU,CAAC,KAAK,YAAY,CAAC;AAC/D;;;;ACX0C;AA8B1C,MAAM,cAAc,uBAAa,CAAqB,IAAI;AAEnD,SAAS,iBAAiB;AAC/B,QAAM,UAAU,oBAAU,CAAC,WAAW;AACtC,MAAI,CAAC,QAAS,OAAM,IAAI,MAAM,sBAAsB;AACpD,SAAO;AACT;AAEO,MAAM,eAAe,YAAY;;;;ACtClB;AACD;AAEI;AACoB;AACc;AAEzB;AAGa;AAEhB;AASxB,SAAS,cAAc;AAC5B,QAAM,EAAE,uBAAuB,IAAI,cAAc,CAAC;AAClD,QAAM,aAAa,+DAA8B,CAAC;AAClD,QAAM,EAAE,MAAM,UAAU,IAAI,oCAAY,CAAC,UAAU;AAEnD,QAAM,gBAAgC;AAAA,IACpC,KAAK;AAAA,IACL,aAAa;AAAA,IACb,SAAS,4BAAQ,CAAC,4BAAQ,CAAC,MAAM;AAAA,IACjC,OAAO,WAAW;AAAA,IAClB,gBAAgB;AAAA,IAChB,iBAAiB;AAAA,IACjB,eAAe;AAAA,IACf,gBAAgB;AAAA,EAClB;AAEA,QAAM,mBAAmB,4BAAU,CAAC;AAAA,IAClC,eAAe,4BAAU,CAAY,EAAE,SAAS;AAAA,IAChD,gBAAgB,4BAAU,CAAY,EAAE,SAAS;AAAA,IACjD,gBAAgB,4BACP,CAAC,EACP,KAAK;AAAA,MACJ,SAAS;AAAA,MACT,KAAK,OAAO;AACV,YAAI,uBAAwB,QAAO;AACnC,cAAM,EAAE,cAAc,IAAI,KAAK;AAC/B,cAAM,wBAAwB,oDAA6B;AAA7B,UAC5B,kCAAW;AAAX,YACE,IAAI,wBAAS,CAAC,OAAO,KAAK,CAAC;AAAA,YAC3B,cAAc,QAAQ;AAAA,YACtB,cAAc,QAAQ;AAAA,UACxB;AAAA,QACF;AACA,YAAI,cAAc,QAAQ,OAAO,WAAW,qBAAqB,EAAG,QAAO;AAC3E,eAAO;AAAA,MACT;AAAA,IACF,CAAC,EACA,SAAS,iBAAiB,CAAC,cAAc,EACzC,UAAU,iBAAiB,CAAC,YAAY,EACxC,SAAS,iBAAiB,CAAC,cAAc;AAAA,IAC5C,iBAAiB,4BACR,CAAC,EACP,SAAS,iBAAiB,CAAC,cAAc,EACzC,UAAU,iBAAiB,CAAC,YAAY,EACxC,SAAS,iBAAiB,CAAC,cAAc;AAAA,EAC9C,CAAC;AAED,SAAO;AAAA,IACL;AAAA,IACA;AAAA,EACF;AACF;;;;ACnDM;AArBuB;AACT;AAGQ;AAEA;AACG;AAExB,SAAS,SAAS,EAAE,SAAS,GAAgB;AAClD,QAAM,EAAE,eAAe,iBAAiB,IAAI,WAAW,CAAC;AACxD,QAAM,EAAE,sBAAsB,IAAI,cAAc,CAAC;AAEjD,SACE;AAAA,IAAC,yBAAM;AAAN;AAAA,MACC;AAAA,MACA,UAAU;AAAA,MACV,kBAAkB;AAAA,MAClB,iBAAe;AAAA,MACf;AAAA,MAEA,+CAAC,eAAG,IAAC,OAAM,QACT;AAAA,4CAAC,WAAW,IAAC;AAAA,QACb,oCAAC,uBAAI,IAAE,UAAS;AAAA,SAClB;AAAA;AAAA,EACF;AAEJ;;;;AC3B4B;AACW;AAEhC,SAAS,kBAAkB;AAChC,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,EAAE,MAAM,MAAM,IAAI,sCAAS,CAAC;AAClC,SAAO,qBAAW;AAAX,IACL,CAAC,UAAkB;AACjB,eAAS,MAAM,QAAQ,SAAS,QAAQ,EAAE,EAAE,QAAQ,UAAU,SAAS,EAAE,CAAC;AAAA,IAC5E;AAAA,IACA,CAAC,MAAM,UAAU,KAAK;AAAA,EACxB;AACF;;;;ACZO,IAAK,gBAAL,kBAAKC,mBAAL;AACL,EAAAA,eAAA,mBAAgB;AAChB,EAAAA,eAAA,uBAAoB;AACpB,EAAAA,eAAA,2BAAwB;AACxB,EAAAA,eAAA,qBAAkB;AAClB,EAAAA,eAAA,uBAAoB;AACpB,EAAAA,eAAA,yBAAsB;AACtB,EAAAA,eAAA,uBAAoB;AACpB,EAAAA,eAAA,mBAAgB;AAChB,EAAAA,eAAA,mBAAgB;AAChB,EAAAA,eAAA,mBAAgB;AAVN,SAAAA;AAAA;;;;AC8BF;AA9BoB;AAE8C;AAOrE;AACkC;AAEK;AAMvC,SAAS,cAAc,EAAE,OAAO,QAAQ,GAAuB;AACpE,QAAM,EAAE,MAAM,WAAW,IAAI,wDAAgC,CAAC,MAAM,SAAS;AAE7E,QAAM,iBAAiB,cAAc,iCAAS,CAAC,UAAU,IAAI,WAAW,OAAO,MAAM;AACrF,QAAM,cAAc,MAAM,eAAe;AACzC,QAAM,WAAW,yCAAiB,CAAC,MAAM,IAAI;AAC7C,QAAM,cAAc,6BAA6B,CAAC,KAAK;AAEvD,SACE,oCAAC,6BAAS,IAAC,eAAa,aAAa,CAAC,mBAAmB,SAAkB,IAAG,YAC5E;AAAA,IAAC,8BAAU;AAAV;AAAA,MACC,KACE,qCAAC,0BAAM,CAAC,MAAP,EACC;AAAA,4CAAC,0BAAM,CAAC,OAAP,EAAa,KAAK,UAAU,KAAK,MAAM,MAAM;AAAA,QAC9C,oCAAC,0BAAM,CAAC,UAAP,EAAgB,SAAS,wCAAoB,EAAG,oBAAS;AAAA,SAC5D;AAAA,MAEF,WAAW;AAAA,MACX,aAAa,MAAM;AAAA,MACnB,YAAY,+CAAwB,CAAC,MAAM,OAAO;AAAA,MAClD,cAAc;AAAA;AAAA,EAChB,GACF;AAEJ;;;;ACiCQ;AA3E+B;AAET;AACR;AACW;AACX;AAQf;AAEmB;AAEK;AAGD;AAMvB,SAAS,cAAc,EAAE,QAAQ,KAAK,GAAkB;AAC7D,QAAM,EAAE,iBAAiB,IAAI,cAAc,CAAC;AAC5C,QAAM,EAAE,eAAe,eAAe,OAAO,IAAI,uCAAgB,CAAiB;AAClF,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,EAAE,MAAM,MAAM,IAAI,sCAAS,CAAC;AAClC,QAAM,aAAa,SAAS;AAC5B,QAAM,cAAc,SAAS;AAE7B,QAAM,mBAAmB,OAAO;AAAA,IAC9B,WACG,cAAc,MAAM,SAAS,OAAO,gBAAgB,QACpD,eAAe,MAAM,SAAS,OAAO,eAAe;AAAA,EACzD;AAEA,iBAAe,cAAc,OAAkB;AAC7C,QAAI;AACJ,QAAI;AACJ,QAAI,YAAY;AACd,kBAAY;AACZ,mBAAa,OAAO;AACpB,YAAM,cAAc,iBAAiB,KAAK;AAC1C,eAAS,2BAAS,CAAC,KAAK,QAAQ,SAAS,UAAU,IAAI,EAAE,QAAQ,UAAU,SAAS,EAAE,CAAC;AAAA,IACzF,WAAW,aAAa;AACtB,kBAAY,OAAO;AACnB,mBAAa;AACb,YAAM,cAAc,kBAAkB,KAAK;AAC3C,oBAAc,kBAAkB,MAAS;AACzC,eAAS,2BAAS,CAAC,KAAK,QAAQ,SAAS,QAAQ,EAAE,EAAE,QAAQ,UAAU,WAAW,IAAI,CAAC;AAAA,IACzF;AAEA,QAAI,aAAa,cAAc,OAAO,gBAAgB;AACpD,YAAM,cAAc,MAAM,iBAAiB,WAAW,YAAY,OAAO,cAAc;AACvF,UAAI,kCAAW,CAAC,WAAW,GAAG;AAC5B,cAAM,cAAc,mBAAmB,EAAE;AACzC;AAAA,MACF;AACA,YAAM,qBAAqB,kCAAW;AAAX,QACzB,oDAA6B,CAAC,IAAI,wBAAS,CAAC,WAAW,GAAG,YAAY,QAAQ,QAAQ;AAAA,QACtF,YAAY,QAAQ,UAAU;AAAA,QAC9B,YAAY,QAAQ;AAAA,MACtB;AACA,YAAM,cAAc,mBAAmB,+CAAwB,CAAC,kBAAkB,CAAC;AACnF,oBAAc,mBAAmB,MAAS;AAAA,IAC5C;AAAA,EACF;AAEA,SACE,oCAAC,iBAAK,IAAC,IAAG,YAAW,GAAE,YAAW,OAAM,QAAO,eAAa,aAAa,CAAC,eACvE,2BAAiB,IAAI,WACpB,oCAAC,aAAa,IAAC,OAAmC,SAAS,MAAM,cAAc,KAAK,KAAlD,MAAM,QAA+C,CACxF,GACH;AAEJ;;;;AC5DY;AAnBuB;AAET;AAEM;AACD;AACD;AAEvB,SAAS,qBAAqB;AACnC,QAAM,EAAE,oBAAoB,IAAI,cAAc,CAAC;AAC/C,QAAM,WAAW,eAAe,CAAC;AAEjC,SACE;AAAA,IAAC,yBAAK;AAAL;AAAA,MACC,WAAS;AAAA,MACT,SAAS,MAAM,SAAS,2BAAS,CAAC,IAAI;AAAA,MACtC,QACE;AAAA,QAAC,+BAAW;AAAX;AAAA,UACC,OACE,6DAAE;AAAA;AAAA,YACa,oCAAC,QAAG;AAAA,YAAE;AAAA,aACrB;AAAA,UAEF,SAAQ;AAAA,UACR,SAAS,MAAM,SAAS,2BAAS,CAAC,IAAI;AAAA;AAAA,MACxC;AAAA,MAGF,8CAAC,aAAa,IAAC,QAAQ,qBAAqB,MAAK,QAAO;AAAA;AAAA,EAC1D;AAEJ;;;;ACZY;AAnBuB;AAET;AAEM;AACD;AACD;AAEvB,SAAS,sBAAsB;AACpC,QAAM,EAAE,qBAAqB,IAAI,cAAc,CAAC;AAChD,QAAM,WAAW,eAAe,CAAC;AAEjC,SACE;AAAA,IAAC,yBAAK;AAAL;AAAA,MACC,WAAS;AAAA,MACT,SAAS,MAAM,SAAS,2BAAS,CAAC,IAAI;AAAA,MACtC,QACE;AAAA,QAAC,+BAAW;AAAX;AAAA,UACC,OACE,6DAAE;AAAA;AAAA,YACa,oCAAC,QAAG;AAAA,YAAE;AAAA,aACrB;AAAA,UAEF,SAAQ;AAAA,UACR,SAAS,MAAM,SAAS,2BAAS,CAAC,IAAI;AAAA;AAAA,MACxC;AAAA,MAGF,8CAAC,aAAa,IAAC,QAAQ,sBAAsB,MAAK,SAAQ;AAAA;AAAA,EAC5D;AAEJ;;;;ACnBU;AAZ+B;AAElB;AACP;AAEU;AAEyB;AAEnD,MAAM,uBAAY,GAAG;AAAA,EACnB;AAAA,IAAC,oBAAoB;AAApB;AAAA,MAEC,MAAM,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAW,kDAAoC;AAAA;AAAA,IADvE;AAAA,EAEP;AACF;AAEO,SAAS,YAAY;AAC1B,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,UAAU,oBAAG,CAAC,SAAS,OAAO,SAAS;AAC7C,QAAM,QAAQ,oBAAG,CAAC,SAAS,OAAO,OAAO;AAEzC,SACE;AAAA,IAAC,YAAY;AAAZ;AAAA,MACC,MAAM;AAAA,MACN,YAAY;AAAZ,MACA,IAAG;AAAA,MACH,SAAS,MAAM,SAAS,2BAAS,CAAC,IAAI;AAAA,MACtC;AAAA;AAAA,EACF;AAEJ;;;;ACjBW;AAdmB;AACC;AAEV;AAQd,SAAS,oBAAoB,EAAE,SAAS,MAAM,QAAQ,MAAM,GAA6B;AAC9F,SACE;AAAA,IAAC,wBAAI;AAAJ;AAAA,MACC,KAAK,oCAAC,kBAAM,CAAC,KAAP,EAAW,KAAK,MAAM,cAAa,OAAM,OAAM,QAAO,QAAO,QAAO,KAAI,cAAa;AAAA,MAC3F,SAAQ;AAAA,MACR,OAAM;AAAA,MAEN;AAAA,4CAAC,kBAAM,CAAC,MAAP,EAAY,OAAM,oBAAmB,WAAU,cAC7C,mBACH;AAAA,QACA,qCAAC,kBAAM,IAAC,YAAW,UAAS,gBAAe,iBACzC;AAAA,8CAAC,kBAAM,CAAC,MAAP,EAAY,eAAa,aAAa,CAAC,mBAAmB,WAAU,cAClE,kBACH;AAAA,UACA,oCAAC,kBAAM,CAAC,MAAP,EAAY,eAAa,aAAa,CAAC,mBAAmB,WAAU,cAClE,iBACH;AAAA,WACF;AAAA;AAAA;AAAA,EACF;AAEJ;;;;ACrBI;AAVuB;AAEG;AAMvB,SAAS,qBAAqB,EAAE,eAAe,eAAe,GAA8B;AACjG,SACE;AAAA,IAAC,iBAAK;AAAL;AAAA,MACC,QAAO;AAAA,MACP,cAAa;AAAA,MACb,KAAI;AAAA,MACJ,IAAG;AAAA,MACH,IAAG;AAAA,MACH,GAAE;AAAA,MACF,OAAM;AAAA,MAEL;AAAA;AAAA,QACD,oCAAC,eAAG,IAAC,QAAO,QAAO,IAAG,YAAW,IAAG,YAAW,OAAM,QACnD,8CAAC,iCAAa,IAAC,SAAQ,SAAQ,GACjC;AAAA,QACC;AAAA;AAAA;AAAA,EACH;AAEJ;;;;ACAQ;AA1BoB;AAEK;AAEL;AAEF;AAGU;AACC;AAE9B,SAAS,iBAAiB;AAC/B,QAAM;AAAA,IACJ,QAAQ,EAAE,gBAAgB,iBAAiB,eAAe,eAAe;AAAA,EAC3E,IAAI,uCAAgB,CAAiB;AACrC,QAAM,WAAW,yCAAW,CAAC;AAE7B,MAAI,kCAAW,CAAC,aAAa,KAAK,kCAAW,CAAC,cAAc,GAAG;AAC7D,aAAS,2BAAS,CAAC,MAAM,EAAE,SAAS,KAAK,CAAC;AAC1C,WAAO;AAAA,EACT;AAEA,SACE;AAAA,IAAC,oBAAoB;AAApB;AAAA,MACC,eACE;AAAA,QAAC,mBAAmB;AAAnB;AAAA,UACC,SAAQ;AAAA,UACR,MAAM,cAAc;AAAA,UACpB,QAAQ,cAAc;AAAA,UACtB,OAAO;AAAA;AAAA,MACT;AAAA,MAEF,gBACE;AAAA,QAAC,mBAAmB;AAAnB;AAAA,UACC,SAAQ;AAAA,UACR,MAAM,eAAe;AAAA,UACrB,QAAQ,eAAe;AAAA,UACvB,OAAO;AAAA;AAAA,MACT;AAAA;AAAA,EAEJ;AAEJ;;;;ACrBM;AApB8B;AAEL;AAEF;AAQtB,SAAS,iBAAiB;AAAA,EAC/B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA0B;AACxB,SACE,qCAAC,kBAAM,IAAC,YAAW,UAAS,gBAAe,iBAAgB,OAAM,QAC/D;AAAA,yCAAC,kBAAM,IAAC,YAAW,UAAS,KAAI,YAC9B;AAAA,0CAAC,kBAAM,CAAC,MAAP,EAAY,OAAM,oBAAmB,WAAU,WAC7C,iBACH;AAAA,MACC,eACC,oCAAC,iCAAY,IAAC,OAAO,cAAc,MAAK,UACtC,8CAAC,eAAG,IAAC,QAAQ,EAAE,QAAQ,UAAU,GAAG,OAAM,oBACxC,8CAAC,kCAAc,IAAC,SAAQ,SAAQ,GAClC,GACF,IACE;AAAA,OACN;AAAA,IACA,oCAAC,kBAAM,CAAC,MAAP,EAAY,eAAa,YAAY,WAAU,YAC7C,iBACH;AAAA,KACF;AAEJ;;;;ACjCI;AANkB;AAIf,SAAS,kBAAkB,EAAE,SAAS,GAAgB;AAC3D,SACE,oCAAC,iBAAK,IAAC,YAAW,UAAS,KAAI,YAAW,IAAG,YAAW,OAAM,QAC3D,UACH;AAEJ;;;;ACgBM;AA1BwB;AACR;AACS;AAEmB;AACjB;AAO1B;AAEsC;AACM;AACZ;AAEC;AACP;AACC;AAElC,SAAS,WAAW,OAAmD;AACrE,SAAO,MAAM,mBAAmB,OAAO,IAAI,CAAC,OAAO,MAAM;AACvD,UAAM,aAAa,gCAAS,CAAC,MAAM,mBAAmB,OAAO,IAAI,CAAC,CAAC;AACnE,WACE,qCAAC,kBAAM,IAAC,KAAI,YACV;AAAA,0CAAC,kBAAM,CAAC,MAAP,EAAa,gBAAM,MAAK;AAAA,MACxB,cAAc,oCAAC,oCAAgB,IAAC,SAAQ,SAAQ;AAAA,SAFvB,MAAM,IAGlC;AAAA,EAEJ,CAAC;AACH;AAEA,MAAM,oBACJ;AAEK,SAAS,cAAc;AAC5B,QAAM,EAAE,mBAAmB,IAAI,cAAc,CAAC;AAC9C,QAAM,EAAE,UAAU,IAAI,iDAAsB,CAAC;AAC7C,QAAM,EAAE,MAAM,UAAU,IAAI,yDAAiC,CAAC;AAE9D,MACE,kCAAW,CAAC,kBAAkB,KAC9B,kCAAW,CAAC,mBAAmB,aAAa,KAC5C,kCAAW,CAAC,mBAAmB,cAAc;AAE7C,WAAO;AAET,QAAM,wBAAwB,wCAAiB;AAAjB,IAC5B,6CAAsB;AAAtB,MACE,IAAI,wBAAS,CAAC,mBAAmB,eAAe,EAAE,MAAM,IAAI,mBAAmB,QAAQ;AAAA,MACvF,mBAAmB,eAAe,QAAQ;AAAA,MAC1C,mBAAmB,eAAe,QAAQ;AAAA,IAC5C;AAAA,EACF;AAEA,QAAM,wBAAwB,MAAM;AAClC,UAAM,gBAAgB,MAAM,KAAK,IAAI,IAAI,mBAAmB,OAAO,CAAC;AACpE,UAAM,qBACJ,cAAc,WAAW,KAAK,cAAc,CAAC,MAAM,mBAAmB;AACxE,WAAO,sBAAsB,CAAC,cAAc,SACxC,mBAAmB,WACnB,GAAG,uBAAuB,CAAC,aAAa,CAAC,QAAQ,mBAAmB,QAAQ;AAAA,EAClF;AAEA,SACE,qCAAC,iBAAiB,IAChB;AAAA;AAAA,MAAC,gBAAgB;AAAhB;AAAA,QACC,YAAY,aAAa,CAAC;AAAA,QAC1B,OAAM;AAAA,QACN,OAAO,sBAAsB;AAAA;AAAA,IAC/B;AAAA,IACA;AAAA,MAAC,gBAAgB;AAAhB;AAAA,QACC,OAAM;AAAA,QACN,OACE,oCAAC,kBAAM,IAAC,KAAI,YACV,8CAAC,cAAW,oBAAwC,GACtD;AAAA;AAAA,IAEJ;AAAA,IACA,oCAAC,gBAAgB,IAAC,OAAM,kBAAiB,OAAO,uBAAuB;AAAA,IACvE;AAAA,MAAC,gBAAgB;AAAhB;AAAA,QACC,OAAM;AAAA,QACN,OAAO,GAAG,mBAAmB,WAAW,GAAG;AAAA;AAAA,IAC7C;AAAA,IACA;AAAA,MAAC,gBAAgB;AAAhB;AAAA,QACC,OAAM;AAAA,QACN,OAAO,GAAG,mBAAmB,aAAa,QAAQ,CAAC,CAAC;AAAA;AAAA,IACtD;AAAA,IACA;AAAA,MAAC,gBAAgB;AAAhB;AAAA,QACC,OAAM;AAAA,QACN,cAAc,mBAAmB,YAAY,oBAAoB;AAAA,QACjE,OACE,mBAAmB,YACf,cACA,GAAG,oCAAa,CAAC,mBAAmB,GAAG,EAAE,SAAS,CAAC;AAAA;AAAA,IAE3D;AAAA,IACA;AAAA,MAAC,gBAAgB;AAAhB;AAAA,QACC,OAAM;AAAA,QACN,OAAO,4BAA4B,CAAC,WAAW,SAAS;AAAA;AAAA,IAC1D;AAAA,IACA,oCAAC,gBAAgB,IAAC,OAAM,SAAQ,OAAO,mBAAmB,OAAO,SAAS,KAAK,WAAW;AAAA,KAC5F;AAEJ;;;;ACxFI;AAlBmB;AAEO;AAEP;AAEiB;AACnB;AAEU;AACA;AACH;AAErB,SAAS,aAAa;AAC3B,QAAM,EAAE,aAAa,IAAI,cAAc,CAAC;AACxC,QAAM,EAAE,UAAU,IAAI,UAAU,CAAC,WAAW,CAAC,uBAAuB;AAEpE,SACE,6DACE;AAAA;AAAA,MAAC,mBAAI;AAAJ;AAAA,QACC,YAAY,aAAa,CAAC;AAAA,QAC1B,QACE;AAAA,UAAC,0BAAM;AAAN;AAAA,YACC,aAAW;AAAA,YACX,UAAU;AAAA,YACV,eAAa,aAAa,CAAC;AAAA,YAC3B,MAAK;AAAA,YACL,SAAS;AAAA,YACT,WAAS;AAAA,YACV;AAAA;AAAA,QAED;AAAA,QAGF;AAAA,8CAAC,cAAc,IAAC;AAAA,UAChB,oCAAC,WAAW,IAAC;AAAA;AAAA;AAAA,IACf;AAAA,IACA,oCAAC,gCAAM,IAAC;AAAA,KACV;AAEJ;;;;ACoBI;AA1D0B;AACR;AACqB;AACb;AAQvB;AAE2B;AAGH;AAE/B,SAAS,oBAAoB,MAAc,QAAwB;AACjE,MAAI,SAAS,oBAAoB,gCAAS,CAAC,OAAO,aAAa,EAAG,QAAO;AACzE,MAAI,SAAS,qBAAqB,gCAAS,CAAC,OAAO,cAAc,EAAG,QAAO;AAC3E,SAAO;AACT;AAOO,SAAS,gBAAgB,EAAE,cAAc,YAAY,KAAK,GAAyB;AACxF,QAAM,EAAE,kBAAkB,wBAAwB,kBAAkB,IAAI,cAAc,CAAC;AACvF,QAAM,EAAE,eAAe,eAAe,OAAO,IAAI,uCAAgB,CAAiB;AAClF,QAAM,CAAC,KAAK,IAAI,+BAAQ,CAAC,IAAI;AAC7B,QAAM,YAAY,iBAAiB,CAAC,IAAI,KAAK,SAAS,oBAAoB,OAAO;AAEjF,iBAAe,OAAO,OAAsC;AAC1D,UAAM,EAAE,eAAe,eAAe,IAAI;AAC1C,QAAI,kCAAW,CAAC,aAAa,KAAK,kCAAW,CAAC,cAAc,EAAG;AAC/D,sBAAkB,KAAK;AACvB,UAAM,QAAQ,MAAM,cAAc;AAClC,UAAM,WAAW,MAAM,iBAAiB,eAAe,gBAAgB,KAAK;AAC5E,QAAI,kCAAW,CAAC,QAAQ,GAAG;AACzB,YAAM,cAAc,mBAAmB,EAAE;AACzC;AAAA,IACF;AACA,UAAM,kBAAkB,kCAAW;AAAX,MACtB,oDAA6B;AAA7B,QACE,IAAI,wBAAS,CAAC,QAAQ;AAAA,QACtB,OAAO,gBAAgB,QAAQ;AAAA,MACjC;AAAA,MACA,OAAO,gBAAgB,QAAQ,UAAU;AAAA,MACzC,OAAO,gBAAgB,QAAQ;AAAA,IACjC;AACA,UAAM,cAAc,mBAAmB,+CAAwB,CAAC,eAAe,CAAC;AAChF,kBAAc,mBAAmB,MAAS;AAAA,EAC5C;AAEA,SACE,qCAAC,iBAAK,IAAC,YAAW,YAAW,KAAI,YAAW,OAAO,CAAC,OAAO,KAAK,GAC9D;AAAA;AAAA,MAAC,kBAAM,CAAC;AAAA,MAAP;AAAA,QACC,WAAW;AAAA,UACT,OAAO;AAAA,QACT;AAAA,QACA,cAAa;AAAA,QACb,IAAG;AAAA,QACH,QAAO;AAAA,QACP,OAAO,YAAY,+BAA+B;AAAA,QAClD,eAAa,aAAa,CAAC;AAAA,QAC3B,SAAQ;AAAA,QACR,UAAU,cAAc;AAAA,QACxB,IAAI;AAAA,QACJ,WAAW;AAAA,QACX,GAAE;AAAA,QACF,aAAa,oBAAoB,MAAM,MAAM;AAAA,QAC7C,MAAK;AAAA,QACL,WAAU;AAAA,QACV,WAAU;AAAA,QACV,OAAM;AAAA,QACL,GAAG;AAAA,QACJ,QAAQ,OAAM,MAAK;AACjB,gBAAM,OAAO,CAAC;AACd,gBAAM,OAAO,CAAC;AAAA,QAChB;AAAA;AAAA,IACF;AAAA,IACC,eACC,oCAAC,kBAAM,CAAC,MAAP,EAAY,OAAO,YAAY,UAAU,oBAAoB,WAAU,cACrE,wBACH,IACE;AAAA,KACN;AAEJ;;;;ACxDU;AArCoB;AACL;AACM;AAQxB;AAQA,SAAS,yBAAyB;AAAA,EACvC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAkC;AAChC,QAAM,CAAC,KAAK,IAAI,+BAAQ,CAAC,IAAI;AAC7B,QAAM,WAAW,yCAAiB,CAAC,MAAM;AAEzC,SACE;AAAA,IAAC,0BAAM;AAAN;AAAA,MACC,eAAa,aAAa,CAAC;AAAA,MAC3B,SAAS;AAAA,MACT,GAAE;AAAA,MACF,SAAQ;AAAA,MACP,GAAG;AAAA,MAEJ,+CAAC,kBAAM,IACJ;AAAA,gBACC,qCAAC,0BAAM,CAAC,MAAP,EACC;AAAA,8CAAC,0BAAM,CAAC,OAAP,EAAa,KAAK,UAAU,KAAK,MAAM;AAAA,UACxC,oCAAC,0BAAM,CAAC,UAAP,EAAgB,SAAS,wCAAoB,EAAG,oBAAS;AAAA,WAC5D;AAAA,QAEF,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAY,kBAAO;AAAA,QAC1C,oCAAC,mCAAe,IAAC,SAAQ,SAAQ;AAAA,SACnC;AAAA;AAAA,EACF;AAEJ;;;;ACnBM;AA5B8B;AAQ7B,SAAS,kBAAkB;AAAA,EAChC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA2B;AACzB,SACE;AAAA,IAAC,kBAAM,CAAC;AAAA,IAAP;AAAA,MACC,cAAc,EAAE,QAAQ,SAAS;AAAA,MACjC,YAAW;AAAA,MACX,QAAQ,YAAY,UAAU;AAAA,MAC9B,cAAa;AAAA,MACb,SAAQ;AAAA,MACR,QAAO;AAAA,MACP,SAAS;AAAA,MACT,IAAG;AAAA,MACH,WAAU;AAAA,MACV,IAAG;AAAA,MACH,OAAM;AAAA,MAEN,8CAAC,eAAG,IAAC,OAAM,QACT,+CAAC,kBAAM,IAAC,YAAW,UAAS,gBAAe,iBACxC;AAAA;AAAA,QACA;AAAA,SACH,GACF;AAAA;AAAA,EACF;AAEJ;;;;ACmBM;AAvDsB;AAEK;AACV;AAEmB;AACH;AAEb;AAGK;AAExB,SAAS,mBAAmB;AACjC,QAAM,EAAE,kBAAkB,wBAAwB,kBAAkB,IAAI,cAAc,CAAC;AACvF,QAAM,EAAE,eAAe,OAAO,IAAI,uCAAgB,CAAiB;AACnE,QAAM,WAAW,yCAAW,CAAC;AAE7B,iBAAe,qBAAqB;AAClC,sBAAkB,KAAK;AAEvB,UAAM,iBAAiB,OAAO;AAC9B,UAAM,kBAAkB,OAAO;AAC/B,UAAM,gBAAgB,OAAO;AAC7B,UAAM,iBAAiB,OAAO;AAE9B,SAAK,cAAc,iBAAiB,cAAc;AAClD,SAAK,cAAc,kBAAkB,aAAa;AAClD,SAAK,cAAc,kBAAkB,eAAe;AAEpD,QAAI,gCAAS,CAAC,aAAa,KAAK,gCAAS,CAAC,cAAc,GAAG;AACzD,YAAM,cAAc,MAAM,iBAAiB,gBAAgB,eAAe,eAAe;AACzF,UAAI,kCAAW,CAAC,WAAW,GAAG;AAC5B,aAAK,cAAc,mBAAmB,EAAE;AACxC;AAAA,MACF;AACA,WAAK,cAAc,mBAAmB,OAAO,WAAW,CAAC;AAAA,IAC3D,OAAO;AACL,WAAK,cAAc,mBAAmB,OAAO,cAAc,CAAC;AAAA,IAC9D;AACA;AAAA,MACE,2BAAS,CAAC,KAAK,QAAQ,SAAS,gBAAgB,QAAQ,EAAE,EAAE;AAAA,QAC1D;AAAA,QACA,eAAe,QAAQ;AAAA,MACzB;AAAA,IACF;AAAA,EACF;AAEA,SACE;AAAA,IAAC,kBAAM,CAAC;AAAA,IAAP;AAAA,MACC,WAAU;AAAA,MACV,UAAU,kCAAW,CAAC,OAAO,cAAc,KAAK;AAAA,MAChD,SAAS;AAAA,MACT,MAAK;AAAA,MAEL,8CAAC,4CAAyB,IAAC,WAAU,cAAa,SAAQ,SAAQ;AAAA;AAAA,EACpE;AAEJ;;;;ACPM;AAnD8B;AAEf;AACA;AAEQ;AAEY;AACP;AACD;AAEjC,SAAS,aAAa,WAAqB,gBAA0B;AACnE,MAAI,UAAW,QAAO;AACtB,MAAI,eAAgB,QAAO;AAC3B,SAAO;AACT;AAiBO,SAAS,sBAAsB;AAAA,EACpC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA+B;AAC7B,QAAM,mBAAmB,aAAa,SAAS;AAE/C,SACE,qCAAC,eAAG,IAAC,OAAM,QACT;AAAA;AAAA,MAAC,kBAAM;AAAN;AAAA,QACC,YAAW;AAAA,QACX,gBAAe;AAAA,QACf,IAAG;AAAA,QACH,IAAI,aAAa,aAAa;AAAA,QAE9B;AAAA,8CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAY,iBAAM;AAAA,UACxC,cAAc,oCAAC,gBAAgB,IAAC;AAAA;AAAA;AAAA,IACnC;AAAA,IACA;AAAA,MAAC,iBAAiB;AAAjB;AAAA,QACC,aACE;AAAA,UAAC,wBAAwB;AAAxB;AAAA,YACC;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA;AAAA,QACF;AAAA,QAEF,cAAc;AAAA,QACd;AAAA,QACA;AAAA;AAAA,IACF;AAAA,IACC,UACC,qCAAC,kBAAM,IAAC,YAAW,UAAS,gBAAe,iBACzC;AAAA,0CAAC,iCAAY,IAAC,OAAO,cAAc,MAAK,UACtC;AAAA,QAAC,kBAAM,CAAC;AAAA,QAAP;AAAA,UACC,OAAO;AAAA,UACP,QAAQ,eAAe,YAAY;AAAA,UACnC,WAAU;AAAA,UAET,sBAAY,QAAQ;AAAA;AAAA,MACvB,GACF;AAAA,MACA;AAAA,QAAC,wBAAI;AAAJ;AAAA,UACC,QAAQ,EAAE,SAAS,EAAE,OAAO,QAAQ,EAAE;AAAA,UACtC,QAAQ,iBAAiB,YAAY;AAAA,UACrC,SAAS,iBAAiB,iBAAiB,uBAAI;AAAJ,UAC3C,SAAS,iBAAiB,eAAe;AAAA,UAEzC,8CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cAAc,iBAAM;AAAA;AAAA,MAC7C;AAAA,OACF,IACE;AAAA,KACN;AAEJ;;;;ACbQ;AAnFc;AACqB;AAUpC;AAEmB;AAEQ;AAGF;AACD;AACe;AACd;AACM;AAEtC,MAAM,0BAA0B;AAChC,MAAM,sBACJ;AACF,MAAM,oBAAoB;AAEnB,SAAS,sBAAsB;AACpC,QAAM,EAAE,kBAAkB,wBAAwB,cAAc,kBAAkB,IAChF,cAAc,CAAC;AACjB,QAAM,EAAE,eAAe,eAAe,OAAO,IAAI,uCAAgB,CAAiB;AAClF,QAAM,CAAC,aAAa,iBAAiB,kBAAkB,IAAI,+BAAQ,CAAC,gBAAgB;AACpF,QAAM,YAAY,iBAAiB,CAAC,gBAAgB;AACpD,QAAM,CAAC,UAAU,IAAI,+BAAQ,CAAC,eAAe;AAC7C,QAAM,WAAW,eAAe,CAAC;AAEjC,QAAM,eACJ,gCAAS,CAAC,WAAW,SAAS,YAAY,KAAK,KAC/C,6BAA6B;AAA7B,IACE,WAAW,MAAM;AAAA,IACjB,WAAW,MAAM;AAAA,IACjB,YAAY;AAAA,EACd;AACF,QAAM,mBAAmB,+CAAwB,CAAC,WAAW,MAAM,OAAO;AAC1E,QAAM,wCACJ,OAAO,eAAe,QAAQ,OAAO,cAAc,CAAC;AAEtD,iBAAe,gCAAgC;AAC7C,UAAM,EAAE,eAAe,eAAe,IAAI;AAC1C,QAAI,0BAA0B,kCAAW,CAAC,aAAa,EAAG;AAC1D,sBAAkB,CAAC,YAAY;AAC/B,UAAM,mBAAmB,SAAS,OAAO,gBAAgB,CAAC;AAC1D,UAAM,mBAAmB,WAAW,IAAI;AACxC,QAAI,kCAAW,CAAC,cAAc,EAAG;AACjC,UAAM,WAAW,MAAM,iBAAiB,eAAe,gBAAgB,gBAAgB;AACvF,QAAI,kCAAW,CAAC,QAAQ,GAAG;AACzB,YAAM,cAAc,mBAAmB,EAAE;AACzC;AAAA,IACF;AACA,UAAM,kBAAkB,kCAAW;AAAX,MACtB,oDAA6B;AAA7B,QACE,IAAI,wBAAS,CAAC,QAAQ;AAAA,QACtB,OAAO,gBAAgB,QAAQ;AAAA,MACjC;AAAA,MACA,OAAO,gBAAgB,QAAQ,UAAU;AAAA,MACzC,OAAO,gBAAgB,QAAQ;AAAA,IACjC;AACA,UAAM,cAAc,mBAAmB,+CAAwB,CAAC,eAAe,CAAC;AAChF,kBAAc,mBAAmB,MAAS;AAAA,EAC5C;AAEA,SACE;AAAA,IAAC,qBAAqB;AAArB;AAAA,MACC,SAAS;AAAA,MACT,OAAO,gBAAgB;AAAA,MACvB,MAAM,WAAW,MAAM;AAAA,MACvB,MAAK;AAAA,MACL,eAAe,MAAM,SAAS,2BAAS,CAAC,mBAAmB;AAAA,MAC3D,gBAAgB;AAAA,MAChB,WAAW,CAAC,EAAE,aAAa,OAAO;AAAA,MAClC,iBACE;AAAA,QAAC,eAAe;AAAf;AAAA,UACC,cACE,gBAAgB,6CAAsB,CAAC,YAAY,IAC/C,yCAAkB,CAAC,YAAY,IAC/B;AAAA,UAEN,YAAY,CAAC;AAAA,UACb,MAAK;AAAA;AAAA,MACP;AAAA,MAEF,QAAQ,WAAW,MAAM;AAAA,MACzB,OAAM;AAAA,MACN,cAAc,eAAe,oBAAoB;AAAA,MACjD,OAAO;AAAA;AAAA,EACT;AAEJ;;;;ACzDU;AA1Ce;AAOlB;AAEmB;AAEK;AAEC;AACD;AACe;AACd;AACM;AAE/B,SAAS,uBAAuB;AACrC,QAAM,EAAE,uBAAuB,IAAI,cAAc,CAAC;AAClD,QAAM,CAAC,WAAW,IAAI,+BAAQ,CAAC,iBAAiB;AAChD,QAAM,CAAC,UAAU,IAAI,+BAAQ,CAAC,gBAAgB;AAC9C,QAAM,WAAW,eAAe,CAAC;AAEjC,QAAM,eACJ,gCAAS,CAAC,WAAW,SAAS,YAAY,KAAK,KAC/C,6BAA6B;AAA7B,IACE,WAAW,MAAM;AAAA,IACjB,WAAW,MAAM;AAAA,IACjB,YAAY;AAAA,EACd;AAEF,SACE;AAAA,IAAC,qBAAqB;AAArB;AAAA,MACC,SAAQ;AAAA,MACR,MAAM,WAAW,OAAO;AAAA,MACxB,MAAK;AAAA,MACL,eAAe,MAAM,SAAS,2BAAS,CAAC,oBAAoB;AAAA,MAC5D,YAAU;AAAA,MACV,iBACE,yBACE,oCAAC,cAAc,IAAC,gBAAe,YAAW,MAAK,MAAK,IAEpD;AAAA,QAAC,eAAe;AAAf;AAAA,UACC,cACE,gBAAgB,6CAAsB,CAAC,YAAY,IAC/C,yCAAkB,CAAC,YAAY,IAC/B;AAAA,UAEN,YAAU;AAAA,UACV,MAAK;AAAA;AAAA,MACP;AAAA,MAGJ,QAAQ,WAAW,OAAO,QAAQ;AAAA,MAClC,OAAM;AAAA,MACN,OAAO,WAAW,OAAO,UAAU,+CAAwB,CAAC,WAAW,OAAO,OAAO,IAAI;AAAA;AAAA,EAC3F;AAEJ;;;;ACVgD;AAlDtB;AACQ;AAEJ;AACG;AAEV;AACK;AAEP;AACU;AAEK;AACC;AAEN;AAExB,SAAS,OAAO;AACrB,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI,cAAc,CAAC;AACnB,QAAM,EAAE,OAAO,SAAS,eAAe,QAAQ,aAAa,IAC1D,uCAAgB,CAAiB;AACnC,QAAM,EAAE,MAAM,MAAM,IAAI,sCAAS,CAAC;AAElC,qBAAS,CAAC,MAAM;AACd,QAAI;AACF,WAAK;AAAA,QACH;AAAA,QACA,oBAAoB,KAAK,WAAS,MAAM,SAAS,IAAI;AAAA,MACvD;AACF,QAAI;AACF,WAAK;AAAA,QACH;AAAA,QACA,qBAAqB,KAAK,WAAS,MAAM,SAAS,KAAK;AAAA,MACzD;AACF,SAAK,aAAa;AAAA,EACpB,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,OAAO;AAAA,EACT,CAAC;AAED,MAAI,kCAAW,CAAC,OAAO,aAAa,EAAG,QAAO,oCAAC,cAAc,IAAC,QAAO,SAAQ;AAE7E,SACE;AAAA,IAAC,mBAAI;AAAJ;AAAA,MACC,YAAY,aAAa,CAAC;AAAA,MAC1B,QACE;AAAA,QAAC,0BAAM;AAAN;AAAA,UACC,eAAa,aAAa,CAAC;AAAA,UAC3B,aAAW;AAAA,UACX,UAAU,EAAE,SAAS,YAAY,0BAA0B;AAAA,UAC3D,MAAK;AAAA,UACL,WAAS;AAAA,UACV;AAAA;AAAA,MAED;AAAA,MAGF;AAAA,4CAAC,mBAAmB,IAAC;AAAA,QACrB,oCAAC,oBAAoB,IAAC;AAAA,QAEtB,oCAAC,gCAAM,IAAC;AAAA;AAAA;AAAA,EACV;AAEJ;;;;AC1DoB;AAfE;AAEI;AAEkB;AAChB;AAEO;AACC;AACV;AACC;AACN;AAEd,SAAS,mBAAmB,WAA4B;AAC7D,SACE,qCAAC,+BAAK,IAAC,SAAS,oCAAC,gCAAW,IAAE,qBAAU,GACtC;AAAA,yCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,MAAM,SAAS,oCAAC,IAAI,IAAC,GAC1C;AAAA,0CAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,qBAAqB,SAAS,oCAAC,kBAAkB,IAAC,GAAI;AAAA,MAC7E,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,sBAAsB,SAAS,oCAAC,mBAAmB,IAAC,GAAI;AAAA,OACjF;AAAA,IACA,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,WAAW,SAAS,oCAAC,SAAS,IAAC,GAAI;AAAA,IAC1D,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,YAAY,SAAS,oCAAC,UAAU,IAAC,GACrD,qCAA2B,EAC9B;AAAA,KACF;AAEJ;;;;AC1ByB;AAMF;AACC;AAEuB;AAGL;AAEnC,SAAS,iBAAiB;AAC/B,QAAM,CAAC,oBAAoB,qBAAqB,IAAI,kBAAQ,CAAqB;AACjF,QAAM,CAAC,UAAU,YAAY,IAAI,kBAAQ,CAAC,IAAI;AAC9C,QAAM,CAAC,wBAAwB,yBAAyB,IAAI,kBAAQ,CAAC,KAAK;AAC1E,QAAM,UAAU,+DAA8B,CAAC;AAC/C,QAAM,EAAE,MAAM,aAAa,CAAC,EAAE,IAAI,yBAAyB,CAAC,OAAO;AAEnE,iBAAe,gBACb,MACA,OACA,YACiC;AACjC,QAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAO;AACpC,QAAI;AACF,YAAM,SAAS,MAAM,OAAO,CAAC;AAAA,QAC3B,KAAK;AAAA,QACL,MAAM;AAAA,QACN,OAAO,UAAU;AAAA,MACnB;AACA,UAAI,CAAC,OAAO,WAAW;AACrB,4BAAM,CAAC,MAAM,qBAAqB;AAClC;AAAA,MACF;AACA,aAAO,OAAO;AAAA,IAChB,SAAS,GAAG;AACV,0BAAM,CAAC,MAAM,6CAA6C,CAAC;AAC3D;AAAA,IACF;AAAA,EACF;AAEA,iBAAe,iBACb,MACA,OACA,YAC6B;AAC7B,8BAA0B,IAAI;AAC9B,UAAM,aAAa,MAAM,gBAAgB,MAAM,OAAO,UAAU;AAChE,8BAA0B,KAAK;AAC/B,QAAI,CAAC,WAAY;AACjB,WAAO,OAAO,WAAW,KAAK;AAAA,EAChC;AAEA,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA,6BAA6B,CAAC,UAAmB,0BAA0B,KAAK;AAAA,IAChF,yBAAyB,CAAC,UAA8B,sBAAsB,KAAK;AAAA,IACnF;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF;;;;AClE4B;AACA;AAIM;AAEX;AACG;AAEc;AACK;AACpB;AAElB,SAAS,yBAAyB;AACvC,QAAM,EAAE,UAAU,IAAI,UAAU,CAAC,WAAW,CAAC,uBAAuB;AACpE,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,QAAQ,6BAAQ,CAAC;AAEvB,QAAM,yBAAyB,4BAA4B,CAAC;AAAA,IAC1D,YAAY,WAAW,CAAC;AAAA,EAC1B,CAAC;AAED,SAAO,qBAAW;AAAX,IACL,OAAO,aAAgC;AACrC,UAAI,CAAC,UAAU;AACb,4BAAM,CAAC,MAAM,8CAA8C;AAC3D,cAAM,MAAM,iCAAiC;AAC7C;AAAA,MACF;AACA,UAAI;AACF,cAAM,uBAAuB;AAAA,UAC3B,QAAQ,GAAmB;AACzB,sBAAU;AACV,kBAAM,UAAU,+BAAQ,CAAC,CAAC,IAAI,IAAI,EAAE;AACpC,qBAAS,2BAAS,CAAC,2BAA2B,EAAE,OAAO,EAAE,QAAQ,EAAE,CAAC;AAAA,UACtE;AAAA,UACA,YAAY;AACV,kBAAM,QAAQ,wBAAwB;AACtC,sBAAU;AACV,qBAAS,2BAAS,CAAC,QAAQ;AAAA,UAC7B;AAAA,UACA,cAAc;AAAA,QAChB,CAAC,EAAE,QAAQ;AAAA,MACb,SAAS,GAAG;AACV,kBAAU;AACV,iBAAS,2BAAS,CAAC,2BAA2B;AAAA,UAC5C,OAAO,EAAE,SAAS,8BAAO,CAAC,CAAC,IAAI,EAAE,UAAU,gBAAgB;AAAA,QAC7D,CAAC;AAAA,MACH,UAAE;AACA,kBAAU;AAAA,MACZ;AAAA,IACF;AAAA,IACA,CAAC,OAAO,wBAAwB,WAAW,QAAQ;AAAA,EACrD;AACF;;;;ACnBoD;AApC3B;AACW;AAET;AACgC;AAMpD;AAEwB;AACiB;AAEzB;AACG;AACF;AAE0B;AACV;AACV;AACH;AACa;AACgB;AACf;AAEe;AAC/B;AACU;AACJ;AACQ;AAEP;AACU;AAEnC,MAAM,oBAAoB,kBAAkB,CAAC,oCAAC,wBAAqB,CAAE;AAE5E,SAAS,uBAAuB;AAC9B,QAAM,CAAC,cAAc,eAAe,IAAI,kBAAQ,CAAC,KAAK;AACtD,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,eAAe,eAAe,CAAC;AACrC,QAAM,EAAE,cAAc,WAAW,UAAU,IAAI,UAAU,CAAC,WAAW,CAAC,uBAAuB;AAC7F,QAAM,iBAAiB,wDAAuB,CAAC;AAC/C,QAAM,qBAAqB,uCAAuC,CAAC;AACnE,QAAM,SAAS,wBAAwB,CAAC;AACxC,QAAM,sBAAsB,sBAAsB,CAAC;AACnD,QAAM,CAAC,uBAAuB,wBAAwB,IAAI,kBAAQ,CAAC,KAAK;AACxE,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI,cAAc,CAAC;AAEnB,iBAAe,sBAAsB,QAAwB;AAC3D,QAAI;AACF,+BAAyB,IAAI;AAC7B,UAAI,kCAAW,CAAC,OAAO,aAAa,KAAK,kCAAW,CAAC,OAAO,cAAc,GAAG;AAC3E,4BAAM,CAAC,MAAM,kCAAkC;AAC/C;AAAA,MACF;AAEA,YAAM,aAAa,MAAM;AAAA,QACvB,OAAO;AAAA,QACP,OAAO;AAAA,QACP,OAAO;AAAA,MACT;AACA,UAAI,CAAC,WAAY;AAEjB,8BAAwB;AAAA,QACtB,KAAK,kCAAc,CAAC,OAAO,SAAS;AAAA,QACpC,aAAa,OAAO;AAAA,QACpB,SAAS,OAAO;AAAA,QAChB,cAAc,oBAAoB,CAAC,WAAW,MAAM,QAAQ;AAAA,QAC5D,OAAO,OAAO;AAAA,QACd,UAAU;AAAA,QACV,SAAS,WAAW,MAAM,SAAS,IAAI,iBAAiB;AAAA,QACxD,QAAQ,WAAW,MAAM,WACtB,IAAI,OAAK,WAAW,KAAK,WAAS,MAAM,aAAa,CAAC,CAAC,EACvD,OAAO,4BAAS;AAAA,QACnB;AAAA,QACA,WAAW;AAAA,QACX,gBAAgB,OAAO;AAAA,QACvB,iBAAiB,OAAO;AAAA,QACxB,eAAe,OAAO;AAAA,QACtB,gBAAgB,OAAO;AAAA,QACvB,YAAW,oBAAI,KAAK,GAAE,YAAY;AAAA,MACpC,CAAC;AACD,mBAAa,2BAAS,CAAC,UAAU;AAAA,IACnC,UAAE;AACA,+BAAyB,KAAK;AAAA,IAChC;AAAA,EACF;AAEA,iBAAe,eAAe;AAC5B,QAAI,UAAW;AAEf,QAAI,kCAAW,CAAC,cAAc,KAAK,kCAAW,CAAC,kBAAkB,GAAG;AAClE,0BAAM,CAAC,MAAM,oCAAoC;AACjD;AAAA,IACF;AAEA,QACE,kCAAW,CAAC,mBAAmB,aAAa,KAC5C,kCAAW,CAAC,mBAAmB,cAAc,GAC7C;AACA,0BAAM,CAAC,MAAM,oCAAoC;AACjD;AAAA,IACF;AAEA,iBAAa;AAEb,QAAI;AACF,YAAM,aAAa,MAAM;AAAA,QACvB,mBAAmB;AAAA,QACnB,mBAAmB;AAAA,QACnB,mBAAmB;AAAA,MACrB;AACA,UAAI,CAAC,WAAY;AAEjB,YAAM,oBAAoB;AAAA,QACxB,OAAO,WAAW;AAAA,QAClB,QAAQ,OAAO,mBAAmB,cAAc;AAAA,QAChD,gBAAgB,WAAW;AAAA,QAC3B,gBAAgB,WAAW;AAAA,MAC7B;AAEA,YAAM,aAAa,MAAM,OAAO,CAAC;AAAA,QAC/B;AAAA,QACA,eAAe;AAAA,QACf,mBAAmB;AAAA,MACrB;AAEA,YAAM,iBAAiB;AAAA,QACrB,KAAK,mBAAmB;AAAA,QACxB,aAAa,mBAAmB;AAAA,QAChC,SAAS,mBAAmB;AAAA,QAC5B,OAAO,mBAAmB;AAAA,MAC5B;AAEA,YAAM,UAA+B;AAAA,QACnC,YAAY,gCAAU,CAAC;AAAA,QACvB,iBAAiB,WAAW;AAAA,QAC5B,cAAc,WAAW;AAAA,QACzB,cAAc,WAAW;AAAA,QACzB,cAAc,WAAW,aAAa,IAAI,OAAK,gCAAU,CAAC,gCAAW,CAAC,CAAC,CAAC,CAAC;AAAA,QACzE,mBAAmB,uCAAiB,CAAC;AAAA,QACrC,gBAAgB,WAAW,eAAe,IAAI,QAAM,gCAAU,CAAC,wCAAsB,CAAC,EAAE,CAAC,CAAC;AAAA,QAC1F,WAAW,gBAAgB;AAAA,QAC3B,WAAW,mBAAmB;AAAA,QAC9B,QAAQ,6BAAgB,CAAC;AAAA,MAC3B;AAEA,YAAM,aAAa,MAAM,mBAAmB,SAAS,cAAc;AACnE,UAAI,CAAC;AACH,eAAO,oBAAM,CAAC,MAAM,wDAAwD;AAE9E,YAAM,WAAW,MAAM,OAAO,UAAU;AACxC,UAAI,CAAC;AACH,eAAO,oBAAM,CAAC,MAAM,0DAA0D;AAChF,aAAO,MAAM,oBAAoB,QAAQ;AAAA,IAC3C,SAAS,GAAG;AACV,eAAS,2BAAS,CAAC,WAAW;AAAA,QAC5B,OAAO;AAAA,UACL,SAAS,8BAAO,CAAC,CAAC,IAAI,EAAE,UAAU;AAAA,UAClC,OAAO;AAAA,QACT;AAAA,MACF,CAAC;AAAA,IACH,UAAE;AACA,gBAAU;AAAA,IACZ;AAAA,EACF;AAEA,QAAM,mBAAgC;AAAA,IACpC;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,mBAAmB,WAAS,gBAAgB,KAAK;AAAA,IACjD;AAAA,IACA;AAAA,IACA,qBAAqB,iCAAiC,CAAC,UAAU;AAAA,IACjE,sBAAsB;AAAA,IACtB;AAAA,EACF;AAEA,SACE,qCAAC,YAAY,IAAC,OAAO,kBAEnB;AAAA,wCAAC,UAAU,IAAC,OAAM,QAAO,gBAAgB,2BAAS,CAAC,MAAM;AAAA,IACzD,oCAAC,sBAAO,IACN,8CAAC,mBAAI,IACH,8CAAC,QAAQ,IACP,8CAAC,gCAAM,IAAC,GACV,GACF,GACF;AAAA,KACF;AAEJ;;;;ACxME;AALiD;AAEnD,MAAM,yBAAI,GAAG;AAEb,MAAM,iCAAY,GAAG;AAAA,EACnB;AAAA,IAAC,oBAAoB;AAApB;AAAA,MAEC,MAAK;AAAA;AAAA,IADA;AAAA,EAGP;AACF;AAEA,MAAM,0BAAK,GAAG;AAEP,SAAS,sBAAsB;AACpC,SAAO,oCAAC,YAAY,IAAC,IAAI,6BAAQ,YAAY,qCAAgB,KAAK,8BAAS;AAC7E;;;;;;AChBkC;AAEb;AAEd,SAAS,YAAY,UAAsB,OAAsB;AACtE,QAAM,gBAAgB,gBAAM,CAAC,uBAAI;AAGjC,qBAAS,CAAC,MAAM;AACd,QAAI,eAAe;AACjB,oBAAc,UAAU;AAAA,IAC1B;AAAA,EACF,GAAG,CAAC,QAAQ,CAAC;AAGb,qBAAS,CAAC,MAAM;AACd,aAAS,OAAO;AACd,oBAAc,QAAQ;AAAA,IACxB;AACA,QAAI,UAAU,MAAM;AAClB,YAAM,KAAK,YAAY,MAAM,KAAK;AAClC,aAAO,MAAM,cAAc,EAAE;AAAA,IAC/B;AACA;AAAA,EACF,GAAG,CAAC,KAAK,CAAC;AACZ;;;;ACzB0C;AAEd;AAK5B,SAAS,wBAAwB,iBAAkC,SAAiB;AAClF,SAAO,gBAAgB,OAAuC;AAChE;AAEO,MAAM,oBAAoB,CAC/B,iBACA,EAAE,uBAAuB,IAAI;AAAA,EAC3B,wBAAwB;AAC1B,MAC8C;AAC9C,QAAM,CAAC,WAAW,YAAY,IAAI,kBAAQ,CAAC,KAAK;AAChD,QAAM,CAAC,gBAAgB,iBAAiB,IAAI,kBAAQ,CAAC,wBAAwB,iBAAiB,CAAC,CAAC;AAChG,QAAM,WAAW,iBAAO;AAAP,IACf,OAAO;AAAA,MACL,qBAAqB,MAAM,aAAa,IAAI;AAAA,MAC5C,oBAAoB,MAAM,aAAa,KAAK;AAAA,IAC9C;AAAA,IACA,CAAC;AAAA,EACH;AACA,QAAM,gBAAgB,gBAAM,CAAC,CAAC;AAE9B,aAAW;AAAX,IACE,MAAM;AACJ,oBAAc,WAAW,yBAAyB;AAClD,YAAM,aAAa,wBAAwB,iBAAiB,cAAc,OAAO;AACjF,UAAI,WAAY,mBAAkB,UAAU;AAAA,IAC9C;AAAA,IACA,YAAY,yBAAyB;AAAA,EACvC;AAEA,SAAO,CAAC,WAAW,gBAAgB,SAAS,qBAAqB,SAAS,kBAAkB;AAC9F;;;;ACyBc;AA/DmC;AAEf;AACC;AAEN;AAEH;AAEI;AACK;AACgB;AACxB;AAEA;AAE3B,MAAM,kBAAmC;AAAA,EACvC,KAAK;AAAA,EACL,MAAM;AAAA,EACN,MAAM;AACR;AAEA,MAAM,UACJ;AAKK,SAAS,gBAAgB,EAAE,UAAU,GAAyB;AACnE,QAAM,CAAC,UAAU,WAAW,IAAI,kBAAQ,CAAC,EAAE;AAC3C,QAAM,CAAC,OAAO,QAAQ,IAAI,kBAAQ,CAAC,EAAE;AACrC,QAAM,EAAE,aAAa,IAAI,wCAAa,CAAC;AAEvC,QAAM,CAAC,WAAW,gBAAgB,qBAAqB,kBAAkB,IACvE,iBAAiB,CAAC,eAAe;AAEnC,QAAM,SAAS,qBAAW,CAAC,YAAY;AACrC,UAAM,oBAAoB,YAAY,IAAI;AAC1C,SAAK,2BAAS,CAAC,MAAM,cAAc;AACnC,wBAAoB;AACpB,aAAS,EAAE;AACX,QAAI;AACF,YAAM,aAAa,QAAQ;AAC3B,kBAAY;AAAA,IACd,SAASpB,QAAO;AACd,eAAS,qCAAqC;AAAA,IAChD;AACA,uBAAmB;AACnB,UAAM,sBAAsB,YAAY,IAAI;AAC5C,SAAK,2BAAS,CAAC,MAAM,mBAAmB;AAAA,MACtC,YAAY,sBAAsB;AAAA,IACpC,CAAC;AAAA,EACH,GAAG,CAAC,qBAAqB,oBAAoB,cAAc,UAAU,SAAS,CAAC;AAE/E,SACE,oCAAC,mBAAI,IACH;AAAA,IAAC,mBAAI;AAAJ;AAAA,MACC,cAAc;AAAA,QACZ,GAAG;AAAA,MACL;AAAA,MACA,QACE,oCAAC,kBAAM,CAAC,IAAP,EAAU,GAAE,YAAW,WAAU,MAChC,8CAAC,eAAG,IAAC,IAAG,YACN,8CAAC,wBAAI,IAAC,GACR,GACF;AAAA,MAEF,QACE;AAAA,QAAC,0BAAM;AAAN;AAAA,UACC,eAAa,2CAAiB,CAAC;AAAA,UAC/B,UAAU,aAAa,CAAC,CAAC;AAAA,UACzB,aAAW;AAAA,UACX,SAAS;AAAA,UACT,SAAQ;AAAA,UACR,WAAS;AAAA,UACV;AAAA;AAAA,MAED;AAAA,MAGF,+CAAC,iBAAK,IAAC,KAAI,YAAW,IAAG,YAAW,WAAU,SAC5C;AAAA,4CAAC,kBAAM,CAAC,IAAP,EAAU,WAAU,cAAa,iCAAmB;AAAA,QACrD,oCAAC,kBAAM,CAAC,GAAP,EAAS,WAAU,YAAa,uBAAa,kBAAmB,SAAQ;AAAA,QACzE;AAAA,UAAC,kBAAM,CAAC;AAAA,UAAP;AAAA,YACC,QAAQ,EAAE,QAAQ,QAAQ;AAAA,YAC1B,gBAAe;AAAA,YACf,cAAa;AAAA,YACb,WAAS;AAAA,YACT,QAAO;AAAA,YACP,cAAa;AAAA,YACb,eAAa,2CAAiB,CAAC;AAAA,YAC/B,QAAO;AAAA,YACP,UAAU,CAAC,MAAmC;AAC5C,uBAAS,EAAE;AACX,0BAAY,EAAE,cAAc,KAAK;AAAA,YACnC;AAAA,YACA,SAAS,8CAAkB,CAAC,MAAM;AAAA,YAClC,GAAE;AAAA,YACF,aAAY;AAAA,YACZ,MAAK;AAAA,YACL,MAAK;AAAA,YACL,WAAU;AAAA,YACV,OAAO;AAAA,YACP,OAAM;AAAA;AAAA,QACR;AAAA,QACC,SAAS,oCAAC,UAAU,IAAC,OAAM,QAAQ,iBAAM;AAAA,SAC5C;AAAA;AAAA,EACF,GACF;AAEJ;;;;AC1FU;AApBkB;AAEM;AAEN;AAEF;AAEH;AACwB;AACvB;AACC;AAElB,SAAS,eAAe;AAC7B,QAAM,WAAW,yCAAW,CAAC;AAE7B,SACE,oCAAC,oBAAM,IACL;AAAA,IAAC,6BAAU;AAAV;AAAA,MACC,SACE,oCAAC,uBAAO,IAAC,SAAS,MAAM,SAAS,2BAAS,CAAC,IAAI,GAAG,WAAW,QAAW,UAAS,MAAK;AAAA,MAExF,UACE,oCAAC,qCAAkB,IACjB;AAAA,QAAC,wBAAQ;AAAR;AAAA,UACC,eAAe;AAAA,UACf,eAAe,oCAAC,+BAAW,IAAC,eAAa,2CAAiB,CAAC,iBAAiB;AAAA;AAAA,MAC9E,GACF;AAAA;AAAA,EAEJ,GACF;AAEJ;;;;ACpBI;AAbgC;AAEZ;AACQ;AACH;AAEtB,SAAS,SAAS;AACvB,QAAM,WAAW,yCAAW,CAAC;AAG7B,QAAM,wBAAwB,MAAM,SAAS,EAAE;AAE/C,SACE,6DACE;AAAA,wCAAC,YAAY,IAAC;AAAA,IACd,qCAAC,sBAAO,IACN;AAAA,0CAAC,eAAe,IAAC,WAAW,uBAAuB;AAAA,MACnD,oCAAC,gCAAM,IAAC;AAAA,OACV;AAAA,KACF;AAEJ;;;;ACCQ;AAtB4B;AACb;AAEG;AAEe;AACT;AACC;AACP;AACgB;AAEnC,SAAS,gBAAgB;AAC9B,QAAM,yBAAyB,6DAAyB,CAAC;AACzD,QAAM,CAAC,eAAe,gBAAgB,IAAI,kBAAQ,CAAC,KAAK;AAExD,qBAAS,CAAC,MAAM;AACd,SAAK,2BAAS,CAAC,KAAK,QAAQ,kBAAkB;AAAA,EAChD,GAAG,CAAC,CAAC;AAEL,MAAI,eAAe;AACjB,WACE,6DACE;AAAA,0CAAC,yCAAgB,IAAC;AAAA,MAClB,oCAAC,sBAAO,IACN;AAAA,QAAC,8BAAe;AAAf;AAAA,UACC,OACE,6DAAE;AAAA;AAAA,YACK,oCAAC,QAAG;AAAA,YAAE;AAAA,aACb;AAAA,UAEF,SACE,6DAAE;AAAA;AAAA,YAGA,oCAAC,QAAG;AAAA,YAAE;AAAA,aAER;AAAA,UAGF,8CAAC,SAAS,IAAC,WAAW,0BAA0B,IAAI;AAAA;AAAA,MACtD,GACF;AAAA,OACF;AAAA,EAEJ;AAEA,SACE,6DACE;AAAA,wCAAC,yCAAgB,IAAC,UAAQ,MAAC;AAAA,IAC3B,qCAAC,sBAAO,IACN;AAAA,0CAAC,eAAe,IAAC,WAAW,MAAM,iBAAiB,IAAI,GAAG;AAAA,MAC1D,oCAAC,gCAAM,IAAC;AAAA,OACV;AAAA,KACF;AAEJ;;;;AC5BU;AA3ByE;AACpD;AAUxB,SAAS,YAAY;AAAA,EAC1B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAqB;AACnB,MAAI,CAAC,QAAS,QAAO;AACrB,SACE,oCAAC,6BAAS,IAAC,IAAG,YACZ;AAAA,IAAC,yCAAqB;AAArB;AAAA,MACC,KAAK;AAAA,MACL;AAAA,MACA,SAAS,qCAAc,CAAC,SAAS,CAAC;AAAA,MAClC,SACE,6DACE;AAAA,4CAAC,8BAAU,IAAC,MAAM,oCAAC,4BAAQ,IAAC,GAAI,SAAS,eAAe;AAAA,QACvD,iBACC;AAAA,UAAC,8BAAU;AAAV;AAAA,YACC,eAAa;AAAA,YACb,MAAM,oCAAC,8BAAU,IAAC;AAAA,YAClB,IAAG;AAAA,YACH,SAAS;AAAA;AAAA,QACX;AAAA,SAEJ;AAAA;AAAA,EAEJ,GACF;AAEJ;;;;ACXI;AA/B8B;AACd;AACE;AAE2B;AAEjB;AACP;AACQ;AAED;AACJ;AAUrB,SAAS,oBAAoB;AAAA,EAClC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA6B;AAC3B,QAAM,QAAQ,6BAAQ,CAAC;AACvB,SACE,qCAAC,iBAAK,IAAC,WAAW,mBAAG,CAAC,eAAe,GACnC;AAAA;AAAA,MAAC,WAAW;AAAX;AAAA,QACC,SAAS;AAAA,QACT,MAAM,oCAAC,qCAAiB,IAAC;AAAA,QACzB,YAAY,iBAAiB,CAAC;AAAA,QAC9B,eAAe,YAAY;AACzB,gBAAM,iCAAe,CAAC,iBAAiB;AACvC,gBAAM,QAAQ,sBAAsB;AAAA,QACtC;AAAA,QACA,eAAe;AAAA,QACf,OAAM;AAAA;AAAA,IACR;AAAA,IACA;AAAA,MAAC,WAAW;AAAX;AAAA,QACC,SAAS;AAAA,QACT,MAAM,oCAAC,gBAAgB,IAAC;AAAA,QACxB,eAAe;AAAA,QACf,eAAe,YAAY;AACzB,gBAAM,iCAAe,CAAC,sBAAsB;AAC5C,gBAAM,QAAQ,sBAAsB;AAAA,QACtC;AAAA,QACA,OAAM;AAAA;AAAA,IACR;AAAA,IACA;AAAA,MAAC,WAAW;AAAX;AAAA,QACC,SAAS;AAAA,QACT,MAAM,oCAAC,iCAAa,IAAC;AAAA,QACrB,eAAe,YAAY;AACzB,gBAAM,iCAAe,CAAC,UAAU;AAChC,gBAAM,QAAQ,sBAAsB;AAAA,QACtC;AAAA,QACA,eAAe;AAAA,QACf,OAAM;AAAA;AAAA,IACR;AAAA,KACF;AAEJ;;;;ACNc;AA3DU;AAEU;AACd;AACE;AAEiB;AAShC;AAEyB;AACP;AACa;AACJ;AAEF;AACJ;AASrB,SAAS,cAAc;AAAA,EAC5B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAuB;AACrB,QAAM,QAAQ,6BAAQ,CAAC;AACvB,QAAM,UAAU,gDAAiB,CAAC;AAClC,QAAM,eAAe,qDAAqB,CAAC;AAC3C,QAAM,EAAE,MAAM,aAAa,CAAC,EAAE,IAAI,8CAAsB,CAAC,UAAU;AAEnE,QAAM,mBAAmB,iBAAO;AAAP,IACvB,MACE,WACG,OAAO,WAAS,MAAM,SAAS,KAAK,EACpC,IAAI,YAAU;AAAA,MACb,GAAG;AAAA,MACH,SAAS;AAAA,IACX,EAAE;AAAA,IACN,CAAC,YAAY,UAAU;AAAA,EACzB;AAEA,SACE,qCAAC,iBAAK,IAAC,WAAW,mBAAG,CAAC,eAAe,GACnC;AAAA;AAAA,MAAC,WAAW;AAAX;AAAA,QACC,SAAS;AAAA,QACT,MAAM,oCAAC,iCAAa,IAAC;AAAA,QACrB,YAAY,iBAAiB,CAAC;AAAA,QAC9B,eAAe,YAAY;AACzB,gBAAM,iCAAe,CAAC,sBAAsB;AAC5C,gBAAM,QAAQ,sBAAsB;AAAA,QACtC;AAAA,QACA,eAAe;AAAA,QACf,OAAM;AAAA;AAAA,IACR;AAAA,IACA;AAAA,MAAC,WAAW;AAAX;AAAA,QACC,SAAS;AAAA,QACT,MAAM,oCAAC,iCAAa,IAAC;AAAA,QACrB,YAAY,iBAAiB,CAAC;AAAA,QAC9B,eAAe,YAAY;AACzB,gBAAM,iCAAe,CAAC,UAAU;AAChC,gBAAM,QAAQ,sBAAsB;AAAA,QACtC;AAAA,QACA,eAAe;AAAA,QACf,OAAM;AAAA;AAAA,IACR;AAAA,IACA;AAAA,MAAC,WAAW;AAAX;AAAA,QACC,SAAS;AAAA,QACT,MAAM,oCAAC,mCAAe,IAAC;AAAA,QACvB,YAAY,iBAAiB,CAAC;AAAA,QAC9B,eAAe,YAAY;AACzB,gBAAM,iCAAe,CAAC,iBAAiB;AACvC,gBAAM,QAAQ,sBAAsB;AAAA,QACtC;AAAA,QAEA,OAAM;AAAA;AAAA,IACR;AAAA,IACA;AAAA,MAAC,WAAW;AAAX;AAAA,QACC,SAAS;AAAA,QACT,MAAM,oCAAC,mCAAe,IAAC;AAAA,QAEvB,eAAe,YAAY;AACzB,gBAAM,iCAAe,CAAC,sBAAsB;AAC5C,gBAAM,QAAQ,sBAAsB;AAAA,QACtC;AAAA,QACA,OAAM;AAAA;AAAA,IACR;AAAA,KACE,QAAQ,MAAM,QAAQ,SAAS,aAAa,iBAC5C;AAAA,MAAC,WAAW;AAAX;AAAA,QACC,SAAS;AAAA,QACT,MAAM,oCAAC,mCAAe,IAAC;AAAA,QAEvB,eAAe,YAAY;AACzB,gBAAM,iCAAe,CAAC,iBAAiB;AACvC,gBAAM,QAAQ,sBAAsB;AAAA,QACtC;AAAA,QACA,OAAM;AAAA;AAAA,IACR;AAAA,IAGD,iBAAiB,IAAI,WACpB;AAAA,MAAC,WAAW;AAAX;AAAA,QAEC,SAAS,MAAM;AAAA,QACf,MACE,qCAAC,0BAAM,CAAC,MAAP,EACC;AAAA,8CAAC,0BAAM,CAAC,OAAP,EAAa,KAAK,MAAM,UAAU,KAAK,MAAM,MAAM;AAAA,UACpD,oCAAC,0BAAM,CAAC,UAAP,EAAgB,SAAS,wCAAoB,EAAG,gBAAM,UAAS;AAAA,WAClE;AAAA,QAGF,eAAe,YAAY;AACzB,gBAAM,iCAAe,CAAC,MAAM,OAAO;AACnC,gBAAM,QAAQ,sBAAsB;AAAA,QACtC;AAAA,QACA,OAAO,MAAM;AAAA;AAAA,MAbR,MAAM;AAAA,IAcb,CACD;AAAA,KACH;AAEJ;;;;ACvFM;AA9CmC;AAEP;AACd;AACJ;AAEyB;AAEf;AACA;AAEO;AACa;AACH;AACmB;AACf;AAEX;AACN;AAIvB,MAAM,kBAAkB;AAAA,EAC7B,IAAI;AAAA,EACJ,UAAU;AAAA,EACV,IAAI;AAAA,EACJ,WAAW;AACb;AAMO,SAAS,aAAa,EAAE,OAAO,OAAO,GAAsB;AACjE,+BAA6B,CAAC;AAE9B,QAAM,qBAAqB,gBAAgB,CAAW,oBAAoB;AAC1E,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,yBAAyB,qFAA6C,CAAC;AAC7E,QAAM,aAAa,+DAA8B,CAAC;AAClD,QAAM,eAAe,oBAAG,CAAC,SAAS,OAAO,gBAAgB,MAAS;AAClE,QAAM,oBAAoB,oDAA0B,CAAC,YAAY;AAEjE,QAAM,QACJ,SAAS,SACP,6DAAE;AAAA;AAAA,IACa,oCAAC,QAAG;AAAA,IAAE;AAAA,KACrB,IAEA,6DAAE;AAAA;AAAA,IACQ,oCAAC,QAAG;AAAA,IAAE;AAAA,KAChB;AAGJ,WAAS,eAAe;AACtB,WACE;AAAA,MAAC,mBAAmB;AAAnB;AAAA,QACC;AAAA,QACA;AAAA,QACA;AAAA,QACA,kBAAkB,MAAM;AACtB,eAAK,2BAAS,CAAC,MAAM,2CAA2C;AAChE,mBAAS,GAAG,2BAAS,CAAC,IAAI,GAAG,2BAAS,CAAC,yBAAyB,IAAI;AAAA,YAClE,OAAO;AAAA,cACL;AAAA,cACA;AAAA,YACF;AAAA,UACF,CAAC;AAAA,QACH;AAAA,QACA,gBAAgB,MACd,SAAS,GAAG,2BAAS,CAAC,IAAI,GAAG,2BAAS,CAAC,eAAe,IAAI;AAAA,UACxD,OAAO,EAAE,mBAAmB;AAAA,QAC9B,CAAC;AAAA,QAEH,oBAAoB,MAClB,SAAS,GAAG,2BAAS,CAAC,IAAI,GAAG,2BAAS,CAAC,UAAU,IAAI;AAAA,UACnD,OAAO,EAAE,mBAAmB;AAAA,QAC9B,CAAC;AAAA;AAAA,IAEL;AAAA,EAEJ;AAEA,SACE;AAAA,IAAC,yBAAK;AAAL;AAAA,MACC,QACE;AAAA,QAAC,+BAAW;AAAX;AAAA,UACC,SAAQ;AAAA,UACR;AAAA,UACA,SAAS,MAAM,SAAS,sBAAsB,IAAI;AAAA;AAAA,MACpD;AAAA,MAEF,SAAS,MAAM,SAAS,sBAAsB,IAAI;AAAA,MAClD,WAAS;AAAA,MAER;AAAA,iBAAS,iBAAiB,oCAAC,gBAAa;AAAA,QACxC,SAAS,UACR,qCAAC,wBAAI,CAAC,MAAL,EAAU,cAAa,UACtB;AAAA,+CAAC,wBAAI,CAAC,MAAL,EACC;AAAA,gDAAC,wBAAI,CAAC,SAAL,EAAa,OAAM,UAAS,eAAa,iBAAiB,CAAC,kBAAkB,oBAE9E;AAAA,YACA;AAAA,cAAC,wBAAI,CAAC;AAAA,cAAL;AAAA,gBACC,OAAM;AAAA,gBACN,eAAa,iBAAiB,CAAC;AAAA,gBAChC;AAAA;AAAA,YAED;AAAA,aACF;AAAA,UACA,oCAAC,wBAAI,CAAC,SAAL,EAAa,OAAM,UAElB,8CAAC,eAAG,IAAC,IAAI,EAAE,MAAM,QAAQ,IAAI,QAAQ,GACnC;AAAA,YAAC,aAAa;AAAb;AAAA,cACC;AAAA,cACA;AAAA,cACA;AAAA,cACA,cAAc,MACZ,SAAS,GAAG,2BAAS,CAAC,IAAI,GAAG,2BAAS,CAAC,UAAU,IAAI;AAAA,gBACnD,OAAO,EAAE,mBAAmB;AAAA,cAC9B,CAAC;AAAA,cAEH,cAAc,MACZ,SAAS,GAAG,2BAAS,CAAC,IAAI,GAAG,2BAAS,CAAC,UAAU,IAAI;AAAA,gBACnD,OAAO,EAAE,oBAAoB,kBAAkB;AAAA,cACjD,CAAC;AAAA;AAAA,UAEL,GACF,GACF;AAAA,UACA,oCAAC,wBAAI,CAAC,SAAL,EAAa,OAAM,gBAClB,8CAAC,gBAAa,GAChB;AAAA,WACF;AAAA;AAAA;AAAA,EAEJ;AAEJ;;;;AC9HM;AAXuB;AAEtB,SAAS,uBAAuB,EAAE,QAAQ,GAAwB;AACvE,SACE;AAAA,IAAC,gBAAI;AAAJ;AAAA,MACC,gBAAe;AAAA,MACf,IAAG;AAAA,MACH,WAAU;AAAA,MACV,GAAE;AAAA,MACF,OAAM;AAAA,MAEN,8CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAY,mBAAQ;AAAA;AAAA,EAC7C;AAEJ;;;;ACae;AA3Ba;AAEF;AAEM;AACP;AACqB;AAEP;AACH;AAE7B,SAAS,sBAAsB;AACpC,+BAA6B,CAAC;AAC9B,QAAM,QAAQ,6BAAQ,CAAC;AAEvB,QAAM,EAAE,MAAM,IAAI,yCAAW,CAAC;AAG9B,SACE;AAAA,IAAC,mBAAmB;AAAnB;AAAA,MACC,SAAS,MAAM;AAAA,MACf,0BAA0B,YAAY;AACpC,aAAK,2BAAS,CAAC,MAAM,qCAAqC;AAC1D,cAAM,iCAAe,CAAC,MAAM,iBAAiB;AAC7C,cAAM,QAAQ,sBAAsB;AAAA,MACtC;AAAA,MACA,OAAM;AAAA,MACN,SAAS,oCAAC,sBAAsB,IAAC,SAAQ,0CAAyC;AAAA;AAAA,EACpF;AAEJ;;;;ACpBE;AAVoB;AAEI;AAEM;AACH;AACO;AACJ;AAEzB,MAAM,gBACX,qCAAC,+BAAK,IACJ;AAAA,sCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,SAAS,SAAS,oCAAC,YAAY,IAAC,GAAI;AAAA,EAC3D,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,YAAY,SAAS,oCAAC,eAAe,IAAC,GAAI;AAAA,EACjE,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,YAAY,SAAS,oCAAC,eAAe,IAAC,GAAI;AAAA,EACjE,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,iBAAiB,SAAS,oCAAC,eAAe,IAAC,MAAK,aAAY,GAAI;AAAA,EACvF,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,oBAAoB,SAAS,oCAAC,YAAY,IAAC,MAAK,eAAc,GAAI;AAAA,EACzF,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,2BAA2B,SAAS,oCAAC,mBAAmB,IAAC,GAAI;AAAA,GACtF;;;;;;;;ACjB4B;AAET;AAWd,MAAM,0BAA0B,uBAAa,CAA8B;AAAA,EAChF,SAAS;AAAA,EACT,sBAAsB;AAAA,EACtB,0BAA0B;AAAA,EAC1B,aAAa,uBAAI;AACnB,CAAC;AAEM,MAAM,2BAA2B,wBAAwB;;;;ACpBvC;AAMlB;AAEmC;AAEnC,SAAS,yBAAiD;AAC/D,QAAM,cAAc,yBAAyB,CAAoB,aAAa;AAC9E,QAAM,UAAU,yBAAyB,CAAsB,SAAS;AACxE,QAAM,SAAS,yBAAyB,CAAa,QAAQ;AAE7D,MAAI,gBAAgB,UAAU,+BAAQ,CAAC,OAAO,EAAG,QAAO,EAAE,aAAa,QAAQ;AAE/E,MAAI,gBAAgB,gBAAgB,WAAW,CAAC,+BAAQ,CAAC,OAAO,KAAK;AACnE,WAAO,sDAA0B,CAAC,EAAE,aAAa,SAAS,OAAO,CAAC;AAEpE,SAAO;AACT;;;;ACgIgB;AArJS;AACF;AAEuB;AAClB;AACA;AAEO;AACJ;AAE4B;AAE7B;AACJ;AACY;AAM/B;AACiC;AAGL;AACD;AACqB;AACQ;AAIxD;AACgC;AASvC,SAAS,kBAAkB,EAAE,SAAS,GAA2B;AAC/D,QAAM,UAAU,wDAAuB,CAAC;AACxC,QAAM,kBAAkB,sBAAsB,CAAC;AAC/C,MAAI,CAAC,mBAAmB,CAAC,QAAS,QAAO;AACzC,SAAO,SAAS,EAAE,SAAS,gBAAgB,CAAC;AAC9C;AAGA,SAAS,oBAAoB,EAAE,SAAS,gBAAgB,GAAuB;AAC7E,eAAa,CAAC,IAAI;AAClB,QAAM,iBAAiB,gDAAiB,CAAC;AACzC,QAAM,kBAAkB,kBAAkB,CAAC;AAC3C,QAAM,wBAAwB,sCAAsC,CAAC;AAErE,QAAM,CAAC,sBAAsB,uBAAuB,IAAI,uDAAsB,CAAC;AAE/E,QAAM,CAAC,0BAA0B,2BAA2B,IAAI,kBAAQ,CAAC,KAAK;AAE9E,QAAM,QAAQ;AAEd,iBAAe,cAAc;AAC3B,UAAM,YAAY,MAAM,sCAAsC,CAAC;AAAA,MAC7D,iBAAiB;AAAA,MACjB,QAAQ,GAAG;AACT,YAAI,8BAAO,CAAC,CAAC,KAAK,uDAAsB,CAAC,CAAC,GAAG;AAC3C,kCAAwB,EAAE,cAAc,KAAK,CAAQ;AACrD;AAAA,QACF;AACA,uBAAe,YAAY,KAAK;AAAA,MAClC;AAAA,IACF,CAAC;AAED,UAAM,cAAc,MAAM,mBAAmB,CAAC,SAAS;AACvD,oBAAgB,uBAAuB,WAAW;AAClD,4BAAwB,WAAW;AACnC,QAAI,YAAY,cAAc;AAC5B,kCAA4B,KAAK;AACjC;AAAA,IACF;AAEA,mBAAe,iBAAiB,sCAAiC;AACjE,UAAM,sBAAsB,SAAS;AAErC,QAAI;AACF,qBAAe,wBAAwB,QAAQ;AAC/C,YAAM,4BAAK,CAAC,GAAI;AAChB,qBAAe,0BAA0B,EAAE,sBAAsB,MAAM,CAAC;AAExE,YAAM,OAAO,MAAM,qDAAyB,CAAC,eAAe,EAAE;AAAA,QAC5D,MAAM,KAAK,KAAK;AACd,iBAAO,2BAA2B,CAAC,SAAS,EAAE,KAAK,QAAQ,KAAK;AAAA,QAClE;AAAA,QACA,MAAM,WAAW,QAAQ,KAAK;AAC5B,iBAAO,iCAAiC,CAAC,SAAS;AAAA,YAChD,gCAAU,CAAC,gCAAW,CAAC,MAAM,CAAC;AAAA,YAC9B,gCAAU,CAAC,gCAAW,CAAC,GAAG,CAAC;AAAA,YAC3B,QAAQ;AAAA,UACV;AAAA,QACF;AAAA,MACF,CAAC;AAID,UAAI,KAAK,eAAe,8BAAW,CAAC,eAAe;AACjD,uBAAe,uBAAuB;AACtC;AAAA,MACF;AAEA,UAAI,KAAK,eAAe,8BAAW,CAAC,qBAAqB;AACvD,uBAAe,wBAAwB,oCAAoC;AAC3E,wBAAgB,8BAA8B;AAC9C,0CAAS,CAAC,QAAQ,uCAAuC,EAAE,gBAAgB,CAAC;AAC5E;AAAA,MACF;AACA,UAAI,KAAK,eAAe,8BAAW,CAAC,UAAU;AAC5C,cAAM,IAAI,MAAM,kBAAkB;AAAA,MACpC;AACA,qBAAe,0BAA0B,EAAE,sBAAsB,KAAK,CAAC;AACvE,YAAM,4BAAK,CAAC,GAAI;AAEhB,sBAAgB,kCAAkC;AAElD,wCAAS,CAAC,QAAQ,6BAA6B;AAAA,QAC7C,mBAAmB;AAAA,UACjB,WAAW,wCAAiB,CAAC,KAAK,aAAa,SAAS,KAAK,CAAC;AAAA,UAC9D,WAAW,QAAQ;AAAA,QACrB;AAAA,QACA;AAAA,MACF,CAAC;AAED,YAAM,UAAU,UAAU,MAAM;AAAA,IAClC,SAAS,GAAG;AACV,qBAAe,uBAAuB;AAAA,IACxC;AAAA,EACF;AAEA,QAAM,qBAAkD;AAAA,IACtD,SAAS;AAAA,IACT;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACA,QAAM,wBAAwB,sDAAqB,CAAC,wBAAwB;AAE5E,SACE,oCAAC,wBAAwB,IAAC,OAAO,oBAC/B;AAAA,IAAC,yBAAK;AAAL;AAAA,MACC,WAAS;AAAA,MACT,QAAQ,oCAAC,+BAAW,IAAC;AAAA,MACrB,SAAS,wBAAwB,MAAM,eAAe,mBAAmB,IAAI;AAAA,MAE7E,8CAAC,gCAAM,IAAC;AAAA;AAAA,EACV,GACF;AAEJ;AAEO,SAAS,yBAAyB;AACvC,SAAO,oCAAC,qBAAmB,qBAAS,oCAAC,uBAAqB,GAAG,OAAO,GAAG;AACzE;;;;AC7IQ;AAnBmB;AAEsB;AACnB;AACsB;AAEZ;AAEjC,SAAS,uBAAuB;AACrC,QAAM,EAAE,aAAa,sBAAsB,yBAAyB,IAClE,oBAAU,CAAC,uBAAuB;AAEpC,qFAAmC,CAAC,MAAM,YAAY,CAAC;AAEvD,SACE;AAAA,IAAC,aAAa;AAAb;AAAA,MACC,OAAM;AAAA,MACN,0BAA0B;AAAA,MAC1B,SACE;AAAA,QAAC,gCAAgC;AAAhC;AAAA,UACC,OAAM;AAAA,UACN;AAAA;AAAA,MACF;AAAA,MAEF,iBAAiB;AAAA,MACjB,kBAAkB;AAAA;AAAA,EACpB;AAEJ;;;;;;AC5BuB;AACI;AAOpB;AAEwC;AAIpB;AAEpB,SAAS,YAAY,IAA0B;AACpD,SAAO,mCAAU,CAAC,EAAE,EAAE,WAAW,KAAK,EAAE;AAC1C;AAEO,SAAS,iBAAiB,WAAiC;AAChE,MAAI,UAAU,SAAS,oCAAW,CAAC,KAAM,QAAO;AAChD,QAAM,gBAAgB,mCAAU,CAAC,SAAS;AAC1C,QAAM,UAAU,SAAS,cAAc,QAAQ,KAAK,EAAE,CAAC;AACvD,MAAI,CAAC,OAAO,OAAO,6BAAO,EAAE,SAAS,OAAO,EAAG,QAAO;AACtD,SAAO,mCAAU,CAAC,sDAA8B,CAAC,OAAO,CAAC;AAC3D;AAEO,SAAS,4BAA4B;AAAA,EAC1C;AAAA,EACA;AACF,GAAmD;AACjD,SAAO,gCAAU,CAAC,yBAAM,CAAC,wDAAoB,CAAC,EAAE,SAAS,OAAO,CAAC,CAAC,CAAC;AACrE;;;;ACZM;AArBqB;AAEJ;AACmB;AAEG;AACL;AACA;AACiB;AAElD,SAAS,oBAAoB;AAClC,QAAM,EAAE,QAAQ,IAAI,oBAAU,CAAC,uBAAuB;AACtD,QAAM,uBAAuB,uBAAuB,CAAC;AAErD,MAAI,CAAC,SAAS;AACZ,wBAAM,CAAC,MAAM,GAAG,kBAAkB,IAAI,8CAA8C;AACpF,WAAO;AAAA,EACT;AAEA,SAAO,qDAAyB,CAAC,OAAO,EAAE;AAAA,IACxC,MAAM,SACJ;AAAA,MAAC,4BAA4B;AAA5B;AAAA,QACC,aAAY;AAAA,QACZ,SAAS,CAAC,CAAC,WAAW,GAAG,CAAC;AAAA,QAC1B,QAAQ,uBAAuB,aAAa;AAAA;AAAA,IAC9C;AAAA,IAEF,YAAY,CAAC,QAAQqB,aAAY;AAC/B,YAAM,4BAA4B;AAClC,YAAM,OAAO,2BAA2B,CAAC,EAAE,QAAQ,SAAAA,SAAQ,CAAC;AAC5D,YAAM,CAAC,WAAW,SAAS,IAAI;AAAA,QAC7B,KAAK,MAAM,GAAG,yBAAyB;AAAA,QACvC,KAAK,MAAM,yBAAyB;AAAA,MACtC;AACA,aACE;AAAA,QAAC,4BAA4B;AAA5B;AAAA,UACC,aAAY;AAAA,UACZ,SAAS;AAAA,YACP,CAAC,YAAY,WAAW,CAAC,OAAO,KAAK,UAAU,CAAC,CAAC;AAAA,YACjD,CAAC,QAAQ,WAAW,CAAC,OAAO,KAAK,IAAI,CAAC;AAAA,YACtC,CAAC,WAAW,WAAW,CAAC,OAAO,KAAK,OAAO,CAAC;AAAA,YAC5C,CAAC,sBAAsB,SAAS;AAAA,YAChC,CAAC,sBAAsB,SAAS;AAAA,UAClC;AAAA,UACA,QAAQ,uBAAuB,aAAa;AAAA;AAAA,MAC9C;AAAA,IAEJ;AAAA,EACF,CAAC;AACH;;;;AC9BE;AAnBoB;AAEI;AAWnB;AACgC;AACF;AACH;AAE3B,MAAM,mCACX,qCAAC,+BAAK,IAAC,SAAS,oCAAC,sBAAsB,IAAC,GACtC;AAAA,sCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,eAAe,SAAS,oCAAC,oBAAoB,IAAC,GAAI;AAAA,EACzE,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,YAAY,SAAS,oCAAC,UAAU,IAAC,GAAI;AAAA,EAC5D,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,oBAAoB,SAAS,oCAAC,kBAAkB,IAAC,GAAI;AAAA,EAC5E,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,sBAAsB,SAAS,oCAAC,2CAAoB,IAAC,GAAI;AAAA,EAChF,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,0BAA0B,SAAS,oCAAC,iBAAiB,IAAC,GAAI;AAAA,EACjF,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,oBAAoB,SAAS,oCAAC,kBAAkB,IAAC,GAAI;AAAA,EAC5E,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,yBAAyB,SAAS,oCAAC,iBAAiB,IAAC,GAAI;AAAA,EAChF,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,yBAAyB,SAAS,oCAAC,uBAAuB,IAAC,GAAI;AAAA,EACtF,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,0BAA0B,SAAS,oCAAC,wBAAwB,IAAC,GAAI;AAAA,EACxF,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,4BAA4B,SAAS,oCAAC,0BAA0B,IAAC,GAAI;AAAA,GAC9F;;;;AC9BK,IAAK,8BAAL,kBAAKC,iCAAL;AACL,EAAAA,6BAAA,2BAAwB;AACxB,EAAAA,6BAAA,kBAAe;AACf,EAAAA,6BAAA,4BAAyB;AAHf,SAAAA;AAAA;AAML,IAAK,gCAAL,kBAAKC,mCAAL;AACL,EAAAA,+BAAA,sBAAmB;AACnB,EAAAA,+BAAA,kBAAe;AAFL,SAAAA;AAAA;AAKL,IAAK,gBAAL,kBAAKC,mBAAL;AACL,EAAAA,eAAA,oBAAiB;AADP,SAAAA;AAAA;AAIL,IAAK,eAAL,kBAAKC,kBAAL;AACL,EAAAA,cAAA,sBAAmB;AADT,SAAAA;AAAA;;;;;;ACf8B;AAqB1C,MAAM,oBAAoB,uBAAa,CAA2B,IAAI;AAE/D,SAAS,uBAAuB;AACrC,QAAM,UAAU,oBAAU,CAAC,iBAAiB;AAC5C,MAAI,CAAC,QAAS,OAAM,IAAI,MAAM,4BAA4B;AAC1D,SAAO;AACT;AAEO,MAAM,qBAAqB,kBAAkB;;;;ACX9C;AAlByB;AAEG;AAQ3B,SAAS,gCAAgC;AAAA,EAC9C;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAyC;AACvC,SACE,qCAAC,kBAAM,IAAC,YAAW,UAAS,gBAAe,iBACzC;AAAA,wCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAY,iBAAM;AAAA,IACxC,cAAc,mBACb,oCAAC,wBAAI,IAAC,SAAS,MAAM,iBAAiB,CAAC,WAAW,GAAG,SAAQ,QAC1D,wBACC,qCAAC,kBAAM,IAAC,KAAI,YAAW;AAAA;AAAA,MACZ,oCAAC,+BAAW,IAAC;AAAA,OACxB,IAEA,eAEJ,IACE;AAAA,KACN;AAEJ;;;;AC1BI;AAN8B;AAI3B,SAAS,gCAAgC,EAAE,UAAU,GAAG,MAAM,GAA6B;AAChG,SACE;AAAA,IAAC,iBAAK;AAAL;AAAA,MACC,QAAO;AAAA,MACP,cAAa;AAAA,MACb,KAAI;AAAA,MACJ,GAAE;AAAA,MACF,OAAM;AAAA,MACN,IAAG;AAAA,MACF,GAAG;AAAA,MAEH;AAAA;AAAA,EACH;AAEJ;;;;ACDM;AAjB+C;AAExB;AAQtB,SAAS,eAAe;AAAA,EAC7B;AAAA,EACA,OAAO;AAAA,EACP,GAAG;AACL,GAAsC;AACpC,SACE,oCAAC,iCAAY,IAAC,OAAO,YAAY,MAC/B,8CAAC,uBAAG,IAAE,GAAG,OAAO,GAClB;AAEJ;;;;ACQe;AA5B2B;AAEL;AAEE;AACV;AACA;AAUtB,SAAS,0BAA0B;AAAA,EACxC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAmC;AACjC,QAAM,EAAE,QAAQ,UAAU,IAAI,YAAY,CAAC,qBAAqB,EAAE;AAClE,QAAM,EAAE,yBAAyB,iBAAiB,IAAI,sBAAsB,CAAC;AAE7E,SACE,qCAAC,wBAAI,IAAC,KAAK,4DAAE,GAAK,IAAG,YAAW,SAAQ,YACtC;AAAA,yCAAC,kBAAM,IAAC,YAAW,UAAS,gBAAe,iBACzC;AAAA,2CAAC,gBAAI,IAAC,YAAW,UACf;AAAA,4CAAC,kBAAM,CAAC,MAAP,EAAY,IAAG,YAAW,WAAU,cAClC,mBACH;AAAA,QACA;AAAA,UAAC,iCAAY;AAAZ;AAAA,YACC,UAAU,CAAC;AAAA,YACX,OAAO,YAAY,YAAY;AAAA,YAC/B,MAAK;AAAA,YAEL,8CAAC,eAAG,IAAC,SAAQ,QACX,8CAAC,kBAAM,CAAC,QAAP,EAAc,QAAQ,EAAE,IAAI,iCAAiC,GAAG,SAAS,QACvE,8BAAoB,oCAAC,4BAAQ,IAAC,SAAQ,SAAQ,IAAK,MACtD,GACF;AAAA;AAAA,QACF;AAAA,QACC;AAAA,SACH;AAAA,MACA,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cAAc,kBAAO;AAAA,OAC9C;AAAA,IACA,oCAAC,eAAG,IAAC,IAAG,YACL,kBAAQ,iBACP;AAAA,MAAC,wBAAI;AAAJ;AAAA,QACC,SAAS,MACP,iBAAiB;AAAA,UACf,MAAM,kBAAkB;AAAA,QAC1B,CAAC;AAAA,QAEH,SAAQ;AAAA,QAER,8CAAC,iCAAY,IAAC,UAAU,CAAC,gBAAgB,OAAO,gBAAgB,MAAK,UACnE,8CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cAAc,gBAAK,GAC5C;AAAA;AAAA,IACF,IACE,MACN;AAAA,KACF;AAEJ;;;;AClDU;AAjB+C;AAG1B;AAEW;AAE1C,MAAM,aAAa;AAEZ,SAAS,cAAc,EAAE,KAAK,GAAwB;AAC3D,SACE;AAAA,IAAC,yBAAyB;AAAzB;AAAA,MACC,SAAS,qCAAc,CAAC,KAAK,OAAO;AAAA,MACpC,mBAAmB,KAAK;AAAA,MACxB,QAAQ,kCAAW,CAAC,kCAAW,CAAC,KAAK,OAAO,KAAK,CAAC;AAAA,MAClD,OACE,KAAK,SACH,oCAAC,cAAc,IAAC,YAAwB,OAAM,WAAU,aAAW,MAAC,IAClE;AAAA,MAEN,MAAM,qCAAc,CAAC,KAAK,IAAI;AAAA,MAC9B,gBAAgB,KAAK;AAAA;AAAA,EACvB;AAEJ;;;;ACjBM;AAPc;AAIb,SAAS,oBAAoB,EAAE,SAAS,GAAgB;AAC7D,SACE,oCAAC,eAAG,IAAC,IAAG,YACN,8CAAC,eAAG,IAAC,YAAW,qBAAqB,UAAS,GAChD;AAEJ;;;;ACDQ;AAPsB;AACM;AAE7B,SAAS,cAAc,EAAE,OAAO,GAA4B;AACjE,SACE,oCAAC,mBAAmB,IACjB,iBAAO,IAAI,CAAC,OAAO,MAClB,oCAAC,aAAa,IAAS,MAAM,SAAT,CAAgB,CACrC,GACH;AAEJ;;;;ACQU;AArB+C;AAG1B;AAEW;AAE1C,MAAM,2BAAU,GAAG;AAEZ,SAAS,eAAe,EAAE,OAAO,GAA2B;AACjE,QAAM,mBAAmB,OAAO,YAAY;AAE5C,MAAI,iBAAkB,QAAO;AAE7B,SACE;AAAA,IAAC,yBAAyB;AAAzB;AAAA,MACC,SAAS,qCAAc,CAAC,OAAO,OAAO;AAAA,MACtC,mBAAmB,OAAO;AAAA,MAC1B,QAAQ,kCAAW,CAAC,kCAAW,CAAC,OAAO,OAAO,KAAK,GAAG,KAAK,CAAC;AAAA,MAC5D,OACE,OAAO,SACL,oCAAC,cAAc,IAAC,aAAW,MAAC,UAAU,+BAAc,OAAM,OAAM,IAC9D;AAAA;AAAA,EAER;AAEJ;;;;ACnBM;AAPc;AAIb,SAAS,qBAAqB,EAAE,SAAS,GAAgB;AAC9D,SACE,oCAAC,eAAG,IACF,8CAAC,eAAG,IAAC,YAAW,qBAAqB,UAAS,GAChD;AAEJ;;;;ACDQ;AAPuB;AACM;AAE9B,SAAS,eAAe,EAAE,QAAQ,GAA8B;AACrE,SACE,oCAAC,oBAAoB,IAClB,kBAAQ,IAAI,CAAC,QAAQ,MACpB,oCAAC,cAAc,IAAS,UAAH,CAAmB,CACzC,GACH;AAEJ;;;;ACIM;AAjBmB;AAEY;AAEW;AACA;AAClB;AACC;AAExB,SAAS,uBAAuB;AACrC,QAAM,EAAE,YAAY,YAAY,IAAI,oBAAoB,CAAC;AACzD,QAAM,CAAC,aAAa,cAAc,IAAI,kBAAQ,CAAC,KAAK;AAEpD,MAAI,CAAC,WAAW,UAAU,CAAC,YAAY,OAAQ,QAAO;AAEtD,SACE,qCAAC,+BAA+B,IAC9B;AAAA;AAAA,MAAC,+BAA+B;AAA/B;AAAA,QACC,YAAU;AAAA,QACV,kBAAkB,CAAC,UAAmB,eAAe,KAAK;AAAA,QAC1D;AAAA,QACA,OAAO,cAAc,WAAW;AAAA;AAAA,IAClC;AAAA,IACC,cACC,6DACE;AAAA,0CAAC,aAAa,IAAC,QAAQ,YAAY;AAAA,MACnC,oCAAC,+BAA+B,IAAC,OAAM,WAAU;AAAA,MACjD,oCAAC,cAAc,IAAC,SAAS,aAAa;AAAA,OACxC,IACE;AAAA,KACN;AAEJ;;;;ACJ+B;AA5BK;AAEgB;AAEvB;AACA;AAWtB,SAAS,qBAAqB;AAAA,EACnC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA8B;AAC5B,QAAM,EAAE,QAAQ,UAAU,IAAI,YAAY,CAAC,cAAc,EAAE;AAE3D,SACE,qCAAC,wBAAI,IAAC,KAAK,QAAQ,QAAQ,oCAAC,iCAAa,IAAC,GAAI,IAAG,YAAW,SAAQ,YAClE;AAAA,yCAAC,kBAAM,IAAC,YAAW,UAAS,gBAAe,iBACzC;AAAA,0CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAY,kBAAQ,QAAQ,WAAU;AAAA,MAC5D,cACC,oCAAC,wBAAI,IAAC,SAAS,aAAc,iBAAM,IAEnC,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAY,iBAAM;AAAA,OAE7C;AAAA,IACA,qCAAC,kBAAM,IAAC,YAAW,UAAS,gBAAe,iBACxC;AAAA,iBACC,qCAAC,kBAAM,IAAC,KAAI,YACV;AAAA,4CAAC,kBAAM,CAAC,MAAP,EAAY,IAAG,YAAW,WAAU,cAClC,oBACH;AAAA,QACA;AAAA,UAAC,iCAAY;AAAZ;AAAA,YACC,UAAU,CAAC;AAAA,YACX,OAAO,YAAY,YAAY;AAAA,YAC/B,MAAK;AAAA,YAEL,8CAAC,eAAG,IAAC,SAAQ,QACX,8CAAC,wBAAI,IAAC,SAAS,QAAQ,SAAQ,QAC5B,uBAAa,oCAAC,4BAAQ,IAAC,IAAK,MAC/B,GACF;AAAA;AAAA,QACF;AAAA,SACF,IACE;AAAA,MACH,WACC,oCAAC,kBAAM,CAAC,MAAP,EAAY,IAAG,YAAW,WAAU,cAClC,oBACH,IACE;AAAA,OACN;AAAA,KACF;AAEJ;;;;AC5Ce;AAnBgB;AACG;AACN;AAEC;AACM;AAEE;AAK9B,SAAS,gBAAgB,EAAE,YAAY,GAAyB;AACrE,QAAM,EAAE,WAAW,SAAS,MAAM,qBAAqB,IAAI,sCAAc,CAAC,aAAa,MAAM,EAAE;AAE/F,MAAI,UAAW,QAAO;AACtB,MAAI,WAAW,kCAAW,CAAC,oBAAoB;AAC7C,WACE;AAAA,MAAC,oBAAoB;AAApB;AAAA,QACC,OAAO,oCAAC,qCAAiB,IAAC;AAAA,QAC1B,OAAM;AAAA,QACN,OAAM;AAAA;AAAA,IACR;AAGJ,SACE;AAAA,IAAC,oBAAoB;AAApB;AAAA,MACC,OAAO,oCAAC,kBAAkB,IAAC,aAAa,sBAAsB,QAAO,QAAO,OAAM,QAAO;AAAA,MACzF,OAAM;AAAA,MACN,OAAO,IAAI,aAAa,MAAM;AAAA,MAC9B,aAAa,MAAM,uCAAY,CAAC,YAAY,OAAO;AAAA;AAAA,EACrD;AAEJ;;;;ACLI;AA7ByC;AACmB;AAEhC;AACK;AAEA;AACL;AAMzB,SAAS,yBAAyB;AAAA,EACvC;AAAA,EACA;AACF,GAA2B;AACzB,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI,oBAAoB,CAAC;AACzB,QAAM,4BAA4B,oDAA4B,CAAC;AAE/D,QAAM,0BAA0B,kCAAkC,SAAS;AAE3E,SACE,6DACG;AAAA,KAAC,2BAA2B,wBAC3B;AAAA,MAAC,oBAAoB;AAApB;AAAA,QACC,YAAY;AAAA,QACZ,UAAU,qCAAc,CAAC,mBAAmB;AAAA,QAC5C,UAAU,wCAAe;AAAf,UACR,yCAAkB,CAAC,0BAA0B,wBAAwB,CAAC;AAAA,QACxE;AAAA,QACA,OAAO,wCAAe,CAAC,kCAAW,CAAC,wBAAwB,CAAC;AAAA;AAAA,IAC9D,IACE;AAAA,IACH,CAAC,2BAA2B,mBAC3B;AAAA,MAAC,oBAAoB;AAApB;AAAA,QACC,YAAY;AAAA,QACZ,UAAU,qCAAc,CAAC,cAAc;AAAA,QACvC,UAAU,wCAAe;AAAf,UACR,yCAAkB,CAAC,0BAA0B,mBAAmB,CAAC;AAAA,QACnE;AAAA,QACA,OAAO,wCAAe,CAAC,kCAAW,CAAC,mBAAmB,CAAC;AAAA;AAAA,IACzD,IACE;AAAA,IACH,0BACG,iCAAiC,IAAI,iBACnC,oCAAC,eAAe,IAAsB,eAAhB,YAAY,EAA8B,CACjE,IACD;AAAA,KACN;AAEJ;;;;ACtCI;AAnByC;AACmB;AAE3B;AAEA;AACL;AAKzB,SAAS,0BAA0B,EAAE,sBAAsB,GAA2B;AAC3F,QAAM,EAAE,qCAAqC,qBAAqB,yBAAyB,IACzF,oBAAoB,CAAC;AACvB,QAAM,4BAA4B,oDAA4B,CAAC;AAE/D,QAAM,6BAA6B,qCAAqC,SAAS;AAEjF,SACE,6DACG;AAAA,4BACC;AAAA,MAAC,oBAAoB;AAApB;AAAA,QACC,YAAY;AAAA,QACZ,UAAU,qCAAc,CAAC,mBAAmB;AAAA,QAC5C,UAAU,yCAAkB,CAAC,0BAA0B,wBAAwB,CAAC;AAAA,QAChF,OAAO,kCAAW,CAAC,wBAAwB;AAAA;AAAA,IAC7C,IACE;AAAA,IACH,6BACG,oCAAoC,IAAI,iBACtC,oCAAC,eAAe,IAAsB,eAAhB,YAAY,EAA8B,CACjE,IACD;AAAA,KACN;AAEJ;;;;ACNQ;AA7BoB;AAES;AAEW;AACA;AACP;AACC;AAEnC,SAAS,0BAA0B;AACxC,QAAM,EAAE,0BAA0B,oBAAoB,IAAI,oBAAoB,CAAC;AAE/E,QAAM,qCAAqC,yBAAyB,OAAO,cAAc,CAAC;AAC1F,QAAM,gCAAgC,oBAAoB,OAAO,cAAc,CAAC;AAEhF,QAAM,kCAAkC,yBAAyB,OAAO,WAAW,CAAC;AACpF,QAAM,6BAA6B,oBAAoB,OAAO,WAAW,CAAC;AAC1E,QAAM,cACJ,yBAAyB,OAAO,UAAU,CAAC,KAAK,oBAAoB,OAAO,UAAU,CAAC;AAExF,QAAM,iBAAiB,sCAAsC;AAC7D,QAAM,cAAc,mCAAmC;AACvD,QAAM,cAAc,kBAAkB;AAEtC,MAAI,YAAa,QAAO;AAExB,SACE,qCAAC,+BAA+B,IAAC,GAAE,SAChC;AAAA,qBACC,qCAAC,eAAG,IAAC,GAAE,YACL;AAAA,0CAAC,+BAA+B,IAAC,OAAM,mBAAkB;AAAA,MACzD,oCAAC,yBAAyB,IAAC,uBAAuB,oCAAoC;AAAA,OACxF,IACE;AAAA,IACH,cAAc,oCAAC,kBAAM,CAAC,IAAP,EAAU,QAAO,WAAU,IAAK;AAAA,IAC/C,cACC,qCAAC,eAAG,IAAC,GAAE,YACL;AAAA,0CAAC,+BAA+B,IAAC,OAAM,kBAAiB;AAAA,MACxD;AAAA,QAAC,wBAAwB;AAAxB;AAAA,UACC,uBAAuB;AAAA,UACvB,kBAAkB;AAAA;AAAA,MACpB;AAAA,OACF,IACE;AAAA,KACN;AAEJ;;;;AC9BI;AAhB2B;AAEM;AAEA;AACN;AAE/B,MAAM,iBACJ;AACF,MAAM,iBACJ;AAEK,SAAS,2BAA2B;AACzC,QAAM,EAAE,cAAc,IAAI,oBAAoB,CAAC;AAE/C,SACE,qCAAC,kBAAM,IAAC,YAAW,UAAS,KAAI,YAC9B;AAAA,wCAAC,kBAAM,CAAC,IAAP,EAAU,WAAU,cAAa,yBAAW;AAAA,IAC7C;AAAA,MAAC,cAAc;AAAd;AAAA,QACC,YAAY,gBAAgB,iBAAiB;AAAA,QAC7C,MAAM,gBAAgB,oCAAC,8BAAU,IAAC,SAAQ,SAAQ,IAAK,oCAAC,4BAAQ,IAAC,SAAQ,SAAQ;AAAA,QACjF,OAAO,gBAAgB,cAAc;AAAA,QACrC,aAAW;AAAA,QACX,SAAS,gBAAgB,YAAY;AAAA;AAAA,IACvC;AAAA,KACF;AAEJ;;;;ACrBI;AANkB;AAIf,SAAS,yBAAyB,EAAE,SAAS,GAAgB;AAClE,SACE,oCAAC,iBAAK,IAAC,KAAI,YAAW,OAAM,QACzB,UACH;AAEJ;;;;ACKQ;AAf8B;AAGO;AACG;AAEA;AAEzC,SAAS,eAAe,OAAuB;AACpD,QAAM,EAAE,IAAI,IAAI;AAChB,QAAM,4BAA4B,oDAA4B,CAAC;AAE/D,SACE,oCAAC,+BAA+B,IAC9B,+CAAC,kBAAM,IAAC,YAAW,UAAS,gBAAe,iBACzC;AAAA,wCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAW,6BAAe;AAAA,IACjD,qCAAC,iBAAK,IAAC,YAAW,YAAW,KAAI,YAC/B;AAAA,0CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAY,4CAAW,CAAC,GAAG,GAAE;AAAA,MACpD,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cACpB,mDAAkB,CAAC,0BAA0B,GAAG,CAAC,GACpD;AAAA,OACF;AAAA,KACF,GACF;AAEJ;;;;ACTM;AAhBuB;AAER;AAEG;AAMjB,SAAS,kBAAkB,EAAE,MAAM,OAAO,GAA2B;AAC1E,QAAM,cAAc,QAAQ;AAC5B,QAAM,UAAU,cAAc,gBAAgB,WAAW,KAAK;AAE9D,SACE,qCAAC,gBAAI,IAAC,eAAc,UAAS,IAAG,YAAW,OAAM,QAC/C;AAAA,yCAAC,kBAAM,CAAC,IAAP,EAAU,IAAG,YAAW,WAAU,cAAa;AAAA;AAAA,MAE9C,oCAAC,QAAG;AAAA,MAAE;AAAA,OAER;AAAA,IACA,oCAAC,kBAAM,CAAC,GAAP,EAAS,IAAG,YAAW,WAAU,YAAW,iIAG7C;AAAA,IACC,WACC,oCAAC,wBAAI,IAAC,KAAK,oCAAC,sBAAO,IAAC,QAAgB,GAAI,IAAG,YACzC,8CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAW,WAAU,cACzC,mBACH,GACF;AAAA,KAEJ;AAEJ;;;;ACtBI;AAZqB;AAEJ;AAG2B;AACA;AAEzC,SAAS,eAAe,EAAE,KAAK,GAAsB;AAC1D,QAAM,CAAC,aAAa,cAAc,IAAI,kBAAQ,CAAC,KAAK;AAEpD,SACE,qCAAC,+BAA+B,IAC9B;AAAA;AAAA,MAAC,+BAA+B;AAA/B;AAAA,QACC,YAAU;AAAA,QACV,kBAAkB,CAAC,UAAmB,eAAe,KAAK;AAAA,QAC1D;AAAA,QACA,OAAM;AAAA;AAAA,IACR;AAAA,IACC,cAAc,oCAAC,IAAI,IAAC,OAAO,MAAM,IAAK;AAAA,KACzC;AAEJ;;;;ACfI;AAPoB;AAKjB,SAAS,+BAA+B,EAAE,OAAO,GAAwC;AAC9F,SACE,qCAAC,2BAAO,IAAC,SAAQ,WAAU,OAAM,oCAAmC;AAAA;AAAA,IAEpD;AAAA,KAChB;AAEJ;;;;ACZqC;AACG;AACC;AACA;AACV;AACG;AACH;AACgB;;;;ACPvB;AAGG;AAEgD;AAElC;AACF;AAEF;AAEwB;AACL;AACtB;AAgB3B,SAAS,gBAAgB,EAAE,QAAQ,cAAc,GAAwB;AAC9E,QAAM,UAAU,gDAAiB,CAAC;AAClC,QAAM,iBAAiB,0DAAkC,CAAC,QAAQ,MAAM,QAAQ,IAAI;AACpF,QAAM,6BAA6B,oFAA4C,CAAC,EAAE;AAClF,QAAM,EAAE,SAAS,sBAAsB,IAAI,yEAAuC,CAAC;AACnF,QAAM,eAAe,gDAAwB,CAAC,MAAM;AACpD,QAAM,UAAU,kCAAW,CAAC,aAAa;AAEzC,QAAM,aAAa,iBAAO;AAAP,IACjB,MACE,OAAO,IAAI,CAAC,OAAO,MAAM;AACvB,YAAM,eAAe,gCAAS,CAAC,MAAM,KAAK,IACtC,+CAAsB,CAAC,OAAO,cAAc,IAC5C;AACJ,YAAM,mBACJ,iBAAiB,8BAA8B,iBAAiB;AAElE,YAAM,YACJ,oBACA,EAAE,CAAC,MAAM,eAAe,MAAM,gBAAgB,KAAK,MAAM,gBAAgB;AAE3E,YAAM,YAAY,oBAAoB;AACtC,YAAM,cAAc,oBAAoB,CAAC,WAAW,cAAc,SAAS,CAAC;AAE5E,aAAO;AAAA,QACL,SAAS;AAAA,QACT,OAAO,MAAM;AAAA,QACb,aAAa,aAAa,CAAC;AAAA,QAC3B,WAAW;AAAA,QACX,QAAQ,aAAa;AAAA,QACrB,MAAM,MAAM,OAAO,gCAAU,CAAC,MAAM,IAAI,IAAI;AAAA,QAC5C,OAAO,gCAAS,CAAC,MAAM,KAAK,IAAI,oBAAoB,CAAC,KAAK,IAAI;AAAA,MAChE;AAAA,IACF,CAAC;AAAA,IACH;AAAA,MACE;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,EACF;AAEA,QAAM,gBAAgB,iBAAO,CAAC,MAAM,WAAW,KAAK,WAAS,MAAM,SAAS,GAAG,CAAC,UAAU,CAAC;AAE3F,SAAO,EAAE,eAAe,cAAc,WAAW;AACnD;;;;AC9EwB;AAIoD;AAErC;AAEhB;AAEsC;AACL;AAcjD,SAAS,iBAAiB,EAAE,eAAe,SAAS,QAAQ,GAAyB;AAC1F,QAAM,6BAA6B,oFAA4C,CAAC,EAAE;AAClF,QAAM,EAAE,SAAS,sBAAsB,IAAI,yEAAuC,CAAC;AACnF,QAAM,iBAAiB,0DAAkC,CAAC,QAAQ,MAAM,QAAQ,IAAI;AAEpF,SAAO,iBAAO;AAAP,IACL,MACE,QACG,IAAI,YAAU;AACb,UAAI,kCAAW,CAAC,OAAO,MAAM,GAAG;AAC9B,4BAAM,CAAC,MAAM,sBAAsB;AACnC;AAAA,MACF;AACA,YAAM,gBAAgB,gDAAuB,CAAC,OAAO,QAAQ,cAAc;AAE3E,YAAM,mBACJ,kBAAkB,8BAA8B,kBAAkB;AAEpE,aAAO;AAAA,QACL,SAAS;AAAA,QACT,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,OAAO,OAAO,OAAO,MAAM;AAAA,MAC7B;AAAA,IACF,CAAC,EACA,OAAO,4BAAS;AAAA,IACrB,CAAC,4BAA4B,uBAAuB,gBAAgB,eAAe,OAAO;AAAA,EAC5F;AACF;;;;ACrDsB;AAEI;AAYnB,SAAS,iCAAiC;AAAA,EAC/C;AAAA,EACA;AACF,GAAyC;AACvC,MAAI,kBAAkB,IAAI,wBAAS,CAAC,CAAC;AAErC,SAAO,WACJ,QAAQ,WAAS;AAChB,QAAI,gCAAS,CAAC,MAAM,WAAW,GAAG;AAEhC,YAAM,yBAAyB,gBAAgB,KAAK,OAAO,MAAM,YAAY,MAAM,IAAI,CAAC;AAExF,UAAI,mBAAmB,IAAI,wBAAS,CAAC,CAAC;AAKtC,eAAS,SAAS,GAAG,SAAS,YAAY,QAAQ,UAAU;AAC1D,2BAAmB,iBAAiB,KAAK,YAAY,MAAM,EAAE,KAAK;AAClE,YAAI,uBAAuB,oBAAoB,gBAAgB;AAC7D,iBAAO,EAAE,SAAS,YAAY,MAAM,EAAE,SAAS,aAAa,MAAM,YAAY;AAAA,MAClF;AAAA,IACF;AACA,sBAAkB,gBAAgB,KAAK,MAAM,KAAK;AAClD;AAAA,EACF,CAAC,EACA,OAAO,4BAAS;AACrB;;;;ACzCwB;AAEE;AAEmC;AACL;AAEP;AAI1C,SAAS,oBAAoB,YAAyB,aAA2B;AACtF,QAAM,6BAA6B,oFAA4C,CAAC,EAAE;AAClF,QAAM,EAAE,SAAS,sBAAsB,IAAI,yEAAuC,CAAC;AAEnF,QAAM,+BAA+B,iBAAO;AAAP,IACnC,MACE,gCAAgC,CAAC;AAAA,MAC/B;AAAA,MACA;AAAA,IACF,CAAC;AAAA,IACH,CAAC,YAAY,WAAW;AAAA,EAC1B;AAEA,SAAO,iBAAO,CAAC,MAAM;AACnB,UAAM,sCAAsC,WACzC;AAAA,MACC,WACE,MAAM,YAAY,8BAA8B,MAAM,YAAY;AAAA,IACtE,EACC,IAAI,WAAS,MAAM,WAAW,EAC9B,OAAO,4BAAS;AAEnB,UAAM,mCAAmC,6BACtC;AAAA,MACC,2BACE,sBAAsB,YAAY,8BAClC,sBAAsB,YAAY;AAAA,IACtC,EACC,IAAI,WAAS,MAAM,WAAW,EAC9B;AAAA,MACC,iBACE,CAAC,oCAAoC;AAAA,QACnC,yBAAuB,YAAY,OAAO,oBAAoB;AAAA,MAChE;AAAA,IACJ,EACC,OAAO,4BAAS;AAEnB,WAAO;AAAA,MACL;AAAA,MACA;AAAA,IACF;AAAA,EACF,GAAG,CAAC,4BAA4B,uBAAuB,8BAA8B,UAAU,CAAC;AAClG;;;;ACrDwB;AAEgB;AAKxC,SAAS,4BAA4B,SAAiB,QAAqB;AACzE,SAAO,kCAAW;AAAX,IACL,iCAAU,CAAC,OAAO,OAAO,WAAS,MAAM,YAAY,OAAO,EAAE,IAAI,WAAS,MAAM,KAAK,CAAC;AAAA,IACtF;AAAA,EACF;AACF;AAEA,SAAS,6BAA6B,SAAiB,SAAuB;AAC5E,SAAO,kCAAW;AAAX,IACL,iCAAU;AAAV,MACE,QAAQ,OAAO,YAAU,OAAO,YAAY,OAAO,EAAE,IAAI,YAAU,OAAO,OAAO,KAAK,CAAC;AAAA,IACzF;AAAA,IACA;AAAA,EACF;AACF;AAEA,SAAS,yBAAyB,QAAqB;AACrD,SAAO,kCAAW,CAAC,iCAAU,CAAC,OAAO,IAAI,WAAS,MAAM,KAAK,CAAC,GAAG,KAAK;AACxE;AAEA,SAAS,0BAA0B,SAAuB;AACxD,SAAO,kCAAW,CAAC,iCAAU,CAAC,QAAQ,IAAI,YAAU,OAAO,KAAK,CAAC,GAAG,KAAK;AAC3E;AAQO,SAAS,cAAc;AAAA,EAC5B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAuB;AACrB,SAAO,iBAAO;AAAP,IACL,OAAO;AAAA,MACL,yBAAyB;AAAA,QACvB;AAAA,QACA;AAAA,MACF;AAAA,MACA,oBAAoB,4BAA4B,uBAAuB,YAAY;AAAA,MACnF,0BAA0B;AAAA,QACxB;AAAA,QACA;AAAA,MACF;AAAA,MACA,qBAAqB,6BAA6B,uBAAuB,aAAa;AAAA,MACtF,iBAAiB,yBAAyB,YAAY;AAAA,MACtD,kBAAkB,0BAA0B,aAAa;AAAA,IAC3D;AAAA,IACA,CAAC,4BAA4B,uBAAuB,cAAc,aAAa;AAAA,EACjF;AACF;;;;AC5DqC;AAIM;AAEkB;AACL;AACtB;AAEF;AACC;AACG;AACN;AAOvB,SAAS,eAAe,EAAE,QAAQ,eAAe,QAAQ,GAAuB;AACrF,QAAM,UAAU,gDAAiB,CAAC;AAClC,QAAM,6BAA6B,oFAA4C,CAAC,EAAE;AAClF,QAAM,EAAE,SAAS,sBAAsB,IAAI,yEAAuC,CAAC;AACnF,QAAM,EAAE,eAAe,aAAa,IAAI,eAAe,CAAC;AAAA,IACtD;AAAA,IACA;AAAA,EACF,CAAC;AACD,QAAM,gBAAgB,gBAAgB,CAAC,EAAE,eAAe,SAAS,QAAQ,CAAC;AAE1E,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI,aAAa,CAAC;AAAA,IAChB;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AAED,QAAM,EAAE,qCAAqC,iCAAiC,IAC5E,mBAAmB,CAAC,cAAc,aAAa;AAEjD,QAAM,wBAAwB,qBAAW,CAAC,MAAM;AAC9C,UAAM,WAAW,CAAC,OAAO;AACzB,UAAM,YAAY,CAAC,QAAQ;AAC3B,WAAO,YAAY;AAAA,EACrB,GAAG,CAAC,OAAO,QAAQ,QAAQ,MAAM,CAAC;AAElC,QAAM,MAAM,iBAAO,CAAC,MAAM;AACxB,QAAI,gBAAgB,OAAO,cAAc,iBAAiB,MAAM;AAC9D,aAAO,oCAAa,CAAC,iBAAiB,gBAAgB;AACxD,WAAO,kCAAW,CAAC,GAAG,KAAK;AAAA,EAC7B,GAAG,CAAC,iBAAiB,gBAAgB,CAAC;AAEtC,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA,0BAA0B,oCAAa,CAAC,yBAAyB,wBAAwB;AAAA,IACzF,qBAAqB,oCAAa,CAAC,oBAAoB,mBAAmB;AAAA,IAC1E;AAAA,IACA;AAAA,IACA,YAAY;AAAA,IACZ,aAAa;AAAA,IACb,6BAA6B,sBAAsB;AAAA,EACrD;AACF;;;;;;ACtEwB;AAEG;AACN;AACgB;AAEZ;AAGF;AAKhB;AAQA,SAAS,gBAAgB;AAC9B,QAAM,2BAA2B,wDAA8B,CAAC;AAChE,QAAM,gBAAgB,0CAAgB,CAAC;AAEvC,SAAO,iBAAO;AAAP,IACL,OAAO;AAAA,MACL,MAAM,SAAS,EAAE,eAAe,GAAG,GAAiB;AAClD,iCAAyB,IAAI,aAAa;AAC1C,eAAO,cAAc,GAAG,OAAO,GAAG,aAAa;AAAA,MACjD;AAAA,MACA,qBAAqB,MAA2B;AAC9C,cAAM,QAAQ,+BAAQ,CAAC,IAAI,IAAI,uCAAU,CAAC,IAAI,IAAI;AAClD,eAAO,mCAAe,CAAC,SAAS,KAAK;AAAA,MACvC;AAAA,MACA,WAAW,MAA2B;AACpC,cAAM,QAAQ,+BAAQ,CAAC,IAAI,IAAI,uCAAU,CAAC,IAAI,IAAI;AAClD,YAAI;AACF,iBAAO,0BAAS,CAAC,OAAO,KAAK;AAAA,QAC/B,SAAS,IAAI;AACX,8BAAM,CAAC,MAAM,2CAA2C,EAAE,EAAE;AAC5D,cAAI;AACF,mBAAO,0BAAS,CAAC,OAAO,KAAK;AAAA,UAC/B,SAAS,IAAI;AACX,kBAAM,IAAI,MAAM,0BAA0B,MAAM,EAAE,EAAE;AAAA,UACtD;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IACA,CAAC,0BAA0B,aAAa;AAAA,EAC1C;AACF;;;;ACsCqD;AA1F7B;AACI;AAEE;AAEoB;AAC3B;AACC;AAEE;AACE;AAGI;AACJ;AACiB;AACT;AACyB;AACL;AAElC;AACS;AACD;AACwB;AAW/C,SAAS,WAAW,OAAwB;AACjD,QAAM,EAAE,eAAe,gBAAgB,MAAM,QAAQ,UAAU,YAAY,QAAQ,IAAI;AACvF,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,EAAE,SAAS,oBAAoB,IAAI,oFAA4C,CAAC;AACtF,QAAM,EAAE,SAAS,eAAe,IAAI,yEAAuC,CAAC;AAC5E,QAAM,EAAE,YAAY,qBAAqB,IAAI,aAAa,CAAC;AAE3D,qBAAmB,CAAC,MAAM,6BAAW,CAAC,CAAC;AAEvC,QAAM,UAAU,iBAAO,CAAC,MAAM;AAC5B,QAAI;AACF,aAAO,WAAW,OAAO;AAAA,IAC3B,SAAS,GAAG;AACV,eAAS,2BAAS,CAAC,cAAc;AAAA,QAC/B,OAAO,EAAE,SAAS,8BAAO,CAAC,CAAC,IAAI,EAAE,UAAU,IAAI,OAAO,iBAAiB;AAAA,MACzE,CAAC;AACD;AAAA,IACF;AAAA,EACF,GAAG,CAAC,YAAY,UAAU,OAAO,CAAC;AAElC,QAAM,SAAS,iBAAO,CAAC,MAAM,qBAAqB,OAAO,GAAG,CAAC,sBAAsB,OAAO,CAAC;AAC3F,QAAM,eAAe,iBAAO,CAAC,MAAM,wCAAe,CAAC,MAAM,GAAG,CAAC,MAAM,CAAC;AACpE,QAAM,gBAAgB,iBAAO,CAAC,MAAM,yCAAgB,CAAC,MAAM,GAAG,CAAC,MAAM,CAAC;AAEtE,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI,cAAc,CAAC;AAAA,IACjB,QAAQ;AAAA,IACR;AAAA,IACA,SAAS;AAAA,EACX,CAAC;AAED,8BAA4B,CAAC,YAAY,IAAI,YAAU,OAAO,OAAO,CAAC;AAEtE,QAAM,oBAAuC;AAAA,IAC3C;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AAEA,MAAI,+BAA+B,QAAS,QAAO,oCAAC,cAAmB,EAAnB,EAAoB,MAAM,SAAS;AAEvF,SACE,qCAAC,kBAAkB,IAAC,OAAO,mBACzB;AAAA,wCAAC,+BAAW,IAAC,mBAAiB,MAAC,SAAQ,OAAM;AAAA,IAC7C;AAAA,MAAC,mBAAI;AAAJ;AAAA,QACC,YAAY,aAAa,CAAC;AAAA,QAC1B,cAAc;AAAA,UACZ,WAAW;AAAA,QACb;AAAA,QACA,UAAS;AAAA,QACT,cAAY;AAAA,QACZ,QACE,qCAAC,wBAAS,IAAC,eAAc,OACvB;AAAA,8CAAC,0BAAM,IAAC,UAAU,GAAG,SAAS,UAAU,SAAQ,WAAU,oBAE1D;AAAA,UACA;AAAA,YAAC,0BAAM;AAAN;AAAA,cACC,UAAU;AAAA,cACV,aAAW;AAAA,cACX,SAAS,MACP,WAAW;AAAA,gBACT;AAAA,gBACA;AAAA,gBACA;AAAA,gBACA,QAAQ;AAAA,cACV,CAAC;AAAA,cAEJ;AAAA;AAAA,UAED;AAAA,WACF;AAAA,QAGF;AAAA,8CAAC,iBAAsB,EAAtB,EAAuB,MAAY,QAAgB;AAAA,UACpD,qCAAC,wBAA6B,EAA7B,EACE;AAAA,4BAAgB,oCAAC,8BAAmC,EAAnC,EAAoC,QAAgB,IAAK;AAAA,YAC3E,oCAAC,wBAA6B,EAA7B,EAA8B;AAAA,YAC/B,oCAAC,uBAA4B,EAA5B,EAA6B;AAAA,YAC9B,oCAAC,oBAAyB,EAAzB,EAA0B;AAAA,YAC1B,UAAU,oCAAC,cAAmB,EAAnB,EAAoB,MAAM,SAAS,IAAK;AAAA,YACpD,oCAAC,cAAmB,EAAnB,EAAoB,KAAU;AAAA,aACjC;AAAA;AAAA;AAAA,IACF;AAAA,KACF;AAEJ;;;;ACtIqE;AACzC;AAMrB,SAAS,mBAAmB;AAAA,EACjC;AAAA,EACA;AACF,GAAgD;AAC9C,SAAO;AAAA,IACL,QAAQ,oCAAc;AAAd,IACR,QAAQ,qCAAe,CAAC;AAAA,IACxB,SAAS;AAAA,MACP,aAAa;AAAA,MACb,cAAc;AAAA,IAChB;AAAA,EACF;AACF;AAOO,SAAS,aAAa,EAAE,MAAM,gBAAgB,MAAM,GAAqB;AAC9E,QAAM,kBAAkB,mBAAmB,EAAE,SAAS,gBAAgB,UAAU,KAAK,CAAC;AACtF,SAAO,KAAK,YAAY,OAAO,eAAe;AAC9C,+BAAW,CAAC;AACd;;;;;;AC9B4B;AAGH;AASlB,SAAS,wBAAwB,cAAmC;AACzE,QAAM,QAAQ,8BAAW,CAAC,YAAY;AACtC,MAAI,+BAAQ,CAAC,MAAM,OAAO,EAAG,OAAM,IAAI,MAAM,2BAA2B;AACxE,SAAO,MAAM;AACf;;;;AClBwB;AAEsC;AAEtB;AACJ;AACI;AAEjC,SAAS,6BAA6B;AAC3C,QAAM,EAAE,QAAQ,MAAM,IAAI,oEAAuB,CAAC;AAClD,QAAM,eAAe,iDAAmB,CAAC,IAAI,SAAS;AAEtD,MAAI,CAAC,aAAc,OAAM,IAAI,MAAM,0CAA0C;AAE7E,QAAM,UAAU,uBAAuB,CAAC,YAAY;AAEpD,SAAO,iBAAO;AAAP,IACL,OAAO;AAAA,MACL,SAAS,SAAS,YAAY;AAAA,MAC9B;AAAA,MACA;AAAA,MACA;AAAA,MACA,aAAa,gCAAS,CAAC,SAAS,WAAW,IACvC,4CAAqB,CAAC,kCAAW,CAAC,SAAS,WAAW,EAAE,IAAI,OAAK,OAAO,CAAC,CAAC,CAAC,IAC3E;AAAA,MACJ,OAAO,SAAS;AAAA,IAClB;AAAA,IACA,CAAC,QAAQ,SAAS,cAAc,KAAK;AAAA,EACvC;AACF;AAEO,SAAS,uBAAuB;AACrC,QAAM,EAAE,QAAQ,MAAM,IAAI,oEAAuB,CAAC;AAClD,QAAM,YAAY,iDAAmB,CAAC,IAAI,WAAW;AACrD,QAAM,UAAU,iDAAmB,CAAC,IAAI,KAAK;AAC7C,QAAM,YAAY,iDAAmB,CAAC,IAAI,WAAW;AACrD,QAAM,cAAc,iDAAmB,CAAC,OAAO,aAAa;AAE5D,SAAO,iBAAO;AAAP,IACL,OAAO;AAAA,MACL,WAAW,cAAc;AAAA,MACzB;AAAA,MACA;AAAA,MACA;AAAA,MACA,aAAa,4CAAqB,CAAC,kCAAW,CAAC,WAAW,EAAE,IAAI,OAAK,OAAO,CAAC,CAAC,CAAC;AAAA,MAC/E,OAAO,SAAS;AAAA,IAClB;AAAA,IACA,CAAC,WAAW,QAAQ,SAAS,WAAW,aAAa,KAAK;AAAA,EAC5D;AACF;;;;ACjDkC;AACN;AAEW;AAEf;AAEK;AACH;AACA;AAEiB;AACb;AACsB;AAE7C,SAAS,iBAAiB;AAC/B,QAAM,CAAC,WAAW,YAAY,IAAI,kBAAQ,CAAC,KAAK;AAEhD,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,EAAE,SAAS,QAAQ,SAAS,cAAc,aAAa,MAAM,IACjE,0BAA0B,CAAC;AAC7B,QAAM,EAAE,UAAU,YAAY,qBAAqB,IAAI,aAAa,CAAC;AACrE,QAAM,0BAA0B,6DAAmC,CAAC;AAEpE,SAAO,iBAAO,CAAC,MAAM;AACnB,WAAO;AAAA,MACL;AAAA,MACA,eAAe;AAAA,MACf;AAAA,MACA;AAAA,MACA;AAAA,MACA,SAAS,QAAQ;AAAA,MACjB,oBAAoB;AAClB,aAAK,2BAAS,CAAC,MAAM,qBAAqB;AAC1C,oBAAY,CAAC;AAAA,UACX,MAAM;AAAA,UACN,gBAAgB;AAAA,UAChB;AAAA,QACF,CAAC;AAAA,MACH;AAAA,MACA,MAAM,aAAa;AACjB,qBAAa,IAAI;AACjB,aAAK,2BAAS,CAAC,MAAM,0BAA0B;AAE/C,cAAM,KAAK,qBAAqB,QAAQ,GAAG;AAE3C,YAAI;AACF,gBAAM,gBAAgB,wBAAwB,uCAAU,CAAC,QAAQ,GAAG,GAAG,WAAW;AAClF,gBAAM,WAAW,MAAM,SAAS,EAAE,IAAI,cAAc,CAAC;AAErD,gBAAM,aAAa,SAAS,OAAO;AAEnC,uBAAa,KAAK;AAElB,sBAAY,CAAC;AAAA,YACX,MAAM,EAAE,KAAK,uCAAU,CAAC,UAAU,EAAE;AAAA,YACpC,gBAAgB;AAAA,YAChB;AAAA,UACF,CAAC;AAAA,QACH,SAAS,GAAG;AACV,iBAAO,SAAS,2BAAS,CAAC,cAAc;AAAA,YACtC,OAAO,EAAE,SAAS,8BAAO,CAAC,CAAC,IAAI,EAAE,UAAU,IAAI,OAAO,iBAAiB;AAAA,UACzE,CAAC;AAAA,QACH;AAAA,MACF;AAAA,IACF;AAAA,EACF,GAAG;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,QAAQ;AAAA,IACR;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC;AACH;;;;ACvEwB;AATO;AACJ;AAEI;AAExB,SAAS,cAAc;AAC5B,QAAM,EAAE,SAAS,eAAe,WAAW,YAAY,mBAAmB,QAAQ,QAAQ,IACxF,cAAc,CAAC;AAEjB,MAAI,UAAW,QAAO,oCAAC,cAAc,IAAC,QAAO,SAAQ;AAErD,SACE;AAAA,IAAC,UAAU;AAAV;AAAA,MACC,MAAM,WAAW;AAAA,MACjB;AAAA,MACA,QAAQ,UAAU;AAAA,MAClB;AAAA,MACA,UAAU;AAAA,MACV;AAAA;AAAA,EACF;AAEJ;;;;;;;;;;;;;;;;;;;;ACdI;AAPuB;AAKpB,SAAS,+BAA+B,EAAE,QAAQ,GAAoB;AAC3E,SACE;AAAA,IAAC,4BAAU;AAAV;AAAA,MACC,gBAAgB,gDACd,WAAW,SACb;AAAA;AAAA;AAAA,MAGA,cAAa;AAAA,MACb,IAAG;AAAA;AAAA,EACL;AAEJ;;;;ACQI;AAzBgC;AACR;AAIK;AAEC;AACC;AAEY;AAQxC,SAAS,qCAAqC;AAAA,EACnD;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAwC;AACtC,SACE,6DACE;AAAA;AAAA,MAAC,4CAAiB;AAAjB;AAAA,QACC,SAAS,QAAQ;AAAA,QACjB,MAAM,gCAAU,CAAC,wCAAW,CAAC,QAAQ,OAAO,CAAC;AAAA;AAAA,IAC/C;AAAA,IACA,oCAAC,2CAAgB,IAAC,SAAS,QAAQ,SAAS,WAAW,kCAAO,CAAC,SAAS;AAAA,IACxE;AAAA,MAAC,oDAAkB;AAAlB;AAAA,QACC;AAAA,QACA,qBAAqB;AAAA,QACrB,eAAe,MAAM,cAAc,EAAE,aAAa,QAAQ,SAAS,QAAQ,QAAQ,CAAC;AAAA;AAAA,IACtF;AAAA,IACA,oCAAC,QAAG;AAAA,IACJ,oCAAC,8BAA8B,IAAC,SAAS,QAAQ,SAAS;AAAA,KAC5D;AAEJ;;;;;;ACzBS;AAfmB;AACmB;AAKxC,SAAS,eAAe,EAAE,QAAQ,GAAG,KAAK,GAAwB;AACvE,QAAM,aAAa,SACf;AAAA,IACE,MAAM;AAAA,IACN,IAAI;AAAA,IACJ,YAAY;AAAA,IACZ,YAAY;AAAA,EACd,IACA,CAAC;AACL,SAAO,oCAAC,eAAG,IAAC,IAAG,YAAW,UAAS,WAAW,GAAG,MAAM,OAAO,EAAE,GAAG,WAAW,GAAG;AACnF;AAMO,SAAS,mBAAmB,EAAE,aAAa,GAAG,MAAM,GAA4B;AACrF,SAAO,gBAAgB,oCAAW,CAAC,QAAQ,oCAAC,eAAG,IAAE,GAAG,OAAO,IAAK,oCAAC,gBAAI,IAAE,GAAG,OAAO;AACnF;AACO,SAAS,wBAAwB,OAAiB;AACvD,SAAO,oCAAC,eAAG,IAAC,IAAG,YAAW,OAAM,oBAAoB,GAAG,OAAO;AAChE;AAEO,SAAS,wBAAwB,OAAkB;AACxD,SAAO,oCAAC,gBAAI,IAAC,UAAS,cAAa,YAAW,YAAY,GAAG,OAAO;AACtE;;;;ACpBS;AAXgC;AACgC;AAOlE;AAEP,SAAS,SAAS,MAAiC;AACjD,SAAO,4DAAG,gBAAK;AACjB;AAOO,SAAS,0BAA0B,OAAuC;AAC/E,QAAM,EAAE,KAAK,UAAU,SAAS,KAAK,IAAI;AAEzC,UAAQ,IAAI,MAAM;AAAA,IAChB,KAAK,oCAAW,CAAC;AACf,aAAO,SAAS,MAAM;AAAA,IACxB,KAAK,oCAAW,CAAC;AACf,aAAO,SAAS,OAAO;AAAA,IACzB,KAAK,oCAAW,CAAC;AACf,aAAO,SAAS,IAAI,MAAM,SAAS,CAAC;AAAA,IACtC,KAAK,oCAAW,CAAC;AACf,aAAO,SAAS,IAAI,IAAI,MAAM,SAAS,CAAC,EAAE;AAAA,IAC5C,KAAK,oCAAW,CAAC;AACf,UAAI,aAAa,YAAY;AAC3B,cAAM,MAAM,kCAAY,CAAC,IAAI,MAAM;AACnC,YAAI,QAAQ,KAAK,GAAG,EAAG,QAAO,SAAS,KAAK,UAAU,GAAG,CAAC;AAAA,MAC5D;AACA,aAAO,SAAS,KAAK,gCAAU,CAAC,IAAI,MAAM,CAAC,EAAE;AAAA,IAC/C,KAAK,oCAAW,CAAC;AACf,aAAO,SAAS,MAAM;AAAA,IACxB,KAAK,oCAAW,CAAC;AACf,aAAO,SAAS,QAAQ,mCAAU,CAAC,IAAI,OAAO,QAAQ,CAAC,EAAE;AAAA,IAC3D,KAAK,oCAAW,CAAC;AACf,aAAO,SAAS,OAAO,mCAAU,CAAC,IAAI,OAAO,QAAQ,CAAC,EAAE;AAAA,IAC1D,KAAK,oCAAW,CAAC;AACf,aAAO,SAAS,MAAM,mCAAU,CAAC,IAAI,OAAO,QAAQ,CAAC,EAAE;AAAA,IACzD,KAAK,oCAAW,CAAC;AAAA,IACjB,KAAK,oCAAW,CAAC;AACf,aAAO,SAAS,yCAAiB,CAAC,GAAG,CAAC;AAAA,IACxC,KAAK,oCAAW,CAAC;AACf,aAAO,SAAS,IAAI,IAAI,KAAK,IAAI,OAAK,mCAAU,CAAC,GAAG,QAAQ,CAAC,EAAE,KAAK,IAAI,CAAC,GAAG;AAAA,IAC9E,KAAK,oCAAW,CAAC;AACf,aACE,oCAAC,cAAc,IAAC,QACb,iBAAO,QAAQ,IAAI,IAAI,EAAE,IAAI,CAAC,CAAC,KAAK,KAAK,MACxC,qCAAC,kBAAkB,IAAC,aAAa,MAAM,MACrC;AAAA,6CAAC,uBAAuB,IAAE;AAAA;AAAA,UAAI;AAAA,WAAC;AAAA,QAC/B,oCAAC,uBAAuB,IACtB,8CAAC,6BAA0B,KAAK,OAAO,UAAS,YAAW,QAAQ,OAAO,GAC5E;AAAA,WAJgD,GAKlD,CACD,GACH;AAAA,IAEJ,KAAK,oCAAW,CAAC;AACf,aAAO,SAAS,IAAI,IAAI,IAAI,GAAG;AAAA,IACjC,KAAK,oCAAW,CAAC;AACf,aAAO,SAAS,KAAK,IAAI,IAAI,GAAG;AAAA,EACpC;AACF;;;;AClBc;AAlDsB;AAGgB;AAQ7C;AACoB;AAEe;AAEnC,SAAS,kBAAkB,OAG/B;AACD,QAAM,EAAE,SAAS,OAAO,IAAI;AAE5B,QAAM,CAAC,MAAM,OAAO,IAAI,kBAAQ,CAAqB;AACrD,QAAM,CAAC,YAAY,aAAa,IAAI,kBAAQ,CAAqB;AACjE,QAAM,CAAC,eAAe,gBAAgB,IAAI,kBAAQ,CAAqB;AACvE,QAAM,CAAC,iBAAiB,kBAAkB,IAAI,kBAAQ,CAAqB;AAE3E,qBAAS,CAAC,MAAM;AACd,YAAQ,2BAA2B,CAAC,EAAE,SAAS,OAAO,CAAC,CAAC;AAAA,EAC1D,GAAG,CAAC,SAAS,MAAM,CAAC;AAEpB,qBAAS,CAAC,MAAM;AACd,kBAAc,WAAW,CAAC,OAAO,KAAK,IAAI,CAAC;AAC3C,qBAAiB,WAAW,CAAC,OAAO,KAAK,OAAO,CAAC;AACjD,uBAAmB,gBAAgB,CAAC,OAAO,KAAK,UAAU,CAAC,CAAC;AAAA,EAC9D,GAAG,CAAC,MAAM,CAAC;AAEX,MAAI,CAAC,QAAS,QAAO;AAErB,SACE,oCAAC,eAAG,IAAC,WAAU,SACb;AAAA,IAAC,iBAAK;AAAL;AAAA,MACC,QAAO;AAAA,MACP,eAAc;AAAA,MACd,aAAY;AAAA,MACZ,cAAa;AAAA,MAEb;AAAA,4CAAC,eAAG,IAAC,YAAW,0BAAyB,WAAU,UAAS,IAAG,YAC7D,+CAAC,eAAG,IAAC,UAAS,QAAO,YAAW,OAAM,IAAG,YACvC;AAAA,+CAAC,kBAAM,IAAC,YAAW,UAAS,gBAAe,iBACzC;AAAA,gDAAC,kBAAM,CAAC,IAAP,EAAU,WAAU,YAAY,sBAAW;AAAA,YAC5C,qCAAC,kBAAM,CAAC,MAAP,EAAY,YAAW,OAAM,WAAU,cACrC;AAAA;AAAA,cAAc;AAAA,cAAE;AAAA,eACnB;AAAA,aACF;AAAA,UACA,oCAAC,mBAAO,IAAC,IAAG,YAAW;AAAA,UACvB,oCAAC,eAAG,IACF,8CAAC,yBAAyB,IAAC,KAAK,SAAS,UAAU,YAAY,GACjE;AAAA,WACF,GACF;AAAA,QACC,OAAO,oCAAC,6BAAU,IAAC,MAAY,IAAK;AAAA;AAAA;AAAA,EACvC,GACF;AAEJ;;;;ACzCI;AAxBoB;AAIS;AACE;AAGY;AACb;AAQ3B,SAAS,sCAAsC;AAAA,EACpD;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA+C;AAC7C,SACE,6DACE;AAAA,wCAAC,iBAAiB,IAAC,SAAS,QAAQ,SAAS,QAAQ,QAAQ,QAAQ;AAAA,IACrE,oCAAC,2CAAgB,IAAC,SAAS,QAAQ,SAAS,WAAW,kCAAO,CAAC,SAAS;AAAA,IACxE;AAAA,MAAC,oDAAkB;AAAlB;AAAA,QACC;AAAA,QACA,qBAAqB;AAAA,QACrB,eAAe,MACb,cAAc;AAAA,UACZ,aAAa;AAAA,UACb,SAAS,QAAQ;AAAA,UACjB,QAAQ,QAAQ;AAAA,QAClB,CAAC;AAAA;AAAA,IAEL;AAAA,IACA,oCAAC,QAAG;AAAA,IACJ,oCAAC,8BAA8B,IAAC,SAAS,QAAQ,SAAS;AAAA,KAC5D;AAEJ;;;;ACqBI;AA/DmB;AAYhB;AACqB;AAES;AACD;AAEQ;AACS;AACC;AA2B/C,SAAS,qBAAqB;AAAA,EACnC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA8B;AAC5B,qBAAmB,CAAC,MAAM,6BAAW,CAAC,CAAC;AAEvC,MAAI,CAAC,MAAO,QAAO;AACnB,MAAI,CAAC,iDAAqB,CAAC,WAAW,EAAG,QAAO;AAChD,MAAI,CAAC,OAAQ,QAAO;AAEpB,SACE,qCAAC,iEAA2B,IAC1B;AAAA,wCAAC,kDAAoB,IAAC,MAAM,QAAQ,QAAgB;AAAA,IAEnD,6CAAiB,CAAC,WAAW,KAAK,QAAQ,gBAAgB,UACzD;AAAA,MAAC,oCAAoC;AAApC;AAAA,QACC;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA;AAAA,IACF;AAAA,IAED,mDAAuB,CAAC,WAAW,KAAK,QAAQ,gBAAgB,gBAC/D;AAAA,MAAC,qCAAqC;AAArC;AAAA,QACC;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA;AAAA,IACF;AAAA,IAEF,oCAAC,gCAAM,IAAC;AAAA,KACV;AAEJ;;;;ACnF0E;AAMnE,SAAS,6BAA6B;AAAA,EAC3C;AAAA,EACA;AACF,GAA+D;AAC7D,SAAO;AAAA,IACL,QAAQ,oCAAc;AAAd,IACR,QAAQ,qCAAe,CAAC;AAAA,IACxB,SAAS,EAAE,kBAAkB,SAAS,mBAAmB,SAAS;AAAA,EACpE;AACF;;;;ACf4B;AAEiB;AAOtC,SAAS,yBAAyB;AAAA,EACvC;AAAA,EACA;AAAA,EACA;AACF,GAAiC;AAC/B,QAAM,kBAAkB,4BAA4B,CAAC,EAAE,SAAS,gBAAgB,UAAU,KAAK,CAAC;AAChG,SAAO,KAAK,YAAY,OAAO,eAAe;AAC9C,+BAAW,CAAC;AACd;;;;;;ACnB2B;AAEC;AAQrB;AAEA,SAAS,YAAY,SAAiB,YAA6C;AACxF,QAAM,OAAO,wCAAW,CAAC,OAAO;AAChC,SAAO;AAAA,IACL,WAAW,mCAAkB,CAAC,EAAE,YAAY,aAAa,gCAAU,CAAC,IAAI,EAAE,CAAC,EAAE;AAAA,IAC7E,WAAW,kCAAiB,CAAC,6BAAY,CAAC,UAAU,CAAC;AAAA,EACvD;AACF;AAEO,SAAS,0BACd,SACA,QACA,YACe;AACf,QAAM,YAAY,sDAAkB,CAAC;AAAA,IACnC;AAAA,IACA;AAAA,IACA;AAAA,EACF,CAAC,EAAE;AAEH,SAAO;AAAA,IACL;AAAA,IACA,WAAW,kCAAiB,CAAC,6BAAY,CAAC,UAAU,CAAC;AAAA,EACvD;AACF;;;;ACnC4B;AAEkC;AAErC;AAE8B;AAC3B;AAEY;AAEjC,MAAM,iDAAiD,6BAAW,CAAC,GAAI;AAEvE,SAAS,uCAAuC;AACrD,QAAM,UAAU,wDAAuB,CAAC;AACxC,SAAO,qBAAW;AAAX,IACL,CAAC,EAAE,SAAS,OAAO,MAA4D;AAC7E,UAAI,CAAC,WAAW,QAAQ,SAAS,SAAU,QAAO;AAElD,YAAM,aAAa,uCAAsB,CAAC,QAAQ,aAAa;AAE/D,UAAI,+BAAQ,CAAC,OAAO,GAAG;AACrB,eAAO,WAAW,CAAC,SAAS,UAAU;AAAA,MACxC,OAAO;AACL,YAAI,CAAC,OAAQ,OAAM,IAAI,MAAM,4CAA4C;AAGzE,eAAO,yBAAyB,CAAC,SAAS,QAAQ,UAAU;AAAA,MAC9D;AAAA,IACF;AAAA,IACA,CAAC,OAAO;AAAA,EACV;AACF;;;;;;;AChCoB;AAIuB;AAEpC,eAAe,8BACpB,iBACc;AACd,SAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtC,aAAS,2BAA2B,KAAmD;AACrF,UAAI,wBAAO,CAAC,IAAI,iBAAiB,eAAe,GAAG;AACjD,0CAAS,CAAC,YAAY,6BAA6B,0BAA0B;AAC7E,0CAAS,CAAC,YAAY,uCAAuC,qBAAqB;AAClF,gBAAQ,IAAI,iBAAiB;AAAA,MAC/B;AAAA,IACF;AACA,sCAAS,CAAC,UAAU,6BAA6B,0BAA0B;AAE3E,aAAS,sBAAsB,KAA6D;AAC1F,UAAI,wBAAO,CAAC,IAAI,iBAAiB,eAAe,GAAG;AACjD,0CAAS,CAAC,YAAY,uCAAuC,qBAAqB;AAClF,0CAAS,CAAC,YAAY,6BAA6B,0BAA0B;AAC7E,eAAO,IAAI,MAAM,sCAAsC,CAAC;AAAA,MAC1D;AAAA,IACF;AACA,sCAAS,CAAC,UAAU,uCAAuC,qBAAqB;AAAA,EAClF,CAAC;AACH;;;;AC5ByB;AAIF;AAEG;AAEI;AACI;AAI3B;AAEuC;AAMvC,SAAS,qBAAqB;AAAA,EACnC;AAAA,EACA;AACF,GAA2B;AACzB,QAAM,4BAA4B,oCAAoC,CAAC;AAEvE,QAAM,EAAE,WAAW,IAAI,wCAAa,CAAC;AACrC,QAAM,iBAAiB,gDAAiB,CAAC;AAEzC,QAAM,CAAC,WAAW,YAAY,IAAI,kBAAQ,CAAC,KAAK;AAEhD,QAAM,cAAc,WAAW;AAAA,IAC7B,MAAM,SAAS,iBAAkC;AAC/C,mBAAa,IAAI;AACjB,WAAK,2BAAS,CAAC,MAAM,0BAA0B,EAAE,MAAM,WAAW,CAAC;AAEnE,YAAM,mBAAmB,0BAA0B,eAAe;AAElE,UAAI,CAAC,kBAAkB;AACrB,4BAAM,CAAC,MAAM,0CAA0C;AACvD,aAAK,2BAAS,CAAC,MAAM,kDAAkD;AACvE;AAAA,MACF;AACA,YAAM,8CAA8C,CAAC;AACrD,mBAAa,KAAK;AAElB,6BAAuB,gBAAgB;AAAA,IACzC;AAAA,IAEA,MAAM,OAAO,iBAAkC;AAC7C,WAAK,2BAAS,CAAC,MAAM,0BAA0B,EAAE,MAAM,SAAS,CAAC;AACjE,qBAAe,4BAA4B,eAAe;AAC1D,UAAI;AACF,cAAM,mBAAmB,MAAM,6BAA6B,CAAC,eAAe;AAC5E,+BAAuB,gBAAgB;AAAA,MACzC,SAAS,GAAG;AACV,+BAAuB;AAAA,MACzB;AAAA,IACF;AAAA,EACF,CAAC;AAED,SAAO,EAAE,WAAW,YAAY;AAClC;;;;;;AC/DyC;AACkB;AACjC;AAKnB;AAK8B;AACW;AAEzC,SAAS,iCAAiC;AAC/C,QAAM,EAAE,cAAc,YAAY,IAAI,oEAA+B,CAAC;AAEtE,MAAI,CAAC,aAAc,QAAO;AAE1B,MAAI,6CAAiB,CAAC,WAAW,GAAG;AAClC,UAAM,mBAAmB,iDAA4B,CAAC,YAAY;AAClE,UAAM,EAAE,SAAS,QAAQ,IAAI;AAC7B,UAAM,UAAU,iBAAiB,YAAY;AAC7C,WAAO;AAAA,MACL,aAAa;AAAA,MACb;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,EACF;AACA,MAAI,mDAAuB,CAAC,WAAW,GAAG;AACxC,UAAM,mBAAmB,sDAAiC,CAAC,YAAY;AACvE,UAAM,EAAE,SAAS,SAAS,OAAO,IAAI;AACrC,UAAM,UAAU,iBAAiB,YAAY;AAC7C,WAAO;AAAA,MACL,aAAa;AAAA,MACb;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,EACF;AACA,SAAO;AACT;AAEO,SAAS,8BAA8B;AAC5C,QAAM,EAAE,cAAc,MAAM,IAAI,oEAA+B,CAAC;AAChE,MAAI,CAAC,MAAO,OAAM,IAAI,MAAM,kDAAkD;AAC9E,MAAI,CAAC,aAAc,OAAM,IAAI,MAAM,uBAAuB;AAE1D,QAAM,EAAE,WAAW,YAAY,IAAI,oBAAoB,CAAC;AAAA,IACtD,wBAAwB,sBAAoB;AAC1C,8BAAwB,CAAC,EAAE,gBAAgB,cAAc,OAAO,MAAM,iBAAiB,CAAC;AAAA,IAC1F;AAAA,IACA,wBAAwB;AAAA,EAC1B,CAAC;AAED,WAAS,yBAAyB;AAChC,QAAI,CAAC,gBAAgB,CAAC,MAAO;AAC7B,SAAK,2BAAS,CAAC,MAAM,0BAA0B;AAC/C,4BAAwB,CAAC,EAAE,gBAAgB,cAAc,OAAO,MAAM,SAAS,CAAC;AAAA,EAClF;AAEA,SAAO,EAAE,WAAW,aAAa,uBAAuB;AAC1D;;;;AC5CI;AArBkC;AAEV;AACS;AAI9B;AACyC;AAEzC,SAAS,2BAA2B;AACzC,QAAM,EAAE,cAAc,aAAa,OAAO,OAAO,IAAI,oEAA+B,CAAC;AACrF,QAAM,EAAE,WAAW,aAAa,uBAAuB,IAAI,2BAA2B,CAAC;AACvF,QAAM,UAAU,8BAA8B,CAAC;AAE/C,MAAI,CAAC,gBAAgB,CAAC,MAAO,QAAO;AACpC,MAAI,CAAC,iDAAqB,CAAC,WAAW,EAAG,QAAO;AAChD,MAAI,CAAC,OAAQ,QAAO;AACpB,MAAI,CAAC,QAAS,QAAO;AAErB,SACE,6DAEE;AAAA,wCAAC,+BAAW,IAAC,mBAAiB,MAAC;AAAA,IAC/B;AAAA,MAAC,oBAAoB;AAApB;AAAA,QACC;AAAA,QACA;AAAA,QACA,eAAe;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA;AAAA,IACF;AAAA,KACF;AAEJ;;;;AClBI;AAjBqB;AAED;AAEY;AAE7B,SAAS,oCAAoC;AAClD,QAAM,CAAC,cAAc,eAAe,IAAI,kBAAQ,CAAC,KAAK;AAEtD,qBAAmB,CAAC,MAAM;AACxB,oBAAgB,IAAI;AACpB,WAAO,SAAS,EAAE,KAAK,GAAG,UAAU,SAAS,CAAC;AAAA,EAChD,CAAC;AAED,MAAI,CAAC,aAAc,QAAO;AAE1B,SACE,oCAAC,2BAAO,IAAC,SAAQ,WAAU,IAAG,YAAW,OAAM,4BAA2B,OAAM,QAAO,gGAEvF;AAEJ;;;;ACPI;AAdiB;AAEyB;AACjB;AACU;AAKhC,SAAS,eAAe,OAA4B;AACzD,QAAM,EAAE,QAAQ,IAAI;AACpB,QAAM,EAAE,MAAM,kBAAkB,IAAI,iDAAsB,CAAC;AAE3D,SACE;AAAA,IAAC,wBAAI;AAAJ;AAAA,MACC,SAAS,MACP,uCAAY;AAAZ,QACE,sDAA6B,CAAC,EAAE,MAAM,SAAS,YAAY,kBAAkB,CAAC;AAAA,MAChF;AAAA,MAEF,MAAK;AAAA,MACL,SAAQ;AAAA,MACR,WAAU;AAAA,MAET;AAAA;AAAA,EACH;AAEJ;;;;ACZM;AAfgC;AAEd;AAEO;AAQxB,SAAS,IAAI,EAAE,MAAM,MAAM,MAAM,GAAgC;AACtE,SACE,qCAAC,iBAAK,IAAC,KAAI,YACT;AAAA,yCAAC,kBAAM,IAAC,YAAW,UAAS,gBAAe,iBAAgB,YAAY,GACpE;AAAA,cAAQ,oCAAC,2BAAO,IAAE,gBAAK;AAAA,MACvB,QAAQ,oCAAC,2BAAO,IAAE,gBAAK;AAAA,OAC1B;AAAA,IAEC,MAAM,YAAY,MAAM,cACvB,oCAAC,cAAc,IAAC,SAAS,OAAO,IAEhC,oCAAC,kBAAM,CAAC,MAAP,EAAY,SAAQ,SAAQ,WAAU,WAAU,WAAU,aACxD,iBACH;AAAA,KAEJ;AAEJ;;;;ACrBI;AAR+B;AACQ;AAEvB;AAEb,SAAS,gBAA0C;AACxD,QAAM,qBAAqB,oDAA0B,CAAC;AACtD,SAAO,oBAAoB,aACzB,oCAAC,GAAG,IAAC,MAAK,cAAa,OAAO,2CAAkB,CAAC,mBAAmB,UAAU,GAAG,IAC/E;AACN;;;;ACyBM;AAnCwB;AAEqB;AACpB;AAEE;AAS1B,SAAS,sBAAsB;AAAA,EACpC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA+B;AAC7B,SACE;AAAA,IAAC,kBAAM;AAAN;AAAA,MACC,GAAE;AAAA,MACF,cAAa;AAAA,MACb,KAAI;AAAA,MACJ,YAAW;AAAA,MACX,QAAO;AAAA,MACP,QACE,UACI;AAAA,QACE,QAAQ;AAAA,MACV,IACA;AAAA,MAGN;AAAA;AAAA,UAAC,sCAAkB;AAAlB;AAAA,YACC,MAAK;AAAA,YACL,UAAS;AAAA,YACT,OAAO,GAAG,yCAAgB,CAAC,iBAAiB,YAAY,CAAC,GACvD,eAAe,KAAK,YAAY,KAAK,EACvC;AAAA,YACA,gBAAe;AAAA;AAAA,QACjB;AAAA,QACA,qCAAC,iBAAK,IAAC,KAAI,YACT;AAAA,8CAAC,yBAAK,IAAE,0BAAgB,cAAa;AAAA,UACrC,qCAAC,2BAAO,IACL;AAAA,iDAAc,CAAC,iBAAiB,eAAe,IAAI,CAAC;AAAA,YACpD,eAAe,IAAI,YAAY,KAAK;AAAA,aACvC;AAAA,WACF;AAAA;AAAA;AAAA,EACF;AAEJ;;;;;AChBY;AApC+C;AAEvB;AACH;AAEV;AAEH;AACuB;AAOpC,SAAS,qBAAqB,OAA8B;AACjE,QAAM,EAAE,KAAK,OAAO,GAAG,KAAK,IAAI;AAChC,QAAM,qBAAqB,oDAA0B,CAAC;AACtD,QAAM,EAAE,MAAM,iBAAiB,IAAI,2CAAmB,CAAC,kBAAkB;AACzE,QAAM,QAAQ,8BAAa,CAAC,6BAAM,CAAC,KAAK,KAAK,KAAK,CAAC;AACnD,QAAM,WAAW,mCAAU,CAAC,KAAK;AAEjC,MAAI,CAAC,sBAAsB,mBAAmB,WAAW,gBAAiB,QAAO;AAEjF,MAAI,CAAC,kBAAkB;AACrB,wBAAM,CAAC;AAAA,MACL,oCAAoC,mBAAmB,YAAY,uCACnC,uCAAgB;AAAhB,QAC5B,mBAAmB;AAAA,QACnB,mBAAmB;AAAA,MACrB,CAAC;AAAA,IACL;AAAA,EACF;AAEA,SACE;AAAA,IAAC,GAAG;AAAH;AAAA,MACC,MAAM,4DAAG,4BAAkB,KAAK,KAAK,EAAE,QAAQ,WAAU;AAAA,MACzD,MAAM,wCAAe,CAAC,KAAK;AAAA,MAC3B,OAAO;AAAA,MACN,GAAG;AAAA;AAAA,EACN;AAEJ;;;;AClBkC;AAxBH;AAEG;AAEV;AAEmB;AAEN;AAErC,SAAS,0BAA0B,OAA6C;AAC9E,QAAM,qBAAqB,oDAA0B,CAAC;AAEtD,MAAI,CAAC,sBAAsB,mBAAmB,WAAW,iBAAiB;AACxE,WAAO;AAAA,EACT;AACA,QAAM,UAAU,mBAAmB,aAAa,SAAS;AAEzD,SACE,4DACG,oBACC,oCAAC,iBAAK,IAAC,KAAI,YAAY,GAAG,OACvB,6BAAmB,aAAa,IAAI,CAAC,KAAK,UAAU;AACnD,WACE,oCAAC,cAAQ,IAAC,UAAU,4DAAE,qBAAO,GAC3B,8CAAC,oBAAoB,IAAC,KAAU,OAAc,KADT,GAAG,GAAG,IAAI,KAAK,EAEtD;AAAA,EAEJ,CAAC,GACH,IAEA,oCAAC,2BAAO,IAAC,8EAAgE,GAE7E;AAEJ;AAEO,MAAM,wBAAwB,cAAI,CAAC,yBAAyB;;;;ACL7D;AAhCmB;AAEH;AAEA;AAEgB;AACL;AACH;AACQ;AACK;AAEL;AAEtC,SAAS,8BAA8B;AACrC,QAAM,qBAAqB,oDAA0B,CAAC;AACtD,QAAM,EAAE,uBAAuB,IAAI,qBAAqB,CAAC;AAEzD,MAAI,CAAC,sBAAsB,mBAAmB,WAAW,gBAAiB,QAAO;AACjF,QAAM,EAAE,iBAAiB,cAAc,cAAc,WAAW,IAAI;AAEpE,SACE;AAAA,IAAC,iBAAK;AAAL;AAAA,MACC,QAAO;AAAA,MACP,cAAa;AAAA,MACb,IAAG;AAAA,MACH,IAAG;AAAA,MACH,IAAG;AAAA,MACH,KAAI;AAAA,MACJ,OAAM;AAAA,MACN,YAAW;AAAA,MAEX;AAAA,4CAAC,yBAAK,IAAC,oCAAsB;AAAA,QAE7B;AAAA,UAAC,qBAAqB;AAArB;AAAA,YACC,SAAS,MACP,uBAAuB;AAAA,cACrB,MAAM,yCAAgB,CAAC,iBAAiB,YAAY;AAAA,YACtD,CAAC;AAAA,YAEH;AAAA,YACA;AAAA,YACA;AAAA;AAAA,QACF;AAAA,QACA,qCAAC,iBAAK,IAAC,KAAI,YACT;AAAA,8CAAC,qBAAqB,IAAC;AAAA,UACtB,cAAc,oCAAC,aAAa,IAAC;AAAA,WAChC;AAAA;AAAA;AAAA,EACF;AAEJ;AAEO,SAAS,sBAAsB;AACpC,SACE,oCAAC,cAAQ,IAAC,UAAU,4DAAE,GACpB,8CAAC,+BAA4B,GAC/B;AAEJ;;;;ACzBI;AAjCqB;AAE8B;AAEjC;AAEA;AACQ;AACQ;AAClB;AAIb;AACoC;AACjB;AAE1B,SAAS,sBAAsB;AAC7B,QAAM,qBAAqB,oDAA0B,CAAC;AAEtD,QAAM,iBAAiB,wDAAuB,CAAC;AAC/C,QAAM,2BAA2B,+DAA8B,CAAC;AAEhE,MACE,CAAC,sBACD,mBAAmB,WAAW,oBAC9B,CAAC,kBACD,CAAC,0BACD;AACA,WAAO;AAAA,EACT;AAEA,SACE;AAAA,IAAC,SAAS;AAAT;AAAA,MACC,OAAM;AAAA,MACN,QAAO;AAAA,MACP,MAAM,mBAAmB;AAAA,MACzB,UAAS;AAAA,MACT,OAAO,KAAK;AAAL;AAAA,EACT;AAEJ;AAMA,SAAS,UAAU,OAAuB;AACxC,QAAM,EAAE,UAAU,GAAG,KAAK,IAAI;AAE9B,SACE;AAAA,IAAC,kBAAM,CAAC;AAAA,IAAP;AAAA,MACC,IAAI,WAAW,mCAAmC;AAAA,MAClD,cAAa;AAAA,MACb,OAAO,WAAW,qBAAqB;AAAA,MACvC,IAAG;AAAA,MACH,IAAG;AAAA,MACH,WAAU;AAAA,MACV,MAAK;AAAA,MACJ,GAAG;AAAA;AAAA,EACN;AAEJ;AAEO,SAAS,wBAAwB;AACtC,QAAM,qBAAqB,oDAA0B,CAAC;AACtD,QAAM,iBAAiB,wDAAuB,CAAC;AAC/C,QAAM,2BAA2B,+DAA8B,CAAC;AAChE,QAAM,CAAC,KAAK,MAAM,IAAI,kBAAQ,CAAqB,SAAS;AAE5D,MACE,CAAC,sBACD,mBAAmB,WAAW,oBAC9B,CAAC,kBACD,CAAC,0BACD;AACA,WAAO;AAAA,EACT;AAEA,SACE,qCAAC,iBAAK,IAAC,IAAG,YAAW,KAAI,YAAW,OAAM,QACxC;AAAA,yCAAC,kBAAM,IAAC,KAAI,KACV;AAAA,0CAAC,aAAU,SAAS,MAAM,OAAO,SAAS,GAAG,UAAU,QAAQ,WAAW,qBAE1E;AAAA,MACA,oCAAC,aAAU,SAAS,MAAM,OAAO,MAAM,GAAG,UAAU,QAAQ,QAAQ,kBAEpE;AAAA,OACF;AAAA,IACC,QAAQ,YACP,qCAAC,iBAAK,IAAC,KAAI,YAAW,QAAO,UAAS,cAAa,MAAK,IAAG,YAAW,IAAG,YACvE;AAAA,0CAAC,yBAAK,IAAC,qCAAuB;AAAA,MAC9B;AAAA,QAAC,qBAAqB;AAArB;AAAA,UACC,iBAAiB;AAAA,UACjB,cAAc,mBAAmB;AAAA;AAAA,MACnC;AAAA,MACA,qCAAC,iBAAK,IAAC,KAAI,YACR;AAAA,oCACC,oCAAC,GAAG,IAAC,MAAK,oBAAmB,OAAO,0BAA0B,MAAK,aAAY;AAAA,QAEjF,oCAAC,GAAG,IAAC,MAAK,iBAAgB,OAAO,mBAAmB,cAAc,MAAK,UAAS;AAAA,QAC/E,mBAAmB,cAAc,oCAAC,aAAa,IAAC;AAAA,SACnD;AAAA,OACF,IAEA,oCAAC,uBAAoB;AAAA,KAEzB;AAEJ;;;;ACrFI;AAxB6B;AAMH;AACN;AACS;AACoB;AAQ9C,SAAS,QAAQ,EAAE,MAAM,qBAAqB,gBAAgB,GAAiB;AACpF,QAAM,EAAE,OAAO,IAAI,uCAAgB,CAA8B;AACjE,QAAM,cAAc,oCAAoC,CAAC,MAAM;AAE/D,QAAM,cAAc,cAAc,aAAa,CAAC,WAAW,IAAI;AAE/D,SACE,4DACG,gBAAM,UAAU,SACf;AAAA,IAAC,OAAO;AAAP;AAAA,MACC;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,EACF,IAEA,oCAAC,yCAAgB,IAAC,QAAO,QAAO,OAAM,QAAO,GAEjD;AAEJ;;;;ACbQ;AAxBa;AAEiB;AAEJ;AAS3B,MAAM,eAAe,cAAI,CAAC,CAAC,EAAE,QAAQ,OAAO,MAAM,QAAQ,MAAyB;AACxF,SACE;AAAA,IAAC,iBAAK;AAAL;AAAA,MACC,IAAG;AAAA,MACH,QAAQ,SAAS,SAAS;AAAA,MAC1B,cAAa;AAAA,MACb,KAAI;AAAA,MACJ,IAAG;AAAA,MACH,GAAE;AAAA,MAEF;AAAA,6CAAC,iBAAK,IAAC,KAAI,YACT;AAAA,+CAAC,kBAAM,IAAC,YAAW,UAAS,OAAM,8BAChC;AAAA,gDAAC,qCAAiB,IAAC;AAAA,YACnB,oCAAC,kBAAM,CAAC,IAAP,EAAU,WAAU,YAAY,iBAAM;AAAA,aACzC;AAAA,UACA,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cAAc,gBAAK;AAAA,WAC5C;AAAA,QACC,WAAW,oCAAC,iBAAK,IAAC,KAAI,YAAY,mBAAQ;AAAA;AAAA;AAAA,EAC7C;AAEJ,CAAC;;;;ACEG;AAnC2B;AACN;AAE4B;AACjB;AAEW;AACf;AACD;AAEL;AACE;AACF;AAEI;AACF;AACO;AACN;AACkB;AACR;AACI;AAK3C,SAAS,+BAA+B,EAAE,UAAU,GAAwC;AAC1F,QAAM,CAAC,wBAAwB,yBAAyB,IAAI,kBAAQ,CAAC,KAAK;AAE1E,QAAM,WAAW,MAAM;AACrB,SAAK,2BAAS,CAAC,MAAM,SAAS;AAC9B,iCAAW,CAAC;AACZ,SAAK,OAAO,KAAK,OAAO,EAAE,KAAK,mBAAmB,CAAC;AAAA,EACrD;AAEA,SACE,6DACE;AAAA;AAAA,MAAC,kBAAkB;AAAlB;AAAA,QACC,WAAW;AAAA,QACX,SAAS,MAAM,0BAA0B,KAAK;AAAA;AAAA,IAChD;AAAA,IACA,oCAAC,0BAAM,IAAC,SAAS,UAAU,qBAAO;AAAA,IAClC,oCAAC,0BAAM,IAAC,SAAS,MAAM,0BAA0B,IAAI,GAAG,SAAQ,WAAU,4BAE1E;AAAA,KACF;AAEJ;AAEO,MAAM,mCAAmC,cAAI,CAAC,WAAS;AAC5D,SACE;AAAA,IAAC,YAAY;AAAZ;AAAA,MACC,OAAM;AAAA,MACN,MAAM;AAAA,MACN,SAAS,oCAAC,kCAA+B,WAAU,uBAAsB;AAAA,MACxE,GAAG;AAAA;AAAA,EACN;AAEJ,CAAC;AAEM,MAAM,2CAA2C,cAAI,CAAC,WAAS;AACpE,QAAM,qBAAqB,oDAA0B,CAAC;AACtD,QAAM,aAAa,+DAA8B,CAAC;AAClD,QAAM,2BAA2B,sDAA8B,CAAC,UAAU;AAE1E,SACE;AAAA,IAAC,YAAY;AAAZ;AAAA,MACC,OAAM;AAAA,MACN,MACE,qCAAC,iBAAK,IAAC,KAAI,YACT;AAAA,4CAAC,2BAAO,IAAC,OAAM,oBAAmB,2HAGlC;AAAA,QACA,qCAAC,iBAAK,IAAC,KAAI,YAAW,gBAAe,YAAW,WAAU,SACxD;AAAA,+CAAC,kBAAM,IAAC,YAAW,UAAS,gBAAe,iBACzC;AAAA,gDAAC,2BAAO,IAAC,6BAAe;AAAA,YACxB,oCAAC,2BAAO,IACL,qCACG,oCAAW,CAAC;AAAA,cACV,OAAO,yBAAyB;AAAA,cAChC,YAAY;AAAA,YACd,CAAC,IACD,MACN;AAAA,aACF;AAAA,UACA,qCAAC,kBAAM,IAAC,YAAW,UAAS,gBAAe,iBACzC;AAAA,gDAAC,2BAAO,IAAC,6BAAe;AAAA,YACxB,oCAAC,2BAAO,IACL,8CAAW,CAAC;AAAA,cACX,OAAQ,mBAA0C;AAAA,cAClD,YAAY;AAAA,YACd,CAAC,GACH;AAAA,aACF;AAAA,WACF;AAAA,SACF;AAAA,MAEF,SAAS,oCAAC,kCAA+B,WAAU,4BAA2B;AAAA,MAC7E,GAAG;AAAA;AAAA,EACN;AAEJ,CAAC;AAEM,MAAM,yBAAyB,cAAI,CAAC,WAAS;AAClD,QAAM,UAAU,iDAAsB,CAAC;AACvC,QAAM,qBAAqB,oDAA0B,CAAC;AAEtD,MAAI,CAAC,sBAAsB,mBAAmB,WAAW,6BAAgB,CAAC;AACxE,WAAO;AACT,SACE;AAAA,IAAC,YAAY;AAAZ;AAAA,MACC,OAAM;AAAA,MACN,MAAM,iBAAiB,qCAAc,CAAC,mBAAmB,eAAe,CAAC,IACvE,mBAAmB,YACrB,oDAAoD,QAAQ,IAAI;AAAA,MAC/D,GAAG;AAAA;AAAA,EACN;AAEJ,CAAC;AAEM,MAAM,kCAAkC,cAAI,CAAC,WAAS;AAC3D,QAAM,qBAAqB,oDAA0B,CAAC;AAEtD,MAAI,CAAC,sBAAsB,mBAAmB,WAAW,6BAAgB,CAAC;AACxE,WAAO;AACT,SACE;AAAA,IAAC,YAAY;AAAZ;AAAA,MACC,OAAM;AAAA,MACN,MAAM,yBAAyB,qCAAc;AAAd,QAC7B,mBAAmB;AAAA,MACrB,CAAC;AAAA,MACA,GAAG;AAAA;AAAA,EACN;AAEJ,CAAC;AAEM,MAAM,8BAA8B,cAAI,CAAC,MAAM;AACpD,SAAO,oCAAC,kCAAQ,IAAC,IAAI,2BAAS,CAAC,qBAAqB;AACtD,CAAC;AAIM,MAAM,6BAA6B,cAAI,CAAC,WAAS;AACtD,eAAa,CAAC,IAAI;AAClB,SACE;AAAA,IAAC,gBAAI;AAAJ;AAAA,MACC,UAAS;AAAA,MACT,OAAM;AAAA,MACN,QAAO;AAAA,MACP,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,KAAK;AAAA,MACL,YAAW;AAAA,MACX,gBAAe;AAAA,MACf,GAAE;AAAA,MACF,IAAG;AAAA,MACH,gBAAe;AAAA,MAEf;AAAA,QAAC,YAAY;AAAZ;AAAA,UACC,OAAM;AAAA,UACN,MAAK;AAAA,UACL,QAAO;AAAA,UACP,aAAY;AAAA,UASX,GAAG;AAAA;AAAA,MACN;AAAA;AAAA,EACF;AAEJ,CAAC;;;;ACvIY;AAxC6B;AAEhB;AAEU;AAS7B;AAEA,IAAK,yBAAL,kBAAKC,4BAAL;AACL,EAAAA,gDAAA,kCAA+B,KAA/B;AACA,EAAAA,gDAAA,0BAAuB,KAAvB;AACA,EAAAA,gDAAA,aAAU,KAAV;AACA,EAAAA,gDAAA,oBAAiB,KAAjB;AACA,EAAAA,gDAAA,kBAAe,KAAf;AACA,EAAAA,gDAAA,gBAAa,KAAb;AACA,EAAAA,gDAAA,oBAAiB,KAAjB;AACA,EAAAA,gDAAA,4BAAyB,KAAzB;AARU,SAAAA;AAAA;AAWZ,MAAM,2BAA2B,cAAI,CAAC,MAAM;AAC1C,QAAM,SAAS,mBAAmB,CAAC;AAEnC,qBAAS,CAAC,MAAM;AACd,QAAI,CAAC,OAAQ;AACb,SAAK,2BAAS,CAAC,MAAM,kCAAkC;AAAA,MACrD,QAAQ,uBAAuB,MAAM,EAAE,YAAY;AAAA,IACrD,CAAC;AAAA,EACH,GAAG,CAAC,MAAM,CAAC;AAEX,MAAI,CAAC,OAAQ,QAAO;AAEpB,UAAQ,QAAQ;AAAA,IACd,KAAK;AACH,aAAO,oCAAC,sBAAsB,IAAC;AAAA,IACjC,KAAK;AACH,aAAO,oCAAC,+BAA+B,IAAC;AAAA,IAC1C,KAAK;AACH,aAAO,oCAAC,wCAAwC,IAAC;AAAA,IACnD,KAAK;AACH,aAAO,oCAAC,gCAAgC,IAAC;AAAA,IAC3C,KAAK;AACH,aAAO,oCAAC,2BAA2B,IAAC;AAAA,IACtC,KAAK;AACH,aAAO,oCAAC,0BAA0B,IAAC;AAAA,IACrC;AACE,aAAO;AAAA,EACX;AACF,CAAC;AAEM,SAAS,mBAAmB;AACjC,SACE,oCAAC,cAAQ,IAAC,UAAU,4DAAE,GACpB,8CAAC,4BAAyB,GAC5B;AAEJ;;;;AC9DwB;AAES;AACX;AACW;AAEsC;AACzC;AAIU;AACJ;AACE;AACC;AACC;AACG;AAE3C,SAAS,gBAAgB;AACvB,SAAO,iDAAmB,CAAC,IAAI,YAAY,MAAM;AACnD;AAEO,SAAS,sBAAsB;AACpC,QAAM,qBAAqB,oDAA0B,CAAC;AACtD,QAAM,oBAAoB,mDAA4B,CAAC,kBAAkB;AACzE,QAAM,EAAE,OAAO,IAAI,oEAAuB,CAAC;AAC3C,QAAM,EAAE,OAAO,IAAI,uCAAgB,CAA8B;AAEjE,QAAM,iBAAiB,wDAAuB,CAAC;AAC/C,QAAM,EAAE,qBAAqB,IAAI,gDAAwB,CAAC,gBAAgB,WAAW,EAAE;AACvF,QAAM,2BAA2B,qBAAqB,MAAM;AAE5D,SAAO,iBAAO,CAAgC,MAAM;AAClD,QAAI,CAAC,OAAQ,QAAO,sBAAsB,CAAC;AAE3C,QAAI,qBAAqB,UAAW;AAEpC,QAAI,CAAC,sBAAsB,CAAC,4BAA4B,CAAC,gBAAgB;AACvE,aAAO,sBAAsB,CAAC;AAAA,IAChC;AAEA,QAAI,mBAAmB,WAAW,6BAAgB,CAAC,cAAc;AAC/D,UAAI,CAAC,8CAAqB,CAAC,mBAAmB,eAAe;AAC3D,eAAO,sBAAsB,CAAC;AAChC,UAAK,mBAA2B,QAAS,QAAO,sBAAsB,CAAC;AAAA,IACzE;AAEA,QAAI,4BAA4B,CAAC,cAAc,GAAG;AAChD,YAAM,cAAc,yBAAyB,OAAO,SAAS,MAAM;AAEnE,UAAI,mBAAmB,WAAW,6BAAgB,CAAC,aAAa;AAC9D,YAAI,YAAa,QAAO,sBAAsB,CAAC;AAE/C,cAAM,iBAAiB,IAAI,wBAAS,CAAC,mBAAmB,MAAM;AAC9D,YAAI,eAAe,IAAI,yBAAyB,MAAM;AACpD,iBAAO,sBAAsB,CAAC;AAAA,MAClC;AAEA,UAAI,CAAC,mBAAmB,WAAW;AACjC,YAAI,YAAa,QAAO,sBAAsB,CAAC;AAE/C,cAAM,WAAW,oCAAa,CAAC,OAAO,GAAG;AACzC,YAAI,SAAS,IAAI,yBAAyB,MAAM;AAC9C,iBAAO,sBAAsB,CAAC;AAAA,MAClC;AAAA,IACF;AACA;AAAA,EACF,GAAG;AAAA,IACD,qBAAqB;AAAA,IACrB;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,OAAO;AAAA,EACT,CAAC;AACH;;;;ACzCI;AAnC2B;AAEa;AACA;AAEV;AAEE;AACG;AAEvC,SAAS,4BAA4B,OAAoB;AACvD,QAAM,QAAQ,mBAAmB,CAAC;AAElC,MAAI,CAAC,MAAO,QAAO;AAEnB,QAAM,WAAW,MAAM;AACrB,QAAI,OAAO;AACT,cAAQ,OAAO;AAAA,QACb,KAAK,sBAAsB,CAAC;AAC1B,iBAAO;AAAA,QACT,KAAK,sBAAsB,CAAC;AAC1B,iBAAO;AAAA,QACT,KAAK,sBAAsB,CAAC;AAC1B,iBAAO;AAAA,QACT,KAAK,sBAAsB,CAAC;AAAA,QAC5B,KAAK,sBAAsB,CAAC;AAC1B,iBAAO;AAAA,QACT,KAAK,sBAAsB,CAAC;AAC1B,iBAAO;AAAA,MACX;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAEA,SACE;AAAA,IAAC,kBAAM;AAAN;AAAA,MACC,YAAW;AAAA,MACX,IAAG;AAAA,MACH,cAAa;AAAA,MACb,OAAM;AAAA,MACN,GAAE;AAAA,MACF,OAAM;AAAA,MACL,GAAG;AAAA,MAEJ;AAAA,4CAAC,qCAAiB,IAAC;AAAA,QACnB,oCAAC,kBAAM,CAAC,MAAP,EAAY,eAAa,2BAA2B,CAAC,cAAc,WAAU,cAC3E,mBAAS,GACZ;AAAA;AAAA;AAAA,EACF;AAEJ;AAEA,SAAS,wBAAwB,OAAoB;AACnD,SACE,oCAAC,cAAQ,IAAC,UAAU,4DAAE,GACpB,8CAAC,+BAA6B,GAAG,OAAO,GAC1C;AAEJ;AAEO,MAAM,sBAAsB,cAAI,CAAC,uBAAuB;;;;AC5DvC;AAES;AAEU;AAEpC,SAAS,uBAAuB;AACrC,QAAM,qBAAqB,oDAA0B,CAAC;AACtD,QAAM,SAAS,oBAAoB;AACnC,SAAO,iBAAO,CAAC,MAAM;AACnB,QAAI,CAAC,mBAAoB,QAAO;AAChC,QAAI,WAAW,6BAAgB,CAAC,YAAa,QAAO;AACpD,QAAI,WAAW,6BAAgB,CAAC,eAAgB,QAAO;AACvD,QAAI,WAAW,6BAAgB,CAAC,gBAAgB,kBAAkB;AAChE,aAAO,mBAAmB,gBAAgB;AAC5C,WAAO;AAAA,EACT,GAAG,CAAC,oBAAoB,MAAM,CAAC;AACjC;;;;ACaI;AA9BiB;AAEuB;AACd;AAET;AAEmB;AACM;AACtB;AACa;AACE;AACI;AAE3C,SAAS,cAAc;AACrB,QAAM,qBAAqB,oDAA0B,CAAC;AACtD,QAAM,EAAE,OAAO,IAAI,oEAAuB,CAAC;AAC3C,QAAM,YAAY,oBAAoB,CAAC;AACvC,QAAM,EAAE,WAAW,MAAM,IAAI,iDAAsB,CAAC;AAEpD,MAAI,CAAC,mBAAoB,QAAO;AAEhC,QAAM,UAAU,oBAAoB,YAAY;AAChD,QAAM,iBAAiB,SAAS,KAAK,uCAAc,CAAC,MAAM,CAAC,MAAM;AACjE,QAAM,kBAAkB,YACpB,UAAU,uCAAc,CAAC,MAAM,OAAO,GAAG,CAAC,GAAG,sCAAa,CAAC,MAAM,OAAO,GAAG,CAAC,KAC5E;AACJ,QAAM,UAAU,UAAU,iBAAiB,OAAO,IAAI,cAAc,GAAG,eAAe,KAAK;AAE3F,SACE;AAAA,IAAC,iBAAK;AAAL;AAAA,MACC,eAAa,2BAA2B,CAAC;AAAA,MACzC,IAAG;AAAA,MACH,KAAI;AAAA,MACJ,OAAM;AAAA,MAEN;AAAA,4CAAC,kBAAM,CAAC,IAAP,EAAU,IAAG,YAAW,WAAU,cAChC,qBACH;AAAA,QACC,WACC,oCAAC,wBAAI,IAAC,KAAK,oCAAC,sBAAO,IAAC,QAAQ,UAAU,IAAI,GAAI,IAAG,YAC/C,8CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAW,WAAU,cACzC,mBACH,GACF;AAAA;AAAA;AAAA,EAEJ;AAEJ;AAEO,MAAM,UAAU,cAAI,CAAC,WAAW;;;;ACtCnC;AAZ8B;AAEV;AAEkB;AAEnC,SAAS,2BAAqD;AACnE,QAAM,OAAO,yBAAyB,CAAC;AAEvC,MAAI,SAAS,uCAAiB,CAAC,MAAO,QAAO;AAE7C,SACE;AAAA,IAAC,2BAAO;AAAP;AAAA,MACC,SAAQ;AAAA,MACR,IAAG;AAAA,MACH,OAAM;AAAA,MACP;AAAA;AAAA,EAGD;AAEJ;;;;ACfI;AANwC;AAEnB;AAElB,SAAS,mBAAsC;AACpD,SACE,qCAAC,kBAAM,IAAC,YAAW,UAAS,KAAI,YAAW,GAAE,YAC3C;AAAA,wCAAC,kBAAM,IAAC,IAAG,kCAAiC,YAAY,GACtD,8CAAC,4BAAQ,IAAC,GACZ;AAAA,IACA,oCAAC,eAAG,IAAC,UAAU,GACb,8CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,WAAU,uGAEjC,GACF;AAAA,KACF;AAEJ;;;;ACAM;AAjBsC;AAEjB;AAEO;AAO3B,SAAS,YAAY,OAAyB;AACnD,QAAM,EAAE,YAAY,QAAQ,QAAQ,GAAG,KAAK,IAAI;AAChD,QAAM,oBAAoB,kCAAU,CAAC,UAAU,IAAI,aAAa;AAEhE,SACE,qCAAC,kBAAM,IAAC,YAAW,UAAS,UAAU,GAAG,gBAAe,iBAAgB,OAAM,QAAQ,GAAG,MACvF;AAAA,yCAAC,kBAAM,IACL;AAAA;AAAA,QAAC,iBAAiB;AAAjB;AAAA,UACC,gBAAgB;AAAA,UAChB;AAAA,UACA,OAAO,eAAe;AAAA,UACtB,MAAK;AAAA;AAAA,MACP;AAAA,MACA,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cAAc,kBAAO;AAAA,OAC9C;AAAA,IACA,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cAAc,kBAAO;AAAA,KAC9C;AAEJ;;;;ACRI;AArBuC;AAEnB;AAEI;AAarB,SAAS,UAAU,OAA0C;AAClE,QAAM,EAAE,QAAQ,MAAM,QAAQ,MAAM,SAAS,OAAO,QAAQ,MAAM,IAAI;AAEtE,SACE,6DACE;AAAA,yCAAC,iBAAK,IAAC,KAAI,YAAW,GAAE,YACtB;AAAA,0CAAC,kBAAM,IAAC,YAAW,UAAS,gBAAe,iBAAgB,UAAS,YAClE,8CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAY,iBAAM,GAC3C;AAAA,MACA,oCAAC,WAAW,IAAC,YAAY,MAAM,QAAgB,QAAgB;AAAA,MAC9D,QAAQ,QACP,qCAAC,kBAAM,IAAC,YAAW,UAAS,gBAAe,iBACxC;AAAA,eAAO,oCAAC,2BAAO,IAAE,gBAAK,IAAa,oCAAC,eAAG,IAAC;AAAA,QACxC,SAAS,oCAAC,2BAAO,IAAE,iBAAM;AAAA,SAC5B,IACE;AAAA,OACN;AAAA,IACC,WACC,oCAAC,eAAG,IAAC,GAAE,YAAW,WAAU,WAAU,cAAc,CAAC,SAAS,WAAW,SACvE,8CAAC,2BAAO,IAAE,mBAAQ,GACpB;AAAA,KAEJ;AAEJ;;;;AC4BI;AArEqB;AAEQ;AACsB;AAExB;AAEsB;AAQ9C;AACmB;AACK;AACS;AACU;AACP;AAO3C,SAAS,kCACP,OAC0B;AAC1B,QAAM,EAAE,QAAQ,GAAG,IAAI;AACvB,QAAM,iBAAiB,wDAAuB,CAAC;AAC/C,QAAM,qBAAqB,oDAA0B,CAAC;AAEtD,QAAM,QAAQ,iCAAiC,CAAC,EAAE;AAClD,QAAM,oBACJ,OAAO,uBACP,MAAM,QACN,iDAAwB,CAAC,MAAM,qBAAqB,MAAM,IAAI;AAEhE,QAAM,QAAQ,qBAAqB,CAAC,EAAE;AACtC,QAAM,aAAa,qBAAqB,8BAA8B,CAAC,EAAE;AACzE,QAAM,WAAW,0BAA0B,CAAC,EAAE;AAC9C,QAAM,WAAW,0BAA0B,CAAC,EAAE;AAC9C,QAAM,OAAO,wBAAwB,CAAC,EAAE;AAExC,QAAM,eAAe,kBAAkB,GAAG,aAAa,GAAG,UAAU,aAAa;AACjF,QAAM,UAAU,kCAAe,CAAC,GAAG,UAAU,OAAO;AACpD,QAAM,YAAY,YAAY,gBAAgB;AAE9C,QAAM,SAAS,OAAO,WAAW,mCAAU,CAAC,UAAU,MAAM,QAAQ,IAAI;AACxE,QAAM,SAAS,OAAO,UAAU;AAEhC,QAAM,sBACJ,CAAC,CAAC,gBACD,oBAAoB,UAAU,6BAAgB,CAAC,gBAC9C,mBAAmB,oBAAoB,WACzC,QAAQ,SAAS,GAAG;AAEtB,MAAI,CAAC,mBAAoB,QAAO;AAEhC,QAAM,UAAU,GAAG,gBACf,GAAG,2BAA2B;AAA3B,IACD,GAAG;AAAA,IACH;AAAA,EACF,CAAC,IAAI,MAAM,IAAI,MAAM,oCACrB;AAEJ,SACE;AAAA,IAAC,SAAS;AAAT;AAAA,MACC,OAAO,GACL,sBAAsB,kBAAkB,YAAY,SAAS,kBAC/D,IAAI,KAAK;AAAA,MACT,MAAM,OAAO,QAAQ;AAAA,MACrB,OAAO,GAAG,qCAAc,CAAC,kCAAe,CAAC,GAAG,UAAU,OAAO,GAAG,CAAC,CAAC,GAChE,eAAe,IAAI,YAAY,KAAK,EACtC;AAAA,MACA;AAAA,MACA;AAAA,MACA,MAAM;AAAA,MACN;AAAA,MACA;AAAA;AAAA,EACF;AAEJ;AAEO,SAAS,0BACd,OACmB;AACnB,SACE,oCAAC,cAAQ,IAAC,UAAU,oCAAC,cAAc,IAAC,QAAO,SAAQ,GACjD,8CAAC,qCAAmC,GAAG,OAAO,GAChD;AAEJ;;;;ACtCI;AAxDqB;AAEQ;AAC2C;AAE7C;AASxB;AACmB;AACK;AACS;AACG;AAO3C,SAAS,0BAA0B,OAAyD;AAC1F,QAAM,EAAE,IAAI,OAAO,IAAI;AACvB,QAAM,iBAAiB,wDAAuB,CAAC;AAC/C,QAAM,qBAAqB,oDAA0B,CAAC;AAEtD,QAAM,QAAQ,qBAAqB,CAAC,EAAE;AACtC,QAAM,aAAa,8BAA8B,CAAC,EAAE;AACpD,QAAM,SAAS,0BAA0B,CAAC,EAAE;AAC5C,QAAM,SAAS,0BAA0B,CAAC,EAAE;AAC5C,QAAM,OAAO,wBAAwB,CAAC,EAAE;AAExC,QAAM,eAAe,kBAAkB,GAAG,aAAa,GAAG,UAAU,aAAa;AACjF,QAAM,UAAU,kCAAe,CAAC,GAAG,UAAU,OAAO;AACpD,QAAM,YAAY,YAAY,gBAAgB;AAE9C,QAAM,sBACJ,CAAC,CAAC,gBACD,oBAAoB,UAAU,6BAAgB,CAAC,gBAC9C,mBAAmB,oBAAoB,WACzC,QAAQ,SAAS,GAAG;AAEtB,MAAI,CAAC,mBAAoB,QAAO;AAEhC,QAAM,UAAU,GAAG,gBACf,GAAG,2BAA2B;AAA3B,IACD,GAAG;AAAA,IACH;AAAA,EACF,CAAC,IAAI,MAAM,IAAI,MAAM,oCACrB;AAEJ,SACE;AAAA,IAAC,SAAS;AAAT;AAAA,MACC,OAAO,GACL,sBAAsB,kBAAkB,YAAY,SAAS,kBAC/D,IAAI,KAAK;AAAA,MACT,MAAM;AAAA,MACN,OAAO,GAAG,qCAAc,CAAC,kCAAe,CAAC,GAAG,UAAU,OAAO,GAAG,CAAC,CAAC,GAChE,eAAe,IAAI,YAAY,KAAK,EACtC;AAAA,MACA;AAAA,MACA;AAAA,MACA,MAAM;AAAA,MACN;AAAA,MACA;AAAA;AAAA,EACF;AAEJ;AAEO,SAAS,kBAAkB,OAAkD;AAClF,SACE,oCAAC,cAAQ,IAAC,UAAU,oCAAC,cAAc,IAAC,QAAO,SAAQ,GACjD,8CAAC,6BAA2B,GAAG,OAAO,GACxC;AAEJ;;;;ACpEI;AAX8B;AAEW;AAEH;AACR;AAE3B,SAAS,qBAAwC;AACtD,QAAM,iBAAiB,4BAA4B,CAAC;AAEpD,SACE,4DACG,0BAAgB,IAAI,CAAC,IAAI,UAAU;AAClC,QAAI,GAAG,kBAAkB,uCAAiB,CAAC,UAAU;AACnD,aACE;AAAA,QAAC,yBAAyB;AAAzB;AAAA,UACC;AAAA,UACA,QAAQ,UAAU,eAAe,SAAS;AAAA;AAAA,QACrC,GAAG,GAAG,IAAI,IAAI,GAAG,aAAa;AAAA,MACrC;AAAA,IAEJ;AACA,QACE,GAAG,kBAAkB,uCAAiB,CAAC,OACvC,GAAG,kBAAkB,uCAAiB,CAAC,aACvC;AACA,aACE;AAAA,QAAC,iBAAiB;AAAjB;AAAA,UACC;AAAA,UACA,QAAQ,UAAU,eAAe,SAAS;AAAA;AAAA,QACrC,GAAG,GAAG,IAAI,IAAI,GAAG,aAAa;AAAA,MACrC;AAAA,IAEJ;AACA;AAAA,EACF,CAAC,GACH;AAEJ;;;;ACvBI;AAf6B;AAEF;AAEH;AACF;AACiB;AAEpC,SAAS,mBAA6C;AAC3D,QAAM,qBAAqB,oDAA0B,CAAC;AAEtD,MAAI,CAAC,sBAAsB,mBAAmB,WAAW,6BAAgB,CAAC;AACxE,WAAO;AAET,SACE;AAAA,IAAC,SAAS;AAAT;AAAA,MACC,OAAM;AAAA,MACN,MAAK;AAAA,MACL,QAAQ,oCAAW,CAAC,EAAE,OAAO,mBAAmB,QAAQ,YAAY,MAAM,CAAC;AAAA,MAC3E,QAAO;AAAA,MACP,MAAK;AAAA,MACL,OACE,mBAAmB,WAAW,6BAAgB,CAAC,cAC3C,MAAM,qCAAc,CAAC,mBAAmB,WAAW,CAAC,CAAC,KACrD;AAAA;AAAA,EAER;AAEJ;;;;ACDqD;AA3BnB;AAED;AACC;AACb;AAEO;AAEc;AACC;AACE;AAEZ;AACE;AACF;AAEjC,SAAS,yBAAmD;AAC1D,QAAM,iBAAiB,4BAA4B,CAAC;AACpD,QAAM,OAAO,yBAAyB,CAAC;AACvC,QAAM,qBAAqB,oDAA0B,CAAC;AACtD,QAAM,oBAAoB,iBAAO;AAAP,IACxB,MAAM,kBAAkB,gBAAgB,SAAS;AAAA,IACjD,CAAC,cAAc;AAAA,EACjB;AACA,QAAM,gBACJ,oBAAoB,WAAW,6BAAgB,CAAC,eAAe,CAAC;AAElE,MAAI,CAAC,kBAAkB,CAAC,mBAAoB,QAAO,4DAAE;AACrD,MAAI,CAAC,+BAAW,IAAI,SAAS,uCAAiB,CAAC,MAAO,QAAO;AAE7D,SACE,oCAAC,gBAAI,IAAC,QAAO,UAAS,cAAa,MAAK,eAAc,UAAS,IAAG,YAAW,OAAM,QAChF,8BACC,oCAAC,kBAAkB,IAAC,IAClB,gBACF,oCAAC,gBAAgB,IAAC,IAElB,oCAAC,gBAAgB,IAAC,GAEtB;AAEJ;AAEO,SAAS,iBAAoC;AAClD,SACE,oCAAC,cAAQ,IAAC,UAAU,4DAAE,GACpB,8CAAC,0BAAuB,GAC1B;AAEJ;;;;ACzBM;AAxBgB;AAEA;AAEQ;AACV;AACuB;AAEpC,SAAS,qBAA+C;AAC7D,QAAM,qBAAqB,oDAA0B,CAAC;AAEtD,MAAI,CAAC,sBAAsB,mBAAmB,WAAW,kBAAkB;AACzE,WAAO;AAAA,EACT;AAEA,SACE;AAAA,IAAC,iBAAK;AAAL;AAAA,MACC,QAAO;AAAA,MACP,cAAa;AAAA,MACb,IAAG;AAAA,MACH,IAAG;AAAA,MACH,IAAG;AAAA,MACH,KAAI;AAAA,MAEJ;AAAA,4CAAC,yBAAK,IAAC,8BAAgB;AAAA,QACvB,qCAAC,iBAAK,IAAC,KAAI,YACT;AAAA,8CAAC,GAAG,IAAC,MAAK,aAAY,MAAK,aAAY,OAAO,mBAAmB,WAAW;AAAA,UAC5E,oCAAC,GAAG,IAAC,MAAK,UAAS,MAAK,QAAO,OAAO,mBAAmB,QAAQ;AAAA,UAChE,mBAAmB,QAClB,oCAAC,GAAG,IAAC,MAAK,QAAO,MAAK,UAAS,OAAO,mBAAmB,MAAM;AAAA,UAEhE,mBAAmB,cAAc,oCAAC,aAAa,IAAC;AAAA,WACnD;AAAA;AAAA;AAAA,EACF;AAEJ;;;;ACAI;AAnCwC;AACX;AAEV;AAIa;AAEW;AAMxC,SAAS,qBAAqB,EAAE,UAAU,GAAU;AACzD,QAAM,EAAE,cAAc,QAAQ,cAAc,aAAa,IACvD,uCAAgB,CAA8B;AAEhD,QAAM,UAAU,8BAA8B,CAAC;AAE/C,QAAM,QAAQ,mBAAmB,CAAC;AAElC,QAAM,aAAa,CAAC,CAAC,SAAS,OAAO,OAAO,GAAG,IAAI,KAAK,CAAC;AAEzD,iBAAe,uBAAuB;AACpC,UAAM,aAAa,MAAM,aAAa;AAEtC,QAAI,QAAQ,0BAA0B,YAAY,OAAO,GAAG;AAC1D,aAAO,QAAQ,2BAA2B,IAAI;AAEhD,iBAAa;AAAA,EACf;AAEA,SACE;AAAA,IAAC,0BAAM;AAAN;AAAA,MACC,aAAW;AAAA,MACX,eAAa,2BAA2B,CAAC;AAAA,MACzC,UAAU;AAAA,MACV,WAAS;AAAA,MACT,IAAG;AAAA,MACH,SAAS;AAAA,MACT,MAAK;AAAA,MACN;AAAA;AAAA,EAED;AAEJ;;;;ACuDM;AAtGe;AACe;AAEE;AACjB;AACA;AAE+B;AAC3B;AAKlB;AACc;AAEE;AAEG;AACA;AAEC;AACK;AACD;AACH;AACA;AACsB;AACrB;AACO;AACE;AACd;AACsB;AACV;AACZ;AACiB;AACV;AACI;AACE;AACJ;AACc;AACJ;AAIpC;AAEP,SAAS,yBAAyB;AAChC,QAAM,qBAAqB,oDAA0B,CAAC;AACtD,QAAM,aAAa,qCAAqC,CAAC;AACzD,QAAM,EAAE,MAAM,QAAQ,IAAI,gDAAwB,CAAC,WAAW,WAAW;AAEzE,QAAM,qBAAqB,oCAAoC,CAAC;AAChE,QAAM,aAAa,+DAA8B,CAAC;AAClD,QAAM,EAAE,qBAAqB,IAAI,gDAAwB,CAAC,UAAU;AACpE,QAAM,2BAA2B,qBAAqB,MAAM;AAE5D,QAAM,EAAE,MAAM,WAAW,QAAQ,iBAAiB,IAAI,oCAAY,CAAC,UAAU;AAC7E,QAAM,YAAY,qBAAqB,WAAW,aAAa,qBAAqB;AAEpF,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,EAAE,2BAA2B,IAAI,6BAA6B,CAAC,EAAE,OAAO,MAAM,CAAC;AAErF,oCAAU,CAAC,MAAM,KAAK,2BAAS,CAAC,MAAM,0BAA0B,CAAC;AAEjE,iBAAe,SACb,QACA,eACA;AACA,kBAAc,cAAc,IAAI;AAChC,UAAMC,cAAa,MAAM,mBAAmB,MAAM;AAElD,QAAI,CAACA;AACH,aAAO,oBAAM,CAAC,MAAM,gEAAgE;AAEtF,UAAM,2BAA2BA,WAAU;AAE3C,SAAK,2BAAS,CAAC,MAAM,8BAA8B;AAAA,MACjD,aAAa,SAAS;AAAA,MACtB,KAAK,OAAO;AAAA,MACZ,MAAM,OAAO;AAAA,IACf,CAAC;AACD,kBAAc,cAAc,KAAK;AAAA,EACnC;AAEA,MAAI,CAAC,mBAAoB,QAAO;AAEhC,QAAM,mBAAmB,CAAC,mBAAmB,YACzC,4BAAU,CAAC;AAAA,IACT,KAAK,eAAe,CAAC,wBAAwB;AAAA,IAC7C,OAAO,cAAc;AAAd,EACT,CAAC,IACD;AAEJ,QAAM,gBAA6C;AAAA,IACjD,KAAK;AAAA,IACL,aAAa;AAAA,IACb,SAAS,4BAAQ,CAAC,4BAAQ,CAAC,MAAM;AAAA,IACjC,OAAO,WAAW;AAAA,EACpB;AAEA,SACE,6DACE;AAAA,wCAAC,+BAAW,IAAC,mBAAiB,MAAC,SAAQ,OAAM;AAAA,IAC7C;AAAA,MAAC,gBAAI;AAAJ;AAAA,QACC,YAAW;AAAA,QACX,YAAW;AAAA,QACX,eAAc;AAAA,QACd,GAAE;AAAA,QACF,OAAM;AAAA,QAEN;AAAA,UAAC,yBAAM;AAAN;AAAA,YACC;AAAA,YACA;AAAA,YACA,kBAAkB;AAAA,YAClB,iBAAiB;AAAA,YACjB,gBAAgB;AAAA,YAChB;AAAA,YAEC,gBACC,6DACE;AAAA,kDAAC,OAAO,IAAC;AAAA,cACT,oCAAC,iCAAiC,IAAC;AAAA,cACnC,oCAAC,wBAAwB,IAAC;AAAA,cAC1B,oCAAC,gBAAgB,IAAC;AAAA,cAClB,oCAAC,cAAc,IAAC;AAAA,cACf,mBAAmB,WAAW,mBAAmB,oCAAC,mBAAmB,IAAC;AAAA,cACtE,mBAAmB,WAAW,oBAAoB,oCAAC,kBAAkB,IAAC;AAAA,cACtE,mBAAmB,WAAW,oBAAoB,oCAAC,qBAAqB,IAAC;AAAA,cAE1E,oCAAC,WAAW,IAAC;AAAA,cACb,oCAAC,OAAO,IAAC,MAAM,SAAS;AAAA,cACxB;AAAA,gBAAC,wBAAI;AAAJ;AAAA,kBACC,WAAU;AAAA,kBACV,IAAG;AAAA,kBACH,SAAS,MAAM,SAAS,2BAAS,CAAC,SAAS;AAAA,kBAC5C;AAAA;AAAA,cAED;AAAA,cACA,oCAAC,mBAAmB,IAAC;AAAA,cACrB,oCAAC,oBAAoB,IAAC,WAAsB;AAAA,cAE5C,oCAAC,YAAY,IAAC,cAAc,0DAAmC,EAAE;AAAA,cACjE,oCAAC,gCAAM,IAAC;AAAA,eACV;AAAA;AAAA,QAEJ;AAAA;AAAA,IACF;AAAA,KACF;AAEJ;AAEO,MAAM,qBAAqB,cAAI,CAAC,sBAAsB;;;;;;;;ACtJrB;AACjB;AACU;AACU;AAElB;AAIlB,SAAS,+BAA+B,cAA4C;AACzF,QAAM,QAAQ,8BAAW,CAAC,YAAY;AACtC,MAAI,+BAAQ,CAAC,MAAM,OAAO,EAAG,OAAM,IAAI,MAAM,2BAA2B;AACxE,SAAO,MAAM;AACf;AAEA,MAAM,sCACJ;AA4BK,eAAe,2BAA2B;AAAA,EAC/C;AAAA,EACA;AAAA,EACA;AACF,GAAkE;AAChE,QAAM,QAAQ,8BAAW,CAAC,YAAY;AACtC,QAAM,UAAU,MAAM;AACtB,QAAM,mBAAmB,sBAAM,CAAC,eAAe,QAAQ,SAAS,KAAK;AACrE,MAAI,CAAC,iBAAiB,OAAO;AAC3B,UAAM,IAAI,MAAM,iEAAiE;AAAA,EACnF;AACA,QAAM,EAAE,WAAW,WAAW,IAAI;AAClC,QAAM,WAAW,IAAI,4BAAa,CAAC,UAAU,SAAS;AACtD,QAAM,WAAW,MAAM,SAAS,YAAY,YAAY;AACxD,MAAI,CAAC,UAAU;AACb,UAAM,IAAI,MAAM,sCAAsC;AAAA,EACxD;AACA,QAAM,eAAe,SAAS,KAAK,aAAW;AAC5C,QAAI,QAAQ,SAAS,UAAU;AAC7B,YAAM,IAAI,MAAM,sBAAsB;AAAA,IACxC;AACA,UAAM,gBAAgB,2CAAgB,CAAC;AAAA,MACrC;AAAA,MACA;AAAA,IACF,CAAC;AACD,UAAM,eAAe,4CAAuB,CAAC,aAAa;AAC1D,QAAI,iBAAiB,UAAW,QAAO;AACvC,QAAI,CAAC,WAAY,QAAO;AAExB,QAAI,eAAe,QAAQ,QAAS,QAAO;AAC3C,WAAO;AAAA,EACT,CAAC;AAED,MAAI,CAAC,cAAc;AACjB,UAAM,IAAI,MAAM,mCAAmC;AAAA,EACrD;AACA,SAAO;AACT;;;;AClFwB;AACC;AACO;AAEQ;AACG;AAET;AAE3B,SAAS,iCAAiC;AAC/C,QAAM,WAAW,kDAAiB,CAAC;AACnC,QAAM,EAAE,QAAQ,aAAa,IAAI,oCAAoC;AAErE,SAAO,yCAAQ,CAAC,YAAY;AAC1B,QAAI,OAAO,aAAa,YAAa;AACrC,QAAI,CAAC,UAAU,CAAC,YAAY,CAAC,aAAc;AAC3C,QAAI;AACF,YAAM,UAAU,MAAM,0BAA0B,CAAC;AAAA,QAC/C;AAAA,QACA;AAAA,QACA,WAAW;AAAA,MACb,CAAC;AACD,aAAO,CAAC,CAAC;AAAA,IACX,SAAS,GAAG;AACV,aAAO;AAAA,IACT;AAAA,EACF,GAAG,CAAC,UAAU,cAAc,MAAM,CAAC,EAAE;AACvC;AAEO,SAAS,sCAAsC;AACpD,QAAM,CAAC,YAAY,IAAI,iDAAe,CAAC;AACvC,QAAM,EAAE,QAAQ,MAAM,IAAI,oEAAuB,CAAC;AAClD,QAAM,eAAe,aAAa,IAAI,SAAS;AAC/C,SAAO,iBAAO;AAAP,IACL,OAAO;AAAA,MACL;AAAA,MACA,OAAO,SAAS;AAAA,MAChB;AAAA,IACF;AAAA,IACA,CAAC,QAAQ,cAAc,KAAK;AAAA,EAC9B;AACF;;;;ACnCM;AAL6B;AAEnC,SAAS,MAAM,EAAE,EAAE,GAAe;AAChC,MAAI,OAAO,MAAM,YAAY,OAAO,MAAM,YAAY,OAAO,MAAM,WAAW;AAC5E,WACE,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cAAa,WAAU,aAC3C,aACH;AAAA,EAEJ,WAAW,aAAa,OAAO;AAC7B,WACE,6DAAE;AAAA;AAAA,MAEA,oCAAC,SAAI,OAAO,EAAE,YAAY,MAAM,GAC7B,YAAE,IAAI,CAAC,OAAO,UAAU;AACvB,eACE,qCAAC,SACC;AAAA,8CAAC,SAAM,GAAG,OAAO;AAAA,UAChB,QAAQ,EAAE,SAAS,KAAK,4DAAE,eAAC;AAAA,aAFpB,KAGV;AAAA,MAEJ,CAAC,GACH;AAAA,MAAM;AAAA,OAER;AAAA,EAEJ,WAAW,OAAO,MAAM,UAAU;AAChC,WAAO,oCAAC,cAAW,GAAG,GAAG;AAAA,EAC3B,OAAO;AACL,WAAO,4DAAG,eAAK,UAAU,CAAC,GAAE;AAAA,EAC9B;AACF;AAEA,SAAS,WAAW,EAAE,EAAE,GAAe;AACrC,SACE,4DACG,iBAAO,KAAK,CAAC,EACX,OAAO,OAAK,CAAC,EAAE,WAAW,GAAG,CAAC,EAC9B,IAAI,OAAK;AACR,WACE,qCAAC,eAAG,IAAS,YAAW,QAAO,IAAG,YAChC;AAAA,2CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cAAc;AAAA;AAAA,QAAE;AAAA,SAAC;AAAA,MAAc;AAAA,MAAC,oCAAC,SAAM,GAAG,EAAE,CAAC,GAAG;AAAA,SAD/D,CAEV;AAAA,EAEJ,CAAC,GACL;AAEJ;AAEO,SAAS,WAAW,EAAE,QAAQ,GAAmD;AACtF,SACE,oCAAC,eAAG,IAAC,WAAU,SACb;AAAA,IAAC,eAAG;AAAH;AAAA,MACC,IAAG;AAAA,MACH,QAAO;AAAA,MACP,cAAa;AAAA,MACb,IAAG;AAAA,MACH,IAAG;AAAA,MAEH,8CAAC,iBAAK,IAAC,KAAI,YACT,8CAAC,cAAW,GAAG,QAAQ,UAAU,GACnC;AAAA;AAAA,EACF,GACF;AAEJ;;;;;;;;AC5DO;AACqB;AAMrB,SAAS,4BAA4B;AAAA,EAC1C;AAAA,EACA;AACF,GAAkE;AAChE,SAAO;AAAA,IACL,QAAQ,oCAAc;AAAd,IACR,QAAQ,qCAAe,CAAC;AAAA,IACxB,SAAS;AAAA,MACP,sBAAsB;AAAA,MACtB,uBAAuB;AAAA,IACzB;AAAA,EACF;AACF;AAOO,SAAS,sBAAsB,EAAE,gBAAgB,MAAM,MAAM,GAA8B;AAChG,QAAM,kBAAkB,4BAA4B,EAAE,SAAS,gBAAgB,UAAU,KAAK,CAAC;AAC/F,SAAO,KAAK,YAAY,OAAO,eAAe;AAC9C,+BAAW,CAAC;AACd;;;;ACpBI;AAhB0C;AACvB;AAEA;AAOhB,SAAS,mBAAmB;AAAA,EACjC;AAAA,EACA;AAAA,EACA;AACF,GAA4B;AAC1B,SACE,qCAAC,kBAAM,IACL;AAAA,wCAAC,0BAAM,IAAC,SAAS,UAAU,UAAU,GAAG,SAAQ,WAAU,oBAE1D;AAAA,IACA;AAAA,MAAC,0BAAM;AAAN;AAAA,QACC,aAAW;AAAA,QACX,eAAa,6BAA6B,CAAC;AAAA,QAC3C,MAAK;AAAA,QACL,UAAU;AAAA,QACV,SAAS;AAAA,QACV;AAAA;AAAA,IAED;AAAA,KACF;AAEJ;;;;ACyDI;AAxFkC;AAGR;AAOvB;AAEiB;AAEc;AACZ;AAEc;AACY;AAEjB;AAEnC,SAAS,iCAAiC;AACxC,QAAM,UAAU,wDAAuB,CAAC;AAExC,SAAO,qBAAW;AAAX,IACL,OAAO,kBAAuC;AAC5C,YAAM,UAAU,+BAAa,CAAC;AAE9B,UAAI,CAAC,WAAW,QAAQ,SAAS,SAAU,QAAO;AAElD,YAAM,WAAW,MAAM,QAAQ,GAAG,8BAAO,WAAW;AACpD,YAAM,EAAE,gBAAgB,IAAiC,MAAM,SAAS,KAAK;AAC7E,YAAM,aAAa,MAAM,iDAAsB,CAAC;AAAA,QAC9C;AAAA,QACA,YAAY;AAAA,MACd,CAAC;AACD,YAAM,UAAW,MAAM,8CAAmB,CAAC,YAAY,OAAO,KAAM,sCAAe;AACnF,YAAM,iBAAiB;AAAA,QACrB,GAAG;AAAA,QACH,GAAG;AAAA;AAAA,QAEH,MAAM,QAAQ;AAAA,QACd,UAAU,QAAQ;AAAA,MACpB;AACA,YAAM,+CAAoB,CAAC;AAAA,QACzB,SAAS;AAAA,QACT;AAAA,QACA,YAAY,8BAAO;AAAP,MACd,CAAC;AACD,aAAO;AAAA,IACT;AAAA,IACA,CAAC,OAAO;AAAA,EACV;AACF;AAEO,SAAS,aAAa;AAAA,EAC3B;AACF,GAE6B;AAC3B,QAAM,EAAE,SAAS,cAAc,IAAI;AAEnC,QAAM,EAAE,OAAO,aAAa,IAAI,mCAAmC,CAAC;AACpE,QAAM,8BAA8B,+BAA+B;AACnE,QAAM,CAAC,WAAW,YAAY,IAAI,kBAAQ,CAAC,KAAK;AAEhD,MAAI,CAAC,gBAAgB,CAAC,MAAO,QAAO;AAEpC,QAAM,kBAAkB,YAAY;AAClC,iBAAa,IAAI;AACjB,SAAK,2BAAS,CAAC,MAAM,+BAA+B;AACpD,UAAM,SAAS,MAAM,4BAA4B,aAAa;AAC9D,iBAAa,KAAK;AAElB,yBAAqB,CAAC;AAAA,MACpB,gBAAgB;AAAA,MAChB;AAAA,MACA,MAAM,WAAW,OAAO,WAAW;AAAA;AAAA,IACrC,CAAC;AAAA,EACH;AAEA,QAAM,WAAW,YAAY;AAC3B,SAAK,2BAAS,CAAC,MAAM,+BAA+B;AACpD,yBAAqB,CAAC,EAAE,gBAAgB,cAAc,OAAO,MAAM,SAAS,CAAC;AAAA,EAC/E;AAEA,SACE;AAAA,IAAC,kBAAkB;AAAlB;AAAA,MACC;AAAA,MACA;AAAA,MACA;AAAA;AAAA,EACF;AAEJ;;;;AC1EI;AApBoB;AACD;AAEwB;AACpB;AACM;AAEN;AACE;AAMtB,SAAS,mBAAmB,OAAgC;AACjE,QAAM,EAAE,aAAa,IAAI;AACzB,QAAM,uBAAuB,8BAA8B,CAAC,YAAY;AACxE,QAAM,SAAS,IAAI,sBAAM,CAAC,qBAAqB,OAAO;AACtD,QAAM,EAAE,QAAQ,IAAI;AACpB,SACE,6DACE;AAAA,wCAAC,UAAU,IAAC,SAAS,QAAQ;AAAA,IAC7B,oCAAC,2CAAgB,IAAC,SAAS,SAAS,WAAW,kCAAO,CAAC,SAAS;AAAA,IAChE,oCAAC,YAAY,IAAC,uBAAuB,sBAAsB;AAAA,IAC3D,oCAAC,QAAG;AAAA,IACJ;AAAA,MAAC,4BAAU;AAAV;AAAA,QACC,gBAAe;AAAA,QACf,cAAa;AAAA;AAAA,IACf;AAAA,KACF;AAEJ;;;;ACnBI;AAZmB;AAEoB;AAKpC,SAAS,qCAAY,CAAC,OAA0B;AACrD,QAAM,EAAE,aAAa,IAAI;AACzB,MAAI,CAAC,aAAc,QAAO;AAE1B,SACE,qCAAC,kBAAM,IAAC,YAAW,UAAS,IAAG,WAAU,GAAE,YAAW,cAAa,MACjE;AAAA,wCAAC,qCAAiB,IAAC;AAAA,IACnB,oCAAC,2BAAO,IAAC,OAAM,8BAA8B,wBAAa;AAAA,KAC5D;AAEJ;;;;ACWM;AA5Be;AAEO;AAEG;AAEgB;AACD;AACP;AACa;AAEpD,SAAS,oBAAW,GAAG;AACrB,QAAM,EAAE,WAAW,MAAM,IAAI,iDAAsB,CAAC;AACpD,QAAM,EAAE,QAAQ,aAAa,IAAI,mCAAmC,CAAC;AACrE,MAAI,CAAC,aAAc,QAAO;AAC1B,QAAM,wBAAwB,8BAA8B,CAAC,YAAY;AACzE,MAAI,CAAC,sBAAuB,QAAO;AACnC,QAAM,UAAU,uBAAuB,YAAY;AACnD,QAAM,iBAAiB,SAAS,KAAK,uCAAc,CAAC,MAAM,CAAC,MAAM;AACjE,QAAM,kBAAkB,YACpB,UAAU,uCAAc,CAAC,MAAM,OAAO,GAAG,CAAC,GAAG,sCAAa,CAAC,MAAM,OAAO,GAAG,CAAC,KAC5E;AACJ,QAAM,UAAU,UACZ,iBAAiB,OAAO,IAAI,cAAc,GAAG,eAAe,KAC5D;AACJ,QAAM,YAAY,uBAAuB,SAAS,QAAQ,CAAC,GAAG;AAC9D,SACE,qCAAC,gBAAI,IAAC,SAAQ,iBAAgB,OAAM,UAClC;AAAA,yCAAC,iBAAK,IAAC,IAAG,YAAW,KAAI,YACvB;AAAA,0CAAC,yBAAK,IAAC,4BAAc;AAAA,MACpB,WAAW,oCAAC,2BAAO,IAAC,WAAU,cAAc,mBAAQ;AAAA,OACvD;AAAA,IACC,aACC;AAAA,MAAC;AAAA;AAAA,QACC,OAAO;AAAA,UACL,cAAc;AAAA,UACd,OAAO;AAAA,UACP,QAAQ;AAAA,UACR,YAAY;AAAA,UACZ,WAAW;AAAA,QACb;AAAA,QACA,KAAK;AAAA;AAAA,IACP;AAAA,KAEJ;AAEJ;AAEO,MAAM,gBAAO,GAAG,cAAI,CAAC,oBAAW;;;;ACrCnC;AAXkB;AAEM;AAEJ;AAKjB,SAAS,2BAA2B,EAAE,SAAS,GAAoC;AACxF,SACE,6DACE;AAAA,wCAAC,+BAAW,IAAC,mBAAiB,MAAC,SAAQ,OAAM;AAAA,IAC7C;AAAA,MAAC,iBAAK;AAAL;AAAA,QACC,IAAG;AAAA,QACH,IAAI,CAAC,YAAY,YAAY,OAAO;AAAA,QACpC,KAAI;AAAA,QACJ,OAAM;AAAA,QAEN;AAAA,8CAAC,gBAAO,IAAC;AAAA,UACR;AAAA;AAAA;AAAA,IACH;AAAA,KACF;AAEJ;;;;ACAQ;AAxBa;AAEO;AAEA;AAEQ;AAI7B;AAE4B;AACN;AACc;AAE3C,SAAS,2BAA2B;AAClC,QAAM,4BAA4B,8BAA8B,CAAC;AACjE,QAAM,EAAE,aAAa,IAAI,mCAAmC,CAAC;AAE7D,qBAAmB,CAAC,MAAM,6BAAW,CAAC,CAAC;AACvC,MAAI,kCAAW,CAAC,yBAAyB,KAAK,CAAC,6BAA6B,CAAC;AAC3E,WACE,oCAAC,0BAA0B,IACzB;AAAA,MAAC,qCAAY;AAAZ;AAAA,QACC,cAAc,iCACZ,CAAC,6BAA6B,uCAChC;AAAA;AAAA,IACF,GACF;AAGJ,SACE,oCAAC,0BAA0B,IACzB,8CAAC,kBAAkB,IAAC,cAA4B,GAClD;AAEJ;AAEO,MAAM,uBAAuB,cAAI,CAAC,wBAAwB;;;;ACrB/D;AAlBuB;AACH;AAEI;AAEU;AACL;AACkB;AACL;AACE;AAClB;AACa;AACN;AACE;AACT;AACW;AAEhC,MAAM,sBACX,6DACE;AAAA;AAAA,IAAC,+BAAK;AAAL;AAAA,MACC,MAAM,2BAAS,CAAC;AAAA,MAChB,SACE,oCAAC,gCAAW,IACV,8CAAC,cAAQ,IAAC,UAAU,oCAAC,sBAAsB,IAAC,GAC1C,8CAAC,6BAA6B,IAC5B,8CAAC,kBAAkB,IAAC,GACtB,GACF,GACF;AAAA,MAGD;AAAA,mCAA2B;AAA3B,QACD,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,WAAW,SAAS,oCAAC,cAAc,IAAC,GAAI;AAAA,QAC/D,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,2BAA2B,SAAS,oCAAC,mBAAmB,IAAC,GAAI;AAAA;AAAA;AAAA,EACtF;AAAA,EACA;AAAA,IAAC,+BAAK;AAAL;AAAA,MACC,MAAM,2BAAS,CAAC;AAAA,MAChB,SACE,oCAAC,gCAAW,IACV,8CAAC,cAAQ,IAAC,UAAU,oCAAC,sBAAsB,IAAC,GAC1C,8CAAC,wBAAwB,IAAC,GAC5B,GACF;AAAA,MAGD,0CAAgC;AAAhC;AAAA,EACH;AAAA,EACA;AAAA,IAAC,+BAAK;AAAL;AAAA,MACC,MAAM,2BAAS,CAAC;AAAA,MAChB,SACE,oCAAC,gCAAW,IACV,8CAAC,cAAQ,IAAC,UAAU,oCAAC,sBAAsB,IAAC,GAC1C,8CAAC,oBAAoB,IAAC,GACxB,GACF;AAAA;AAAA,EAEJ;AAAA,EACA;AAAA,IAAC,+BAAK;AAAL;AAAA,MACC,MAAM,2BAAS,CAAC;AAAA,MAChB,SACE,oCAAC,gCAAW,IACV,8CAAC,cAAQ,IAAC,UAAU,oCAAC,sBAAsB,IAAC,GAC1C,8CAAC,WAAW,IAAC,GACf,GACF;AAAA;AAAA,EAEJ;AAAA,GACF;;;;;;;;AC5CM;AAvBY;AACA;AAEI;AAMjB,SAAS,iBAAiB,EAAE,UAAU,GAA0B;AACrE,SACE;AAAA,IAAC,eAAG;AAAH;AAAA,MACC,IAAG;AAAA,MACH,GAAE;AAAA,MACF,cAAa;AAAA,MACb,SAAQ;AAAA,MACR,aAAY;AAAA,MACZ,aAAY;AAAA,MACZ,OAAM;AAAA,MACN,QAAO;AAAA,MAGP,8CAAC,eAAG,IAAC,WAAW,mBAAG,CAAC,EAAE,WAAW,aAAa,CAAC,GAC7C,8CAAC,2BAAO,IAAC,QAAQ,WAAW,MAAM,IAAW,GAC/C;AAAA;AAAA,EACF;AAEJ;;;;ACsDQ;AA/EqC;AACH;AASnC;AACe;AAEM;AAED;AACM;AAS1B,SAAS,mBAAmB;AAAA,EACjC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA4B;AAC1B,QAAM,sBAAsB,6CAAoB,CAAC;AACjD,QAAM,oBAAoB,6CAAoB,CAAC;AAC/C,QAAM,kBAAkB,6CAAoB,CAAC;AAE7C,oCAAU,CAAC,MAAM;AAEf,QAAI,SAAS,QAAQ,SAAS,KAAK,eAAe;AAChD,eAAS,KAAK,cAAc,MAAM,aAChC;AAAA,IACJ;AAAA,EACF,CAAC;AAED,iBAAe,2BAA2B;AACxC,wBAAoB;AACpB,UAAM,OAAO,OAAO,cAAc,IAAI;AACtC,UAAM,OAAO,KAAK,IAAI,OAAO,aAAa,GAAG,GAAG,IAAI;AACpD,UAAM,kBAAkB,MAAM;AAAA,MAC5B,SAAS;AAAA,MACT,YAAY,EAAE,UAAU,IAAI;AAAA,MAC5B,eAAe;AAAA,IACjB,CAAC;AACD,UAAM,oBAAoB,MAAM;AAAA,MAC9B,GAAG;AAAA,MACH,GAAG;AAAA,MACH,OAAO;AAAA,MACP,QAAQ;AAAA,IACV,CAAC;AACD,UAAM,gBAAgB,MAAM,EAAE,OAAO,KAAK,KAAK,KAAK,CAAC;AACrD,UAAM,4BAAK,CAAC,GAAG;AACf,+BAA2B;AAC3B,UAAM,4BAAK,CAAC,GAAG;AACf,UAAM,oBAAoB,MAAM;AAAA,MAC9B,OAAO;AAAA,MACP,SAAS;AAAA,MACT,KAAK;AAAA,IACP,CAAC;AACD,iCAAW,CAAC;AAAA,EACd;AAEA,SACE;AAAA,IAAC,gBAAI;AAAJ;AAAA,MACC,SAAQ;AAAA,MACR,MAAK;AAAA,MACL,YAAW;AAAA,MACX,WAAU;AAAA,MAEV;AAAA,4CAAC,eAAG,IAAC,IAAG,YAAW,IAAG,YAAW,QAAQ,IAAI,OAAO,IAClD,8CAAC,uCAAmB,IAAC,QAAQ,IAAI,OAAO,IAAI,GAC9C;AAAA,QACA,oCAAC,gBAAI,IAAC,QAAQ,GACZ,+CAAC,mBAAM,CAAC,KAAP,EAAW,OAAO,EAAE,SAAS,gBAAgB,QAAQ,EAAE,GAAG,SAAS,qBAClE;AAAA,8CAAC,eAAG,IAAC,IAAG,YAAW,IAAG,YACpB,8CAAC,gBAAgB,IAAC,WAAsB,GAC1C;AAAA,UACA;AAAA,YAAC,mBAAM,CAAC;AAAA,YAAP;AAAA,cACC,SAAS;AAAA,cACT,OAAO,EAAE,UAAU,YAAY,QAAQ,GAAG,KAAK,OAAO,MAAM,MAAM;AAAA,cAClE,SAAS,EAAE,OAAO,EAAE;AAAA,cACpB,KAAI;AAAA;AAAA,UACN;AAAA,WACF,GACF;AAAA,QACA,oCAAC,mBAAM,CAAC,KAAP,EAAW,SAAS,mBAAmB,OAAO,EAAE,SAAS,QAAQ,MAAM,EAAE,GACxE,+CAAC,4BAAQ,IAAC,WAAsB,OAAM,QAAO,IAAG,YAC9C;AAAA;AAAA,YAAC,4BAAQ,CAAC;AAAA,YAAT;AAAA,cACC,OAAM;AAAA,cACN,MACE;AAAA,gBAAC,kBAAM,CAAC;AAAA,gBAAP;AAAA,kBACC,SAAQ;AAAA,kBACR,GAAE;AAAA,kBACF,QAAO;AAAA,kBACP,MAAK;AAAA,kBAEL,8CAAC,sCAAkB,IAAC,SAAQ,SAAQ;AAAA;AAAA,cACtC;AAAA,cAEF,wBAAwB,OAAK;AAC3B,kBAAE,eAAe;AACjB,uCAAuB;AAAA,cACzB;AAAA;AAAA,UACF;AAAA,UACA,qCAAC,4BAAQ,CAAC,SAAT,EACC;AAAA,gDAAC,4BAAQ,CAAC,WAAT,EAAmB,0BAAY;AAAA,YAChC,oCAAC,eAAG,IAAC,IAAG,YAAY,yBAAc;AAAA,aACpC;AAAA,UACA,qCAAC,4BAAQ,CAAC,SAAT,EACC;AAAA,gDAAC,4BAAQ,CAAC,WAAT,EAAmB,oCAAsB;AAAA,YAC1C,oCAAC,kBAAM,IAAC,KAAI,YAAW,IAAG,YACvB,WAAC,mCAAmC,mCAAmC,EAAE;AAAA,cACxE,UACE,oCAAC,wBAAI,IAAY,KAAK,oCAAC,iCAAa,IAAC,SAAQ,SAAQ,GACnD,8CAAC,kBAAM,CAAC,GAAP,EAAS,WAAU,cAAc,gBAAK,KAD9B,IAEX;AAAA,YAEJ,GACF;AAAA,aACF;AAAA,UACA;AAAA,YAAC,4BAAQ,CAAC;AAAA,YAAT;AAAA,cACC,SAAS;AAAA,gBACP,oCAAC,0BAAM,IAAc,SAAQ,WAAU,SAAS,MAAM,6BAAW,CAAC,GAAG,oBAAzD,QAEZ;AAAA,gBACA;AAAA,kBAAC,0BAAM;AAAN;AAAA,oBAEC,SAAS;AAAA,oBACT,eAAY;AAAA,oBACb;AAAA;AAAA,kBAHK;AAAA,gBAKN;AAAA,cACF;AAAA;AAAA,UACF;AAAA,WACF,GACF;AAAA;AAAA;AAAA,EACF;AAEJ;;;;;;ACrJwB;AAEgB;AACJ;AAE7B,SAAS,sBAAsB;AACpC,QAAM,gBAAgB,oEAAuB,CAAC;AAC9C,SAAO,iBAAO;AAAP,IACL,OAAO;AAAA,MACL,GAAG;AAAA,MACH,WAAW,iDAAmB,CAAC,IAAI,WAAW,KAAK;AAAA,IACrD;AAAA,IACA,CAAC,aAAa;AAAA,EAChB;AACF;;;;;;ACb2B;AAEa;AAEjB;AACgB;AACb;AAEU;AACgB;AACL;AACP;AACN;AAE3B,SAAS,kBAAkB;AAChC,QAAM,cAAc,kDAAiB,CAAC;AACtC,QAAM,EAAE,OAAO,QAAQ,UAAU,IAAI,mBAAmB,CAAC;AAEzD,QAAM,2BAA2B,2EAAmC,CAAC;AACrE,QAAM,sBAAsB,gEAA8B,CAAC;AAC3D,QAAM,gBAAgB,wDAAuB,CAAC;AAE9C,WAAS,oBAAoB;AAC3B,SAAK,2BAAS,CAAC,MAAM,kCAAkC,EAAE,UAAU,eAAe,CAAC;AACnF,WAAO,KAAK,OAAO,SAAS,GAAG,EAAE,QAAQ,KAAK,GAAG,SAAO;AACtD,UAAI,CAAC,IAAK;AACV,aAAO,QAAQ,OAAO,IAAI,UAAU,EAAE,SAAS,KAAK,CAAC;AAAA,IACvD,CAAC;AAAA,EACH;AAEA,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA,4BAA4B;AAC1B,UAAI,CAAC,SAAS,CAAC,QAAQ;AACrB,4BAAM,CAAC,MAAM,iDAAiD;AAC9D;AAAA,MACF;AAEA,WAAK,2BAAS,CAAC,MAAM,+BAA+B,EAAE,OAAO,CAAC;AAE9D,kBAAY,qBAAqB,MAAM;AAEvC,YAAM,0BAA0B,CAAC;AAEjC,UAAI,0BAA0B;AAC5B,cAAM,qBAAqB,yBAAyB,CAAC;AAErD,cAAM,8BAA0C;AAAA,UAC9C,QAAQ;AAAA,UACR,MAAM;AAAA,UACN,SAAS,mBAAmB;AAAA,UAC5B,WAAW,gCAAU,CAAC,mBAAmB,SAAS;AAAA,UAClD,gBAAgB,mBAAmB;AAAA,QACrC;AAEA,gCAAwB,KAAK,2BAA2B;AAAA,MAC1D;AAEA,UAAI,qBAAqB;AACvB,cAAM,gBAAgB,oBAAoB,CAAC;AAC3C,cAAM,yBAAqC;AAAA,UACzC,QAAQ;AAAA,UACR,MAAM;AAAA,UACN,SAAS,cAAc;AAAA,UACvB,WAAW,gCAAU,CAAC,cAAc,SAAS;AAAA,UAC7C,kBAAkB,gCAAU,CAAC,gDAAuB,CAAC,cAAc,SAAS,CAAC;AAAA,UAC7E,gBAAgB,cAAc;AAAA,QAChC;AACA,gCAAwB,KAAK,sBAAsB;AAAA,MACrD;AAEA,UAAI,eAAe;AACjB,cAAM,wBAAwB;AAAA,UAC5B,QAAQ;AAAA,UACR,SAAS,cAAc,WAAW;AAAA,UAClC,WAAW,cAAc,gBAAgB;AAAA,QAC3C;AAEA,gCAAwB,KAAK,qBAAqB;AAAA,MACpD;AAEA,aAAO,KAAK;AAAA,QACV;AAAA,QACA,6CAAsB,CAAC,gBAAgB;AAAA,UACrC,IAAI;AAAA,UACJ,QAAQ,EAAE,WAAW,wBAA+B;AAAA,QACtD,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACF;AACF;;;;AChD4B;AA5CR;AAEQ;AAEU;AACA;AACF;AACF;AACI;AACJ;AACE;AACG;AACD;AACJ;AACA;AAEC;AACH;AAEzB,SAAS,kBAAkB;AAChC,QAAM,EAAE,mBAAmB,QAAQ,0BAA0B,IAAI,eAAe,CAAC;AACjF,QAAM,QAAQ,mDAAsB,CAAC;AACrC,QAAM,iBAAiB,kDAAiB,CAAC;AACzC,QAAM,aAAa,eAAe,KAAK,GAAG,WAAW;AACrD,QAAM,EAAE,MAAM,OAAO,GAAG,IAAI,kDAAqB,CAAC,EAAE,SAAS,YAAY,MAAM,CAAC;AAChF,QAAM,gBAAgB,6DAAqB,CAAC,KAAK;AACjD,QAAM,iBAAiB,gBAAgB,CAAC,EAAE,WAAW;AAErD,qBAAmB,CAAC,MAAM,6BAAW,CAAC,CAAC;AAEvC,QAAM,EAAE,oBAAoB,IAAI,iEAAqB,CAAC;AAEtD,MAAI,WAAW,MAAM;AACnB,iCAAW,CAAC;AACZ,UAAM,IAAI,MAAM,gBAAgB;AAAA,EAClC;AAEA,SACE;AAAA,IAAC,kBAAkB;AAAlB;AAAA,MACC,WAAW;AAAA,MACX,wBAAwB;AAAA,MACxB,eACE;AAAA,QAAC,qBAAqB;AAArB;AAAA,UACC,aAAW;AAAA,UACX,kBAAkB,oCAAC,iBAAiB,IAAC,OAAc;AAAA,UACnD,aAAa,oCAAC,iBAAiB,IAAC,WAAW,OAAQ,gBAAK;AAAA,UACxD,QACE;AAAA,YAAC,iBAAiB;AAAjB;AAAA,cACC;AAAA,cACA,WAAW,eAAe,KAAK,GAAG,gBAAgB;AAAA,cAClD;AAAA;AAAA,UACF;AAAA,UAEF;AAAA;AAAA,YAEE,oCAAC,eAAG,IAAC,KAAI,YAAW,KAAK,IACvB,8CAAC,mBAAmB,IAAC,YAAwB,YAAY,gBAAgB,GAC3E;AAAA;AAAA,UAEF,OAAO;AAAA,UACP,WAAW;AAAA,UACX,YAAY;AAAA,UACZ,iBAAiB,MAAM,oBAAoB;AAAA;AAAA,MAC7C;AAAA,MAEF,4BAA4B;AAAA;AAAA,EAC9B;AAEJ;;;;AC7CU;AAvB4B;AAEM;AASrC,SAAS,oBAAoB,EAAE,YAAY,eAAe,GAA6B;AAC5F,SACE,oCAAC,iBAAK,IAAC,OAAM,QACV,qBAAW,IAAI,CAAC,EAAE,SAAS,OAAO,GAAG,UACpC;AAAA,IAAC,iBAAK;AAAL;AAAA,MAEC,QAAO;AAAA,MACP,cAAa;AAAA,MACb,KAAI;AAAA,MACJ,GAAE;AAAA,MACF,OAAM;AAAA,MAEN;AAAA,6CAAC,kBAAM,IAAC,YAAW,UAAS,KAAI,YAAW,gBAAe,iBACxD;AAAA,8CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cAAa,kBAAI;AAAA,UACxC,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAY,+CAAc,CAAC,cAAc,GAAE;AAAA,WACpE;AAAA,QACA,qCAAC,kBAAM,IAAC,YAAW,UAAS,KAAI,YAAW,gBAAe,iBACxD;AAAA,8CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cAAa,gBAAE;AAAA,UACtC,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAY,+CAAc,CAAC,OAAO,GAAE;AAAA,WAC7D;AAAA,QACA,qCAAC,kBAAM,IAAC,YAAW,UAAS,KAAI,YAAW,gBAAe,iBACxD;AAAA,8CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,cAAa,oBAAM;AAAA,UAC1C,oCAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAY,4CAAW,CAAC,MAAM,GAAE;AAAA,WACzD;AAAA;AAAA;AAAA,IAlBK,UAAU;AAAA,EAmBjB,CACD,GACH;AAEJ;;;;ACxBI;AAfyB;AAER;AAEG;AAMjB,SAAS,mBAAmB,EAAE,QAAQ,OAAO,GAA4B;AAC9E,QAAM,QAAQ,QAAQ,MAAM;AAC5B,QAAM,UAAU,SAAS,gBAAgB,MAAM,KAAK;AAEpD,SACE,qCAAC,gBAAI,IAAC,eAAc,UAAS,IAAG,YAAW,OAAM,QAC/C;AAAA,wCAAC,kBAAM,CAAC,IAAP,EAAU,IAAG,YAAW,WAAU,cAChC,iBACH;AAAA,IACC,WACC,oCAAC,wBAAI,IAAC,KAAK,oCAAC,sBAAO,IAAC,QAAgB,GAAI,IAAG,YACzC,8CAAC,kBAAM,CAAC,MAAP,EAAY,WAAU,YAAW,WAAU,cACzC,mBACH,GACF;AAAA,KAEJ;AAEJ;;;;AC5BwB;AACI;AAEN;AAEkB;AAEd;AAEc;AACb;AACS;AACQ;AAErC,SAAS,kCAAkC;AAChD,QAAM,gBAAgB,oEAAuB,CAAC;AAC9C,SAAO,iBAAO;AAAP,IACL,OAAO;AAAA,MACL,GAAG;AAAA,MACH,WAAW,iDAAmB,CAAC,IAAI,WAAW,KAAK;AAAA,MACnD,qBAAqB,iDAAmB,CAAC,OAAO,WAAW,KAAK,CAAC;AAAA,MACjE,SAAS,iDAAmB,CAAC,OAAO,QAAQ,KAAK,CAAC;AAAA,IACpD;AAAA,IACA,CAAC,aAAa;AAAA,EAChB;AACF;AAEO,SAAS,qBAAqB;AACnC,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,EAAE,QAAQ,qBAAqB,QAAQ,IAAI,gCAAgC;AACjF,QAAM,EAAE,MAAM,QAAQ,CAAC,GAAG,mBAAmB,IAAI,2BAA2B,CAAC;AAC7E,QAAM,cAAc,iCAAU,CAAC,QAAQ,IAAI,MAAM,CAAC;AAClD,QAAM,gBAAgB,kCAAW,CAAC,IAAI,wBAAS,CAAC,WAAW,GAAG,KAAK;AAGnE,oCAAU,CAAC,MAAM,mBAAmB,QAAQ,CAAC;AAE7C,MAAI,CAAC,OAAQ,OAAM,IAAI,MAAM,gBAAgB;AAE7C,QAAM,aAAa,oBAAoB,IAAI,CAAC,SAAS,WAAW;AAAA,IAC9D;AAAA,IACA,QAAQ,kCAAW,CAAC,OAAO,QAAQ,KAAK,CAAC,GAAG,KAAK;AAAA,EACnD,EAAE;AAEF,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,MAAM,sBAAsB;AAC1B,eAAS,2BAAS,CAAC,0BAA0B;AAAA,QAC3C,OAAO,EAAE,YAAY,OAAO,cAAc;AAAA,MAC5C,CAAC;AAAA,IACH;AAAA,EACF;AACF;;;;AClCI;AAvBkB;AAEC;AACwB;AAEhB;AACc;AACgB;AAEzB;AACD;AACA;AAE5B,SAAS,kBAAkB;AAChC,QAAM,qBAAqB,oFAA4C,CAAC;AACxE,QAAM,EAAE,YAAY,qBAAqB,aAAa,qBAAqB,OAAO,IAChF,kBAAkB,CAAC;AACrB,QAAM,gBAAgB,kCAAW,CAAC,IAAI,wBAAS,CAAC,WAAW,GAAG,KAAK;AACnE,QAAM,iBAAiB,wCAAiB,CAAC,aAAa;AAEtD,8BAA4B,CAAC,mBAAmB;AAEhD,SACE,6DACE;AAAA,wCAAC,kBAAkB,IAAC,QAAQ,gBAAgB,QAAgB;AAAA,IAC5D,oCAAC,mBAAmB,IAAC,YAAwB,gBAAgB,mBAAmB,SAAS;AAAA,IACzF,oCAAC,gCAAc,IACb,8CAAC,0BAAM,IAAC,cAAa,MAAK,UAAU,GAAG,SAAS,qBAAqB,sBAErE,GACF;AAAA,KACF;AAEJ;;;;ACjCwB;AAEwB;AAKzC;AAMA;AAQA;AAIP,SAAS,uDAAa,CACpB,0BACA,cACA;AACA,MAAI;AACF,UAAM,EAAE,IAAI,IAAI,eACZ,yBAAyB,CAAC,wBAAwB,IAClD,sBAAsB,CAAC,wBAAwB;AACnD,WAAO;AAAA,EACT,SAAS,OAAO;AACd,WAAO;AAAA,EACT;AACF;AAOO,SAAS,4DAAkB,CAAC,EAAE,QAAQ,YAAY,MAAM,GAA2B;AACxF,QAAM,gBAAgB,8DAAsC,CAAC,KAAK;AAClE,QAAM,EAAE,MAAM,UAAU,UAAU,IAAI,iDAAyB,CAAC;AAEhE,QAAM,WAA2B,iBAAO,CAAC,MAAM;AAC7C,aAAS,gBAAgB,KAAa;AACpC,aAAO,KAAK,yCAAkB;AAAlB,QACV,gDAAyB,CAAC,kCAAW,CAAC,KAAK,KAAK,GAAG,GAAG,KAAK,GAAG,aAAa;AAAA,MAC7E,CAAC;AAAA,IACH;AAEA,QAAI,CAAC,YAAY,CAAC,MAAM,OAAQ,QAAO,CAAC;AAExC,UAAM,YAAY,OAAO,OAAO,SAAS;AAEzC,UAAM,4BAA4B;AAAA,MAChC,QAAQ;AAAA,MACR;AAAA,MACA;AAAA,IACF;AAEA,UAAM,+BAA+B;AAAA,MACnC,GAAG;AAAA,MACH,SAAS,SAAS,WAAW,SAAS;AAAA,IACxC;AAEA,UAAM,mCAAmC;AAAA,MACvC,GAAG;AAAA,MACH,SAAS,SAAS,YAAY,SAAS;AAAA,IACzC;AAEA,UAAM,8BAA8B;AAAA,MAClC,GAAG;AAAA,MACH,SAAS,SAAS,QAAQ,SAAS;AAAA,IACrC;AAEA,UAAM,UAAU,CAAC;AAEjB,UAAM,eAAe,uDAAa,CAAC,4BAA4B;AAC/D,UAAM,mBAAmB,uDAAa,CAAC,gCAAgC;AACvE,UAAM,cAAc,uDAAa,CAAC,2BAA2B;AAE7D,QAAI,cAAc;AAChB,cAAQ,KAAK;AAAA,QACX,OAAO,8BAAU,CAAC;AAAA,QAClB,OAAO;AAAA,QACP,UAAU,wCAAiB,CAAC,kCAAW,CAAC,cAAc,KAAK,CAAC;AAAA,QAC5D,MAAM,gCAAY,CAAC;AAAA,QACnB,WAAW,gBAAgB,YAAY;AAAA,QACvC,SAAS,SAAS,WAAW,SAAS;AAAA,MACxC,CAAC;AAAA,IACH;AAEA,QAAI,kBAAkB;AACpB,cAAQ,KAAK;AAAA,QACX,OAAO,8BAAU,CAAC;AAAA,QAClB,OAAO;AAAA,QACP,UAAU,wCAAiB,CAAC,kCAAW,CAAC,kBAAkB,KAAK,CAAC;AAAA,QAChE,MAAM,gCAAY,CAAC;AAAA,QACnB,WAAW,gBAAgB,gBAAgB;AAAA,QAC3C,SAAS,SAAS,YAAY,SAAS;AAAA,MACzC,CAAC;AAAA,IACH;AAEA,QAAI,aAAa;AACf,cAAQ,KAAK;AAAA,QACX,OAAO,8BAAU,CAAC;AAAA,QAClB,OAAO;AAAA,QACP,UAAU,wCAAiB,CAAC,kCAAW,CAAC,aAAa,KAAK,CAAC;AAAA,QAC3D,MAAM,gCAAY,CAAC;AAAA,QACnB,WAAW,gBAAgB,WAAW;AAAA,QACtC,SAAS,SAAS,QAAQ,SAAS;AAAA,MACrC,CAAC;AAAA,IACH;AAEA,WAAO;AAAA,EACT,GAAG,CAAC,OAAO,QAAQ,eAAe,UAAU,YAAY,KAAK,CAAC;AAE9D,SAAO;AAAA,IACL;AAAA,IACA;AAAA,EACF;AACF;;;;AC9FI;AAhCqB;AACgB;AAEpB;AAIO;AAEA;AAEO;AAM5B,SAAS,0BAA0B;AACxC,QAAM,UAAU,8CAAgB,CAA8B;AAC9D,SAAO,EAAE,GAAG,QAAQ;AACtB;AAEO,SAAS,2BAA2B;AACzC,QAAM,CAAC,iBAAiB,kBAAkB,IAAI,kBAAQ,CAAoB,IAAI;AAC9E,QAAM,EAAE,OAAO,IAAI,kBAAkB,CAAC;AAEtC,MAAI,WAAW,MAAM;AACnB,iCAAW,CAAC;AACZ,UAAM,IAAI,MAAM,gBAAgB;AAAA,EAClC;AAEA,SACE,6DACE;AAAA,wCAAC,+BAAW,IAAC,mBAAiB,MAAC,SAAQ,OAAM;AAAA,IAC7C,oCAAC,gBAAI,IAAC,YAAW,UAAS,eAAc,UAAS,GAAE,YAAW,OAAM,QAClE,8CAAC,gCAAM,IAAC,SAAS,EAAE,iBAAiB,mBAAmB,GAAG,GAC5D;AAAA,KACF;AAEJ;;;;ACgCI;AAvEgC;AAKb;AAEG;AAEgB;AACQ;AAI3C;AAC4B;AACF;AACO;AACP;AAED;AACQ;AAExC,SAAS,6BAA6B;AACpC,QAAM,gBAAgB,yBAAyB,CAAC,eAAe;AAC/D,QAAM,aAAa,yBAAyB,CAAC,YAAY;AACzD,QAAM,QAAQ,yBAAyB,CAAC,OAAO;AAE/C,SAAO,EAAE,eAAe,OAAO,WAAW;AAC5C;AAEO,SAAS,2BAA2B;AACzC,QAAM,EAAE,iBAAiB,mBAAmB,IAAI,uBAAuB,CAAC;AACxE,QAAM,EAAE,eAAe,OAAO,WAAW,IAAI,2BAA2B;AAExE,QAAM,WAAW,yCAAW,CAAC;AAE7B,QAAM,aAAa,iCAAiC,CAAC;AACrD,QAAM,kBAAkB,0CAAgB,CAAC;AACzC,QAAM,EAAE,UAAU,UAAU,IAAI,4DAAkB,CAAC;AAAA,IACjD,QAAQ;AAAA,IACR;AAAA,IACA;AAAA,EACF,CAAC;AACD,QAAM,qBAAqB,SAAS,CAAC,GAAG,QAAQ,SAAS,KAAK;AAE9D,QAAM,EAAE,8BAA8B,0BAA0B,IAAI,uBAAuB,CAAC;AAE5F,iBAAe,gBAAgB,EAAE,SAAS,UAAU,MAAM,YAAY,GAAoB;AACxF,UAAM,OAAO,MAAM,WAAW,EAAE,QAAQ,eAAe,WAAW,GAAG,SAAS,KAAK;AAEnF,QAAI,CAAC,KAAM,QAAO,oBAAM,CAAC,MAAM,gDAAgD;AAE/E,UAAM,KAAK,MAAM,gBAAgB,KAAK,IAAI;AAE1C,OAAG,SAAS;AAEZ,UAAM,cAAc,eAAe,CAAC,SAAS,WAAW;AAExD,aAAS,2BAAS,CAAC,6BAA6B;AAAA,MAC9C,OAAO;AAAA,QACL,KAAK;AAAA,QACL;AAAA,QACA;AAAA,QACA,IAAI,GAAG;AAAA,QACP;AAAA,MACF;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SACE,6DACE;AAAA,wCAAC,gCAAM,IAAC;AAAA,IACR;AAAA,MAAC,gBAAgB;AAAhB;AAAA,QACC,QAAQ;AAAA,QACR,oBAAoB,CAAC,SAAS;AAAA,QAC9B,UACE;AAAA,UAAC,eAAe;AAAf;AAAA,YACC;AAAA,YACA;AAAA,YACA,aAAa;AAAA,YACb,wBAAwB;AAAA,YACxB,sBAAsB,CAAC,UAA6B,mBAAmB,KAAK;AAAA,YAC5E;AAAA;AAAA,QACF;AAAA,QAEF;AAAA,QACA,cAAc;AAAA,QACd,aAAa;AAAA,QACb,sBAAsB,CAAC,UAA6B,mBAAmB,KAAK;AAAA,QAC5E,wBAAwB;AAAA,QACxB;AAAA,QACA;AAAA,QACA,WAAW;AAAA,QACX,uBAAuB,SAAS,CAAC,GAAG;AAAA,QACpC,IAAG;AAAA;AAAA,IACL;AAAA,KACF;AAEJ;;;;AClFM;AAjBgC;AAGV;AAOrB,SAAS,gCAAgC;AAAA,EAC9C;AAAA,EACA;AAAA,EACA;AACF,GAAyC;AACvC,SACE,qCAAC,iBAAK,IAAC,QAAO,UAAS,cAAa,MAAK,GAAE,YAAW,KAAI,YAAW,OAAM,QACzE;AAAA,yCAAC,kBAAM,IAAC,YAAW,UAAS,KAAI,YAAW,gBAAe,iBACxD;AAAA,0CAAC,kBAAM,CAAC,MAAP,EAAY,OAAM,oBAAmB,kBAAI;AAAA,MAC1C,oCAAC,kBAAM,CAAC,MAAP,EAAa,0BAAe;AAAA,OAC/B;AAAA,IACA,qCAAC,kBAAM,IAAC,YAAW,UAAS,KAAI,YAAW,gBAAe,iBACxD;AAAA,0CAAC,kBAAM,CAAC,MAAP,EAAY,OAAM,oBAAmB,gBAAE;AAAA,MACxC,oCAAC,kBAAM,CAAC,MAAP,EAAa,qBAAU;AAAA,OAC1B;AAAA,IACA,qCAAC,kBAAM,IAAC,YAAW,UAAS,KAAI,YAAW,gBAAe,iBACxD;AAAA,0CAAC,kBAAM,CAAC,MAAP,EAAY,OAAM,oBAAmB,oBAAM;AAAA,MAC5C,oCAAC,kBAAM,CAAC,MAAP,EAAa,4CAAW,CAAC,MAAM,GAAE;AAAA,OACpC;AAAA,KACF;AAEJ;;;;AC6FI;AA5HqC;AAEH;AACtB;AAEgB;AAKzB;AACgB;AAUhB;AAEgB;AAEG;AACa;AACb;AAEK;AACa;AACkB;AAEd;AACA;AAEhD,MAAM,qCAAM,GAAmB;AAE/B,SAAS,sCAAsC;AAC7C,QAAM,WAAW,yCAAW,CAAC;AAC7B,SAAO;AAAA,IACL,KAAK,oBAAG,CAAC,SAAS,OAAO,KAAK;AAAA,IAC9B,YAAY,oBAAG,CAAC,SAAS,OAAO,YAAY;AAAA,IAC5C,MAAM,oBAAG,CAAC,SAAS,OAAO,MAAM;AAAA,IAChC,IAAI,oBAAG,CAAC,SAAS,OAAO,IAAI;AAAA,IAC5B,aAAa,oBAAG,CAAC,SAAS,OAAO,aAAa;AAAA,EAChD;AACF;AAEO,SAAS,8BAA8B;AAC5C,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,EAAE,QAAQ,WAAW,MAAM,IAAI,+BAA+B,CAAC;AACrE,QAAM,EAAE,KAAK,YAAY,MAAM,IAAI,YAAY,IAAI,oCAAoC;AACvF,QAAM,iBAAiB,qFAA6C,CAAC;AACrE,QAAM,EAAE,aAAa,eAAe,IAAI,sDAA8B,CAAC;AACvE,QAAM,EAAE,mBAAmB,IAAI,2BAA2B,CAAC;AAC3D,QAAM,gBAAgB,8DAAsC,CAAC,KAAK;AAElE,QAAM,OAAO,wCAAe,CAAC,EAAE;AAC/B,QAAM,iBAAiB,+BAAQ,CAAC,WAAW,IAAI,OAAK,EAAE,MAAM,CAAC;AAC7D,QAAM,cAAc,yCAAkB,CAAC,gDAAyB,CAAC,gBAAgB,aAAa,CAAC;AAC/F,QAAM,oBAAoB,cAAc,MAAM;AAC9C,QAAM,WAAW,kCAAW,CAAC,OAAO,GAAG,GAAG,qCAAM;AAChD,QAAM,aAAa,wCAAiB,CAAC,QAAQ;AAC7C,QAAM,aAAa,+BAAQ,CAAC,CAAC,gBAAgB,QAAQ,CAAC;AAEtD,WAAS,sBAAsB,MAAc;AAC3C,WAAO;AAAA,MACL,QAAQ;AAAA,QACN,YAAY;AAAA,QACZ,MAAM,QAAQ;AAAA,MAChB;AAAA,MACA;AAAA,MACA;AAAA,MACA,KAAK;AAAA,MACL,SAAS,+CAAwB,CAAC,cAAc;AAAA,MAChD,WAAW;AAAA,MACX,YAAY,kCAAW,CAAC,UAAU;AAAA,MAClC,MAAM;AAAN,MACA,cAAc,kCAAW,CAAC,cAAc;AAAA,MACxC;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,EACF;AAEA,iBAAe,mCAAmC;AAChD,QAAI,CAAC,SAAS,CAAC,QAAQ;AACrB,0BAAM,CAAC,MAAM,6CAA6C;AAC1D;AAAA,IACF;AACA,SAAK,2BAAS,CAAC,MAAM,+BAA+B,EAAE,OAAO,CAAC;AAE9D,UAAM,YAAY;AAAA,MAChB;AAAA,MACA,MAAM,UAAU,MAAM;AACpB,aAAK,2BAAS,CAAC,MAAM,yBAAyB;AAAA,UAC5C,QAAQ;AAAA,UACR,QAAQ;AAAA,UACR;AAAA,UACA,QAAQ,KAAK,OAAO;AAAA,UACpB,SAAS,KAAK,OAAO;AAAA,QACvB,CAAC;AACD,cAAM,mBAAmB,QAAQ;AAEjC,eAAO,KAAK;AAAA,UACV;AAAA,UACA,6CAAsB,CAAC,gBAAgB;AAAA,YACrC,IAAI;AAAA,YACJ,QAAQ,EAAE,KAAK;AAAA,UACjB,CAAC;AAAA,QACH;AAEA,iBAAS,2BAAS,CAAC,wBAAwB;AAAA,UACzC,OAAO,sBAAsB,IAAI;AAAA,QACnC,CAAC;AAAA,MACH;AAAA,MACA,QAAQ,GAAG;AACT,4BAAM,CAAC,MAAM,yBAAyB,CAAC;AAAA,MACzC;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SACE,6DACE;AAAA,yCAAC,iBAAK,IAAC,OAAM,QAAO,KAAK,GAAG,QAAO,QAAO,IAAG,SAC1C;AAAA,iBAAW,IAAI,CAAC,WAAW,UAC1B;AAAA,QAAC,+BAA+B;AAA/B;AAAA,UAEC,gBAAgB,qCAAc,CAAC,cAAc;AAAA,UAC7C,WAAW,qCAAc,CAAC,UAAU,OAAO;AAAA,UAC3C,QAAQ,UAAU;AAAA;AAAA,QAHb;AAAA,MAIP,CACD;AAAA,MACD,qCAAC,iBAAK,IAAC,QAAO,UAAS,cAAa,MAAK,GAAE,YAAW,KAAI,YAAW,OAAM,QACzE;AAAA,6CAAC,kBAAM,IAAC,YAAW,UAAS,KAAI,YAAW,gBAAe,iBACxD;AAAA,8CAAC,kBAAM,CAAC,MAAP,EAAY,OAAM,oBAAmB,iBAAG;AAAA,UACzC,oCAAC,kBAAM,CAAC,MAAP,EAAa,uBAAY;AAAA,WAC5B;AAAA,QACA,qCAAC,kBAAM,IAAC,YAAW,UAAS,KAAI,YAAW,gBAAe,iBACxD;AAAA,8CAAC,kBAAM,CAAC,MAAP,EAAY,OAAM,oBAAmB,0BAAY;AAAA,UAClD,oCAAC,kBAAM,CAAC,MAAP,EAAa,4CAAW,CAAC,UAAU,GAAE;AAAA,WACxC;AAAA,QACC,QACC,qCAAC,kBAAM,IAAC,YAAW,UAAS,KAAI,YAAW,gBAAe,iBACxD;AAAA,8CAAC,kBAAM,CAAC,MAAP,EAAY,OAAM,oBAAmB,4BAAc;AAAA,UACpD,oCAAC,kBAAM,CAAC,MAAP,EAAa,gBAAK;AAAA,WACrB;AAAA,SAEJ;AAAA,OACF;AAAA,IAEA,oCAAC,gCAAc,IACb;AAAA,MAAC,0BAAM;AAAN;AAAA,QACC,cAAa;AAAA,QACb,UAAU;AAAA,QACV,aAAW;AAAA,QACX,SAAS;AAAA,QACV;AAAA;AAAA,IAED,GACF;AAAA,KACF;AAEJ;;;;AC7GI;AAvDwB;AAEE;AAE4B;AAGhC;AAEa;AACV;AACQ;AAO9B;AACc;AACI;AAElB,SAAS,yBAAyB;AACvC,QAAM,EAAE,MAAM,IAAI,yCAAW,CAAC;AAC9B,QAAM,EAAE,yBAAyB,iBAAiB,IAAI,sBAAsB,CAAC;AAE7E,QAAM,QAAQ,6BAAQ,CAAC;AAEvB,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI;AAEJ,QAAM,EAAE,OAAO,IAAI,YAAY,CAAC,IAAI;AAEpC,WAAS,cAAc;AACrB,SAAK,2BAAS,CAAC,MAAM,uCAAuC,EAAE,QAAQ,MAAM,CAAC;AAC7E,qBAAiB,MAAM;AAAA,EACzB;AAEA,WAAS,cAAc;AACrB,WAAO;AACP,UAAM,QAAQ,YAAY;AAAA,EAC5B;AAEA,SACE,6DACE;AAAA,yCAAC,mBAAI,IACH;AAAA;AAAA,QAAC,oCAAkB;AAAlB;AAAA,UACC,YAAY;AAAA,UACZ,WAAW;AAAA,UACX,MAAM,oCAAC,iCAAa,IAAC,QAAQ,IAAI,OAAO,IAAI;AAAA,UAC5C,IAAG;AAAA,UACH;AAAA,UACA,OAAO;AAAA;AAAA,MACT;AAAA,MACA,qCAAC,iBAAK,IAAC,IAAG,YAAW,OAAM,QACzB;AAAA,4CAAC,iBAAK,IACH,qBAAW,IAAI,CAAC,WAA8B,UAC7C;AAAA,UAAC,6BAAW;AAAX;AAAA,YAEC,OAAM;AAAA,YACN,OAAO,oCAAC,oBAAoB,IAAC,SAAS,UAAU,SAAS;AAAA;AAAA,UAFpD;AAAA,QAGP,CACD,GACH;AAAA,QACA,oCAAC,mCAAiB,IAAC;AAAA,QACnB,oCAAC,6BAAW,IAAC,OAAM,eAAc,OAAO,YAAY;AAAA,QACpD,oCAAC,6BAAW,IAAC,OAAM,WAAU,OAAO,cAAc;AAAA,QAClD,oCAAC,6BAAW,IAAC,OAAM,OAAM,OAAO,aAAa;AAAA,QAC5C,aAAa,oCAAC,6BAAW,IAAC,OAAM,+BAA8B,OAAO,WAAW;AAAA,SACnF;AAAA,OACF;AAAA,IACA,oCAAC,gCAAc,IACb,+CAAC,kBAAM,IAAC,KAAI,YAAW,OAAM,QAC3B;AAAA;AAAA,QAAC,6BAAW;AAAX;AAAA,UACC,MAAM,oCAAC,oCAAgB,IAAC,OAAM,0BAAyB;AAAA,UACvD,OAAM;AAAA,UACN,SAAS;AAAA;AAAA,MACX;AAAA,MACA;AAAA,QAAC,6BAAW;AAAX;AAAA,UACC,MAAM,oCAAC,4BAAQ,IAAC,OAAM,0BAAyB;AAAA,UAC/C,OAAM;AAAA,UACN,SAAS;AAAA;AAAA,MACX;AAAA,OACF,GACF;AAAA,KACF;AAEJ;;;;ACpFE;AAdoB;AAEI;AAEmB;AACjB;AAEI;AACS;AACG;AACH;AACF;AAEhC,MAAM,wBACX;AAAA,EAAC,+BAAK;AAAL;AAAA,IACC,SACE,oCAAC,gCAAW,IACV,8CAAC,wBAAwB,IAAC,GAC5B;AAAA,IAGF;AAAA,0CAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,iBAAiB,SAAS,oCAAC,eAAe,IAAC,GAAI;AAAA,MACtE,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,0BAA0B,SAAS,oCAAC,wBAAwB,IAAC,GACjF,sCAA4B,EAC/B;AAAA,MACA,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,6BAA6B,SAAS,oCAAC,2BAA2B,IAAC,GAAI;AAAA,MAC9F,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,wBAAwB,SAAS,oCAAC,sBAAsB,IAAC,GAAI;AAAA;AAAA;AACtF;;;;;;AC3B0B;AAEC;AACF;AACA;AAOpB;AAOA;AAEmB;AACmC;AACjC;AACF;AAGW;AACP;AACc;AACQ;AAQ7C,SAAS,iBAAiB;AAC/B,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,EAAE,WAAW,QAAQ,SAAS,WAAW,aAAa,MAAM,IAAI,oBAAoB,CAAC;AAC3F,QAAM,EAAE,UAAU,qBAAqB,IAAI,aAAa,CAAC;AACzD,QAAM,EAAE,aAAa,eAAe,IAAI,sDAA8B,CAAC;AACvE,QAAM,EAAE,mBAAmB,IAAI,2BAA2B,CAAC;AAC3D,QAAM,gBAAgB,8DAAsC,CAAC,KAAK;AAClE,QAAM,4BAA4B,oDAA4B,CAAC;AAC/D,QAAM,0BAA0B,6DAAmC,CAAC;AAEpE,MAAI,CAAC,aAAa,CAAC,WAAW,CAAC,OAAQ,OAAM,IAAI,MAAM,kCAAkC;AAEzF,iBAAe,sBAAsB;AAAA,IACnC;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,GAA8B;AAC5B,SAAK,2BAAS,CAAC,MAAM,yCAAyC,EAAE,OAAO,CAAC;AAExE,UAAM,uBAAuB,+BAAQ,CAAC,CAAC,0BAA0B,mBAAmB,CAAC;AAErF,UAAM,YAAY;AAAA,MAChB;AAAA;AAAA,MAEA,2BAA2B;AAAA,MAC3B,MAAM,UAAU,MAAM;AACpB,cAAM,mBAAmB,QAAQ;AAEjC,cAAM,qBAAqB;AAAA,UACzB,KAAK,wCAAiB,CAAC,GAAG;AAAA,UAC1B,cAAc,kCAAW,CAAC,oBAAoB;AAAA,UAC9C,YAAY,kCAAW,CAAC,+BAAQ,CAAC,CAAC,sBAAsB,GAAG,CAAC,CAAC;AAAA,UAC7D,aAAa,yCAAkB,CAAC,0BAA0B,oBAAoB,CAAC;AAAA,UAC/E,mBAAmB,cAAc,MAAM;AAAA,UACvC,MAAM;AAAA,UACN,QAAQ;AAAA,YACN,YAAY;AAAA,YACZ,MAAM,QAAQ;AAAA,UAChB;AAAA,UACA,SAAS,kCAAW,CAAC,oBAAoB;AAAA,QAC3C;AAEA,iBAAS,2BAAS,CAAC,oBAAoB,EAAE,OAAO,mBAAmB,CAAC;AAAA,MACtE;AAAA,MACA,QAAQ,GAAG;AACT,iBAAS,2BAAS,CAAC,cAAc;AAAA,UAC/B,OAAO,EAAE,SAAS,8BAAO,CAAC,CAAC,IAAI,EAAE,UAAU,IAAI,OAAO,sBAAsB;AAAA,QAC9E,CAAC;AAAA,MACH;AAAA,IACF,CAAC;AAAA,EACH;AAEA,SAAO;AAAA,IACL,eAAe;AAAA,IACf;AAAA,IACA;AAAA,IACA;AAAA,IACA,MAAM,WAAW,EAAE,0BAA0B,qBAAqB,IAAI,GAAiB;AACrF,YAAM,KAAK,qBAAqB,OAAO;AAEvC,UAAI;AACF,cAAM,WAAW,MAAM,SAAS;AAAA,UAC9B;AAAA,UACA,eAAe,wBAAwB,uCAAU,CAAC,OAAO,GAAG,WAAW;AAAA,QACzE,CAAC;AAED,cAAM,OAAO,SAAS,OAAO;AAE7B,eAAO,KAAK;AAAA,UACV;AAAA,UACA,6CAAsB,CAAC,YAAY,EAAE,IAAI,WAAW,QAAQ,EAAE,KAAK,gCAAU,CAAC,IAAI,EAAE,EAAE,CAAC;AAAA,QACzF;AAIA,YAAI,aAAa,4BAA4B,uBAAuB,KAAK;AACvE,cAAI;AACF,qBAAS,SAAS;AAAA,UACpB,SAAS,GAAG;AACV,mBAAO,SAAS,2BAAS,CAAC,cAAc;AAAA,cACtC,OAAO;AAAA,gBACL,SAAS,8BAAO,CAAC,CAAC,IAAI,EAAE,UAAU;AAAA,gBAClC,OAAO;AAAA,cACT;AAAA,YACF,CAAC;AAAA,UACH;AAEA,gBAAM,sBAAsB;AAAA,YAC1B;AAAA,YACA;AAAA,YACA;AAAA,YACA,IAAI,SAAS;AAAA,UACf,CAAC;AACD;AAAA,QACF;AACA,qCAAW,CAAC;AAAA,MACd,SAAS,GAAG;AACV,eAAO,SAAS,2BAAS,CAAC,cAAc;AAAA,UACtC,OAAO,EAAE,SAAS,8BAAO,CAAC,CAAC,IAAI,EAAE,UAAU,IAAI,OAAO,iBAAiB;AAAA,QACzE,CAAC;AAAA,MACH;AAAA,IACF;AAAA,IACA,WAAW;AACT,aAAO,KAAK;AAAA,QACV;AAAA,QACA,2CAAoB,CAAC,YAAY;AAAA,UAC/B,IAAI;AAAA,UACJ,OAAO;AAAA,YACL,MAAM,8BAAY,CAAC;AAAA,YACnB,SAAS;AAAA,UACX;AAAA,QACF,CAAC;AAAA,MACH;AACA,mCAAW,CAAC;AAAA,IACd;AAAA,EACF;AACF;;;;AChJI;AAVmB;AAEI;AAEI;AAExB,SAAS,cAAc;AAC5B,QAAM,EAAE,eAAe,gBAAgB,YAAY,UAAU,QAAQ,QAAQ,IAAI,cAAc,CAAC;AAEhG,SACE,6DACE;AAAA;AAAA,MAAC,UAAU;AAAV;AAAA,QACC;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA;AAAA,IACF;AAAA,IACA,oCAAC,gCAAM,IAAC;AAAA,KACV;AAEJ;;;;ACwBgB;AA9CY;AAEQ;AAEsB;AAEhC;AAEa;AACV;AAMtB;AACc;AACI;AAElB,SAAS,qBAAqB;AACnC,QAAM,EAAE,MAAM,IAAI,yCAAW,CAAC;AAC9B,QAAM,EAAE,yBAAyB,iBAAiB,IAAI,sBAAsB,CAAC;AAE7E,QAAM,QAAQ,6BAAQ,CAAC;AAEvB,QAAM,EAAE,KAAK,cAAc,YAAY,MAAM,aAAa,mBAAmB,QAAQ,QAAQ,IAC3F;AAEF,QAAM,EAAE,OAAO,IAAI,YAAY,CAAC,IAAI;AAEpC,WAAS,cAAc;AACrB,SAAK,2BAAS,CAAC,MAAM,iDAAiD,EAAE,QAAQ,MAAM,CAAC;AACvF,qBAAiB,MAAM;AAAA,EACzB;AAEA,WAAS,cAAc;AACrB,WAAO;AACP,UAAM,QAAQ,YAAY;AAAA,EAC5B;AAEA,SACE,oCAAC,gBAAI,IAAC,YAAW,UAAS,eAAc,UAAS,GAAE,YAAW,OAAM,QAClE,+CAAC,mBAAI,IACH;AAAA;AAAA,MAAC,oCAAkB;AAAlB;AAAA,QACC,YAAY;AAAA,QACZ,WAAW;AAAA,QACX,MAAM,oCAAC,iCAAa,IAAC,QAAQ,IAAI,OAAO,IAAI;AAAA,QAC5C,IAAG;AAAA,QACH,OAAO;AAAA;AAAA,IACT;AAAA,IACA,qCAAC,iBAAK,IAAC,IAAG,YAAW,OAAM,QACzB;AAAA,0CAAC,6BAAW,IAAC,OAAM,eAAc,OAAO,YAAY;AAAA,MACpD,oCAAC,6BAAW,IAAC,OAAM,WAAU,OAAO,cAAc;AAAA,MAClD,oCAAC,6BAAW,IAAC,OAAM,OAAM,OAAO,KAAK;AAAA,OACvC;AAAA,IACA,oCAAC,gCAAc,IACb,+CAAC,kBAAM,IAAC,KAAI,YAAW,OAAM,QAC3B;AAAA;AAAA,QAAC,6BAAW;AAAX;AAAA,UACC,MAAM,oCAAC,oCAAgB,IAAC,OAAM,0BAAyB;AAAA,UACvD,OAAM;AAAA,UACN,SAAS;AAAA;AAAA,MACX;AAAA,MACA;AAAA,QAAC,6BAAW;AAAX;AAAA,UACC,MAAM,oCAAC,4BAAQ,IAAC,OAAM,0BAAyB;AAAA,UAC/C,OAAM;AAAA,UACN,SAAS;AAAA;AAAA,MACX;AAAA,OACF,GACF;AAAA,KACF,GACF;AAEJ;;;;;;;ACxEwB;AAEK;AACC;AACA;AAE+B;AAKtD;AACqB;AACF;AAEc;AACJ;AAKC;AAErC,SAAS,WAAW,aAA4B;AAC9C,MACE,gBAAgB,aAChB,gBAAgB,aAChB,gBAAgB,YAChB,gBAAgB,WAChB;AACA,WAAO,6BAAa,CAAC,SAAS,WAAW;AAAA,EAC3C;AACA;AACF;AAEO,SAAS,6BAA6B;AAC3C,QAAM,EAAE,aAAa,SAAS,SAAS,SAAS,OAAO,IAAI,8BAA8B;AAEzF,MAAI,6CAAiB,CAAC,WAAW,GAAG;AAClC,WAAO;AAAA,MACL,aAAa;AAAA,MACb;AAAA,MACA,SAAS,WAAW,OAAO;AAAA,MAC3B;AAAA,IACF;AAAA,EACF;AACA,MAAI,mDAAuB,CAAC,WAAW,GAAG;AACxC,QAAI,CAAC,OAAQ,QAAO;AAEpB,WAAO;AAAA,MACL,aAAa;AAAA,MACb,SAAS,8BAAa,CAAC,kCAAM,CAAC,KAAK,SAAS,KAAK,CAAC;AAAA,MAClD,QAAQ,8BAAa,CAAC,kCAAM,CAAC,KAAK,QAAQ,KAAK,CAAC;AAAA,MAChD,SAAS,WAAW,OAAO;AAAA,MAC3B;AAAA,IACF;AAAA,EACF;AACA,SAAO;AACT;AAEO,SAAS,gCAAgC;AAC9C,QAAM,EAAE,QAAQ,MAAM,IAAI,oEAAuB,CAAC;AAClD,QAAM,YAAY,iDAAmB,CAAC,IAAI,WAAW;AACrD,QAAM,UAAU,iDAAmB,CAAC,IAAI,SAAS;AACjD,QAAM,UAAU,iDAAmB,CAAC,IAAI,SAAS;AACjD,QAAM,UAAU,iDAAmB,CAAC,IAAI,SAAS;AACjD,QAAM,cAAc,iDAAmB,CAAC,IAAI,aAAa;AACzD,QAAM,SAAS,iDAAmB,CAAC,IAAI,QAAQ;AAE/C,MAAI,CAAC,aAAa,CAAC,WAAW,CAAC,UAAU,CAAC,iDAAqB,CAAC,WAAW;AACzE,UAAM,IAAI,MAAM,gEAAgE;AAElF,SAAO,iBAAO;AAAP,IACL,OAAO;AAAA,MACL;AAAA,MACA,OAAO,SAAS;AAAA,MAChB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,IACA,CAAC,QAAQ,WAAW,SAAS,SAAS,aAAa,OAAO,SAAS,MAAM;AAAA,EAC3E;AACF;AAEO,SAAS,0BAA0B;AACxC,QAAM,EAAE,OAAO,UAAU,IAAI,8BAA8B;AAC3D,MAAI,CAAC,MAAO,OAAM,IAAI,MAAM,kDAAkD;AAE9E,QAAM,EAAE,WAAW,YAAY,IAAI,oBAAoB,CAAC;AAAA,IACtD,uBAAuB,kBAAkB;AACvC,aAAO,KAAK;AAAA,QACV;AAAA,QACA,6CAAsB,CAAC,mBAAmB;AAAA,UACxC,IAAI;AAAA,UACJ,QAAQ,EAAE,WAAW,iBAAiB,UAAU;AAAA,QAClD,CAAC;AAAA,MACH;AACA,mCAAW,CAAC;AAAA,IACd;AAAA,IACA,wBAAwB;AAAA,EAC1B,CAAC;AAED,WAAS,yBAAyB;AAChC,QAAI,CAAC,aAAa,CAAC,MAAO;AAC1B,SAAK,2BAAS,CAAC,MAAM,0BAA0B;AAC/C,WAAO,KAAK;AAAA,MACV;AAAA,MACA,2CAAoB,CAAC,mBAAmB;AAAA,QACtC,IAAI;AAAA,QACJ,OAAO;AAAA,UACL,SAAS;AAAA,UACT,MAAM,8BAAY,CAAC;AAAA,QACrB;AAAA,MACF,CAAC;AAAA,IACH;AACA,iCAAW,CAAC;AAAA,EACd;AAEA,SAAO,EAAE,WAAW,aAAa,uBAAuB;AAC1D;;;;ACpGI;AAtBkC;AAEV;AACS;AAM9B;AAEA,SAAS,0BAA0B;AACxC,QAAM,EAAE,WAAW,aAAa,OAAO,OAAO,IAAI,6BAA6B,CAAC;AAChF,QAAM,EAAE,WAAW,aAAa,uBAAuB,IAAI,uBAAuB,CAAC;AACnF,QAAM,UAAU,0BAA0B,CAAC;AAE3C,MAAI,CAAC,aAAa,CAAC,MAAO,QAAO;AACjC,MAAI,CAAC,iDAAqB,CAAC,WAAW,EAAG,QAAO;AAChD,MAAI,CAAC,OAAQ,QAAO;AACpB,MAAI,CAAC,QAAS,QAAO;AAErB,SACE,6DACE;AAAA,wCAAC,+BAAW,IAAC,mBAAiB,MAAC,SAAQ,OAAM;AAAA,IAC7C;AAAA,MAAC,oBAAoB;AAApB;AAAA,QACC;AAAA,QACA;AAAA,QACA,eAAe;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA;AAAA,IACF;AAAA,KACF;AAEJ;;;;AC8EU;AAjHuC;AAGX;AACjB;AACA;AAE+B;AAC3B;AAKlB;AACc;AACS;AAGJ;AACA;AAEC;AACK;AACD;AACH;AACsB;AACd;AACE;AACd;AACiB;AACV;AACI;AACF;AACc;AACJ;AAEd;AACL;AACY;AACC;AAU9B,SAAS,wBAAwB;AAAA,EACtC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAiC;AAC/B,QAAM,qBAAqB,oDAA0B,CAAC;AACtD,QAAM,EAAE,MAAM,QAAQ,IAAI,gDAAwB,CAAC,iBAAiB;AAEpE,QAAM,aAAa,+DAA8B,CAAC;AAClD,QAAM,EAAE,qBAAqB,IAAI,gDAAwB,CAAC,UAAU;AACpE,QAAM,2BAA2B,qBAAqB,MAAM;AAC5D,QAAM,WAAW,yCAAW,CAAC;AAC7B,QAAM,EAAE,MAAM,WAAW,QAAQ,iBAAiB,IAAI,oCAAY,CAAC,UAAU;AAC7E,QAAM,YAAY,qBAAqB,WAAW,aAAa,qBAAqB;AAEpF,QAAM,EAAE,OAAO,IAAI,yCAAW,CAAC;AAE/B,oCAAU,CAAC,MAAM;AACf,SAAK,2BAAS,CAAC,MAAM,0BAA0B,GAAG,CAAC;AAAA,EACrD,CAAC;AAED,iBAAe,SACb,QACA,eACA;AACA,kBAAc,cAAc,IAAI;AAChC,UAAM,wBAAwB,oCAAa,CAAC,OAAO,GAAG,EAAE,SAAS,GAAG,OAAO,OAAO,KAAK,CAAC;AACxF,kBAAc,cAAc,KAAK;AAAA,EACnC;AAEA,MAAI,CAAC,mBAAoB,QAAO;AAEhC,QAAM,mBACJ,CAAC,mBAAmB,aAAa,CAAC,uBAAuB,CAAC,aACtD,4BAAU,CAAC;AAAA,IACT,KAAK,eAAe,CAAC,wBAAwB;AAAA,IAC7C,OAAO,cAAc;AAAd,EACT,CAAC,IACD,4BAAU,CAAC;AAAA,IACT,OAAO,cAAc;AAAd,EACT,CAAC;AAEP,QAAM,oBAAoB,CAAC,OAAO,MAAM,mBAAmB,KAAK;AAEhE,QAAM,gBAA6C;AAAA,IACjD,KAAK;AAAA,IACL,aAAa;AAAA,IACb,SAAS,4BAAQ,CAAC,4BAAQ,CAAC,MAAM;AAAA,IACjC,OAAO,oBAAoB,mBAAmB,QAAQ,WAAW;AAAA,EACnE;AAEA,SACE,oCAAC,gBAAI,IAAC,YAAW,UAAS,eAAc,UAAS,GAAE,YAAW,OAAM,QAClE;AAAA,IAAC,yBAAM;AAAN;AAAA,MACC;AAAA,MACA;AAAA,MACA,kBAAkB;AAAA,MAClB,gBAAgB;AAAA,MAChB,iBAAiB;AAAA,MACjB;AAAA,MAEC,gBACC,6DACE;AAAA,4CAAC,OAAO,IAAC;AAAA,QACT,oCAAC,iCAAiC,IAAC;AAAA,QACnC,oCAAC,wBAAwB,IAAC;AAAA,QAC1B,oCAAC,gBAAgB,IAAC;AAAA,QAClB,oCAAC,cAAc,IAAC;AAAA,QACf,mBAAmB,WAAW,mBAAmB,oCAAC,mBAAmB,IAAC;AAAA,QACtE,mBAAmB,WAAW,oBAAoB,oCAAC,kBAAkB,IAAC;AAAA,QACtE,mBAAmB,WAAW,oBAAoB,oCAAC,qBAAqB,IAAC;AAAA,QAEzE,CAAC,qBAAqB,oCAAC,WAAW,IAAC;AAAA,QACpC;AAAA,UAAC,OAAO;AAAP;AAAA,YACC,MAAM;AAAA,YACN,iBAAiB,OAAO,oBAAoB,OAAO,CAAC;AAAA,YACpD;AAAA;AAAA,QACF;AAAA,QACC,CAAC,yBACA;AAAA,UAAC,wBAAI;AAAJ;AAAA,YACC,WAAU;AAAA,YACV,IAAG;AAAA,YACH,SAAS,MAAM,SAAS,2BAAS,CAAC,YAAY,MAAM;AAAA,YACrD;AAAA;AAAA,QAED;AAAA,QAEF,oCAAC,mBAAmB,IAAC;AAAA,QACrB,oCAAC,oBAAoB,IAAC,WAAsB;AAAA,QAC5C,oCAAC,YAAY,IAAC,cAAc,0DAAmC,EAAE;AAAA,QACjE,oCAAC,gCAAM,IAAC;AAAA,SACV;AAAA;AAAA,EAEJ,GACF;AAEJ;;;;ACnJwB;AAEK;AACF;AACuC;AAEL;AACjC;AAEY;AACJ;AACD;AACM;AAEzC,SAAS,oCAAoC;AAC3C,QAAM,EAAE,QAAQ,MAAM,IAAI,oEAAuB,CAAC;AAClD,QAAM,YAAY,iDAAmB,CAAC,IAAI,WAAW;AACrD,QAAM,QAAQ,iDAAmB,CAAC,IAAI,OAAO;AAC7C,QAAM,aAAa,iDAAmB,CAAC,IAAI,YAAY;AAEvD,MAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAQ,OAAM,IAAI,MAAM,gBAAgB;AAErE,SAAO,iBAAO;AAAP,IACL,OAAO;AAAA,MACL;AAAA,MACA,OAAO,SAAS;AAAA,MAChB;AAAA,MACA,YAAY,eAAe;AAAA,MAC3B,mBAAmB,sDAAsB,CAAC,KAAK;AAAA,MAC/C,UAAU,kBAAkB,CAAC,sDAAsB,CAAC,KAAK,CAAC,KAAK;AAAA,IACjE;AAAA,IACA,CAAC,QAAQ,OAAO,WAAW,YAAY,KAAK;AAAA,EAC9C;AACF;AAEO,SAAS,8BAA8B;AAC5C,QAAM,EAAE,QAAQ,WAAW,OAAO,mBAAmB,YAAY,SAAS,IACxE,kCAAkC;AACpC,QAAM,eAAe,wBAAwB,CAAC;AAC9C,QAAM,yBACJ,cACC,kBAAkB,KAAK,kBAAgD,QAAQ,SAAS;AAE3F,SAAO;AAAA,IACL;AAAA,IACA,qBAAqB;AAAA,IACrB,uBAAuB;AAAA,IACvB;AAAA,IACA;AAAA,IACA;AAAA,IACA,MAAM,wBAAwB,KAAa,OAAe;AACxD,wBAAkB,OAAO,GAAG;AAC5B,wBAAkB,SAAS,KAAK;AAEhC,YAAM,oBAAoB,MAAM,aAAa,iBAAiB;AAC9D,UAAI,CAAC,mBAAmB;AACtB,cAAM,IAAI,MAAM,kCAAkC;AAAA,MACpD;AAEA,aAAO,KAAK;AAAA,QACV;AAAA,QACA,6CAAsB,CAAC,uBAAuB;AAAA,UAC5C,IAAI;AAAA,UACJ,QAAQ;AAAA,YACN,OAAO,gCAAU,CAAC,kBAAkB,UAAU,CAAC;AAAA,UACjD;AAAA,QACF,CAAC;AAAA,MACH;AACA,mCAAW,CAAC;AAAA,IACd;AAAA,IACA,WAAW;AACT,aAAO,KAAK;AAAA,QACV;AAAA,QACA,2CAAoB,CAAC,uBAAuB;AAAA,UAC1C,IAAI;AAAA,UACJ,OAAO;AAAA,YACL,SAAS;AAAA,YACT,MAAM,8BAAY,CAAC;AAAA,UACrB;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACF;AACF;;;;AC/DM;AApBwC;AACN;AACI;AACC;AAEtC,SAAS,2BAA2B;AACzC,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI,2BAA2B,CAAC;AAEhC,8BAA4B,CAAC,QAAQ;AAErC,SACE,oCAAC,6BAA6B,IAC5B;AAAA,IAAC,uBAAuB;AAAvB;AAAA,MACC;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,EACF,GACF;AAEJ;;;;ACVE;AApBuB;AACH;AAEI;AAEK;AACc;AACI;AACL;AACZ;AACM;AACV;AACO;AACK;AACC;AACb;AAEW;AAEhC,MAAM,mBACX,6DACE;AAAA;AAAA,IAAC,+BAAK;AAAL;AAAA,MACC,MAAM,2BAAS,CAAC;AAAA,MAChB,SACE,oCAAC,gCAAW,IACV,8CAAC,eAAe,IAAC,GACnB;AAAA;AAAA,EAEJ;AAAA,EACC,qBAAqB;AAArB,EACD;AAAA,IAAC,+BAAK;AAAL;AAAA,MACC,MAAM,2BAAS,CAAC;AAAA,MAChB,MAAM,YAAY;AAChB,cAAM,EAAE,0BAA0B,IAAI,MAAM,mGAE3C;AACD,eAAO,EAAE,WAAW,0BAA0B;AAAA,MAChD;AAAA,MAEC,sCAA4B;AAA5B;AAAA,EACH;AAAA,EACA;AAAA,IAAC,+BAAK;AAAL;AAAA,MACC,MAAM,2BAAS,CAAC;AAAA,MAChB,SACE,oCAAC,gCAAW,IACV,8CAAC,WAAW,IAAC,GACf;AAAA,MAGD,sCAA4B;AAA5B;AAAA,EACH;AAAA,EACA;AAAA,IAAC,+BAAK;AAAL;AAAA,MACC,MAAM,2BAAS,CAAC;AAAA,MAChB,SACE,oCAAC,gCAAW,IACV,8CAAC,kBAAkB,IAAC,GACtB;AAAA;AAAA,EAEJ;AAAA,EACA;AAAA,IAAC,+BAAK;AAAL;AAAA,MACC,MAAM,2BAAS,CAAC;AAAA,MAChB,SACE,oCAAC,gCAAW,IACV,8CAAC,cAAQ,IAAC,UAAU,oCAAC,sBAAsB,IAAC,GAC1C,8CAAC,uBAAuB,IAAC,GAC3B,GACF;AAAA,MAGD,0CAAgC;AAAhC;AAAA,EACH;AAAA,EAEA;AAAA,IAAC,+BAAK;AAAL;AAAA,MACC,MAAM,2BAAS,CAAC;AAAA,MAChB,SACE,oCAAC,gCAAW,IACV,8CAAC,wBAAwB,IAAC,GAC5B;AAAA,MAGD;AAAA,mCAA2B;AAA3B,QACD,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,WAAW,SAAS,oCAAC,cAAc,IAAC,GAAI;AAAA;AAAA;AAAA,EACjE;AAAA,GACF;;;;;;AC3BO;AAlDF;AAEiB;AAEE;AAEF;AACY;AACL;AACJ;AACC;AACF;AACC;AACS;AACA;AACI;AACJ;AACS;AACN;AACE;AACD;AACI;AACH;AACN;AACW;AAChB;AACU;AACf;AACJ;AACe;AACb;AACK;AACI;AACA;AACH;AACE;AACG;AACQ;AACR;AACE;AACb;AACO;AACF;AACE;AACM;AACH;AAEF;AAExB,SAAS,yBAAyB;AACvC,SAAO,oCAAC,cAAc,IAAC,QAAO,SAAQ;AACxC;AAEO,SAAS,YAAY;AAC1B,QAAM,SAAS,aAAa;AAC5B,SAAO,oCAAC,4CAAc,IAAC,QAAQ,QAAQ;AACzC;AAEA,MAAM,4BAA4B,6CAA8B,CAAC,8CAAgB;AAE1E,MAAM,sBACX,6DACG;AAAA,eAAa;AAAb,EACA,2BAA2B;AAA3B,EACA,4BAA4B;AAA5B,EACA,wBAAwB;AAAxB,EACA,uBAAuB;AAAvB,EACA,iBAAiB;AAAjB,GACH;AAGF,SAAS,eAAe;AACtB,SAAO;AAAA,IACL,sDAAwB;AAAxB,MACE,qCAAC,+BAAK,IAAC,SAAS,oCAAC,SAAS,IAAC,GACzB;AAAA,6CAAC,+BAAK,IAAa,cAAc,oCAAC,mBAAmB,IAAC,GACpD;AAAA;AAAA,YAAC,+BAAK;AAAL;AAAA,cACC,SACE,6DACE;AAAA,oDAAC,UAAU,IAAC;AAAA,gBACZ,oCAAC,6BAAO,IACN,8CAAC,mBAAmB,IAAC,GACvB;AAAA,iBACF;AAAA,cAGF;AAAA;AAAA,kBAAC,+BAAK;AAAL;AAAA,oBACC,MAAK;AAAA,oBACL,SACE,oCAAC,gCAAW,IACV,8CAAC,IAAI,IAAC,GACR;AAAA,oBAGD;AAAA;AAAA,gBACH;AAAA,gBAEA;AAAA,kBAAC,+BAAK;AAAL;AAAA,oBACC,MAAM,2BAAS,CAAC;AAAA,oBAChB,SAAS,oCAAC,6BAA6B,IAAC;AAAA;AAAA,gBAC1C;AAAA,gBACA,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,gBAAgB,SAAS,oCAAC,mBAAmB,IAAC,GAClE,qCAA2B,EAC9B;AAAA,gBACA;AAAA,kBAAC,+BAAK;AAAL;AAAA,oBACC,MAAM,GAAG,2BAAS,CAAC,cAAc,IAAI,2BAAS,CAAC,yBAAyB;AAAA,oBACxE,SAAS,oCAAC,cAAc,IAAC;AAAA;AAAA,gBAC3B;AAAA,gBACA,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,gBAAgB,SAAS,oCAAC,mBAAmB,IAAC,GAClE,sCAA4B,EAC/B;AAAA,gBAEC,2BAA2B;AAA3B;AAAA;AAAA,UACH;AAAA,UAGA;AAAA,YAAC,+BAAK;AAAL;AAAA,cACC,MAAM,2BAAS,CAAC;AAAA,cAChB,SAAS,oCAAC,6BAA6B,IAAC;AAAA;AAAA,UAC1C;AAAA,UACA,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,gBAAgB,SAAS,oCAAC,mBAAmB,IAAC,GAClE,qCAA2B,EAC9B;AAAA,UACA;AAAA,YAAC,+BAAK;AAAL;AAAA,cACC,MAAM,GAAG,2BAAS,CAAC,cAAc,IAAI,2BAAS,CAAC,yBAAyB;AAAA,cACxE,SAAS,oCAAC,cAAc,IAAC;AAAA;AAAA,UAC3B;AAAA,UACA,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,gBAAgB,SAAS,oCAAC,mBAAmB,IAAC,GAClE,sCAA4B,EAC/B;AAAA,UAEC,2BAA2B;AAA3B,UAED;AAAA,YAAC,+BAAK;AAAL;AAAA,cACC,MAAM,2BAAS,CAAC;AAAA,cAChB,SACE,oCAAC,gCAAW,IACV,8CAAC,UAAU,IAAC,GACd;AAAA;AAAA,UAEJ;AAAA,UAEA;AAAA,YAAC,+BAAK;AAAL;AAAA,cACC,MAAM,2BAAS,CAAC;AAAA,cAChB,SACE,oCAAC,gCAAW,IACV,8CAAC,WAAW,IAAC,GACf;AAAA;AAAA,UAEJ;AAAA,UAEA;AAAA,YAAC,+BAAK;AAAL;AAAA,cACC,MAAM,2BAAS,CAAC;AAAA,cAChB,SACE,oCAAC,gCAAW,IACV,8CAAC,QAAQ,IAAC,GACZ;AAAA,cAGF;AAAA,oDAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,YAAY,SAAS,oCAAC,eAAe,IAAC,GAAI;AAAA,gBACjE,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,YAAY,SAAS,oCAAC,eAAe,IAAC,GAAI;AAAA;AAAA;AAAA,UACnE;AAAA,UACA;AAAA,YAAC,+BAAK;AAAL;AAAA,cACC,MAAM,2BAAS,CAAC;AAAA,cAChB,SACE,oCAAC,gCAAW,IACV,8CAAC,uBAAuB,IAAC,GAC3B;AAAA,cAGF,8CAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,YAAY,SAAS,oCAAC,eAAe,IAAC,GAAI;AAAA;AAAA,UACnE;AAAA,UAEC,yBAAyB;AAAzB,UAED,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,QAAQ,SAAS,oCAAC,MAAM,IAAC,GAC7C,iCAAuB,EAC1B;AAAA,UACA,oCAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,qBAAqB,SAAS,oCAAC,mBAAmB,IAAC,GAAI;AAAA,UAC9E;AAAA,YAAC,+BAAK;AAAL;AAAA,cACC,MAAM,2BAAS,CAAC;AAAA,cAChB,SACE,oCAAC,gCAAW,IACV,8CAAC,YAAY,IAAC,GAChB;AAAA;AAAA,UAEJ;AAAA,UAEC,iBAAiB;AAAjB,UAGD;AAAA,YAAC,+BAAK;AAAL;AAAA,cACC,MAAM,2BAAS,CAAC;AAAA,cAChB,SACE,oCAAC,qCAAc,IACb,8CAAC,WAAW,IAAC,GACf;AAAA,cAGF;AAAA,oDAAC,+BAAK,IAAC,MAAM,2BAAS,CAAC,oBAAoB,SAAS,oCAAC,kBAAkB,IAAC,GAAI;AAAA,gBAC5E;AAAA,kBAAC,+BAAK;AAAL;AAAA,oBACC,MAAM,2BAAS,CAAC;AAAA,oBAChB,SAAS,oCAAC,wBAAwB,IAAC;AAAA;AAAA,gBACrC;AAAA,gBAEC,wBAAwB;AAAxB,gBACA,uBAAuB;AAAvB;AAAA;AAAA,UACH;AAAA,UAEA;AAAA,YAAC,+BAAK;AAAL;AAAA,cACC,MAAM,2BAAS,CAAC;AAAA,cAChB,SACE,oCAAC,qCAAc,IACb,8CAAC,mBAAmB,IAAC,GACvB;AAAA;AAAA,UAEJ;AAAA,UACA;AAAA,YAAC,+BAAK;AAAL;AAAA,cACC,MAAM,2BAAS,CAAC;AAAA,cAChB,MAAM,YAAY;AAChB,sBAAM,EAAE,iBAAiB,IAAI,MAAM,oGAElC;AACD,uBAAO,EAAE,WAAW,iBAAiB;AAAA,cACvC;AAAA;AAAA,UACF;AAAA,UAEA;AAAA,YAAC,+BAAK;AAAL;AAAA,cACC,MAAM,2BAAS,CAAC;AAAA,cAChB,SACE,oCAAC,qCAAc,IACb,8CAAC,MAAM,IAAC,GACV;AAAA;AAAA,UAEJ;AAAA,UACA;AAAA,YAAC,+BAAK;AAAL;AAAA,cACC,MAAM,2BAAS,CAAC;AAAA,cAChB,SACE,oCAAC,gCAAW,IACV,8CAAC,aAAa,IAAC,GACjB;AAAA;AAAA,UAEJ;AAAA,UAIA;AAAA,YAAC,+BAAK;AAAL;AAAA,cACC,MAAM,2BAAS,CAAC;AAAA,cAChB,SACE,oCAAC,gCAAW,IACV,8CAAC,aAAa,IAAC,GACjB;AAAA,cAGD,gCAAsB;AAAtB;AAAA,UACH;AAAA,UACC,mBAAmB;AAAnB,UACA,gBAAgB;AAAhB,aAtLQ,OAuLX;AAAA,QAGA,oCAAC,+BAAK,IAAC,MAAK,KAAI,SAAS,oCAAC,kCAAQ,IAAC,SAAO,MAAC,IAAI,2BAAS,CAAC,YAAY,GAAI;AAAA,SAC3E;AAAA,IACF;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;AC9QA,MAA8O;AAC9O,MAAoO;AACpO,MAA2O;AAC3O,MAA8P;AAC9P,MAAuP;AACvP,MAAuP;AACvP,MAAwc;AACxc;AACA;;AAEA;;AAEA,4BAA4B,6BAAmB;AAC/C,wBAAwB,0CAAa;;AAErC,uBAAuB,+BAAa;AACpC;AACA,iBAAiB,uBAAM;AACvB,6BAA6B,8BAAkB;;AAE/C,aAAa,kCAAG,CAAC,kBAAO;;;;AAIkZ;AAC1a,OAAO,8CAAe,kBAAO,IAAI,kBAAO,UAAU,kBAAO,mBAAmB,EAAC;;;;ACmBrE;AA7CiB;AACiB;AAEN;AACR;AAES;AAC9B;AAEiC;AACQ;AAEpB;AACU;AACC;AACd;AACI;AACE;AACL;AACO;AAET;AACjB;AAC2B;AAElC,MAAM,4BAA4B,iBAAW,CAAC,iCAAiC;AAE/E,SAAS,eAAe;AACtB,QAAM,UAAU,gDAAiB,CAAC;AAElC,SACE,oCAAC,+CAAmB,IAAC,QAAQ,8BAAW,EACtC;AAAA,IAAC,wCAAoB;AAApB;AAAA,MACC,QAAQ,8BAAW;AAAX,MACR;AAAA,MACA,aAAa;AAAA,QACX,KAAK,sCAAkB;AAAlB,QACL,QAAQ;AAAA,UACN,KAAK,4BAAU;AAAV,UACL,MAAM,6BAAW;AAAX,UACN,YAAY,+BAAW;AAAX,UACZ,WAAW,EAAE,6BAAF;AAAX,QACF;AAAA,MACF;AAAA,MAEA,+CAAC,cAAQ,IAAC,UAAU,oCAAC,sBAAsB,IAAC,GAC1C;AAAA,4CAAC,SAAS,IAAC;AAAA,QACV,6BAA6B,oCAAC,QAAQ,IAAC;AAAA,SAC1C;AAAA;AAAA,EACF,GACF;AAEJ;AAEO,SAAS,MAAM;AACpB,SACE,oCAAC,4BAAa,IAAC,KAAK,uBAClB,+CAAC,oCAAW,IAAC,SAAS,oCAAC,sBAAsB,IAAC,GAAI,SAAS,2BACzD;AAAA,wCAAC,YAAY,IAAC;AAAA,IACd,oCAAC,cAAc,IACb,8CAAC,4CAAqB,IACpB,8CAAC,gBAAa,GAChB,GACF;AAAA,KACF,GACF;AAEJ;;;;;;;;;;;;ACnE8B;AAEY;AACJ;AAEf;AACmB;AACZ;AAEF;AACN;AACQ;AACA;AACe;AAQ7C,MAAM,QAAQ;AAAA,EACZ,sBAAsB;AAEpB,SAAK,oDAAyB,CAAC,EAAE,KAAK,UAAQ,QAAQ,IAAI,KAAK,UAAU,IAAI,CAAC,CAAC;AAAA,EACjF;AAAA,EACA,WAAW;AACT,WAAO,mBAAK,CAAC,SAAS;AAAA,EACxB;AAAA,EACA,eAAe,MAAM,6CAAyB,EAAE;AAC9C,UAAM,UAAU,6CAAqB,CAAC,GAAG;AAEzC,WAAO;AAAA,MACL,MAAM,QAAQ;AAAA,MACd,SAAS,QAAQ;AAAA,MACjB;AAAA,IACF;AAAA,EACF;AAAA;AAAA,EAEA,MAAM,oBAAoB;AACxB,WAAO,wBAA2B,CAAC,iCAAa;AAAA,EAClD;AAAA,EACA,uBAAuB,OAAe;AACpC,wBAAM,CAAC,KAAK,gCAAgC,KAAK,EAAE;AACnD,uBAAK,CAAC,SAAS,oCAAa,CAAC,QAAQ,oBAAoB,KAAK,CAAC;AAAA,EACjE;AAAA,EACA,gBAAgB;AACd,uBAAK,CAAC,SAAS,mCAAa,CAAC,QAAQ,cAAc,CAAC;AAAA,EACtD;AAAA,EACA,6BAA6B;AAC3B,uBAAK,CAAC,SAAS,4BAA4B,CAAC,2BAA2B,CAAC;AAAA,EAC1E;AAAA,EACA,uBAAuB;AACrB,kCAAW,CAAC,MAAM;AAAA,EACpB;AAAA,EACA,qBAAqB;AACnB,WAAO,QAAQ,MAAM,MAAM;AAC3B,WAAO,QAAQ,QAAQ,MAAM;AAAA,EAC/B;AACF;AAEO,SAAS,mBAAmB;AACjC,SAAO,QAAQ;AACjB;;;;AC9BuC;AAjCZ;AAEX;AACS;AAEE;AACmB;AAEV;AACC;AAEjB;AACa;AAIjC,cAAkB,CAAC,IAAG;AAEtB,gCAAU,CAAC;AACX,6BAA6B,CAAC;AAC9B,gBAAgB,CAAC;AAQjB,OAAO,kBAAkB,QAAO;AAEhC,eAAe,YAAY;AACzB,QAAM,gDAAoB,CAAC;AAC3B,QAAM,YAAY,SAAS,eAAe,KAAK;AAC/C,SAAO,4BAAU,CAAC,SAAU,EAAE,OAAO,oCAAC,GAAG,IAAC,CAAE;AAC9C;AAEA,KAAK,0CAAmB,CAAC,SAAS;;;;;;;;;;;;;;;;;;;ACpCV;AAEF;AAGyC;AACV;AAEQ;AAE7D,SAAS,4BAA4B,SAAuC;AAC1E,SAAO;AAAA,IACL,kBAAkB;AAAA;AAAA,IAElB,kBAAkB,wEAAW,CAAC,GAAG,KAAK;AAAA,IACtC,qBAAqB,wEAAW,CAAC,GAAG,KAAK;AAAA,EAC3C;AACF;AAEO,SAAS,qCAAqC,SAAiB;AACpE,QAAM,eAAe,6EAAe,CAAC;AAErC,QAAM,QAAQ,2FAA6B,CAAC;AAAA,IAC1C;AAAA,IACA,wBAAwB;AAAA,IACxB,uBAAuB;AAAA,IACvB,kBAAkB;AAAA,EACpB,CAAC;AAED,QAAM,UAAU,8CAAO,CAAC,MAAM;AAC5B,QAAI,wEAAW,CAAC,MAAM,IAAI;AACxB,aAAO,4BAA4B,wEAAW,CAAC,IAAI,6DAAS,CAAC,CAAC,GAAG,KAAK,CAAC;AACzE,WAAO;AAAA,MACL,wEAAW,CAAC,uEAAU,CAAC,MAAM,KAAK,IAAI,UAAQ,KAAK,KAAK,CAAC,GAAG,KAAK;AAAA,IACnE;AAAA,EACF,GAAG,CAAC,MAAM,IAAI,CAAC;AAEf,SAAO;AAAA,IACL,GAAG;AAAA,IACH;AAAA,EACF;AACF;AAEO,SAAS,8CAA8C;AAC5D,QAAM,qBAAqB,0JAA4C,CAAC;AACxE,SAAO,qCAAqC,mBAAmB,OAAO;AACxE;;;;;;;;;;;;;;;;;;;;;;;;;AC9CgC;AAEF;AACc;AAarC;AAEA,SAAS,0BAA0B;AACxC,QAAM,EAAE,WAAW,IAAI,mFAAa,CAAC;AACrC,QAAM,SAAS,6EAAe,CAAC;AAC/B,QAAM,oBAAoB,2HAA2B,CAAC;AACtD,SAAO,WAAW;AAAA,IAChB,SAAS,QAAQ,kBAAkB,SAAS;AAAA,IAC5C,UAAU,QAAQ,kBAAkB;AAAA,EACtC,CAAC;AACH;AAEO,SAAS,8BAA8B;AAC5C,QAAM,EAAE,WAAW,IAAI,mFAAa,CAAC;AACrC,QAAM,SAAS,6EAAe,CAAC;AAC/B,QAAM,oBAAoB,2HAA2B,CAAC;AACtD,SAAO,WAAW;AAAA,IAChB,QAAQ,QAAQ,sBAAsB;AAAA,IACtC,UAAU,QAAQ,sBAAsB;AAAA,EAC1C,CAAC;AACH;;;;;;;;;;;;;;;;;;;;ACXuB;AAxBE;AAEC;AAE2B;AACpB;AACI;AAE9B,SAAS,oCAAoC,mBAAyB;AAC3E,SAAO,CAAC;AACV;AAEO,SAAS,iCAAiC,6BAAsC;AACrF,SAAO,CAAC;AACV;AAKO,SAAS,YAAY,EAAE,SAAS,GAAqB;AAC1D,QAAM,oBAAoB,+GAAoB,CAAC;AAC/C,QAAM,8BAA8B,gIAAoC,CAAC;AAEzE,QAAM,WAAW,8FAAgB,CAAC;AAClC,MAAI,SAAU,QAAO,kIAAG,UAAS;AAEjC,MAAI,oCAAoC,iBAAiB;AACvD,WAAO,uEAAC,gEAAQ,IAAC,IAAI,kEAAS,CAAC,YAAY;AAE7C,MAAI,iCAAiC,2BAA2B;AAC9D,WAAO,uEAAC,gEAAQ,IAAC,IAAI,kEAAS,CAAC,QAAQ;AAEzC,SAAO,kIAAG,UAAS;AACrB;;;;;;;;;;;;;;;;;;;ACEW;AAnCc;AAEC;AAE2B;AACpB;AACI;AAErC,SAAS,4CACP,sBACA,cACA;AACA,SAAO,wBAAwB,CAAC,CAAC;AACnC;AAEA,SAAS,wDAAwD,YAAqB;AACpF,SAAO,CAAC,CAAC;AACX;AAKO,SAAS,eAAe,EAAE,SAAS,GAAwB;AAChE,QAAM,aAAa,+GAAoB,CAAC;AACxC,QAAM,uBAAuB,gIAAoC,CAAC;AAClE,QAAM,WAAW,8FAAgB,CAAC;AAElC,MACG,YAAY,SAAS,cACpB;AAAA,IACE;AAAA,IACA,WAAW;AAAA,EACb,KACF,UACA;AACA,WAAO,uEAAC,gEAAQ,IAAC,IAAI,kEAAS,CAAC,MAAM;AAAA,EACvC;AAEA,MAAI,wDAAwD,UAAU;AACpE,WAAO,uEAAC,gEAAQ,IAAC,IAAI,kEAAS,CAAC,QAAQ;AAEzC,SAAO,kIAAG,UAAS;AACrB;;;;;;;;;;;;;;;;;;;AC3C4B;AAEE;AAEY;AAInC,MAAM,2BAA2B,qDAAI,CAAC,KAAK;AAE3C,SAAS,yBAAyB;AACvC,SAAO,kEAAW,CAAC,sGAAyB;AAC9C;AAEO,SAAS,yBAAyB;AACvC,SAAO,wDAAO,CAAC,wBAAwB;AACzC;;;;;;;;;;;;;;;;;;;;;;;AChBwB;AAEO;AAQxB;AAGuB;AACK;AACmB;AACpB;AACO;AAOlC,SAAS,6BACd,8BAIA,wBAIA;AACA,SAAO,0EAAc;AAAd,IACL,+GAAwB;AAAxB,IACA,0GAAkB;AAAlB,IACA,wHAAqC;AAArC,IACA,CAAC,GAAG,cAAc,sBAAsB;AAEtC,UAAI,OAAO,KAAK,iBAAiB,EAAE,SAAS,KAAK,CAAC,cAAc;AAC9D,eAAO;AAAA,UACL,SAAS,uBAAuB,mBAAmB,SAAS;AAAA,UAC5D,SAAS,uBAAuB,mBAAmB,SAAS;AAAA,UAC5D,QAAQ,uBAAuB,mBAAmB,QAAQ;AAAA,UAC1D,SAAS,uBAAuB,mBAAmB,SAAS;AAAA,QAC9D;AAAA,MACF;AACA,aAAO;AAAA,QACL,SAAS,6BAA6B,cAAc,SAAS;AAAA,QAC7D,SAAS,6BAA6B,cAAc,SAAS;AAAA,QAC7D,QAAQ,6BAA6B,cAAc,QAAQ;AAAA,QAC3D,SAAS,6BAA6B,cAAc,SAAS;AAAA,MAC/D;AAAA,IACF;AAAA,EACF;AACF;AAEO,SAAS,kCAAkC;AAChD,QAAM,UAAU,mGAAiB,CAAC;AAClC,SAAO,gGAAkC,CAAC,QAAQ,MAAM,QAAQ,IAAI;AACtE;AAEO,SAAS,sCAA4D;AAC1E,QAAM,UAAU,mGAAiB,CAAC;AAClC,QAAM,EAAE,WAAW,IAAI,mFAAa,CAAC;AAErC,SAAO,8CAAO,CAAC,MAAM;AAGnB,QAAI;AACF,aAAO,WAAW;AAAA,QAChB,UAAU;AAAA,QACV,QAAQ,0FAA2B;AAA3B,UACN,kGAAmC,CAAC,QAAQ,MAAM,QAAQ,IAAI;AAAA,QAChE;AAAA,MACF,CAAC;AAAA,IACH,SAAS,GAAG;AACV,aAAO;AAAA,IACT;AAAA,EACF,GAAG,CAAC,SAAS,UAAU,CAAC;AAC1B;;;;;;;;;;;;;;;;;;ACjF4B;AAEI;AASzB;AAK6C;AAqBpD,SAAS,kBAAmD,MAAS;AACnE,QAAM,EAAE,gBAAgB,UAAU,SAAS,WAAW,QAAQ,cAAc,IAAI;AAChF,QAAM,UAAU,UAAU,UAAU,OAAO;AAC3C,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,IAAI,UAAU;AACZ,UAAI,CAAC,QAAQ,QAAS,OAAM,IAAI,MAAM,oCAAoC;AAC1E,aAAO,QAAQ;AAAA,IACjB;AAAA,IACA,IAAI,YAAY;AACd,UAAI,CAAC,SAAS,UAAW,OAAM,IAAI,MAAM,uCAAuC;AAChF,aAAO,SAAS;AAAA,IAClB;AAAA,IACA,MAAM;AAAA,IACN,WAAW;AAAA,EACb;AACF;AASO,SAAS,iCACd,MACA;AACA,QAAM,EAAE,cAAc,SAAS,WAAW,iBAAiB,0BAA0B,IAAI;AACzF,SAAO,CAAC,iBAA6D;AACnE,UAAM,uBACJ,oGAAqC,CAAC,eAAe,EAAE,YAAY;AAErE,UAAM,UAAU,UAAU,sBAAsB,OAAO;AAEvD,WAAO,kBAAkB;AAAA,MACvB,UAAU,wDAAK,CAAC;AAAA,QACd,qBAAqB;AAAA,QACrB;AAAA,MACF;AAAA,MACA;AAAA,MACA,gBAAgB,8EAAe,CAAC,QAAQ,IAAI,EAAE;AAAA,QAC5C,QAAQ,wGAAyC,CAAC,SAAS,cAAc,YAAY;AAAA,QACrF,MAAM,mGAAoC,CAAC,SAAS,cAAc,YAAY;AAAA,QAC9E,eAAe;AAAA,QACf,OAAO;AAAA,QACP,MAAM;AAAA,MACR,CAAC;AAAA,MACD;AAAA,MACA,OAAO,IAAqB;AAC1B,YAAI,CAAC,qBAAqB;AACxB,gBAAM,IAAI,MAAM,kDAAkD;AAEpE,WAAG,KAAK,qBAAqB,UAAU;AAAA,MACzC;AAAA;AAAA,MAEA,cAAc,IAAqB,OAAe,gBAA2B;AAC3E,YAAI,CAAC,qBAAqB;AACxB,gBAAM,IAAI,MAAM,kDAAkD;AAEpE,WAAG,QAAQ,qBAAqB,YAAY,OAAO,cAAc;AAAA,MACnE;AAAA,IACF,CAAC;AAAA,EACH;AACF;AAQA,SAAS,gCAA+E;AAAA,EACtF;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAM;AACJ,SAAO,CAAC,EAAE,cAAc,aAAa,MAAsD;AACzF,UAAM,aAAa,oBAAI,IAAI;AAE3B,aAAS,kBAAkB,UAAiB,SAA8B;AACxE,aAAO,iCAAiC;AAAA,QACtC;AAAA,QACA,iBAAiB;AAAA,QACjB;AAAA,QACA;AAAA,QACA;AAAA,MACF,CAAC,EAAE,YAAY;AAAA,IACjB;AAEA,UAAM,iBAAiB,kBAAkB,YAAY;AACrD,QAAI,gBAAgB;AAClB,iBAAW,IAAI,WAAW,kBAAkB,eAAe,UAAU,SAAS,CAAC;AAAA,IACjF;AAEA,UAAM,iBAAiB,kBAAkB,YAAY;AACrD,QAAI,gBAAgB;AAClB,iBAAW,IAAI,WAAW,kBAAkB,eAAe,UAAU,SAAS,CAAC;AAC/E,iBAAW,IAAI,WAAW,kBAAkB,eAAe,UAAU,SAAS,CAAC;AAC/E,iBAAW,IAAI,UAAU,kBAAkB,eAAe,UAAU,QAAQ,CAAC;AAAA,IAC/E;AAEA,WAAO,OAAO,YAAY,UAAU;AAAA,EACtC;AACF;AAEO,SAAS,2CACd,mBACA,mBACA,WACA;AACA,QAAM,4BAA4B,gGAAmC,CAAC;AAEtE,SAAO,kDAAW;AAAX,IACL,CAAC,iBAAyB;AACxB,YAAM,YAAY;AAElB,aAAO,gCAAgC;AAAA,QACrC;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF,CAAC,EAAE,EAAE,cAAc,cAAc,UAAU,CAAC;AAAA,IAC9C;AAAA,IACA,CAAC,2BAA2B,mBAAmB,WAAW,iBAAiB;AAAA,EAC7E;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvKqB;AAMd;AAEsC;AAEtB;AAchB,SAAS,iCAAiC;AAAA,EAC/C;AAAA,EACA;AAAA,EACA;AACF,GAAyC;AACvC,QAAM,KAAK,+BAAe,CAAC,SAAS,IAAI;AACxC,QAAM,UAAU,iBAAiB,sCAAe,CAAC,GAAG,YAAY;AAChE,SAAO;AAAA,IACL,gBAAgB,cAAmD;AACjE,aAAO,QAAQ,IAAI,gBAAc;AAC/B,cAAM,QAAQ,GAAG,SAAS,UAAU;AAEpC,YAAI,kCAAW,CAAC,MAAM,KAAK,EAAG,OAAM,IAAI,MAAM,2CAA2C;AACzF,cAAM,cAAc,oCAAmB,CAAC,OAAO,OAAO;AAEtD,gBAAQ,aAAa;AAAA,UACnB,KAAK;AACH,mBAAO;AAAA,cACL,OAAO;AAAA,cACP,gBAAgB,0DAAyC,CAAC,SAAS,cAAc,CAAC;AAAA,YACpF;AAAA,UACF,KAAK;AACH,mBAAO;AAAA,cACL,OAAO;AAAA,cACP,gBAAgB,qDAAoC,CAAC,SAAS,cAAc,CAAC;AAAA,YAC/E;AAAA,UACF;AACE,gCAAM,CAAC,MAAM,qDAAqD;AAClE,mBAAO,EAAE,OAAO,YAAY,gBAAgB,GAAG;AAAA,QACnD;AAAA,MACF,CAAC;AAAA,IACH;AAAA,EACF;AACF;;;;;;;;ACzDqB;AAEiB;AAE/B,MAAM,gBAAgB,wBAAU,CAAC,EAAE,QAAQ;AAE3C,SAAS,kCAAiB,CAC/B,KACA,WACA;AACA,MAAI;AACF,cAAU,aAAa,KAAK,EAAE,YAAY,MAAM,CAAC;AACjD,WAAO;AAAA,EACT,SAAS,GAAG;AACV,WAAO;AAAA,EACT;AACF;AAEO,SAAS,kCAAiB,CAC/B,KACA,WACA;AACA,MAAI;AACF,cAAU,aAAa,KAAK,EAAE,YAAY,MAAM,CAAC;AACjD,WAAO,CAAC;AAAA,EACV,SAAS,GAAG;AACV,QAAI,aAAa,IAAI,gBAAiB,QAAO,EAAE;AAC/C,WAAO,CAAC;AAAA,EACV;AACF;AAEO,SAAS,uCAAsB,CAAC,QAA+B;AACpE,SACE,yBAAyB,OAAO,IAAI,OAAK,iBAAiB,EAAE,IAAI,KAAK,EAAE,OAAO,GAAG,EAAE,KAAK,GAAG;AAE/F;AAEO,SAAS,6BAA6B,OAAgB;AAC3D,MAAI,kCAAW,CAAC,KAAK,EAAG,QAAO;AAC/B,MAAI,MAAM,QAAQ,KAAK,EAAG,QAAO,MAAM,MAAM,UAAQ,+BAAQ,CAAC,IAAI,CAAC;AACnE,SAAO,+BAAQ,CAAC,KAAK;AACvB;;;;ACzCwB;AACH;AAEgC;AAM9C;AAQA;AAKA,MAAM,kBAAkB;AAAA,EAC7B,2BAAO,CAAC;AAAA,EACR,6BAAmB,CAAC;AAAA,EACpB,6BAAmB,CAAC;AAAA,EACpB,6BAAmB,CAAC;AAAA,EACpB,2BAAO,CAAC;AAAA,EACR,6BAAmB,CAAC;AAAA,EACpB,6BAAmB,CAAC;AAAA,EACpB,6BAAmB,CAAC;AACtB;AAEA,MAAM,0BAA0B,wBAAU,CAAC,EAAE,MAAM;AAAA,EACjD,SAAS,aAAa;AAAb,EACT,gBAAgB,uBAAS,CAAC;AAAA,EAC1B,WAAW,yBAAW,CAAC;AAAA,EACvB,KAAK,wBAAU,CAAC,EAAE,SAAS;AAAA,EAC3B,SAAS,wBAAU,CAAC,EAAE,MAAM,OAAO,OAAO,wDAAoC,CAAC;AAAA,EAC/E,aAAa,uBAAS,CAAoB,EAAE,KAAK,4BAA4B;AAC/E,CAAC;AAGM,SAAS,0BAA0B,KAAc;AACtD,SAAO,kBAAkB,KAAK,uBAAuB;AACvD;AAEO,SAAS,0BAA0B,KAAc;AACtD,SAAO,uBAAuB,kBAAkB,KAAK,uBAAuB,CAAC;AAC/E;;;;;;;;;;AC/C2C;AAEpC,eAAe,gCAAgC,MAAwC;AAC5F,SAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtC,aAAS,gBAAgB,KAA+C;AACtE,UAAI,IAAI,iBAAiB,MAAM;AAC7B,0CAAS,CAAC,YAAY,yBAAyB,eAAe;AAC9D,0CAAS,CAAC,YAAY,mCAAmC,qBAAqB;AAC9E,gBAAQ,IAAI,UAAU;AAAA,MACxB;AAAA,IACF;AACA,sCAAS,CAAC,UAAU,yBAAyB,eAAe;AAE5D,aAAS,sBAAsB,KAAyD;AACtF,UAAI,IAAI,iBAAiB,MAAM;AAC7B,0CAAS,CAAC,YAAY,mCAAmC,qBAAqB;AAC9E,0CAAS,CAAC,YAAY,yBAAyB,eAAe;AAC9D,eAAO,IAAI,MAAM,sCAAsC,CAAC;AAAA,MAC1D;AAAA,IACF;AACA,sCAAS,CAAC,UAAU,mCAAmC,qBAAqB;AAAA,EAC9E,CAAC;AACH;;;;;;;;;;;;;;;;;ACvB2B;AACN;AACA;AASd;AACqC;AACA;AACN;AAK/B;AACyB;AACN;AAEI;AACkB;AACd;AAM3B;AAIA;AAC2B;AAEK;AAMhC;AAIA;AAGA,SAAS,8BAA8B;AAC5C,QAAM,eAAe,qEAA6B,CAAC;AACnD,QAAM,UAAU,0DAAwB,CAAC;AACzC,SAAO,CAAC,CAAC,gBAAgB,CAAC,CAAC;AAC7B;AAGO,SAAS,2BAA2B,UAAmB;AAC5D,QAAM,UAAU,gDAAiB,CAAC;AAClC,QAAM,sBAAsB,mDAAsB,CAAC;AACnD,QAAM,UAAU,mDAAiB,CAAC,YAAY,mBAAmB;AAEjE,MAAI,CAAC,QAAS,OAAM,IAAI,MAAM,kCAAkC;AAEhE,QAAM,UAAU,kCAAiB,CAAC;AAAA,IAChC,OAAO;AAAA,IACP,UAAU,QAAQ;AAAA,IAClB,SAAS,mDAA2B,CAAC,QAAQ,MAAM,QAAQ,cAAc;AAAA,EAC3E,CAAC;AAED,SAAO;AACT;AAEA,SAAS,2BAA2B;AAClC,QAAM,2BAA2B,2EAAmC,CAAC;AACrE,QAAM,sBAAsB,gEAA8B,CAAC;AAE3D,SAAO,OAAO,MAAkB,uBAAoD;AAClF,UAAM,KAAK,+BAAe,CAAC,SAAS,IAAI;AAExC,uBAAmB,QAAQ,CAAC,EAAE,OAAO,eAAe,MAAM;AACxD,YAAM,qBAAqB;AAAA,QACzB,mDAA2B,CAAC,cAAc;AAAA,MAC5C;AACA,YAAM,gBAAgB,sBAAsB,mDAA2B,CAAC,cAAc,CAAC;AAEvF,UAAI,CAAC,sBAAsB,CAAC,cAAe,OAAM,IAAI,MAAM,uBAAuB;AAMlF,UAAI;AACF,2BAAmB,UAAU,IAAI,OAAO,eAAe;AAAA,MACzD,SAAS,GAAG;AACV,YAAI;AACF,wBAAc,UAAU,IAAI,OAAO,eAAe;AAAA,QACpD,SAAS,IAAI;AAAA,QAAC;AAAA,MAChB;AAAA,IACF,CAAC;AAED,WAAO;AAAA,EACT;AACF;AAEO,SAAS,yBAAyB;AACvC,QAAM,eAAe,mDAAsB,CAAC;AAC5C,QAAM,UAAU,gDAAiB,CAAC;AAElC,QAAM,oCACJ,sGAA8D,CAAC;AAEjE,QAAM,iCACJ,8GAAsE,CAAC;AAEzE,QAAM,4BAA4B,8FAA4D,CAAC;AAE/F,QAAM,qBAAqB,QAAQ,MAAM,QAAQ;AAEjD,SAAO,OACL,KACA,SACA,kBACG;AACH,UAAM,cAAc,MAAM,IAAI,qBAAqB;AAInD,UAAM,OAAO,QAAI,CAAC,WAAW,MAAM,CAAC,KAAK,OAAO,GAAG;AAAA,MACjD,SAAS,mDAAkC,CAAC,kBAAkB;AAAA,IAChE,CAAC;AAED,UAAM,qBAAqB,+BAAe,CAAC,SAAS,KAAK,SAAS,CAAC;AAEnE,UAAM,qBAAqB,cAAc,IAAI,YAAU;AACrD,YAAM,aAAa,mBAAmB,SAAS,OAAO,KAAK,EAAE;AAC7D,UAAI,kCAAW,CAAC,UAAU,EAAG,OAAM,IAAI,MAAM,2CAA2C;AACxF,aAAO;AAAA,QACL;AAAA,QACA,oCAAmB,CAAC,mBAAmB,SAAS,OAAO,KAAK,GAAG,kBAAkB;AAAA,MACnF;AAAA,IACF,CAAC;AAID,UAAM,sBAAsB,mBACzB,OAAO,CAAC,CAAC,GAAG,WAAW,MAAM,gBAAgB,MAAM,EACnD,IAAI,CAAC,CAAC,KAAK,MAAM,KAAK;AAEzB,QAAI,oBAAoB,QAAQ;AAC9B,YAAM,0BAA0B,MAAM,aAAa,mBAAmB;AAEtE,YAAM,2BAA2B,MAAM,IAAI;AAAA,QACzC,iDAAgC,CAAC,oBAAoB,YAAY;AAAA,MACnE;AAEA,YAAM,gBAAgB,iEAAgC,CAAC;AAAA,QACrD;AAAA,QACA;AAAA,QACA,SAAS;AAAA,QACT,MAAM;AAAA,MACR,CAAC;AAED,YAAM,oBAAoB,MAAM,IAAI,SAAS,KAAK,SAAS,GAAG,eAAe,IAAI;AAEjF,sEAA+B,CAAC,MAAM,iBAAiB;AAAA,IACzD;AAIA,UAAM,2BAA2B,mBAC9B,OAAO,CAAC,CAAC,GAAG,WAAW,MAAM,gBAAgB,QAAQ,EACrD,IAAI,CAAC,CAAC,KAAK,MAAM,KAAK;AAEzB,QAAI,yBAAyB,QAAQ;AACnC,YAAM,gCAAgC,MAAM,IAAI;AAAA,QAC9C,sDAAqC,CAAC,oBAAoB,YAAY;AAAA,MACxE;AAKA,UAAI;AACF,cAAM,kCAAkC,MAAM,wBAAwB;AACtE,aAAK,2BAAS,CAAC,MAAM,sDAAsD;AAAA,MAC7E,SAAS,GAAG;AACV,aAAK,2BAAS,CAAC,MAAM,iDAAiD;AAAA,MACxE;AAEA,YAAM,+BAA+B,MAAM,aAAa,wBAAwB;AAEhF,YAAM,qBAAqB,sEAAqC,CAAC;AAAA,QAC/D;AAAA,QACA;AAAA,QACA,SAAS;AAAA,QACT,MAAM;AAAA,MACR,CAAC;AAED,YAAM,yBAAyB,MAAM,IAAI,SAAS,KAAK,SAAS,GAAG,oBAAoB,IAAI;AAE3F,sEAA+B,CAAC,MAAM,sBAAsB;AAAA,IAC9D;AAIA,WAAO,+BAAe,CAAC,SAAS,KAAK,SAAS,CAAC;AAAA,EACjD;AACF;AAEO,SAAS,iCAAiC;AAC/C,QAAM,sBAAsB,gEAA8B,CAAC;AAE3D,SAAO,CAAC,IAAqB,iBAC3B,aAAa,QAAQ,CAAC,EAAE,OAAO,eAAe,MAAM;AAClD,UAAM,gBAAgB,sBAAsB,mDAA2B,CAAC,cAAc,CAAC;AACvF,QAAI,CAAC,cAAe,OAAM,IAAI,MAAM,0BAA0B;AAC9D,UAAM,QAAQ,GAAG,SAAS,KAAK;AAE/B,UAAM,sBACJ,MAAM,aAAa,UAAU,yBAAa,CAAC,OAAO,MAAM,YAAY,MAAM;AAM5E,aAAS,6CAA6C;AACpD,UAAI,CAAC,cAAe,QAAO;AAC3B,UAAI,qBAAqB,SAAS,KAAM,QAAO;AAE/C,UAAI,MAAM,eAAgB,QAAO;AAEjC,UAAI,MAAM,cAAe,QAAO;AAChC,aAAO;AAAA,IACT;AAEA,QAAI,2CAA2C,GAAG;AAChD,WAAK,2BAAS,CAAC,MAAM,qDAAqD;AAC1E,SAAG,YAAY,OAAO,EAAE,GAAG,OAAO,gBAAgB,cAAc,QAAQ,eAAe,CAAC;AAAA,IAC1F;AAAA,EACF,CAAC;AACL;AAEO,SAAS,sCAAsC;AACpD,QAAM,UAAU,gDAAiB,CAAC;AAClC,QAAM,eAAe,mDAAsB,CAAC;AAE5C,SAAO,CAAC,MAAkB,kBACxB,gCAAgC,CAAC;AAAA,IAC/B;AAAA,IACA,SAAS,mDAA2B,CAAC,QAAQ,MAAM,QAAQ,cAAc;AAAA,IACzE;AAAA,EACF,CAAC,EAAE,gBAAgB,YAAY;AACnC;AAEO,SAAS,mBAAmB;AACjC,QAAM,EAAE,WAAW,IAAI,wCAAa,CAAC;AACrC,QAAM,iBAAiB,gDAAiB,CAAC;AACzC,QAAM,iBAAiB,yBAAyB;AAChD,QAAM,0BAA0B,oCAAoC;AAMpE,SAAO,CAAC,MAAkB,iBAA0D;AAClF,aAAS,iBAAiBC,eAAuD;AAC/E,UAAI,CAACA,cAAc,QAAO,wBAAwB,IAAI;AACtD,UAAIA,cAAa,MAAM,2BAAQ,EAAG,QAAO,wBAAwB,MAAMA,aAAY;AACnF,aAAOA;AAAA,IACT;AAEA,WAAO,WAAW;AAAA,MAChB,MAAM,SAAS;AAKb,uBAAe,uCAAuC,MAAM,iBAAiB,YAAY,CAAC;AAC1F,eAAO,+BAA+B,CAAC,4BAAU,CAAC,IAAI,CAAC;AAAA,MACzD;AAAA,MACA,MAAM,WAAW;AACf,eAAO,eAAe,MAAM,iBAAiB,YAAY,CAAC;AAAA,MAC5D;AAAA,IACF,CAAC,EAAE;AAAA,EACL;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/RwB;AACI;AAEG;AASxB;AACqC;AACA;AACX;AACJ;AAGH;AAES;AACE;AACK;AAEH;AAIhC;AAIA;AAEP,MAAM,mCAAmC,0FAA4B;AAA5B,EACvC,oGAAyC;AAAzC,EACA,qFAAsB,CAAC,gGAAqC;AAC9D;AAEA,MAAM,iDAAiD,2EAAc;AAAd,EACrD;AAAA,EACA,kGAAoB;AAApB,EACA,CAAC,uBAAuB,YACtB,sBAAsB,yFAA2B,CAAC,QAAQ,MAAM,QAAQ,cAAc,CAAC;AAC3F;AAEA,SAAS,gCAAgC;AACvC,SAAO,mEAAW,CAAC,8CAA8C;AACnE;AAEA,MAAM,mCAAmC,2EAAc;AAAd,EACvC;AAAA,EACA,gHAAyB;AAAzB,EACA,CAAC,iBAAiB,iBAAiB,gBAAgB,YAAY;AACjE;AAEO,SAAS,gCAAgC;AAC9C,SAAO,mEAAW,CAAC,gCAAgC;AACrD;AAEO,SAAS,gCAAgC;AAC9C,QAAM,EAAE,SAAS,iBAAiB,SAAS,gBAAgB,IAAI,mEAAW;AAAX,IAC7D;AAAA,EACF;AAEA,SAAO,qGAA0C;AAA1C,IACL;AAAA,IACA;AAAA,IACA,iGAAsC;AAAtC,EACF;AACF;AAEO,SAAS,sBAAsB,cAAsB;AAC1D,QAAM,UAAU,8BAA8B,EAAE,YAAY;AAC5D,QAAM,4BAA4B,iGAAmC,CAAC;AAEtE,SAAO,8CAAO,CAAC,MAAM;AACnB,QAAI,CAAC,QAAS;AACd,WAAO,2FAAgC,CAAC;AAAA,MACtC;AAAA,MACA,iBAAiB,QAAQ;AAAA,MACzB,WAAW,iGAAsC;AAAtC,MACX,SAAS,QAAQ;AAAA,MACjB;AAAA,IACF,CAAC;AAAA,EACH,GAAG,CAAC,SAAS,cAAc,yBAAyB,CAAC;AACvD;AAEO,SAAS,sCAAsC;AACpD,QAAM,sBAAsB,0EAAsB,CAAC;AACnD,SAAO,sBAAsB,mBAAmB;AAClD;AAIO,SAAS,+CAA+C;AAC7D,QAAM,SAAS,oCAAoC;AACnD,SAAO,8CAAO,CAAC,MAAM;AACnB,QAAI,CAAC,OAAQ,OAAM,IAAI,MAAM,WAAW;AACxC,WAAO,OAAO,CAAC;AAAA,EACjB,GAAG,CAAC,MAAM,CAAC;AACb;AAEO,SAAS,uDAAuD;AACrE,QAAM,SAAS,oCAAoC;AACnD,SAAO,8CAAO,CAAC,MAAM;AACnB,QAAI,CAAC,OAAQ,QAAO;AACpB,WAAO,OAAO,CAAC;AAAA,EACjB,GAAG,CAAC,MAAM,CAAC;AACb;AAKO,SAAS,gDAAgD;AAC9D,QAAM,SAAS,oCAAoC;AACnD,SAAO,8CAAO,CAAC,MAAM,SAAS,CAAC,EAAE,QAAQ,SAAS,CAAC,MAAM,CAAC;AAC5D;AAKO,SAAS,4CAA4C,cAAsB;AAChF,QAAM,SAAS,sBAAsB,YAAY,IAAI,CAAC;AAEtD,SAAO,QAAQ,QAAQ;AACzB;AAEO,SAAS,0CAA0C,WAAmB;AAC3E,SAAO,CAAC,iBAAyB;AAC/B,UAAM,WAAW,2FAAkB,CAAC,SAAS;AAC7C,UAAM,UAAU,wGAAyC,CAAC,UAAU,SAAS,EAAE,YAAY;AAC3F,WAAO,qGAAsC;AAAtC,MACL,gGAAiC,CAAC,QAAQ,QAAQ;AAAA,MAClD;AAAA,IACF;AAAA,EACF;AACF;AAEO,SAAS,iEAAiE;AAC/E,QAAM,gBAAgB,8EAAgB,CAAC;AAEvC,SAAO,OAAO,IAAU,uBAAoD;AAC1E,UAAM,cAAc,MAAM,QAAQ;AAAA,MAChC,GAAG,SAAS;AAAA,QAAI,WACd,cAAc,gBAAgB;AAAA;AAAA,UAE5B,yEAAY,CAAC,MAAM,IAAI,EAAE,SAAS,KAAK;AAAA,QACzC;AAAA,MACF;AAAA,IACF;AAEA,uBAAmB,QAAQ,CAAC,EAAE,MAAM,MAAM;AAExC,UAAI,CAAC,GAAG,KAAK,OAAO,KAAK,EAAE,gBAAgB;AACzC,WAAG,YAAY,OAAO;AAAA,UACpB,gBAAgB,MAAM,CAAC,KAAK,YAAY,KAAK,GAAG,KAAK;AAAA,QACvD,CAAC;AACD,aAAK,wEAAS,CAAC,MAAM,wCAAwC;AAAA,MAC/D,OAAO;AACL,aAAK,wEAAS,CAAC,MAAM,6CAA6C;AAAA,MACpE;AAAA,IACF,CAAC;AAAA,EACH;AACF;AAEO,SAAS,yEAAyE;AACvF,QAAM,2BAA2B,oCAAoC;AAErE,SAAO,OAAO,IAAU,aAAqB,uBAAoD;AAC/F,uBAAmB,QAAQ,CAAC,EAAE,OAAO,eAAe,MAAM;AACxD,YAAM,qBAAqB;AAAA,QACzB,yFAA2B,CAAC,cAAc;AAAA,MAC5C;AAEA,UAAI,CAAC;AACH,cAAM,IAAI,MAAM,mCAAmC,cAAc,GAAG;AAEtE,SAAG,YAAY,OAAO;AAAA,QACpB,iBAAiB;AAAA,UACf;AAAA,YACE,mBAAmB,MAAM,CAAC,KAAK,aAAa,KAAK;AAAA,YACjD,QAAQ,MAAM,CAAC,KAAK,mBAAmB,SAAS;AAAA,YAChD,MAAM;AAAA,UACR;AAAA,QACF;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AAAA,EACH;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9LwB;AACI;AAEG;AASxB;AACqC;AAKY;AACd;AAEH;AAIhC;AAIA;AAEP,MAAM,8BAA8B,yFAA4B;AAA5B,EAClC,+EAAoB;AAApB,EACA,qFAAsB,CAAC,0FAA+B;AACxD;AAEA,MAAM,4CAA4C,0EAAc;AAAd,EAChD;AAAA,EACA,kGAAoB;AAApB,EACA,CAAC,kBAAkB,YAAY,iBAAiB,QAAQ,MAAM,QAAQ,IAAI;AAC5E;AACA,MAAM,8BAA8B,0EAAc;AAAd,EAClC;AAAA,EACA,gHAAyB;AAAzB,EACA,CAAC,iBAAiB,iBAAiB,gBAAgB,YAAY;AACjE;AAEO,SAAS,kBAAkB,cAAsB;AACtD,QAAM,yBAAyB,kEAAW,CAAC,yCAAyC;AACpF,SAAO,8CAAO;AAAP,IACL,MAAM,uBAAuB,YAAY;AAAA,IACzC,CAAC,wBAAwB,YAAY;AAAA,EACvC;AACF;AAEO,SAAS,2BAA2B;AACzC,SAAO,kEAAW,CAAC,2BAA2B;AAChD;AAEO,SAAS,2BAA2B;AACzC,QAAM,EAAE,SAAS,iBAAiB,SAAS,gBAAgB,IAAI,kEAAW;AAAX,IAC7D;AAAA,EACF;AACA,SAAO,oGAA0C;AAA1C,IACL;AAAA,IACA;AAAA,IACA,4FAAiC;AAAjC,EACF;AACF;AAEO,SAAS,iBAAiB,cAAsB,SAA8B;AACnF,QAAM,UAAU,kBAAkB,YAAY;AAC9C,QAAM,4BAA4B,gGAAmC,CAAC;AAEtE,SAAO,8CAAO,CAAC,MAAM;AACnB,QAAI,CAAC,QAAS;AACd,WAAO,0FAAgC,CAAC;AAAA,MACtC;AAAA,MACA,iBAAiB,QAAQ;AAAA,MACzB,WAAW,4FAAiC;AAAjC,MACX;AAAA,MACA;AAAA,IACF,CAAC;AAAA,EACH,GAAG,CAAC,SAAS,cAAc,2BAA2B,OAAO,CAAC;AAChE;AAEO,SAAS,0CAA0C;AACxD,QAAM,SAAS,+BAA+B;AAC9C,SAAO,8CAAO,CAAC,MAAM;AACnB,QAAI,CAAC,OAAQ,OAAM,IAAI,MAAM,WAAW;AACxC,WAAO,OAAO,CAAC;AAAA,EACjB,GAAG,CAAC,MAAM,CAAC;AACb;AAEO,SAAS,iCAAiC;AAC/C,QAAM,sBAAsB,0EAAsB,CAAC;AACnD,QAAM,UAAU,mGAAiB,CAAC;AAClC,SAAO,iBAAiB,qBAAqB,QAAQ,MAAM,QAAQ,IAAI;AACzE;AAEO,SAAS,+DAA+D;AAC7E,QAAM,sBAAsB,+BAA+B;AAE3D,SAAO,OACL,IACA,aACA,iBAA8C,CAAC,MAC5C;AACH,mBAAe,QAAQ,CAAC,EAAE,OAAO,eAAe,MAAM;AACpD,YAAM,4BAA4B;AAAA,QAChC,yFAA2B,CAAC,cAAc;AAAA,MAC5C;AAEA,UAAI,CAAC;AACH,cAAM,IAAI,MAAM,2CAA2C,cAAc,GAAG;AAE9E,SAAG,YAAY,OAAO;AAAA,QACpB,oBAAoB;AAAA,UAClB;AAAA,YACE,mBAAmB,MAAM,CAAC,KAAK,aAAa,KAAK;AAAA,YACjD,QAAQ,MAAM,CAAC,KAAK,sFAAuB,CAAC,0BAA0B,SAAS,CAAC;AAAA,YAChF,MAAM;AAAA,YACN,YAAY,CAAC;AAAA,UACf;AAAA,QACF;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AAAA,EACH;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChIqB;AAE4C;AAE7B;AAEV;AAC6B;AAChB;AAGhC,MAAM,qBAAqB,wBAAI,CAAC,SAAO;AAC5C,QAAM,QAAQ,IAAI,2BAAS;AAC3B,QAAM,aAAa,iDAAmB,CAAC,IAAI,YAAY;AACvD,QAAM,iBAAiB,iDAAmB,CAAC,IAAI,gBAAgB;AAC/D,QAAM,cAAc,iDAAmB,CAAC,IAAI,SAAS;AAErD,QAAM,WAAiD,6CAAc,CAAC,KAAK;AAE3E,MAAI,YAAa,QAAO,SAAS,WAAW,KAAK,yCAAqB;AAEtE,QAAM,mBAAmB,qDAAsB,CAAC,KAAK;AAErD,QAAM,mBAAmB,gDAAsB,CAAC,EAAE,YAAY,gBAAgB,SAAS,CAAC;AACxF,SAAO,SAAS,oBAAoB,gBAAgB,KAAK,yCAAqB;AAChF,CAAC;;;;ACzB0B;AACI;AACQ;AACf;AAQjB;AAC6C;AAC/B;AAEa;AACM;AAEe;AACpB;AAEH;AACN;AACQ;AAI3B;AACuC;AACX;AAQnC,SAAS,uBAAuB,cAAqB,OAAe;AAClE,QAAM,gBAAgB,sCAAmB,CAAC,EAAE,UAAU,cAAc,MAAM,CAAQ;AAClF,QAAM,SAAS,6BAAY,CAAC,uCAAsB,CAAC,aAAa,CAAC;AAEjE,QAAM,qBAAqB,aAAa,OAAO,+CAAoB;AACnE,QAAM,mBAAmB,mBAAmB,YAAY,QAAQ,0BAAe;AAC/E,MAAI,CAAC,iBAAiB,WAAY,OAAM,IAAI,MAAM,4CAA4C;AAC9F,QAAM,iBAAiB,4BAAU,CAAC,iBAAiB,UAAU;AAE7D,QAAM,UAAU,iBAAiB,YAAY,IAAI,0BAAe,EAAE;AAElE,QAAM,OAAO,+CAAgB,CAAC,kBAAkB;AAEhD,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,WAAW;AAAA,IACX;AAAA,IACA,gBAAgB,kCAAkB,CAAC,oCAAc,CAAC,kBAAkB,MAAM;AAAA,IAC1E,gBAAgB,kCAAkB,CAAC,oCAAc,CAAC,kBAAkB,MAAM;AAAA,EAC5E;AACF;AAEA,MAAM,mCAAmC,wBAAI,CAAC,SAAO;AACnD,QAAM,iBAAiB,IAAI,kBAAkB;AAE7C,SAAO,kCAAiB,CAAC,eAAe,MAAM,OAAO,OAAO,EAAE;AAAA,IAC5D,CAAC,yBAAO,CAAC,OAAO,GAAG,oCAAc,CAAC;AAAA,IAClC,CAAC,yBAAO,CAAC,OAAO,GAAG,oCAAc,CAAC;AAAA,EACpC,CAAC;AACH,CAAC;AAED,MAAM,0BAA0B,mCAAc;AAAd,EAC9B,kDAAkB;AAAlB,EACA,4CAAiB;AAAjB,EACA,CAAC,UAAU,UAAU;AACnB,QAAI,CAAC,SAAU;AACf,UAAM,EAAE,qBAAqB,oBAAoB,IAAI,MAAM,uCAAkB;AAC7E,UAAM,2BAA2B,KAAK,IAAI,qBAAqB,mBAAmB,IAAI;AACtF,WAAO,8CAAuB,CAAC,wBAAwB,EAAE;AAAA,MAAI,CAAC,GAAG,UAC/D,uBAAuB,UAAU,KAAK;AAAA,IACxC;AAAA,EACF;AACF;AAEA,MAAM,wBAAwB,wBAAI,CAAsC,SAAO;AAC7E,QAAM,QAAQ,IAAI,2BAAS;AAC3B,QAAM,iBAAiB,IAAI,gCAAgC,KAAK,oCAAc,CAAC;AAC/E,QAAM,WAAW,wBAAwB,KAAK;AAC9C,MAAI,CAAC,SAAU,QAAO;AACtB,SAAO,SAAS,IAAI,aAAW;AAC7B,UAAM,UAAU,kCAAkB,CAAC,gBAAgB,kCAAiB,CAAC,QAAQ,aAAa,CAAC;AAC3F,UAAM,eAAe,mCAAe,CAAC,QAAQ,aAAa;AAC1D,UAAM,gBAAgB,mCAAe,CAAC,QAAQ,cAAc;AAC5D,WAAO,EAAE,GAAG,SAAS,MAAM,YAAY,SAAS,cAAc,cAAc;AAAA,EAC9E,CAAC;AACH,CAAC;AAED,MAAM,sBAAsB,wBAAI,CAAsC,SAAO;AAC3E,QAAM,iBAAiB,IAAI,gCAAgC;AAC3D,QAAM,aAAa,0DAA6B,CAAC,IAAI,2BAAS,CAAC;AAE/D,SAAO,WAAW,IAAI,CAAC,YAAY,UAAU;AAC3C,UAAM,UAAU,kCAAkB;AAAlB,MACd;AAAA,MACA,sCAAqB,CAAC,WAAW,YAAY;AAAA,IAC/C;AACA,WAAO;AAAA,MACL,GAAG;AAAA,MACH,MAAM;AAAA,MACN;AAAA,MACA,cAAc,WAAW;AAAA,MACzB,eAAe,WAAW;AAAA,MAC1B;AAAA,IACF;AAAA,EACF,CAAC;AACH,CAAC;AAEM,MAAM,qBAAqB,wBAAI,CAAkB,SAAO;AAC7D,QAAM,iBAAiB,IAAI,mBAAmB;AAC9C,QAAM,mBAAmB,IAAI,qBAAqB;AAElD,MAAI,gBAAgB,QAAQ;AAC1B,WAAO;AAAA,EACT;AAEA,SAAO,oBAAoB,CAAC;AAC9B,CAAC;AAWM,MAAM,oBAAoB,wBAAI,CAAC,OAAM,QAAO;AACjD,QAAM,QAAQ,IAAI,2BAAS;AAC3B,QAAM,YAAY,0DAAsB,CAAC,KAAK;AAC9C,QAAM,WAAW,IAAI,qBAAqB;AAC1C,MAAI,CAAC,UAAW;AAChB,QAAM,SAAS,MAAM,mCAAc,CAAC,EAAE,WAAW,UAAU,GAAG,CAAC;AAC/D,SAAO,WAAW,YAAY,CAAC;AAC/B,SAAO;AACT,CAAC;;;;;;;;ACjJ2C;AACvB;AAEa;AAEC;AAE5B,MAAM,iCAAiC,wBAAI,CAAC,SAAO;AACxD,QAAM,iBAAiB,IAAI,kBAAkB;AAE7C,MAAI,CAAC,eAAe,MAAM,OAAO,QAAS,QAAO,wCAAkB,CAAC;AAEpE,SAAO,kCAAiB,CAAC,eAAe,MAAM,OAAO,OAAO,EAAE;AAAA,IAC5D,CAAC,6BAAO,CAAC,OAAO,GAAG,wCAAkB,CAAC;AAAA,IACtC,CAAC,6BAAO,CAAC,OAAO,GAAG,wCAAkB,CAAC;AAAA,EACxC,CAAC;AACH,CAAC;;;;;;AChBuB;AAEK;AAKtB;AACyC;AACL;AACI;AAEkB;AAG1D,SAAS,oBAAoB;AAClC,SAAO,kCAAY,CAAC,kBAAkB;AACxC;AAUO,SAAS,0BAA0B;AACxC,QAAM,eAAe,0CAAsB,CAAC;AAC5C,QAAM,UAAU,2BAA2B;AAC3C,QAAM,iBAAiB,yDAA+B,CAAC;AAEvD,QAAM,cAAc,kCAAY,CAAC,wCAAwB;AACzD,QAAM,WAAW,kBAAkB;AAEnC,SAAO,iBAAO,CAAC,MAAM;AACnB,UAAM,QAAQ,WAAW;AACzB,QAAI,CAAC,SAAU,QAAO;AACtB,QAAI,OAAO,UAAU,YAAY,CAAC,YAAa,QAAO,SAAS,KAAK;AACpE,WAAO,SAAS,YAAY;AAAA,EAC9B,GAAG,CAAC,cAAc,UAAU,aAAa,gBAAgB,OAAO,CAAC;AACnE;AAEO,SAAS,iCAAiC;AAC/C,SAAO,wBAAwB,GAAG,WAAW;AAC/C;AAEO,SAAS,6BAA6B;AAC3C,QAAM,WAAW,kCAAY,CAAC,kBAAkB;AAChD,QAAM,YAAY,iEAA0B,CAAC;AAC7C,QAAM,YAAY,WAAW;AAC7B,SAAO,iBAAO,CAAC,MAAM;AACnB,QAAI,aAAa,UAAU;AACzB,aAAO,SAAS,UAAU,aAAW,QAAQ,YAAY,SAAS;AAAA,IACpE;AACA,WAAO;AAAA,EACT,GAAG,CAAC,UAAU,SAAS,CAAC;AAC1B;AAEO,SAAS,+BAA+B;AAC7C,SAAO,kCAAY,CAAC,8BAA8B;AACpD;AAOO,SAAS,wBAAwB;AACtC,SAAO,kCAAY,CAAC,iBAAiB;AACvC;;;;;;;;;;;;;;;;;ACtEwB;AACI;AAEqB;AAQjD,MAAM,wBAAwB,+EAAmB,CAAwB;AAAA,EACvE,UAAU,gBAAc,WAAW;AACrC,CAAC;AAED,MAAM,eAAe,sBAAsB,gBAAgB;AAEpD,MAAM,sBAAsB,uEAAW,CAAC;AAAA,EAC7C,MAAM;AAAA,EACN;AAAA,EACA,UAAU,EAAE,kBAAkB,sBAAsB,UAAU;AAChE,CAAC;AAEM,SAAS,oBAAoB;AAClC,QAAM,WAAW,kEAAW,CAAC;AAE7B,SAAO,8CAAO;AAAP,IACL,OAAO;AAAA,MACL,qBAAqB,QAAgB;AACnC,cAAM,MAAM,IAAI,IAAI,MAAM,EAAE;AAC5B;AAAA,UACE,oBAAoB,QAAQ,iBAAiB;AAAA,YAC3C,QAAQ;AAAA,YACR,oBAAmB,oBAAI,KAAK,GAAE,YAAY;AAAA,UAC5C,CAAC;AAAA,QACH;AAAA,MACF;AAAA,IACF;AAAA,IACA,CAAC,QAAQ;AAAA,EACX;AACF;;;;;;;;;;;;;ACtCO,MAAM,oBAAoB,CAAC,UAAqB,MAAM,OAAO;;;;;;;;;;;;;;;;ACFzB;AAER;AAEV;AAOzB,MAAM,eAAiD;AAAA,EACrD,CAAC,uEAAkB,GAAG;AAAA,IACpB,qBAAqB;AAAA,IACrB,qBAAqB;AAAA,EACvB;AACF;AAEO,MAAM,gBAAgB,uEAAW,CAAC;AAAA,EACvC,MAAM;AAAA,EACN;AAAA,EAEA,UAAU;AAAA,IACR,cAAc,OAAO,QAA+B;AAClD,YAAM,QAAQ,sBAAsB,OAAO;AAAA,IAC7C;AAAA,IACA,iBAAiB,OAAO;AACtB,YAAM,QAAQ,uBAAuB;AACrC,YAAM,QAAQ,sBAAsB,MAAM,QAAQ;AAAA,IACpD;AAAA,IACA,oBAAoB,OAAO,QAA+B;AACxD,YAAM,QAAQ,sBAAsB,OAAO;AAAA,IAC7C;AAAA,EACF;AAAA,EAEA,eAAe,aAAW;AACxB,YAAQ,QAAQ,gFAAQ,CAAC,QAAQ,QAAQ,SAAS,GAAG,WAAS;AAC5D,YAAM,QAAQ,sBAAsB;AACpC,YAAM,QAAQ,sBAAsB;AAAA,IACtC,CAAC;AAAA,EACH;AACF,CAAC;;;;;;;;;;;;;;;;;;;ACzC2B;AAEG;AAEK;AACD;AAE5B,IAAK,aAAL,kBAAKC,gBAAL;AACL,EAAAA,YAAA,YAAS;AACT,EAAAA,YAAA,cAAW;AAFD,SAAAA;AAAA;AAKL,MAAM,mBAAmB,0EAAc;AAAd,EAC9B,mFAAmB;AAAnB,EACA,+FAAkB;AAAlB,EACA,CAAC,eAAe,iBAAiB;AAC/B,QAAI,cAAc;AAChB,aAAO;AAAA,IACT;AACA,QAAI,eAAe;AACjB,aAAO;AAAA,IACT;AAEA,WAAO;AAAA,EACT;AACF;AAEO,SAAS,wBAAwB;AACtC,SAAO,kEAAW,CAAC,gBAAgB;AACrC;;;;;;;;;;;;;;AC7BiC;AAE1B,MAAM,qBAAqB,2EAAgB,CAAC;;;;;;;;;;;;;;;;;;;;;ACFvB;AAEG;AAEI;AACR;AAEQ;AAInC,MAAM,qBAAqB,CAAC,UAAqB,MAAM;AAEvD,MAAM,sCAAsC,0EAAc;AAAd,EAC1C;AAAA,EACA,WAAS,MAAM,KAAK,uEAAkB;AACxC;AAEA,MAAM,oCAAoC,0EAAc;AAAd,EACxC;AAAA,EACA,SAAO,CAAC,CAAC;AACX;AAEO,SAAS,uCAAuC;AACrD,SAAO,kEAAW,CAAC,iCAAiC;AACtD;AAGO,MAAM,yBAAyB,CAAC,UAAqB;AAC1D,QAAM,qBAAqB,oCAAoC,KAAK;AAEpE,MAAI,CAAC,mBAAoB,QAAO;AAEhC,SAAO,gFAAU,CAAC,kBAAkB;AACtC;AAEO,MAAM,qBAAqB,0EAAc;AAAd,EAChC;AAAA,EACA,gBAAc;AACZ,QAAI,CAAC,WAAY,QAAO;AAExB,WAAO,0FAAkB,CAAC,gFAAU,CAAC,UAAU,CAAC;AAAA,EAClD;AACF;AAEO,SAAS,4BAA4B;AAC1C,SAAO,kEAAW,CAAC,sBAAsB;AAC3C;;;;;;;;;;;;;;;;;;AC/C2C;AAEpB;AACY;AACR;AAEF;AAOzB,MAAM,eAAiC;AAAA,EACrC,iBAAiB;AAAA,EACjB,MAAM,CAAC;AACT;AAEO,MAAM,mBAAmB,uEAAW,CAAC;AAAA,EAC1C,MAAM;AAAA,EACN;AAAA,EAEA,UAAU;AAAA,IACR,kBAAkB,OAAO,QAA+B;AACtD,UAAI,MAAM,KAAK,uEAAkB,GAAG;AAClC,mEAAM,CAAC,KAAK,gDAAgD;AAC5D;AAAA,MACF;AAEA,YAAM,KAAK,uEAAkB,IAAI,gFAAU,CAAC,OAAO,OAAO;AAAA,IAC5D;AAAA,IAEA,cAAc,OAAO,QAA+B;AAClD,YAAM,KAAK,uEAAkB,IAAI,gFAAU,CAAC,OAAO,OAAO;AAAA,IAC5D;AAAA,IAEA,WAAW,OAAO;AAChB,YAAM,OAAO,CAAC;AAAA,IAChB;AAAA,EACF;AAAA,EAEA,eAAe,aAAW;AACxB,YAAQ,QAAQ,gFAAQ,CAAC,QAAQ,QAAQ,SAAS,GAAG,WAAS;AAC5D,YAAM,OAAO,CAAC;AAAA,IAChB,CAAC;AAAA,EACH;AACF,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9CoC;AAE9B,MAAM,6CAAyD,YAAU,UAAQ,YAAU;AAChG,MAAI,0BAAQ,CAAC,MAAM,EAAG,QAAO,QAAQ,YAAY,EAAE,QAAQ,OAAO,KAAK,CAAC;AACxE,SAAO,KAAK,MAAM;AACpB;;;;ACLyC;AAER;AAQ1B;AACuB;AAUvB;AAGuB;AAEM;AACN;AACG;AACA;AACD;AACE;AACJ;AACA;AACL;AACkB;AACgB;AAmB3D,MAAM,aAAa,iCAAe,CAAC;AAAA,EACjC,gBAAgB,gDAAmB,CAAC;AAAA,EACpC,QAAQ,iCAAe,CAAC;AAAA,IACtB,KAAK,oCAAa,CAAC;AAAA,EACrB,CAAC;AAAA,EACD,QAAQ,iCAAe,CAAC;AAAA,IACtB,SAAS,0CAAgB,CAAC;AAAA,IAC1B,QAAQ,wCAAe,CAAC;AAAA,EAC1B,CAAC;AAAA,EACD,cAAc,2CAAgB,CAAC;AAAA,EAC/B,cAAc,kCAAQ,CAAC;AAAA,EACvB,UAAU,CAAC,QAAQ,CAAC,MAAM;AAAA,EAC1B,UAAU,mCAAa,CAAC;AAAA,EACxB,uBAAuB,8DAA0B,CAAC;AAAA,EAClD,UAAU,mCAAa,CAAC;AAAA,EACxB,cAAc,4CAAiB,CAAC;AAClC,CAAC;AAED,SAAS,YAAY,OAA8B,QAAgB;AACjE,MAAI,OAAO,SAAS,eAAgB,QAAO,WAAW,QAAW,MAAM;AACvE,SAAO,WAAW,OAAO,MAAM;AACjC;AAEA,MAAM,mBAAmB,6BAAc,CAAC,iCAAa,EAAE,WAAW;AAE3D,MAAM,QAAQ,+CAAc,CAAC;AAAA,EAClC,SAAS;AAAA,EACT,YAAY,0BACV,qBAAqB;AAAA,IACnB,mBAAmB;AAAA,MACjB,gBAAgB,CAAC,gBAAK,EAAE,oBAAS,EAAE,gBAAK,EAAE,kBAAO,EAAE,gBAAK,EAAE,mBAAQ;AAAA,IACpE;AAAA,EACF,CAAC,EAAE,OAAO,IAAI,kCAAK,CAAC,0CAA0C,CAAC;AAAA,EACjE,WAAW,yBACT,oBAAoB,EAAE;AAAA,IACpB,MAAmC,GAC/B,CAOC,GACD,CAAC;AAAA,EACP;AACJ,CAAC;AAEM,MAAM,YAAY,2BAAY,CAAC,KAAK;AAMpC,MAAM,iBAAoC,+BAAW;AAErD,MAAM,YAAY,qCAAa,CAAC,KAAK;AAE5C,MAAM,sBAAsB,CAAC,UAAsC,MAAM,SAAS;AAE3E,SAAS,wBAAwB;AACtC,SAAO,mCAAW,CAAC,mBAAmB;AACxC;;;;;;;;;;;;;;;;;AClHmD;AAEnD,SAAS,uBAAuB,OAAkB;AAChD,SAAO,MAAM,OAAO;AACtB;AAGO,MAAM,EAAE,OAAO,kBAAkB,QAAQ,IAC9C,gHAAkC,CAA8B,SAAS;AAE3E,MAAM,YAAY,QAAQ,aAAa,sBAAsB;AAEtD,MAAM,wCAAwC,UAAU;AACxD,MAAM,iCAAiC,UAAU;;;;;;;;;;;;;;;AChBQ;AAE7B;AAO5B,SAAS,mCAAkE,MAAc;AAG9F,QAAM,UAAU,+EAAmB,CAAyB;AAE5D,QAAM,eAAe,QAAQ,gBAAgB;AAE7C,QAAM,QAAQ,uEAAW,CAAC;AAAA,IACxB,MAAM,OAAO;AAAA,IACb;AAAA,IACA,UAAU;AAAA,MACR,QAAQ,OAAO,EAAE,QAAQ,GAAgC;AACvD,gBAAQ;AAAA,UACN;AAAA;AAAA,UAEA,QAAQ,IAAI,UAAQ,EAAE,GAAG,KAAK,UAAU,uEAAkB,CAAC,EAAE;AAAA,QAC/D;AAAA,MACF;AAAA,MACA,QAAQ,OAAO;AACb,gBAAQ,UAAU,KAAY;AAAA,MAChC;AAAA,IACF;AAAA,EACF,CAAC;AAED,SAAO,EAAE,OAAO,cAAc,QAAQ;AACxC;;;;;;;;;;;;;;;;;;AClC4B;AAEG;AAEJ;AAI3B,MAAM,eAAe,CAAC,UAAqB,MAAM;AAEjD,MAAM,oCAAoC,0EAAc;AAAd,EAAe;AAAA,EAAc,YACrE,uEAAU,CAAC,OAAO,OAAO,MAAM,EAAE,IAAI,WAAS,OAAO,KAAK,MAAM,QAAQ,EAAE,MAAM,CAAC;AACnF;AAEO,MAAM,sBAAsB,0EAAc;AAAd,EAAe;AAAA,EAAmC,eACnF,UAAU,cAAc,CAAC;AAC3B;AAEO,SAAS,mBAAmB;AACjC,SAAO,kEAAW,CAAC,mBAAmB;AACxC;AAEO,SAAS,0BAA0B;AACxC,SAAO,kEAAW;AAAX,IACL,CAAC,UACC,MAAM,OAAO,OAAO,SAAS,CAAC,GAAG,YAAY,MAAM,OAAO,QAAQ,SAAS,CAAC,GAAG,YAAY;AAAA,EAC/F;AACF;;;;;;;;;;;;;;;;ACxBmD;AAEnD,SAAS,sBAAsB,OAAkB;AAC/C,SAAO,MAAM,OAAO;AACtB;AAGO,MAAM,EAAE,OAAO,iBAAiB,QAAQ,IAAI,gHAAkC,CAEnF,QAAQ;AAEV,MAAM,YAAY,QAAQ,aAAa,qBAAqB;AAErD,MAAM,gCAAgC,UAAU;;;;;;;;;;;;;;;;;AChB3B;AAEoD;AAUhF,MAAM,sBAAsB,+EAAmB,CAAmB;AAE3D,MAAM,oBAAoB,uEAAW,CAAC;AAAA,EAC3C,MAAM;AAAA,EACN,cAAc,oBAAoB,gBAAgB;AAAA,EAClD,UAAU;AAAA,IACR,2BACE,OACA,QACA;AACA,0BAAoB,OAAO,OAAO;AAAA,QAChC,IAAI,OAAO,QAAQ;AAAA,QACnB,SAAS,OAAO,QAAQ;AAAA,QACxB,cAAc,OAAO,QAAQ;AAAA,MAC/B,CAAC;AAAA,IACH;AAAA,IACA,gBAAgB,OAAO;AACrB,0BAAoB,UAAU,KAAK;AAAA,IACrC;AAAA,EACF;AACF,CAAC;AAED,MAAM,YAAY,oBAAoB,aAAa;AAEnD,SAAS,iBAAiB,OAAkB;AAC1C,SAAO,MAAM;AACf;AAEA,MAAM,kBAAkB,0EAAc,CAAC,kBAAkB,UAAU,SAAS;AAErE,SAAS,mBAAmB;AACjC,SAAO,kEAAW,CAAC,eAAe;AACpC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5C8B;AAEvB,MAAM,kBAAkB,mCAAa,CAAC;;;;;;ACFrB;AACI;AAEE;AACc;AAMrC;AAC2B;AAEH;AAEC;AAC+B;AAGxD,SAAS,yBAAyB;AACvC,QAAM,iBAAiB,gDAAiB,CAAC;AAEzC,SAAO,iBAAO,CAAC,MAAM;AACnB,UAAM,YAAY,eAAe,MAAM,OAAO,YAAY,yBAAO,CAAC;AAClE,UAAM,oBACJ,eAAe,MAAM,OAAO,QAAQ,+CAAkC;AACxE,UAAM,OAAQ,YAAY,YAAY;AACtC,WAAO,EAAE,GAAG,gBAAgB,WAAW,mBAAmB,KAAK;AAAA,EACjE,GAAG,CAAC,cAAc,CAAC;AACrB;AAEO,SAAS,+BAA8C;AAC5D,QAAM,iBAAiB,gDAAiB,CAAC;AAEzC,SAAO,iBAAO,CAAC,MAAM;AACnB,QAAI,CAAC,eAAgB,OAAM,IAAI,MAAM,oBAAoB;AAGzD,UAAM,gBAAgB,IAAI,6BAAa,CAAC,EAAE,KAAK,eAAe,MAAM,OAAO,IAAI,CAAC;AAChF,kBAAc,UAAU,yCAAiB,CAAC,eAAe,MAAM,OAAO,OAAO,EAAE;AAAA,MAC7E,CAAC,yBAAO,CAAC,OAAO,GAAG,oCAAkB,CAAC;AAAA,MACtC,CAAC,yBAAO,CAAC,OAAO,GAAG,oCAAkB,CAAC;AAAA,IACxC,CAAC;AAGD,kBAAc,UACZ,eAAe,MAAM,OAAO,iBAAiB,eAAe,MAAM,OAAO;AAE3E,kBAAc,eAAe,eAAe,MAAM,OAAO,OAAO;AAChE,WAAO;AAAA,EACT,GAAG,CAAC,cAAc,CAAC;AACrB;AAEO,SAAS,qBAAqB;AACnC,QAAM,WAAW,gCAAc,CAAC;AAEhC,SAAO,iBAAO;AAAP,IACL,OAAO;AAAA,MACL,WAAW;AAAA,QACT;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF,GAAkC;AAChC;AAAA,UACE,eAAe,CAAC,WAAW;AAAA,YACzB;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA,MAAM,4CAA2B,CAAC,cAAc;AAAA,YAChD;AAAA,UACF,CAAC;AAAA,QACH;AACA,iBAAS,eAAe,CAAC,cAAc,EAAE,CAAC;AAC1C;AAAA,MACF;AAAA,MACA,cAAc,IAAY;AACxB,eAAO,SAAS,eAAe,CAAC,cAAc,EAAE,CAAC;AAAA,MACnD;AAAA,MACA,cAAc,IAAY;AACxB,eAAO,SAAS,eAAe,CAAC,cAAc,EAAE,CAAC;AAAA,MACnD;AAAA,IACF;AAAA,IACA,CAAC,QAAQ;AAAA,EACX;AACF;AAEO,SAAS,2BAA2B;AACzC,SAAO,mCAAW,CAAC,sDAA2B;AAChD;;;;;;;;;;;;;;;;;;;;;;;;;;AC/F4B;AAEG;AAMxB;AAE6B;AAGK;AACT;AAIzB;AAEP,MAAM,sBAAsB,CAAC,UAAqB,MAAM;AAExD,MAAM,oBAAoB,qEAAe,CAAC,aAAwB,mBAAmB;AAE9E,MAAM,iBAAiB,0EAAc;AAAd,EAC5B,kBAAkB;AAAA,EAClB,YACG;AAAA,IACC,GAAG,kFAAwB;AAAxB,IACH,GAAG,mGAAyC,CAAC,KAAK;AAAA,EACpD;AACJ;AAEO,MAAM,yBAAyB,0EAAc;AAAd,EACpC;AAAA,EACA,WAAS,MAAM;AACjB;AAEO,MAAM,8BAA8B,0EAAc,CAAC,gBAAgB,cAAY;AAEpF,QAAM,aAAa,4FAAmB,CAAC,IAAI,YAAY;AACvD,QAAM,iBAAiB,4FAAmB,CAAC,IAAI,gBAAgB;AAG/D,QAAM,UAAU,4FAAmB,CAAC,IAAI,SAAS;AACjD,MAAI,WAAW,SAAS,OAAO,GAAG,GAAI,QAAO,SAAS,OAAO,GAAG;AAEhE,SAAO,gFAAsB,CAAC,EAAE,YAAY,gBAAgB,SAAS,CAAC;AACxE,CAAC;AAEM,MAAM,uBAAuB,0EAAc;AAAd,EAClC;AAAA,EACA;AAAA,EACA;AAAA,EACA,CAAC,UAAU,kBAAkB,0BAC3B,SAAS,yBAAyB,gBAAgB,KAAK,+EAAqB;AAChF;AAEO,SAAS,cAAoD;AAClE,SAAO,kEAAW,CAAC,cAAc;AACnC;AAEO,SAAS,sBAAsB;AACpC,QAAM,mBAAmB,mFAAwB,CAAC;AAClD,QAAM,mBAAmB,kEAAW,CAAC,sBAAsB;AAC3D,SAAO,oBAAoB;AAC7B;AAEO,SAAS,oBAA0C;AACxD,SAAO,kEAAW,CAAC,oBAAoB;AACzC;;;;;;;;;;;;;;;;ACtE0E;AAKnE;AAEP,MAAM,0BAA0B,8FAAoC,CAAC;AAY9D,MAAM,kBAAkB,+EAAmB,CAAgC;AAElF,MAAM,uBAAuB,gBAAgB,gBAAgB;AAAA,EAC3D,kBAAkB;AACpB,CAAC;AAEM,MAAM,gBAAgB,uEAAW,CAAC;AAAA,EACvC,MAAM;AAAA,EACN,cAAc;AAAA,EACd,UAAU;AAAA,IACR,WAAW,OAAO,QAAsD;AACtE,sBAAgB,OAAO,OAAO,OAAO,OAAO;AAAA,IAC9C;AAAA,IACA,cAAc,OAAO,QAA+B;AAClD,YAAM,mBAAmB,OAAO;AAAA,IAClC;AAAA,IACA,cAAc,OAAO,QAA+B;AAClD,sBAAgB,UAAU,OAAO,OAAO,OAAc;AAAA,IACxD;AAAA,EACF;AACF,CAAC;;;;;;;;;;;;;;;;ACvCuB;AAOjB;AASA,SAAS,uBAAuB;AAAA,EACrC;AAAA,EACA;AAAA,EACA;AACF,GAA+B;AAC7B,MAAI,CAAC,YAAa,CAAC,cAAc,CAAC,eAAiB;AAEnD,QAAM,OAAO,OAAO,KAAK,QAAQ;AAEjC,QAAM,gBAAgB,KAAK,KAAK,CAAC,QAAgB;AAC/C,UAAM,UAAU,SAAS,GAAG;AAC5B,WAAO,QAAQ,MAAM,OAAO,QAAQ;AAAA,EACtC,CAAC;AACD,MAAI,cAAe,QAAO;AAE1B,QAAM,eAAe,KAAK,KAAK,CAAC,QAAgB;AAC9C,UAAM,UAAU,SAAS,GAAG;AAC5B,WACE,QAAQ,MAAM,OAAO,QAAQ,cAC7B,QAAQ,MAAM,OAAO,YAAa,OAAO,cAAc;AAAA,EAE3D,CAAC;AACD,MAAI,aAAc,QAAO;AAEzB,SAAO;AACT;AAEA,SAAS,8BACP,SAC+B;AAC/B,MAAI,CAAC,QAAQ,kBAAkB,CAAC,QAAQ,YAAY;AAClD,UAAM,iBAAiB,QAAQ,YAAY,mEAAO,CAAC,UAAU,YAAY;AACzE,WAAO;AAAA,MACL,IAAI,QAAQ;AAAA,MACZ,MAAM,QAAQ;AAAA,MACd,SAAS,QAAQ;AAAA,MACjB,eAAe,QAAQ;AAAA,MACvB,KAAK,QAAQ;AAAA,MACb;AAAA,MACA,MAAM,yFAA2B,CAAC,cAAc;AAAA,MAChD,YACE,QAAQ,YAAY,mEAAO,CAAC,UACxB,sFAA4B,GAC5B,uFAA6B;AAA7B,IACR;AAAA,EACF,OAAO;AACL,WAAO;AAAA,EACT;AACF;AAEO,SAAS,0CACd,OACA;AACA,SAAO,OAAO;AAAA,IACZ,OAAO,QAAQ,KAAK,EACjB,IAAI,CAAC,CAAC,KAAK,OAAO,MAAM;AACvB,UAAI,CAAC,QAAS,QAAO,CAAC,IAAI,IAAI;AAC9B,YAAM,EAAE,IAAI,MAAM,SAAS,eAAe,KAAK,gBAAgB,WAAW,IACxE,8BAA8B,OAAO;AAEvC,aAAO;AAAA,QACL;AAAA,QACA;AAAA,UACE;AAAA,UACA;AAAA,UACA,OAAO;AAAA,YACL,QAAQ;AAAA,cACN,YAAY;AAAA,cACZ;AAAA,cACA;AAAA,cACA;AAAA,YACF;AAAA,YACA,SAAS;AAAA,cACP,YAAY;AAAA,cACZ,gBAAgB,kBAAkB;AAAA,cAClC,MAAM,yFAA2B,CAAC,kBAAkB,SAAS;AAAA,cAC7D,YAAY,cAAc,uFAA6B;AAA7B,YAC5B;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA,IACF,CAAC,EACA,OAAO,CAAC,CAAC,GAAG,KAAK,MAAM,UAAU,IAAI;AAAA,EAC1C;AACF;;;;;;;;;;;;;;;;;;;;;;ACpGqB;AAEd,MAAM,sBAAsB,wBAAI,CAAqB,MAAS;AAC9D,MAAM,iBAAiB,wBAAI,CAAC,IAAI;;;;ACHD;AAEc;AAE7C,SAAS,yBAAyB;AACvC,SAAO,yBAAO,CAAC,mBAAmB;AACpC;AAEO,SAAS,oBAAoB;AAClC,SAAO,8BAAY,CAAC,cAAc;AACpC;;;;;;;;;;;;;;;;;;;;ACVwB;AAED;AAED;AACa;AACM;AAElC,eAAe,uBAAuB,eAAuB;AAClE,SAAO,OAAO,QAAQ,QAAQ,IAAI,EAAE,cAAc,CAAC;AACrD;AAEO,eAAe,qBAAqB;AACzC,SAAO,OAAO,QAAQ,QAAQ,OAAO,eAAe;AACtD;AAEO,eAAe,uBAAuB;AAC3C,QAAM,MAAM,MAAM,OAAO,QAAQ,QAAQ,IAAI,CAAC,eAAe,CAAC;AAE9D,MAAI,CAAC,IAAI,cAAe;AAExB,MAAI;AACF,UAAM,aAAa,mHAAwB,CAAC,uDAAK,CAAC,SAAS,CAAC;AAE5D,QAAI,YAAY,SAAS,YAAY;AACnC,YAAM,YAAY,MAAM,oEAAO,CAAC,WAAW,oBAAoB,IAAI,aAAa;AAChF,6DAAK,CAAC,SAAS,uGAAkB,CAAC,cAAc,SAAS,CAAC;AAAA,IAC5D;AAAA,EACF,SAAS,GAAG;AACV,+DAAM,CAAC,MAAM,8BAA8B;AAAA,EAC7C;AACF;;;;;;;;;;;;;;;;;AC/B4B;AAEE;AAEvB,MAAM,kBAAkB,mEAAa,CAAC;AAEtC,SAAS,oBAAoB;AAClC,QAAM,WAAW,kEAAW,CAAC;AAC7B,SAAO,CAAC,cAAsB,SAAS,gBAAgB,iBAAiB,SAAS,CAAC;AACpF;AAEO,SAAS,uBAAuB;AACrC,QAAM,WAAW,kEAAW,CAAC;AAC7B,SAAO,MAAM,SAAS,gBAAgB,kBAAkB,CAAC;AAC3D;;;;;;;;;;;;;;;;;ACd4B;AAEG;AAI/B,MAAM,iBAAiB,CAAC,UAAqB,MAAM;AAEnD,MAAM,0BAA0B,0EAAc,CAAC,gBAAgB,WAAS,MAAM,iBAAiB;AAExF,SAAS,uBAAuB;AACrC,SAAO,kEAAW,CAAC,uBAAuB;AAC5C;AAEA,MAAM,4BAA4B,0EAAc;AAAd,EAChC;AAAA,EACA,WAAS,MAAM,qBAAqB,CAAC;AACvC;AAEO,SAAS,yBAAyB;AACvC,SAAO,kEAAW,CAAC,yBAAyB;AAC9C;AAEA,MAAM,sBAAsB,0EAAc,CAAC,gBAAgB,WAAS,MAAM,iBAAiB,KAAK;AAEzF,SAAS,mBAAmB;AACjC,SAAO,kEAAW,CAAC,mBAAmB;AACxC;;;;;;;;;;;;;;AC3B2C;AAU3C,MAAM,eAA6B;AAAA,EACjC,mBAAmB;AAAA,EACnB,mBAAmB,CAAC;AACtB;AAEO,MAAM,gBAAgB,uEAAW,CAAC;AAAA,EACvC,MAAM;AAAA,EACN;AAAA,EACA,UAAU;AAAA,IACR,qBAAqB,OAAO,QAA0C;AACpE,YAAM,oBAAoB,OAAO;AAAA,IACnC;AAAA,IACA,iBAAiB,OAAO,QAA+B;AACrD,UAAI,CAAC,MAAM,QAAQ,MAAM,iBAAiB,EAAG,OAAM,oBAAoB,CAAC;AACxE,YAAM,oBAAoB,CAAC,GAAG,MAAM,mBAAmB,OAAO,OAAO;AAAA,IACvE;AAAA,IACA,cAAc,OAAO;AACnB,YAAM,oBAAoB,CAAC;AAAA,IAC7B;AAAA,IACA,kBAAkB,OAAO;AACvB,YAAM,gBAAgB,CAAC,MAAM;AAAA,IAC/B;AAAA,EACF;AACF,CAAC;;;;;;;;;;;;;;;;;;;ACjCuB;AAIgB;AACJ;AACgB;AAClB;AAE3B,SAAS,kCAAkC;AAChD,QAAM,EAAE,QAAQ,MAAM,IAAI,qHAAuB,CAAC;AAElD,SAAO,8CAAO,CAAC,MAAM;AACnB,UAAM,eAAe,4FAAmB,CAAC,IAAI,SAAS;AACtD,UAAM,cAAc,4FAAmB,CAAC,IAAI,aAAa;AAEzD,WAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,EACF,GAAG,CAAC,QAAQ,KAAK,CAAC;AACpB;AAEA,SAAS,2BAA2B;AAClC,QAAM,EAAE,aAAa,IAAI,gCAAgC;AACzD,SAAO,8CAAO,CAAC,MAAM;AACnB,QAAI,CAAC,aAAc,QAAO;AAC1B,WAAO,6GAAmC,CAAC,YAAY;AAAA,EACzD,GAAG,CAAC,YAAY,CAAC;AACnB;AAEO,SAAS,kCAAkC;AAChD,QAAM,mBAAmB,yBAAyB;AAClD,QAAM,WAAW,uHAAiB,CAAC;AAEnC,MAAI,CAAC,kBAAkB,WAAY;AACnC,QAAM,EAAE,WAAW,IAAI;AAEvB,MAAI,cAAc,UAAU;AAC1B,WAAO,SAAS,UAAU,aAAW,QAAQ,YAAY,UAAU;AAAA,EACrE;AACA,SAAO;AACT;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5C0B;AAEnB,IAAK,eAAL,kBAAKC,kBAAL;AACL,EAAAA,cAAA,sBAAmB;AADT,SAAAA;AAAA;AAIL,SAAS,aAAa,YAA0B;AACrD,QAAM,SAAS,IAAI,OAAO,UAAU;AACpC,SAAO,iBAAiB,SAAS,WAAS;AACxC,SAAK,2BAAS,EAAE,MAAM,uBAAuB,UAAU,IAAI,EAAE,MAAM,CAAC;AAAA,EACtE,CAAC;AAED,SAAO;AACT;;;;ACb2C;AAE3C,MAAM,SAAS,YAAY,CAAC,YAAY,CAAC,gBAAgB;AAKlD,eAAe,oBAAoB,MAAgD;AACxF,SAAO,IAAI,QAAQ,aAAW;AAC5B,UAAM,UAAU,CAAC,MAA4B,QAAQ,EAAE,IAAI;AAC3D,WAAO,iBAAiB,WAAW,OAAO;AAC1C,WAAO,YAAY,IAAI;AAAA,EACzB,CAAC;AACH;;;;ACbO,SAAS,0BAA0B;AACxC,QAAM,OAAO;AACb,QAAM,eAAe,CAAC,GAAG,OAAO,gBAAgB,IAAI,WAAW,IAAI,CAAC,CAAC;AACrE,SAAO,aAAa,IAAI,UAAQ,OAAO,IAAI,SAAS,EAAE,GAAG,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE;AAC7E;;;;;ACJ2B;AACM;AAEG;AACI;AAMjC,eAAe,gBAAgB,EAAE,WAAW,SAAS,GAAwB;AAClF,QAAM,OAAO,uBAAuB,CAAC;AACrC,QAAM,gBAAgB,MAAM,mBAAmB,CAAC,EAAE,UAAU,KAAK,CAAC;AAClE,QAAM,kBAAkB,MAAM,6BAAO,CAAC,WAAW,aAAa;AAC9D,SAAO;AAAA,IACL;AAAA,IACA,oBAAoB,4BAAU,CAAC,eAAe;AAAA,IAC9C;AAAA,EACF;AACF;AAYO,eAAe,gBAAgB;AAAA,EACpC;AAAA,EACA;AAAA,EACA;AACF,GAKG;AACD,MAAI,MAAM;AACR,UAAM,gBAAgB,MAAM,mBAAmB,CAAC,EAAE,UAAU,KAAK,CAAC;AAClE,UAAM,YAAY,MAAM,6BAAO,CAAC,MAAM,CAAC,KAAK,oBAAoB,KAAK,GAAG,aAAa;AACrF,WAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,EACF,OAAO;AAEL,UAAM,YAAY,MAAM,6BAAO,CAAC,MAAM,CAAC,KAAK,oBAAoB,KAAK,GAAG,QAAQ;AAChF,UAAM,kBAAkB,MAAM,gBAAgB,EAAE,WAAW,SAAS,CAAC;AACrE,WAAO;AAAA,MACL;AAAA,MACA,oBAAoB,gBAAgB;AAAA,MACpC,MAAM,gBAAgB;AAAA,MACtB,eAAe,gBAAgB;AAAA,IACjC;AAAA,EACF;AACF;;;;;;;;;;AC7DkD;AAElD,MAAM,4BAA4B;AAOlC,SAAS,8BAA8B,KAAa;AAClD,SAAO,MAAM;AACf;AAEA,SAAS,qCAAqC,KAAyC;AACrF,SAAO,IAAI,MAAM,IAAI,SAAS,yBAAyB,EAAE,KAAK,WAAS,MAAM,WAAW;AAC1F;AAEA,SAAS,mBAAmB,KAAyC;AACnE,SAAO,KAAK,IAAI,GAAG,GAAG,IAAI,OAAO,WAAS,MAAM,WAAW,EAAE,IAAI,WAAS,MAAM,KAAK,CAAC;AACxF;AAEA,eAAe,0BAA0B,WAAyC;AAChF,QAAM,SAAS,MAAM,UAAU,KAAK;AACpC,MAAI,OAAO,KAAM,QAAO,OAAO;AAC/B,SAAO,0BAA0B,SAAS;AAC5C;AAaO,eAAe,2BAA2B;AAAA,EAC/C;AACF,GAAoD;AAClD,kBAAgB,kCAAkC;AAChD,UAAM,YAAY,yCAAkB,CAAC,CAAC;AACtC,UAAM,WAA+C,CAAC;AAEtD,WAAO,SAAS,WAAW,KAAK,SAAS,SAAS,SAAS,CAAC,EAAE,aAAa;AACzE,YAAM,QAAQ,UAAU,KAAK,EAAE;AAC/B,YAAM,cAAc,MAAM,0BAA0B,KAAK;AACzD,eAAS,KAAK,EAAE,OAAO,YAAY,CAAC;AACpC;AAAA,IACF;AACA,WAAO,mBAAmB,QAAQ;AAAA,EACpC;AAEA,QAAM,uBAAuB,MAAM,0BAA0B,gCAAgC,CAAC;AAE9F,kBAAgB,4BAA4B;AAC1C,UAAM,eAAe,oCAAa,CAAC,uBAAuB,CAAC;AAC3D,UAAM,WAA+C,CAAC;AAEtD,WACE,8BAA8B,SAAS,MAAM,KAC7C,qCAAqC,QAAQ,GAC7C;AACA,YAAM,cAAc,MAAM,0BAA0B,aAAa,SAAS,CAAC;AAC3E,eAAS,KAAK,EAAE,OAAO,aAAa,SAAS,GAAG,YAAY,CAAC;AAC7D,mBAAa,UAAU;AACvB;AAAA,IACF;AACA,WAAO,mBAAmB,QAAQ;AAAA,EACpC;AAEA,SAAO,0BAA0B,0BAA0B,CAAC;AAC9D;;;;;;;;;;;;ACpEO;AAE+B;AAO/B,eAAe,uDAAuD,WAAmB;AAC9F,MAAI;AACF,UAAM,SAAS,MAAM,mCAAc,CAAC,EAAE,WAAW,UAAU,GAAG,CAAC;AAC/D,UAAM,UAAU,MAAM,gCAAU,CAAC,gCAAU;AAC3C,UAAM,oBAAoB,gDAA0B,CAAC;AAAA,MACnD;AAAA,MACA,YAAY,OAAO;AAAA,MACnB,UAAU;AAAV,IACF,CAAC;AACD,UAAM,OAAO,MAAM,2CAAiB,CAAC,EAAE,QAAQ,eAAe,kBAAkB,CAAC;AACjF,WAAO,MAAM,SAAS,SAAS,KAAK,SAAS,SAAS,IAAI;AAAA,EAC5D,SAAS,GAAG;AACV,WAAO;AAAA,EACT;AACF;;;;;;;;;;;;;;;;ACvBO;AAC6B;AAED;AAE5B,SAAS,wBAAwB,WAAmB,gBAAgC;AACzF,SAAO,CAAC,UAAkB;AACxB,UAAM,oBAAoB,uCAAsB;AAAtB,MACxB,sCAAmB,CAAC,EAAE,UAAU,sCAAkB,CAAC,SAAS,GAAU,MAAM,CAAC;AAAA,IAC/E;AACA,UAAM,SAAS,6BAAY,CAAC,iBAAiB;AAC7C,WAAO,kCAAkB,CAAC,gBAAgB,MAAM;AAAA,EAClD;AACF;;;;;;;;;;;;;;AClB+B;AAOxB;AAE0C;AAC1B;AACY;AACN;AAEc;AAC4B;AACpC;AACP;AAEW;AAEmB;AAClB;AACV;AACS;AACN;AACQ;AAChB;AAEzB,SAAS,4BAA4B,MAIxB;AACX,QAAM,EAAE,UAAU,WAAW,UAAU,IAAI;AAE3C,SAAO,OAAO,UAAU,aAAa;AACnC,UAAM,YAAY,0DAAsB,CAAC,SAAS,CAAC;AACnD,QAAI,CAAC,UAAW,OAAM,IAAI,MAAM,6DAA6D;AAE7F,UAAM,EAAE,oBAAoB,MAAM,cAAc,IAAI,MAAM,eAAe,CAAC;AAAA,MACxE;AAAA,MACA;AAAA,IACF,CAAC;AAED,UAAM,kDAAsB,CAAC,aAAa;AAE1C,UAAM,8BACJ,MAAM,sDAAsD,CAAC,SAAS;AAExE,mBAAe,6BAA6B,SAAiB;AAC3D,YAAM,aAAa,IAAI,gBAAgB;AACvC,YAAM,OAAO,MAAM,UAAU,kBAAkB,SAAS,WAAW,MAAM;AACzE,aAAO,OAAO,KAAK,IAAI,OAAO,IAAI;AAAA,IACpC;AAEA,mBAAe,6BAA6B,SAAiB;AAC3D,YAAM,aAAa,IAAI,gBAAgB;AACvC,YAAM,OAAO,MAAM,sCAAoB,CAAC;AAAA,QACtC,QAAQ;AAAA,QACR;AAAA,QACA,WAAW;AAAA,QACX,QAAQ,WAAW;AAAA,MACrB,CAAC;AACD,oCAAW,CAAC,aAAa,CAAC,iCAAmB,CAAC,sBAAsB,OAAO,GAAG,IAAI;AAClF,aAAO,KAAK,MAAM,SAAS;AAAA,IAC7B;AAEA,mBAAe,8BAA8B,SAAiB;AAC5D,YAAM,OAAO,MAAM,UAAU,WAAW,kBAAkB,OAAO;AACjE,aAAO,KAAK,SAAS;AAAA,IACvB;AAOA,wBAAM,CAAC,KAAK,8CAA8C;AAC1D,QAAI;AACF,WAAK,0BAA0B,CAAC;AAAA,QAC9B,MAAM,0BAA0B,OAAO;AACrC,gBAAM,aAAa,uBAAuB;AAAvB,YACjB;AAAA,YACA,gCAAc,CAAC;AAAA,UACjB,EAAE,KAAK;AACP,gBAAM,gBAAgB,MAAM,6BAA6B,UAAU;AACnE,gBAAM,WAAW,MAAM,6BAA6B,UAAU;AAE9D,gBAAM,aAAa,iFAAyC,CAAC,SAAS,EAAE,KAAK;AAC7E,gBAAM,gBAAgB,MAAM,8BAA8B,WAAW,OAAQ;AAE7E,iBAAO,iBAAiB,YAAY;AAAA,QACtC;AAAA,MACF,CAAC,EAAE,KAAK,4BAA0B;AAChC,YAAI,0BAA0B,4BAA6B;AAC3D,4BAAM,CAAC,KAAK,0CAA0C,EAAE,uBAAuB,CAAC;AAChF,iBAAS,oCAAa,CAAC,QAAQ,oBAAoB,sBAAsB,CAAC;AAAA,MAC5E,CAAC;AAAA,IACH,SAAS,GAAG;AAAA,IAEZ;AAEA;AAAA,MACE,kCAAQ,CAAC,QAAQ,6BAA6B;AAAA,QAC5C,MAAM;AAAA,QACN,IAAI,uCAAkB;AAAlB,QACJ;AAAA,QACA;AAAA,MACF,CAAC;AAAA,IACH;AACA,QAAI,gCAAgC;AAClC,eAAS,oCAAa,CAAC,QAAQ,oBAAoB,2BAA2B,CAAC;AAAA,EACnF;AACF;AAEA,SAAS,mBAAmB,UAA4B;AACtD,SAAO,OAAO,UAAU,aAAa;AACnC,UAAM,aAAa,2DAAwB,CAAC,SAAS,CAAC;AACtD,QAAI,CAAC,WAAY;AACjB,QAAI,WAAW,SAAS,WAAY;AACpC,UAAM,EAAE,WAAW,cAAc,IAAI,MAAM,eAAe,CAAC,EAAE,UAAU,GAAG,WAAW,CAAC;AACtF,UAAM,kDAAsB,CAAC,aAAa;AAE1C,UAAM,UAAU,sCAAkB,CAAC,SAAS;AAC5C,QAAI,CAAC,QAAQ,UAAW,OAAM,IAAI,MAAM,yCAAyC;AACjF,SAAK,kCAAY,CAAC,QAAQ,SAAS;AAEnC,aAAS,2CAAgB,CAAC,QAAQ,cAAc,SAAS,CAAC;AAAA,EAC5D;AACF;AAEO,MAAM,aAAa,EAAE,GAAG,kCAAQ,CAAC,SAAS,6BAA6B,mBAAmB;;;;;;;;;;;;;;;;;;;;;;ACpIrE;AAEG;AAED;AAEK;AAEC;AAGF;AAElC,MAAM,kBAAkB,CAAC,UAAqB,MAAM,cAAc;AAE3D,MAAM,2BAA2B,0EAAc;AAAd,EACtC;AAAA,EACA,WAAS,MAAM,SAAS,uEAAkB;AAC5C;AAEO,MAAM,qBAAqB,0EAAc;AAAd,EAChC;AAAA,EACA,iBAAe,CAAC,CAAC,aAAa;AAChC;AAEO,SAAS,uBAAuB;AACrC,SAAO,kEAAW,CAAC,wBAAwB;AAC7C;AAEO,MAAM,4BAA4B,0EAAc,CAAC,mFAAiB,EAAE,WAAS;AAClF,QAAM,qBAAqB,4FAAmB,CAAC,IAAI,cAAc;AACjE,MAAI,sBAAsB,0EAAa,CAAC,kBAAkB,EAAE,UAAU,GAAG;AACvE,WAAO,0EAAa,CAAC,kBAAkB,EAAE,SAAS;AAAA,EACpD;AACA,SAAO,MAAM,uEAAkB,EAAE;AACnC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnCqB;AAEC;AAIvB,MAAM,iBAAiB;AACvB,MAAM,0BAA0B;AAEzB,SAAS,4CAA4C,cAAuC;AACjG,QAAM,OAAO,aAAa,QAAQ,cAAc;AAChD,QAAM,qBAAqB,aAAa,QAAQ,uBAAuB;AAEvE,MAAI,QAAQ,oBAAoB;AAC9B,wBAAM,CAAC;AAAA,MACL;AAAA,IACF;AACA,UAAM,gBAAgB;AAAA,MACpB,KAAK,CAAC,SAAS;AAAA,MACf,UAAU;AAAA,QACR,SAAS;AAAA,UACP,MAAM;AAAA,UACN,IAAI;AAAA,UACJ;AAAA,UACA;AAAA,QACF;AAAA,MACF;AAAA,IACF;AACA,iBAAa,WAAW,cAAc;AACtC,iBAAa,WAAW,uBAAuB;AAC/C,WAAO,aAAS,CAAC,cAAc,aAAa;AAAA,EAC9C;AACA,SAAO;AACT;;;;ACjCgE;AAE7B;AAEyB;AAQ5D,MAAM,aAAa,oDAAmB,CAAY;AAE3C,MAAM,mBAAmB,WAAW,gBAAgB;AAEpD,MAAM,WAAW,4CAAW,CAAC;AAAA,EAClC,MAAM;AAAA,EACN,cAAc,2CAA2C,CAAC,gBAAgB;AAAA,EAC1E,UAAU;AAAA,IACR,6BAA6B,OAAO,QAAkC;AACpE,iBAAW,OAAO,OAAc,OAAO,OAAO;AAAA,IAChD;AAAA,IAEA,QAAQ,OAAO;AACb,iBAAW,UAAU,OAAc,gCAAkB;AAAA,IACvD;AAAA,IAEA,kBAAkB;AAAA,IAGlB;AAAA,EACF;AACF,CAAC;;;;;;;;;;;;;;;ACjC+D;AAOzD,MAAM,+BAA+B,+EAAmB,CAA+B;AAAA,EAC5F,UAAU,0BAAwB,qBAAqB;AACzD,CAAC;AAED,MAAM,oCAAoC,6BAA6B,gBAAgB;AAEhF,MAAM,6BAA6B,uEAAW,CAAC;AAAA,EACpD,MAAM;AAAA,EACN,cAAc;AAAA,EACd,UAAU;AAAA,IACR,wBAAwB,OAAO,QAA6C;AAC1E,mCAA6B,OAAO,OAAO,OAAO,OAAO;AAAA,IAC3D;AAAA,IACA,0BAA0B,OAAO,QAA+B;AAC9D,mCAA6B,UAAU,OAAO,OAAO,OAAO;AAAA,IAC9D;AAAA,IACA,yBAAyB,OAAO,QAA+B;AAC7D,mCAA6B,UAAU,OAAO,OAAO,OAAO;AAAA,IAC9D;AAAA,IACA,2BAA2B,OAAO;AAChC,mCAA6B,UAAU,KAAK;AAAA,IAC9C;AAAA,EACF;AACF,CAAC;;;;;;;;;;;;;;;;;;;;;;AC5B2B;AAWrB,SAAS,cAAc,SAAoD;AAChF,MAAI,QAAQ,WAAY,QAAO,QAAQ;AACvC,MAAK,QAAgB,YAAa,QAAQ,QAAgB;AAC1D,SAAO;AACT;AAEO,SAAS,oBAAoB,cAAsB;AACxD,QAAM,QAAQ,mBAAW,CAAC,YAAY;AACtC,SAAO,MAAM;AACf;;;;;;ACtBwB;AAEY;AAEA;AAE7B,SAAS,wBAAwB;AACtC,SAAO,iDAAmB,CAAC,IAAI,SAAS;AAC1C;AAEO,SAAS,6BAA6B;AAC3C,QAAM,eAAe,sBAAsB;AAE3C,SAAO,iBAAO,CAAC,MAAM;AACnB,QAAI,CAAC,aAAc,QAAO;AAC1B,WAAO,mBAAmB,CAAC,YAAY;AAAA,EACzC,GAAG,CAAC,YAAY,CAAC;AACnB;;;;;;;;;;;;;;;;;ACKM;AAtBe;AAEY;AAEE;AAEnC,MAAM,mBAAmB,CAAC,UAAkB;AAE1C,SAAO,OAAO,QAAQ,CAAC;AACzB;AAOO,MAAM,gBAAgB,2CAAI,CAAC,CAAC,EAAE,MAAM,WAAW,OAAO,GAAG,MAAM,MAA0B;AAC9F,QAAM,WAAW,YAAY,MAAM,SAAS;AAC5C,QAAM,OAAO,iBAAiB,KAAK;AAEnC,SACE,uEAAC,wEAAkB,IAAC,WAAU,MAAK,OAAO,UAAW,GAAG,OACtD,iFAAC,6DAAG,IAAC,UAAS,YAAY,gBAAK,GACjC;AAEJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;ACnBQ;AANkB;AAEG;AACV;AAEpB,SAAS,KAAK,OAAkC;AAC9C,SAAO,oCAAC,iBAAiB,EAAjB,EAAmB,GAAG,OAAO;AACvC;AAEA,SAAS,OAAO,OAAwC;AACtD,SAAO,oCAAC,mBAAmB,EAAnB,EAAqB,GAAG,OAAO;AACzC;AAEA,MAAM,UAAuC,oBAAU,CAAC,CAAC,OAAO,QAC9D,oCAAC,oBAAoB,EAApB,EAAqB,KAAW,GAAG,OAAO,CAC5C;AAED,MAAM,UAAuC,oBAAU,CAAC,CAAC,EAAE,WAAW,GAAG,MAAM,GAAG,QAChF,oCAAC,oBAAoB,EAApB,EAAqB,WAAW,GAAG,oBAAoB,IAAI,SAAS,IAAI,KAAW,GAAG,OAAO,CAC/F;AAED,MAAM,QAAmC,oBAAU,CAAC,CAAC,EAAE,WAAW,GAAG,MAAM,GAAG,QAC5E;AAAA,EAAC,kBAAkB;AAAL,EAAb;AAAA,IACC,WAAW,GAAG,yBAAyB,IAAI,SAAS;AAAA,IACpD;AAAA,IACC,GAAG;AAAA;AACN,CACD;AAEM,MAAM,UAAU;AAAA,EACrB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;AAEA,MAAM,uBAAuB,mBAAG,CAAC;AAAA,EAC/B,IAAI;AAAA,EACJ,cAAc;AAAA,EACd,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,WAAW;AAAA,EACX,mBAAmB;AAAA,EACnB,yBAAyB;AAAA,EACzB,YAAY;AAAA,EACZ,UAAU;AAAA,EACV,WAAW;AAAA,EACX,UAAU;AAAA,EACV,OAAO;AAAA,EACP,QAAQ;AAAA,EAER,iDAAiD;AAAA,IAC/C,eAAe;AAAA,EACjB;AAAA,EACA,mDAAmD;AAAA,IACjD,eAAe;AAAA,EACjB;AAAA,EACA,oDAAoD;AAAA,IAClD,eAAe;AAAA,EACjB;AAAA,EACA,kDAAkD;AAAA,IAChD,eAAe;AAAA,EACjB;AACF,CAAC;AAED,MAAM,4BAA4B,mBAAG,CAAC;AAAA,EACpC,MAAM;AACR,CAAC;;;;AClDK;AAdkB;AAUjB,SAAS,aAAa,EAAE,UAAU,OAAO,UAAU,MAAM,QAAQ,GAAsB;AAC5F,QAAM,aAAa,CAAC,SAAS;AAC7B,SACE,qCAAC,OAAO,CAAC,MAAR,EACC;AAAA,wCAAC,OAAO,CAAC,SAAR,EAAgB,SAAmB,UAAS;AAAA,IAC7C,oCAAC,OAAO,CAAC,QAAR,EACC,+CAAC,OAAO,CAAC,SAAR,EAAgB,QAAQ,YAAY,MAAY,YAAY,GAC1D;AAAA;AAAA,MACD,oCAAC,OAAO,CAAC,OAAR,EAAc;AAAA,OACjB,GACF;AAAA,KACF;AAEJ;;;;;;;;;;;;;;;;;;;;;;;;;ACvBO;AAMA,SAAS,mBAAmB;AAAA,EACjC;AAAA,EACA;AACF,GAA0D;AACxD,SAAO;AAAA,IACL,QAAQ,oCAAc;AAAd,IACR,SAAS;AAAA,MACP,uBAAuB;AAAA,MACvB,wBAAwB;AAAA,IAC1B;AAAA,IACA,QAAQ,qCAAe,CAAC;AAAA,EAC1B;AACF;;;;ACrB4B;AACF;AACC;AAEQ;AAkB5B,SAAS,qBAAqB;AAAA,EACnC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAuB;AACrB,QAAM,eAAe,mBAAmB;AACxC,MAAI,CAAC,kCAAU,CAAC,YAAY,GAAG;AAC7B,UAAM,IAAI,MAAM,mCAAmC;AAAA,EACrD;AACA,QAAM,cAAc,IAAI,IAAI,YAAY;AACxC,QAAM,SAAS,IAAI,IAAI,gBAAgB;AAEvC,MAAI,YAAY,aAAa,OAAO,UAAU;AAC5C,SAAK,2BAAS,EAAE,MAAM,yCAAyC;AAC/D,UAAM,IAAI,MAAM,+DAA+D;AAAA,EACjF;AAEA,QAAM,kBAAkB,kBAAkB,CAAC,EAAE,SAAS,aAAa,UAAU,aAAa,CAAC;AAC3F,SAAO,KAAK,YAAY,OAAO,eAAe;AAC9C,+BAAW,CAAC;AACd;;;;;;;;;;;;;;;;;;AC7CO,MAAM,UAAU;AAEhB,MAAM,aAAa;AAEnB,MAAM,aAAa;AACnB,MAAM,cAAc;AAEpB,MAAM,oBAAoB;AAE1B,MAAM,aAAa;;;;;;;;;;;;;;;;;;ACTH;AACiB;AAGc;AAE/C,MAAM,uBAAuB;AAE7B,SAAS,iBAAiB,UAAiB;AAChD,MAAI,SAAS,UAAU;AACrB,UAAM,IAAI,MAAM,6DAA6D;AAC/E,QAAM,eAAe,0EAAW,CAAC,yEAAU,CAAC,SAAS,SAAU,CAAC;AAChE,SAAO,yEAAU,CAAC,sEAAM,CAAC,YAAY,CAAC;AACxC;AAEA,MAAM,mCAAmC;AAElC,MAAM,4BAA4B,mGAAqC;AAArC,EACvC;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBO,MAAM,SAAS,mEAAsB;AACrC,MAAM,cAAc,EAA2B,IAAI,CAAuB;AAC1E,MAAM,YAAY,iBAAW,CAAC;AAC9B,MAAM,kBAAkB,sCAA2B,IAAI;AACvD,MAAM,aAAa,0CAAsB;AAEzC,MAAM,aAAa,4DAA8B,KAAK;AACtD,MAAM,cAAc,YAA8B,KAAK;AACvD,MAAM,kBAAkB,0CAA2B,IAAI;AACvD,MAAM,oBAAoB,kCAA6B,IAAI;AAC3D,MAAM,aAAa,8FAAsB,IAAI;AAC7C,MAAM,kBAAkB,sCAA2B,IAAI;AACvD,MAAM,qBAAqB,YAA8B,IAAI;AAG7D,MAAM,eAAe,iBAAW,CAAC,iBAAiB;AAClD,MAAM,mBAAmB,yDAA4B,IAAI;AACzD,MAAM,kBAAkB,yCAA2B,IAAI;AACvD,MAAM,0BAA0B,qBAAmC,IAAI;AACvE,MAAM,iCAAiC,gEAA0C,IAAI;;;;;;;;;;;;;;;;;ACf5F,MAAM,eAAe;AAErB,MAAM,gBAAgB;AAEtB,SAAS,oBAAoB;AAC3B,SAAO,OAAO,QAAQ;AACxB;AAEA,SAAS,qBAAqB,MAAiB;AAC7C,MAAI,KAAK,UAAU,aAAc,QAAO;AACxC,SAAO,KAAK,MAAM,GAAG,YAAY;AACnC;AAEO,eAAe,oBAAqC;AACzD,SAAO,IAAI;AAAA,IAAQ,aACjB,kBAAkB,EAAE,cAAc,CAAC,aAAa,GAAG,WAAS,QAAQ,KAAK,CAAC;AAAA,EAC5E;AACF;AAEO,eAAe,0BAAyC;AAC7D,SAAO,IAAI,QAAQ,aAAW,kBAAkB,EAAE,IAAI,EAAE,CAAC,aAAa,GAAG,CAAC,EAAE,GAAG,MAAM,QAAQ,CAAC,CAAC;AACjG;AAEO,eAAe,4BAAgD;AACpE,SAAO,IAAI;AAAA,IAAQ,aACjB,kBAAkB,EAAE,IAAI,CAAC,aAAa,GAAG,CAAC,EAAE,KAAK,MAAM,QAAQ,MAAM,QAAQ,IAAI,IAAI,OAAO,CAAC,CAAC,CAAC;AAAA,EACjG;AACF;AAEO,eAAe,sBAAqC;AACzD,QAAM,OAAO,MAAM,0BAA0B;AAC7C,QAAM,UAAU,UAAU,UAAU,KAAK,UAAU,MAAM,MAAM,CAAC,CAAC;AACnE;AAEO,eAAe,0BAA0B,UAA2C;AACzF,QAAM,OAAO,MAAM,0BAA0B;AAC7C,QAAM,EAAE,IAAI,OAAO,SAAS,IAAI;AAChC,QAAM,mBAAmB,CAAC,IAAI,KAAK,EAAE,EAAE,YAAY,GAAG,MAAM,OAAO,GAAG,QAAQ;AAC9E,SAAO,IAAI;AAAA,IAAQ,aACjB,kBAAkB,EAAE;AAAA,MAClB,EAAE,CAAC,aAAa,GAAG,qBAAqB,CAAC,kBAAkB,GAAG,IAAI,CAAC,EAAE;AAAA,MACrE,MAAM,QAAQ,gBAAgB;AAAA,IAChC;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;AChDiB;AACwB;AAEb;AACc;AAE1C,MAAM,QAAQ,IAAI,kDAAO,CAAgB;AAEzC,MAAM,8BAA8B;AAEpC,MAOG,KAAK,uDAAQ,CAAC,SAAO,oDAAK,CAAC,MAAM,oFAAyB,CAAC,GAAG,CAAC,GAAG,2BAA2B,CAAC,EAC9F,UAAU;AAEb,MAAM,aAAa,2CAAI,CAAC;AAAA,EACtB,SAAS,CAAC,+DAAW;AAAX,EACV,OAAO;AAAA,EACP,SAAS;AAAA,IACP,UAAU;AAAA,IACV,UAAU;AAAA,MACR,OAAO;AAAA,MACP,KAAK,QAAQ,UAAU;AACrB,YAAI,CAAC,OAAQ;AACb,cAAM,KAAK,QAAQ;AAAA,MACrB;AAAA,IACF;AAAA,EACF;AACF,CAAC;AAMM,MAAM,SAAmE;AAAA,EAC9E,SAAS,MAAM;AACb,eAAW,MAAM,GAAG,IAAI;AAAA,EAC1B;AAAA,EACA,QAAQ,MAAM;AACZ,eAAW,KAAK,GAAG,IAAI;AAAA,EACzB;AAAA,EACA,QAAQ,MAAM;AACZ,eAAW,KAAK,GAAG,IAAI;AAAA,EACzB;AAAA,EACA,SAAS,MAAM;AACb,eAAW,MAAM,GAAG,IAAI;AAAA,EAC1B;AACF;;;;;;;;;;;;;;;;AC5CO,MAAM,iBAAiB;AAEvB,MAAM,sBAAsB;AAE5B,IAAK,kBAAL,kBAAKC,qBAAL;AACL,EAAAA,iBAAA,wBAAqB;AACrB,EAAAA,iBAAA,yBAAsB;AACtB,EAAAA,iBAAA,2BAAwB;AACxB,EAAAA,iBAAA,4BAAyB;AACzB,EAAAA,iBAAA,sBAAmB;AACnB,EAAAA,iBAAA,uBAAoB;AACpB,EAAAA,iBAAA,oCAAiC;AACjC,EAAAA,iBAAA,qCAAkC;AAClC,EAAAA,iBAAA,0BAAuB;AACvB,EAAAA,iBAAA,2BAAwB;AACxB,EAAAA,iBAAA,iBAAc;AACd,EAAAA,iBAAA,kBAAe;AAZL,SAAAA;AAAA;AAeL,IAAK,kBAAL,kBAAKC,qBAAL;AACL,EAAAA,iBAAA,+BAA4B;AAC5B,EAAAA,iBAAA,0BAAuB;AACvB,EAAAA,iBAAA,oBAAiB;AAHP,SAAAA;AAAA;;;;;;;;;;;;;AC3BL,IAAK,YAAL,kBAAKC,eAAL;AAEL,EAAAA,WAAA,gBAAa;AACb,EAAAA,WAAA,qBAAkB;AAClB,EAAAA,WAAA,iBAAc;AACd,EAAAA,WAAA,YAAS;AAGT,EAAAA,WAAA,mBAAgB;AAChB,EAAAA,WAAA,wBAAqB;AACrB,EAAAA,WAAA,0BAAuB;AACvB,EAAAA,WAAA,gBAAa;AACb,EAAAA,WAAA,8BAA2B;AAC3B,EAAAA,WAAA,wBAAqB;AACrB,EAAAA,WAAA,6BAA0B;AAC1B,EAAAA,WAAA,6BAA0B;AAC1B,EAAAA,WAAA,gCAA6B;AAC7B,EAAAA,WAAA,8BAA2B;AAC3B,EAAAA,WAAA,8BAA2B;AAC3B,EAAAA,WAAA,0BAAuB;AACvB,EAAAA,WAAA,wBAAqB;AAGrB,EAAAA,WAAA,UAAO;AACP,EAAAA,WAAA,gBAAa;AACb,EAAAA,WAAA,iBAAc;AACd,EAAAA,WAAA,UAAO;AACP,EAAAA,WAAA,wBAAqB;AACrB,EAAAA,WAAA,oBAAiB;AACjB,EAAAA,WAAA,oBAAiB;AACjB,EAAAA,WAAA,UAAO;AACP,EAAAA,WAAA,mBAAgB;AAGhB,EAAAA,WAAA,cAAW;AACX,EAAAA,WAAA,aAAU;AACV,EAAAA,WAAA,gBAAa;AACb,EAAAA,WAAA,gBAAa;AACb,EAAAA,WAAA,qBAAkB;AAClB,EAAAA,WAAA,wBAAqB;AACrB,EAAAA,WAAA,+BAA4B;AAG5B,EAAAA,WAAA,YAAS;AAGT,EAAAA,WAAA,eAAY;AACZ,EAAAA,WAAA,oBAAiB;AACjB,EAAAA,WAAA,0BAAuB;AAGvB,EAAAA,WAAA,qBAAkB;AAClB,EAAAA,WAAA,yBAAsB;AACtB,EAAAA,WAAA,mBAAgB;AAChB,EAAAA,WAAA,0CAAuC;AACvC,EAAAA,WAAA,qCAAkC;AAClC,EAAAA,WAAA,sBAAmB;AACnB,EAAAA,WAAA,kBAAe;AACf,EAAAA,WAAA,yBAAsB;AACtB,EAAAA,WAAA,qBAAkB;AAClB,EAAAA,WAAA,yBAAsB;AACtB,EAAAA,WAAA,iCAA8B;AAC9B,EAAAA,WAAA,sBAAmB;AACnB,EAAAA,WAAA,sBAAmB;AAGnB,EAAAA,WAAA,4BAAyB;AACzB,EAAAA,WAAA,qCAAkC;AAClC,EAAAA,WAAA,kCAA+B;AAC/B,EAAAA,WAAA,gCAA6B;AAC7B,EAAAA,WAAA,iCAA8B;AAG9B,EAAAA,WAAA,UAAO;AACP,EAAAA,WAAA,yBAAsB;AACtB,EAAAA,WAAA,0BAAuB;AACvB,EAAAA,WAAA,eAAY;AACZ,EAAAA,WAAA,gBAAa;AAGb,EAAAA,WAAA,0BAAuB;AACvB,EAAAA,WAAA,iBAAc;AACd,EAAAA,WAAA,sBAAmB;AACnB,EAAAA,WAAA,wBAAqB;AACrB,EAAAA,WAAA,+BAA4B;AAG5B,EAAAA,WAAA,qBAAkB;AAClB,EAAAA,WAAA,iBAAc;AACd,EAAAA,WAAA,wBAAqB;AACrB,EAAAA,WAAA,qBAAkB;AAClB,EAAAA,WAAA,8BAA2B;AAC3B,EAAAA,WAAA,iCAA8B;AAC9B,EAAAA,WAAA,4BAAyB;AACzB,EAAAA,WAAA,0BAAuB;AACvB,EAAAA,WAAA,wBAAqB;AAGrB,EAAAA,WAAA,mBAAgB;AAGhB,EAAAA,WAAA,kBAAe;AACf,EAAAA,WAAA,yBAAsB;AAGtB,EAAAA,WAAA,8BAA2B;AAzGjB,SAAAA;AAAA;;;;;;;;;;;;;;ACwBL,SAAS,uBACd,SACA,UACgC;AAEhC,SAAO,EAAE,SAAS,OAAO,GAAG,SAAS;AACvC;AAEO,SAAS,qBACd,SACA,UACA;AACA,SAAO,EAAE,SAAS,OAAO,GAAG,SAAS;AACvC;;;;;;;;;;;;;;;;;;;;AC9BO;AAiCA,SAAS,wBACd,aAC6B;AAC7B,SAAO,gBAAgB;AACzB;AAEO,SAAS,kBAAkB,aAAuD;AACvF,SAAO,gBAAgB;AACzB;AAEO,SAAS,sBAAsB,aAAwD;AAC5F,SAAO,OAAO,gBAAgB,YAAY,CAAC,QAAQ,YAAY,EAAE,SAAS,WAAW;AACvF;AAMO,SAAS,0BAA0B,KAAsB;AAC9D,SAAO,CAAI,EAAE,MAAM,WAAW,MAAoC;AAChE,QAAI,IAAI,gBAAgB,OAAQ,QAAO,KAAK,IAAI,OAAO;AACvD,WAAO,WAAW,IAAI,QAAQ,IAAI,OAAO;AAAA,EAC3C;AACF;AAEO,SAAS,8BACd,iBAC2D;AAC3D,MAAI,gBAAgB,gBAAgB,OAAQ,QAAO;AACnD,SAAO;AAAA,IACL,aAAa;AAAA,IACb,SAAS,0EAAW,CAAC,gBAAgB,OAAO;AAAA,IAC5C,QAAQ,0EAAW,CAAC,gBAAgB,MAAM;AAAA,EAC5C;AACF;AAEO,SAAS,2BACd,2BACiB;AACjB,MAAI,0BAA0B,gBAAgB,OAAQ,QAAO;AAC7D,SAAO;AAAA,IACL,aAAa;AAAA,IACb,SAAS,yEAAa,CAAC,0BAA0B,OAAO;AAAA,IACxD,QAAQ,yEAAa,CAAC,0BAA0B,MAAM;AAAA,EACxD;AACF;;;;;;;;;;;;;;;;;;;ACrF6D;AACjC;AAEU;AAEH;AAIT;AAEnB,eAAe,qBAAoC;AACxD,SAAO,IAAI,QAAQ,aAAW,OAAO,QAAQ,MAAM,MAAM,OAAO,CAAC;AACnE;AAEA,MAAM,YAAY,oBAAI,QAAQ;AAC9B,MAAM,aAAa,oBAAI,QAAQ;AAE/B,MAAM,iBAAiB;AAAA,EACrB,YAAY,QAAa,SAAc;AACrC,cAAU,IAAI,MAAM,MAAM;AAC1B,eAAW,IAAI,MAAM,OAAO;AAAA,EAC9B;AAAA,EAEA,YAAwC;AACtC,WAAO,UAAU,IAAI,IAAI;AAAA,EAC3B;AAAA,EAEA,WAAW;AACT,WAAO,CAAC,CAAC,KAAK,SAAS;AAAA,EACzB;AAAA,EAEA,WAA+B;AAC7B,WAAO,WAAW,IAAI,IAAI,EAAE;AAAA,EAC9B;AAAA,EAEA,QAAQ,KAAa,MAAW;AAC9B,WAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtC,WAAK,UAAU,EAAE,IAAI,EAAE,CAAC,GAAG,GAAG,KAAK,GAAG,MAAM;AAC1C,YAAI,KAAK,SAAS,GAAG;AACnB,iBAAO,OAAO,KAAK,SAAS,CAAC;AAAA,QAC/B;AACA,eAAO,QAAQ,IAAI;AAAA,MACrB,CAAC;AAAA,IACH,CAAC;AAAA,EACH;AAAA,EAEA,QAAQ,KAAa;AACnB,WAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtC,WAAK,UAAU,EAAE,IAAI,KAAK,CAAC,aAAkB;AAC3C,YAAI,KAAK,SAAS,GAAG;AACnB,iBAAO,OAAO,KAAK,SAAS,CAAC;AAAA,QAC/B;AACA,eAAO,QAAQ,SAAS,GAAG,CAAC;AAAA,MAC9B,CAAC;AAAA,IACH,CAAC;AAAA,EACH;AAAA,EAEA,WAAW,KAA2B;AACpC,WAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtC,WAAK,UAAU,EAAE,OAAO,KAAK,MAAM;AACjC,YAAI,KAAK,SAAS,GAAG;AACnB,iBAAO,OAAO,KAAK,SAAS,CAAC;AAAA,QAC/B;AACA,eAAO,QAAQ,IAAI;AAAA,MACrB,CAAC;AAAA,IACH,CAAC;AAAA,EACH;AACF;AACA,MAAM,UAAU,IAAI,iBAAiB,OAAO,QAAQ,OAAO,OAAO,OAAO;AASzE,MAAM,sBAAgD;AAAA,EACpD,KAAK;AAAA,EACL,SAAS;AAAA,EACT;AAAA,EACA,WAAW;AAAA,EACX,WAAW,CAAC,aAAa,UAAU,QAAQ,YAAY,cAAc,UAAU;AACjF;AAEA,eAAe,gCAAgC;AAC7C,QAAM,aAAc,MAAM,IAAI;AAAA,IAAQ,aACpC,OAAO,QAAQ,MAAM,IAAI,CAAC,cAAc,GAAG,OAAO;AAAA,EACpD;AAEA,MAAI,CAAC,WAAY,QAAO;AAExB,QAAM,QAAQ,WAAW,cAAc;AAEvC,MAAI,OAAO,UAAU,UAAU;AAC7B,SAAK,iEAAS,CAAC,MAAM,6CAA6C;AAClE,WAAO,sEAAc,CAAC,mBAAmB;AAAA,EAC3C;AAEA,SAAO;AACT;AAEA,SAAS,wBAAwB,YAAiB;AAChD,QAAM,gBAAgB,WAAW,SAAS,QAAQ,WAAW;AAAA,IAC3D,CAAC,KAAuD,MAAW,UAAkB;AACnF,YAAM,OAAO,mFAAqB,CAAC,KAAK;AACxC,YAAM,KAAK,KAAK,QAAQ,KAAK,uEAAkB;AAE/C,UAAI,IAAI,KAAK,EAAE;AACf,UAAI,SAAS,EAAE,IAAI;AAAA,QACjB,GAAG;AAAA,QACH;AAAA,QACA;AAAA,QACA,UAAU;AAAA,QACV,UAAU;AAAA,MACZ;AAEA,aAAO;AAAA,IACT;AAAA,IACA,EAAE,KAAK,CAAC,GAAG,UAAU,CAAC,EAAE;AAAA,EAC1B;AAEA,SAAO;AACT;AAEA,eAAe,+BAA+B,OAAqB;AACjE,QAAM,gBAAgB,MAAM,QAAQ,QAAQ,KAAK;AAEjD,QAAM,WAAW;AAAA,IACf,GAAG;AAAA,IACH,cAAc,cAAc;AAAA,IAC5B,QAAQ;AAAA,MACN,GAAG,cAAc;AAAA,IACnB;AAAA,EACF;AAGA,MAAI,cAAc,MAAM,SAAS,SAAS,SAAS,UAAU;AAC3D,aAAS,SAAS;AAAA,MAChB,GAAG,cAAc;AAAA,MACjB,QAAQ,wBAAwB,cAAc,IAAI;AAAA,IACpD;AAAA,EACF;AAGA,MAAI,CAAC,SAAS,OAAO,SAAS;AAC5B,aAAS,OAAO,UAAU;AAAA,MACxB,KAAK,CAAC;AAAA,MACN,UAAU,CAAC;AAAA,IACb;AAAA,EACF;AAGA,MAAI,CAAC,SAAS,OAAO,QAAQ;AAC3B,aAAS,OAAO,SAAS;AAAA,MACvB,KAAK,CAAC;AAAA,MACN,UAAU,CAAC;AAAA,IACb;AAAA,EACF;AAGA,UAAQ,eAAe,UAAU,MAAM;AAEvC,SAAO;AACT;AAKO,MAAM,gBAAqE;AAAA,EAChF,KAAK;AAAA,EACL,iBAAiB,kGAAe;AAAf,EACjB,SAAS;AAAA,EACT;AAAA,EACA,WAAW;AAAA,EACX,SAAS,sEAAa,CAAC;AAAA,IACrB,GAAG,YAAY;AACb,aAAO,8BAA8B;AAAA,IACvC;AAAA,IACA,GAAG,OAAO,UAAe;AACvB,aAAO,+BAA+B,KAAK;AAAA,IAC7C;AAAA,IACA,OAAO;AAAA,EACT,CAAQ;AAAA,EACR,aAAa;AAAA,EACb,WAAW;AAAA,IACT;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;ACtMsB;AAEC;AAEhB,MAAM,qBAAqB;AAE3B,SAAS,cAAc;AAC5B,MAAI,iBAAW,CAAC,+BAA+B,QAAQ;AACrD,wDAAM,CAAC,KAAK,6DAA6D;AACzE;AAAA,EACF;AAGA,SAAO,MAAM;AACf;AAEO,SAAS,YAAY,IAAY;AACtC,SAAO,YAAY,kEAAK,CAAC,EAAE;AAC7B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBkB;AAMX;AAEmB;AACH;AACA;AACU;AACG;AACZ;AACF;AAOf;AAEA,MAAM,YAAY,IAAI,8EAAgB,CAAC;AAEvC,SAAS,mCACd,2BACA;AACA,OAAK,UAAU;AAAA,IACb,MACE,KAAK,UAAU,oBAAoB,CAAC,EAAE,SAAS,KAAK,MAAM;AACxD,aAAO,QAAQ,0BAA0B,CAAC,EAAE,QAAQ,CAAC,CAAC,KAAK,KAAK,MAAM;AACpE,gBAAQ,IAAI,UAAU,QAAQ,IAAI,WAAW,CAAC;AAC9C,gBAAQ,IAAI,QAAQ,KAAK;AACzB,gBAAQ,IAAI,aAAa,QAAQ,IAAI,cAAc,CAAC;AACpD,gBAAQ,IAAI,WAAW,GAAG,IAAI;AAAA,MAChC,CAAC;AACD,WAAK,OAAO;AAAA,IACd,CAAC;AAAA,EACL;AACF;AAEO,SAAS,gBAAgB;AAC9B,SAAO,UAAU;AAAA,IACf,EAAE,UAAU,4EAAiB,CAAC;AAAA,IAC9B;AAAA,MACE,cAAc;AAAA,QACZ,cAAc;AAAA,UACZ,kBAAkB;AAAA,YAChB,UAAU;AAAA,YACV,QAAQ;AAAA,cACN,MAAM;AAAA,cACN,SAAS;AAAA,YACX;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;AAIO,SAAS,0BAA0B,WAAuB;AAC/D,SAAO,yDAAM,CAAC,OAAO,2EAAS,CAAC,sEAAM,CAAC,SAAS,CAAC,EAAE,MAAM,GAAG,CAAC,CAAC;AAC/D;AAEO,eAAe,aAAa,WAAuB;AACxD,SAAO,UAAU,SAAS,0BAA0B,SAAS,CAAC;AAChE;AAEA,MAAM,iBAAiB,iFAAmB,CAAC;AAAA,EACzC,aAAa;AAAA,EACb,iBAAiB;AAAA,EACjB,aAAa;AAAA,EACb,WAAW;AAAA,EACX,YAAY;AAAA,EACZ,WAAW;AAAA,EACX,UAAU;AAAA,EACV,cAAc;AAAA,EACd,cAAc;AAAA,EACd,kBAAkB;AAAA,EAClB,mBAAmB;AAAA,EACnB,oBACE;AAAA,EACF,oBAAoB;AAAA,EACpB,WAAW;AAAA,IACT,YAAY,qEAAK,CAAC,+BAA+B;AAAA,IACjD,mBAAmB,qEAAK,CAAC,+BAA+B;AAAA,IACxD,kBAAkB,qEAAK,CAAC,yCAAyC;AAAA,IACjE,uBAAuB,qEAAK,CAAC,uCAAuC;AAAA,IACpE,oBAAoB,qEAAK,CAAC,+BAA+B;AAAA,IACzD,cAAc,qEAAK,CAAC,yCAAyC;AAAA,IAC7D,kBAAkB,qEAAK,CAAC,4CAA4C;AAAA,IACpE,uBAAuB,qEAAK,CAAC,0CAA0C;AAAA,EACzE;AAAA,EACA,YAAY;AAAA,IACV,kBAAkB,qEAAK,CAAC,yBAAyB;AAAA,IACjD,uBAAuB,qEAAK,CAAC,yBAAyB;AAAA,IACtD,oBAAoB,qEAAK,CAAC,yBAAyB;AAAA,EACrD;AACF,CAAC;AAEM,SAAS,aAAa;AAC3B,MAAI,sEAAW,IAAI,CAAC,qEAAU,CAAE;AAEhC,0DAAW,CAAC;AAAA,IACV,KAAK,qEAAU;AAAV,IACL,kBAAkB;AAAA,IAClB,oBAAoB;AAAA,IACpB,cAAc;AAAA,MACZ,8EAAgC,CAAC,CAAC,CAAC;AAAA,MACnC,4FAA6C,CAAC;AAAA,QAC5C,WAAW,4CAAe;AAAT,QACjB,WAAW;AAAX,QACA,iBAAiB;AAAjB,QACA,wBAAwB;AAAxB,QACA,WAAW;AAAX,MACF,CAAC;AAAA,MACD;AAAA,IACF;AAAA,IACA,cAAc;AAAA;AAAA,MAEZ;AAAA,MACA;AAAA;AAAA,MAEA;AAAA,IACF;AAAA,IACA,aAAa,6EAAkB;AAAlB,IACb,qBAAqB;AAAA,IACrB,MAAM,WAAW,OAAO;AACtB,aAAO,MAAM,MAAM;AACnB,aAAO,MAAM,OAAO;AAEpB,YAAM,SAAS,MAAM,WAAW,QAAQ,IAAI,CAAC,EAAE,MAAM,MAAM,KAAK;AAGhE,UAAI,QAAQ,SAAS,oCAAoC,EAAG,QAAO;AAEnE,aAAO;AAAA,IACT;AAAA,EACF,CAAC;AAED,8DAAa,CAAC,eAAe,QAAO;AACtC;AAEO,eAAe,oBAAoB;AACxC,OAAK,UAAU,MAAM,8BAA8B;AACnD,QAAM,OAAO,MAAM,eAAe,WAAW;AAC7C,MAAI,CAAC,KAAM,QAAO;AAClB,OAAK,YAAY;AACjB,OAAK,KAAK;AACV;AACF;;;;;;;;;;;;;;ACpJO,SAAS,WAAW,MAAc;AACvC,SAAO,MAAM,KAAK,IAAI,YAAY,EAAE,OAAO,KAAK,mBAAmB,IAAI,CAAC,CAAC,CAAC,EACvE,IAAI,UAAQ,KAAK,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG,CAAC,EAC9C,KAAK,EAAE;AACZ;AAMO,SAAS,WAAW,KAAc;AACvC,MAAI,CAAC,IAAK,QAAO;AACjB,QAAM,QAAQ,IAAI,YAAY,IAAI,MAAM,SAAS,KAAK,CAAC,GAAG,IAAI,UAAQ,SAAS,MAAM,EAAE,CAAC,CAAC;AACzF,SAAO,mBAAmB,KAAK,IAAI,YAAY,EAAE,OAAO,KAAK,CAAC,CAAC;AACjE;;;;;;;;;;;;;;;ACnByB;AAElB,SAAS,WAAW,KAAa;AACtC,SAAO,CAAC,CAAC,mDAAQ,CAAC,GAAG;AACvB;;;;;;;;;;;;;ACJO,IAAK,mBAAL,kBAAKC,sBAAL;AACL,EAAAA,kBAAA,8BAA2B;AAC3B,EAAAA,kBAAA,sBAAmB;AACnB,EAAAA,kBAAA,iBAAc;AACd,EAAAA,kBAAA,0BAAuB;AACvB,EAAAA,kBAAA,2BAAwB;AACxB,EAAAA,kBAAA,gBAAa;AACb,EAAAA,kBAAA,eAAY;AACZ,EAAAA,kBAAA,oBAAiB;AACjB,EAAAA,kBAAA,6BAA0B;AAC1B,EAAAA,kBAAA,0BAAuB;AACvB,EAAAA,kBAAA,mBAAgB;AAChB,EAAAA,kBAAA,uBAAoB;AACpB,EAAAA,kBAAA,wBAAqB;AAGrB,EAAAA,kBAAA,mBAAgB;AAChB,EAAAA,kBAAA,kCAA+B;AAC/B,EAAAA,kBAAA,6BAA0B;AAE1B,EAAAA,kBAAA,oBAAiB;AACjB,EAAAA,kBAAA,wBAAqB;AACrB,EAAAA,kBAAA,0BAAuB;AAtBb,SAAAA;AAAA;;;;;;;;;;;;;ACAL,IAAK,sBAAL,kBAAKC,yBAAL;AACL,EAAAA,qBAAA,wBAAqB;AACrB,EAAAA,qBAAA,qBAAkB;AAClB,EAAAA,qBAAA,sBAAmB;AACnB,EAAAA,qBAAA,6BAA0B;AAC1B,EAAAA,qBAAA,eAAY;AACZ,EAAAA,qBAAA,oBAAiB;AACjB,EAAAA,qBAAA,oBAAiB;AACjB,EAAAA,qBAAA,eAAY;AACZ,EAAAA,qBAAA,gBAAa;AACb,EAAAA,qBAAA,eAAY;AACZ,EAAAA,qBAAA,kBAAe;AACf,EAAAA,qBAAA,mBAAgB;AAChB,EAAAA,qBAAA,eAAY;AACZ,EAAAA,qBAAA,qBAAkB;AAdR,SAAAA;AAAA;;;;;;;;;;;;;ACAL,IAAK,oBAAL,kBAAKC,uBAAL;AACL,EAAAA,mBAAA,iBAAc;AACd,EAAAA,mBAAA,qBAAkB;AAClB,EAAAA,mBAAA,wBAAqB;AACrB,EAAAA,mBAAA,qBAAkB;AAClB,EAAAA,mBAAA,oBAAiB;AACjB,EAAAA,mBAAA,yBAAsB;AACtB,EAAAA,mBAAA,oBAAiB;AACjB,EAAAA,mBAAA,+BAA4B;AAC5B,EAAAA,mBAAA,2BAAwB;AACxB,EAAAA,mBAAA,2BAAwB;AACxB,EAAAA,mBAAA,qBAAkB;AAClB,EAAAA,mBAAA,qCAAkC;AAClC,EAAAA,mBAAA,mCAAgC;AAChC,EAAAA,mBAAA,kCAA+B;AAC/B,EAAAA,mBAAA,oCAAiC;AACjC,EAAAA,mBAAA,kBAAe;AACf,EAAAA,mBAAA,wBAAqB;AACrB,EAAAA,mBAAA,qBAAkB;AAClB,EAAAA,mBAAA,sBAAmB;AACnB,EAAAA,mBAAA,sBAAmB;AACnB,EAAAA,mBAAA,wBAAqB;AACrB,EAAAA,mBAAA,qBAAkB;AAClB,EAAAA,mBAAA,0BAAuB;AACvB,EAAAA,mBAAA,2BAAwB;AACxB,EAAAA,mBAAA,4BAAyB;AACzB,EAAAA,mBAAA,wBAAqB;AACrB,EAAAA,mBAAA,mBAAgB;AA3BN,SAAAA;AAAA;;;;;;;;;;;;;ACAL,IAAK,4BAAL,kBAAKC,+BAAL;AAEL,EAAAA,2BAAA,sBAAmB;AACnB,EAAAA,2BAAA,0BAAuB;AAGvB,EAAAA,2BAAA,4BAAyB;AAGzB,EAAAA,2BAAA,wBAAqB;AACrB,EAAAA,2BAAA,sBAAmB;AACnB,EAAAA,2BAAA,oBAAiB;AAGjB,EAAAA,2BAAA,YAAS;AACT,EAAAA,2BAAA,yBAAsB;AACtB,EAAAA,2BAAA,yBAAsB;AACtB,EAAAA,2BAAA,uBAAoB;AACpB,EAAAA,2BAAA,sBAAmB;AACnB,EAAAA,2BAAA,wBAAqB;AACrB,EAAAA,2BAAA,2BAAwB;AACxB,EAAAA,2BAAA,kBAAe;AACf,EAAAA,2BAAA,0BAAuB;AAGvB,EAAAA,2BAAA,yBAAsB;AACtB,EAAAA,2BAAA,mBAAgB;AAChB,EAAAA,2BAAA,oBAAiB;AA3BP,SAAAA;AAAA;;;;;;;;ACAZ;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;;;;;;;;ACA6C;;AAE7C;AACA;;AAEA;;AAEO;AACP;AACA;;AAEA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,mEAAY,cAAc;AAC3C;;AAEA;AACA,GAAG;;AAEH,EAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;;;;;;;;;ACnC0F;AACrB;;AAErE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA,WAAW,oEAAc;AACzB,cAAc,wEAAkB;AAChC,mBAAmB;AACnB,GAAG;AACH;AACA;AACA;AACA;AACA,0DAA0D,uEAAgB;AAC1E,uBAAuB,cAAc,QAAQ,GAAG,mEAAY,QAAQ;AACpE,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA,cAAc,gEAAS;AAChB;AACP;;AAEO,QAAQ,sBAAsB,EAAE,qEAAc;;;;;;;;;;;;;;;AC5CuB;AACnC;;AAEzC;AACA,UAAU;AACV,cAAc;AACd,qBAAqB;AACrB;AACA;AACA,CAAC;;AAEM;AACP,UAAU,oDAAoD;AAC9D,2CAA2C,uBAAuB,8DAAO,YAAY;;AAErF,6BAA6B;AAC7B;AACA,uBAAuB;AACvB;AACA;AACA,qBAAqB,2DAAQ;AAC7B;AACA;AACA;AACA,WAAW,2DAAQ;AACnB;;AAEA;AACA;AACA,wBAAwB,2DAAI;AAC5B;AACA,YAAY,2DAAQ;AACpB;AACA,uCAAuC,2DAAQ;AAC/C;AACA,uBAAuB,iEAAU;AACjC;AACA,KAAK;AACL;;AAEA;AACA,WAAW,sDAAG;AACd;;AAEA;;AAEA;AACA,WAAW,iEAAU;AACrB;;AAEA;;AAEA,uBAAuB,2DAAI;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA,eAAe,2DAAQ;AACvB;AACA,GAAG;;AAEH;AACA;;AAEO;AACP;AACA,+BAA+B,KAAK,GAAG,KAAK;AAC5C;AACA;;;;;;;;;;;;ACtFA;AACA;AACA;AACA;;AAEA,SAAS,sBAAsB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZ0E;AAC3C;AACF;;AAE7B;;AAEO;AACP,+BAA+B,kCAAc,0CAA0C,mBAAG;AAC1F;;AAEA;AACA,uDAAuD,SAAE;AACzD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,WAAW,8BAAU;AACrB;AACA,2CAA2C,yBAAyB,MAAM,2BAAO,YAAY;;AAE7F;AACA;AACA;;AAEA,uBAAuB,wBAAI;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;ACxCyB;AACD;AACC;;;;;;;;;;;;;;;;;;;;;;;;;ACFzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sDAAsD;AACtD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,QAAQ;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL;AACA,GAAG,IAAI;AACP;;AAEA;AACA;AACA,mDAAmD;AACnD,UAAU,eAAe;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,UAAU,sBAAsB;AAChC,UAAU,iCAAiC;AAC3C;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,UAAU,uDAAuD;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB,IAAI;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,UAAU;AACjC;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,+BAA+B,cAAc;AAC7C;;AAEA;AACA;AACA,+BAA+B,iCAAiC;AAChE,yEAAyE,mBAAmB;AAC5F;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;;AAEA;AACA,iCAAiC;AACjC;AACA;AACA,mCAAmC;AACnC,gBAAgB;AAChB,iDAAiD;AACjD;AACA,GAAG;AACH;AACA;AACA,gFAAgF;AAChF;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,qKAAqK,wDAAwD;;AAE7N;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AAqBE;;;;AAIF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGE;;;AAGK;AACP,WAAW;AACX;;AAEO;AACP;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/U2C;AACN;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,wBAAI;AACxC;AACA,CAAC;AAIC;AACK;;AChB4C;;AAE5C,wFAAwF,aAAa;;AAErG;AACP;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;;ACrB0D;AACX;AACyE;AACzD;AACZ;;AAEnD,2CAA2C,cAAc;AACzD,8EAA8E,mBAAG;;AAEjF,iDAAiD,wBAAwB;AACzE;;AAEA;AACA,iDAAiD,sCAAsC,IAAI;AAC3F;AACA;;AAEA,oBAAoB,YAAY;AAChC,iCAAiC,yBAAyB;AAC1D;;AAEA,0CAA0C,oBAAU;AACpD,YAAY,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AACjB;;AAEA,cAAc,gCAAY;AAC1B,eAAe,cAAc,KAAK,IAAI,KAAK,GAAG,MAAM;AACpD;;AAEA,qBAAqB,6BAAS;AAC9B;AACA;AACA,cAAc,iCAAc;AAC5B,iBAAiB,qCAAkB;AACnC,sBAAsB;AACtB,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;;AAEA;AACA,mCAAmC,qCAAqB;AACxD,YAAY,SAAE,0BAA0B,mBAAG;AAC3C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,qCAAqB;AACnC,MAAM;AACN;AACA;;AAEO;AACP;AACA;;AAEA,+BAA+B,SAAE;AACjC,qBAAqB,wBAAI;AACzB;AACA,cAAc,wBAAI;AAClB;AACA,EAAE,IAAI;;AAEN;AACA;AACA,gBAAgB,kBAAkB,EAAE,iBAAiB;AACrD;AACA;AACA;AACA;AACA,YAAY,8BAAU;AACtB,IAAI;AACJ,EAAE;AACF;;;ACjFiD;AACe;;AAEhE,iCAAiC,YAAY;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP,4BAA4B,gCAAgC;AAC5D;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEO,MAAM,aAAM,iCAAiC,wBAAI;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,GAAG;AACH;AACA,WAAW,8BAAU;AACrB,GAAG;AACH;AACA,CAAC;;AC9FgD;AACe;;AAEhE,+BAA+B,YAAY;AAC3C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEO,MAAM,SAAI,iCAAiC,wBAAI;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,GAAG;AACH;AACA,WAAW,8BAAU;AACrB,GAAG;AACH;AACA,CAAC;;ACrG2B;;;;;;;;;;;;ACA5B;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;UC/fA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WC5BA;;;;;WCAA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,sDAAsD;WACtD,sCAAsC,iEAAiE;WACvG;WACA;WACA;WACA;WACA;WACA;;;;;WCzBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;;;;;WCRA;WACA;WACA;WACA,eAAe,wJAAwJ,+BAA+B,yMAAyM;WAC/Y;;;;;WCJA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA;WACA,uBAAuB,4BAA4B;WACnD;WACA;WACA;WACA,iBAAiB,oBAAoB;WACrC;WACA,mGAAmG,YAAY;WAC/G;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,mEAAmE,iCAAiC;WACpG;WACA;WACA;WACA;;;;;WCzCA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WClBA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA,iCAAiC;;WAEjC;WACA;WACA;WACA,KAAK;WACL,eAAe;WACf;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;WCrFA;;;;;UEAA;UACA;UACA;UACA;UACA","sources":["webpack:///./node_modules/.pnpm/@stacks+connect-ui@6.1.1/node_modules/@stacks/connect-ui/dist/esm/ lazy ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object","webpack:///./src/app/index.css","webpack:///./src/app/common/authentication/use-finish-auth-request.ts","webpack:///./src/app/common/authentication/use-legacy-auth-bitcoin-addresses.ts","webpack:///./src/app/common/utils/format-account-name.ts","webpack:///./src/app/common/utils/get-account-display-name.ts","webpack:///./src/app/common/hooks/account/use-account-names.ts","webpack:///./src/app/common/hooks/auth/use-auth-request-params.ts","webpack:///./src/app/common/hooks/auth/use-onboarding-state.ts","webpack:///./src/app/common/hooks/use-default-request-search-params.ts","webpack:///./src/shared/messages.ts","webpack:///./src/app/common/store-utils.ts","webpack:///./src/app/store/chains/stx-chain.actions.ts","webpack:///./src/app/store/common/api-clients.hooks.ts","webpack:///./src/app/common/hooks/use-key-actions.ts","webpack:///./src/app/common/hooks/use-modifier-key.ts","webpack:///./src/app/common/hooks/use-on-mount.ts","webpack:///./src/app/common/initial-search-params.ts","webpack:///./src/app/common/keychain/keychain.ts","webpack:///./src/app/common/persistence.ts","webpack:///./src/app/common/publish-subscribe.ts","webpack:///./src/app/common/signature/requests.ts","webpack:///./src/app/common/string-utils.ts","webpack:///./src/app/common/stacks-utils.ts","webpack:///./src/app/common/switch-account/use-switch-account-sheet-context.ts","webpack:///./src/app/common/theme-provider.tsx","webpack:///./src/app/common/use-wallet-type.ts","webpack:///./src/app/common/utils.ts","webpack:///./src/app/common/utils/open-in-new-tab.ts","webpack:///./src/app/components/crypto-asset-item/crypto-asset-item-error.tsx","webpack:///./src/app/components/crypto-asset-item/crypto-asset-item-placeholder.tsx","webpack:///./src/app/components/disclaimer.tsx","webpack:///./src/app/components/favicon.tsx","webpack:///./src/app/components/info-card/info-card.tsx","webpack:///./src/app/components/layout/divider.tsx","webpack:///./src/app/components/layout/headers/header-action-button.tsx","webpack:///./src/app/components/layout/headers/header-grid.tsx","webpack:///./src/app/components/layout/headers/header.tsx","webpack:///./src/app/components/layout/headers/logo-box.tsx","webpack:///./src/app/components/layout/page/page.layout.tsx","webpack:///./src/app/components/layout/card/card.tsx","webpack:///./src/app/components/layout/card/components/button-row.tsx","webpack:///./src/app/components/layout/card/components/summary-footer.tsx","webpack:///./src/app/components/layout/card/components/available-balance.tsx","webpack:///./src/app/components/layout/card/index.ts","webpack:///./src/app/components/layout/layouts/two-column.layout.tsx","webpack:///./src/app/components/layout/layouts/container.layout.tsx","webpack:///./src/app/components/layout/index.ts","webpack:///./src/app/components/layout/layouts/content.layout.tsx","webpack:///./src/app/components/loaders/bitcoin-account-loader.tsx","webpack:///./src/app/components/loaders/btc-balance-loader.tsx","webpack:///./src/app/components/loading-rectangle.tsx","webpack:///./src/app/components/no-fees-warning-row.tsx","webpack:///./src/app/components/privacy/private-text.layout.tsx","webpack:///./src/app/components/privacy/private-text.tsx","webpack:///./src/app/features/container/headers/onboarding.header.tsx","webpack:///./src/app/features/current-account/current-account-avatar.tsx","webpack:///./src/app/features/current-account/current-account-name.tsx","webpack:///./src/app/components/balance/btc-balance.tsx","webpack:///./src/app/components/balance/stx-balance.tsx","webpack:///./src/app/features/total-balance/total-balance.tsx","webpack:///./src/app/features/container/headers/popup.header.tsx","webpack:///./src/app/features/ledger/hooks/use-ledger-navigate.ts","webpack:///./src/app/features/ledger/hooks/use-when-reattempt-ledger-connection.ts","webpack:///./src/app/features/ledger/utils/bitcoin-ledger-utils.ts","webpack:///./src/app/common/utils/safe-await.ts","webpack:///./src/app/features/ledger/utils/generic-ledger-utils.ts","webpack:///./src/app/features/message-signer/hash-drawer.tsx","webpack:///./src/app/features/message-signer/message-preview-box.tsx","webpack:///./src/app/features/message-signer/message-signing-header.tsx","webpack:///./src/app/features/message-signer/message-signing-request.layout.tsx","webpack:///./src/app/features/message-signer/stacks-sign-message-action.tsx","webpack:///./src/app/common/hooks/auth/use-has-keys.tsx","webpack:///./src/app/query/common/outdated-pr/outdated-pr.query.ts","webpack:///./src/app/components/app-version.tsx","webpack:///./src/app/features/settings/network/components/network-list-item-menu.tsx","webpack:///./src/app/features/settings/network/components/network-list-item.layout.tsx","webpack:///./src/app/features/settings/network/network-list-item.tsx","webpack:///./src/app/features/settings/network/network.tsx","webpack:///./src/app/features/settings/sign-out/sign-out.tsx","webpack:///./src/app/features/settings/sign-out/sign-out-confirm.tsx","webpack:///./src/app/features/settings/theme/theme-list-item.tsx","webpack:///./src/app/features/settings/theme/theme-dialog.tsx","webpack:///./src/app/features/settings/components/advanced-menu-items.tsx","webpack:///./src/app/features/settings/components/ledger-item-row.tsx","webpack:///./src/app/features/settings/settings.tsx","webpack:///./src/app/features/toasts/use-toast.ts","webpack:///./src/shared/utils/dev-tools-warning-log.ts","webpack:///./src/app/components/loading-spinner.tsx","webpack:///./src/app/features/devtool/devtools.tsx","webpack:///./src/app/features/html-head/head-provider.tsx","webpack:///./src/app/features/toasts/use-toast-handlers.ts","webpack:///./src/app/features/toasts/toasts-provider.tsx","webpack:///./src/app/components/layout/layouts/switch-account.layout.tsx","webpack:///./src/app/components/error-label.tsx","webpack:///./src/app/features/add-network/network-form-fields.tsx","webpack:///./src/app/common/url-join.ts","webpack:///./src/app/features/add-network/use-add-network.tsx","webpack:///./src/app/features/add-network/network-form.tsx","webpack:///./src/app/features/container/headers/page.header.tsx","webpack:///./src/app/features/add-network/network-form.layout.tsx","webpack:///./src/app/features/add-network/add-network.tsx","webpack:///./src/app/features/add-network/edit-network.tsx","webpack:///./src/app/common/app-analytics.ts","webpack:///./src/app/common/hooks/account/use-create-account.ts","webpack:///./src/app/store/accounts/blockchain/bitcoin/bitcoin.ledger.ts","webpack:///./src/app/common/hooks/use-media-query.ts","webpack:///./src/app/common/hooks/use-on-resize-listener.ts","webpack:///./src/app/ui/components/virtuoso.tsx","webpack:///./src/app/features/dialogs/switch-account-dialog/components/account-list-unavailable.tsx","webpack:///./src/app/common/analytics/track-switch-account.ts","webpack:///./src/app/common/hooks/account/use-switch-account.ts","webpack:///./src/app/store/ui/ui.ts","webpack:///./src/app/store/ui/ui.hooks.ts","webpack:///./src/app/common/hooks/use-loading.ts","webpack:///./src/app/common/hooks/balance/use-total-balance.tsx","webpack:///./src/app/components/account-total-balance.tsx","webpack:///./src/app/components/loaders/stacks-account-loader.tsx","webpack:///./src/app/components/account/account-addresses.tsx","webpack:///./src/app/components/account/account-list-item.layout.tsx","webpack:///./src/app/components/account/account-name.tsx","webpack:///./src/app/ui/components/account/account-avatar/account-avatar-item.tsx","webpack:///./src/app/features/dialogs/switch-account-dialog/components/switch-account-list-item.tsx","webpack:///./src/app/features/dialogs/switch-account-dialog/switch-account-dialog.tsx","webpack:///./src/app/features/hiro-messages/components/in-app-message-item.tsx","webpack:///./src/app/features/hiro-messages/in-app-messages.tsx","webpack:///./src/app/routes/hooks/use-on-change-account.ts","webpack:///./src/app/routes/hooks/use-on-sign-out.ts","webpack:///./src/app/routes/hooks/use-on-wallet-lock.ts","webpack:///./src/shared/utils/get-active-tab.ts","webpack:///./src/app/features/popup-send-form-restoration/use-restore-form-state.ts","webpack:///./src/app/features/container/container.tsx","webpack:///./src/app/features/container/headers/home.header.tsx","webpack:///./src/app/common/hooks/use-location-state.ts","webpack:///./src/app/common/transactions/bitcoin/fees/btc-size-fee-estimator.ts","webpack:///./src/app/common/transactions/bitcoin/utils.ts","webpack:///./src/app/common/transactions/bitcoin/coinselect/local-coin-selection.ts","webpack:///./src/app/components/bitcoin-custom-fee/bitcoin-custom-fee-fiat.tsx","webpack:///./src/app/query/bitcoin/address/utxos-by-address.hooks.ts","webpack:///./src/app/components/bitcoin-custom-fee/hooks/use-bitcoin-custom-fee.tsx","webpack:///./src/app/components/bitcoin-custom-fee/bitcoin-custom-fee-input.tsx","webpack:///./src/app/common/hooks/use-bitcoin-explorer-link.ts","webpack:///./src/app/components/stacks-transaction-item/increase-fee-button.tsx","webpack:///./src/app/components/transaction/transaction-title.tsx","webpack:///./src/app/components/transaction-item/transaction-item.layout.tsx","webpack:///./src/app/components/bitcoin-transaction-item/bitcoin-transaction-icon.tsx","webpack:///./src/app/components/bitcoin-transaction-item/bitcoin-transaction-inscription-icon.tsx","webpack:///./src/app/components/bitcoin-transaction-item/bitcoin-transaction-status.tsx","webpack:///./src/app/components/bitcoin-transaction-item/bitcoin-transaction-item.tsx","webpack:///./src/app/features/dialogs/increase-fee-dialog/components/increase-fee-actions.tsx","webpack:///./src/app/components/bitcoin-fees-list/use-bitcoin-fees-list.ts","webpack:///./src/app/features/dialogs/increase-fee-dialog/hooks/use-btc-increase-fee.ts","webpack:///./src/app/features/dialogs/increase-fee-dialog/increase-btc-fee-dialog.tsx","webpack:///./src/app/common/hooks/account/use-refresh-all-account-data.ts","webpack:///./src/app/common/utils/safe-handle-txid.ts","webpack:///./src/shared/error-messages.ts","webpack:///./src/app/common/error-formatters.ts","webpack:///./src/app/common/validation/forms/currency-validators.ts","webpack:///./src/app/common/validation/forms/fee-validators.ts","webpack:///./src/app/common/hooks/use-stacks-explorer-link.ts","webpack:///./src/app/common/transactions/stacks/transaction.utils.ts","webpack:///./src/app/components/transaction/token-transfer-icon.tsx","webpack:///./src/app/components/transaction/transaction-icon.tsx","webpack:///./src/app/components/transaction/transaction-type-icon-wrapper.tsx","webpack:///./src/app/components/transaction/transaction-type-icon.tsx","webpack:///./src/app/components/transaction/transaction-icon-wrapper.tsx","webpack:///./src/app/components/stacks-transaction-item/stacks-transaction-icon.tsx","webpack:///./src/app/components/stacks-transaction-item/stacks-transaction-status.tsx","webpack:///./src/app/components/stacks-transaction-item/stacks-transaction-item.tsx","webpack:///./src/shared/actions/finalize-tx-signature-format.ts","webpack:///./src/shared/actions/finalize-tx-signature.ts","webpack:///./src/app/common/get-error-message.ts","webpack:///./src/app/store/submitted-transactions/submitted-transactions.actions.ts","webpack:///./src/app/store/submitted-transactions/submitted-transactions.selectors.ts","webpack:///./src/app/store/submitted-transactions/submitted-transactions.hooks.ts","webpack:///./src/app/common/hooks/use-submit-stx-transaction.ts","webpack:///./src/app/common/transactions/stacks/post-condition.utils.ts","webpack:///./src/app/common/transactions/stacks/generate-unsigned-txs.ts","webpack:///./src/app/features/ledger/flows/stacks-tx-signing/stacks-tx-signing-event-listeners.ts","webpack:///./src/app/store/transactions/post-conditions.hooks.ts","webpack:///./src/app/store/transactions/transaction.hooks.ts","webpack:///./src/app/features/stacks-transaction-request/hooks/use-stacks-transaction-summary.ts","webpack:///./src/app/features/stacks-transaction-request/hooks/use-stacks-broadcast-transaction.tsx","webpack:///./src/app/features/dialogs/increase-fee-dialog/components/fee-multiplier-button.tsx","webpack:///./src/app/features/dialogs/increase-fee-dialog/components/fee-multiplier.tsx","webpack:///./src/app/features/dialogs/increase-fee-dialog/components/increase-fee-field.tsx","webpack:///./src/app/features/dialogs/increase-fee-dialog/increase-stx-fee-dialog.tsx","webpack:///./src/app/features/dialogs/leather-intro-dialog/confetti-config.ts","webpack:///./src/app/features/dialogs/leather-intro-dialog/leather-intro-steps.tsx","webpack:///./src/app/features/dialogs/leather-intro-dialog/leather-intro-dialog.tsx","webpack:///./public/assets/images/unhappy-face-ui.png","webpack:///./src/app/common/clarity-prism.ts","webpack:///./src/app/common/hooks/use-copy-to-clipboard.ts","webpack:///./src/app/query/common/compliance-checker/compliance-checker.query.ts","webpack:///./src/app/ui/utils/prism.tsx","webpack:///./src/app/ui/utils/start-pad.tsx","webpack:///./src/app/ui/components/highlighter.tsx","webpack:///./src/app/ui/components/codeblock.tsx","webpack:///./src/app/features/errors/app-error-boundary.tsx","webpack:///./src/app/common/hooks/use-scroll-lock.ts","webpack:///./src/shared/crypto/bitcoin/bitcoin.utils.ts","webpack:///./src/app/common/utils/create-waitable-action.ts","webpack:///./src/app/features/ledger/generic-flows/tx-signing/ledger-sign-tx.context.ts","webpack:///./src/app/components/layout/divider-separator.tsx","webpack:///./src/app/features/ledger/illustrations/ledger-illu-sign-ledger-transaction.tsx","webpack:///./src/app/features/ledger/components/looking-for-ledger-label.tsx","webpack:///./src/app/features/ledger/components/success-label.tsx","webpack:///./src/app/features/ledger/components/device-approval-status.tsx","webpack:///./src/app/features/ledger/components/ledger-screen-detail.tsx","webpack:///./src/app/ui/utils/capitalize.tsx","webpack:///./src/app/features/ledger/components/ledger-title.tsx","webpack:///./src/app/features/ledger/components/ledger-wrapper.tsx","webpack:///./src/app/features/ledger/generic-steps/approve-ledger-operation/approve-ledger-operation.layout.tsx","webpack:///./src/app/features/ledger/hooks/use-has-approved-transaction.ts","webpack:///./src/app/features/ledger/flows/bitcoin-tx-signing/steps/approve-bitcoin-sign-ledger-tx.tsx","webpack:///./public/assets/images/generic-error.png","webpack:///./src/app/features/ledger/flows/stacks-tx-signing/steps/contract-principal-bug-warning.tsx","webpack:///./src/app/features/ledger/hooks/use-ledger-latest-route-error.hook.ts","webpack:///./src/app/features/ledger/generic-steps/connect-device/connect-ledger-error.tsx","webpack:///./src/app/features/ledger/illustrations/ledger-illu-connect-ledger-error.tsx","webpack:///./src/app/features/ledger/generic-steps/connect-device/connect-ledger-error.layout.tsx","webpack:///./src/app/features/ledger/illustrations/ledger-illu-success.tsx","webpack:///./src/app/features/ledger/generic-steps/connect-device/connect-ledger-success.layout.tsx","webpack:///./src/app/features/ledger/generic-steps/connect-device/connect-ledger-success.tsx","webpack:///./src/app/features/ledger/generic-steps/connect-device/connect-ledger.tsx","webpack:///./src/app/features/ledger/generic-steps/device-busy/device-busy.tsx","webpack:///./src/app/features/ledger/generic-steps/device-busy/device-busy.layout.tsx","webpack:///./src/app/features/ledger/generic-steps/invalid-payload/device-invalid-payload.layout.tsx","webpack:///./src/app/features/ledger/generic-steps/invalid-payload/device-invalid-payload.tsx","webpack:///./src/app/features/ledger/illustrations/ledger-illu-disconnected.tsx","webpack:///./src/app/features/ledger/generic-steps/ledger-disconnected/ledger-disconnected.layout.tsx","webpack:///./src/app/features/ledger/generic-steps/ledger-disconnected/ledger-disconnected.tsx","webpack:///./src/app/features/ledger/illustrations/ledger-illu-transaction-rejected.tsx","webpack:///./src/app/features/ledger/generic-steps/operation-rejected/operation-rejected.layout.tsx","webpack:///./src/app/features/ledger/generic-steps/operation-rejected/operation-rejected.tsx","webpack:///./src/app/features/ledger/generic-steps/public-key-mismatch/public-key-mismatch.layout.tsx","webpack:///./src/app/features/ledger/generic-steps/public-key-mismatch/public-key-mismatch.tsx","webpack:///./src/app/features/ledger/illustrations/ledger-illu-unsupported-browser.tsx","webpack:///./src/app/features/ledger/generic-steps/unsupported-browser/unsupported-browser.layout.tsx","webpack:///./src/app/features/ledger/generic-steps/index.ts","webpack:///./src/app/features/ledger/generic-steps/broadcast-error/broadcast-error.layout.tsx","webpack:///./src/app/features/ledger/generic-steps/broadcast-error/broadcast-error.tsx","webpack:///./src/app/features/ledger/utils/stacks-ledger-utils.ts","webpack:///./src/app/features/ledger/components/ledger-inline-warnings.tsx","webpack:///./src/app/features/ledger/generic-flows/tx-signing/steps/connect-ledger-sign-tx.tsx","webpack:///./src/app/features/ledger/generic-flows/tx-signing/ledger-sign-tx-route-generator.tsx","webpack:///./src/app/features/ledger/generic-flows/tx-signing/tx-signing-flow.tsx","webpack:///./src/app/features/ledger/generic-flows/tx-signing/use-ledger-sign-tx.ts","webpack:///./src/app/features/ledger/hooks/use-ledger-analytics.hook.ts","webpack:///./src/app/features/ledger/flows/bitcoin-tx-signing/ledger-bitcoin-sign-tx-container.tsx","webpack:///./src/app/common/unsafe-auth-response.ts","webpack:///./src/app/features/ledger/flows/jwt-signing/jwt-signing.utils.ts","webpack:///./src/app/features/ledger/flows/jwt-signing/ledger-sign-jwt.context.ts","webpack:///./src/app/features/ledger/flows/jwt-signing/ledger-sign-jwt-container.tsx","webpack:///./src/app/features/ledger/flows/jwt-signing/steps/connect-ledger-sign-jwt.tsx","webpack:///./src/app/features/ledger/flows/jwt-signing/steps/sign-jwt-hash.tsx","webpack:///./src/app/features/ledger/flows/jwt-signing/ledger-sign-jwt.routes.tsx","webpack:///./src/app/features/ledger/generic-flows/request-keys/use-request-ledger-keys.ts","webpack:///./src/app/features/ledger/flows/request-bitcoin-keys/request-bitcoin-keys.utils.ts","webpack:///./src/app/features/ledger/generic-flows/request-keys/ledger-request-keys.context.ts","webpack:///./src/app/features/ledger/generic-flows/request-keys/steps/connect-ledger-request-keys.tsx","webpack:///./src/app/features/ledger/generic-flows/request-keys/ledger-request-keys-route-generator.tsx","webpack:///./src/app/features/ledger/generic-flows/request-keys/request-keys-flow.tsx","webpack:///./src/app/features/ledger/flows/request-bitcoin-keys/ledger-request-bitcoin-keys.tsx","webpack:///./src/app/features/ledger/flows/request-stacks-keys/request-stacks-keys.utils.ts","webpack:///./src/app/features/ledger/flows/request-stacks-keys/ledger-request-stacks-keys.tsx","webpack:///./src/app/features/ledger/hooks/use-verify-matching-stacks-public-key.ts","webpack:///./src/app/common/transactions/stacks/is-sip-10-transfer.ts","webpack:///./src/app/features/ledger/flows/stacks-tx-signing/steps/approve-sign-stacks-ledger-tx.tsx","webpack:///./src/app/features/ledger/flows/stacks-tx-signing/ledger-sign-stacks-tx-container.tsx","webpack:///./src/app/features/ledger/generic-steps/connect-device/connect-ledger-start.tsx","webpack:///./src/app/components/address-displayer/form-address-displayer.tsx","webpack:///./src/app/features/retrieve-taproot-to-native-segwit/components/retrieve-taproot-to-native-segwit.layout.tsx","webpack:///./src/app/features/retrieve-taproot-to-native-segwit/use-generate-retrieve-taproot-funds-tx.tsx","webpack:///./src/app/features/retrieve-taproot-to-native-segwit/retrieve-taproot-to-native-segwit.tsx","webpack:///./src/app/common/authentication/use-cancel-auth-request.ts","webpack:///./src/app/common/hooks/auth/use-app-details.tsx","webpack:///./src/app/components/requester-flag.tsx","webpack:///./src/app/components/item-hover.tsx","webpack:///./src/app/pages/choose-account/components/accounts.tsx","webpack:///./src/app/routes/hooks/use-on-tab-closed.ts","webpack:///./src/app/pages/choose-account/choose-account.tsx","webpack:///./src/app/components/loaders/stx-balance-loader.tsx","webpack:///./src/app/common/format-balance.ts","webpack:///./src/app/components/crypto-asset-item/crypto-asset-item.layout.utils.ts","webpack:///./src/app/components/crypto-asset-item/crypto-asset-item.layout.tsx","webpack:///./src/app/features/asset-list/bitcoin/btc-crypto-asset-item/btc-crypto-asset-item.tsx","webpack:///./src/app/features/asset-list/stacks/stx-crypo-asset-item/stx-crypto-asset-item.tsx","webpack:///./src/app/pages/fund/choose-asset-to-fund/choose-asset-to-fund.tsx","webpack:///./src/app/pages/fund/components/fund.layout.tsx","webpack:///./tests/selectors/fund.selectors.ts","webpack:///./src/app/pages/fund/components/fund-account-tile.tsx","webpack:///./src/app/pages/fund/components/fiat-provider-item.tsx","webpack:///./public/assets/images/fund/fiat-providers/binance-icon.png","webpack:///./public/assets/images/fund/fiat-providers/blockchain.com-icon.png","webpack:///./public/assets/images/fund/fiat-providers/bybit-icon.png","webpack:///./public/assets/images/fund/fiat-providers/coinbase-icon.png","webpack:///./public/assets/images/fund/fiat-providers/crypto.com-icon.png","webpack:///./public/assets/images/fund/fiat-providers/gate.io-icon.png","webpack:///./public/assets/images/fund/fiat-providers/kucoin-icon.png","webpack:///./public/assets/images/fund/fiat-providers/moonpay-icon.png","webpack:///./public/assets/images/fund/fiat-providers/okx-icon.png","webpack:///./public/assets/images/fund/fiat-providers/transak-icon.png","webpack:///./src/app/pages/fund/components/fiat-providers.utils.ts","webpack:///./public/assets/images/fund/qr-code-icon.png","webpack:///./public/assets/images/fund/receive-funds-ellipses.png","webpack:///./src/app/pages/fund/components/icon-components.tsx","webpack:///./src/app/pages/fund/components/receive-funds-item.tsx","webpack:///./src/app/pages/fund/fiat-providers-list.tsx","webpack:///./src/app/pages/fund/fund.tsx","webpack:///./tests/selectors/home.selectors.ts","webpack:///./src/app/features/activity-list/activity-list.utils.ts","webpack:///./public/assets/images/no-activity.png","webpack:///./src/app/features/activity-list/components/no-account-activity.tsx","webpack:///./src/app/features/activity-list/components/pending-transaction-list/pending-transaction-list.layout.tsx","webpack:///./src/app/features/activity-list/components/pending-transaction-list/pending-transaction-list.tsx","webpack:///./src/app/features/activity-list/components/submitted-transaction-list/submitted-transaction-icon.tsx","webpack:///./src/app/features/activity-list/components/submitted-transaction-list/submitted-transaction-list.utils.ts","webpack:///./src/app/features/activity-list/components/submitted-transaction-list/submitted-transaction-item.tsx","webpack:///./src/app/features/activity-list/components/submitted-transaction-list/submitted-transaction-list.layout.tsx","webpack:///./src/app/features/activity-list/components/submitted-transaction-list/submitted-transaction-list.tsx","webpack:///./src/app/features/activity-list/components/tab-wrapper.tsx","webpack:///./src/app/features/activity-list/components/transaction-list/hooks/use-transaction-list-render.ts","webpack:///./src/app/features/activity-list/components/transaction-list/bitcoin-transaction/bitcoin-transaction.tsx","webpack:///./src/app/components/stacks-asset-avatar.tsx","webpack:///./src/app/features/activity-list/components/transaction-list/stacks-transaction/tx-transfer-icon-wrapper.tsx","webpack:///./src/app/features/activity-list/components/transaction-list/stacks-transaction/ft-transfer-item.tsx","webpack:///./src/app/features/activity-list/components/transaction-list/stacks-transaction/stx-transfer-item.tsx","webpack:///./src/app/features/activity-list/components/transaction-list/stacks-transaction/transaction-transfers.tsx","webpack:///./src/app/features/activity-list/components/transaction-list/stacks-transaction/stacks-transaction.tsx","webpack:///./src/app/features/activity-list/components/transaction-list/transaction-list-item.tsx","webpack:///./src/app/features/activity-list/components/transaction-list/transaction-list.layout.tsx","webpack:///./src/app/common/date-utils.ts","webpack:///./src/app/features/activity-list/components/transaction-list/transaction-list.utils.ts","webpack:///./src/app/features/activity-list/components/transaction-list/transactions-by-date.layout.tsx","webpack:///./src/app/features/activity-list/components/transaction-list/transaction-list.tsx","webpack:///./src/app/features/activity-list/activity-list.tsx","webpack:///./src/app/features/feedback-button/feedback-button.tsx","webpack:///./src/app/common/hooks/use-manage-tokens.ts","webpack:///./src/app/query/bitcoin/ordinals/brc20/brc20-tokens.hooks.ts","webpack:///./src/app/components/loaders/brc20-tokens-loader.tsx","webpack:///./src/app/components/loaders/runes-loader.tsx","webpack:///./src/shared/utils/bitflow-sdk.ts","webpack:///./src/app/query/bitflow-sdk/bitflow-available-tokens.query.ts","webpack:///./src/app/pages/swap/swap.utils.ts","webpack:///./src/app/pages/swap/hooks/use-bitflow-swappable-assets.tsx","webpack:///./src/app/common/hooks/use-filtered-sip10-tokens.ts","webpack:///./src/app/components/loaders/sip10-tokens-loader.tsx","webpack:///./src/app/components/loaders/src20-tokens-loader.tsx","webpack:///./src/app/components/loaders/stx20-tokens-loader.tsx","webpack:///./tests/selectors/crypto-asset.selectors.ts","webpack:///./src/app/common/asset-utils.ts","webpack:///./src/app/components/crypto-asset-item/crypto-asset-item-toggle.tsx","webpack:///./src/app/components/crypto-asset-item/crypto-asset-item.tsx","webpack:///./src/app/features/asset-list/bitcoin/brc20-token-asset-list/brc20-token-asset-list.tsx","webpack:///./src/app/features/asset-list/bitcoin/runes-asset-list/runes-asset-list.tsx","webpack:///./src/app/features/asset-list/bitcoin/src20-token-asset-list/src20-token-asset-list.tsx","webpack:///./public/assets/avatars/stx20-avatar-icon.png","webpack:///./src/app/ui/components/avatar/stx20-avatar-icon.tsx","webpack:///./src/app/features/asset-list/stacks/stx20-token-asset-list/stx20-token-asset-list.tsx","webpack:///./src/app/store/accounts/blockchain/stacks/stacks.hooks.ts","webpack:///./src/app/store/accounts/blockchain/utils.ts","webpack:///./src/app/features/asset-list/_components/connect-ledger-asset-button.tsx","webpack:///./src/app/features/asset-list/_components/connect-ledger-asset-item-fallback.tsx","webpack:///./src/app/features/asset-list/stacks/sip10-token-asset-list/sip10-token-asset-item.tsx","webpack:///./src/app/features/asset-list/stacks/sip10-token-asset-list/sip10-token-asset-list.tsx","webpack:///./src/app/features/asset-list/asset-list.tsx","webpack:///./src/app/features/asset-list/manage-tokens/manage-tokens.tsx","webpack:///./src/app/components/loaders/current-bitcoin-signer-loader.tsx","webpack:///./tests/selectors/send.selectors.ts","webpack:///./src/app/features/collectibles/components/collectible-hover.tsx","webpack:///./src/app/features/collectibles/components/collectible-item.layout.tsx","webpack:///./src/app/features/collectibles/components/add-collectible.tsx","webpack:///./src/app/features/collectibles/components/_collectible-types/collectible-placeholder.layout.tsx","webpack:///./src/app/features/collectibles/components/_collectible-types/collectible-audio.tsx","webpack:///./src/app/ui/components/iframe.tsx","webpack:///./src/app/features/collectibles/components/image-unavailable.tsx","webpack:///./src/app/features/collectibles/components/_collectible-types/collectible-iframe.tsx","webpack:///./src/app/features/collectibles/components/_collectible-types/collectible-image.tsx","webpack:///./src/app/features/collectibles/components/_collectible-types/collectible-other.tsx","webpack:///./src/app/components/json.tsx","webpack:///./src/app/features/collectibles/components/_collectible-types/collectible-text.layout.tsx","webpack:///./src/app/features/collectibles/components/_collectible-types/collectible-text.tsx","webpack:///./src/app/features/collectibles/components/bitcoin/inscription-text.tsx","webpack:///./src/app/features/collectibles/components/bitcoin/inscription.tsx","webpack:///./src/app/features/collectibles/components/bitcoin/ordinals.tsx","webpack:///./public/assets/avatars/stamps-avatar-icon.png","webpack:///./src/app/ui/components/avatar/stamps-avatar-icon.tsx","webpack:///./src/app/features/collectibles/components/bitcoin/stamp.tsx","webpack:///./src/app/features/collectibles/components/bitcoin/stamps.tsx","webpack:///./src/app/features/collectibles/components/collectible.layout.tsx","webpack:///./public/assets/images/stacks-nft-bns.png","webpack:///./src/app/features/collectibles/components/stacks/stacks-bns-name.tsx","webpack:///./src/app/features/collectibles/components/stacks/stacks-non-fungible-tokens.tsx","webpack:///./src/app/features/collectibles/components/stacks/stacks-crypto-assets.tsx","webpack:///./src/app/features/collectibles/components/taproot-balance-displayer.tsx","webpack:///./src/app/features/collectibles/hooks/use-is-fetching-collectibles.ts","webpack:///./src/app/features/collectibles/collectibles.tsx","webpack:///./src/app/pages/home/components/assets.tsx","webpack:///./src/app/routes/components/modal-background-wrapper.tsx","webpack:///./src/app/common/hooks/use-scale-text.ts","webpack:///./src/app/ui/components/account/account.card.tsx","webpack:///./src/app/pages/home/components/send-button.tsx","webpack:///./src/app/pages/home/components/swaps-disabled-tooltip-label.tsx","webpack:///./src/app/pages/home/components/account-actions.tsx","webpack:///./src/app/pages/home/components/home-tabs.tsx","webpack:///./src/app/pages/home/home.tsx","webpack:///./src/app/ui/components/secret-key/secret-key-grid.tsx","webpack:///./src/app/ui/components/secret-key/secret-key-word.tsx","webpack:///./src/app/ui/components/secret-key/secret-key.layout.tsx","webpack:///./src/app/features/secret-key-displayer/secret-key-displayer.tsx","webpack:///./src/app/pages/onboarding/back-up-secret-key/back-up-secret-key.tsx","webpack:///./src/app/pages/onboarding/sign-in/hooks/use-sign-in.ts","webpack:///./src/app/common/form-utils.ts","webpack:///./src/app/ui/components/secret-key/mnemonic-key/mnemonic-word-input.tsx","webpack:///./src/app/ui/components/secret-key/mnemonic-key/utils/error-handling.ts","webpack:///./src/app/ui/components/secret-key/mnemonic-key/utils/validation.ts","webpack:///./src/app/pages/onboarding/sign-in/mnemonic-form.tsx","webpack:///./src/app/pages/onboarding/sign-in/sign-in.tsx","webpack:///./src/app/pages/onboarding/welcome/welcome.layout.tsx","webpack:///./src/app/pages/onboarding/welcome/welcome.tsx","webpack:///./src/app/common/utils/copy-to-clipboard.ts","webpack:///./src/app/routes/hooks/use-background-location-redirect.ts","webpack:///./src/app/pages/receive/components/receive-tokens.layout.tsx","webpack:///./src/app/pages/receive/receive-btc.tsx","webpack:///./src/app/pages/receive/receive-stx.tsx","webpack:///./src/app/components/generic-error/generic-error.layout.tsx","webpack:///./src/app/components/generic-error/generic-error.tsx","webpack:///./src/app/pages/request-error/request-error.tsx","webpack:///./src/app/pages/send/broadcast-error/components/broadcast-error.layout.tsx","webpack:///./src/app/pages/send/broadcast-error/broadcast-error.tsx","webpack:///./src/app/pages/send/ordinal-inscription/hooks/use-send-inscription-route-state.ts","webpack:///./src/app/pages/send/ordinal-inscription/components/create-utxo-from-inscription.ts","webpack:///./src/app/pages/send/ordinal-inscription/components/send-inscription-loader.tsx","webpack:///./src/app/pages/send/ordinal-inscription/components/send-inscription-container.tsx","webpack:///./src/app/components/bitcoin-fees-list/components/fees-list-error.tsx","webpack:///./src/app/components/bitcoin-fees-list/components/fees-list-item.tsx","webpack:///./src/app/components/bitcoin-fees-list/bitcoin-fees-list.tsx","webpack:///./src/app/components/bitcoin-custom-fee/bitcoin-custom-fee.tsx","webpack:///./src/app/features/bitcoin-choose-fee/components/choose-fee-amount.tsx","webpack:///./src/app/features/bitcoin-choose-fee/components/choose-fee-subtitle.tsx","webpack:///./src/app/features/bitcoin-choose-fee/components/choose-fee-tabs.tsx","webpack:///./src/app/features/bitcoin-choose-fee/components/insufficient-balance-error.tsx","webpack:///./src/app/features/bitcoin-choose-fee/bitcoin-choose-fee.tsx","webpack:///./src/app/features/bitcoin-choose-fee/hooks/use-validate-bitcoin-spend.ts","webpack:///./src/app/pages/send/ordinal-inscription/coinselect/select-inscription-coins.ts","webpack:///./src/app/pages/send/ordinal-inscription/hooks/use-generate-ordinal-tx.ts","webpack:///./src/app/pages/send/ordinal-inscription/hooks/use-send-inscription-fees-list.ts","webpack:///./src/shared/forms/address-validators.ts","webpack:///./src/app/common/send/utils.ts","webpack:///./src/app/common/validation/forms/compliance-validators.ts","webpack:///./src/app/components/field-error.tsx","webpack:///./src/app/components/inscription-preview-card/components/inscription-image.tsx","webpack:///./src/app/components/inscription-preview-card/components/inscription-preview-container.tsx","webpack:///./src/app/components/inscription-preview-card/components/inscription-text.tsx","webpack:///./src/app/components/inscription-preview-card/components/inscription-preview.tsx","webpack:///./src/app/components/inscription-preview-card/components/inscription-metadata.tsx","webpack:///./src/app/components/inscription-preview-card/inscription-preview-card.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/components/recipient-address-type-field.tsx","webpack:///./src/app/pages/send/ordinal-inscription/components/collectible-asset.tsx","webpack:///./src/app/pages/send/ordinal-inscription/send-indcription-form-loader.tsx","webpack:///./src/app/pages/send/ordinal-inscription/send-inscription-form.tsx","webpack:///./src/app/pages/send/ordinal-inscription/hooks/use-send-inscription-form.tsx","webpack:///./src/app/pages/send/ordinal-inscription/send-inscription-choose-fee.tsx","webpack:///./src/app/pages/send/ordinal-inscription/send-inscription-review.tsx","webpack:///./src/app/pages/send/ordinal-inscription/sent-inscription-summary.tsx","webpack:///./src/app/pages/send/ordinal-inscription/ordinal-routes.tsx","webpack:///./src/app/components/broadcast-error-dialog/broadcast-error-dialog.tsx","webpack:///./src/app/features/dialogs/edit-nonce-dialog/components/edit-nonce-field.tsx","webpack:///./src/app/features/dialogs/edit-nonce-dialog/components/edit-nonce-form.tsx","webpack:///./src/app/features/dialogs/edit-nonce-dialog/edit-nonce-dialog.tsx","webpack:///./src/app/features/stacks-high-fee-warning/stacks-high-fee-warning-container.tsx","webpack:///./src/app/pages/send/choose-crypto-asset/send-btc-disabled.tsx","webpack:///./src/app/pages/send/choose-crypto-asset/choose-crypto-asset.tsx","webpack:///./public/assets/illustrations/wax-seal.png","webpack:///./src/app/pages/send/send-crypto-asset-form/components/tx-done.tsx","webpack:///./src/app/pages/send/sent-summary/btc-sent-summary.tsx","webpack:///./src/app/pages/send/sent-summary/stx-sent-summary.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/components/recipient-accounts-dialog/account-list-item.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/components/recipient-accounts-dialog/recipient-accounts-dialog.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/family/bitcoin/components/send-bitcoin-asset-container.tsx","webpack:///./src/app/common/transactions/bitcoin/use-generate-bitcoin-tx.ts","webpack:///./src/app/common/transactions/bitcoin/fees/calculate-max-bitcoin-spend.ts","webpack:///./src/app/pages/send/send-crypto-asset-form/family/bitcoin/hooks/use-calculate-max-spend.ts","webpack:///./src/app/pages/send/send-crypto-asset-form/hooks/use-send-form-navigate.ts","webpack:///./src/app/pages/send/send-crypto-asset-form/form/btc/use-btc-choose-fee.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/form/btc/btc-choose-fee.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/components/amount-field.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/components/selected-asset-field.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/components/send-fiat-value.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/components/recipient-accounts-dialog/select-account-button.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/components/recipient-fields/hooks/use-recipient-bns-name.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/components/recipient-fields/hooks/use-recipient-select-fields.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/components/recipient-type-dropdown/recipient-type-dropdown.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/components/recipient-fields/components/recipient-address-displayer.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/components/recipient-fields/recipient-bns-name-type-field.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/components/recipient-fields/recipient-field.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/family/bitcoin/components/bitcoin-recipient-field.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/family/bitcoin/hooks/use-send-max.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/family/bitcoin/components/bitcoin-send-max-button.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/hooks/use-send-form-route-state.ts","webpack:///./src/app/pages/send/send-crypto-asset-form/send-form.utils.ts","webpack:///./src/app/common/validation/forms/address-validators.ts","webpack:///./src/app/common/validation/forms/amount-validators.ts","webpack:///./src/app/features/popup-send-form-restoration/use-update-persisted-send-form-values.ts","webpack:///./src/app/pages/send/send-crypto-asset-form/form/btc/use-btc-send-form.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/form/btc/btc-send-form.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/form/btc/btc-send-form-confirmation.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/components/send-max-button.tsx","webpack:///./src/app/common/hooks/use-convert-to-fiat-amount.ts","webpack:///./src/app/common/warning-messages.ts","webpack:///./src/app/components/fees-row/components/custom-fee-field.tsx","webpack:///./src/app/components/fees-row/components/fee-estimate-item.tsx","webpack:///./src/app/common/hooks/use-onclickoutside.ts","webpack:///./src/app/components/fees-row/components/fee-estimate-select.layout.tsx","webpack:///./src/app/components/fees-row/components/fee-estimate-select.tsx","webpack:///./src/app/components/sponsored-label.tsx","webpack:///./src/app/components/fees-row/components/fees-row.layout.tsx","webpack:///./src/app/components/fees-row/components/transaction-fee.tsx","webpack:///./src/app/components/fees-row/fees-row.tsx","webpack:///./src/app/components/nonce-setter.tsx","webpack:///./src/app/features/stacks-high-fee-warning/stacks-high-fee-dialog.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/components/memo-field.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/family/stacks/components/stacks-recipient-field.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/form/stacks/stacks-common-send-form.tsx","webpack:///./src/app/store/transactions/token-transfer.hooks.ts","webpack:///./src/app/common/validation/forms/memo-validators.ts","webpack:///./src/app/common/validation/forms/recipient-validators.ts","webpack:///./src/app/common/validation/nonce-validators.ts","webpack:///./src/app/pages/send/send-crypto-asset-form/family/stacks/use-stacks-common-send-form.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/form/sip10/use-sip10-send-form.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/form/sip10/sip10-token-send-form-container.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/form/sip10/sip10-token-send-form.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/form/send-form-confirmation.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/form/stacks/stacks-send-form-confirmation.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/form/stx/use-stx-send-form.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/form/stx/stx-send-form.tsx","webpack:///./src/app/pages/send/send-crypto-asset-form/send-crypto-asset-form.routes.tsx","webpack:///./src/app/store/transactions/contract-call.hooks.ts","webpack:///./src/app/pages/swap/bitflow-swap.utils.ts","webpack:///./src/app/pages/swap/swap.context.ts","webpack:///./src/app/pages/swap/hooks/use-swap-form.tsx","webpack:///./src/app/pages/swap/components/swap-form.tsx","webpack:///./src/app/pages/swap/hooks/use-swap-navigate.ts","webpack:///./tests/selectors/swap.selectors.ts","webpack:///./src/app/pages/swap/components/swap-asset-dialog/components/swap-asset-item.tsx","webpack:///./src/app/pages/swap/components/swap-asset-dialog/components/swap-asset-list.tsx","webpack:///./src/app/pages/swap/components/swap-asset-dialog/swap-asset-dialog-base.tsx","webpack:///./src/app/pages/swap/components/swap-asset-dialog/swap-asset-dialog-quote.tsx","webpack:///./src/app/pages/swap/components/swap-error.tsx","webpack:///./src/app/pages/swap/components/swap-assets-pair/swap-asset-item.layout.tsx","webpack:///./src/app/pages/swap/components/swap-assets-pair/swap-assets-pair.layout.tsx","webpack:///./src/app/pages/swap/components/swap-assets-pair/swap-assets-pair.tsx","webpack:///./src/app/pages/swap/components/swap-details/swap-detail.layout.tsx","webpack:///./src/app/pages/swap/components/swap-details/swap-details.layout.tsx","webpack:///./src/app/pages/swap/components/swap-details/swap-details.tsx","webpack:///./src/app/pages/swap/components/swap-review.tsx","webpack:///./src/app/pages/swap/components/swap-asset-select/components/swap-amount-field.tsx","webpack:///./src/app/pages/swap/components/swap-asset-select/components/select-asset-trigger-button.tsx","webpack:///./src/app/pages/swap/components/swap-asset-select/components/swap-asset-selected.tsx","webpack:///./src/app/pages/swap/components/swap-asset-select/components/swap-toggle-button.tsx","webpack:///./src/app/pages/swap/components/swap-asset-select/components/swap-asset-select.layout.tsx","webpack:///./src/app/pages/swap/components/swap-asset-select/swap-asset-select-base.tsx","webpack:///./src/app/pages/swap/components/swap-asset-select/swap-asset-select-quote.tsx","webpack:///./src/app/pages/swap/swap.tsx","webpack:///./src/app/pages/swap/generate-swap-routes.tsx","webpack:///./src/app/pages/swap/hooks/use-bitflow-swap.tsx","webpack:///./src/app/pages/swap/hooks/use-stacks-broadcast-swap.tsx","webpack:///./src/app/pages/swap/bitflow-swap-container.tsx","webpack:///./src/app/pages/unauthorized-request/unauthorized-request.tsx","webpack:///./src/app/common/hooks/use-interval.ts","webpack:///./src/app/common/hooks/use-waiting-message.ts","webpack:///./src/app/components/request-password.tsx","webpack:///./src/app/features/container/headers/unlock.header.tsx","webpack:///./src/app/pages/unlock.tsx","webpack:///./src/app/pages/view-secret-key/view-secret-key.tsx","webpack:///./src/app/pages/receive/components/receive-item.tsx","webpack:///./src/app/pages/receive/components/receive-collectibles.tsx","webpack:///./src/app/pages/receive/components/receive-tokens.tsx","webpack:///./src/app/pages/receive/receive-dialog.tsx","webpack:///./src/app/pages/receive/components/receive-btc-warning.tsx","webpack:///./src/app/pages/receive/receive-ordinal.tsx","webpack:///./src/app/routes/receive-routes.tsx","webpack:///./src/app/features/ledger/flows/stacks-message-signing/ledger-stacks-sign-msg.context.ts","webpack:///./src/app/features/ledger/flows/stacks-message-signing/use-message-type.ts","webpack:///./src/app/features/ledger/flows/stacks-message-signing/ledger-stacks-sign-msg-container.tsx","webpack:///./src/app/features/ledger/flows/stacks-message-signing/steps/connect-ledger-sign-msg.tsx","webpack:///./src/app/features/ledger/flows/stacks-message-signing/message-signing.utils.ts","webpack:///./src/app/features/ledger/flows/stacks-message-signing/steps/sign-stacks-ledger-message.tsx","webpack:///./src/app/features/ledger/flows/stacks-message-signing/ledger-stacks-sign-msg.routes.tsx","webpack:///./tests/selectors/requests.selectors.ts","webpack:///./src/app/features/psbt-signer/psbt-signer.context.ts","webpack:///./src/app/features/psbt-signer/components/psbt-request-details-section-header.tsx","webpack:///./src/app/features/psbt-signer/components/psbt-request-details-section.layout.tsx","webpack:///./src/app/ui/components/tag/tag-with-tooltip.tsx","webpack:///./src/app/features/psbt-signer/components/psbt-inputs-and-outputs/components/psbt-input-output-item.layout.tsx","webpack:///./src/app/features/psbt-signer/components/psbt-inputs-and-outputs/components/psbt-input-list/components/psbt-input-item.tsx","webpack:///./src/app/features/psbt-signer/components/psbt-inputs-and-outputs/components/psbt-input-list/components/psbt-input-list.layout.tsx","webpack:///./src/app/features/psbt-signer/components/psbt-inputs-and-outputs/components/psbt-input-list/psbt-input-list.tsx","webpack:///./src/app/features/psbt-signer/components/psbt-inputs-and-outputs/components/psbt-output-list/components/psbt-output-item.tsx","webpack:///./src/app/features/psbt-signer/components/psbt-inputs-and-outputs/components/psbt-output-list/components/psbt-output-list.layout.tsx","webpack:///./src/app/features/psbt-signer/components/psbt-inputs-and-outputs/components/psbt-output-list/psbt-output-list.tsx","webpack:///./src/app/features/psbt-signer/components/psbt-inputs-and-outputs/psbt-inputs-and-outputs.tsx","webpack:///./src/app/features/psbt-signer/components/psbt-inputs-outputs-totals/components/psbt-address-total-item.tsx","webpack:///./src/app/features/psbt-signer/components/psbt-inputs-outputs-totals/components/psbt-inscription.tsx","webpack:///./src/app/features/psbt-signer/components/psbt-inputs-outputs-totals/components/psbt-address-receive-totals.tsx","webpack:///./src/app/features/psbt-signer/components/psbt-inputs-outputs-totals/components/psbt-address-transfer-totals.tsx","webpack:///./src/app/features/psbt-signer/components/psbt-inputs-outputs-totals/psbt-inputs-outputs-totals.tsx","webpack:///./src/app/features/psbt-signer/components/psbt-request-details-header.tsx","webpack:///./src/app/features/psbt-signer/components/psbt-request-details.layout.tsx","webpack:///./src/app/features/psbt-signer/components/psbt-request-fee.tsx","webpack:///./src/app/features/psbt-signer/components/psbt-request-header.tsx","webpack:///./src/app/features/psbt-signer/components/psbt-request-raw.tsx","webpack:///./src/app/features/psbt-signer/components/psbt-request-sighash-warning-label.tsx","webpack:///./src/app/features/psbt-signer/components/index.ts","webpack:///./src/app/features/psbt-signer/hooks/use-parsed-inputs.tsx","webpack:///./src/app/features/psbt-signer/hooks/use-parsed-outputs.tsx","webpack:///./src/app/features/psbt-signer/hooks/find-outputs-receiving-inscriptions.ts","webpack:///./src/app/features/psbt-signer/hooks/use-psbt-inscriptions.tsx","webpack:///./src/app/features/psbt-signer/hooks/use-psbt-totals.tsx","webpack:///./src/app/features/psbt-signer/hooks/use-psbt-details.tsx","webpack:///./src/app/features/psbt-signer/hooks/use-psbt-signer.tsx","webpack:///./src/app/features/psbt-signer/psbt-signer.tsx","webpack:///./src/shared/actions/finalize-psbt.ts","webpack:///./src/app/common/psbt/requests.ts","webpack:///./src/app/common/psbt/use-psbt-request-params.ts","webpack:///./src/app/pages/psbt-request/use-psbt-request.tsx","webpack:///./src/app/pages/psbt-request/psbt-request.tsx","webpack:///./src/app/features/stacks-message-signer/components/message-signing-disclaimer.tsx","webpack:///./src/app/features/stacks-message-signer/components/stacks-signature-message-content.tsx","webpack:///./src/app/features/stacks-message-signer/components/nested-tuple-displayer.tsx","webpack:///./src/app/features/stacks-message-signer/components/clarity-value-list.tsx","webpack:///./src/app/features/stacks-message-signer/components/structured-data-box.tsx","webpack:///./src/app/features/stacks-message-signer/components/structured-data-content.tsx","webpack:///./src/app/features/stacks-message-signer/stacks-message-signing.tsx","webpack:///./src/shared/actions/finalize-message-signature-format.ts","webpack:///./src/shared/actions/finalize-message-signature.ts","webpack:///./src/shared/crypto/sign-message.ts","webpack:///./src/app/features/stacks-message-signer/stacks-message-signing.utils.ts","webpack:///./src/app/features/ledger/flows/stacks-message-signing/stacks-message-signing-event-listeners.ts","webpack:///./src/app/features/stacks-message-signer/use-sign-stacks-message.ts","webpack:///./src/app/pages/sign-stacks-message-request/use-sign-stacks-message-request.ts","webpack:///./src/app/pages/sign-stacks-message-request/sign-stacks-message-request.tsx","webpack:///./src/app/features/errors/requesting-tab-closed-error-msg.tsx","webpack:///./src/app/features/stacks-transaction-request/principal-value.tsx","webpack:///./src/app/features/stacks-transaction-request/row.tsx","webpack:///./src/app/features/stacks-transaction-request/attachment-row.tsx","webpack:///./src/app/features/stacks-transaction-request/contract-preview.tsx","webpack:///./src/app/features/stacks-transaction-request/contract-call-details/function-argument-item.tsx","webpack:///./src/app/features/stacks-transaction-request/contract-call-details/function-arguments-list.tsx","webpack:///./src/app/features/stacks-transaction-request/contract-call-details/contract-call-details.tsx","webpack:///./src/app/features/stacks-transaction-request/contract-deploy-details/contract-deploy-details.tsx","webpack:///./src/app/features/stacks-transaction-request/fee-form.tsx","webpack:///./src/app/features/stacks-transaction-request/transaction-error/error-message.tsx","webpack:///./src/app/features/stacks-transaction-request/transaction-error/error-messages.tsx","webpack:///./src/app/features/stacks-transaction-request/transaction-error/transaction-error.tsx","webpack:///./src/app/features/stacks-transaction-request/hooks/use-transaction-error.ts","webpack:///./src/app/features/stacks-transaction-request/minimal-error-message.tsx","webpack:///./src/app/features/stacks-transaction-request/hooks/use-stacks-tx-page-title.ts","webpack:///./src/app/features/stacks-transaction-request/page-top.tsx","webpack:///./src/app/features/stacks-transaction-request/post-condition-mode-warning.tsx","webpack:///./src/app/features/stacks-transaction-request/post-conditions/no-post-conditions.tsx","webpack:///./src/app/components/tx-asset-item.tsx","webpack:///./src/app/components/event-card.tsx","webpack:///./src/app/features/stacks-transaction-request/post-conditions/fungible-post-condition-item.tsx","webpack:///./src/app/features/stacks-transaction-request/post-conditions/post-condition-item.tsx","webpack:///./src/app/features/stacks-transaction-request/post-conditions/post-conditions-list.tsx","webpack:///./src/app/features/stacks-transaction-request/post-conditions/stx-post-condition.tsx","webpack:///./src/app/features/stacks-transaction-request/post-conditions/post-conditions.tsx","webpack:///./src/app/features/stacks-transaction-request/stx-transfer-details/stx-transfer-details.tsx","webpack:///./src/app/features/stacks-transaction-request/submit-action.tsx","webpack:///./src/app/pages/transaction-request/transaction-request.tsx","webpack:///./src/app/common/profiles/requests.ts","webpack:///./src/app/store/profiles/requests.hooks.ts","webpack:///./src/app/pages/update-profile-request/components/profile-box.tsx","webpack:///./src/shared/actions/finalize-profile-update.ts","webpack:///./src/app/pages/update-profile-request/components/update-action.layout.tsx","webpack:///./src/app/pages/update-profile-request/components/update-action.tsx","webpack:///./src/app/pages/update-profile-request/components/profile-data-content.tsx","webpack:///./src/app/pages/update-profile-request/components/update-profile-error-msg.tsx","webpack:///./src/app/pages/update-profile-request/components/page-top.tsx","webpack:///./src/app/pages/update-profile-request/components/update-profile-request.layout.tsx","webpack:///./src/app/pages/update-profile-request/update-profile-request.tsx","webpack:///./src/app/routes/request-routes.tsx","webpack:///./src/app/components/favicon-displayer/favicon-displayer.tsx","webpack:///./src/app/pages/rpc-get-addresses/components/get-addresses.layout.tsx","webpack:///./src/app/common/rpc-helpers.ts","webpack:///./src/app/pages/rpc-get-addresses/use-get-addresses.ts","webpack:///./src/app/pages/rpc-get-addresses/rpc-get-addresses.tsx","webpack:///./src/app/pages/rpc-send-transfer/components/send-transfer-details.tsx","webpack:///./src/app/pages/rpc-send-transfer/components/send-transfer-header.tsx","webpack:///./src/app/pages/rpc-send-transfer/use-rpc-send-transfer.ts","webpack:///./src/app/pages/rpc-send-transfer/rpc-send-transfer.tsx","webpack:///./src/app/components/bitcoin-fees-list/use-bitcoin-fees-list-multiple-recipients.ts","webpack:///./src/app/pages/rpc-send-transfer/rpc-send-transfer-container.tsx","webpack:///./src/app/pages/rpc-send-transfer/rpc-send-transfer-choose-fee.tsx","webpack:///./src/app/pages/rpc-send-transfer/components/send-transfer-confirmation-details.tsx","webpack:///./src/app/pages/rpc-send-transfer/rpc-send-transfer-confirmation.tsx","webpack:///./src/app/pages/rpc-send-transfer/rpc-send-transfer-summary.tsx","webpack:///./src/app/pages/rpc-send-transfer/rpc-send-transfer.routes.tsx","webpack:///./src/app/pages/rpc-sign-psbt/use-rpc-sign-psbt.tsx","webpack:///./src/app/pages/rpc-sign-psbt/rpc-sign-psbt.tsx","webpack:///./src/app/pages/rpc-sign-psbt/rpc-sign-psbt-summary.tsx","webpack:///./src/app/pages/rpc-sign-stacks-message/use-rpc-sign-stacks-message.ts","webpack:///./src/app/pages/rpc-sign-stacks-message/rpc-sign-stacks-message.tsx","webpack:///./src/app/features/stacks-transaction-request/stacks-transaction-signer.tsx","webpack:///./src/app/pages/rpc-sign-stacks-transaction/use-rpc-sign-stacks-transaction.ts","webpack:///./src/app/pages/rpc-sign-stacks-transaction/rpc-sign-stacks-transaction.tsx","webpack:///./src/app/routes/rpc-routes.tsx","webpack:///./src/app/routes/app-routes.tsx","webpack:///./src/app/index.css?6264","webpack:///./src/app/app.tsx","webpack:///./src/app/debug.ts","webpack:///./src/app/index.tsx","webpack:///./src/app/query/bitcoin/balance/btc-balance-native-segwit.hooks.ts","webpack:///./src/app/query/common/remote-config/remote-config.query.ts","webpack:///./src/app/routes/account-gate.tsx","webpack:///./src/app/routes/onboarding-gate.tsx","webpack:///./src/app/store/accounts/account.ts","webpack:///./src/app/store/accounts/blockchain/bitcoin/bitcoin-keychain.ts","webpack:///./src/app/store/accounts/blockchain/bitcoin/bitcoin-signer.ts","webpack:///./src/shared/crypto/bitcoin/signer-config.ts","webpack:///./src/shared/rpc/methods/validation.utils.ts","webpack:///./src/shared/rpc/methods/sign-psbt.ts","webpack:///./src/app/features/ledger/flows/bitcoin-tx-signing/bitcoin-tx-signing-event-listeners.ts","webpack:///./src/app/store/accounts/blockchain/bitcoin/bitcoin.hooks.ts","webpack:///./src/app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks.ts","webpack:///./src/app/store/accounts/blockchain/bitcoin/taproot-account.hooks.ts","webpack:///./src/app/store/networks/networks.ts","webpack:///./src/app/store/accounts/blockchain/stacks/stacks-accounts.ts","webpack:///./src/app/store/transactions/transaction.ts","webpack:///./src/app/store/accounts/blockchain/stacks/stacks-account.hooks.ts","webpack:///./src/app/store/app-permissions/app-permissions.slice.ts","webpack:///./src/app/store/chains/stx-chain.selectors.ts","webpack:///./src/app/store/chains/stx-chain.slice.ts","webpack:///./src/app/store/common/wallet-type.selectors.ts","webpack:///./src/app/store/in-memory-key/in-memory-key.actions.ts","webpack:///./src/app/store/in-memory-key/in-memory-key.selectors.ts","webpack:///./src/app/store/in-memory-key/in-memory-key.slice.ts","webpack:///./src/app/store/utils/broadcast-action-types.ts","webpack:///./src/app/store/index.ts","webpack:///./src/app/store/ledger/bitcoin/bitcoin-key.slice.ts","webpack:///./src/app/store/ledger/ledger-chain-key-storage-generator.ts","webpack:///./src/app/store/ledger/ledger.selectors.ts","webpack:///./src/app/store/ledger/stacks/stacks-key.slice.ts","webpack:///./src/app/store/manage-tokens/manage-tokens.slice.ts","webpack:///./src/app/store/networks/networks.actions.ts","webpack:///./src/app/store/networks/networks.hooks.ts","webpack:///./src/app/store/networks/networks.selectors.ts","webpack:///./src/app/store/networks/networks.slice.ts","webpack:///./src/app/store/networks/networks.utils.ts","webpack:///./src/app/store/onboarding/onboarding.ts","webpack:///./src/app/store/onboarding/onboarding.hooks.ts","webpack:///./src/app/store/session-restore.ts","webpack:///./src/app/store/settings/settings.actions.ts","webpack:///./src/app/store/settings/settings.selectors.ts","webpack:///./src/app/store/settings/settings.slice.ts","webpack:///./src/app/store/signatures/requests.hooks.ts","webpack:///./src/shared/workers/index.ts","webpack:///./src/shared/crypto/generate-encryption-key.ts","webpack:///./src/shared/crypto/generate-random-hex.ts","webpack:///./src/shared/crypto/mnemonic-encryption.ts","webpack:///./src/app/common/account-restoration/account-restore.ts","webpack:///./src/app/common/account-restoration/legacy-gaia-config-lookup.ts","webpack:///./src/app/store/accounts/blockchain/stacks/stacks-keychain.ts","webpack:///./src/app/store/software-keys/software-key.actions.ts","webpack:///./src/app/store/software-keys/software-key.selectors.ts","webpack:///./src/app/store/utils/vault-reducer-migration.ts","webpack:///./src/app/store/software-keys/software-key.slice.ts","webpack:///./src/app/store/submitted-transactions/submitted-transactions.slice.ts","webpack:///./src/shared/utils/requests.ts","webpack:///./src/app/store/transactions/requests.hooks.ts","webpack:///./src/app/ui/components/account/account-avatar/account-avatar.tsx","webpack:///./src/app/ui/components/tooltip/tooltip.tsx","webpack:///./src/app/ui/components/tooltip/basic-tooltip.tsx","webpack:///./src/shared/actions/finalize-auth-reaponse-format.ts","webpack:///./src/shared/actions/finalize-auth-response.ts","webpack:///./src/shared/constants.ts","webpack:///./src/shared/crypto/stacks/stacks-address-gen.ts","webpack:///./src/shared/environment.ts","webpack:///./src/shared/logger-storage.ts","webpack:///./src/shared/logger.ts","webpack:///./src/shared/message-types.ts","webpack:///./src/shared/route-urls.ts","webpack:///./src/shared/rpc/rpc-methods.ts","webpack:///./src/shared/signature/signature-types.ts","webpack:///./src/shared/storage/redux-pesist.ts","webpack:///./src/shared/utils.ts","webpack:///./src/shared/utils/analytics.ts","webpack:///./src/shared/utils/text-encoding.ts","webpack:///./src/shared/utils/validate-url.ts","webpack:///./tests/selectors/network.selectors.ts","webpack:///./tests/selectors/onboarding.selectors.ts","webpack:///./tests/selectors/settings.selectors.ts","webpack:///./tests/selectors/shared-component.selectors.ts","webpack:///ignored|/home/runner/work/extension/extension/node_modules/.pnpm/@noble+secp256k1@1.7.1/node_modules/@noble/secp256k1/lib/esm|crypto","webpack:///ignored|/home/runner/work/extension/extension/node_modules/.pnpm/@noble+secp256k1@1.7.1/node_modules/@noble/secp256k1/lib|crypto","webpack:///ignored|/home/runner/work/extension/extension/node_modules/.pnpm/@stacks+encryption@6.15.0/node_modules/@stacks/encryption/dist/esm|crypto","webpack:///ignored|/home/runner/work/extension/extension/node_modules/.pnpm/bn.js@4.12.0/node_modules/bn.js/lib|buffer","webpack:///ignored|/home/runner/work/extension/extension/node_modules/.pnpm/bn.js@5.2.1/node_modules/bn.js/lib|buffer","webpack:///ignored|/home/runner/work/extension/extension/node_modules/.pnpm/brorand@1.1.0/node_modules/brorand|crypto","webpack:///ignored|/home/runner/work/extension/extension/node_modules/.pnpm/dotenv@16.4.5/node_modules/dotenv/lib|fs","webpack:///ignored|/home/runner/work/extension/extension/node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/cryptoClients|crypto","webpack:///ignored|/home/runner/work/extension/extension/node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/internal/streams|util","webpack:///ignored|/home/runner/work/extension/extension/node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib|util","webpack:///ignored|/home/runner/work/extension/extension/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams|util","webpack:///ignored|/home/runner/work/extension/extension/node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib|util","webpack:///./leather-styles/css/conditions.js","webpack:///./leather-styles/css/css.js","webpack:///./leather-styles/css/cva.js","webpack:///./leather-styles/css/cx.js","webpack:///./leather-styles/css/sva.js","webpack:///./leather-styles/css/index.js","webpack:///./leather-styles/helpers.js","webpack:///./leather-styles/jsx/is-valid-prop.js","webpack:///./leather-styles/jsx/factory-helper.js","webpack:///./leather-styles/jsx/factory.js","webpack:///./leather-styles/patterns/box.js","webpack:///./leather-styles/jsx/box.js","webpack:///./leather-styles/patterns/flex.js","webpack:///./leather-styles/jsx/flex.js","webpack:///./leather-styles/patterns/stack.js","webpack:///./leather-styles/jsx/stack.js","webpack:///./leather-styles/patterns/vstack.js","webpack:///./leather-styles/jsx/vstack.js","webpack:///./leather-styles/patterns/hstack.js","webpack:///./leather-styles/jsx/hstack.js","webpack:///./leather-styles/patterns/spacer.js","webpack:///./leather-styles/jsx/spacer.js","webpack:///./leather-styles/patterns/square.js","webpack:///./leather-styles/jsx/square.js","webpack:///./leather-styles/patterns/circle.js","webpack:///./leather-styles/jsx/circle.js","webpack:///./leather-styles/patterns/center.js","webpack:///./leather-styles/jsx/center.js","webpack:///./leather-styles/patterns/link-overlay.js","webpack:///./leather-styles/jsx/link-overlay.js","webpack:///./leather-styles/patterns/aspect-ratio.js","webpack:///./leather-styles/jsx/aspect-ratio.js","webpack:///./leather-styles/patterns/grid.js","webpack:///./leather-styles/jsx/grid.js","webpack:///./leather-styles/patterns/grid-item.js","webpack:///./leather-styles/jsx/grid-item.js","webpack:///./leather-styles/patterns/wrap.js","webpack:///./leather-styles/jsx/wrap.js","webpack:///./leather-styles/patterns/container.js","webpack:///./leather-styles/jsx/container.js","webpack:///./leather-styles/patterns/divider.js","webpack:///./leather-styles/jsx/divider.js","webpack:///./leather-styles/patterns/float.js","webpack:///./leather-styles/jsx/float.js","webpack:///./leather-styles/patterns/bleed.js","webpack:///./leather-styles/jsx/bleed.js","webpack:///./leather-styles/patterns/visually-hidden.js","webpack:///./leather-styles/jsx/visually-hidden.js","webpack:///./leather-styles/patterns/cq.js","webpack:///./leather-styles/jsx/cq.js","webpack:///./leather-styles/jsx/index.js","webpack:///./leather-styles/recipes/create-recipe.js","webpack:///./leather-styles/recipes/button.js","webpack:///./leather-styles/recipes/link.js","webpack:///./leather-styles/recipes/index.js","webpack:///./leather-styles/tokens/index.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/amd options","webpack:///webpack/runtime/chunk loaded","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/create fake namespace object","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/ensure chunk","webpack:///webpack/runtime/get javascript chunk filename","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/load script","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/node module decorator","webpack:///webpack/runtime/publicPath","webpack:///webpack/runtime/jsonp chunk loading","webpack:///webpack/runtime/nonce","webpack:///webpack/before-startup","webpack:///webpack/startup","webpack:///webpack/after-startup"],"sourcesContent":["var map = {\n\t\"./connect-modal.entry.js\": [\n\t\t44224,\n\t\t224\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 96172;\nmodule.exports = webpackAsyncContext;","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.94.0_@swc+core@1.7.18_esbuild@0.24.0_webpack-cli@5.1.4_webpack-bun_pmkgp2ksjqwfhthqj2qrdfhw2a/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.94.0_@swc+core@1.7.18_esbuild@0.24.0_webpack-cli@5.1.4_webpack-bun_pmkgp2ksjqwfhthqj2qrdfhw2a/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `@keyframes contentShow{0%{opacity:0;transform:translate(-50%,-48%) scale(0.96)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}@keyframes fadein{0%{opacity:0}to{opacity:1}}@keyframes fadeout{0%{opacity:1}to{opacity:0}}@keyframes shine{0%{background-position:-50px}to{background-position:500px}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(360deg)}}@keyframes animatedTick{0%{stroke-dashoffset:350}to{stroke-dashoffset:0}}@keyframes slideUpAndFade{0%{opacity:0;transform:translateY(2px)}to{opacity:1;transform:translateY(0)}}@keyframes slideRightAndFade{0%{opacity:0;transform:translateX(-2px)}to{opacity:1;transform:translateX(0)}}@keyframes slideDownAndFade{0%{opacity:0;transform:translateY(-2px)}to{opacity:1;transform:translateY(0)}}@keyframes slideLeftAndFade{0%{opacity:0;transform:translateX(2px)}to{opacity:1;transform:translateX(0)}}@keyframes slideDownAndOut{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(4px)}}@keyframes slideDown{0%{max-height:0}to{max-height:1000px}}@keyframes slideUp{0%{max-height:1000px}to{max-height:0}}@keyframes toastAppear{0%{opacity:0;transform:translateY(-12px) scale(0.9)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes shimmer{to{-webkit-mask-position:left;mask-position:left}}:host,html{--font-fallback:ui-sans-serif,system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-tap-highlight-color:transparent;line-height:1.5;font-family:ui-sans-serif,system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';font-family:var(--global-font-body,var(--font-fallback))}*,::backdrop,::file-selector-button,:after,:before{margin:0px;padding:0px;box-sizing:border-box;border-width:0px;border-style:solid;border-color:currentColor;border-color:var(--global-color-border,currentColor)}hr{height:0px;color:inherit;border-top-width:1px}body{height:100%;line-height:inherit}img{border-style:none}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}h1,h2,h3,h4,h5,h6{text-wrap:balance;font-size:inherit;font-weight:inherit}h1,h2,h3,h4,h5,h6,p{word-wrap:break-word}menu,ol,ul{list-style:none}::file-selector-button,button,input:where([type=button],[type=reset],[type=submit]){-moz-appearance:button;appearance:button;-webkit-appearance:button}::file-selector-button,button,input,optgroup,select,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;background:transparent}::-moz-placeholder{opacity:1;--placeholder-fallback:color-mix(in srgb,currentColor 50%,transparent);color:color-mix(in srgb,currentColor 50%,transparent);color:var(--global-color-placeholder,var(--placeholder-fallback))}::placeholder{opacity:1;--placeholder-fallback:color-mix(in srgb,currentColor 50%,transparent);color:color-mix(in srgb,currentColor 50%,transparent);color:var(--global-color-placeholder,var(--placeholder-fallback))}textarea{resize:vertical}table{text-indent:0px;border-collapse:collapse;border-color:inherit}summary{display:list-item}small{font-size:80%}sub,sup{position:relative;vertical-align:baseline;font-size:75%;line-height:0}sub{bottom:-0.25em}sup{top:-0.5em}dialog{padding:0px}a{color:inherit;text-decoration:inherit}abbr:where([title]){text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,pre,samp{--font-mono-fallback:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New';font-feature-settings:normal;font-variation-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New';font-family:var(--global-font-mono,var(--font-mono-fallback));font-size:1em}progress{vertical-align:baseline}::-webkit-search-cancel-button,::-webkit-search-decoration{-webkit-appearance:none}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}:-moz-ui-invalid{box-shadow:none}:-moz-focusring{outline:auto}[hidden]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){display:none!important}:root:not(#\\\\#){--made-with-panda:''}button:not(#\\\\#){cursor:pointer}body:not(#\\\\#),html:not(#\\\\#){background-color:var(--leather-colors-ink-background-primary)}html:not(#\\\\#) ::-webkit-scrollbar{display:none;width:0}body.no-scroll:not(#\\\\#),body.no-scroll:not(#\\\\#) .main-content{overflow:hidden}.mode__full-page:not(#\\\\#),.mode__full-page:not(#\\\\#) .radix-themes,.mode__full-page:not(#\\\\#) body,.mode__full-page:not(#\\\\#) main{height:100%;max-height:none;max-height:initial;width:100%}.mode__full-page:not(#\\\\#) .main-content{margin:0 auto;flex-grow:1;justify-content:center}.mode__popup:not(#\\\\#),.mode__popup:not(#\\\\#) body{height:100%;width:100%;min-height:600px;max-width:640px;margin:0 auto}.mode__action-popup:not(#\\\\#) body,.mode__action-popup:not(#\\\\#) html{min-width:390px;max-width:390px;min-height:600px;max-height:600px;margin:0 auto}*:not(#\\\\#),:not(#\\\\#)::backdrop,:not(#\\\\#):after,:not(#\\\\#):before{--blur: ;--brightness: ;--contrast: ;--grayscale: ;--hue-rotate: ;--invert: ;--saturate: ;--sepia: ;--drop-shadow: ;--backdrop-blur: ;--backdrop-brightness: ;--backdrop-contrast: ;--backdrop-grayscale: ;--backdrop-hue-rotate: ;--backdrop-invert: ;--backdrop-opacity: ;--backdrop-saturate: ;--backdrop-sepia: ;--gradient-from-position: ;--gradient-to-position: ;--gradient-via-position: ;--scroll-snap-strictness:proximity;--border-spacing-x:0;--border-spacing-y:0;--translate-x:0;--translate-y:0;--rotate:0;--rotate-x:0;--rotate-y:0;--skew-x:0;--skew-y:0;--scale-x:1;--scale-y:1}:where(:root,:host):not(#\\\\#):not(#\\\\#){--leather-animations-spin:spin 1s linear infinite;--leather-borders-action:1px solid var(--leather-colors-ink-action-primary-default);--leather-borders-active:2px solid var(--leather-colors-ink-border-default);--leather-borders-background:2px solid var(--leather-colors-ink-background-primary);--leather-borders-dashed:2px dashed var(--leather-colors-ink-component-background-default);--leather-borders-default:1px solid var(--leather-colors-ink-border-default);--leather-borders-error:1px solid var(--leather-colors-red-border);--leather-borders-focus:2px solid var(--leather-colors-ink-action-primary-default);--leather-borders-invert:1px solid var(--leather-colors-invert);--leather-borders-subdued:1px solid var(--leather-colors-ink-text-subdued);--leather-borders-warning:1px solid var(--leather-colors-yellow-border);--leather-colors-current:currentColor;--leather-colors-overlay:rgba(0,0,0,0.4);--leather-radii-xs:2px;--leather-radii-sm:4px;--leather-radii-md:8px;--leather-radii-lg:12px;--leather-sizes-xs:12px;--leather-sizes-sm:16px;--leather-sizes-md:24px;--leather-sizes-lg:32px;--leather-sizes-xl:36px;--leather-sizes-xxl:40px;--leather-sizes-page-width:500px;--leather-sizes-two-column-page-width:500px;--leather-sizes-full-page-max-width:882px;--leather-sizes-dialog-height:600px;--leather-sizes-dialog-content-height:500px;--leather-sizes-header-height:80px;--leather-sizes-footer-height:95px;--leather-sizes-popup-width:390px;--leather-sizes-popup-max-width:640px;--leather-sizes-popup-height:756px;--leather-sizes-popup-header-height:68px;--leather-sizes-header-container-height:40px;--leather-sizes-input-height:64px;--leather-sizes-icon-button-with-label-width:64px;--leather-sizes-settings-menu-width:240px;--leather-sizes-breakpoint-sm:398px;--leather-sizes-breakpoint-md:768px;--leather-sizes-breakpoint-lg:1024px;--leather-sizes-breakpoint-xl:1280px;--leather-sizes-breakpoint-2xl:1536px;--leather-spacing-space\\\\.00:0;--leather-spacing-space\\\\.01:4px;--leather-spacing-space\\\\.02:8px;--leather-spacing-space\\\\.03:12px;--leather-spacing-space\\\\.04:16px;--leather-spacing-space\\\\.05:24px;--leather-spacing-space\\\\.06:32px;--leather-spacing-space\\\\.07:40px;--leather-spacing-space\\\\.08:48px;--leather-spacing-space\\\\.09:64px;--leather-spacing-space\\\\.10:72px;--leather-spacing-space\\\\.11:128px;--leather-transition:all 0.2s cubic-bezier(0.23,1,0.32,1);--leather-breakpoints-sm:398px;--leather-breakpoints-md:768px;--leather-breakpoints-lg:1024px;--leather-breakpoints-xl:1280px;--leather-breakpoints-2xl:1536px;--leather-colors-ink-text-primary:#12100F;--leather-colors-ink-text-subdued:#948677;--leather-colors-ink-action-primary-hover:#4A423B;--leather-colors-ink-action-primary-default:#12100F;--leather-colors-ink-border-transparent:rgba(18,16,15,0.10196);--leather-colors-ink-border-default:#EAE5E0;--leather-colors-ink-text-non-interactive:#D8CEC4;--leather-colors-ink-component-background-non-interactive:#F5F1ED;--leather-colors-ink-component-background-pressed:rgba(177,151,123,0.2);--leather-colors-ink-component-background-hover:rgba(177,151,123,0.10196);--leather-colors-ink-component-background-default:#F5F1ED;--leather-colors-ink-background-overlay:rgba(18,16,15,0.4);--leather-colors-ink-background-secondary:#F5F1ED;--leather-colors-ink-background-primary:#FFFFFF;--leather-colors-red-text-primary:#38191A;--leather-colors-red-action-primary-default:#FF2E3C;--leather-colors-red-border:#FAC3C6;--leather-colors-red-background-secondary:#FFABB1;--leather-colors-red-background-primary:#FCEEED;--leather-colors-blue-text-primary:#0C2644;--leather-colors-blue-action-primary-default:#004EA6;--leather-colors-blue-border:#B4D7FF;--leather-colors-blue-background-secondary:#9BCAFF;--leather-colors-blue-background-primary:#E6F2FF;--leather-colors-yellow-text-primary:#473D1C;--leather-colors-yellow-action-primary-default:#A98D29;--leather-colors-yellow-border:#FBE699;--leather-colors-yellow-background-secondary:#F7CD33;--leather-colors-yellow-background-primary:#FEF9E6;--leather-colors-green-text-primary:#1A3124;--leather-colors-green-action-primary-default:#00753A;--leather-colors-green-border:#B2DFC8;--leather-colors-green-background-secondary:#99D8B9;--leather-colors-green-background-primary:#E6F5ED;--leather-colors-invert:#34312A;--leather-colors-stacks:#5546FF}.dark:not(#\\\\#):not(#\\\\#){--leather-colors-ink-text-primary:#F5F1ED;--leather-colors-ink-text-subdued:#CFC8BB;--leather-colors-ink-action-primary-hover:#CFC8BB;--leather-colors-ink-action-primary-default:#F5F1ED;--leather-colors-ink-border-transparent:rgba(245,241,237,0.2);--leather-colors-ink-border-default:#554D44;--leather-colors-ink-text-non-interactive:#716A60;--leather-colors-ink-component-background-non-interactive:#34312A;--leather-colors-ink-component-background-pressed:rgba(113,106,96,0.45098);--leather-colors-ink-component-background-hover:rgba(113,106,96,0.30196);--leather-colors-ink-component-background-default:#24231E;--leather-colors-ink-background-overlay:rgba(18,16,15,0.4);--leather-colors-ink-background-secondary:#12100F;--leather-colors-ink-background-primary:#1B1A17;--leather-colors-red-text-primary:#34312A;--leather-colors-red-action-primary-default:#FF2E3C;--leather-colors-red-border:#AB1F29;--leather-colors-red-background-secondary:#4F1A1D;--leather-colors-red-background-primary:#38191A;--leather-colors-blue-text-primary:#E6F2FF;--leather-colors-blue-action-primary-default:#057AFF;--leather-colors-blue-border:#004EA6;--leather-colors-blue-background-secondary:#092F5A;--leather-colors-blue-background-primary:#0C2644;--leather-colors-yellow-text-primary:#FEF9E6;--leather-colors-yellow-action-primary-default:#F5C000;--leather-colors-yellow-border:#D8B021;--leather-colors-yellow-background-secondary:#5C4F21;--leather-colors-yellow-background-primary:#473D1C;--leather-colors-green-text-primary:#E6F5ED;--leather-colors-green-action-primary-default:#009E4F;--leather-colors-green-border:#00753A;--leather-colors-green-background-secondary:#19422C;--leather-colors-green-background-primary:#1A3124;--leather-colors-invert:#FFFFFF;--leather-colors-stacks:#7F80FF }.leather-button:not(#\\\\#):not(#\\\\#):not(#\\\\#){position:relative;border-radius:var(--leather-radii-xs);font-family:Diatype;font-size:0.9375rem;font-weight:500;line-height:1.2500rem}.leather-link:not(#\\\\#):not(#\\\\#):not(#\\\\#){-moz-appearance:none;appearance:none;-webkit-appearance:none;display:inline;padding:0;padding:initial;position:relative;text-align:left;margin-bottom:var(--leather-spacing-space\\\\.01);padding-top:var(--leather-spacing-space\\\\.01)}.leather-button--size_md:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:var(--leather-spacing-space\\\\.04);padding-right:var(--leather-spacing-space\\\\.04);padding-top:var(--leather-spacing-space\\\\.03);padding-bottom:var(--leather-spacing-space\\\\.03)}.leather-button--variant_solid:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-action-primary-default);color:var(--leather-colors-ink-background-primary)}.leather-button--variant_solid:disabled:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-background-secondary);color:var(--leather-colors-ink-text-non-interactive);cursor:not-allowed}.leather-button--variant_solid[disabled]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.leather-button--variant_solid[data-disabled]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-background-secondary);color:var(--leather-colors-ink-text-non-interactive);cursor:not-allowed}.leather-button--variant_solid:disabled:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-background-secondary)}.leather-button--variant_solid[data-hover]:disabled:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-background-secondary)}.leather-button--variant_solid[disabled]:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.leather-button--variant_solid[disabled][data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.leather-button--variant_solid[data-disabled]:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.leather-button--variant_solid[data-disabled][data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-background-secondary)}.leather-button--variant_solid[data-loading]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.leather-button--variant_solid[aria-busy=true]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:transparent!important}.leather-button--variant_solid[data-loading]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):after{animation:var(--leather-animations-spin);border:2px solid;box-sizing:border-box;display:inline-block;height:20px;position:absolute;border-radius:50%;width:20px;border-color:var(--leather-colors-ink-action-primary-default);border-bottom-color:transparent;content:\"\";left:calc(50% - 10px);top:calc(50% - 10px)}.leather-button--variant_solid[aria-busy=true]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):after{animation:var(--leather-animations-spin);border:2px solid;box-sizing:border-box;display:inline-block;height:20px;position:absolute;border-radius:50%;width:20px;border-color:var(--leather-colors-ink-action-primary-default);border-bottom-color:transparent;content:\"\";left:calc(50% - 10px);top:calc(50% - 10px)}.leather-button--variant_solid:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.leather-button--variant_solid[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-action-primary-hover)}.leather-button--variant_solid:active:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-action-primary-default)}.leather-button--variant_solid[data-active]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-action-primary-default)}.leather-button--variant_solid:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{border:3px solid var(--leather-colors-blue-border)}.leather-button--variant_solid[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{border:3px solid var(--leather-colors-blue-border)}.leather-button--fullWidth_true:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:100%}.leather-button--variant_outline:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:1px solid var(--leather-colors-ink-action-primary-default)}.leather-button--variant_outline:disabled:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:1px solid var(--leather-colors-ink-text-non-interactive);color:var(--leather-colors-ink-text-non-interactive);cursor:not-allowed}.leather-button--variant_outline[disabled]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.leather-button--variant_outline[data-disabled]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:1px solid var(--leather-colors-ink-text-non-interactive);color:var(--leather-colors-ink-text-non-interactive);cursor:not-allowed}.leather-button--variant_outline:disabled:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.leather-button--variant_outline[data-hover]:disabled:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.leather-button--variant_outline[disabled]:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.leather-button--variant_outline[disabled][data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.leather-button--variant_outline[data-disabled]:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.leather-button--variant_outline[data-disabled][data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.leather-button--variant_outline[data-loading]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.leather-button--variant_outline[aria-busy=true]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:transparent!important}.leather-button--variant_outline[data-loading]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):after{animation:var(--leather-animations-spin);border:2px solid;box-sizing:border-box;display:inline-block;height:20px;position:absolute;border-radius:50%;width:20px;border-color:var(--leather-colors-ink-action-primary-default);border-bottom-color:transparent;content:\"\";left:calc(50% - 10px);top:calc(50% - 10px)}.leather-button--variant_outline[aria-busy=true]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):after{animation:var(--leather-animations-spin);border:2px solid;box-sizing:border-box;display:inline-block;height:20px;position:absolute;border-radius:50%;width:20px;border-color:var(--leather-colors-ink-action-primary-default);border-bottom-color:transparent;content:\"\";left:calc(50% - 10px);top:calc(50% - 10px)}.leather-button--variant_outline:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.leather-button--variant_outline[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-component-background-hover)}.leather-button--variant_outline:active:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-component-background-pressed)}.leather-button--variant_outline[data-active]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-component-background-pressed)}.leather-button--variant_outline:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{border:3px solid var(--leather-colors-blue-border)}.leather-button--variant_outline[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{border:3px solid var(--leather-colors-blue-border)}.leather-button--size_sm:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:var(--leather-spacing-space\\\\.02);padding-right:var(--leather-spacing-space\\\\.02);padding-top:var(--leather-spacing-space\\\\.01);padding-bottom:var(--leather-spacing-space\\\\.01)}.leather-button--variant_ghost:disabled:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-non-interactive);cursor:not-allowed}.leather-button--variant_ghost[disabled]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.leather-button--variant_ghost[data-disabled]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-non-interactive);cursor:not-allowed}.leather-button--variant_ghost:disabled:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.leather-button--variant_ghost[data-hover]:disabled:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.leather-button--variant_ghost[disabled]:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.leather-button--variant_ghost[disabled][data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.leather-button--variant_ghost[data-disabled]:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.leather-button--variant_ghost[data-disabled][data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.leather-button--variant_ghost[data-loading]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.leather-button--variant_ghost[aria-busy=true]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:transparent!important}.leather-button--variant_ghost[data-loading]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):after{animation:var(--leather-animations-spin);border:2px solid;box-sizing:border-box;display:inline-block;height:20px;position:absolute;border-radius:50%;width:20px;border-color:var(--leather-colors-ink-action-primary-default);border-bottom-color:transparent;content:\"\";left:calc(50% - 10px);top:calc(50% - 10px)}.leather-button--variant_ghost[aria-busy=true]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):after{animation:var(--leather-animations-spin);border:2px solid;box-sizing:border-box;display:inline-block;height:20px;position:absolute;border-radius:50%;width:20px;border-color:var(--leather-colors-ink-action-primary-default);border-bottom-color:transparent;content:\"\";left:calc(50% - 10px);top:calc(50% - 10px)}.leather-button--variant_ghost:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.leather-button--variant_ghost[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-component-background-hover)}.leather-button--variant_ghost:active:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-component-background-pressed)}.leather-button--variant_ghost[data-active]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-component-background-pressed)}.leather-button--variant_ghost:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{border:3px solid var(--leather-colors-blue-border)}.leather-button--variant_ghost[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{border:3px solid var(--leather-colors-blue-border)}.leather-link--size_md:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){font-family:Diatype;font-size:0.9375rem;font-weight:500;line-height:1.2500rem}.leather-link--variant_underlined:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-primary)}.leather-link--variant_underlined:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:var(--leather-colors-ink-text-non-interactive);height:2px;position:absolute;content:\"\";bottom:-2px;left:0;right:0}.leather-link--variant_underlined:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.leather-link--variant_underlined[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-primary);outline:0}.leather-link--variant_underlined:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:focus}.leather-link--variant_underlined[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:focus}.leather-link--variant_underlined:active:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-primary)}.leather-link--variant_underlined[data-active]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-primary)}.leather-link--variant_underlined:active:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:var(--leather-colors-ink-text-primary)}.leather-link--variant_underlined[data-active]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:var(--leather-colors-ink-text-primary)}.leather-link--variant_underlined:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:var(--leather-colors-ink-action-primary-hover)}.leather-link--variant_underlined[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:var(--leather-colors-ink-action-primary-hover)}.leather-link--size_sm:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){font-family:Diatype;font-size:0.8125rem;font-weight:500;line-height:1.0000rem}.leather-link--variant_text:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-primary)}.leather-link--variant_text:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:var(--leather-colors-ink-action-primary-hover);height:2px;position:absolute;visibility:hidden;content:\"\";bottom:-2px;left:0;right:0}.leather-link--variant_text:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.leather-link--variant_text[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-primary);outline:0}.leather-link--variant_text:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:focus;visibility:visible}.leather-link--variant_text[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:focus;visibility:visible}.leather-link--variant_text:active:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-primary);visibility:visible}.leather-link--variant_text[data-active]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-primary);visibility:visible}.leather-link--variant_text:active:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:var(--leather-colors-ink-text-primary)}.leather-link--variant_text[data-active]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:var(--leather-colors-ink-text-primary)}.leather-link--variant_text:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:var(--leather-colors-ink-action-primary-hover);visibility:visible}.leather-link--variant_text[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:var(--leather-colors-ink-action-primary-hover);visibility:visible}.leather-textStyle_label\\\\.02:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){font-weight:500}.leather-textStyle_body\\\\.02:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.leather-textStyle_label\\\\.02:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){font-family:Diatype;font-size:0.9375rem;line-height:1.2500rem}.leather-textStyle_body\\\\.02:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){font-weight:400}.leather-textStyle_label\\\\.01:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){letter-spacing:0.16px;font-family:Diatype;font-size:1.0000rem;font-weight:500;line-height:1.5000rem}.leather-textStyle_label\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){font-family:Diatype;font-size:0.8125rem;font-weight:500;line-height:1.0000rem}.leather-textStyle_code:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){font-family:Fira Code;font-size:0.8125rem;line-height:1.1250rem;font-weight:450}.leather-textStyle_caption\\\\.01:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){font-family:Diatype;font-size:0.9375rem;font-weight:400;line-height:1.2500rem}.leather-textStyle_heading\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){text-transform:uppercase;letter-spacing:0.64px;font-family:Marche;font-size:2.0000rem;font-weight:800;line-height:2.1875rem}.leather-textStyle_heading\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){font-family:Diatype;font-size:1.6250rem;font-weight:500;line-height:2.2500rem}.leather-textStyle_heading\\\\.05:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){font-family:Diatype;font-size:1.3125rem;font-weight:500;line-height:1.7500rem}.leather-textStyle_body\\\\.01:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){font-family:Diatype;font-size:1.0625rem;font-weight:400;line-height:1.5000rem}.leather-textStyle_heading\\\\.02:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){text-transform:uppercase;font-family:Marche;font-size:2.7500rem;font-weight:800;line-height:2.7500rem}.leather-textStyle_display\\\\.01:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){text-transform:uppercase;font-family:Marche;font-size:9.3750rem;line-height:7.5000rem}[data-has-value=true]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#) .\\\\[\\\\[data-has-value\\\\=\\\\\"true\\\\\"\\\\]_\\\\&\\\\]\\\\:leather-textStyle_label\\\\.03{font-family:Diatype;font-size:0.8125rem;font-weight:500;line-height:1.0000rem}[data-shrink=true]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#) .\\\\[\\\\[data-shrink\\\\=\\\\\"true\\\\\"\\\\]_\\\\&\\\\]\\\\:leather-textStyle_label\\\\.03{font-family:Diatype;font-size:0.8125rem;font-weight:500;line-height:1.0000rem}.\\\\[\\\\&\\\\:-moz-placeholder-shown_\\\\+_label\\\\]\\\\:leather-textStyle_label\\\\.03:-moz-placeholder-shown:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#)+label{font-family:Diatype;font-size:0.8125rem;font-weight:500;line-height:1.0000rem}.\\\\[\\\\&\\\\:placeholder-shown_\\\\+_label\\\\]\\\\:leather-textStyle_label\\\\.03:placeholder-shown:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#)+label{font-family:Diatype;font-size:0.8125rem;font-weight:500;line-height:1.0000rem}.focusWithin\\\\:\\\\[\\\\&_label\\\\]\\\\:leather-textStyle_label\\\\.03:focus-within:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#) label{font-family:Diatype;font-size:0.8125rem;font-weight:500;line-height:1.0000rem}@media screen and (min-width: 48rem){.md\\\\:leather-textStyle_display\\\\.02:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){text-transform:uppercase;font-family:Marche;font-size:4.0000rem;line-height:3.5000rem}.md\\\\:leather-textStyle_heading\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){font-family:Diatype;font-size:1.6250rem;font-weight:500;line-height:2.2500rem}}.leather-pos_relative:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){position:relative}.leather-d_flex:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){display:flex}.leather-w_100\\\\%:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:100%}.leather-py_space\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-top:var(--leather-spacing-space\\\\.04);padding-bottom:var(--leather-spacing-space\\\\.04)}.leather-trs_all_0\\\\.2s:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){transition:all 0.2s}.leather-will-change_max-height:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){will-change:max-height}.leather-py_space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-top:var(--leather-spacing-space\\\\.03);padding-bottom:var(--leather-spacing-space\\\\.03)}.leather-bg_ink\\\\.background-secondary:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-background-secondary)}.leather-d_inline-flex:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){display:inline-flex}.leather-ov_hidden:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){overflow:hidden}.leather-us_none:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){-webkit-user-select:none;-moz-user-select:none;user-select:none}.leather-va_middle:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){vertical-align:middle}.leather-w_sm:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:var(--leather-sizes-sm)}.leather-h_sm:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:var(--leather-sizes-sm)}.leather-w_md:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:var(--leather-sizes-md)}.leather-h_md:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:var(--leather-sizes-md)}.leather-w_lg:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:var(--leather-sizes-lg)}.leather-h_lg:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:var(--leather-sizes-lg)}.leather-w_xl:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:var(--leather-sizes-xl)}.leather-h_xl:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:var(--leather-sizes-xl)}.leather-w_xxl:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:var(--leather-sizes-xxl)}.leather-h_xxl:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:var(--leather-sizes-xxl)}.leather-bdr_100\\\\%:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-radius:100%}.leather-bdr_xs:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-radius:var(--leather-radii-xs)}.leather-asp_1_\\\\/_1:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){aspect-ratio:1/1}.leather-h_100\\\\%:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:100%}.leather-obj-f_cover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){-o-object-fit:cover;object-fit:cover}.leather-bdr_inherit:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-radius:inherit}.leather-bg_inherit:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:inherit}.leather-bd_1px_solid:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:1px solid}.leather-c_ink\\\\.text-primary:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-primary)}.leather-bd_1px_solid_\\\\{colors\\\\.ink\\\\.background-secondary\\\\}:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:1px solid var(--leather-colors-ink-background-secondary)}.leather-c_ink\\\\.background-secondary:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-background-secondary)}.leather-p_space\\\\.02:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding:var(--leather-spacing-space\\\\.02)}.leather-ta_left:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){text-align:left}.leather-bg_ink\\\\.text-non-interactive:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-text-non-interactive)}.leather-bg_red\\\\.background-secondary:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-red-background-secondary)}.leather-bg_blue\\\\.background-secondary:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-blue-background-secondary)}.leather-bg_green\\\\.background-secondary:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-green-background-secondary)}.leather-bg_yellow\\\\.background-secondary:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-yellow-background-secondary)}.leather-bg_ink\\\\.background-primary:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-background-primary)}.leather-max-w_fit-content:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-width:-moz-fit-content;max-width:fit-content}.leather-max-h_fit-content:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-height:-moz-fit-content;max-height:fit-content}.leather-px_space\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:var(--leather-spacing-space\\\\.04);padding-right:var(--leather-spacing-space\\\\.04)}.leather---base-menu-padding_0px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){--base-menu-padding:0px}.leather-bx-sh_0px_12px_24px_0px_rgba\\\\(18\\\\,_16\\\\,_15\\\\,_0\\\\.08\\\\)\\\\,_0px_4px_8px_0px_rgba\\\\(18\\\\,_16\\\\,_15\\\\,_0\\\\.08\\\\)\\\\,_0px_0px_2px_0px_rgba\\\\(18\\\\,_16\\\\,_15\\\\,_0\\\\.08\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){box-shadow:0px 12px 24px 0px rgba(18,16,15,0.08),0px 4px 8px 0px rgba(18,16,15,0.08),0px 0px 2px 0px rgba(18,16,15,0.08)}.leather-p_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding:0}.leather-will-change_transform\\\\,_opacity:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){will-change:transform,opacity}.leather-z_999:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){z-index:999}.leather-c_ink\\\\.text-subdued:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-subdued)}.leather-h_auto:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:auto}.leather-px_space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:var(--leather-spacing-space\\\\.03);padding-right:var(--leather-spacing-space\\\\.03)}.leather-py_space\\\\.02:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-top:var(--leather-spacing-space\\\\.02);padding-bottom:var(--leather-spacing-space\\\\.02)}.leather-p_space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding:var(--leather-spacing-space\\\\.03)}.leather-c_ink\\\\.border-default:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-border-default)}.leather-mx_0px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-left:0px;margin-right:0px}.leather-my_space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:var(--leather-spacing-space\\\\.03);margin-bottom:var(--leather-spacing-space\\\\.03)}.leather-d_block:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){display:block}.leather-min-h_64px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){min-height:64px}.leather-p_space\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding:var(--leather-spacing-space\\\\.04)}.leather-ring_none:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){outline:2px solid transparent;outline-offset:2px}.leather-z_4:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){z-index:4}.leather-pos_absolute:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){position:absolute}.leather-z_9:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){z-index:9}.leather-c_inherit:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:inherit}.leather-pointer-events_none:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){pointer-events:none}.leather-trs_font-size_100ms_ease-in-out\\\\,_transform_100ms_ease-in-out:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){transition:font-size 100ms ease-in-out, transform 100ms ease-in-out}.leather-bg_transparent:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:transparent}.leather-ap_none:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){-moz-appearance:none;appearance:none;-webkit-appearance:none}.leather-z_5:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){z-index:5}.leather-c_ink\\\\.text-non-interactive:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-non-interactive)}.leather-cursor_not-allowed:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){cursor:not-allowed}.leather-cursor_default:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){cursor:default}.leather-cursor_pointer:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){cursor:pointer}.leather-c_ink\\\\.action-primary-default:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-action-primary-default)}.leather-gap_space\\\\.02:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){gap:var(--leather-spacing-space\\\\.02)}.leather-min-w_256px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){min-width:256px}.leather-bg_overlay:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-overlay)}.leather-pos_fixed:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){position:fixed}.leather-inset_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){top:0;right:0;bottom:0;left:0}.leather-anim_overlayShow_150ms_cubic-bezier\\\\(0\\\\.16\\\\,_1\\\\,_0\\\\.3\\\\,_1\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){animation:overlayShow 150ms cubic-bezier(0.16,1,0.3,1)}.leather-bdr_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-radius:0}.leather-bx-sh_hsl\\\\(206_22\\\\%_7\\\\%_\\\\/_35\\\\%\\\\)_0_10px_38px_-10px\\\\,_hsl\\\\(206_22\\\\%_7\\\\%_\\\\/_20\\\\%\\\\)_0_10px_20px_-15px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){box-shadow:hsla(206, 22%, 7%, 0.35) 0 10px 38px -10px,hsla(206, 22%, 7%, 0.2) 0 10px 20px -15px}.leather-trf_translate\\\\(-50\\\\%\\\\,_-50\\\\%\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){transform:translate(-50%,-50%)}.leather-w_100vw:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:100vw}.leather-max-w_100vw:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-width:100vw}.leather-max-h_100vh:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-height:100vh}.leather-w_42px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:42px}.leather-h_24px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:24px}.leather-bdr_9999px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-radius:9999px}.leather-w_18px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:18px}.leather-h_18px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:18px}.leather-trs_transform_100ms:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){transition:transform 100ms}.leather-trf_translateX\\\\(3px\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){transform:translateX(3px)}.leather-will-change_transform:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){will-change:transform}.leather-flex_1:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){flex:1 1 0%}.leather-p_space\\\\.01:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding:var(--leather-spacing-space\\\\.01)}.leather-bd_1px_solid_\\\\{colors\\\\.ink\\\\.border-transparent\\\\}:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:1px solid var(--leather-colors-ink-border-transparent)}.leather-bg_red\\\\.background-primary:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-red-background-primary)}.leather-bd_1px_solid_\\\\{colors\\\\.red\\\\.border\\\\}:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:1px solid var(--leather-colors-red-border)}.leather-c_red\\\\.action-primary-default:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-red-action-primary-default)}.leather-bg_blue\\\\.background-primary:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-blue-background-primary)}.leather-bd_1px_solid_\\\\{colors\\\\.blue\\\\.border\\\\}:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:1px solid var(--leather-colors-blue-border)}.leather-c_blue\\\\.action-primary-default:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-blue-action-primary-default)}.leather-bg_green\\\\.background-primary:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-green-background-primary)}.leather-bd_1px_solid_\\\\{colors\\\\.green\\\\.border\\\\}:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:1px solid var(--leather-colors-green-border)}.leather-c_green\\\\.action-primary-default:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-green-action-primary-default)}.leather-bg_yellow\\\\.background-primary:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-yellow-background-primary)}.leather-bd_1px_solid_\\\\{colors\\\\.yellow\\\\.border\\\\}:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:1px solid var(--leather-colors-yellow-border)}.leather-c_yellow\\\\.action-primary-default:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-yellow-action-primary-default)}.leather-bg_ink\\\\.text-primary:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-text-primary)}.leather-c_ink\\\\.background-primary:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-background-primary)}.leather-max-w_452px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-width:452px}.leather-h_fit-content:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:-moz-fit-content;height:fit-content}.leather-m_0_auto:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin:0 auto}.leather-p_space\\\\.05:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding:var(--leather-spacing-space\\\\.05)}.leather-trf_translate\\\\(-50\\\\%\\\\,_0\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){transform:translate(-50%,0)}.leather-z_9999:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){z-index:9999}.leather-bg_ink\\\\.action-primary-default:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-action-primary-default)}.leather-max-w_250px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-width:250px}.leather-ta_center:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){text-align:center}.leather-word-wrap_break-word:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){word-wrap:break-word}.leather-fill_ink\\\\.action-primary-default:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){fill:var(--leather-colors-ink-action-primary-default)}.leather-h_20px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:20px}.leather-py_space\\\\.01:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-top:var(--leather-spacing-space\\\\.01);padding-bottom:var(--leather-spacing-space\\\\.01)}.leather-td_none:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){-webkit-text-decoration:none;text-decoration:none}.leather-td_line-through:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){-webkit-text-decoration:line-through;text-decoration:line-through}.leather-ov-wrap_break-word:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){word-wrap:break-word}.leather-d_inline:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){display:inline}.leather-gap_space\\\\.05:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){gap:var(--leather-spacing-space\\\\.05)}.leather-gap_10px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){gap:10px}.leather-bd-b_active:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-bottom:var(--leather-borders-active)}.leather-bd-b_unset:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-bottom:0;border-bottom:initial}.leather-bd-t_default:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-top:var(--leather-borders-default)}.leather-h_0px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:0px}.leather-flex_0_0_auto:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){flex:0 0 auto}.leather-op_1:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){opacity:1}.leather-op_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){opacity:0}.leather-w_calc\\\\(100\\\\%_\\\\+_24px\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:calc(100% + 24px)}.leather-h_calc\\\\(100\\\\%_\\\\+_24px\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:calc(100% + 24px)}.leather-trs_transition:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){transition:transition}.leather-bg_ink\\\\.component-background-hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-component-background-hover)}.leather-z_-1:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){z-index:-1}.leather-anim_shine_5s_infinite_linear:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){animation:shine 5s infinite linear}.leather-h_100vh:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:100vh}.leather-h_calc\\\\(100vh_-_68px\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:calc(100vh - 68px)}.leather-px_space\\\\.02:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:var(--leather-spacing-space\\\\.02);padding-right:var(--leather-spacing-space\\\\.02)}.leather-px_space\\\\.05:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:var(--leather-spacing-space\\\\.05);padding-right:var(--leather-spacing-space\\\\.05)}.leather-min-h_330px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){min-height:330px}.leather-bd_active:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:var(--leather-borders-active)}.leather-bdr_sm:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-radius:var(--leather-radii-sm)}.leather-h_inputHeight:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:var(--leather-sizes-input-height)}.leather-w_fit-content:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:-moz-fit-content;width:fit-content}.leather-h_48px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:48px}.leather-c_stacks:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-stacks)}.leather-h_600px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:600px}.leather-max-w_8xl:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-width:8xl}.leather-mx_auto:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-left:auto;margin-right:auto}.leather-px_4:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:4px;padding-right:4px}.leather-white-space_nowrap:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){white-space:nowrap}.leather-max-w_300px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-width:300px}.leather-gap_space\\\\.06:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){gap:var(--leather-spacing-space\\\\.06)}.leather-max-w_21\\\\.5rem:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-width:21.5rem}.leather-gap_space\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){gap:var(--leather-spacing-space\\\\.04)}.leather-bg_stacks:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-stacks)}.leather-bg_yellow\\\\.action-primary-default:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-yellow-action-primary-default)}.leather-w_21px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:21px}.leather-h_21px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:21px}.leather-bd_background:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:var(--leather-borders-background)}.leather-mx_space\\\\.06:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-left:var(--leather-spacing-space\\\\.06);margin-right:var(--leather-spacing-space\\\\.06)}.leather-min-h_30vh:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){min-height:30vh}.leather-w_106px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:106px}.leather-h_72px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:72px}.leather-my_space\\\\.02:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:var(--leather-spacing-space\\\\.02);margin-bottom:var(--leather-spacing-space\\\\.02)}.leather-w_36px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:36px}.leather-h_36px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:36px}.leather-w_126px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:126px}.leather-w_78px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:78px}.leather-bdr_lg:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-radius:var(--leather-radii-lg)}.leather-d_inline-block:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){display:inline-block}.leather-w_72px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:72px}.leather-trf_scale\\\\(0\\\\.9\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){transform:scale(0.9)}.leather-h_32px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:32px}.leather-ta_right:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){text-align:right}.leather-bd_default:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:var(--leather-borders-default)}.leather-gap_space\\\\.01:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){gap:var(--leather-spacing-space\\\\.01)}.leather-fv_tabular-nums:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){font-feature-settings:\"tnum\";font-variant:tabular-nums}.leather-mx_space\\\\.02:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-left:var(--leather-spacing-space\\\\.02);margin-right:var(--leather-spacing-space\\\\.02)}.leather-my_space\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:var(--leather-spacing-space\\\\.04);margin-bottom:var(--leather-spacing-space\\\\.04)}.leather-py_space\\\\.05:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-top:var(--leather-spacing-space\\\\.05);padding-bottom:var(--leather-spacing-space\\\\.05)}.leather-bd_unset:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:medium none currentcolor;border:initial}.leather-bdr_unset:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-radius:0;border-radius:initial}.leather-p_unset:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding:0;padding:initial}.leather-bg_ink\\\\.border-default:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-border-default)}.leather-h_1px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:1px}.leather-pointer-events_all:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){pointer-events:all}.leather-tov_ellipsis:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){text-overflow:ellipsis}.leather-max-w_160px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-width:160px}.leather-pos_popper:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){position:popper}.leather-max-w_pageWidth:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-width:var(--leather-sizes-page-width)}.leather-px_space\\\\.00:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:var(--leather-spacing-space\\\\.00);padding-right:var(--leather-spacing-space\\\\.00)}.leather-my_space\\\\.05:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:var(--leather-spacing-space\\\\.05);margin-bottom:var(--leather-spacing-space\\\\.05)}.leather-py_108px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-top:108px;padding-bottom:108px}.leather-mx_space\\\\.05:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-left:var(--leather-spacing-space\\\\.05);margin-right:var(--leather-spacing-space\\\\.05)}.leather-td_underline:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){-webkit-text-decoration:underline;text-decoration:underline}.leather-max-w_500px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-width:500px}.leather-gap_5:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){gap:5px}.leather-bx-sh_0px_12px_24px_0px_rgba\\\\(18\\\\,_16\\\\,_15\\\\,_0\\\\.08\\\\)\\\\,_0px_4px_8px_0px_rgba\\\\(18\\\\,_16\\\\,_15\\\\,_0\\\\.08\\\\)\\\\,_0px_0px_2px_0px_rgba\\\\(18\\\\,_16\\\\,_15\\\\,_0\\\\.08\\\\)\\\\;:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){box-shadow:0px 12px 24px 0px rgba(18,16,15,0.08),0px 4px 8px 0px rgba(18,16,15,0.08),0px 0px 2px 0px rgba(18,16,15,0.08)}.leather-filter_drop-shadow\\\\(0px_12px_24px_rgba\\\\(247\\\\,_245\\\\,_243\\\\,_0\\\\.08\\\\)\\\\)_drop-shadow\\\\(0px_4px_8px_rgba\\\\(247\\\\,_245\\\\,_243\\\\,_0\\\\.08\\\\)\\\\)_drop-shadow\\\\(0px_0px_2px_rgba\\\\(247\\\\,_245\\\\,_243\\\\,_0\\\\.50\\\\)\\\\)\\\\;:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){filter:drop-shadow(0px 12px 24px rgba(247,245,243,0.08)) drop-shadow(0px 4px 8px rgba(247,245,243,0.08)) drop-shadow(0px 0px 2px rgba(247,245,243,0.50))}.leather-h_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:0}.leather-vis_visible:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){visibility:visible}.leather-vis_hidden:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){visibility:hidden}.leather-wb_break-all:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){word-break:break-all}.leather-max-w_popupMaxWidth:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-width:var(--leather-sizes-popup-max-width)}.leather-wb_break-word:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){word-break:break-word}.leather-w_50\\\\%:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:50%}.leather-w_settingsMenuWidth:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:var(--leather-sizes-settings-menu-width)}.leather-max-h_var\\\\(--radix-dropdown-menu-content-available-height\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-height:var(--radix-dropdown-menu-content-available-height)}.leather-gap_space\\\\.00:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){gap:var(--leather-spacing-space\\\\.00)}.leather---thickness_1px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){--thickness:1px}.leather-gap_space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){gap:var(--leather-spacing-space\\\\.03)}.leather-bdr_md:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-radius:var(--leather-radii-md)}.leather-h_14px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:14px}.leather-h_58:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:58px}.leather-w_248:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:248px}.leather-d_grid:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){display:grid}.leather-gap_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){gap:0}.leather-px_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:0;padding-right:0}.leather-py_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-top:0;padding-bottom:0}.leather-bg_ink\\\\.1:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:ink.1}.leather-anim_fadein:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){animation:fadein}.leather-gap_4:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){gap:4px}.leather-h_36:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:36px}.leather-w_36:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:36px}.leather-h_300px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:300px}.leather-bg_invert:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-invert)}.leather-z_2:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){z-index:2}.leather-w_60:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:60px}.leather-bd-r_1px_solid:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-right:1px solid}.leather-z_1:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){z-index:1}.leather-h_space\\\\.05:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:space.05}.leather-tt_capitalize:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){text-transform:capitalize}.leather-px_unset:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:0;padding-left:initial;padding-right:0;padding-right:initial}.leather-bd_focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:var(--leather-borders-focus)}.leather-bx-sh_0px_1px_2px_rgba\\\\(0\\\\,_0\\\\,_0\\\\,_0\\\\.04\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){box-shadow:0px 1px 2px rgba(0,0,0,0.04)}.leather-py_space\\\\.06:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-top:var(--leather-spacing-space\\\\.06);padding-bottom:var(--leather-spacing-space\\\\.06)}.leather-w_130px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:130px}.leather-h_30px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:30px}.leather-min-w_100px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){min-width:100px}.leather-gap_0px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){gap:0px}.leather-bx-sh_0px_8px_16px_rgba\\\\(27\\\\,_39\\\\,_51\\\\,_0\\\\.08\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){box-shadow:0px 8px 16px rgba(27,39,51,0.08)}.leather-min-h_96px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){min-height:96px}.leather-bg_black:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:black}.leather-w_100px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:100px}.leather-h_100px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:100px}.leather-c_white:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:white}.leather-h_40vh:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:40vh}.leather-pos_unset:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){position:static;position:initial}.leather-max-h_70vh:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-height:70vh}.leather-bd-t_unset:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-top:0;border-top:initial}.leather-max-w_100\\\\%:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-width:100%}.leather-min-h_footerHeight:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){min-height:var(--leather-sizes-footer-height)}.leather-h_headerContainerHeight:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:var(--leather-sizes-header-container-height)}.leather-m_auto:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin:auto}.leather-m_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin:0}.leather-max-w_fullPageMaxWidth:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-width:var(--leather-sizes-full-page-max-width)}.leather-h_dialogHeight:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:var(--leather-sizes-dialog-height)}.leather-bg_red:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:red}.leather-min-w_100\\\\%:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){min-width:100%}.leather-w_pageWidth:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:var(--leather-sizes-page-width)}.leather-max-w_23ch:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-width:23ch}.leather-py_space\\\\.11:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-top:var(--leather-spacing-space\\\\.11);padding-bottom:var(--leather-spacing-space\\\\.11)}.leather-min-h_dialogContentHeight:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){min-height:var(--leather-sizes-dialog-content-height)}.leather-filter_all:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){filter:all}.leather-c_unset:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:inherit}.leather-min-h_40px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){min-height:40px}.leather-w_30px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:30px}.leather-ta_inherit:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){text-align:inherit}.leather-w_95\\\\%:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:95%}.leather-cp-path_none:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){clip-path:none;-webkit-clip-path:none}.leather-cp-path_circle\\\\(0\\\\%\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){clip-path:circle(0%);-webkit-clip-path:circle(0%)}.leather-op_0\\\\.5:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){opacity:0.5}.leather-h_headerPopupHeight:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:headerPopupHeight}.leather-p_space\\\\.06:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding:var(--leather-spacing-space\\\\.06)}.leather-h_286px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:286px}.leather-filter_invert\\\\(\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){filter:invert()}.leather-w_270px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:270px}.leather-h_236px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:236px}.leather-gap_16px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){gap:16px}.leather-h_200px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:200px}.leather-w_380:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:380px}.leather-my_space\\\\.06:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:var(--leather-spacing-space\\\\.06);margin-bottom:var(--leather-spacing-space\\\\.06)}.leather-cursor_question:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){cursor:question}.leather-max-h_80vh:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-height:80vh}.leather-mx_space\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-left:var(--leather-spacing-space\\\\.04);margin-right:var(--leather-spacing-space\\\\.04)}.leather-c_gray:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:gray}.leather-op_0\\\\.8:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){opacity:0.8}.leather-c_lightModeInk\\\\.1:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:lightModeInk.1}.leather-d_none:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){display:none}.leather-ov_visible:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){overflow:visible}.leather-white-space_pre-line:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){white-space:pre-line}.leather-min-h_260px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){min-height:260px}.leather-py_32px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-top:32px;padding-bottom:32px}.leather-c_\\\\#fff:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:#fff}.leather-h_190px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:190px}.leather-z_99:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){z-index:99}.leather-bg_rgba\\\\(0\\\\,0\\\\,0\\\\,0\\\\.35\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:rgba(0,0,0,0.35)}.leather-bkdp_blur\\\\(10px\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.leather-h_11\\\\.3rem:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:11.3rem}.leather-bg_white:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:white}.leather-h_40px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:40px}.leather-w_40px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:40px}.leather-min-h_50px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){min-height:50px}.leather-max-w_544px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-width:544px}.leather-filter_enabled:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){filter:enabled}.leather-min-w_100vw:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){min-width:100vw}.leather-min-h_100vh:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){min-height:100vh}.leather-bg_\\\\#12100F:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:#12100F}.leather-c_\\\\#F5F1ED:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:#F5F1ED}.leather-flex_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){flex:0}.leather-max-w_880px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-width:880px}.leather-max-w_556px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-width:556px}.leather-min-w_148px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){min-width:148px}.leather-bg_\\\\#F5F1ED:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:#F5F1ED}.leather-c_\\\\#12100F:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:#12100F}.leather-bd_1px_solid_\\\\#F5F1ED:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:1px solid #F5F1ED}.leather-h_34:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:34px}.leather-w_150:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:150px}.leather-min-h_48px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){min-height:48px}.leather-bx-sh_0px_0px_2px_0px_rgba\\\\(18\\\\,_16\\\\,_15\\\\,_0\\\\.08\\\\)\\\\,_0px_4px_8px_0px_rgba\\\\(18\\\\,_16\\\\,_15\\\\,_0\\\\.08\\\\)\\\\,_0px_12px_24px_0px_rgba\\\\(18\\\\,_16\\\\,_15\\\\,_0\\\\.08\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){box-shadow:0px 0px 2px 0px rgba(18,16,15,0.08),0px 4px 8px 0px rgba(18,16,15,0.08),0px 12px 24px 0px rgba(18,16,15,0.08)}.leather-z_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){z-index:0}.leather-h_18:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:18px}.leather-w_86:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:86px}.leather-px_space\\\\.06:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:var(--leather-spacing-space\\\\.06);padding-right:var(--leather-spacing-space\\\\.06)}.leather-ti_-1em:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){text-indent:-1em}.leather-bg_\\\\#FCEEED:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:#FCEEED}.leather-w_200px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:200px}.leather-h_38px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:38px}.leather-h_3rem:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:3rem}.leather-bg_ink\\\\.component-background-default:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-component-background-default)}.leather-p_20px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding:20px}.leather-min-h_120px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){min-height:120px}.leather-mx_space\\\\.08:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-left:var(--leather-spacing-space\\\\.08);margin-right:var(--leather-spacing-space\\\\.08)}.leather-mx_space\\\\.07:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-left:var(--leather-spacing-space\\\\.07);margin-right:var(--leather-spacing-space\\\\.07)}.leather-fill_ink\\\\.text-primary:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){fill:var(--leather-colors-ink-text-primary)}.leather-w_4px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:4px}.leather-mx_50px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-left:50px;margin-right:50px}.leather-min-h_220px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){min-height:220px}.leather-ta_start:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){text-align:left}.leather-w_242px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:242px}.leather-h_6px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:6px}.leather-mx_0_8px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-left:0;margin-right:8px}.leather-mx_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-left:0;margin-right:0}.leather-w_20px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:20px}.leather-z_10:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){z-index:10}.leather-h_55px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:55px}.leather-ls_-0\\\\.3px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){letter-spacing:-0.3px}.leather-min-w_1ch:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){min-width:1ch}.leather-ls_0\\\\.64px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){letter-spacing:0.64px}.leather-bd_none:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:none}.leather-px_none:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:none;padding-right:none}.leather-z_15:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){z-index:15}.leather-w_208px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:208px}.leather-h_181px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:181px}.leather-bdr_50\\\\%:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-radius:50%}.leather-w_48px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:48px}.leather-p_0px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding:0px}.leather-c_error:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:error}.leather-cursor_unset:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){cursor:inherit}.leather-bd_error:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:var(--leather-borders-error)}.leather-h_76px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:76px}.leather-trf_rotate\\\\(90\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){transform:rotate(90)}.leather-bd-l_1px_solid_\\\\#DCDDE2:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-left:1px solid #DCDDE2}.leather-jc_space-between:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){justify-content:space-between}.leather-ai_center:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){align-items:center}.leather-ov-y_hidden:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){overflow-y:hidden}.leather-jc_center:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){justify-content:center}.leather-bd-c_ink\\\\.border-default:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-color:var(--leather-colors-ink-border-default)}.leather-fw_500:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){font-weight:500}.leather-mr_var\\\\(--flag-spacing\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-right:var(--flag-spacing)}.leather-ml_var\\\\(--flag-spacing\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-left:var(--flag-spacing)}.leather-top_38\\\\%:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){top:38%}.leather-left_space\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){left:var(--leather-spacing-space\\\\.04)}.leather-top_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){top:0}.leather-left_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){left:0}.leather-right_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){right:0}.leather-bottom_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){bottom:0}.leather-bd-c_ink\\\\.border-transparent:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-color:var(--leather-colors-ink-border-transparent)}.leather-anim-dur_400ms:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){animation-duration:400ms}.leather-anim-tmf_cubic-bezier\\\\(0\\\\.16\\\\,_1\\\\,_0\\\\.3\\\\,_1\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){animation-timing-function:cubic-bezier(0.16,1,0.3,1)}.leather-top_50\\\\%:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){top:50%}.leather-left_50\\\\%:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){left:50%}.leather-bg-c_ink\\\\.text-subdued:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background-color:var(--leather-colors-ink-text-subdued)}.leather-bg-c_ink\\\\.background-primary:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background-color:var(--leather-colors-ink-background-primary)}.leather-flex-d_column:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){flex-direction:column}.leather-flex-sh_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){flex-shrink:0}.leather-pl_space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:var(--leather-spacing-space\\\\.03)}.leather-pr_space\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-right:var(--leather-spacing-space\\\\.04)}.leather-fs_10px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){font-size:10px}.leather-fs_14px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){font-size:14px}.leather-flex-d_row:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){flex-direction:row}.leather-mb_space\\\\.02:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-bottom:var(--leather-spacing-space\\\\.02)}.leather-left_-12px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){left:-12px}.leather-top_-12px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){top:-12px}.leather-mt_space\\\\.05:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:var(--leather-spacing-space\\\\.05)}.leather-bg-c_ink\\\\.background-secondary:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background-color:var(--leather-colors-ink-background-secondary)}.leather-bg-i_linear-gradient\\\\(90deg\\\\,_rgba\\\\(219\\\\,219\\\\,219\\\\,1\\\\)_0\\\\%\\\\,_rgba\\\\(192\\\\,192\\\\,247\\\\,0\\\\.5\\\\)_35\\\\%\\\\,_rgba\\\\(219\\\\,219\\\\,219\\\\,1\\\\)_100\\\\%\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background-image:linear-gradient(90deg,rgba(219,219,219,1) 0%,rgba(192,192,247,0.5) 35%,rgba(219,219,219,1) 100%)}.leather-flex-g_1:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){flex-grow:1}.leather-pl_space\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:var(--leather-spacing-space\\\\.04)}.leather-top_calc\\\\(50\\\\%_-_8px\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){top:calc(50% - 8px)}.leather-flex-wrap_wrap:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){flex-wrap:wrap}.leather-jc_end:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){justify-content:end}.leather-mr_-8px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-right:-8px}.leather-mt_space\\\\.02:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:var(--leather-spacing-space\\\\.02)}.leather-ml_space\\\\.01:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-left:var(--leather-spacing-space\\\\.01)}.leather-bottom_-2px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){bottom:-2px}.leather-right_-9px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){right:-9px}.leather-mt_space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:var(--leather-spacing-space\\\\.03)}.leather-lh_20px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){line-height:20px}.leather-bg-c_ink\\\\.text-non-interactive:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background-color:var(--leather-colors-ink-text-non-interactive)}.leather-bd-w_1px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-width:1px}.leather-mt_space\\\\.06:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:var(--leather-spacing-space\\\\.06)}.leather-mt_space\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:var(--leather-spacing-space\\\\.04)}.leather-lh_1\\\\.6:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){line-height:1.6}.leather-li-t_circle:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){list-style-type:circle}.leather-pb_space\\\\.05:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-bottom:var(--leather-spacing-space\\\\.05)}.leather-pl_40px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:40px}.leather-pr_space\\\\.05:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-right:var(--leather-spacing-space\\\\.05)}.leather-pt_space\\\\.02:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-top:var(--leather-spacing-space\\\\.02)}.leather-ai_start:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){align-items:start}.leather-mr_space\\\\.01:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-right:var(--leather-spacing-space\\\\.01)}.leather-mb_space\\\\.01:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-bottom:var(--leather-spacing-space\\\\.01)}.leather-pb_0px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-bottom:0px}.leather-pb_16px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-bottom:16px}.leather-mb_space\\\\.05:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-bottom:var(--leather-spacing-space\\\\.05)}.leather-bottom_space\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){bottom:var(--leather-spacing-space\\\\.04)}.leather-right_space\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){right:var(--leather-spacing-space\\\\.04)}.leather-left_auto:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){left:auto}.leather-top_auto:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){top:auto}.leather-mt_2px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:2px}.leather-mb_auto:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-bottom:auto}.leather-ml_auto:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-left:auto}.leather-mt_auto:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:auto}.leather-pb_space\\\\.02:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-bottom:var(--leather-spacing-space\\\\.02)}.leather-pb_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-bottom:0}.leather-ov-x_auto:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){overflow-x:auto}.leather-pt_space\\\\.05:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-top:var(--leather-spacing-space\\\\.05)}.leather-pl_space\\\\.02:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:var(--leather-spacing-space\\\\.02)}.leather-ov-y_scroll:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){overflow-y:scroll}.leather-border-block-end-width_var\\\\(--thickness\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-bottom-width:var(--thickness)}.leather-pb_space\\\\.06:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-bottom:var(--leather-spacing-space\\\\.06)}.leather-bg-s_100\\\\%:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background-size:100%}.leather-mb_space\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-bottom:var(--leather-spacing-space\\\\.04)}.leather-as_flex-end:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){align-self:flex-end}.leather-jc_right:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){justify-content:right}.leather-pt_space\\\\.07:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-top:var(--leather-spacing-space\\\\.07)}.leather-grid-tc_repeat\\\\(1\\\\,_1fr\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){grid-template-columns:repeat(1,1fr)}.leather-cg_space\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){-moz-column-gap:var(--leather-spacing-space\\\\.04);column-gap:var(--leather-spacing-space\\\\.04)}.leather-rg_space\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){row-gap:var(--leather-spacing-space\\\\.04)}.leather-mt_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:0}.leather-anim-dur_500ms:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){animation-duration:500ms}.leather-mb_96px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-bottom:96px}.leather-top_12:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){top:12px}.leather-pb_100px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-bottom:100px}.leather-ai_baseline:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){align-items:baseline}.leather-bd-r-c_inherit:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-right-color:inherit}.leather-pt_space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-top:var(--leather-spacing-space\\\\.03)}.leather-mb_space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-bottom:var(--leather-spacing-space\\\\.03)}.leather-mr_space\\\\.02:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-right:var(--leather-spacing-space\\\\.02)}.leather-right_4:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){right:4px}.leather-pr_38px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-right:38px}.leather-pl_unset:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:0;padding-left:initial}.leather-top_-45px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){top:-45px}.leather-ai_flex-start:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){align-items:flex-start}.leather-fs_9px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){font-size:9px}.leather-ov-y_auto:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){overflow-y:auto}.leather-bdr-bl_lg:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-bottom-left-radius:var(--leather-radii-lg)}.leather-bdr-br_lg:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-bottom-right-radius:var(--leather-radii-lg)}.leather-grid-tc_2fr_4fr_2fr:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){grid-template-columns:2fr 4fr 2fr}.leather-grid-tc_auto_auto:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){grid-template-columns:auto auto}.leather-grid-af_column:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){grid-auto-flow:column}.leather-justify-self_start:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){justify-self:start}.leather-jc_flex-end:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){justify-content:flex-end}.leather-pt_space\\\\.06:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-top:var(--leather-spacing-space\\\\.06)}.leather-pb_space\\\\.10:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-bottom:var(--leather-spacing-space\\\\.10)}.leather-pb_72px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-bottom:72px}.leather-left_0px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){left:0px}.leather-top_0px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){top:0px}.leather-bottom_space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){bottom:var(--leather-spacing-space\\\\.03)}.leather-left_space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){left:var(--leather-spacing-space\\\\.03)}.leather-right_12px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){right:12px}.leather-top_12px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){top:12px}.leather-pb_100\\\\%:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-bottom:100%}.leather-cg_space\\\\.02:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){-moz-column-gap:var(--leather-spacing-space\\\\.02);column-gap:var(--leather-spacing-space\\\\.02)}.leather-grid-tc_repeat\\\\(auto-fill\\\\,_minmax\\\\(156px\\\\,_1fr\\\\)\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){grid-template-columns:repeat(auto-fill,minmax(156px,1fr))}.leather-mt_space\\\\.01:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:var(--leather-spacing-space\\\\.01)}.leather-top_30\\\\%:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){top:30%}.leather-mt_48px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:48px}.leather-mt_24px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:24px}.leather-mr_20px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-right:20px}.leather-mt_16px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:16px}.leather-top_-16px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){top:-16px}.leather-right_-space\\\\.02:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){right:calc(var(--leather-spacing-space\\\\.02) * -1)}.leather-lh_inherit:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){line-height:inherit}.leather-fs_inherit:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){font-size:inherit}.leather-mr_space\\\\.07:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-right:var(--leather-spacing-space\\\\.07)}.leather-mb_space\\\\.06:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-bottom:var(--leather-spacing-space\\\\.06)}.leather-ml_space\\\\.02:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-left:var(--leather-spacing-space\\\\.02)}.leather-ai_flex-end:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){align-items:flex-end}.leather-fs_12px\\\\!:not(#\\\\#):not(#\\\\#){font-size:12px!important}.leather-mr_space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-right:var(--leather-spacing-space\\\\.03)}.leather-ml_space\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-left:var(--leather-spacing-space\\\\.04)}.leather-mr_space\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-right:var(--leather-spacing-space\\\\.04)}.leather-ov-x_scroll:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){overflow-x:scroll}.leather-lh_1\\\\.7:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){line-height:1.7}.leather-lh_1\\\\.5:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){line-height:1.5}.leather-left_Stacks_Token:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){left:Stacks Token}.leather-flex-g_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){flex-grow:0}.leather-pb_space\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-bottom:var(--leather-spacing-space\\\\.04)}.leather-ai_left:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){align-items:left}.leather-mt_space\\\\.08:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:var(--leather-spacing-space\\\\.08)}.leather-content_Speed_things_up_by_pasting_your_entire_Secret_Key_in_one_go\\\\.:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){content:Speed things up by pasting your entire Secret Key in one go.}.leather-flex-d_column-reverse:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){flex-direction:column-reverse}.leather-mt_space\\\\.07:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:var(--leather-spacing-space\\\\.07)}.leather-bd-c_\\\\#F5F1ED:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-color:#F5F1ED}.leather-pb_space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-bottom:var(--leather-spacing-space\\\\.03)}.leather-justify-items_center:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){justify-items:center}.leather-mb_36px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-bottom:36px}.leather-ml_space\\\\.05:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-left:var(--leather-spacing-space\\\\.05)}.leather-grid-tc_repeat\\\\(1\\\\,_minmax\\\\(160px\\\\,_1fr\\\\)\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){grid-template-columns:repeat(1,minmax(160px,1fr))}.leather-cg_space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){-moz-column-gap:var(--leather-spacing-space\\\\.03);column-gap:var(--leather-spacing-space\\\\.03)}.leather-rg_space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){row-gap:var(--leather-spacing-space\\\\.03)}.leather-pr_space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-right:var(--leather-spacing-space\\\\.03)}.leather-top_-20px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){top:-20px}.leather-justify-items_flex-start:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){justify-items:flex-start}.leather-lh_24px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){line-height:24px}.leather-mb_1:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-bottom:1px}.leather-mb_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-bottom:0}.leather-top_22px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){top:22px}.leather-ff_Marche:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){font-family:Marche}.leather-mt_12px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:12px}.leather-right_space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){right:var(--leather-spacing-space\\\\.03)}.leather-top_9px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){top:9px}.leather-mt_unset:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:0;margin-top:initial}.leather-mb_unset:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-bottom:0;margin-bottom:initial}.leather-as_flex-start:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){align-self:flex-start}.\\\\[\\\\&_\\\\>_\\\\.accordion-icon\\\\]\\\\:leather-trs_transform_0\\\\.2s:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#)>.accordion-icon{transition:transform 0.2s}.\\\\[\\\\&\\\\[data-state\\\\=\\\\'open\\\\'\\\\]\\\\]\\\\:leather-anim_slideDown_300ms_ease-in[data-state=open]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){animation:slideDown 300ms ease-in}.\\\\[\\\\&\\\\[data-state\\\\=\\\\'closed\\\\'\\\\]\\\\]\\\\:leather-anim_slideUp_150ms[data-state=closed]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){animation:slideUp 150ms}[data-state=open]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#) .\\\\[\\\\[data-state\\\\=open\\\\]_\\\\&\\\\]\\\\:leather-bg_ink\\\\.component-background-pressed{background:var(--leather-colors-ink-component-background-pressed)}.\\\\[\\\\&\\\\[data-state\\\\=open\\\\]\\\\]\\\\:leather-bg_ink\\\\.component-background-pressed[data-state=open]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-component-background-pressed)}.before\\\\:leather-bdr_xs:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{border-radius:var(--leather-radii-xs)}.before\\\\:leather-pos_absolute:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{position:absolute}.before\\\\:leather-bd_3px_solid_transparent:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{border:3px solid transparent}.before\\\\:leather-z_9:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{z-index:9}.before\\\\:leather-pointer-events_none:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{pointer-events:none}.\\\\[\\\\&\\\\[data-has-error\\\\=\\\\\"true\\\\\"\\\\]\\\\]\\\\:leather-c_red\\\\.action-primary-default[data-has-error=true]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-red-action-primary-default)}[data-has-value=true]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#) .\\\\[\\\\[data-has-value\\\\=\\\\\"true\\\\\"\\\\]_\\\\&\\\\]\\\\:leather-trf_translateY\\\\(-12px\\\\){transform:translateY(-12px)}[data-has-value=true]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#) .\\\\[\\\\[data-has-value\\\\=\\\\\"true\\\\\"\\\\]_\\\\&\\\\]\\\\:leather-pointer-events_all{pointer-events:all}[data-shrink=true]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#) .\\\\[\\\\[data-shrink\\\\=\\\\\"true\\\\\"\\\\]_\\\\&\\\\]\\\\:leather-trf_translateY\\\\(-12px\\\\){transform:translateY(-12px)}[data-shrink=true]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#) .\\\\[\\\\[data-shrink\\\\=\\\\\"true\\\\\"\\\\]_\\\\&\\\\]\\\\:leather-pointer-events_all{pointer-events:all}.disabled\\\\:leather-bg_ink\\\\.component-background-default:disabled:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-component-background-default)}.disabled\\\\:leather-bg_ink\\\\.component-background-default[disabled]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.disabled\\\\:leather-bg_ink\\\\.component-background-default[data-disabled]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-component-background-default)}.disabled\\\\:leather-cursor_not-allowed:disabled:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){cursor:not-allowed}.disabled\\\\:leather-cursor_not-allowed[disabled]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.disabled\\\\:leather-cursor_not-allowed[data-disabled]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){cursor:not-allowed}.placeholder\\\\:leather-c_ink\\\\.text-subdued:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#)::-moz-placeholder{color:var(--leather-colors-ink-text-subdued)}.placeholder\\\\:leather-c_ink\\\\.text-subdued:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#)::placeholder,.placeholder\\\\:leather-c_ink\\\\.text-subdued[data-placeholder]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-subdued)}.\\\\[\\\\&\\\\:-moz-placeholder-shown_\\\\+_label\\\\]\\\\:leather-trf_translateY\\\\(-12px\\\\):-moz-placeholder-shown:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#)+label{transform:translateY(-12px)}.\\\\[\\\\&\\\\:placeholder-shown_\\\\+_label\\\\]\\\\:leather-trf_translateY\\\\(-12px\\\\):placeholder-shown:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#)+label{transform:translateY(-12px)}.\\\\[\\\\&\\\\:-moz-placeholder-shown_\\\\+_label\\\\]\\\\:leather-pointer-events_all:-moz-placeholder-shown:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#)+label{pointer-events:all}.\\\\[\\\\&\\\\:placeholder-shown_\\\\+_label\\\\]\\\\:leather-pointer-events_all:placeholder-shown:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#)+label{pointer-events:all}.before\\\\:leather-bg_ink\\\\.text-non-interactive:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:var(--leather-colors-ink-text-non-interactive)}.before\\\\:leather-h_2px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{height:2px}.before\\\\:leather-vis_visible:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{visibility:visible}.\\\\[\\\\&\\\\:is\\\\(\\\\:disabled\\\\,_\\\\[data-disabled\\\\]\\\\)\\\\]\\\\:leather-c_ink\\\\.text-non-interactive:disabled:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-non-interactive)}.\\\\[\\\\&\\\\:is\\\\(\\\\:disabled\\\\,_\\\\[data-disabled\\\\]\\\\)\\\\]\\\\:leather-c_ink\\\\.text-non-interactive[data-disabled]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-non-interactive)}.\\\\[\\\\&\\\\:is\\\\(\\\\:disabled\\\\,_\\\\[data-disabled\\\\]\\\\)\\\\]\\\\:leather-cursor_not-allowed:disabled:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){cursor:not-allowed}.\\\\[\\\\&\\\\:is\\\\(\\\\:disabled\\\\,_\\\\[data-disabled\\\\]\\\\)\\\\]\\\\:leather-cursor_not-allowed[data-disabled]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){cursor:not-allowed}.group:disabled:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#) .groupDisabled\\\\:leather-c_ink\\\\.text-non-interactive{color:var(--leather-colors-ink-text-non-interactive)}.group[disabled]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#) .groupDisabled\\\\:leather-c_ink\\\\.text-non-interactive,.group[data-disabled]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#) .groupDisabled\\\\:leather-c_ink\\\\.text-non-interactive{color:var(--leather-colors-ink-text-non-interactive)}.\\\\[\\\\&\\\\[data-state\\\\=open\\\\]\\\\]\\\\:leather-anim_0[data-state=open]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){animation:0}.\\\\[\\\\&\\\\[data-state\\\\=loading\\\\]\\\\]\\\\:leather-d_inline-block[data-state=loading]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){display:inline-block}.\\\\[\\\\&\\\\[data-state\\\\=loading\\\\]\\\\]\\\\:leather--webkit-mask_linear-gradient\\\\(-60deg\\\\,_\\\\#000_30\\\\%\\\\,_\\\\#0005\\\\,_\\\\#000_70\\\\%\\\\)_right\\\\/300\\\\%_100\\\\%[data-state=loading]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){-webkit-mask:linear-gradient(-60deg,#000 30%,rgba(0,0,0,0.33333),#000 70%) right/300% 100%}.\\\\[\\\\&\\\\[data-state\\\\=loading\\\\]\\\\]\\\\:leather-anim_shimmer_1\\\\.5s_infinite[data-state=loading]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){animation:shimmer 1.5s infinite}.\\\\[\\\\&\\\\[data-state\\\\=loading\\\\]\\\\]\\\\:leather-c_ink\\\\.text-subdued[data-state=loading]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-subdued)}.\\\\[\\\\&\\\\[data-state\\\\=\\\\\"checked\\\\\"\\\\]\\\\]\\\\:leather-trf_translateX\\\\(19px\\\\)[data-state=checked]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){transform:translateX(19px)}.\\\\[\\\\&\\\\[data-state\\\\=\\\\\"active\\\\\"\\\\]\\\\]\\\\:leather-c_ink\\\\.text-primary[data-state=active]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-primary)}.before\\\\:leather-w_100\\\\%:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{width:100%}.before\\\\:leather-bg_ink\\\\.border-default:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:var(--leather-colors-ink-border-default)}.\\\\[\\\\&\\\\[data-state\\\\=open\\\\]\\\\]\\\\:leather-anim_toastAppear_160ms_cubic-bezier\\\\(0\\\\,_0\\\\.45\\\\,_0\\\\.6\\\\,_1\\\\)_forwards[data-state=open]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){animation:toastAppear 160ms cubic-bezier(0,0.45,0.6,1) forwards}.\\\\[\\\\&\\\\[data-state\\\\=closed\\\\]\\\\]\\\\:leather-anim_fadeout[data-state=closed]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){animation:fadeout}.\\\\[\\\\&\\\\[data-state\\\\=\\\\\"closed\\\\\"\\\\]\\\\]\\\\:leather-anim_fadeout_0\\\\.2s_ease-out[data-state=closed]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){animation:fadeout 0.2s ease-out}.\\\\[\\\\&_\\\\>_\\\\*\\\\:not\\\\(\\\\.skip-animation\\\\)\\\\]\\\\:leather-op_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#)>:not(.skip-animation){opacity:0}.\\\\[\\\\&_\\\\>_\\\\*\\\\:not\\\\(\\\\.skip-animation\\\\)\\\\]\\\\:leather-trf_translateY\\\\(-16px\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#)>:not(.skip-animation){transform:translateY(-16px)}.\\\\[\\\\&_\\\\>_\\\\*\\\\]\\\\:leather-flex_1:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#)>*{flex:1 1 0%}.before\\\\:leather-w_500px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{width:500px}.before\\\\:leather-h_500px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{height:500px}.before\\\\:leather-anim_barberpole_40s_linear_infinite:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{animation:barberpole 40s linear infinite}.\\\\[\\\\&_pre\\\\]\\\\:leather-white-space_pre-wrap:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#) pre{white-space:pre-wrap}.\\\\[\\\\&_pre\\\\]\\\\:leather-word-wrap_break-word:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#) pre{word-wrap:break-word}.before\\\\:leather-bg_transparent:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:transparent}.after\\\\:leather-pos_absolute:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):after{position:absolute}.after\\\\:leather-h_30px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):after{height:30px}.after\\\\:leather-w_100\\\\%:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):after{width:100%}.disabled\\\\:leather-bg_ink\\\\.background-primary:disabled:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-background-primary)}.disabled\\\\:leather-bg_ink\\\\.background-primary[disabled]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.disabled\\\\:leather-bg_ink\\\\.background-primary[data-disabled]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-background-primary)}.disabled\\\\:leather-c_ink\\\\.text-subdued:disabled:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-subdued)}.disabled\\\\:leather-c_ink\\\\.text-subdued[disabled]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.disabled\\\\:leather-c_ink\\\\.text-subdued[data-disabled]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-subdued)}.before\\\\:leather-bd-c_ink\\\\.background-secondary:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{border-color:var(--leather-colors-ink-background-secondary)}.\\\\[\\\\&\\\\[data-align\\\\=\\\\\"top\\\\\"\\\\]\\\\]\\\\:leather-ai_start[data-align=top]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){align-items:start}.\\\\[\\\\&\\\\[data-align\\\\=\\\\\"middle\\\\\"\\\\]\\\\]\\\\:leather-ai_center[data-align=middle]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){align-items:center}.\\\\[\\\\&\\\\[data-align\\\\=\\\\\"bottom\\\\\"\\\\]\\\\]\\\\:leather-ai_end[data-align=bottom]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){align-items:end}.before\\\\:leather-content_\\\\\"\\\\\":not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{content:\"\"}.before\\\\:leather-top_-1px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{top:-1px}.before\\\\:leather-left_-1px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{left:-1px}.before\\\\:leather-right_-1px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{right:-1px}.before\\\\:leather-bottom_-1px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{bottom:-1px}[data-has-value=true]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#) .\\\\[\\\\[data-has-value\\\\=\\\\\"true\\\\\"\\\\]_\\\\&\\\\]\\\\:leather-fw_500{font-weight:500}[data-shrink=true]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#) .\\\\[\\\\[data-shrink\\\\=\\\\\"true\\\\\"\\\\]_\\\\&\\\\]\\\\:leather-fw_500{font-weight:500}.disabled\\\\:leather-bd-c_ink\\\\.text-non-interactive:disabled:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-color:var(--leather-colors-ink-text-non-interactive)}.disabled\\\\:leather-bd-c_ink\\\\.text-non-interactive[disabled]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.disabled\\\\:leather-bd-c_ink\\\\.text-non-interactive[data-disabled]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-color:var(--leather-colors-ink-text-non-interactive)}.\\\\[\\\\&\\\\:-moz-placeholder-shown_\\\\+_label\\\\]\\\\:leather-fw_500:-moz-placeholder-shown:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#)+label{font-weight:500}.\\\\[\\\\&\\\\:placeholder-shown_\\\\+_label\\\\]\\\\:leather-fw_500:placeholder-shown:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#)+label{font-weight:500}[data-has-label=true]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#) .\\\\[\\\\[data-has-label\\\\=\\\\\"true\\\\\"\\\\]_\\\\&\\\\]\\\\:leather-pt_22px{padding-top:22px}.before\\\\:leather-bottom_-2px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{bottom:-2px}.before\\\\:leather-left_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{left:0}.before\\\\:leather-right_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{right:0}.before\\\\:leather-top_-space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{top:calc(var(--leather-spacing-space\\\\.03) * -1)}.before\\\\:leather-left_-space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{left:calc(var(--leather-spacing-space\\\\.03) * -1)}.before\\\\:leather-bottom_-space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{bottom:calc(var(--leather-spacing-space\\\\.03) * -1)}.before\\\\:leather-right_-space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{right:calc(var(--leather-spacing-space\\\\.03) * -1)}.\\\\[\\\\&\\\\[data-side\\\\=bottom\\\\]\\\\]\\\\:leather-anim-n_slideUpAndFade[data-side=bottom]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){animation-name:slideUpAndFade}.\\\\[\\\\&\\\\[data-state\\\\=loading\\\\]\\\\]\\\\:leather-bg-r_no-repeat[data-state=loading]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background-repeat:no-repeat}.\\\\[\\\\&\\\\[data-state\\\\=\\\\\"checked\\\\\"\\\\]\\\\]\\\\:leather-bg-c_ink\\\\.text-primary[data-state=checked]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background-color:var(--leather-colors-ink-text-primary)}.before\\\\:leather-bottom_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{bottom:0}.\\\\[\\\\&\\\\[data-state\\\\=\\\\'delayed-open\\\\'\\\\]\\\\[data-side\\\\=\\\\'top\\\\'\\\\]\\\\]\\\\:leather-anim-n_slideDownAndFade[data-state=delayed-open][data-side=top]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){animation-name:slideDownAndFade}.\\\\[\\\\&\\\\[data-state\\\\=\\\\'delayed-open\\\\'\\\\]\\\\[data-side\\\\=\\\\'right\\\\'\\\\]\\\\]\\\\:leather-anim-n_slideLeftAndFade[data-state=delayed-open][data-side=right]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){animation-name:slideLeftAndFade}.\\\\[\\\\&\\\\[data-state\\\\=\\\\'delayed-open\\\\'\\\\]\\\\[data-side\\\\=\\\\'bottom\\\\'\\\\]\\\\]\\\\:leather-anim-n_slideUpAndFade[data-state=delayed-open][data-side=bottom]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){animation-name:slideUpAndFade}.\\\\[\\\\&\\\\[data-state\\\\=\\\\'delayed-open\\\\'\\\\]\\\\[data-side\\\\=\\\\'left\\\\'\\\\]\\\\]\\\\:leather-anim-n_slideRightAndFade[data-state=delayed-open][data-side=left]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){animation-name:slideRightAndFade}.\\\\[\\\\&_\\\\.approver-section\\\\:last-child\\\\]\\\\:leather-mb_space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#) .approver-section:last-child{margin-bottom:var(--leather-spacing-space\\\\.03)}.before\\\\:leather-bg-i_repeating-linear-gradient\\\\(45deg\\\\,_\\\\#F07D12\\\\,_\\\\#F07D12_16px\\\\,_\\\\#FFB977_16px\\\\,_\\\\#FFB977_32px\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background-image:repeating-linear-gradient(45deg,#F07D12,#F07D12 16px,#FFB977 16px,#FFB977 32px)}.before\\\\:leather-bg-s_193\\\\%_100\\\\%:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background-size:193% 100%}.\\\\[\\\\&_pre\\\\]\\\\:leather-ov-x_auto:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#) pre{overflow-x:auto}.after\\\\:leather-content_\\\\\"\\\\\":not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):after{content:\"\"}.after\\\\:leather-bottom_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):after{bottom:0}.after\\\\:leather-left_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):after{left:0}.after\\\\:leather-bg-i_linear-gradient\\\\(rgba\\\\(0\\\\,0\\\\,0\\\\,0\\\\)\\\\,_rgba\\\\(0\\\\,0\\\\,0\\\\,1\\\\)\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):after{background-image:linear-gradient(rgba(0,0,0,0),rgba(0,0,0,1))}.focusWithin\\\\:leather-op_inherit:focus-within:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){opacity:inherit}.focusWithin\\\\:leather-bd_action:focus-within:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:var(--leather-borders-action)}.focus\\\\:leather-ring_none:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.focus\\\\:leather-ring_none[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){outline:2px solid transparent;outline-offset:2px}.focus\\\\:leather-ring_0:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.focus\\\\:leather-ring_0[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){outline:0}.focusVisible\\\\:leather-ring_0:focus-visible:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){outline:0}.focusVisible\\\\:leather-ring_0[data-focus-visible]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){outline:0}.focus\\\\:leather-bd_focus:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.focus\\\\:leather-bd_focus[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:var(--leather-borders-focus)}.focus\\\\:leather-td_underline:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.focus\\\\:leather-td_underline[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){-webkit-text-decoration:underline;text-decoration:underline}.focus\\\\:leather-ring_focus:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.focus\\\\:leather-ring_focus[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){outline:var(--leather-borders-focus)}.focus\\\\:leather-ring_unset:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.focus\\\\:leather-ring_unset[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){outline:medium none currentcolor;outline:initial}.focus\\\\:leather-ring-o_-4px:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.focus\\\\:leather-ring-o_-4px[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){outline-offset:-4px}.focus\\\\:leather-ring-o_unset:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.focus\\\\:leather-ring-o_unset[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){outline-offset:initial}.focus\\\\:leather-cp-path_none:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.focus\\\\:leather-cp-path_none[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){clip-path:none;-webkit-clip-path:none}.focus\\\\:leather-ring_1px_solid_white:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.focus\\\\:leather-ring_1px_solid_white[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){outline:1px solid white}.focus\\\\:leather-bx-sh_0px_8px_16px_rgba\\\\(0\\\\,_0\\\\,_0\\\\,_0\\\\.08\\\\):focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.focus\\\\:leather-bx-sh_0px_8px_16px_rgba\\\\(0\\\\,_0\\\\,_0\\\\,_0\\\\.08\\\\)[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){box-shadow:0px 8px 16px rgba(0,0,0,0.08)}.focus\\\\:leather-m_-2px:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.focus\\\\:leather-m_-2px[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin:-2px}.focus\\\\:leather-bg_transparent:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.focus\\\\:leather-bg_transparent[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:transparent}.focus\\\\:leather-bd_none:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.focus\\\\:leather-bd_none[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:none}.focus\\\\:leather-c_ink\\\\.text-primary:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.focus\\\\:leather-c_ink\\\\.text-primary[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-primary)}.hover\\\\:leather-c_ink\\\\.action-primary-hover:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.hover\\\\:leather-c_ink\\\\.action-primary-hover[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-action-primary-hover)}.hover\\\\:leather-bg_ink\\\\.background-primary:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.hover\\\\:leather-bg_ink\\\\.background-primary[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-background-primary)}.hover\\\\:leather-bg_ink\\\\.action-primary-hover:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.hover\\\\:leather-bg_ink\\\\.action-primary-hover[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-action-primary-hover)}.hover\\\\:leather-bg_ink\\\\.component-background-hover:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.hover\\\\:leather-bg_ink\\\\.component-background-hover[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-component-background-hover)}.hover\\\\:leather-c_ink\\\\.text-subdued:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.hover\\\\:leather-c_ink\\\\.text-subdued[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-subdued)}.hover\\\\:leather-bg_ink\\\\.background-secondary:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.hover\\\\:leather-bg_ink\\\\.background-secondary[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-background-secondary)}.hover\\\\:leather-cursor_pointer:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.hover\\\\:leather-cursor_pointer[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){cursor:pointer}.hover\\\\:leather-bg_unset:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.hover\\\\:leather-bg_unset[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.hover\\\\:leather-bdr_xs:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.hover\\\\:leather-bdr_xs[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-radius:var(--leather-radii-xs)}.hover\\\\:leather-c_ink\\\\.text-primary:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.hover\\\\:leather-c_ink\\\\.text-primary[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-primary)}.hover\\\\:leather-cursor_default:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.hover\\\\:leather-cursor_default[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){cursor:default}.hover\\\\:leather-bx-sh_0px_8px_16px_rgba\\\\(0\\\\,_0\\\\,_0\\\\,_0\\\\.08\\\\):hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.hover\\\\:leather-bx-sh_0px_8px_16px_rgba\\\\(0\\\\,_0\\\\,_0\\\\,_0\\\\.08\\\\)[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){box-shadow:0px 8px 16px rgba(0,0,0,0.08)}.hover\\\\:leather-c_\\\\#F5F1ED:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.hover\\\\:leather-c_\\\\#F5F1ED[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:#F5F1ED}.hover\\\\:leather-c_\\\\#12100F:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.hover\\\\:leather-c_\\\\#12100F[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:#12100F}.hover\\\\:leather-c_ink\\\\.background-secondary:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.hover\\\\:leather-c_ink\\\\.background-secondary[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-background-secondary)}.hover\\\\:leather-bg_transparent:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.hover\\\\:leather-bg_transparent[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:transparent}.hover\\\\:leather-ring_none:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.hover\\\\:leather-ring_none[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){outline:2px solid transparent;outline-offset:2px}.hover\\\\:leather-bd-c_ink\\\\.text-primary:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.hover\\\\:leather-bd-c_ink\\\\.text-primary[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-color:var(--leather-colors-ink-text-primary)}.active\\\\:leather-bg_ink\\\\.component-background-pressed:active:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-component-background-pressed)}.active\\\\:leather-bg_ink\\\\.component-background-pressed[data-active]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-component-background-pressed)}.active\\\\:leather-bg_ink\\\\.text-primary:active:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-text-primary)}.active\\\\:leather-bg_ink\\\\.text-primary[data-active]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-text-primary)}.\\\\[\\\\&\\\\[data-state\\\\=\\\\'open\\\\'\\\\]\\\\]\\\\:\\\\[\\\\&_\\\\>_\\\\.accordion-icon\\\\]\\\\:leather-trf_rotate\\\\(180deg\\\\)[data-state=open]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#)>.accordion-icon{transform:rotate(180deg)}.\\\\[\\\\&\\\\:is\\\\(\\\\:disabled\\\\,_\\\\[data-disabled\\\\]\\\\)\\\\]\\\\:active\\\\:leather-bg_unset:disabled:active:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.\\\\[\\\\&\\\\:is\\\\(\\\\:disabled\\\\,_\\\\[data-disabled\\\\]\\\\)\\\\]\\\\:active\\\\:leather-bg_unset[data-active]:disabled:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.\\\\[\\\\&\\\\:is\\\\(\\\\:disabled\\\\,_\\\\[data-disabled\\\\]\\\\)\\\\]\\\\:active\\\\:leather-bg_unset[data-disabled]:active:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.\\\\[\\\\&\\\\:is\\\\(\\\\:disabled\\\\,_\\\\[data-disabled\\\\]\\\\)\\\\]\\\\:active\\\\:leather-bg_unset[data-disabled][data-active]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.\\\\[\\\\&\\\\:is\\\\(\\\\:disabled\\\\,_\\\\[data-disabled\\\\]\\\\)\\\\]\\\\:focus\\\\:leather-bd_unset:disabled:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:medium none currentcolor;border:initial}.\\\\[\\\\&\\\\:is\\\\(\\\\:disabled\\\\,_\\\\[data-disabled\\\\]\\\\)\\\\]\\\\:focus\\\\:leather-bd_unset[data-focus]:disabled:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:medium none currentcolor;border:initial}.\\\\[\\\\&\\\\:is\\\\(\\\\:disabled\\\\,_\\\\[data-disabled\\\\]\\\\)\\\\]\\\\:focus\\\\:leather-bd_unset[data-disabled]:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.\\\\[\\\\&\\\\:is\\\\(\\\\:disabled\\\\,_\\\\[data-disabled\\\\]\\\\)\\\\]\\\\:focus\\\\:leather-bd_unset[data-disabled][data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:medium none currentcolor;border:initial}.\\\\[\\\\&\\\\:is\\\\(\\\\:disabled\\\\,_\\\\[data-disabled\\\\]\\\\)\\\\]\\\\:hover\\\\:leather-bg_unset:disabled:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.\\\\[\\\\&\\\\:is\\\\(\\\\:disabled\\\\,_\\\\[data-disabled\\\\]\\\\)\\\\]\\\\:hover\\\\:leather-bg_unset[data-hover]:disabled:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.\\\\[\\\\&\\\\:is\\\\(\\\\:disabled\\\\,_\\\\[data-disabled\\\\]\\\\)\\\\]\\\\:hover\\\\:leather-bg_unset[data-disabled]:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.\\\\[\\\\&\\\\:is\\\\(\\\\:disabled\\\\,_\\\\[data-disabled\\\\]\\\\)\\\\]\\\\:hover\\\\:leather-bg_unset[data-disabled][data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.\\\\[\\\\&\\\\[data-state\\\\=\\\\\"active\\\\\"\\\\]\\\\]\\\\:before\\\\:leather-pos_absolute[data-state=active]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{position:absolute}.\\\\[\\\\&\\\\[data-state\\\\=\\\\\"active\\\\\"\\\\]\\\\]\\\\:before\\\\:leather-h_2px[data-state=active]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{height:2px}.\\\\[\\\\&\\\\[data-state\\\\=\\\\\"active\\\\\"\\\\]\\\\]\\\\:before\\\\:leather-w_100\\\\%[data-state=active]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{width:100%}.\\\\[\\\\&\\\\[data-state\\\\=\\\\\"active\\\\\"\\\\]\\\\]\\\\:before\\\\:leather-bg_ink\\\\.text-subdued[data-state=active]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:var(--leather-colors-ink-text-subdued)}.\\\\[\\\\&\\\\[data-state\\\\=\\\\\"active\\\\\"\\\\]\\\\]\\\\:before\\\\:leather-z_10[data-state=active]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{z-index:10}.loading\\\\:after\\\\:leather-bd-c_ink\\\\.text-primary[data-loading]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):after{border-color:var(--leather-colors-ink-text-primary)}.loading\\\\:after\\\\:leather-bd-c_ink\\\\.text-primary[aria-busy=true]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):after{border-color:var(--leather-colors-ink-text-primary)}.\\\\[\\\\&\\\\[data-has-error\\\\=\\\\\"true\\\\\"\\\\]\\\\]\\\\:before\\\\:leather-bd-c_red\\\\.action-primary-default[data-has-error=true]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{border-color:var(--leather-colors-red-action-primary-default)}.\\\\[\\\\&\\\\[data-has-error\\\\=\\\\\"true\\\\\"\\\\]\\\\]\\\\:before\\\\:leather-bd-w_2px[data-has-error=true]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{border-width:2px}.\\\\[\\\\&\\\\[data-state\\\\=\\\\\"active\\\\\"\\\\]\\\\]\\\\:before\\\\:leather-content_\\\\\"\\\\\"[data-state=active]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{content:\"\"}.\\\\[\\\\&\\\\[data-state\\\\=\\\\\"active\\\\\"\\\\]\\\\]\\\\:before\\\\:leather-bottom_0[data-state=active]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{bottom:0}.focusWithin\\\\:\\\\[\\\\&_label\\\\]\\\\:leather-c_ink\\\\.text-primary:focus-within:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#) label{color:var(--leather-colors-ink-text-primary)}.focusWithin\\\\:\\\\[\\\\&_label\\\\]\\\\:leather-trf_translateY\\\\(-12px\\\\):focus-within:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#) label{transform:translateY(-12px)}.focusWithin\\\\:\\\\[\\\\&_label\\\\]\\\\:leather-pointer-events_all:focus-within:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#) label{pointer-events:all}.focusWithin\\\\:before\\\\:leather-bd_action:focus-within:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{border:var(--leather-borders-action)}.focusWithin\\\\:\\\\[\\\\&_label\\\\]\\\\:leather-fw_500:focus-within:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#) label{font-weight:500}.focusWithin\\\\:before\\\\:leather-bd-w_2px:focus-within:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{border-width:2px}.focus\\\\:before\\\\:leather-bg_ink\\\\.background-primary:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:var(--leather-colors-ink-background-primary)}.focus\\\\:before\\\\:leather-bg_ink\\\\.background-primary[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:var(--leather-colors-ink-background-primary)}.focus\\\\:before\\\\:leather-vis_visible:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{visibility:visible}.focus\\\\:before\\\\:leather-vis_visible[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{visibility:visible}.\\\\[\\\\&\\\\:is\\\\(\\\\:focus-visible\\\\)\\\\]\\\\:before\\\\:leather-bdr_xs:focus-visible:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{border-radius:var(--leather-radii-xs)}.\\\\[\\\\&\\\\:is\\\\(\\\\:focus-visible\\\\)\\\\]\\\\:before\\\\:leather-pos_absolute:focus-visible:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{position:absolute}.\\\\[\\\\&\\\\:is\\\\(\\\\:focus-visible\\\\)\\\\]\\\\:before\\\\:leather-bd_2px_solid:focus-visible:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{border:2px solid}.\\\\[\\\\&\\\\:is\\\\(\\\\:focus-visible\\\\)\\\\]\\\\:focusWithin\\\\:leather-ring_none:focus-visible:focus-within:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){outline:2px solid transparent;outline-offset:2px}.focusVisible\\\\:before\\\\:leather-bg_lightModeBlue\\\\.500:focus-visible:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:lightModeBlue.500}.focusVisible\\\\:before\\\\:leather-bg_lightModeBlue\\\\.500[data-focus-visible]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:lightModeBlue.500}.focus\\\\:before\\\\:leather-c_unset:focus:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{color:inherit}.focus\\\\:before\\\\:leather-c_unset[data-focus]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{color:inherit}.\\\\[\\\\&\\\\:is\\\\(\\\\:focus-visible\\\\)\\\\]\\\\:before\\\\:leather-content_\\\\\"\\\\\":focus-visible:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{content:\"\"}.\\\\[\\\\&\\\\:is\\\\(\\\\:focus-visible\\\\)\\\\]\\\\:before\\\\:leather-top_-space\\\\.03:focus-visible:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{top:calc(var(--leather-spacing-space\\\\.03) * -1)}.\\\\[\\\\&\\\\:is\\\\(\\\\:focus-visible\\\\)\\\\]\\\\:before\\\\:leather-left_-space\\\\.03:focus-visible:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{left:calc(var(--leather-spacing-space\\\\.03) * -1)}.\\\\[\\\\&\\\\:is\\\\(\\\\:focus-visible\\\\)\\\\]\\\\:before\\\\:leather-bottom_-space\\\\.03:focus-visible:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{bottom:calc(var(--leather-spacing-space\\\\.03) * -1)}.\\\\[\\\\&\\\\:is\\\\(\\\\:focus-visible\\\\)\\\\]\\\\:before\\\\:leather-right_-space\\\\.03:focus-visible:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{right:calc(var(--leather-spacing-space\\\\.03) * -1)}.\\\\[\\\\&\\\\:is\\\\(\\\\:focus-visible\\\\)\\\\]\\\\:before\\\\:leather-bd-c_lightModeBlue\\\\.500:focus-visible:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{border-color:lightModeBlue.500}.hover\\\\:before\\\\:leather-bg_ink\\\\.background-primary:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:var(--leather-colors-ink-background-primary)}.hover\\\\:before\\\\:leather-bg_ink\\\\.background-primary[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:var(--leather-colors-ink-background-primary)}.hover\\\\:before\\\\:leather-vis_visible:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{visibility:visible}.hover\\\\:before\\\\:leather-vis_visible[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{visibility:visible}.\\\\[\\\\&\\\\:is\\\\(\\\\:hover\\\\,_\\\\[data-highlighted\\\\]\\\\)\\\\]\\\\:before\\\\:leather-bg_ink\\\\.component-background-hover:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:var(--leather-colors-ink-component-background-hover)}.\\\\[\\\\&\\\\:is\\\\(\\\\:hover\\\\,_\\\\[data-highlighted\\\\]\\\\)\\\\]\\\\:before\\\\:leather-bg_ink\\\\.component-background-hover[data-highlighted]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:var(--leather-colors-ink-component-background-hover)}.\\\\[\\\\&\\\\:is\\\\(\\\\:hover\\\\,_\\\\[data-highlighted\\\\]\\\\)\\\\]\\\\:before\\\\:leather-bd-c_transparent:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{border-color:transparent}.\\\\[\\\\&\\\\:is\\\\(\\\\:hover\\\\,_\\\\[data-highlighted\\\\]\\\\)\\\\]\\\\:before\\\\:leather-bd-c_transparent[data-highlighted]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{border-color:transparent}.\\\\[\\\\&\\\\:is\\\\(\\\\:active\\\\)\\\\]\\\\:before\\\\:leather-bg_ink\\\\.component-background-pressed:active:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):before{background:var(--leather-colors-ink-component-background-pressed)}@media screen and (min-width: 24.875rem){.leather-hide_sm:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){display:none}.sm\\\\:leather-px_space\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:var(--leather-spacing-space\\\\.04);padding-right:var(--leather-spacing-space\\\\.04)}.sm\\\\:leather-px_unset:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:0;padding-left:initial;padding-right:0;padding-right:initial}.sm\\\\:leather-py_space\\\\.06:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-top:var(--leather-spacing-space\\\\.06);padding-bottom:var(--leather-spacing-space\\\\.06)}.sm\\\\:leather-px_space\\\\.05:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:var(--leather-spacing-space\\\\.05);padding-right:var(--leather-spacing-space\\\\.05)}.sm\\\\:leather-bdr_lg:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-radius:var(--leather-radii-lg)}.sm\\\\:leather-pos_relative:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){position:relative}.sm\\\\:leather-bd_default:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:var(--leather-borders-default)}.sm\\\\:leather-h_100\\\\%:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:100%}.sm\\\\:leather-px_space\\\\.00:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:var(--leather-spacing-space\\\\.00);padding-right:var(--leather-spacing-space\\\\.00)}.sm\\\\:leather-w_17\\\\.5rem:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:17.5rem}.sm\\\\:leather-bd_unset:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border:medium none currentcolor;border:initial}.sm\\\\:leather-px_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:0;padding-right:0}.sm\\\\:leather-gap_space\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){gap:var(--leather-spacing-space\\\\.04)}.sm\\\\:leather-gap_48px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){gap:48px}.sm\\\\:leather-w_60\\\\%:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:60%}.sm\\\\:leather-grid-tc_repeat\\\\(2\\\\,_1fr\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){grid-template-columns:repeat(2,1fr)}.sm\\\\:leather-right_space\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){right:var(--leather-spacing-space\\\\.04)}.sm\\\\:leather-pb_space\\\\.08:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-bottom:var(--leather-spacing-space\\\\.08)}.sm\\\\:leather-mt_space\\\\.06:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:var(--leather-spacing-space\\\\.06)}.sm\\\\:leather-mt_space\\\\.07:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:var(--leather-spacing-space\\\\.07)}.sm\\\\:leather-mt_space\\\\.05:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:var(--leather-spacing-space\\\\.05)}.sm\\\\:leather-mb_33px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-bottom:33px}}@media screen and (min-width: 24.875rem){.hover\\\\:sm\\\\:leather-bg_unset:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.hover\\\\:sm\\\\:leather-bg_unset[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}}@media screen and (min-width: 24.875rem){.hover\\\\:sm\\\\:leather-bd-c_ink\\\\.text-primary:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.hover\\\\:sm\\\\:leather-bd-c_ink\\\\.text-primary[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-color:var(--leather-colors-ink-text-primary)}}@media screen and (min-width: 24.875rem) and (max-width: 47.9975rem){.smOnly\\\\:leather-max-w_342px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-width:342px}}@media screen and (min-width: 48rem){.leather-hide_md:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){display:none}.md\\\\:leather-bdr_md:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-radius:var(--leather-radii-md)}.md\\\\:leather-w_90vw:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:90vw}.md\\\\:leather-h_auto:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:auto}.md\\\\:leather-max-w_pageWidth:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-width:var(--leather-sizes-page-width)}.md\\\\:leather-max-h_90vh:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-height:90vh}.md\\\\:leather-px_6:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:6px;padding-right:6px}.md\\\\:leather-bg_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:0}.md\\\\:leather-pos_unset:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){position:static;position:initial}.md\\\\:leather-max-w_unset:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-width:none;max-width:initial}.md\\\\:leather-px_space\\\\.05:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:var(--leather-spacing-space\\\\.05);padding-right:var(--leather-spacing-space\\\\.05)}.md\\\\:leather-px_unset:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:0;padding-left:initial;padding-right:0;padding-right:initial}.md\\\\:leather-gap_space\\\\.06:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){gap:var(--leather-spacing-space\\\\.06)}.md\\\\:leather-py_space\\\\.07:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-top:var(--leather-spacing-space\\\\.07);padding-bottom:var(--leather-spacing-space\\\\.07)}.md\\\\:leather-px_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:0;padding-right:0}.md\\\\:leather-max-h_80vh:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-height:80vh}.md\\\\:leather-py_space\\\\.01:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-top:var(--leather-spacing-space\\\\.01);padding-bottom:var(--leather-spacing-space\\\\.01)}.md\\\\:leather-m_auto:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin:auto}.md\\\\:leather-max-w_fullPageMaxWidth:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){max-width:var(--leather-sizes-full-page-max-width)}.md\\\\:leather-px_space\\\\.00:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:var(--leather-spacing-space\\\\.00);padding-right:var(--leather-spacing-space\\\\.00)}.md\\\\:leather-mx_space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-left:var(--leather-spacing-space\\\\.03);margin-right:var(--leather-spacing-space\\\\.03)}.md\\\\:leather-w_unset:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){width:auto;width:initial}.md\\\\:leather-p_space\\\\.05:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding:var(--leather-spacing-space\\\\.05)}.md\\\\:leather-min-w_400px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){min-width:400px}.md\\\\:leather-h_fit-content:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){height:-moz-fit-content;height:fit-content}.md\\\\:leather-trf_translateY\\\\(-50\\\\%\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){transform:translateY(-50%)}.md\\\\:leather-gap_space\\\\.05:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){gap:var(--leather-spacing-space\\\\.05)}.md\\\\:leather-p_unset:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding:0;padding:initial}.md\\\\:leather-ta_center:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){text-align:center}.md\\\\:leather-gap_space\\\\.04:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){gap:var(--leather-spacing-space\\\\.04)}.md\\\\:leather-bg_ink\\\\.text-primary:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-text-primary)}.md\\\\:leather-flex_2:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){flex:2}.md\\\\:leather-flex_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){flex:0}.md\\\\:leather-c_ink\\\\.background-primary:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-background-primary)}.md\\\\:leather-bg_ink\\\\.background-secondary:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-background-secondary)}.md\\\\:leather-c_ink\\\\.text-primary:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:var(--leather-colors-ink-text-primary)}.md\\\\:leather-flex_1:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){flex:1 1 0%}.md\\\\:leather-bg_\\\\#F5F1ED:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:#F5F1ED}.md\\\\:leather-bg_\\\\#12100F:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:#12100F}.md\\\\:leather-c_\\\\#12100F:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:#12100F}.md\\\\:leather-c_\\\\#F5F1ED:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){color:#F5F1ED}.md\\\\:leather-grid-tc_repeat\\\\(3\\\\,_1fr\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){grid-template-columns:repeat(3,1fr)}.md\\\\:leather-mt_space\\\\.03:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:var(--leather-spacing-space\\\\.03)}.md\\\\:leather-pb_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-bottom:0}.md\\\\:leather-mb_unset:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-bottom:0;margin-bottom:initial}.md\\\\:leather-flex-d_row:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){flex-direction:row}.md\\\\:leather-mb_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-bottom:0}.md\\\\:leather-grid-tc_repeat\\\\(auto-fill\\\\,_minmax\\\\(184px\\\\,_1fr\\\\)\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){grid-template-columns:repeat(auto-fill,minmax(184px,1fr))}.md\\\\:leather-top_50\\\\%:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){top:50%}.md\\\\:leather-mt_unset:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:0;margin-top:initial}.md\\\\:leather-ai_center:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){align-items:center}.md\\\\:leather-mt_space\\\\.05:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:var(--leather-spacing-space\\\\.05)}.md\\\\:leather-jc_flex-start:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){justify-content:flex-start}.md\\\\:leather-mt_space\\\\.07:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:var(--leather-spacing-space\\\\.07)}.md\\\\:leather-bd-c_\\\\#F5F1ED:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-color:#F5F1ED}.md\\\\:leather-bd-c_\\\\#12100F:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-color:#12100F}.md\\\\:leather-mt_100px:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-top:100px}.md\\\\:leather-pt_0:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-top:0}.md\\\\:leather-grid-tc_repeat\\\\(2\\\\,_minmax\\\\(170px\\\\,_1fr\\\\)\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){grid-template-columns:repeat(2,minmax(170px,1fr))}}@media screen and (min-width: 48rem){.\\\\[\\\\&\\\\[data-state\\\\=open\\\\]\\\\]\\\\:md\\\\:leather-anim_contentShow_150ms_cubic-bezier\\\\(0\\\\.16\\\\,_1\\\\,_0\\\\.3\\\\,_1\\\\)[data-state=open]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){animation:contentShow 150ms cubic-bezier(0.16,1,0.3,1)}}@media screen and (min-width: 48rem){.hover\\\\:md\\\\:leather-bg_ink\\\\.text-primary:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.hover\\\\:md\\\\:leather-bg_ink\\\\.text-primary[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){background:var(--leather-colors-ink-text-primary)}}@media screen and (min-width: 48rem){.hover\\\\:md\\\\:leather-bd-c_ink\\\\.text-subdued:hover:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#),.hover\\\\:md\\\\:leather-bd-c_ink\\\\.text-subdued[data-hover]:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){border-color:var(--leather-colors-ink-text-subdued)}}@media screen and (min-width: 64rem){.lg\\\\:leather-px_8:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){padding-left:8px;padding-right:8px}.lg\\\\:leather-mx_space\\\\.06:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){margin-left:var(--leather-spacing-space\\\\.06);margin-right:var(--leather-spacing-space\\\\.06)}.lg\\\\:leather-min-w_twoColumnPageWidth:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){min-width:var(--leather-sizes-two-column-page-width)}.lg\\\\:leather-min-w_pageWidth:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){min-width:var(--leather-sizes-page-width)}.lg\\\\:leather-grid-tc_repeat\\\\(3\\\\,_minmax\\\\(170px\\\\,_1fr\\\\)\\\\):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){grid-template-columns:repeat(3,minmax(170px,1fr))}}@media screen and (max-width: 47.9975rem){.leather-show_md:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){display:none}}@media screen and (max-width: 24.8725rem){.leather-show_sm:not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#):not(#\\\\#){display:none}}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/index.css\"],\"names\":[],\"mappings\":\"AAAA,uBAAA,GAAA,SACA,CADA,0CACA,CADA,GAAA,SACA,CADA,uCACA,CAAA,CADA,kBAAA,GAAA,SACA,CADA,GAAA,SACA,CAAA,CADA,mBAAA,GAAA,SACA,CADA,GAAA,SACA,CAAA,CADA,iBAAA,GAAA,yBACA,CADA,GAAA,yBACA,CAAA,CADA,gBAAA,GAAA,sBACA,CADA,GAAA,wBACA,CAAA,CADA,wBAAA,GAAA,qBACA,CADA,GAAA,mBACA,CAAA,CADA,0BAAA,GAAA,SACA,CADA,yBACA,CADA,GAAA,SACA,CADA,uBACA,CAAA,CADA,6BAAA,GAAA,SACA,CADA,0BACA,CADA,GAAA,SACA,CADA,uBACA,CAAA,CADA,4BAAA,GAAA,SACA,CADA,0BACA,CADA,GAAA,SACA,CADA,uBACA,CAAA,CADA,4BAAA,GAAA,SACA,CADA,yBACA,CADA,GAAA,SACA,CADA,uBACA,CAAA,CADA,2BAAA,GAAA,SACA,CADA,uBACA,CADA,GAAA,SACA,CADA,yBACA,CAAA,CADA,qBAAA,GAAA,YACA,CADA,GAAA,iBACA,CAAA,CADA,mBAAA,GAAA,iBACA,CADA,GAAA,YACA,CAAA,CADA,uBAAA,GAAA,SACA,CADA,sCACA,CADA,GAAA,SACA,CADA,gCACA,CAAA,CADA,mBAAA,GAAA,0BACA,CADA,kBACA,CAAA,CADA,WAAA,+QACA,CADA,6BACA,CADA,kCACA,CADA,iCACA,CADA,eACA,CADA,aACA,CADA,UACA,CADA,uCACA,CADA,eACA,CADA,2QACA,CADA,wDACA,CADA,mDAAA,UACA,CADA,WACA,CADA,qBACA,CADA,gBACA,CADA,kBACA,CADA,yBACA,CADA,oDACA,CADA,GAAA,UACA,CADA,aACA,CADA,oBACA,CADA,KAAA,WACA,CADA,mBACA,CADA,IAAA,iBACA,CADA,+CAAA,aACA,CADA,qBACA,CADA,UAAA,cACA,CADA,WACA,CADA,kBAAA,iBACA,CADA,iBACA,CADA,mBACA,CADA,oBAAA,oBACA,CADA,WAAA,eACA,CADA,oFAAA,sBACA,CADA,iBACA,CADA,yBACA,CADA,6DAAA,YACA,CADA,6BACA,CADA,+BACA,CADA,sBACA,CADA,aACA,CADA,sBACA,CADA,mBAAA,SACA,CADA,sEACA,CADA,qDACA,CADA,iEACA,CADA,cAAA,SACA,CADA,sEACA,CADA,qDACA,CADA,iEACA,CADA,SAAA,eACA,CADA,MAAA,eACA,CADA,wBACA,CADA,oBACA,CADA,QAAA,iBACA,CADA,MAAA,aACA,CADA,QAAA,iBACA,CADA,uBACA,CADA,aACA,CADA,aACA,CADA,IAAA,cACA,CADA,IAAA,UACA,CADA,OAAA,WACA,CADA,EAAA,aACA,CADA,uBACA,CADA,oBAAA,yBACA,CADA,wCACA,CADA,gCACA,CADA,SAAA,kBACA,CADA,kBAAA,sGACA,CADA,4BACA,CADA,8BACA,CADA,6FACA,CADA,6DACA,CADA,aACA,CADA,SAAA,uBACA,CADA,2DAAA,uBACA,CADA,wDAAA,WACA,CADA,iBAAA,eACA,CADA,gBAAA,YACA,CADA,0FAAA,sBACA,CADA,eAAA,sBACA,CADA,gBAAA,cACA,CADA,4BAAA,6DACA,CADA,kCAAA,YACA,CADA,OACA,CADA,8DAAA,eACA,CADA,gIAAA,WACA,CADA,eACA,CADA,kBACA,CADA,UACA,CADA,wCAAA,aACA,CADA,WACA,CADA,sBACA,CADA,iDAAA,WACA,CADA,UACA,CADA,gBACA,CADA,eACA,CADA,aACA,CADA,oEAAA,eACA,CADA,eACA,CADA,gBACA,CADA,gBACA,CADA,aACA,CADA,gEAAA,QACA,CADA,cACA,CADA,YACA,CADA,aACA,CADA,cACA,CADA,UACA,CADA,YACA,CADA,SACA,CADA,eACA,CADA,iBACA,CADA,uBACA,CADA,qBACA,CADA,sBACA,CADA,uBACA,CADA,mBACA,CADA,oBACA,CADA,qBACA,CADA,kBACA,CADA,0BACA,CADA,wBACA,CADA,yBACA,CADA,kCACA,CADA,oBACA,CADA,oBACA,CADA,eACA,CADA,eACA,CADA,UACA,CADA,YACA,CADA,YACA,CADA,UACA,CADA,UACA,CADA,WACA,CADA,WACA,CADA,sCAAA,iDACA,CADA,mFACA,CADA,2EACA,CADA,mFACA,CADA,0FACA,CADA,4EACA,CADA,kEACA,CADA,kFACA,CADA,+DACA,CADA,0EACA,CADA,uEACA,CADA,qCACA,CADA,wCACA,CADA,sBACA,CADA,sBACA,CADA,sBACA,CADA,uBACA,CADA,uBACA,CADA,uBACA,CADA,uBACA,CADA,uBACA,CADA,uBACA,CADA,wBACA,CADA,gCACA,CADA,2CACA,CADA,yCACA,CADA,mCACA,CADA,2CACA,CADA,kCACA,CADA,kCACA,CADA,iCACA,CADA,qCACA,CADA,kCACA,CADA,wCACA,CADA,4CACA,CADA,iCACA,CADA,iDACA,CADA,yCACA,CADA,mCACA,CADA,mCACA,CADA,oCACA,CADA,oCACA,CADA,qCACA,CADA,6BACA,CADA,+BACA,CADA,+BACA,CADA,gCACA,CADA,gCACA,CADA,gCACA,CADA,gCACA,CADA,gCACA,CADA,gCACA,CADA,gCACA,CADA,gCACA,CADA,iCACA,CADA,yDACA,CADA,8BACA,CADA,8BACA,CADA,+BACA,CADA,+BACA,CADA,gCACA,CADA,yCACA,CADA,yCACA,CADA,iDACA,CADA,mDACA,CADA,8DACA,CADA,2CACA,CADA,iDACA,CADA,iEACA,CADA,uEACA,CADA,yEACA,CADA,yDACA,CADA,0DACA,CADA,iDACA,CADA,+CACA,CADA,yCACA,CADA,mDACA,CADA,mCACA,CADA,iDACA,CADA,+CACA,CADA,0CACA,CADA,oDACA,CADA,oCACA,CADA,kDACA,CADA,gDACA,CADA,4CACA,CADA,sDACA,CADA,sCACA,CADA,oDACA,CADA,kDACA,CADA,2CACA,CADA,qDACA,CADA,qCACA,CADA,mDACA,CADA,iDACA,CADA,+BACA,CADA,+BACA,CADA,wBAAA,yCACA,CADA,yCACA,CADA,iDACA,CADA,mDACA,CADA,6DACA,CADA,2CACA,CADA,iDACA,CADA,iEACA,CADA,0EACA,CADA,wEACA,CADA,yDACA,CADA,0DACA,CADA,iDACA,CADA,+CACA,CADA,yCACA,CADA,mDACA,CADA,mCACA,CADA,iDACA,CADA,+CACA,CADA,0CACA,CADA,oDACA,CADA,oCACA,CADA,kDACA,CADA,gDACA,CADA,4CACA,CADA,sDACA,CADA,sCACA,CADA,oDACA,CADA,kDACA,CADA,2CACA,CADA,qDACA,CADA,qCACA,CADA,mDACA,CADA,iDACA,CADA,+BACA,CADA,gCACA,CADA,2CAAA,iBACA,CADA,qCACA,CADA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,yCAAA,oBACA,CADA,eACA,CADA,uBACA,CADA,cACA,CADA,SACA,CADA,eACA,CADA,iBACA,CADA,eACA,CADA,8CACA,CADA,4CACA,CADA,6DAAA,6CACA,CADA,8CACA,CADA,4CACA,CADA,+CACA,CADA,mEAAA,2DACA,CADA,kDACA,CADA,4EAAA,yDACA,CADA,oDACA,CADA,kBACA,CADA,+JAAA,yDACA,CADA,oDACA,CADA,kBACA,CADA,kFAAA,yDACA,CADA,wFAAA,yDACA,CADA,kWAAA,yDACA,CADA,sLAAA,2BACA,CADA,uFAAA,wCACA,CADA,gBACA,CADA,qBACA,CADA,oBACA,CADA,WACA,CADA,iBACA,CADA,iBACA,CADA,UACA,CADA,6DACA,CADA,+BACA,CADA,UACA,CADA,qBACA,CADA,oBACA,CADA,yFAAA,wCACA,CADA,gBACA,CADA,qBACA,CADA,oBACA,CADA,WACA,CADA,iBACA,CADA,iBACA,CADA,UACA,CADA,6DACA,CADA,+BACA,CADA,UACA,CADA,qBACA,CADA,oBACA,CADA,wJAAA,yDACA,CADA,0EAAA,2DACA,CADA,gFAAA,2DACA,CADA,gFAAA,kDACA,CADA,sFAAA,kDACA,CADA,oEAAA,UACA,CADA,qEAAA,iEACA,CADA,8EAAA,+DACA,CADA,oDACA,CADA,kBACA,CADA,mKAAA,+DACA,CADA,oDACA,CADA,kBACA,CADA,oFAAA,gFACA,CADA,kBACA,CADA,0FAAA,gFACA,CADA,kBACA,CADA,0WAAA,gFACA,CADA,kBACA,CADA,0LAAA,2BACA,CADA,yFAAA,wCACA,CADA,gBACA,CADA,qBACA,CADA,oBACA,CADA,WACA,CADA,iBACA,CADA,iBACA,CADA,UACA,CADA,6DACA,CADA,+BACA,CADA,UACA,CADA,qBACA,CADA,oBACA,CADA,2FAAA,wCACA,CADA,gBACA,CADA,qBACA,CADA,oBACA,CADA,WACA,CADA,iBACA,CADA,iBACA,CADA,UACA,CADA,6DACA,CADA,+BACA,CADA,UACA,CADA,qBACA,CADA,oBACA,CADA,4JAAA,+DACA,CADA,4EAAA,iEACA,CADA,kFAAA,iEACA,CADA,kFAAA,kDACA,CADA,wFAAA,kDACA,CADA,6DAAA,6CACA,CADA,8CACA,CADA,4CACA,CADA,+CACA,CADA,4EAAA,oDACA,CADA,kBACA,CADA,+JAAA,oDACA,CADA,kBACA,CADA,kFAAA,gFACA,CADA,kBACA,CADA,wFAAA,gFACA,CADA,kBACA,CADA,kWAAA,gFACA,CADA,kBACA,CADA,sLAAA,2BACA,CADA,uFAAA,wCACA,CADA,gBACA,CADA,qBACA,CADA,oBACA,CADA,WACA,CADA,iBACA,CADA,iBACA,CADA,UACA,CADA,6DACA,CADA,+BACA,CADA,UACA,CADA,qBACA,CADA,oBACA,CADA,yFAAA,wCACA,CADA,gBACA,CADA,qBACA,CADA,oBACA,CADA,WACA,CADA,iBACA,CADA,iBACA,CADA,UACA,CADA,6DACA,CADA,+BACA,CADA,UACA,CADA,qBACA,CADA,oBACA,CADA,wJAAA,+DACA,CADA,0EAAA,iEACA,CADA,gFAAA,iEACA,CADA,gFAAA,kDACA,CADA,sFAAA,kDACA,CADA,2DAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,sEAAA,4CACA,CADA,6EAAA,yDACA,CADA,UACA,CADA,iBACA,CADA,UACA,CADA,WACA,CADA,MACA,CADA,OACA,CADA,8JAAA,4CACA,CADA,SACA,CADA,mFAAA,gBACA,CADA,yFAAA,gBACA,CADA,6EAAA,4CACA,CADA,mFAAA,4CACA,CADA,oFAAA,iDACA,CADA,0FAAA,iDACA,CADA,mFAAA,yDACA,CADA,yFAAA,yDACA,CADA,2DAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,gEAAA,4CACA,CADA,uEAAA,yDACA,CADA,UACA,CADA,iBACA,CADA,iBACA,CADA,UACA,CADA,WACA,CADA,MACA,CADA,OACA,CADA,kJAAA,4CACA,CADA,SACA,CADA,6EAAA,gBACA,CADA,kBACA,CADA,mFAAA,gBACA,CADA,kBACA,CADA,uEAAA,4CACA,CADA,kBACA,CADA,6EAAA,4CACA,CADA,kBACA,CADA,8EAAA,iDACA,CADA,oFAAA,iDACA,CADA,6EAAA,yDACA,CADA,kBACA,CADA,mFAAA,yDACA,CADA,kBACA,CADA,mFAAA,eACA,CADA,qKAAA,mBACA,CADA,mBACA,CADA,qBACA,CADA,kFAAA,eACA,CADA,mFAAA,qBACA,CADA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,mFAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,8EAAA,qBACA,CADA,mBACA,CADA,qBACA,CADA,eACA,CADA,qFAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,qFAAA,wBACA,CADA,qBACA,CADA,kBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,qFAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,qFAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,kFAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,qFAAA,wBACA,CADA,kBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,qFAAA,wBACA,CADA,kBACA,CADA,mBACA,CADA,qBACA,CADA,8IAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,wIAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,yJAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,+IAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,iIAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,qCAAA,yFAAA,wBACA,CADA,kBACA,CADA,mBACA,CADA,qBACA,CADA,yFAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CAAA,CADA,qFAAA,iBACA,CADA,+EAAA,YACA,CADA,gFAAA,UACA,CADA,qFAAA,4CACA,CADA,+CACA,CADA,sFAAA,mBACA,CADA,+FAAA,sBACA,CADA,qFAAA,4CACA,CADA,+CACA,CADA,qGAAA,yDACA,CADA,sFAAA,mBACA,CADA,kFAAA,eACA,CADA,gFAAA,wBACA,CADA,qBACA,CADA,gBACA,CADA,kFAAA,qBACA,CADA,6EAAA,6BACA,CADA,6EAAA,8BACA,CADA,6EAAA,6BACA,CADA,6EAAA,8BACA,CADA,6EAAA,6BACA,CADA,6EAAA,8BACA,CADA,6EAAA,6BACA,CADA,6EAAA,8BACA,CADA,8EAAA,8BACA,CADA,8EAAA,+BACA,CADA,kFAAA,kBACA,CADA,+EAAA,qCACA,CADA,mFAAA,gBACA,CADA,gFAAA,WACA,CADA,oFAAA,mBACA,CADA,gBACA,CADA,oFAAA,qBACA,CADA,mFAAA,kBACA,CADA,qFAAA,gBACA,CADA,4FAAA,4CACA,CADA,2HAAA,+DACA,CADA,oGAAA,oDACA,CADA,oFAAA,wCACA,CADA,gFAAA,eACA,CADA,qGAAA,yDACA,CADA,qGAAA,yDACA,CADA,sGAAA,0DACA,CADA,uGAAA,2DACA,CADA,wGAAA,4DACA,CADA,mGAAA,uDACA,CADA,0FAAA,0BACA,CADA,qBACA,CADA,0FAAA,2BACA,CADA,sBACA,CADA,qFAAA,6CACA,CADA,8CACA,CADA,gGAAA,uBACA,CADA,2NAAA,wHACA,CADA,4EAAA,SACA,CADA,wGAAA,6BACA,CADA,8EAAA,WACA,CADA,4FAAA,4CACA,CADA,+EAAA,WACA,CADA,qFAAA,6CACA,CADA,8CACA,CADA,qFAAA,4CACA,CADA,+CACA,CADA,oFAAA,wCACA,CADA,8FAAA,8CACA,CADA,+EAAA,eACA,CADA,gBACA,CADA,qFAAA,2CACA,CADA,8CACA,CADA,gFAAA,aACA,CADA,mFAAA,eACA,CADA,oFAAA,wCACA,CADA,kFAAA,6BACA,CADA,kBACA,CADA,4EAAA,SACA,CADA,qFAAA,iBACA,CADA,4EAAA,SACA,CADA,kFAAA,aACA,CADA,4FAAA,mBACA,CADA,sIAAA,mEACA,CADA,uFAAA,sBACA,CADA,gFAAA,oBACA,CADA,eACA,CADA,uBACA,CADA,4EAAA,SACA,CADA,oGAAA,oDACA,CADA,2FAAA,kBACA,CADA,uFAAA,cACA,CADA,uFAAA,cACA,CADA,sGAAA,sDACA,CADA,sFAAA,oCACA,CADA,oFAAA,eACA,CADA,mFAAA,wCACA,CADA,kFAAA,cACA,CADA,gFAAA,KACA,CADA,OACA,CADA,QACA,CADA,MACA,CADA,oIAAA,sDACA,CADA,8EAAA,eACA,CADA,4KAAA,+FACA,CADA,uGAAA,8BACA,CADA,gFAAA,WACA,CADA,oFAAA,eACA,CADA,oFAAA,gBACA,CADA,+EAAA,UACA,CADA,+EAAA,WACA,CADA,mFAAA,oBACA,CADA,+EAAA,UACA,CADA,+EAAA,WACA,CADA,4FAAA,0BACA,CADA,8FAAA,yBACA,CADA,8FAAA,qBACA,CADA,+EAAA,WACA,CADA,oFAAA,wCACA,CADA,yHAAA,6DACA,CADA,mGAAA,uDACA,CADA,6GAAA,iDACA,CADA,sGAAA,sDACA,CADA,oGAAA,wDACA,CADA,8GAAA,kDACA,CADA,uGAAA,uDACA,CADA,qGAAA,yDACA,CADA,+GAAA,mDACA,CADA,wGAAA,wDACA,CADA,sGAAA,0DACA,CADA,gHAAA,oDACA,CADA,yGAAA,yDACA,CADA,6FAAA,iDACA,CADA,kGAAA,kDACA,CADA,oFAAA,eACA,CADA,sFAAA,uBACA,CADA,kBACA,CADA,iFAAA,aACA,CADA,oFAAA,wCACA,CADA,mGAAA,2BACA,CADA,+EAAA,YACA,CADA,uGAAA,2DACA,CADA,oFAAA,eACA,CADA,kFAAA,iBACA,CADA,6FAAA,oBACA,CADA,yGAAA,qDACA,CADA,+EAAA,WACA,CADA,qFAAA,4CACA,CADA,+CACA,CADA,gFAAA,4BACA,CADA,oBACA,CADA,wFAAA,oCACA,CADA,4BACA,CADA,2FAAA,oBACA,CADA,iFAAA,cACA,CADA,sFAAA,oCACA,CADA,iFAAA,QACA,CADA,oFAAA,2CACA,CADA,mFAAA,eACA,CADA,qBACA,CADA,qFAAA,yCACA,CADA,8EAAA,UACA,CADA,sFAAA,aACA,CADA,6EAAA,SACA,CADA,6EAAA,SACA,CADA,gGAAA,uBACA,CADA,gGAAA,wBACA,CADA,uFAAA,qBACA,CADA,2GAAA,+DACA,CADA,6EAAA,UACA,CADA,sGAAA,kCACA,CADA,gFAAA,YACA,CADA,+FAAA,yBACA,CADA,qFAAA,6CACA,CADA,8CACA,CADA,qFAAA,6CACA,CADA,8CACA,CADA,oFAAA,gBACA,CADA,kFAAA,oCACA,CADA,+EAAA,qCACA,CADA,sFAAA,wCACA,CADA,sFAAA,sBACA,CADA,iBACA,CADA,+EAAA,WACA,CADA,iFAAA,kCACA,CADA,gFAAA,YACA,CADA,kFAAA,aACA,CADA,gFAAA,gBACA,CADA,iBACA,CADA,6EAAA,gBACA,CADA,iBACA,CADA,2FAAA,kBACA,CADA,oFAAA,eACA,CADA,sFAAA,oCACA,CADA,uFAAA,iBACA,CADA,sFAAA,oCACA,CADA,kFAAA,uCACA,CADA,0GAAA,8DACA,CADA,+EAAA,UACA,CADA,+EAAA,WACA,CADA,sFAAA,wCACA,CADA,qFAAA,4CACA,CADA,6CACA,CADA,mFAAA,eACA,CADA,gFAAA,WACA,CADA,+EAAA,WACA,CADA,qFAAA,2CACA,CADA,8CACA,CADA,+EAAA,UACA,CADA,+EAAA,WACA,CADA,gFAAA,WACA,CADA,+EAAA,UACA,CADA,+EAAA,qCACA,CADA,uFAAA,oBACA,CADA,+EAAA,UACA,CADA,0FAAA,oBACA,CADA,+EAAA,WACA,CADA,iFAAA,gBACA,CADA,mFAAA,qCACA,CADA,sFAAA,oCACA,CADA,wFAAA,4BACA,CADA,yBACA,CADA,qFAAA,4CACA,CADA,6CACA,CADA,qFAAA,2CACA,CADA,8CACA,CADA,qFAAA,4CACA,CADA,+CACA,CADA,iFAAA,+BACA,CADA,cACA,CADA,kFAAA,eACA,CADA,qBACA,CADA,gFAAA,SACA,CADA,eACA,CADA,+FAAA,mDACA,CADA,8EAAA,UACA,CADA,2FAAA,kBACA,CADA,qFAAA,sBACA,CADA,oFAAA,eACA,CADA,mFAAA,eACA,CADA,wFAAA,yCACA,CADA,qFAAA,6CACA,CADA,8CACA,CADA,qFAAA,2CACA,CADA,8CACA,CADA,iFAAA,iBACA,CADA,oBACA,CADA,qFAAA,4CACA,CADA,6CACA,CADA,qFAAA,iCACA,CADA,yBACA,CADA,oFAAA,eACA,CADA,8EAAA,OACA,CADA,6NAAA,wHACA,CADA,oQAAA,wJACA,CADA,4EAAA,QACA,CADA,oFAAA,kBACA,CADA,mFAAA,iBACA,CADA,qFAAA,oBACA,CADA,4FAAA,8CACA,CADA,sFAAA,qBACA,CADA,+EAAA,SACA,CADA,4FAAA,8CACA,CADA,oIAAA,8DACA,CADA,sFAAA,oCACA,CADA,wFAAA,eACA,CADA,sFAAA,oCACA,CADA,+EAAA,qCACA,CADA,+EAAA,WACA,CADA,6EAAA,WACA,CADA,8EAAA,WACA,CADA,+EAAA,YACA,CADA,8EAAA,KACA,CADA,6EAAA,cACA,CADA,eACA,CADA,6EAAA,aACA,CADA,gBACA,CADA,kFAAA,gBACA,CADA,oFAAA,gBACA,CADA,8EAAA,OACA,CADA,6EAAA,WACA,CADA,6EAAA,UACA,CADA,gFAAA,YACA,CADA,kFAAA,uCACA,CADA,4EAAA,SACA,CADA,6EAAA,UACA,CADA,uFAAA,sBACA,CADA,4EAAA,SACA,CADA,oFAAA,eACA,CADA,sFAAA,yBACA,CADA,iFAAA,cACA,CADA,oBACA,CADA,eACA,CADA,qBACA,CADA,iFAAA,mCACA,CADA,oHAAA,uCACA,CADA,qFAAA,4CACA,CADA,+CACA,CADA,gFAAA,WACA,CADA,+EAAA,WACA,CADA,oFAAA,eACA,CADA,gFAAA,OACA,CADA,wHAAA,2CACA,CADA,mFAAA,eACA,CADA,iFAAA,gBACA,CADA,gFAAA,WACA,CADA,gFAAA,YACA,CADA,gFAAA,WACA,CADA,+EAAA,WACA,CADA,kFAAA,eACA,CADA,gBACA,CADA,mFAAA,eACA,CADA,mFAAA,YACA,CADA,kBACA,CADA,oFAAA,cACA,CADA,2FAAA,6CACA,CADA,gGAAA,mDACA,CADA,+EAAA,WACA,CADA,4EAAA,QACA,CADA,+FAAA,kDACA,CADA,uFAAA,yCACA,CADA,+EAAA,cACA,CADA,oFAAA,cACA,CADA,oFAAA,qCACA,CADA,mFAAA,cACA,CADA,qFAAA,4CACA,CADA,+CACA,CADA,kGAAA,qDACA,CADA,mFAAA,UACA,CADA,gFAAA,aACA,CADA,mFAAA,eACA,CADA,+EAAA,UACA,CADA,mFAAA,kBACA,CADA,+EAAA,SACA,CADA,qFAAA,cACA,CADA,sBACA,CADA,8FAAA,oBACA,CADA,4BACA,CADA,gFAAA,WACA,CADA,4FAAA,wBACA,CADA,oFAAA,wCACA,CADA,gFAAA,YACA,CADA,0FAAA,eACA,CADA,gFAAA,WACA,CADA,gFAAA,YACA,CADA,iFAAA,QACA,CADA,gFAAA,YACA,CADA,8EAAA,WACA,CADA,qFAAA,2CACA,CADA,8CACA,CADA,wFAAA,eACA,CADA,mFAAA,eACA,CADA,qFAAA,4CACA,CADA,6CACA,CADA,+EAAA,UACA,CADA,gFAAA,WACA,CADA,0FAAA,oBACA,CADA,+EAAA,YACA,CADA,mFAAA,gBACA,CADA,6FAAA,oBACA,CADA,oFAAA,gBACA,CADA,gFAAA,gBACA,CADA,mBACA,CADA,gFAAA,UACA,CADA,gFAAA,YACA,CADA,6EAAA,UACA,CADA,kGAAA,2BACA,CADA,0FAAA,0BACA,CADA,kCACA,CADA,mFAAA,cACA,CADA,iFAAA,gBACA,CADA,+EAAA,WACA,CADA,+EAAA,UACA,CADA,mFAAA,eACA,CADA,oFAAA,eACA,CADA,uFAAA,cACA,CADA,oFAAA,eACA,CADA,oFAAA,gBACA,CADA,oFAAA,kBACA,CADA,mFAAA,aACA,CADA,+EAAA,MACA,CADA,oFAAA,eACA,CADA,oFAAA,eACA,CADA,oFAAA,eACA,CADA,oFAAA,kBACA,CADA,mFAAA,aACA,CADA,8FAAA,wBACA,CADA,6EAAA,WACA,CADA,8EAAA,WACA,CADA,mFAAA,eACA,CADA,2NAAA,wHACA,CADA,4EAAA,SACA,CADA,6EAAA,WACA,CADA,6EAAA,UACA,CADA,qFAAA,6CACA,CADA,8CACA,CADA,gFAAA,gBACA,CADA,oFAAA,kBACA,CADA,gFAAA,WACA,CADA,+EAAA,WACA,CADA,+EAAA,WACA,CADA,6GAAA,iEACA,CADA,+EAAA,YACA,CADA,oFAAA,gBACA,CADA,qFAAA,4CACA,CADA,6CACA,CADA,qFAAA,4CACA,CADA,6CACA,CADA,+FAAA,2CACA,CADA,8EAAA,SACA,CADA,gFAAA,gBACA,CADA,iBACA,CADA,oFAAA,gBACA,CADA,iFAAA,eACA,CADA,gFAAA,WACA,CADA,8EAAA,UACA,CADA,iFAAA,aACA,CADA,gBACA,CADA,6EAAA,aACA,CADA,cACA,CADA,+EAAA,UACA,CADA,6EAAA,UACA,CADA,+EAAA,WACA,CADA,mFAAA,qBACA,CADA,kFAAA,aACA,CADA,mFAAA,qBACA,CADA,gFAAA,WACA,CADA,gFAAA,iBACA,CADA,kBACA,CADA,6EAAA,UACA,CADA,gFAAA,WACA,CADA,gFAAA,YACA,CADA,iFAAA,iBACA,CADA,+EAAA,UACA,CADA,8EAAA,WACA,CADA,gFAAA,WACA,CADA,qFAAA,cACA,CADA,iFAAA,mCACA,CADA,+EAAA,WACA,CADA,yFAAA,oBACA,CADA,gGAAA,6BACA,CADA,yFAAA,6BACA,CADA,kFAAA,kBACA,CADA,oFAAA,iBACA,CADA,kFAAA,sBACA,CADA,iGAAA,qDACA,CADA,+EAAA,eACA,CADA,iGAAA,gCACA,CADA,iGAAA,+BACA,CADA,iFAAA,OACA,CADA,uFAAA,qCACA,CADA,8EAAA,KACA,CADA,+EAAA,MACA,CADA,gFAAA,OACA,CADA,iFAAA,QACA,CADA,qGAAA,yDACA,CADA,uFAAA,wBACA,CADA,sHAAA,oDACA,CADA,iFAAA,OACA,CADA,kFAAA,QACA,CADA,+FAAA,uDACA,CADA,qGAAA,6DACA,CADA,sFAAA,qBACA,CADA,kFAAA,aACA,CADA,qFAAA,6CACA,CADA,qFAAA,8CACA,CADA,gFAAA,cACA,CADA,gFAAA,cACA,CADA,mFAAA,kBACA,CADA,qFAAA,8CACA,CADA,mFAAA,UACA,CADA,kFAAA,SACA,CADA,qFAAA,2CACA,CADA,uGAAA,+DACA,CADA,yMAAA,iHACA,CADA,iFAAA,WACA,CADA,qFAAA,6CACA,CADA,+FAAA,mBACA,CADA,uFAAA,cACA,CADA,+EAAA,mBACA,CADA,gFAAA,iBACA,CADA,qFAAA,2CACA,CADA,qFAAA,4CACA,CADA,oFAAA,WACA,CADA,mFAAA,UACA,CADA,qFAAA,2CACA,CADA,gFAAA,gBACA,CADA,uGAAA,+DACA,CADA,iFAAA,gBACA,CADA,qFAAA,2CACA,CADA,qFAAA,2CACA,CADA,gFAAA,eACA,CADA,oFAAA,sBACA,CADA,qFAAA,+CACA,CADA,gFAAA,iBACA,CADA,qFAAA,8CACA,CADA,qFAAA,4CACA,CADA,iFAAA,iBACA,CADA,qFAAA,6CACA,CADA,qFAAA,8CACA,CADA,+EAAA,kBACA,CADA,gFAAA,mBACA,CADA,qFAAA,8CACA,CADA,yFAAA,uCACA,CADA,wFAAA,sCACA,CADA,kFAAA,SACA,CADA,iFAAA,QACA,CADA,+EAAA,cACA,CADA,gFAAA,kBACA,CADA,gFAAA,gBACA,CADA,gFAAA,eACA,CADA,qFAAA,+CACA,CADA,6EAAA,gBACA,CADA,kFAAA,eACA,CADA,qFAAA,4CACA,CADA,qFAAA,6CACA,CADA,oFAAA,iBACA,CADA,kHAAA,oCACA,CADA,qFAAA,+CACA,CADA,mFAAA,oBACA,CADA,qFAAA,8CACA,CADA,oFAAA,mBACA,CADA,iFAAA,qBACA,CADA,qFAAA,4CACA,CADA,kGAAA,mCACA,CADA,qFAAA,gDACA,CADA,2CACA,CADA,qFAAA,wCACA,CADA,6EAAA,YACA,CADA,uFAAA,wBACA,CADA,gFAAA,kBACA,CADA,+EAAA,QACA,CADA,iFAAA,oBACA,CADA,oFAAA,oBACA,CADA,uFAAA,0BACA,CADA,qFAAA,4CACA,CADA,qFAAA,8CACA,CADA,qFAAA,6CACA,CADA,gFAAA,SACA,CADA,gFAAA,kBACA,CADA,iFAAA,cACA,CADA,oBACA,CADA,kFAAA,SACA,CADA,sFAAA,sBACA,CADA,+EAAA,aACA,CADA,kFAAA,eACA,CADA,kFAAA,iDACA,CADA,kFAAA,kDACA,CADA,4FAAA,iCACA,CADA,0FAAA,+BACA,CADA,uFAAA,qBACA,CADA,2FAAA,kBACA,CADA,oFAAA,wBACA,CADA,qFAAA,4CACA,CADA,qFAAA,+CACA,CADA,gFAAA,mBACA,CADA,iFAAA,QACA,CADA,gFAAA,OACA,CADA,yFAAA,uCACA,CADA,uFAAA,qCACA,CADA,mFAAA,UACA,CADA,iFAAA,QACA,CADA,iFAAA,mBACA,CADA,qFAAA,gDACA,CADA,2CACA,CADA,4HAAA,yDACA,CADA,qFAAA,2CACA,CADA,iFAAA,OACA,CADA,gFAAA,eACA,CADA,gFAAA,eACA,CADA,gFAAA,iBACA,CADA,gFAAA,eACA,CADA,kFAAA,SACA,CADA,yFAAA,iDACA,CADA,mFAAA,mBACA,CADA,mFAAA,iBACA,CADA,qFAAA,6CACA,CADA,qFAAA,8CACA,CADA,qFAAA,4CACA,CADA,oFAAA,oBACA,CADA,qCAAA,wBACA,CADA,qFAAA,6CACA,CADA,qFAAA,4CACA,CADA,qFAAA,6CACA,CADA,oFAAA,iBACA,CADA,gFAAA,eACA,CADA,gFAAA,eACA,CADA,0FAAA,iBACA,CADA,iFAAA,WACA,CADA,qFAAA,+CACA,CADA,gFAAA,gBACA,CADA,qFAAA,2CACA,CADA,8IAAA,oEACA,CADA,8FAAA,6BACA,CADA,qFAAA,2CACA,CADA,sFAAA,oBACA,CADA,qFAAA,+CACA,CADA,6FAAA,oBACA,CADA,gFAAA,kBACA,CADA,qFAAA,4CACA,CADA,oHAAA,iDACA,CADA,qFAAA,gDACA,CADA,2CACA,CADA,qFAAA,wCACA,CADA,qFAAA,8CACA,CADA,kFAAA,SACA,CADA,iGAAA,wBACA,CADA,gFAAA,gBACA,CADA,6EAAA,iBACA,CADA,6EAAA,eACA,CADA,iFAAA,QACA,CADA,kFAAA,kBACA,CADA,gFAAA,eACA,CADA,wFAAA,sCACA,CADA,gFAAA,OACA,CADA,iFAAA,YACA,CADA,kBACA,CADA,iFAAA,eACA,CADA,qBACA,CADA,sFAAA,qBACA,CADA,wIAAA,yBACA,CADA,sJAAA,iCACA,CADA,gJAAA,uBACA,CADA,4JAAA,iEACA,CADA,0JAAA,iEACA,CADA,8FAAA,qCACA,CADA,oGAAA,iBACA,CADA,gHAAA,4BACA,CADA,2FAAA,SACA,CADA,2GAAA,mBACA,CADA,+JAAA,sDACA,CADA,2JAAA,2BACA,CADA,sJAAA,kBACA,CADA,qJAAA,2BACA,CADA,gJAAA,kBACA,CADA,gIAAA,iEACA,CADA,uQAAA,iEACA,CADA,8GAAA,kBACA,CADA,mOAAA,kBACA,CADA,2HAAA,4CACA,CADA,iPAAA,4CACA,CADA,sKAAA,2BACA,CADA,4JAAA,2BACA,CADA,iKAAA,kBACA,CADA,uJAAA,kBACA,CADA,oHAAA,yDACA,CADA,6FAAA,UACA,CADA,mGAAA,kBACA,CADA,2JAAA,oDACA,CADA,iKAAA,oDACA,CADA,kJAAA,kBACA,CADA,wJAAA,kBACA,CADA,mIAAA,oDACA,CADA,6QAAA,oDACA,CADA,4HAAA,WACA,CADA,0IAAA,oBACA,CADA,wNAAA,0FACA,CADA,uJAAA,+BACA,CADA,+IAAA,4CACA,CADA,sJAAA,0BACA,CADA,iJAAA,4CACA,CADA,+FAAA,UACA,CADA,8GAAA,mDACA,CADA,0LAAA,+DACA,CADA,sIAAA,iBACA,CADA,yJAAA,+BACA,CADA,0IAAA,SACA,CADA,6JAAA,2BACA,CADA,+FAAA,WACA,CADA,+FAAA,WACA,CADA,+FAAA,YACA,CADA,2HAAA,wCACA,CADA,6GAAA,oBACA,CADA,6GAAA,oBACA,CADA,sGAAA,sBACA,CADA,kGAAA,iBACA,CADA,4FAAA,WACA,CADA,6FAAA,UACA,CADA,sHAAA,uDACA,CADA,mPAAA,uDACA,CADA,+GAAA,4CACA,CADA,qOAAA,4CACA,CADA,sHAAA,2DACA,CADA,gIAAA,iBACA,CADA,uIAAA,kBACA,CADA,oIAAA,eACA,CADA,oGAAA,UACA,CADA,gGAAA,QACA,CADA,iGAAA,SACA,CADA,kGAAA,UACA,CADA,mGAAA,WACA,CADA,0IAAA,eACA,CADA,oIAAA,eACA,CADA,0HAAA,2DACA,CADA,2PAAA,2DACA,CADA,qJAAA,eACA,CADA,2IAAA,eACA,CADA,2IAAA,gBACA,CADA,mGAAA,WACA,CADA,8FAAA,MACA,CADA,+FAAA,OACA,CADA,sGAAA,+CACA,CADA,uGAAA,gDACA,CADA,yGAAA,kDACA,CADA,wGAAA,iDACA,CADA,6IAAA,6BACA,CADA,0IAAA,2BACA,CADA,sJAAA,uDACA,CADA,gGAAA,QACA,CADA,sMAAA,+BACA,CADA,0MAAA,+BACA,CADA,0MAAA,6BACA,CADA,yMAAA,gCACA,CADA,yJAAA,8CACA,CADA,0LAAA,gGACA,CADA,wGAAA,yBACA,CADA,kGAAA,eACA,CADA,kGAAA,UACA,CADA,8FAAA,QACA,CADA,4FAAA,MACA,CADA,qJAAA,6DACA,CADA,6GAAA,eACA,CADA,4GAAA,oCACA,CADA,oMAAA,6BACA,CADA,kBACA,CADA,8LAAA,SACA,CADA,2GAAA,SACA,CADA,iHAAA,SACA,CADA,kMAAA,mCACA,CADA,0MAAA,iCACA,CADA,yBACA,CADA,sMAAA,oCACA,CADA,sMAAA,gCACA,CADA,eACA,CADA,wMAAA,mBACA,CADA,0MAAA,sBACA,CADA,0MAAA,cACA,CADA,sBACA,CADA,0NAAA,uBACA,CADA,0QAAA,wCACA,CADA,8LAAA,WACA,CADA,8MAAA,sBACA,CADA,gMAAA,WACA,CADA,wNAAA,4CACA,CADA,wOAAA,oDACA,CADA,sOAAA,uDACA,CADA,0OAAA,yDACA,CADA,sPAAA,+DACA,CADA,wNAAA,4CACA,CADA,0OAAA,yDACA,CADA,8MAAA,cACA,CADA,kMAAA,gFACA,CADA,kBACA,CADA,8LAAA,qCACA,CADA,wNAAA,4CACA,CADA,8MAAA,cACA,CADA,0QAAA,wCACA,CADA,sMAAA,aACA,CADA,sMAAA,aACA,CADA,wOAAA,oDACA,CADA,8MAAA,sBACA,CADA,oMAAA,6BACA,CADA,kBACA,CADA,8NAAA,mDACA,CADA,4HAAA,iEACA,CADA,kIAAA,iEACA,CADA,4GAAA,iDACA,CADA,kHAAA,iDACA,CADA,0LAAA,wBACA,CADA,uJAAA,gFACA,CADA,kBACA,CADA,6JAAA,gFACA,CADA,kBACA,CADA,6JAAA,gFACA,CADA,kBACA,CADA,mKAAA,gFACA,CADA,kBACA,CADA,qJAAA,+BACA,CADA,cACA,CADA,2JAAA,+BACA,CADA,cACA,CADA,4TAAA,+BACA,CADA,cACA,CADA,qJAAA,gFACA,CADA,kBACA,CADA,2JAAA,gFACA,CADA,kBACA,CADA,4TAAA,gFACA,CADA,kBACA,CADA,yJAAA,iBACA,CADA,kJAAA,UACA,CADA,oJAAA,UACA,CADA,iKAAA,iDACA,CADA,iJAAA,UACA,CADA,mIAAA,mDACA,CADA,qIAAA,mDACA,CADA,iLAAA,6DACA,CADA,yJAAA,gBACA,CADA,yJAAA,UACA,CADA,qJAAA,QACA,CADA,0IAAA,4CACA,CADA,8IAAA,2BACA,CADA,yIAAA,kBACA,CADA,2HAAA,oCACA,CADA,6HAAA,eACA,CADA,0HAAA,gBACA,CADA,+HAAA,uDACA,CADA,qIAAA,uDACA,CADA,gHAAA,kBACA,CADA,sHAAA,kBACA,CADA,2IAAA,qCACA,CADA,iJAAA,iBACA,CADA,iJAAA,gBACA,CADA,yJAAA,6BACA,CADA,kBACA,CADA,yIAAA,4BACA,CADA,+IAAA,4BACA,CADA,4GAAA,aACA,CADA,kHAAA,aACA,CADA,iJAAA,UACA,CADA,mJAAA,+CACA,CADA,oJAAA,gDACA,CADA,sJAAA,kDACA,CADA,qJAAA,iDACA,CADA,4JAAA,8BACA,CADA,+HAAA,uDACA,CADA,qIAAA,uDACA,CADA,gHAAA,kBACA,CADA,sHAAA,kBACA,CADA,8KAAA,+DACA,CADA,0LAAA,+DACA,CADA,4JAAA,wBACA,CADA,wKAAA,wBACA,CADA,2JAAA,iEACA,CADA,yCAAA,gFAAA,YACA,CADA,yFAAA,6CACA,CADA,8CACA,CADA,qFAAA,cACA,CADA,oBACA,CADA,eACA,CADA,qBACA,CADA,yFAAA,4CACA,CADA,+CACA,CADA,yFAAA,6CACA,CADA,8CACA,CADA,mFAAA,qCACA,CADA,yFAAA,iBACA,CADA,uFAAA,qCACA,CADA,oFAAA,WACA,CADA,yFAAA,6CACA,CADA,8CACA,CADA,uFAAA,aACA,CADA,qFAAA,+BACA,CADA,cACA,CADA,iFAAA,cACA,CADA,eACA,CADA,0FAAA,oCACA,CADA,qFAAA,QACA,CADA,mFAAA,SACA,CADA,sGAAA,mCACA,CADA,4FAAA,sCACA,CADA,yFAAA,+CACA,CADA,yFAAA,2CACA,CADA,yFAAA,2CACA,CADA,yFAAA,2CACA,CADA,oFAAA,kBACA,CAAA,CADA,yCAAA,0MAAA,gFACA,CADA,kBACA,CAAA,CADA,yCAAA,sOAAA,mDACA,CAAA,CADA,qEAAA,4FAAA,eACA,CAAA,CADA,qCAAA,gFAAA,YACA,CADA,mFAAA,qCACA,CADA,mFAAA,UACA,CADA,mFAAA,WACA,CADA,4FAAA,yCACA,CADA,uFAAA,eACA,CADA,iFAAA,gBACA,CADA,iBACA,CADA,iFAAA,YACA,CADA,sFAAA,eACA,CADA,gBACA,CADA,wFAAA,cACA,CADA,iBACA,CADA,yFAAA,6CACA,CADA,8CACA,CADA,qFAAA,cACA,CADA,oBACA,CADA,eACA,CADA,qBACA,CADA,0FAAA,oCACA,CADA,yFAAA,4CACA,CADA,+CACA,CADA,iFAAA,cACA,CADA,eACA,CADA,uFAAA,eACA,CADA,yFAAA,4CACA,CADA,+CACA,CADA,mFAAA,WACA,CADA,mGAAA,kDACA,CADA,yFAAA,6CACA,CADA,8CACA,CADA,yFAAA,4CACA,CADA,6CACA,CADA,oFAAA,UACA,CADA,aACA,CADA,wFAAA,wCACA,CADA,wFAAA,eACA,CADA,0FAAA,uBACA,CADA,kBACA,CADA,oGAAA,0BACA,CADA,0FAAA,oCACA,CADA,oFAAA,SACA,CADA,eACA,CADA,sFAAA,iBACA,CADA,0FAAA,oCACA,CADA,iGAAA,iDACA,CADA,mFAAA,MACA,CADA,mFAAA,MACA,CADA,sGAAA,kDACA,CADA,yGAAA,yDACA,CADA,gGAAA,4CACA,CADA,mFAAA,WACA,CADA,wFAAA,kBACA,CADA,wFAAA,kBACA,CADA,uFAAA,aACA,CADA,uFAAA,aACA,CADA,sGAAA,mCACA,CADA,yFAAA,2CACA,CADA,iFAAA,gBACA,CADA,qFAAA,eACA,CADA,qBACA,CADA,uFAAA,kBACA,CADA,iFAAA,eACA,CADA,gIAAA,yDACA,CADA,qFAAA,OACA,CADA,qFAAA,YACA,CADA,kBACA,CADA,sFAAA,kBACA,CADA,yFAAA,2CACA,CADA,0FAAA,0BACA,CADA,yFAAA,2CACA,CADA,0FAAA,oBACA,CADA,0FAAA,oBACA,CADA,qFAAA,gBACA,CADA,iFAAA,aACA,CADA,wHAAA,iDACA,CAAA,CADA,qCAAA,qLAAA,sDACA,CAAA,CADA,qCAAA,kOAAA,iDACA,CAAA,CADA,qCAAA,sOAAA,mDACA,CAAA,CADA,qCAAA,iFAAA,gBACA,CADA,iBACA,CADA,yFAAA,4CACA,CADA,6CACA,CADA,qGAAA,oDACA,CADA,4FAAA,yCACA,CADA,wHAAA,iDACA,CAAA,CADA,0CAAA,gFAAA,YACA,CAAA,CADA,0CAAA,gFAAA,YACA,CAAA\",\"sourcesContent\":[\"@layer reset, base, tokens, recipes, utilities;\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { useCallback } from 'react';\n\nimport {\n  createWalletGaiaConfig,\n  getOrCreateWalletConfig,\n  makeAuthResponse,\n  updateWalletConfigWithApp,\n} from '@stacks/wallet-sdk';\n\nimport { gaiaUrl } from '@leather.io/constants';\nimport { hiroApiRequestsPriorityLevels, useHiroApiRateLimiter } from '@leather.io/query';\n\nimport { finalizeAuthResponse } from '@shared/actions/finalize-auth-response';\nimport { logger } from '@shared/logger';\n\nimport { useAuthRequestParams } from '@app/common/hooks/auth/use-auth-request-params';\nimport { useOnboardingState } from '@app/common/hooks/auth/use-onboarding-state';\nimport { useKeyActions } from '@app/common/hooks/use-key-actions';\nimport { useWalletType } from '@app/common/use-wallet-type';\nimport {\n  useLegacyStacksWallet,\n  useStacksAccounts,\n} from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\nimport { useGetLegacyAuthBitcoinAddresses } from './use-legacy-auth-bitcoin-addresses';\n\nexport function useFinishAuthRequest() {\n  const { decodedAuthRequest, authRequest, appIcon, appName } = useOnboardingState();\n  const keyActions = useKeyActions();\n  const stacksAccounts = useStacksAccounts();\n  const { walletType } = useWalletType();\n  const accounts = useStacksAccounts();\n  const { origin, tabId } = useAuthRequestParams();\n\n  const wallet = useLegacyStacksWallet();\n  const hiroLimiter = useHiroApiRateLimiter();\n\n  // TODO: It would be good to separate out finishing auth by the wallet vs an app\n  // so that the additional data we provide apps can be removed from our onboarding.\n  // Currently, these create errors unless early returns are used in the keychain code.\n  const getLegacyAuthBitcoinData = useGetLegacyAuthBitcoinAddresses();\n\n  return useCallback(\n    async (accountIndex: number) => {\n      const account = accounts?.[accountIndex];\n\n      if (!decodedAuthRequest || !authRequest || !account || !stacksAccounts || !origin || !tabId) {\n        logger.error('Uh oh! Finished onboarding without auth info.');\n        return;\n      }\n\n      const appURL = new URL(origin);\n\n      // We can't perform any of this logic for non-software wallets\n      // as they require the key to be available in the JS context\n      if (walletType === 'software' && account.type === 'software') {\n        if (!wallet) return;\n\n        try {\n          const gaiaHubConfig = await hiroLimiter.add(\n            () => createWalletGaiaConfig({ gaiaHubUrl: gaiaUrl, wallet }),\n            {\n              priority: hiroApiRequestsPriorityLevels.createWalletGaiaConfig,\n              throwOnTimeout: true,\n            }\n          );\n\n          const walletConfig = await getOrCreateWalletConfig({\n            wallet,\n            gaiaHubConfig,\n            skipUpload: true,\n          });\n\n          await updateWalletConfigWithApp({\n            wallet,\n            walletConfig,\n            gaiaHubConfig,\n            account,\n            app: {\n              origin: appURL.origin,\n              lastLoginAt: new Date().getTime(),\n              scopes: decodedAuthRequest.scopes,\n              appIcon: appIcon as string,\n              name: appName as string,\n            },\n          });\n\n          const authResponse = await hiroLimiter.add(\n            () => {\n              return makeAuthResponse({\n                gaiaHubUrl: gaiaUrl,\n                appDomain: appURL.origin,\n                transitPublicKey: decodedAuthRequest.public_keys[0],\n                scopes: decodedAuthRequest.scopes,\n                account: account,\n                additionalData: {\n                  ...getLegacyAuthBitcoinData(accountIndex),\n                  walletProvider: 'leather',\n                },\n              });\n            },\n            { priority: hiroApiRequestsPriorityLevels.makeAuthResponse, throwOnTimeout: true }\n          );\n\n          keyActions.switchAccount(accountIndex);\n          finalizeAuthResponse({\n            decodedAuthRequest,\n            authRequest,\n            authResponse,\n            requestingOrigin: origin,\n            tabId,\n          });\n        } catch (e) {\n          logger.error('Error finishing auth request', e);\n        }\n      }\n    },\n    [\n      accounts,\n      decodedAuthRequest,\n      authRequest,\n      stacksAccounts,\n      origin,\n      tabId,\n      walletType,\n      wallet,\n      appIcon,\n      appName,\n      getLegacyAuthBitcoinData,\n      keyActions,\n      hiroLimiter,\n    ]\n  );\n}\n","import { bytesToHex } from '@noble/hashes/utils';\n\nimport { useNativeSegwitNetworkSigners } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useTaprootNetworkSigners } from '@app/store/accounts/blockchain/bitcoin/taproot-account.hooks';\n\nexport function useGetLegacyAuthBitcoinAddresses() {\n  const deriveAllNativeSegWitNetworkSigners = useNativeSegwitNetworkSigners();\n  const deriveAllTaprootNetworkSigners = useTaprootNetworkSigners();\n\n  return (accountIndex: number) => {\n    const taprootAccount = deriveAllTaprootNetworkSigners(accountIndex);\n    const nativeSegwitAccount = deriveAllNativeSegWitNetworkSigners(accountIndex);\n\n    return {\n      btcAddress: {\n        p2tr: {\n          mainnet: taprootAccount?.mainnet?.payment.address,\n          testnet: taprootAccount?.testnet?.payment.address,\n          regtest: taprootAccount?.regtest?.payment.address,\n          signet: taprootAccount?.signet?.payment.address,\n        },\n        p2wpkh: {\n          mainnet: nativeSegwitAccount?.mainnet?.payment.address,\n          testnet: nativeSegwitAccount?.testnet?.payment.address,\n          regtest: nativeSegwitAccount?.regtest?.payment.address,\n          signet: nativeSegwitAccount?.signet?.payment.address,\n        },\n      },\n      btcPublicKey: {\n        p2tr: bytesToHex(taprootAccount?.mainnet?.keychain.publicKey!),\n        p2wpkh: bytesToHex(nativeSegwitAccount?.mainnet?.keychain.publicKey!),\n      },\n      btcPublicKeyTestnet: {\n        p2tr: bytesToHex(taprootAccount?.testnet?.keychain.publicKey!),\n        p2wpkh: bytesToHex(nativeSegwitAccount?.testnet?.keychain.publicKey!),\n      },\n    };\n  };\n}\n","import { truncateMiddle } from '@leather.io/utils';\n\nexport function formatAccountName(input: string | undefined, maxLength = 20, offset = 4) {\n  if (!input) return '';\n\n  if (input.length > maxLength) {\n    return truncateMiddle(input, offset);\n  }\n  return input;\n}\n","export function getAutogeneratedAccountDisplayName(index: number) {\n  return `Account ${index + 1}`;\n}\n","import { useQuery } from '@tanstack/react-query';\n\nimport { createGetBnsNamesOwnedByAddressQueryOptions, useStacksClient } from '@leather.io/query';\nimport { isUndefined } from '@leather.io/utils';\n\nimport { parseIfValidPunycode } from '@app/common/utils';\nimport { formatAccountName } from '@app/common/utils/format-account-name';\nimport { getAutogeneratedAccountDisplayName } from '@app/common/utils/get-account-display-name';\nimport {\n  useCurrentStacksAccount,\n  useCurrentStacksAccountAddress,\n} from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { useCurrentNetworkState } from '@app/store/networks/networks.hooks';\n\nexport function useCurrentAccountDisplayName() {\n  const account = useCurrentStacksAccount();\n  const address = useCurrentStacksAccountAddress();\n  const client = useStacksClient();\n  const { isTestnet } = useCurrentNetworkState();\n\n  return useQuery({\n    ...createGetBnsNamesOwnedByAddressQueryOptions({ address, client, isTestnet }),\n    select: resp => {\n      if (isUndefined(account?.index) && (!account || typeof account?.index !== 'number'))\n        return 'Account';\n      const names = resp.names ?? [];\n      if (names.length && names[0]) return parseIfValidPunycode(names[0]);\n      return getAutogeneratedAccountDisplayName(account?.index);\n    },\n  });\n}\n\nexport function useAccountDisplayName({ address, index }: { index: number; address: string }) {\n  const client = useStacksClient();\n  const { isTestnet } = useCurrentNetworkState();\n\n  const query = useQuery({\n    ...createGetBnsNamesOwnedByAddressQueryOptions({ address, client, isTestnet }),\n    select: resp => {\n      const names = resp.names ?? [];\n      return formatAccountName(names[0]) || getAutogeneratedAccountDisplayName(index);\n    },\n  });\n\n  return {\n    ...query,\n    data: query.data || getAutogeneratedAccountDisplayName(index),\n  };\n}\n","import { useMemo } from 'react';\n\nimport { decodeToken } from 'jsontokens';\n\nimport { DecodedAuthRequest } from '@shared/models/decoded-auth-request';\n\nimport { initialSearchParams } from '@app/common/initial-search-params';\n\nimport { useDefaultRequestParams } from '../use-default-request-search-params';\n\nfunction parseAuthRequestValues(authRequest: string | null, origin: string | null) {\n  if (!authRequest || !origin) return;\n\n  const { payload } = decodeToken(authRequest);\n  const decodedAuthRequest = payload as unknown as DecodedAuthRequest;\n\n  const appName = decodedAuthRequest.appDetails?.name;\n  const appIcon = decodedAuthRequest.appDetails?.icon;\n\n  if (!appIcon) throw new Error('Missing `appIcon` from auth request');\n  if (!appName) throw new Error('Missing `appName` from auth request');\n\n  return {\n    decodedAuthRequest,\n    authRequest,\n    appName,\n    appIcon,\n    appURL: new URL(origin),\n  };\n}\n\nexport function useAuthRequestParams() {\n  const { origin, tabId } = useDefaultRequestParams();\n\n  return useMemo(() => {\n    const authRequest = initialSearchParams.get('authRequest');\n    const authDetails = parseAuthRequestValues(authRequest, origin);\n\n    return { origin, tabId, authRequest, authDetails };\n  }, [origin, tabId]);\n}\n","import { useSecretKeyState } from '@app/store/onboarding/onboarding.hooks';\n\nimport { useAuthRequestParams } from './use-auth-request-params';\n\nexport function useOnboardingState() {\n  const secretKey = useSecretKeyState();\n  const { authDetails } = useAuthRequestParams();\n  const { authRequest, decodedAuthRequest, appName, appIcon, appURL } = authDetails ?? {};\n\n  return {\n    secretKey,\n    authRequest,\n    decodedAuthRequest,\n    appIcon,\n    appName,\n    appURL,\n  };\n}\n","import { useMemo } from 'react';\n\nimport { isString } from '@leather.io/utils';\n\nimport { initialSearchParams } from '@app/common/initial-search-params';\n\nexport function useDefaultRequestParams() {\n  return useMemo(() => {\n    const origin = initialSearchParams.get('origin');\n    const tabId = initialSearchParams.get('tabId');\n    const flow = initialSearchParams.get('flow');\n\n    return {\n      origin,\n      flow,\n      tabId: isString(tabId) ? parseInt(tabId) : tabId,\n    };\n  }, []);\n}\n","import { ExtensionMethods, InternalMethods, Message } from '@shared/message-types';\n\n/**\n * Popup <-> Background Script\n */\ntype BackgroundMessage<Msg extends ExtensionMethods, Payload = undefined> = Omit<\n  Message<Msg, Payload>,\n  'source'\n>;\n\ntype OriginatingTabClosed = BackgroundMessage<\n  InternalMethods.OriginatingTabClosed,\n  { tabId: number }\n>;\n\ntype AccountChanged = BackgroundMessage<InternalMethods.AccountChanged, { accountIndex: number }>;\n\nexport type BackgroundMessages = OriginatingTabClosed | AccountChanged;\n\nexport function sendMessage(message: BackgroundMessages) {\n  return chrome.runtime.sendMessage(message);\n}\n","// LocalStorage keys kept across sign-in/signout sessions\nconst PERSISTENT_LOCAL_DATA: string[] = [];\n\nexport function partiallyClearLocalStorage() {\n  const backup = PERSISTENT_LOCAL_DATA.map((key: string) => [key, localStorage.getItem(key)]);\n\n  localStorage.clear();\n\n  // Store the backup in localStorage\n  backup.forEach(([key, value]) => {\n    if (key === null || value === null) return;\n    localStorage.setItem(key, value);\n  });\n  return localStorage;\n}\n","import { AppThunk } from '@app/store';\n\nimport { selectDefaultWalletKey } from '../in-memory-key/in-memory-key.selectors';\nimport { stxChainSlice } from './stx-chain.slice';\n\nexport function createNewAccount(): AppThunk {\n  return async (dispatch, getState) => {\n    const secretKey = selectDefaultWalletKey(getState());\n    if (!secretKey) {\n      throw new Error('Unable to create a new account. Wallet not signed in');\n    }\n    dispatch(stxChainSlice.actions.createNewAccount());\n  };\n}\n\nexport const stxChainActions = stxChainSlice.actions;\n","import { useMemo } from 'react';\n\nimport { stacksClient } from '@leather.io/query';\n\nimport { useCurrentNetworkState } from '../networks/networks.hooks';\n\nexport function useStacksClient() {\n  const network = useCurrentNetworkState();\n\n  return useMemo(() => {\n    return stacksClient(network.chain.stacks.url);\n  }, [network.chain.stacks.url]);\n}\n","import { useMemo } from 'react';\n\nimport { generateSecretKey } from '@stacks/wallet-sdk';\n\nimport { useBitcoinClient } from '@leather.io/query';\n\nimport { logger } from '@shared/logger';\nimport { InternalMethods } from '@shared/message-types';\nimport { sendMessage } from '@shared/messages';\nimport { clearChromeStorage } from '@shared/storage/redux-pesist';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { queryClient } from '@app/common/persistence';\nimport { partiallyClearLocalStorage } from '@app/common/store-utils';\nimport { useAppDispatch } from '@app/store';\nimport { createNewAccount, stxChainActions } from '@app/store/chains/stx-chain.actions';\nimport { useStacksClient } from '@app/store/common/api-clients.hooks';\nimport { inMemoryKeyActions } from '@app/store/in-memory-key/in-memory-key.actions';\nimport { bitcoinKeysSlice } from '@app/store/ledger/bitcoin/bitcoin-key.slice';\nimport { stacksKeysSlice } from '@app/store/ledger/stacks/stacks-key.slice';\nimport { manageTokensSlice } from '@app/store/manage-tokens/manage-tokens.slice';\nimport { networksSlice } from '@app/store/networks/networks.slice';\nimport { clearWalletSession } from '@app/store/session-restore';\nimport { keyActions } from '@app/store/software-keys/software-key.actions';\nimport { useCurrentKeyDetails } from '@app/store/software-keys/software-key.selectors';\n\nexport function useKeyActions() {\n  const dispatch = useAppDispatch();\n  const defaultKeyDetails = useCurrentKeyDetails();\n  const btcClient = useBitcoinClient();\n  const stxClient = useStacksClient();\n\n  return useMemo(\n    () => ({\n      async setPassword(password: string) {\n        return dispatch(keyActions.setWalletEncryptionPassword({ password, stxClient, btcClient }));\n      },\n\n      generateWalletKey() {\n        if (!!defaultKeyDetails) {\n          logger.warn('Cannot generate new wallet when wallet already exists');\n          return;\n        }\n        const secretKey = generateSecretKey(256);\n        return dispatch(inMemoryKeyActions.generateWalletKey(secretKey));\n      },\n\n      async unlockWallet(password: string) {\n        return dispatch(keyActions.unlockWalletAction(password));\n      },\n\n      switchAccount(accountIndex: number) {\n        sendMessage({ method: InternalMethods.AccountChanged, payload: { accountIndex } });\n        return dispatch(stxChainActions.switchAccount(accountIndex));\n      },\n\n      async createNewAccount() {\n        return dispatch(createNewAccount());\n      },\n\n      async signOut() {\n        await clearWalletSession();\n        dispatch(networksSlice.actions.changeNetwork('mainnet'));\n        dispatch(keyActions.signOut());\n        dispatch(bitcoinKeysSlice.actions.signOut());\n        dispatch(stacksKeysSlice.actions.signOut());\n        dispatch(manageTokensSlice.actions.removeAllTokens());\n        await clearChromeStorage();\n        partiallyClearLocalStorage();\n        void analytics.track('sign_out');\n        queryClient.clear();\n      },\n\n      async lockWallet() {\n        await clearWalletSession();\n        return dispatch(inMemoryKeyActions.lockWallet());\n      },\n    }),\n    [btcClient, defaultKeyDetails, dispatch, stxClient]\n  );\n}\n","import { useCallback, useEffect, useState } from 'react';\n\nexport function buildEnterKeyEvent(onClick: () => void) {\n  return (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.key === 'Enter' && onClick) {\n      onClick();\n    }\n  };\n}\n\nlet timer = 0;\n\nexport function useModifierKey(key: 'alt' | 'control', delay = 0) {\n  const [isPressed, setIsPressed] = useState(false);\n\n  const keydownFn = useCallback(\n    (event: KeyboardEvent) => {\n      if (key === 'alt' && event.altKey) {\n        timer = window.setTimeout(() => setIsPressed(true), delay);\n      }\n      if (key === 'control' && event.ctrlKey) {\n        timer = window.setTimeout(() => setIsPressed(true), delay);\n      }\n    },\n    [delay, key]\n  );\n\n  const keyupFn = useCallback(\n    (event: KeyboardEvent) => {\n      if (key === 'alt' && !event.altKey) {\n        clearTimeout(timer);\n        setIsPressed(false);\n      }\n      if (key === 'control' && !event.ctrlKey) {\n        clearTimeout(timer);\n        setIsPressed(false);\n      }\n    },\n    [key]\n  );\n\n  useEffect(() => {\n    document.addEventListener('keydown', keydownFn);\n    document.addEventListener('keyup', keyupFn);\n    return () => {\n      clearTimeout(timer);\n      document.removeEventListener('keydown', keydownFn);\n      document.removeEventListener('keyup', keyupFn);\n    };\n  }, [keydownFn, keyupFn]);\n\n  return { isPressed };\n}\n","import { useEffect } from 'react';\n\nimport { isFunction } from '@leather.io/utils';\n\nexport function useOnMount(effect: () => void | (() => void) | Promise<unknown>) {\n  useEffect(() => {\n    const fn = effect();\n    return () => (isFunction(fn) ? fn() : undefined);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n}\n","export const initialSearchParams = new URLSearchParams(window.location.href.split('?')[1]);\n\nexport const flow = initialSearchParams.get('flow');\nexport const origin = initialSearchParams.get('origin');\n","import { HDKey } from '@scure/bip32';\nimport { mnemonicToSeedSync } from '@scure/bip39';\nimport { createStacksPrivateKey, getPublicKey, publicKeyToString } from '@stacks/transactions';\n\nexport function derivePublicKey(key: string) {\n  return publicKeyToString(getPublicKey(createStacksPrivateKey(key)));\n}\n\nexport function mnemonicToRootNode(secretKey: string) {\n  const seed = mnemonicToSeedSync(secretKey);\n  return HDKey.fromMasterSeed(seed);\n}\n","import { createAsyncStoragePersister } from '@tanstack/query-async-storage-persister';\nimport { QueryCache, QueryClient } from '@tanstack/react-query';\nimport { persistQueryClient } from '@tanstack/react-query-persist-client';\nimport { ZodError } from 'zod';\n\nimport { PERSISTENCE_CACHE_TIME } from '@leather.io/constants';\n\nimport { IS_TEST_ENV } from '@shared/environment';\nimport { logger } from '@shared/logger';\nimport { analytics } from '@shared/utils/analytics';\n\nconst storage = {\n  getItem: async (key: string) => {\n    const storageVal = await chrome.storage.local.get(key);\n    return storageVal[key];\n  },\n  setItem: (key: string, value: string) => chrome.storage.local.set({ [key]: value }),\n  removeItem: (key: string) => chrome.storage.local.remove([key]),\n};\n\nconst chromeStorageLocalPersister = createAsyncStoragePersister({ storage });\n\nfunction isZodError(error: Error): error is ZodError {\n  // `instanceof` check doesn't work when ZodError thrown from within a package\n  return error instanceof ZodError || error.name === 'ZodError';\n}\n\nexport const queryClient = new QueryClient({\n  queryCache: new QueryCache({\n    onError(error, query) {\n      if (isZodError(error)) {\n        const zodErrorReport = {\n          query: query.queryKey[0],\n          hash: query.queryHash,\n          error: JSON.stringify(error.issues),\n        };\n        logger.error('schema_fail', zodErrorReport);\n        // Replace with `formatQueryZodErrors` from `@leather.io/query`\n        // Example:\n        // `void analytics.track(...formatQueryZodErrors(error, query))`\n        void analytics.track('schema_fail', zodErrorReport);\n      }\n    },\n  }),\n  defaultOptions: {\n    queries: {\n      gcTime: PERSISTENCE_CACHE_TIME,\n      // https://tanstack.com/query/v4/docs/guides/testing#turn-off-retries\n      retry: IS_TEST_ENV ? false : 3,\n    },\n  },\n});\n\nexport async function persistAndRenderApp(renderApp: () => void) {\n  if (!IS_TEST_ENV) {\n    void persistQueryClient({\n      queryClient,\n      persister: chromeStorageLocalPersister,\n      buster: VERSION,\n    });\n  }\n  renderApp();\n}\n","import type { Transaction } from '@scure/btc-signer';\nimport type { SignatureData } from '@stacks/connect';\nimport type { StacksTransaction } from '@stacks/transactions';\n\nimport type { UnsignedMessage } from '@shared/signature/signature-types';\n\ntype PubTypeFn<E> = <Key extends string & keyof E>(\n  event: Key,\n  // Ensures if we have an event with no payload, the second arg can be empty,\n  // rather than `undefined`\n  ...message: null extends E[Key] ? [data?: never] : [data: E[Key]]\n) => void;\n\ntype SubTypeFn<E> = <Key extends string & keyof E>(\n  event: Key,\n  fn: (message: E[Key]) => void\n) => void;\n\ntype MessageFn<E> = <Key extends string & keyof E>(message: E[Key]) => void;\n\ninterface PubSubType<E> {\n  publish: PubTypeFn<E>;\n  subscribe: SubTypeFn<E>;\n  unsubscribe: SubTypeFn<E>;\n}\nfunction createPublishSubscribe<E>(): PubSubType<E> {\n  const handlers: { [key: string]: MessageFn<any>[] } = {};\n\n  return {\n    publish(event, msg?) {\n      handlers[event].forEach(h => h(msg));\n    },\n\n    subscribe(event, callback) {\n      const list = handlers[event] ?? [];\n      list.push(callback);\n      handlers[event] = list;\n    },\n\n    unsubscribe(event, callback) {\n      let list = handlers[event] ?? [];\n      list = list.filter(h => h !== callback);\n      handlers[event] = list;\n    },\n  };\n}\n\n// Global app events. Only add events if your feature isn't capable of\n// communicating internally.\nexport interface GlobalAppEvents {\n  ledgerStacksTxSigned: {\n    unsignedTx: string;\n    signedTx: StacksTransaction;\n  };\n  ledgerStacksTxSigningCancelled: {\n    unsignedTx: string;\n  };\n  ledgerBitcoinTxSigned: {\n    unsignedPsbt: string;\n    signedPsbt: Transaction;\n  };\n  ledgerBitcoinTxSigningCancelled: {\n    unsignedPsbt: string;\n  };\n  ledgerStacksMessageSigned: {\n    unsignedMessage: UnsignedMessage;\n    messageSignatures: SignatureData;\n  };\n  ledgerStacksMessageSigningCancelled: {\n    unsignedMessage: UnsignedMessage;\n  };\n}\n\nexport const appEvents = createPublishSubscribe<GlobalAppEvents>();\n","import { CommonSignaturePayload, SignaturePayload } from '@stacks/connect';\nimport { deserializeCV } from '@stacks/transactions';\nimport { TokenInterface, decodeToken } from 'jsontokens';\n\nimport { isString } from '@leather.io/utils';\n\nimport { StructuredMessageDataDomain } from '@shared/signature/signature-types';\n\nexport function getGenericSignaturePayloadFromToken(requestToken: string): CommonSignaturePayload {\n  const token = decodeToken(requestToken);\n  return token.payload as unknown as CommonSignaturePayload;\n}\n\nexport function getSignaturePayloadFromToken(requestToken: string): SignaturePayload {\n  const token = decodeToken(requestToken);\n  return token.payload as unknown as SignaturePayload;\n}\n\nexport function getStructuredDataPayloadFromToken(requestToken: string) {\n  const token = decodeToken(requestToken);\n  if (isString(token.payload)) throw new Error('error decoding json token');\n\n  const result = token.payload as unknown as TokenInterface & {\n    message: string;\n    domain: string;\n  };\n\n  return {\n    ...(result as unknown as CommonSignaturePayload),\n    message: deserializeCV(Buffer.from(result.message, 'hex')),\n    domain: deserializeCV(Buffer.from(result.domain, 'hex')) as StructuredMessageDataDomain,\n  };\n}\n","export function convertUnicodeToAscii(str: string) {\n  return str.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '');\n}\n","import { ChainID } from '@stacks/transactions';\nimport BigNumber from 'bignumber.js';\nimport { c32addressDecode } from 'c32check';\n\nimport { STX_DECIMALS } from '@leather.io/constants';\nimport type { NetworkConfiguration } from '@leather.io/models';\nimport { initBigNumber, microStxToStx } from '@leather.io/utils';\n\nimport { logger } from '@shared/logger';\nimport { isValidUrl } from '@shared/utils/validate-url';\n\nimport { abbreviateNumber } from '@app/common/utils';\n\nimport { convertUnicodeToAscii } from './string-utils';\n\nexport const stacksValue = ({\n  value,\n  fixedDecimals = true,\n  withTicker = true,\n  abbreviate = false,\n}: {\n  value: number | string | BigNumber;\n  fixedDecimals?: boolean;\n  withTicker?: boolean;\n  abbreviate?: boolean;\n}) => {\n  const stacks = microStxToStx(value);\n  const stxAmount = stacks.toNumber();\n  return `${\n    abbreviate && stxAmount > 10000\n      ? abbreviateNumber(stxAmount)\n      : stxAmount.toLocaleString('en-US', {\n          maximumFractionDigits: fixedDecimals ? STX_DECIMALS : 3,\n        })\n  }${withTicker ? ' STX' : ''}`;\n};\n\nexport const ftDecimals = (value: number | string | BigNumber, decimals: number) => {\n  const amount = initBigNumber(value);\n  return amount\n    .shiftedBy(-decimals)\n    .toNumber()\n    .toLocaleString('en-US', { maximumFractionDigits: decimals });\n};\n\nexport const ftUnshiftDecimals = (value: number | string | BigNumber, decimals: number) => {\n  const amount = initBigNumber(value);\n  return amount.shiftedBy(decimals).toString(10);\n};\n\nexport const validateStacksAddress = (stacksAddress: string): boolean => {\n  try {\n    c32addressDecode(stacksAddress);\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n\nexport function validateAddressChain(address: string, currentNetwork: NetworkConfiguration) {\n  const prefix = address.slice(0, 2);\n  switch (currentNetwork.chain.stacks.chainId) {\n    case ChainID.Mainnet:\n      return prefix === 'SM' || prefix === 'SP';\n    case ChainID.Testnet:\n      return prefix === 'SN' || prefix === 'ST';\n    default:\n      return false;\n  }\n}\n\nexport function isFtNameLikeStx(name: string) {\n  return ['stx', 'stack', 'stacks'].includes(convertUnicodeToAscii(name).toLocaleLowerCase());\n}\n\nexport function getSafeImageCanonicalUri(imageCanonicalUri: string, name: string) {\n  return imageCanonicalUri && isValidUrl(imageCanonicalUri) && !isFtNameLikeStx(name)\n    ? imageCanonicalUri\n    : '';\n}\n\n/**\n * Gets the contract name of a fully qualified name of an asset.\n *\n * @param contractId - the source string: [principal].[contract-name] or [principal].[contract-name]::[asset-name]\n */\nexport const getStacksContractName = (contractId: string): string => {\n  if (contractId.includes('.')) {\n    const parts = contractId?.split('.');\n    if (contractId.includes('::')) {\n      return parts[1].split('::')[0];\n    }\n    return parts[1];\n  }\n  logger.warn(\n    'getStacksContractName: does not contain a period, does not appear to be a contractId.',\n    contractId\n  );\n  return contractId;\n};\n\n/**\n * Gets the asset name from a a fully qualified name of an asset.\n *\n * @param contractId - the fully qualified name of the asset: [principal].[contract-name]::[asset-name]\n */\nconst getStacksContractAssetName = (contractId: string): string => {\n  if (!contractId.includes('::')) {\n    logger.warn(\n      'getStacksContractAssetName: does not contain \"::\", does not appear to be a fully qualified name of an asset.',\n      contractId\n    );\n    return contractId;\n  }\n  return contractId.split('::')[1];\n};\n\n/**\n * Gets the parts that make up a fully qualified name of an asset.\n *\n * @param contractId - the fully qualified name of the asset: [principal].[contract-name]::[asset-name]\n */\nexport const getStacksContractIdStringParts = (\n  contractId: string\n): {\n  contractAddress: string;\n  contractAssetName: string;\n  contractName: string;\n} => {\n  if (!contractId.includes('.') || !contractId.includes('::')) {\n    logger.warn(\n      'getStacksContractIdStringParts: does not contain a period or \"::\", does not appear to be a fully qualified name of an asset.',\n      contractId\n    );\n    return {\n      contractAddress: contractId,\n      contractAssetName: contractId,\n      contractName: contractId,\n    };\n  }\n\n  const contractAddress = contractId.split('.')[0];\n  const contractAssetName = getStacksContractAssetName(contractId);\n  const contractName = getStacksContractName(contractId);\n\n  return {\n    contractAddress,\n    contractAssetName,\n    contractName,\n  };\n};\n","import { useOutletContext } from 'react-router-dom';\n\nimport type { SwitchAccountOutletContext } from './switch-account';\n\nexport function useSwitchAccountSheet() {\n  const { isShowingSwitchAccount, setIsShowingSwitchAccount } =\n    useOutletContext<SwitchAccountOutletContext>();\n  return {\n    isShowingSwitchAccount,\n    setIsShowingSwitchAccount,\n    toggleSwitchAccount() {\n      setIsShowingSwitchAccount(!isShowingSwitchAccount);\n    },\n  };\n}\n","import { createContext, useContext, useEffect, useState } from 'react';\n\nimport * as RadixTooltip from '@radix-ui/react-tooltip';\nimport { Theme as RadixTheme } from '@radix-ui/themes';\n\nimport { noop } from '@leather.io/utils';\n\nimport { store } from '@app/store';\nimport { settingsActions } from '@app/store/settings/settings.actions';\nimport { useUserSelectedTheme } from '@app/store/settings/settings.selectors';\n\nimport { useOnMount } from './hooks/use-on-mount';\n\nexport const themeLabelMap = {\n  light: 'Light',\n  dark: 'Dark',\n  system: 'System',\n};\n\nexport type UserSelectedTheme = keyof typeof themeLabelMap;\ntype ComputedTheme = keyof Pick<typeof themeLabelMap, 'light' | 'dark'>;\n\nexport const getThemeLabel = (theme: UserSelectedTheme) => {\n  return themeLabelMap[theme];\n};\n\nconst ThemeContext = createContext<{\n  theme: ComputedTheme;\n  userSelectedTheme: UserSelectedTheme;\n  setUserSelectedTheme(theme: UserSelectedTheme): void;\n}>({\n  // These values are not used, but are set to satisfy the context's value type.\n  theme: 'light',\n  userSelectedTheme: 'system',\n  setUserSelectedTheme: noop,\n});\n\nconst getSystemTheme = () =>\n  window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n\nfunction getComputedTheme(userSelectedTheme: UserSelectedTheme): ComputedTheme {\n  if (userSelectedTheme === 'system') return getSystemTheme();\n  return userSelectedTheme;\n}\n\nfunction setUserSelectedTheme(theme: UserSelectedTheme) {\n  store.dispatch(settingsActions.setUserSelectedTheme(theme));\n}\n\ninterface ThemeSwitcherProviderProps {\n  children: React.JSX.Element | React.JSX.Element[];\n}\n\nfunction removeSplashScreen() {\n  document.getElementById('splash-screen')?.remove();\n}\n\nexport function ThemeSwitcherProvider({ children }: ThemeSwitcherProviderProps) {\n  const userSelectedTheme = useUserSelectedTheme();\n  const [theme, setTheme] = useState<ComputedTheme>(() => getComputedTheme(userSelectedTheme));\n\n  useOnMount(() => {\n    removeSplashScreen();\n  });\n\n  useEffect(() => {\n    switch (userSelectedTheme) {\n      case 'system': {\n        setTheme(getSystemTheme());\n        const listener = ({ matches }: MediaQueryListEvent) => {\n          if (matches) {\n            setTheme('dark');\n          } else {\n            setTheme('light');\n          }\n        };\n        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', listener);\n        return () => {\n          window.matchMedia('(prefers-color-scheme: dark)').removeEventListener('change', listener);\n        };\n      }\n      case 'dark': {\n        setTheme('dark');\n        return;\n      }\n      case 'light': {\n        setTheme('light');\n        return;\n      }\n    }\n  }, [setTheme, userSelectedTheme]);\n\n  return (\n    <ThemeContext.Provider value={{ theme, userSelectedTheme, setUserSelectedTheme }}>\n      <RadixTheme appearance={theme}>\n        <RadixTooltip.Provider delayDuration={300}>{children}</RadixTooltip.Provider>\n      </RadixTheme>\n    </ThemeContext.Provider>\n  );\n}\n\nexport const useThemeSwitcher = () => useContext(ThemeContext);\n","import { useMemo } from 'react';\n\nimport { type WalletType, useWalletTypeSelector } from '@app/store/common/wallet-type.selectors';\n\nfunction isLedgerWallet(walletType?: WalletType) {\n  return walletType === 'ledger';\n}\n\nfunction isSoftwareWallet(walletType?: WalletType) {\n  return walletType === 'software';\n}\n\ntype WalletTypeMap<T> = Record<WalletType, T>;\n\nfunction whenWallet(walletType?: WalletType) {\n  return <T extends WalletTypeMap<unknown>>(walletTypeMap: T) => {\n    if (isLedgerWallet(walletType)) return walletTypeMap.ledger as T[WalletType.Ledger];\n    if (isSoftwareWallet(walletType)) return walletTypeMap.software as T[WalletType.Software];\n    throw new Error('Wallet is neither of type `ledger` nor `software`');\n  };\n}\n\nexport function useWalletType() {\n  const walletType = useWalletTypeSelector();\n\n  return useMemo(\n    () => ({\n      walletType,\n      whenWallet: whenWallet(walletType),\n    }),\n    [walletType]\n  );\n}\n","import { hexToBytes } from '@stacks/common';\nimport { BytesReader, PostCondition, deserializePostCondition } from '@stacks/transactions';\nimport { toUnicode } from 'punycode';\n\nimport { KEBAB_REGEX } from '@leather.io/constants';\nimport {\n  type BitcoinChainConfig,\n  type BitcoinNetworkModes,\n  HIRO_API_BASE_URL_NAKAMOTO_TESTNET,\n} from '@leather.io/models';\n\nimport { HIRO_EXPLORER_URL } from '@shared/constants';\n\nfunction kebabCase(str: string) {\n  return str.replace(KEBAB_REGEX, match => '-' + match.toLowerCase());\n}\n\ninterface MakeStacksTxExplorerLinkArgs {\n  mode: BitcoinNetworkModes;\n  searchParams?: URLSearchParams;\n  txid: string;\n  isNakamoto?: boolean;\n}\n\nexport function makeStacksTxExplorerLink({\n  mode,\n  searchParams = new URLSearchParams(),\n  txid,\n  isNakamoto = false,\n}: MakeStacksTxExplorerLinkArgs) {\n  searchParams.append('chain', mode);\n  if (isNakamoto) {\n    searchParams.append('api', HIRO_API_BASE_URL_NAKAMOTO_TESTNET);\n  }\n  return `${HIRO_EXPLORER_URL}/txid/${txid}?${searchParams.toString()}`;\n}\n\ninterface MakeStacksAddressExplorerLinkArgs {\n  mode: BitcoinNetworkModes;\n  searchParams?: URLSearchParams;\n  address: string;\n  isNakamoto?: boolean;\n}\n\nexport function makeStacksAddressExplorerLink({\n  mode,\n  searchParams = new URLSearchParams(),\n  address,\n  isNakamoto = false,\n}: MakeStacksAddressExplorerLinkArgs) {\n  searchParams.append('chain', mode);\n  if (isNakamoto) {\n    searchParams.append('api', HIRO_API_BASE_URL_NAKAMOTO_TESTNET);\n  }\n  return `${HIRO_EXPLORER_URL}/address/${address}?${searchParams.toString()}`;\n}\n\ninterface MakeBitcoinTxExplorerLinkArgs {\n  txid: string;\n  bitcoin: BitcoinChainConfig;\n}\nexport function makeBitcoinTxExplorerLink({\n  txid,\n  bitcoin: { bitcoinUrl, bitcoinNetwork },\n}: MakeBitcoinTxExplorerLinkArgs) {\n  const mempoolBaseUrl = 'https://mempool.space';\n\n  switch (bitcoinNetwork) {\n    case 'mainnet':\n      return `${mempoolBaseUrl}/tx/${txid}`;\n    case 'testnet3':\n      return `${mempoolBaseUrl}/testnet/tx/${txid}`;\n    case 'testnet4':\n      return `${mempoolBaseUrl}/testnet4/tx/${txid}`;\n    case 'signet':\n      return `${mempoolBaseUrl}/signet/tx/${txid}`;\n    case 'regtest':\n      return `${bitcoinUrl}/tx/${txid}`;\n  }\n}\n\nexport function truncateString(str: string, maxLength: number) {\n  if (str.length <= maxLength) {\n    return str;\n  }\n  return str.slice(0, maxLength) + '';\n}\n\nfunction getLetters(string: string, offset = 1) {\n  return string.slice(0, offset);\n}\n\nexport function getTicker(value: string) {\n  let name = kebabCase(value);\n  if (name.includes('-')) {\n    const words = name.split('-');\n    if (words.length >= 3) {\n      name = `${getLetters(words[0])}${getLetters(words[1])}${getLetters(words[2])}`;\n    } else {\n      name = `${getLetters(words[0])}${getLetters(words[1], 2)}`;\n    }\n  } else if (name.length >= 3) {\n    name = `${getLetters(name, 3)}`;\n  }\n  return name.toUpperCase();\n}\n\nexport function postConditionFromString(postCondition: string): PostCondition {\n  const reader = new BytesReader(hexToBytes(postCondition));\n  return deserializePostCondition(reader);\n}\n\nfunction isUtf8(buf?: Buffer | Uint8Array): boolean {\n  if (!buf) {\n    return false;\n  }\n  let i = 0;\n  const len = buf.length;\n  while (i < len) {\n    // UTF8-1 = %x00-7F\n    if (buf[i] <= 0x7f) {\n      i++;\n      continue;\n    }\n    // UTF8-2 = %xC2-DF UTF8-tail\n    if (buf[i] >= 0xc2 && buf[i] <= 0xdf) {\n      // if(buf[i + 1] >= 0x80 && buf[i + 1] <= 0xBF) {\n      if (buf[i + 1] >> 6 === 2) {\n        i += 2;\n\n        continue;\n      } else {\n        return false;\n      }\n    }\n    // UTF8-3 = %xE0 %xA0-BF UTF8-tail\n    // UTF8-3 = %xED %x80-9F UTF8-tail\n    if (\n      ((buf[i] === 0xe0 && buf[i + 1] >= 0xa0 && buf[i + 1] <= 0xbf) ||\n        (buf[i] === 0xed && buf[i + 1] >= 0x80 && buf[i + 1] <= 0x9f)) &&\n      buf[i + 2] >> 6 === 2\n    ) {\n      i += 3;\n      continue;\n    }\n    // UTF8-3 = %xE1-EC 2( UTF8-tail )\n    // UTF8-3 = %xEE-EF 2( UTF8-tail )\n    if (\n      ((buf[i] >= 0xe1 && buf[i] <= 0xec) || (buf[i] >= 0xee && buf[i] <= 0xef)) &&\n      buf[i + 1] >> 6 === 2 &&\n      buf[i + 2] >> 6 === 2\n    ) {\n      i += 3;\n\n      continue;\n    }\n    // UTF8-4 = %xF0 %x90-BF 2( UTF8-tail )\n    //          %xF1-F3 3( UTF8-tail )\n    //          %xF4 %x80-8F 2( UTF8-tail )\n    if (\n      ((buf[i] === 0xf0 && buf[i + 1] >= 0x90 && buf[i + 1] <= 0xbf) ||\n        (buf[i] >= 0xf1 && buf[i] <= 0xf3 && buf[i + 1] >> 6 === 2) ||\n        (buf[i] === 0xf4 && buf[i + 1] >= 0x80 && buf[i + 1] <= 0x8f)) &&\n      buf[i + 2] >> 6 === 2 &&\n      buf[i + 3] >> 6 === 2\n    ) {\n      i += 4;\n      continue;\n    }\n    return false;\n  }\n  return true;\n}\n\nexport const abbreviateNumber = (n: number) => {\n  if (n < 1e3) return n.toString();\n  if (n >= 1e3 && n < 1e6) return +(n / 1e3).toFixed(2) + 'K';\n  if (n >= 1e6 && n < 1e9) return +(n / 1e6).toFixed(2) + 'M';\n  if (n >= 1e9 && n < 1e12) return +(n / 1e9).toFixed(2) + 'B';\n  if (n >= 1e12) return +(n / 1e12).toFixed(2) + 'T';\n  return n.toString();\n};\n\nfunction isHex(hex: string): boolean {\n  const regexp = /^[0-9a-fA-F]+$/;\n  return regexp.test(hex);\n}\n\nfunction cleanHex(hexWithMaybePrefix: string): string {\n  if (hexWithMaybePrefix !== 'string') return hexWithMaybePrefix;\n  return hexWithMaybePrefix.startsWith('0x')\n    ? hexWithMaybePrefix.replace('0x', '')\n    : hexWithMaybePrefix;\n}\n\nexport function hexToBuff(hex: string): Buffer {\n  return Buffer.from(cleanHex(hex), 'hex');\n}\n\nexport function hexToHumanReadable(hex: string) {\n  if (!isHex(hex)) return hex;\n  const buff = hexToBuff(hex);\n  if (isUtf8(buff)) return buff.toString('utf8');\n  return `0x${hex}`;\n}\n\nexport const slugify = (...args: (string | number)[]): string => {\n  const value = args.join(' ');\n\n  return value\n    .normalize('NFD') // split an accented letter in the base letter and the accent\n    .replace(/[\\u0300-\\u036f]/g, '') // remove all previously split accents\n    .toLowerCase()\n    .trim()\n    .replace(/[^a-z0-9 ]/g, '') // remove all chars not letters, numbers and spaces (to be replaced)\n    .replace(/\\s+/g, '-'); // separator\n};\n\nexport function getUrlHostname(url: string) {\n  return new URL(url).hostname;\n}\n\nfunction getUrlPort(url: string) {\n  return new URL(url).port;\n}\n\nexport function addPortSuffix(url: string) {\n  const port = getUrlPort(url);\n  return port ? `:${port}` : '';\n}\n\nexport function with0x(value: string): string {\n  return !value.startsWith('0x') ? `0x${value}` : value;\n}\n\nexport function getPrincipalFromContractId(identifier: string) {\n  return identifier.split('::')[0];\n}\n\nexport function formatContractId(address: string, name: string) {\n  return `${address}.${name}`;\n}\n\nexport function doesBrowserSupportWebUsbApi() {\n  return Boolean((navigator as any).usb);\n}\n\nfunction isFullPage() {\n  return document.location.pathname.startsWith('/index.html');\n}\n\nconst pageMode = isFullPage() ? 'full' : 'popup';\n\ntype PageMode = 'popup' | 'full';\n\ntype WhenPageModeMap<T> = Record<PageMode, T>;\n\n// don't use whenPageMode for styling - use panda responsive object\nexport function whenPageMode<T>(pageModeMap: WhenPageModeMap<T>) {\n  return pageModeMap[pageMode];\n}\n\nexport function isPopupMode() {\n  return pageMode === 'popup';\n}\n\nexport const parseIfValidPunycode = (s: string) => {\n  try {\n    return toUnicode(s);\n  } catch {\n    return s;\n  }\n};\n\nexport function capitalize(val: string) {\n  return val.charAt(0).toUpperCase() + val.slice(1);\n}\n\ninterface LinearInterpolation {\n  start: number;\n  end: number;\n  t: number;\n}\n\n// Linear Interpolation\nexport function linearInterpolation({ start, end, t }: LinearInterpolation) {\n  return (1 - t) * start + t * end;\n}\n\nexport function removeTrailingNullCharacters(s: string) {\n  return s.replace(/\\0*$/g, '');\n}\n\nexport function removeMinusSign(value: string) {\n  return value.replace('-', '');\n}\n","import { RouteUrls } from '@shared/route-urls';\nimport { isValidUrl } from '@shared/utils/validate-url';\n\nexport function openInNewTab(url: string) {\n  if (!isValidUrl(url)) return;\n  // Only place window.open may be called\n  // eslint-disable-next-line no-restricted-properties\n  const newWindow = window.open(url, '_blank', 'noopener,noreferrer');\n  if (newWindow) newWindow.opener = null;\n}\n\nexport function openIndexPageInNewTab(path: RouteUrls | string, searchParams?: string) {\n  const paramsString = searchParams ? searchParams : '';\n  return chrome.tabs.create({\n    url: chrome.runtime.getURL(`index.html#${path}` + paramsString),\n  });\n}\n","import type { QueryObserverResult } from '@tanstack/react-query';\nimport { Box, styled } from 'leather-styles/jsx';\n\nimport { ItemLayout } from '@leather.io/ui';\n\ninterface CryptoAssetItemErrorProps {\n  caption: string;\n  icon: React.ReactNode;\n  onRefetch?(): Promise<QueryObserverResult<unknown, unknown>>;\n  title: string;\n}\nexport function CryptoAssetItemError({\n  caption,\n  icon,\n  onRefetch,\n  title,\n}: CryptoAssetItemErrorProps) {\n  return (\n    <Box my=\"space.02\">\n      <ItemLayout\n        img={icon}\n        titleLeft={title}\n        captionLeft={caption}\n        titleRight={\n          <styled.span color=\"ink.text-subdued\" textStyle=\"label.02\">\n            Unable to load\n          </styled.span>\n        }\n        captionRight={\n          onRefetch && (\n            <styled.button lineHeight=\"20px\" onClick={onRefetch}>\n              <styled.span textStyle=\"caption.01\">Retry</styled.span>\n            </styled.button>\n          )\n        }\n      />\n    </Box>\n  );\n}\n","import { Box, Circle } from 'leather-styles/jsx';\n\nimport { ItemLayout, SkeletonLoader } from '@leather.io/ui';\n\nexport function CryptoAssetItemPlaceholder() {\n  return (\n    <Box my=\"space.02\">\n      <ItemLayout\n        img={<Circle bgColor=\"ink.text-non-interactive\" size=\"36px\" />}\n        titleLeft={<SkeletonLoader isLoading height=\"20px\" width=\"126px\" />}\n        captionLeft={<SkeletonLoader isLoading height=\"20px\" width=\"78px\" />}\n        titleRight={<SkeletonLoader isLoading width=\"126px\" />}\n        captionRight={<SkeletonLoader isLoading width=\"78px\" />}\n      />\n    </Box>\n  );\n}\n","import { Box, BoxProps, styled } from 'leather-styles/jsx';\n\nimport { Link } from '@leather.io/ui';\n\nimport { openInNewTab } from '@app/common/utils/open-in-new-tab';\n\ninterface DisclaimerProps extends BoxProps {\n  disclaimerText: string;\n  learnMoreUrl?: string;\n}\nexport function Disclaimer({ disclaimerText, learnMoreUrl, ...props }: DisclaimerProps) {\n  return (\n    <Box {...props}>\n      <styled.span textStyle=\"caption.01\">\n        {disclaimerText}\n        {learnMoreUrl ? (\n          <Link display=\"inline\" fontSize=\"14px\" onClick={() => openInNewTab(learnMoreUrl)}>\n            {' '}\n            Learn more\n          </Link>\n        ) : null}\n        {learnMoreUrl ? '.' : null}\n      </styled.span>\n    </Box>\n  );\n}\n","import { useState } from 'react';\n\ninterface FaviconProps {\n  origin: string;\n}\n\nexport function Favicon({ origin }: FaviconProps) {\n  const [hasError, setHasError] = useState(false);\n  if (hasError) return null;\n  return (\n    <img\n      src={`https://www.google.com/s2/favicons?domain=${origin}`}\n      onError={() => setHasError(true)}\n    />\n  );\n}\n","import { ReactNode } from 'react';\n\nimport { SharedComponentsSelectors } from '@tests/selectors/shared-component.selectors';\nimport { Box, BoxProps, Flex, HStack, Stack, styled } from 'leather-styles/jsx';\n\nimport { Button, DashedHr } from '@leather.io/ui';\nimport { isString } from '@leather.io/utils';\n\n// InfoCardRow\ninterface InfoCardRowProps {\n  title?: string;\n  value: ReactNode;\n  titleAdditionalElement?: ReactNode;\n}\nexport function InfoCardRow({ title, value, titleAdditionalElement, ...props }: InfoCardRowProps) {\n  return (\n    <HStack alignItems=\"start\" fontSize=\"14px\" justifyContent=\"space-between\" {...props}>\n      <Flex alignItems=\"center\" gap=\"space.01\">\n        <styled.span color=\"ink.text-subdued\" mr=\"space.01\" textStyle=\"body.02\">\n          {title}\n        </styled.span>\n        {titleAdditionalElement && titleAdditionalElement}\n      </Flex>\n      {isString(value) ? (\n        <styled.span\n          color=\"ink.text-primary\"\n          textStyle=\"label.02\"\n          fontVariant=\"tabular-nums\"\n          data-testid={SharedComponentsSelectors.InfoCardRowValue}\n        >\n          {value}\n        </styled.span>\n      ) : (\n        value\n      )}\n    </HStack>\n  );\n}\n\n// InfoCardSeparator\nexport function InfoCardSeparator() {\n  return <DashedHr my=\"space.04\" />;\n}\n\n// InfoCardAssetValue\ninterface InfoCardAssetValueProps extends BoxProps {\n  value: number;\n  fiatValue?: string;\n  fiatSymbol?: string;\n  symbol?: string;\n  icon?: ReactNode;\n}\nexport function InfoCardAssetValue({\n  value,\n  fiatValue,\n  fiatSymbol,\n  symbol,\n  icon,\n  ...props\n}: InfoCardAssetValueProps) {\n  return (\n    <Box width=\"100%\" {...props}>\n      <Stack alignItems=\"center\" width=\"100%\" py=\"space.05\">\n        {icon && icon}\n\n        <Flex alignItems=\"center\" flexDirection=\"column\">\n          <styled.h1\n            data-testid={SharedComponentsSelectors.InfoCardAssetValue}\n            mb=\"space.01\"\n            textStyle=\"heading.03\"\n          >\n            {value} {symbol}\n          </styled.h1>\n          {fiatValue && (\n            <styled.span textStyle=\"label.01\">\n              ~ {fiatValue} {fiatSymbol}\n            </styled.span>\n          )}\n        </Flex>\n      </Stack>\n    </Box>\n  );\n}\n\n// InfoCardBtn\ninterface InfoCardBtnProps {\n  icon: ReactNode;\n  label: string;\n  onClick(): void;\n}\nexport function InfoCardBtn({ icon, label, onClick }: InfoCardBtnProps) {\n  return (\n    <Button onClick={onClick} flex=\"1\">\n      <Flex alignItems=\"center\" justifyContent=\"center\">\n        <styled.span mx=\"space.02\" textStyle=\"label.02\">\n          {label}\n        </styled.span>\n        {icon}\n      </Flex>\n    </Button>\n  );\n}\n\n// InfoCardFooter\ninterface InfoCardFooterProps {\n  children: ReactNode;\n}\nexport function InfoCardFooter({ children }: InfoCardFooterProps) {\n  return (\n    <Flex\n      alignItems=\"center\"\n      bg={{ base: 'ink.background-primary', md: '' }}\n      bottom=\"0\"\n      justifyContent=\"center\"\n      p=\"space.05\"\n      position={{ base: 'fixed', md: 'unset' }}\n      width=\"100%\"\n      zIndex={999}\n    >\n      {children}\n    </Flex>\n  );\n}\n","import { Box, BoxProps } from 'leather-styles/jsx';\n\nexport function Divider(props: BoxProps) {\n  return <Box bg=\"ink.border-default\" height=\"1px\" width=\"100%\" {...props} />;\n}\n","import { FlexProps } from 'leather-styles/jsx';\n\nimport { IconButton } from '@leather.io/ui';\n\ninterface HeaderActionButtonProps extends FlexProps {\n  icon: React.JSX.Element;\n  onAction(): void;\n  dataTestId: string;\n}\nexport function HeaderActionButton({ icon, onAction, dataTestId }: HeaderActionButtonProps) {\n  return (\n    <IconButton\n      height=\"headerContainerHeight\"\n      _hover={{\n        bg: 'ink.component-background-hover',\n        cursor: 'pointer',\n      }}\n      color=\"ink.action-primary-default\"\n      data-testid={dataTestId}\n      icon={icon}\n      onClick={onAction}\n      transition=\"transition\"\n      userSelect=\"none\"\n      zIndex={999}\n    />\n  );\n}\n","import { ChainID } from '@stacks/transactions';\nimport { Flex, Grid, GridItem, type GridProps, HStack } from 'leather-styles/jsx';\n\nimport { NetworkModeBadge } from '@leather.io/ui';\n\nimport type { HasChildren } from '@app/common/has-children';\nimport { useCurrentNetworkState } from '@app/store/networks/networks.hooks';\n\ninterface HeaderGridProps extends GridProps {\n  leftCol: React.ReactNode;\n  centerCol?: React.ReactNode;\n  rightCol: React.ReactNode;\n}\nexport function HeaderGrid({ leftCol, centerCol, rightCol, ...props }: HeaderGridProps) {\n  return (\n    <Grid\n      alignItems=\"center\"\n      gridTemplateColumns={centerCol ? '2fr 4fr 2fr' : 'auto auto'}\n      gridAutoFlow=\"column\"\n      width=\"100%\"\n      {...props}\n    >\n      <GridItem justifySelf=\"start\">\n        <Flex py={{ base: 0, md: 'space.01' }}>{leftCol}</Flex>\n      </GridItem>\n      {centerCol && <GridItem margin=\"auto\">{centerCol}</GridItem>}\n      <GridItem>{rightCol}</GridItem>\n    </Grid>\n  );\n}\n\nexport function HeaderGridRightCol({ children }: HasChildren) {\n  const { chain, name: chainName } = useCurrentNetworkState();\n  return (\n    <HStack alignItems=\"center\" justifyContent=\"flex-end\">\n      <NetworkModeBadge\n        isTestnetChain={chain.stacks.chainId === ChainID.Testnet}\n        name={chainName}\n      />\n      {children}\n    </HStack>\n  );\n}\n","import { type BoxProps, styled } from 'leather-styles/jsx';\n\nimport type { HasChildren } from '@app/common/has-children';\n\nexport function Header({ children, ...props }: HasChildren & BoxProps) {\n  return (\n    <styled.header\n      justifyContent=\"center\"\n      margin={{ base: 0, md: 'auto' }}\n      p=\"space.04\"\n      bg=\"transparent\"\n      maxWidth={{ base: '100vw', md: 'fullPageMaxWidth' }}\n      width=\"100%\"\n      {...props}\n    >\n      {children}\n    </styled.header>\n  );\n}\n","import { OnboardingSelectors } from '@tests/selectors/onboarding.selectors';\nimport { Box, BoxProps } from 'leather-styles/jsx';\n\nimport { Logo } from '@leather.io/ui';\n\ninterface LogoBoxProps extends BoxProps {\n  onClick?(): void;\n}\n\nexport function LogoBox({ onClick, ...props }: LogoBoxProps) {\n  return (\n    <Box height=\"headerContainerHeight\" margin=\"auto\" px=\"space.02\" hideBelow=\"sm\" {...props}>\n      <Logo data-testid={OnboardingSelectors.LogoRouteToHome} onClick={onClick} />\n    </Box>\n  );\n}\n","import { type ReactNode } from 'react';\n\nimport { Box } from 'leather-styles/jsx';\n\ninterface PageProps {\n  children: ReactNode;\n  showLogo?: boolean;\n}\n\nexport function Page({ children }: PageProps) {\n  return (\n    <Box width=\"pageWidth\" margin=\"auto\" height={{ base: '100%', md: 'fit-content' }}>\n      {children}\n    </Box>\n  );\n}\n","import type { ReactNode } from 'react';\n\nimport { Flex, FlexProps } from 'leather-styles/jsx';\nimport { token } from 'leather-styles/tokens';\n\ninterface CardProps {\n  children: ReactNode;\n  dataTestId?: string;\n  header?: ReactNode;\n  footer?: ReactNode;\n  footerBorder?: boolean;\n  contentStyle?: FlexProps;\n}\n\nexport function Card({\n  children,\n  dataTestId,\n  header,\n  footer,\n  contentStyle,\n  footerBorder = false,\n  ...props\n}: CardProps & FlexProps) {\n  return (\n    <Flex\n      data-testid={dataTestId}\n      direction=\"column\"\n      position={{ base: 'unset', sm: 'relative' }}\n      border={{ base: 'unset', sm: 'default' }}\n      rounded=\"lg\"\n      {...props}\n    >\n      {header}\n      <Flex\n        flexDirection=\"column\"\n        width=\"100%\"\n        overflowY=\"auto\"\n        style={{ marginBottom: footer ? token('sizes.footerHeight') : 0 }}\n        p=\"space.05\"\n        maxHeight={{ base: '70vh', md: '80vh' }}\n        {...contentStyle}\n      >\n        {children}\n      </Flex>\n      {footer && (\n        <Flex\n          bottom={0}\n          position=\"absolute\"\n          gap=\"space.05\"\n          p=\"space.05\"\n          width=\"100vw\"\n          maxWidth=\"100%\"\n          zIndex={1}\n          minHeight=\"footerHeight\"\n          bg=\"ink.background-primary\"\n          borderTop={footerBorder ? 'default' : 'unset'}\n          borderBottomLeftRadius=\"lg\"\n          borderBottomRightRadius=\"lg\"\n        >\n          {footer}\n        </Flex>\n      )}\n    </Flex>\n  );\n}\n","import { Flex, FlexProps } from 'leather-styles/jsx';\n\nimport { HasChildren } from '@app/common/has-children';\n\nexport function ButtonRow({ children, ...props }: HasChildren & FlexProps) {\n  return (\n    <Flex flexDirection=\"column\" gap=\"space.04\" width=\"100%\" {...props}>\n      {children}\n    </Flex>\n  );\n}\n","import { HStack } from 'leather-styles/jsx';\n\nimport { CopyIcon, ExternalLinkIcon } from '@leather.io/ui';\n\nimport { InfoCardBtn } from '@app/components/info-card/info-card';\n\ninterface SummaryFooterProps {\n  onClickLink(): void;\n  onClickCopy(): void;\n}\nexport function SummaryFooter({ onClickLink, onClickCopy }: SummaryFooterProps) {\n  return (\n    <HStack gap=\"space.04\" width=\"100%\">\n      <InfoCardBtn\n        icon={<ExternalLinkIcon color=\"ink.background-primary\" />}\n        label=\"View details\"\n        onClick={onClickLink}\n      />\n      <InfoCardBtn\n        icon={<CopyIcon color=\"ink.background-primary\" />}\n        label=\"Copy ID\"\n        onClick={onClickCopy}\n      />\n    </HStack>\n  );\n}\n","import { Box, Flex, HStack, styled } from 'leather-styles/jsx';\n\nimport { InfoCircleIcon } from '@leather.io/ui';\n\nimport { PrivateTextLayout } from '@app/components/privacy/private-text.layout';\nimport { BasicTooltip } from '@app/ui/components/tooltip/basic-tooltip';\n\ninterface AvailableBalanceProps {\n  balance: string;\n  balanceTooltipLabel?: string;\n  isPrivate?: boolean;\n}\n\nexport function AvailableBalance({\n  balance,\n  isPrivate,\n  balanceTooltipLabel = 'Amount that is immediately available for use after taking into account any pending transactions or holds placed on your account by the protocol.',\n}: AvailableBalanceProps) {\n  return (\n    <Flex alignItems=\"center\" justifyContent=\"space-between\">\n      <HStack gap=\"space.01\">\n        <styled.span color=\"ink.text-subdued\" textStyle=\"caption.01\">\n          Available balance\n        </styled.span>\n        <BasicTooltip asChild label={balanceTooltipLabel} side=\"top\">\n          <Box>\n            <InfoCircleIcon color=\"ink.text-subdued\" variant=\"small\" />\n          </Box>\n        </BasicTooltip>\n      </HStack>\n      <styled.span color=\"ink.text-subdued\" mr=\"space.02\" textStyle=\"caption.01\">\n        <PrivateTextLayout isPrivate={isPrivate}>{balance}</PrivateTextLayout>\n      </styled.span>\n    </Flex>\n  );\n}\n","export { Card } from './card';\nexport { ButtonRow } from './components/button-row';\nexport { SummaryFooter } from './components/summary-footer';\nexport { AvailableBalance } from './components/available-balance';\n","import { ReactNode } from 'react';\n\nimport { Box, Flex, Stack, styled } from 'leather-styles/jsx';\n\ninterface TwoColumnLayoutProps {\n  title: ReactNode;\n  content: ReactNode;\n  action?: ReactNode;\n  children: ReactNode;\n  wideChild?: boolean;\n}\n\nexport function TwoColumnLayout({\n  title,\n  content,\n  action,\n  children,\n  wideChild,\n}: TwoColumnLayoutProps): React.JSX.Element {\n  return (\n    <Flex\n      flexDirection={{ base: 'column', md: 'row' }}\n      pt=\"space.06\"\n      px={{ base: 'space.05', md: 'space.00' }}\n      mx={{ base: 'auto', md: 'space.03', lg: 'space.06' }}\n      gap=\"space.05\"\n      width={{ base: '100vw', md: 'unset' }}\n    >\n      <Flex flexDirection=\"column\" gap=\"space.04\">\n        <Stack gap=\"space.04\">\n          <styled.h1 textStyle=\"heading.03\">{title}</styled.h1>\n          <styled.p textStyle=\"label.02\">{content}</styled.p>\n          <Box mt=\"space.04\">{action}</Box>\n        </Stack>\n      </Flex>\n\n      <Flex gap=\"space.05\" flexDirection=\"column\" mb={{ base: 'space.05', md: '0' }}>\n        <Stack\n          p={{ base: 'space.02', md: 'space.05' }}\n          gap=\"space.04\"\n          bg=\"ink.background-primary\"\n          border=\"default\"\n          borderRadius=\"lg\"\n          width=\"100%\"\n          minWidth={{\n            base: '100%',\n            md: '400px',\n            lg: wideChild ? 'twoColumnPageWidth' : 'pageWidth',\n          }}\n          flex=\"1\"\n        >\n          {children}\n        </Stack>\n      </Flex>\n    </Flex>\n  );\n}\n","import { Flex } from 'leather-styles/jsx';\n\nimport type { HasChildren } from '@app/common/has-children';\n\nexport function ContainerLayout({ children }: HasChildren) {\n  return (\n    <Flex flexDirection=\"column\" flexGrow={1} width=\"100%\" height={{ base: '100vh', sm: '100%' }}>\n      {children}\n    </Flex>\n  );\n}\n","export { Page } from './page/page.layout';\nexport * from './card';\n\nexport { AvailableBalance } from './card/components/available-balance';\n\nexport { Content } from './layouts/content.layout';\nexport { TwoColumnLayout } from './layouts/two-column.layout';\nexport { ContainerLayout } from './layouts/container.layout';\n","import { Flex } from 'leather-styles/jsx';\n\nimport type { HasChildren } from '@app/common/has-children';\n\nexport function Content({ children }: HasChildren) {\n  return (\n    <Flex\n      className=\"main-content\"\n      flexGrow={1}\n      position=\"relative\"\n      width=\"100%\"\n      maxWidth=\"fullPageMaxWidth\"\n    >\n      {children}\n    </Flex>\n  );\n}\n","import { P2Ret } from '@scure/btc-signer/payment';\n\nimport { useConfigBitcoinEnabled } from '@app/query/common/remote-config/remote-config.query';\nimport { useCurrentAccountIndex } from '@app/store/accounts/account';\nimport { Signer } from '@app/store/accounts/blockchain/bitcoin/bitcoin-signer';\nimport { useNativeSegwitSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useTaprootSigner } from '@app/store/accounts/blockchain/bitcoin/taproot-account.hooks';\nimport { useCurrentNetwork } from '@app/store/networks/networks.selectors';\n\ninterface BitcoinAccountLoaderBaseProps {\n  children(account: Signer<P2Ret>): React.ReactNode;\n  fallback?: React.ReactNode;\n}\ninterface BtcAccountLoaderCurrentProps extends BitcoinAccountLoaderBaseProps {\n  current: true;\n}\ninterface BtcAccountLoaderIndexProps extends BitcoinAccountLoaderBaseProps {\n  index: number;\n}\n\ntype BtcAccountLoaderProps = BtcAccountLoaderCurrentProps | BtcAccountLoaderIndexProps;\n\nexport function BitcoinNativeSegwitAccountLoader({\n  children,\n  fallback,\n  ...props\n}: BtcAccountLoaderProps) {\n  const isBitcoinEnabled = useConfigBitcoinEnabled();\n\n  const currentAccountIndex = useCurrentAccountIndex();\n\n  const properIndex = 'current' in props ? currentAccountIndex : props.index;\n\n  const signer = useNativeSegwitSigner(properIndex);\n\n  if (!signer || !isBitcoinEnabled) return fallback;\n  return children(signer(0));\n}\n\nexport function BitcoinTaprootAccountLoader({ children, ...props }: BtcAccountLoaderProps) {\n  const isBitcoinEnabled = useConfigBitcoinEnabled();\n  const network = useCurrentNetwork();\n\n  const currentAccountIndex = useCurrentAccountIndex();\n\n  const properIndex = 'current' in props ? currentAccountIndex : props.index;\n\n  const signer = useTaprootSigner(properIndex, network.chain.bitcoin.mode);\n\n  if (!signer || !isBitcoinEnabled) return null;\n  return children(signer(0));\n}\n","import type { BtcCryptoAssetBalance } from '@leather.io/models';\nimport { BtcAvatarIcon } from '@leather.io/ui';\n\nimport { useBtcCryptoAssetBalanceNativeSegwit } from '@app/query/bitcoin/balance/btc-balance-native-segwit.hooks';\n\nimport { CryptoAssetItemError } from '../crypto-asset-item/crypto-asset-item-error';\nimport { CryptoAssetItemPlaceholder } from '../crypto-asset-item/crypto-asset-item-placeholder';\n\ninterface BtcBalanceLoaderProps {\n  address: string;\n  children(balance: BtcCryptoAssetBalance): React.ReactNode;\n}\nexport function BtcBalanceLoader({ address, children }: BtcBalanceLoaderProps) {\n  const { balance } = useBtcCryptoAssetBalanceNativeSegwit(address);\n  return children(balance);\n}\n\ninterface BtcAssetItemBalanceLoaderProps {\n  address: string;\n  children(\n    balance: BtcCryptoAssetBalance,\n    isLoading: boolean,\n    isLoadingAdditionalData: boolean\n  ): React.ReactNode;\n}\nexport function BtcAssetItemBalanceLoader({ address, children }: BtcAssetItemBalanceLoaderProps) {\n  const { balance, filteredUtxosQuery, isLoading, isLoadingAdditionalData } =\n    useBtcCryptoAssetBalanceNativeSegwit(address);\n  if (isLoading) return <CryptoAssetItemPlaceholder />;\n  if (filteredUtxosQuery.isError)\n    return <CryptoAssetItemError caption=\"BTC\" icon={<BtcAvatarIcon />} title=\"Bitcoin\" />;\n  return children(balance, isLoading, isLoadingAdditionalData);\n}\n","import { Box, BoxProps } from 'leather-styles/jsx';\n\nexport function LoadingRectangle(props: BoxProps) {\n  return (\n    <Box\n      animation=\"shine 5s infinite linear\"\n      backgroundColor=\"ink.background-secondary\"\n      backgroundImage=\"linear-gradient(90deg, rgba(219,219,219,1) 0%, rgba(192,192,247,0.5) 35%, rgba(219,219,219,1) 100%)\"\n      {...props}\n    />\n  );\n}\n","import { ChainID } from '@stacks/transactions';\nimport { HStack, styled } from 'leather-styles/jsx';\n\nimport { stacksChainIdToCoreNetworkMode } from '@leather.io/stacks';\n\nimport { capitalize } from '@app/common/utils';\n\ninterface NoFeesWarningRowProps {\n  chainId: ChainID;\n}\nexport function NoFeesWarningRow({ chainId }: NoFeesWarningRowProps) {\n  return (\n    <HStack alignItems=\"center\" justifyContent=\"space-between\">\n      <styled.span textStyle=\"caption.01\">No fees are incurred</styled.span>\n      <styled.span textStyle=\"caption.01\">\n        {capitalize(stacksChainIdToCoreNetworkMode(chainId))}\n      </styled.span>\n    </HStack>\n  );\n}\n","import React from 'react';\n\nimport { type HTMLStyledProps, styled } from 'leather-styles/jsx';\n\nimport { BasicTooltip } from '@app/ui/components/tooltip/basic-tooltip';\n\ninterface PrivateTextLayoutProps extends HTMLStyledProps<'span'> {\n  children: React.ReactNode;\n  isPrivate?: boolean;\n  onShowValue?(): void;\n}\n\nexport function PrivateTextLayout({\n  isPrivate,\n  onShowValue,\n  children,\n  style = {},\n  ...rest\n}: PrivateTextLayoutProps) {\n  const canShowValue = isPrivate && onShowValue;\n\n  return (\n    <BasicTooltip label=\"Show value\" disabled={!canShowValue} asChild>\n      <styled.span\n        {...rest}\n        onClick={canShowValue ? onShowValue : undefined}\n        cursor={canShowValue ? 'pointer' : undefined}\n        style={{\n          ...style,\n          fontFamily: isPrivate ? 'Fira Code, Consolata, monospace' : style?.fontFamily,\n          letterSpacing: isPrivate ? '0.05em' : style?.letterSpacing,\n        }}\n      >\n        {isPrivate ? '***' : children}\n      </styled.span>\n    </BasicTooltip>\n  );\n}\n","import { type HTMLStyledProps } from 'leather-styles/jsx';\n\nimport { PrivateTextLayout } from '@app/components/privacy/private-text.layout';\nimport { useTogglePrivateMode } from '@app/store/settings/settings.actions';\nimport { useIsPrivateMode } from '@app/store/settings/settings.selectors';\n\ninterface PrivateTextProps extends HTMLStyledProps<'span'> {\n  children: React.ReactNode;\n  canClickToShow?: boolean;\n}\n\nexport function PrivateText({ children, canClickToShow, ...rest }: PrivateTextProps) {\n  const isPrivateMode = useIsPrivateMode();\n  const togglePrivateMode = useTogglePrivateMode();\n\n  return (\n    <PrivateTextLayout\n      {...rest}\n      isPrivate={isPrivateMode}\n      onShowValue={canClickToShow ? togglePrivateMode : undefined}\n    >\n      {children}\n    </PrivateTextLayout>\n  );\n}\n","import { useNavigate } from 'react-router-dom';\n\nimport { SettingsSelectors } from '@tests/selectors/settings.selectors';\nimport { SharedComponentsSelectors } from '@tests/selectors/shared-component.selectors';\n\nimport { ArrowLeftIcon, BarsTwoIcon } from '@leather.io/ui';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { useSwitchAccountSheet } from '@app/common/switch-account/use-switch-account-sheet-context';\nimport { Header } from '@app/components/layout/headers/header';\nimport { HeaderActionButton } from '@app/components/layout/headers/header-action-button';\nimport { HeaderGrid, HeaderGridRightCol } from '@app/components/layout/headers/header-grid';\nimport { LogoBox } from '@app/components/layout/headers/logo-box';\nimport { Settings } from '@app/features/settings/settings';\n\ninterface OnboardingHeaderProps {\n  hideLogo?: boolean;\n}\n\nexport function OnboardingHeader({ hideLogo = false }: OnboardingHeaderProps) {\n  const { isShowingSwitchAccount, setIsShowingSwitchAccount } = useSwitchAccountSheet();\n  const navigate = useNavigate();\n\n  return (\n    <Header px=\"space.05\">\n      <HeaderGrid\n        leftCol={\n          <>\n            <HeaderActionButton\n              icon={<ArrowLeftIcon />}\n              onAction={() => navigate(-1)}\n              dataTestId={SharedComponentsSelectors.HeaderBackBtn}\n            />\n            {!hideLogo && <LogoBox onClick={() => navigate(RouteUrls.Home)} />}\n          </>\n        }\n        rightCol={\n          <HeaderGridRightCol>\n            <Settings\n              triggerButton={<BarsTwoIcon data-testid={SettingsSelectors.SettingsMenuBtn} />}\n              toggleSwitchAccount={() => setIsShowingSwitchAccount(!isShowingSwitchAccount)}\n            />\n          </HeaderGridRightCol>\n        }\n      />\n    </Header>\n  );\n}\n","import { CircleProps } from 'leather-styles/jsx';\n\nimport { useCurrentAccountDisplayName } from '@app/common/hooks/account/use-account-names';\nimport { useCurrentStacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { AccountAvatar } from '@app/ui/components/account/account-avatar/account-avatar';\n\ninterface CurrentAccountAvatar extends CircleProps {\n  toggleSwitchAccount(): void;\n}\nexport function CurrentAccountAvatar() {\n  const stacksAccount = useCurrentStacksAccount();\n  const { data: name = 'Account' } = useCurrentAccountDisplayName();\n  if (!stacksAccount) return <AccountAvatar index={0} name={name} publicKey=\"\" />;\n\n  return (\n    <AccountAvatar index={stacksAccount.index} name={name} publicKey={stacksAccount.stxPublicKey} />\n  );\n}\n","import { Suspense, memo } from 'react';\n\nimport { SettingsSelectors } from '@tests/selectors/settings.selectors';\nimport { Box, BoxProps, styled } from 'leather-styles/jsx';\n\nimport { HasChildren } from '@app/common/has-children';\nimport { useCurrentAccountDisplayName } from '@app/common/hooks/account/use-account-names';\nimport { truncateString } from '@app/common/utils';\nimport { BasicTooltip } from '@app/ui/components/tooltip/basic-tooltip';\n\nfunction AccountNameTitle({ children, ...props }: HasChildren & BoxProps) {\n  return (\n    <Box {...props}>\n      <styled.span data-testid={SettingsSelectors.CurrentAccountDisplayName} textStyle=\"label.01\">\n        {children}\n      </styled.span>\n    </Box>\n  );\n}\n\nconst AccountNameSuspense = memo((props: BoxProps) => {\n  const { data: name = 'Account' } = useCurrentAccountDisplayName();\n  // FIXME: The name is truncated here with JS but we could just use CSS to do this\n  const nameCharLimit = 18;\n  const isLong = name.length > nameCharLimit;\n  const displayName = truncateString(name, nameCharLimit);\n  return (\n    <BasicTooltip label={isLong ? name : undefined}>\n      <AccountNameTitle {...props}>{displayName}</AccountNameTitle>\n    </BasicTooltip>\n  );\n});\n\nexport function CurrentAccountName() {\n  const { data: defaultName = 'Account' } = useCurrentAccountDisplayName();\n  const fallback = <AccountNameTitle>{defaultName}</AccountNameTitle>;\n  return (\n    <Suspense fallback={fallback}>\n      <AccountNameSuspense />\n    </Suspense>\n  );\n}\n","import { Caption } from '@leather.io/ui';\nimport { formatMoney } from '@leather.io/utils';\n\nimport { BitcoinNativeSegwitAccountLoader } from '@app/components/loaders/bitcoin-account-loader';\nimport { BtcBalanceLoader } from '@app/components/loaders/btc-balance-loader';\nimport { PrivateText } from '@app/components/privacy/private-text';\n\nexport function BtcBalance() {\n  return (\n    <BitcoinNativeSegwitAccountLoader current>\n      {signer => (\n        <BtcBalanceLoader address={signer.address}>\n          {balance => (\n            <Caption>\n              <PrivateText canClickToShow>{formatMoney(balance.availableBalance)}</PrivateText>\n            </Caption>\n          )}\n        </BtcBalanceLoader>\n      )}\n    </BitcoinNativeSegwitAccountLoader>\n  );\n}\n","import { useMemo } from 'react';\n\nimport { useStxCryptoAssetBalance } from '@leather.io/query';\nimport { Caption } from '@leather.io/ui';\n\nimport { stacksValue } from '@app/common/stacks-utils';\nimport { PrivateText } from '@app/components/privacy/private-text';\n\ninterface StxBalanceProps {\n  address: string;\n}\nexport function StxBalance(props: StxBalanceProps) {\n  const { address } = props;\n  const { filteredBalanceQuery } = useStxCryptoAssetBalance(address);\n\n  const stxBalance = useMemo(\n    () =>\n      stacksValue({\n        value: filteredBalanceQuery.data?.unlockedBalance.amount ?? 0,\n        withTicker: true,\n      }),\n    [filteredBalanceQuery.data?.unlockedBalance.amount]\n  );\n\n  return (\n    <Caption>\n      <PrivateText canClickToShow>{stxBalance}</PrivateText>\n    </Caption>\n  );\n}\n","import { Suspense } from 'react';\n\nimport { Box, HStack } from 'leather-styles/jsx';\n\nimport { BtcBalance } from '@app/components/balance/btc-balance';\nimport { StxBalance } from '@app/components/balance/stx-balance';\nimport { LoadingRectangle } from '@app/components/loading-rectangle';\nimport { useConfigBitcoinEnabled } from '@app/query/common/remote-config/remote-config.query';\nimport { useCurrentStacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\ninterface TotalBalanceLayoutProps {\n  children: React.ReactNode;\n}\nfunction TotalBalanceLayout({ children }: TotalBalanceLayoutProps) {\n  return (\n    <Box p=\"space.04\" width=\"100%\">\n      {children}\n    </Box>\n  );\n}\n\ninterface TotalBalanceProps {\n  displayAddresssBalanceOf?: 'all' | 'stx';\n}\n\n/**\n * #4370 This code has been ported from legacy PopupHeader to load balances\n */\n\nfunction TotalBalanceSuspense({ displayAddresssBalanceOf }: TotalBalanceProps) {\n  const account = useCurrentStacksAccount();\n  const isBitcoinEnabled = useConfigBitcoinEnabled();\n  return (\n    <TotalBalanceLayout>\n      <HStack alignItems=\"center\" justifyContent=\"right\">\n        {displayAddresssBalanceOf === 'stx' && <StxBalance address={account?.address || ''} />}\n        {isBitcoinEnabled && displayAddresssBalanceOf === 'all' && <BtcBalance />}\n      </HStack>\n    </TotalBalanceLayout>\n  );\n}\n\nfunction TotalBalanceFallback() {\n  return (\n    <TotalBalanceLayout>\n      <LoadingRectangle width=\"72px\" height=\"14px\" />\n    </TotalBalanceLayout>\n  );\n}\n\nexport function TotalBalance(props: TotalBalanceProps) {\n  return (\n    <Suspense fallback={<TotalBalanceFallback />}>\n      <TotalBalanceSuspense {...props} />\n    </Suspense>\n  );\n}\n","import { Box } from 'leather-styles/jsx';\n\nimport { Flag, Logo } from '@leather.io/ui';\n\nimport { useSwitchAccountSheet } from '@app/common/switch-account/use-switch-account-sheet-context';\nimport { Header } from '@app/components/layout/headers/header';\nimport { HeaderGrid, HeaderGridRightCol } from '@app/components/layout/headers/header-grid';\nimport { CurrentAccountAvatar } from '@app/features/current-account/current-account-avatar';\nimport { CurrentAccountName } from '@app/features/current-account/current-account-name';\nimport { TotalBalance } from '@app/features/total-balance/total-balance';\n\ninterface PopupHeaderProps {\n  showSwitchAccount?: boolean;\n  balance?: 'all' | 'stx';\n}\n\nexport function PopupHeader({ showSwitchAccount, balance }: PopupHeaderProps) {\n  const { isShowingSwitchAccount, setIsShowingSwitchAccount } = useSwitchAccountSheet();\n\n  return (\n    <Header>\n      <HeaderGrid\n        gridTemplateColumns=\"auto auto\"\n        leftCol={\n          <>\n            {showSwitchAccount ? (\n              <Flag\n                align=\"middle\"\n                img={<CurrentAccountAvatar />}\n                onClick={() => setIsShowingSwitchAccount(!isShowingSwitchAccount)}\n                cursor=\"pointer\"\n              >\n                <CurrentAccountName />\n              </Flag>\n            ) : (\n              <Box height=\"headerPopupHeight\" margin=\"auto\" px=\"space.02\">\n                <Logo />\n              </Box>\n            )}\n          </>\n        }\n        rightCol={\n          <HeaderGridRightCol>\n            {balance && <TotalBalance displayAddresssBalanceOf={balance} />}\n          </HeaderGridRightCol>\n        }\n      />\n    </Header>\n  );\n}\n","import { useMemo } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nimport { bytesToHex } from '@stacks/common';\nimport { StacksTransaction } from '@stacks/transactions';\n\nimport type { SupportedBlockchains } from '@leather.io/models';\n\nimport { BitcoinInputSigningConfig } from '@shared/crypto/bitcoin/signer-config';\nimport { RouteUrls } from '@shared/route-urls';\nimport {\n  type UnsignedMessage,\n  toSerializableUnsignedMessage,\n} from '@shared/signature/signature-types';\n\nimport { immediatelyAttemptLedgerConnection } from './use-when-reattempt-ledger-connection';\n\nexport function useLedgerNavigate() {\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  return useMemo(\n    () => ({\n      toConnectStepAndTryAgain() {\n        return navigate(`../${RouteUrls.ConnectLedger}`, {\n          replace: true,\n          state: { [immediatelyAttemptLedgerConnection]: true },\n        });\n      },\n\n      toConnectAndSignStacksTransactionStep(transaction: StacksTransaction) {\n        return navigate(RouteUrls.ConnectLedger, {\n          replace: true,\n          relative: 'path',\n          state: { tx: bytesToHex(transaction.serialize()) },\n        });\n      },\n\n      toConnectAndSignBitcoinTransactionStep(\n        psbt: Uint8Array,\n        inputsToSign?: BitcoinInputSigningConfig[]\n      ) {\n        return navigate(RouteUrls.ConnectLedger, {\n          replace: true,\n          relative: 'route',\n          state: {\n            tx: bytesToHex(psbt),\n            inputsToSign,\n            backgroundLocation: { pathname: RouteUrls.Home },\n          },\n        });\n      },\n\n      toConnectAndSignMessageStep(message: UnsignedMessage) {\n        return navigate(RouteUrls.ConnectLedger, {\n          replace: true,\n          // Unsigned messages may contain unserializable data, such as bigint\n          state: { ...toSerializableUnsignedMessage(message) },\n        });\n      },\n\n      toDeviceBusyStep(description?: string) {\n        return navigate(RouteUrls.DeviceBusy, {\n          replace: true,\n          state: { description, backgroundLocation: { pathname: RouteUrls.Home } },\n        });\n      },\n\n      toConnectionSuccessStep(chain: SupportedBlockchains) {\n        return navigate(RouteUrls.ConnectLedgerSuccess, {\n          replace: true,\n          state: {\n            chain,\n            backgroundLocation: { pathname: RouteUrls.Home },\n          },\n        });\n      },\n\n      toErrorStep(chain: SupportedBlockchains, errorMessage?: string) {\n        return navigate(RouteUrls.ConnectLedgerError, {\n          replace: true,\n          state: {\n            latestLedgerError: errorMessage,\n            chain,\n            backgroundLocation: { pathname: RouteUrls.Home },\n          },\n        });\n      },\n\n      toAwaitingDeviceOperation({ hasApprovedOperation }: { hasApprovedOperation: boolean }) {\n        return navigate(RouteUrls.AwaitingDeviceUserAction, {\n          replace: true,\n          state: {\n            hasApprovedOperation,\n            backgroundLocation: { pathname: RouteUrls.Home },\n          },\n        });\n      },\n\n      toPublicKeyMismatchStep() {\n        return navigate(RouteUrls.LedgerPublicKeyMismatch, {\n          replace: true,\n          state: {\n            backgroundLocation: { pathname: RouteUrls.Home },\n          },\n        });\n      },\n\n      toDevicePayloadInvalid() {\n        return navigate(RouteUrls.LedgerDevicePayloadInvalid, {\n          replace: true,\n          state: {\n            backgroundLocation: { pathname: RouteUrls.Home },\n          },\n        });\n      },\n\n      toOperationRejectedStep(description?: string) {\n        return navigate(RouteUrls.LedgerOperationRejected, {\n          replace: true,\n          state: {\n            backgroundLocation: { pathname: RouteUrls.Home },\n            description,\n          },\n        });\n      },\n\n      toDeviceDisconnectStep() {\n        return navigate(RouteUrls.LedgerDisconnected, {\n          replace: true,\n          state: {\n            backgroundLocation: { pathname: RouteUrls.Home },\n          },\n        });\n      },\n\n      toBroadcastErrorStep(error: string) {\n        return navigate(RouteUrls.LedgerBroadcastError, {\n          replace: true,\n          state: {\n            backgroundLocation: { pathname: RouteUrls.Home },\n            error,\n          },\n        });\n      },\n\n      cancelLedgerAction() {\n        // Use baseUrl to determine where to go on close\n        const baseUrl = `/${location.pathname.split('/')[1]}`;\n\n        return navigate(baseUrl, {\n          relative: 'path',\n          replace: true,\n          state: { ...location.state, wentBack: true },\n        });\n      },\n\n      cancelLedgerActionAndReturnHome() {\n        return navigate(RouteUrls.Home);\n      },\n    }),\n\n    [location, navigate]\n  );\n}\n","import { useLocation } from 'react-router-dom';\n\nimport { useOnMount } from '@app/common/hooks/use-on-mount';\n\nexport const immediatelyAttemptLedgerConnection = 'immediatelyAttemptLedgerConnection' as const;\n\nexport function useWhenReattemptingLedgerConnection(fn: () => void) {\n  const location = useLocation();\n\n  useOnMount(() => {\n    const state: any = location.state;\n    if (typeof state !== 'object' || state === null) return;\n    if (state[immediatelyAttemptLedgerConnection]) {\n      // hack to call function on mount\n      setTimeout(fn);\n    }\n  });\n}\n","import Transport from '@ledgerhq/hw-transport-webusb';\nimport { Psbt } from 'bitcoinjs-lib';\nimport BitcoinApp, { DefaultWalletPolicy } from 'ledger-bitcoin';\nimport { PartialSignature } from 'ledger-bitcoin/build/main/lib/appClient';\n\nimport {\n  getNativeSegwitAccountDerivationPath,\n  getTaprootAccountDerivationPath,\n} from '@leather.io/bitcoin';\nimport type { BitcoinNetworkModes } from '@leather.io/models';\n\nimport { LEDGER_APPS_MAP, promptOpenAppOnDevice } from './generic-ledger-utils';\n\nexport interface BitcoinLedgerAccountDetails {\n  id: string;\n  path: string;\n  policy: string;\n  targetId: string;\n}\n\nexport function connectLedgerBitcoinApp(network: BitcoinNetworkModes) {\n  return async function connectLedgerBitcoinAppImpl() {\n    if (network === 'mainnet') {\n      await promptOpenAppOnDevice(LEDGER_APPS_MAP.BITCOIN_MAINNET);\n    } else if (network === 'testnet') {\n      await promptOpenAppOnDevice(LEDGER_APPS_MAP.BITCOIN_TESTNET);\n    }\n\n    const transport = await Transport.create();\n    return new BitcoinApp(transport);\n  };\n}\n\nexport interface BitcoinAppVersion extends Awaited<ReturnType<BitcoinApp['getAppAndVersion']>> {\n  chain: 'bitcoin';\n}\n\nexport async function getBitcoinAppVersion(app: BitcoinApp): Promise<BitcoinAppVersion> {\n  const appVersion = await app.getAppAndVersion();\n  return { chain: 'bitcoin' as const, ...appVersion };\n}\n\nexport interface WalletPolicyDetails {\n  fingerprint: string;\n  network: BitcoinNetworkModes;\n  xpub: string;\n  accountIndex: number;\n}\n\n// Function that takes a derivation path generator fn and uses that to derive a\n// wallet policy string from it\n// E.g.[844b93a0/84'/0'/2']xpub6CQGqQgNfC21xp8r\nfunction derivationPathToWalletPolicy(\n  makePath: (network: BitcoinNetworkModes, accountIndex: number) => string\n) {\n  return ({ network, accountIndex, fingerprint, xpub }: WalletPolicyDetails) =>\n    '[' + makePath(network, accountIndex).replace('m', fingerprint) + ']' + xpub;\n}\n\nexport function createNativeSegwitDefaultWalletPolicy(policyDetails: WalletPolicyDetails) {\n  return new DefaultWalletPolicy(\n    'wpkh(@0/**)',\n    derivationPathToWalletPolicy(getNativeSegwitAccountDerivationPath)(policyDetails)\n  );\n}\n\nexport function createTaprootDefaultWalletPolicy(policyDetails: WalletPolicyDetails) {\n  return new DefaultWalletPolicy(\n    'tr(@0/**)',\n    derivationPathToWalletPolicy(getTaprootAccountDerivationPath)(policyDetails)\n  );\n}\n\nexport function addNativeSegwitSignaturesToPsbt(\n  psbt: Psbt,\n  signatures: [number, PartialSignature][]\n) {\n  signatures.forEach(([index, signature]) => psbt.updateInput(index, { partialSig: [signature] }));\n}\n\nexport function addTaprootInputSignaturesToPsbt(\n  psbt: Psbt,\n  signatures: [number, PartialSignature][]\n) {\n  signatures.forEach(([index, signature]) =>\n    psbt.updateInput(index, { tapKeySig: signature.signature })\n  );\n}\n\nexport function isBitcoinAppOpen({ network }: { network: BitcoinNetworkModes }) {\n  return function isBitcoinAppOpenByName({ name }: { name: string }) {\n    if (network === 'mainnet') {\n      return name === LEDGER_APPS_MAP.BITCOIN_MAINNET;\n    }\n    return name === LEDGER_APPS_MAP.BITCOIN_TESTNET;\n  };\n}\n","// TypeScript port of https://github.com/DavidWells/safe-await/\nimport { isError } from '@leather.io/utils';\n\n// Native Error types https://mzl.la/2Veh3TR\nconst nativeExceptions = [\n  EvalError,\n  RangeError,\n  ReferenceError,\n  SyntaxError,\n  TypeError,\n  URIError,\n].filter(except => typeof except === 'function');\n\nfunction throwNative(error: Error) {\n  for (const Exception of nativeExceptions) {\n    if (error instanceof Exception) throw error;\n  }\n}\n\n// TODO: Migrate to `@leather.io/utils`\nexport async function safeAwait<T>(promise: Promise<T>, finallyFn?: () => void) {\n  return promise\n    .then(data => {\n      if (isError(data)) {\n        throwNative(data);\n        return [data] as readonly [Error];\n      }\n      return [undefined, data] as const;\n    })\n    .catch((error: Error) => {\n      throwNative(error);\n      return [error] as const;\n    })\n    .finally(() => {\n      if (finallyFn) finallyFn();\n    });\n}\n","import { useState } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport TransportWebUSB from '@ledgerhq/hw-transport-webusb';\nimport BitcoinApp from 'ledger-bitcoin';\n\nimport { delay } from '@leather.io/utils';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { safeAwait } from '@app/common/utils/safe-await';\n\nimport { getStacksAppVersion } from './stacks-ledger-utils';\n\nexport enum LedgerConnectionErrors {\n  FailedToConnect = 'FailedToConnect',\n  AppNotOpen = 'AppNotOpen',\n  AppVersionOutdated = 'AppVersionOutdated',\n  DeviceNotConnected = 'DeviceNotConnected',\n  DeviceLocked = 'DeviceLocked',\n  IncorrectAppOpened = 'INCORRECT_APP_OPENED',\n}\n\nexport const LEDGER_APPS_MAP = {\n  STACKS: 'Stacks',\n  BITCOIN_MAINNET: 'Bitcoin',\n  BITCOIN_TESTNET: 'Bitcoin Test',\n  MAIN_MENU: 'BOLOS',\n} as const;\n\nexport type LatestDeviceResponse = null | Awaited<ReturnType<typeof getStacksAppVersion>>;\n\nexport interface BaseLedgerOperationContext {\n  latestDeviceResponse: LatestDeviceResponse;\n  awaitingDeviceConnection: boolean;\n}\n\nconst targetIdMap = new Map([\n  ['31100004', 'Nano S'],\n  ['33000004', 'Nano X'],\n]);\nexport function extractDeviceNameFromKnownTargetIds(targetId: string) {\n  return targetIdMap.get(targetId);\n}\nexport function useLedgerResponseState() {\n  return useState<LatestDeviceResponse>(null);\n}\n\nexport type SemVerObject = Record<'major' | 'minor' | 'patch', number>;\n\nexport function versionObjectToVersionString(version: SemVerObject) {\n  return [version.major, version.minor, version.patch].join('.');\n}\n\nexport interface PrepareLedgerDeviceConnectionArgs {\n  setLoadingState(loadingState: boolean): void;\n  onError(error?: Error): void;\n}\nexport function prepareLedgerDeviceForAppFn<T extends () => Promise<unknown>>(connectAppFn: T) {\n  return async (args: PrepareLedgerDeviceConnectionArgs) => {\n    const { setLoadingState, onError } = args;\n    setLoadingState(true);\n    const [error, app] = await safeAwait(connectAppFn());\n    await delay(1000);\n    setLoadingState(false);\n\n    if (error || !app) {\n      onError(error);\n      throw new Error('Unable to initiate Ledger app');\n    }\n\n    return app;\n  };\n}\n\ntype TransportInstance = Awaited<ReturnType<typeof TransportWebUSB.create>>;\n\n// Reference: https://github.com/LedgerHQ/ledger-live/blob/v22.0.1/src/hw/quitApp.ts\nasync function quitApp(transport: TransportInstance): Promise<void> {\n  await transport.send(0xb0, 0xa7, 0x00, 0x00);\n}\n\n// Reference: https://github.com/LedgerHQ/ledger-live/blob/v22.0.1/src/hw/openApp.ts\nasync function openApp(transport: TransportInstance, name: string): Promise<void> {\n  await transport.send(0xe0, 0xd8, 0x00, 0x00, Buffer.from(name, 'ascii'));\n}\n\nasync function getAppAndVersion() {\n  const tmpTransport = await TransportWebUSB.create();\n  const tmpBitcoinApp = new BitcoinApp(tmpTransport);\n  const appAndVersion = await tmpBitcoinApp.getAppAndVersion();\n  return appAndVersion;\n}\n\nasync function quitAppOnDevice() {\n  const tmpTransport = await TransportWebUSB.create();\n  await quitApp(tmpTransport);\n  // for some reason sending quit app buffer to ledger will close the connection afterwards.\n  // we need to add a delay for this transport to properly finish for another one to open.\n  await delay(500);\n}\n\nexport async function promptOpenAppOnDevice(appName: string) {\n  const appAndVersion = await getAppAndVersion();\n  if (appAndVersion.name !== appName && appAndVersion.name !== LEDGER_APPS_MAP.MAIN_MENU) {\n    await quitAppOnDevice();\n  }\n\n  const tmpTransport = await TransportWebUSB.create();\n\n  if (appAndVersion.name !== appName) {\n    await openApp(tmpTransport, appName);\n  }\n  // for some reason sending open app buffer to ledger will close the connection afterwards.\n  // we need to add a delay for this transport to properly finish for another one to open.\n  await delay(500);\n}\n\nexport function checkLockedDeviceError(e: Error) {\n  return !!(\n    e?.name === 'LockedDeviceError' ||\n    e?.message?.includes('LockedDeviceError') ||\n    e?.message === LedgerConnectionErrors.DeviceLocked\n  );\n}\n\nfunction useIsLedgerActionCancellable(): boolean {\n  const { pathname } = useLocation();\n  return (\n    pathname.includes(RouteUrls.ConnectLedger) ||\n    pathname.includes(RouteUrls.ConnectLedgerSuccess) ||\n    pathname.includes(RouteUrls.ConnectLedgerError) ||\n    pathname.includes(RouteUrls.AwaitingDeviceUserAction)\n  );\n}\n\nexport function useCancelLedgerAction(awaitingDeviceConnection: boolean): boolean {\n  const canUserCancelAction = useIsLedgerActionCancellable();\n\n  return !awaitingDeviceConnection && canUserCancelAction;\n}\n","import { useState } from 'react';\n\nimport { Box, styled } from 'leather-styles/jsx';\n\nimport { ChevronDownIcon, ChevronUpIcon } from '@leather.io/ui';\n\ninterface ShowHashButtonProps {\n  expanded: boolean;\n}\nfunction ShowHashButton(props: ShowHashButtonProps) {\n  const { expanded } = props;\n  return expanded ? <ChevronUpIcon variant=\"small\" /> : <ChevronDownIcon variant=\"small\" />;\n}\n\ninterface HashDrawerProps {\n  hash: string;\n}\n\nexport function HashDrawer(props: HashDrawerProps) {\n  const { hash } = props;\n  const [showHash, setShowHash] = useState(false);\n  const [displayHash, setDisplayHash] = useState(hash);\n  return (\n    <Box px=\"space.05\">\n      <styled.button\n        _focus={{ outline: 0, textDecoration: 'underline' }}\n        _hover={{ cursor: 'pointer' }}\n        onClick={() => {\n          setDisplayHash(showHash ? '' : hash);\n          setShowHash(!showHash);\n        }}\n        type=\"button\"\n        width=\"100%\"\n        display=\"flex\"\n      >\n        <styled.span py=\"space.02\" textStyle=\"caption.01\">\n          {showHash ? 'Hide hash' : 'Show hash'}\n        </styled.span>\n        <Box mb=\"auto\" marginLeft=\"auto\" mt=\"auto\">\n          <ShowHashButton expanded={showHash} />\n        </Box>\n      </styled.button>\n      <Box\n        height={showHash ? '100%' : '0'}\n        transition=\"transition\"\n        visibility={showHash ? 'visible' : 'hidden'}\n      >\n        <styled.span\n          color=\"ink.text-subdued\"\n          lineHeight=\"1.6\"\n          wordBreak=\"break-all\"\n          textStyle=\"caption.01\"\n        >\n          {displayHash}\n        </styled.span>\n      </Box>\n    </Box>\n  );\n}\n","import { Stack, styled } from 'leather-styles/jsx';\n\nimport { HashDrawer } from './hash-drawer';\n\ninterface MessageBoxProps {\n  message: string;\n  hash?: string;\n}\nexport function MessagePreviewBox({ message, hash }: MessageBoxProps) {\n  return (\n    <Stack\n      bg=\"ink.background-primary\"\n      border=\"active\"\n      borderRadius=\"sm\"\n      pb={hash ? 'space.02' : 0}\n      width=\"100%\"\n      maxWidth=\"popupMaxWidth\"\n    >\n      <Stack\n        bg=\"ink.background-primary\"\n        borderRadius=\"lg\"\n        gap=\"space.02\"\n        px=\"space.05\"\n        py=\"space.05\"\n        overflowX=\"auto\"\n      >\n        {message.split(/\\r?\\n/).map((line, index) => (\n          <styled.span key={`${line}_${index}`} textStyle=\"label.01\">\n            {line}\n          </styled.span>\n        ))}\n      </Stack>\n      {hash ? <HashDrawer hash={hash} /> : null}\n    </Stack>\n  );\n}\n","import { Stack, styled } from 'leather-styles/jsx';\n\nimport { Flag } from '@leather.io/ui';\n\nimport { addPortSuffix, getUrlHostname } from '@app/common/utils';\nimport { Favicon } from '@app/components/favicon';\nimport { useCurrentNetworkState } from '@app/store/networks/networks.hooks';\n\ninterface MessageSigningHeaderProps {\n  name?: string;\n  origin: string | null;\n  additionalText?: string;\n}\nexport function MessageSigningHeader({\n  name,\n  origin,\n  additionalText = '',\n}: MessageSigningHeaderProps) {\n  const { chain, isTestnet } = useCurrentNetworkState();\n\n  const originAddition = origin ? ` (${getUrlHostname(origin)})` : '';\n  const testnetAddition = isTestnet\n    ? ` using ${getUrlHostname(chain.stacks.url)}${addPortSuffix(chain.stacks.url)}`\n    : '';\n\n  const displayName = name ?? origin;\n\n  const caption = displayName\n    ? `Requested by ${displayName}${originAddition}${testnetAddition}`\n    : null;\n\n  return (\n    <Stack gap=\"space.04\" pt=\"space.05\">\n      <styled.h1 textStyle=\"heading.03\">Sign message</styled.h1>\n      {caption && (\n        <Flag img={<Favicon origin={origin ?? ''} />} pl=\"space.02\">\n          <styled.span textStyle=\"label.02\" wordBreak=\"break-word\">\n            {caption}\n            {additionalText}\n          </styled.span>\n        </Flag>\n      )}\n    </Stack>\n  );\n}\n","import { Stack } from 'leather-styles/jsx';\n\ninterface MessageSigningRequestLayoutProps {\n  children: React.ReactNode;\n}\nexport function MessageSigningRequestLayout({ children }: MessageSigningRequestLayoutProps) {\n  return (\n    <Stack px={['space.05', 'space.05', 'unset']} gap=\"space.05\" width=\"100%\">\n      {children}\n    </Stack>\n  );\n}\n","import { HStack } from 'leather-styles/jsx';\n\nimport { Button } from '@leather.io/ui';\n\nimport { useWalletType } from '@app/common/use-wallet-type';\n\ninterface StacksSignMessageActionsProps {\n  onSignMessage(): void;\n  onSignMessageCancel(): void;\n  isLoading: boolean;\n}\nexport function SignMessageActions(props: StacksSignMessageActionsProps) {\n  const { onSignMessage, onSignMessageCancel, isLoading } = props;\n  const { whenWallet } = useWalletType();\n\n  return (\n    <HStack gap=\"space.04\">\n      <Button onClick={onSignMessageCancel} variant=\"outline\" width=\"50%\">\n        Cancel\n      </Button>\n      <Button aria-busy={isLoading} onClick={onSignMessage} width=\"50%\">\n        {whenWallet({ software: 'Sign', ledger: 'Sign on Ledger' })}\n      </Button>\n    </HStack>\n  );\n}\n","import { useHasLedgerKeys } from '@app/store/ledger/ledger.selectors';\nimport { useCurrentKeyDetails } from '@app/store/software-keys/software-key.selectors';\n\nexport function useHasKeys() {\n  const hasSoftwareKeys = !!useCurrentKeyDetails();\n  const hasLedgerKeys = useHasLedgerKeys();\n\n  return {\n    hasSoftwareKeys,\n    hasLedgerKeys,\n    hasKeys: hasSoftwareKeys || hasLedgerKeys,\n  };\n}\n","import type { Endpoints } from '@octokit/types';\nimport { useQuery } from '@tanstack/react-query';\nimport axios from 'axios';\n\nimport { isDefined } from '@leather.io/utils';\n\nimport { GITHUB_ORG, GITHUB_REPO } from '@shared/constants';\nimport { COMMIT_SHA, PR_NUMBER } from '@shared/environment';\n\ntype PrDetailsResp = Endpoints['GET /repos/{owner}/{repo}/pulls/{pull_number}']['response']['data'];\n\nasync function getPullRequestDetails(pr: string): Promise<PrDetailsResp> {\n  const resp = await axios.get(\n    `https://api.github.com/repos/${GITHUB_ORG}/${GITHUB_REPO}/pulls/${pr}`\n  );\n  return resp.data;\n}\n\nfunction usePullRequestDetailsQuery() {\n  return useQuery({\n    enabled: isDefined(PR_NUMBER) && isDefined(COMMIT_SHA),\n    queryKey: ['pull-request-details', PR_NUMBER],\n    async queryFn() {\n      return getPullRequestDetails(PR_NUMBER ?? '');\n    },\n  });\n}\n\nexport function useIsLatestPullRequestBuild() {\n  const { data: pullRequest } = usePullRequestDetailsQuery();\n  if (!pullRequest) return { isLatestBuild: true };\n  return {\n    // If the latest commit SHA on the PR is not the same one used for this build,\n    // we can assume it's outdated\n    isLatestBuild: pullRequest.head.sha.startsWith(COMMIT_SHA ?? ''),\n    pullRequestLink: pullRequest.html_url,\n  };\n}\n","import { forwardRef, useMemo } from 'react';\n\nimport { Box, HTMLStyledProps, styled } from 'leather-styles/jsx';\n\nimport { BRANCH_NAME, COMMIT_SHA } from '@shared/environment';\n\nimport { openInNewTab } from '@app/common/utils/open-in-new-tab';\nimport { useIsLatestPullRequestBuild } from '@app/query/common/outdated-pr/outdated-pr.query';\nimport { BasicTooltip } from '@app/ui/components/tooltip/basic-tooltip';\n\ninterface AppVersionLabelProps extends HTMLStyledProps<'span'> {\n  isLatestVersion: boolean;\n}\nconst AppVersionLabel = forwardRef<HTMLSpanElement, AppVersionLabelProps>(\n  ({ children, isLatestVersion, ...props }: AppVersionLabelProps, ref) => (\n    <Box bg=\"ink.background-secondary\" px=\"space.04\" py=\"space.01\">\n      <styled.span\n        textStyle=\"code\"\n        fontSize=\"10px\"\n        ref={ref}\n        color=\"ink.text-subdued\"\n        textDecoration={isLatestVersion ? 'none' : 'line-through'}\n        overflowWrap=\"break-word\"\n        {...props}\n      >\n        {children}\n      </styled.span>\n    </Box>\n  )\n);\n\nexport function AppVersion() {\n  const { pullRequestLink, isLatestBuild } = useIsLatestPullRequestBuild();\n\n  const version = useMemo(() => {\n    switch (process.env.WALLET_ENVIRONMENT) {\n      case 'development':\n        return BRANCH_NAME;\n      case 'feature':\n        return `${BRANCH_NAME}#${COMMIT_SHA?.slice(0, 8)}`;\n      default:\n        return `v${VERSION}`;\n    }\n  }, []);\n\n  if (!isLatestBuild && process.env.WALLET_ENVIRONMENT === 'feature') {\n    return (\n      <BasicTooltip label=\"Outdated PR build, download the latest version\">\n        <AppVersionLabel\n          isLatestVersion={false}\n          cursor=\"pointer\"\n          onClick={() => openInNewTab(pullRequestLink ?? '')}\n        >\n          {version}\n        </AppVersionLabel>\n      </BasicTooltip>\n    );\n  }\n\n  return <AppVersionLabel isLatestVersion>{version}</AppVersionLabel>;\n}\n","import { NetworkSelectors } from '@tests/selectors/network.selectors';\nimport { css } from 'leather-styles/css';\nimport { HStack, styled } from 'leather-styles/jsx';\n\nimport { DropdownMenu, EllipsisVIcon, PencilIcon, TrashIcon } from '@leather.io/ui';\n\ninterface Props {\n  onEditNetwork(): void;\n  onClickDeleteNetwork(): void;\n}\n\nexport function NetworkItemMenu({ onClickDeleteNetwork, onEditNetwork }: Props) {\n  return (\n    <DropdownMenu.Root>\n      <DropdownMenu.IconButton data-testid={NetworkSelectors.NetworkMenuBtn}>\n        <EllipsisVIcon color=\"ink.text-primary\" />\n      </DropdownMenu.IconButton>\n      <DropdownMenu.Portal>\n        <DropdownMenu.Content\n          align=\"end\"\n          side=\"bottom\"\n          sideOffset={8}\n          className={css({\n            width: 'settingsMenuWidth',\n          })}\n        >\n          <DropdownMenu.Group>\n            <DropdownMenu.Item\n              data-testid={NetworkSelectors.EditNetworkMenuBtn}\n              onClick={e => {\n                e.stopPropagation();\n                onEditNetwork();\n              }}\n            >\n              <HStack>\n                <PencilIcon />\n                <styled.span textStyle=\"label.02\">Edit</styled.span>\n              </HStack>\n            </DropdownMenu.Item>\n            <DropdownMenu.Item\n              data-testid={NetworkSelectors.DeleteNetworkMenuBtn}\n              onClick={e => {\n                e.stopPropagation();\n                onClickDeleteNetwork();\n              }}\n            >\n              <HStack color=\"red.action-primary-default\">\n                <TrashIcon color=\"red.action-primary-default\" />\n                <styled.span textStyle=\"label.02\">Delete</styled.span>\n              </HStack>\n            </DropdownMenu.Item>\n          </DropdownMenu.Group>\n        </DropdownMenu.Content>\n      </DropdownMenu.Portal>\n    </DropdownMenu.Root>\n  );\n}\n","import { NetworkSelectors } from '@tests/selectors/network.selectors';\nimport { SettingsSelectors } from '@tests/selectors/settings.selectors';\nimport { Flex, HStack, Stack, styled } from 'leather-styles/jsx';\n\nimport type { NetworkConfiguration } from '@leather.io/models';\nimport { Button, CheckmarkIcon, CloudOffIcon } from '@leather.io/ui';\n\nimport { getUrlHostname, truncateString } from '@app/common/utils';\n\nimport { NetworkItemMenu } from './network-list-item-menu';\n\ninterface NetworkListItemLayoutProps {\n  networkId: string;\n  isOnline: boolean;\n  isActive: boolean;\n  isCustom: boolean;\n  network: NetworkConfiguration;\n  onSelectNetwork(): void;\n  onEditNetwork(): void;\n  onRemoveNetwork(id: string): void;\n}\n\nexport function NetworkListItemLayout({\n  networkId,\n  isOnline,\n  isActive,\n  network,\n  isCustom,\n  onRemoveNetwork,\n  onSelectNetwork,\n  onEditNetwork,\n}: NetworkListItemLayoutProps) {\n  const unselectable = !isOnline || isActive;\n  return (\n    <Flex data-testid={SettingsSelectors.NetworkListItem}>\n      <Button\n        width=\"100%\"\n        variant=\"ghost\"\n        key={networkId}\n        _hover={\n          unselectable\n            ? undefined\n            : {\n                bg: 'ink.component-background-hover',\n              }\n        }\n        px=\"space.05\"\n        py=\"space.04\"\n        onClick={unselectable ? undefined : onSelectNetwork}\n        cursor={!isOnline ? 'not-allowed' : isActive ? 'default' : 'pointer'}\n        opacity={!isOnline ? 0.5 : 1}\n        data-testid={network.id}\n        aria-disabled={unselectable}\n      >\n        <Flex width=\"100%\" justifyContent=\"space-between\" alignItems=\"center\">\n          <Stack alignItems=\"flex-start\" flex={1} gap=\"space.02\">\n            <HStack alignItems=\"center\" mb=\"1\">\n              <styled.span textStyle=\"label.01\">{truncateString(network.name, 20)}</styled.span>\n              {isActive && (\n                <CheckmarkIcon\n                  variant=\"small\"\n                  data-testid={NetworkSelectors.NetworkListActiveNetwork}\n                />\n              )}\n            </HStack>\n\n            <styled.span textStyle=\"caption.01\">\n              {getUrlHostname(network.chain.stacks.url)}\n            </styled.span>\n          </Stack>\n          {!isOnline ? <CloudOffIcon /> : null}\n          {isOnline && isCustom && (\n            <NetworkItemMenu\n              onClickDeleteNetwork={() => onRemoveNetwork(network.id)}\n              onEditNetwork={onEditNetwork}\n            />\n          )}\n        </Flex>\n      </Button>\n    </Flex>\n  );\n}\n","import { defaultCurrentNetwork } from '@leather.io/models';\nimport { useGetStacksNetworkStatusQuery } from '@leather.io/query';\n\nimport { useCurrentNetworkId, useNetworks } from '@app/store/networks/networks.selectors';\n\nimport { NetworkListItemLayout } from './components/network-list-item.layout';\n\ninterface NetworkListItemProps {\n  networkId: string;\n  isCustom: boolean;\n  onNetworkSelected(networkId: string): void;\n  onRemoveNetwork(networkId: string): void;\n  onEditNetwork(): void;\n}\nexport function NetworkListItem({\n  networkId,\n  onNetworkSelected,\n  onRemoveNetwork,\n  isCustom,\n  onEditNetwork,\n}: NetworkListItemProps) {\n  const currentNetworkId = useCurrentNetworkId();\n  const networks = useNetworks();\n\n  const network = networks[networkId] || defaultCurrentNetwork;\n  const { isSuccess } = useGetStacksNetworkStatusQuery(network.chain.stacks.url);\n\n  return (\n    <NetworkListItemLayout\n      isActive={networkId === currentNetworkId}\n      isOnline={isSuccess}\n      network={network}\n      networkId={networkId}\n      isCustom={isCustom}\n      onSelectNetwork={() => onNetworkSelected(networkId)}\n      onEditNetwork={onEditNetwork}\n      onRemoveNetwork={onRemoveNetwork}\n    />\n  );\n}\n","import { useNavigate } from 'react-router-dom';\n\nimport { SettingsSelectors } from '@tests/selectors/settings.selectors';\n\nimport { WalletDefaultNetworkConfigurationIds } from '@leather.io/models';\nimport { Button, Sheet, SheetHeader } from '@leather.io/ui';\n\nimport { RouteUrls } from '@shared/route-urls';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { NetworkListItem } from '@app/features/settings/network/network-list-item';\nimport { useCurrentNetworkState, useNetworksActions } from '@app/store/networks/networks.hooks';\nimport { useNetworks } from '@app/store/networks/networks.selectors';\n\nconst defaultNetworkIds = Object.values(WalletDefaultNetworkConfigurationIds) as string[];\n\ninterface NetworkSheetProps {\n  onClose(): void;\n}\n\nexport function NetworkSheet({ onClose }: NetworkSheetProps) {\n  const navigate = useNavigate();\n  const networks = useNetworks();\n  const networksActions = useNetworksActions();\n  const currentNetwork = useCurrentNetworkState();\n\n  function addNetwork() {\n    void analytics.track('add_network');\n    navigate(RouteUrls.AddNetwork);\n  }\n\n  function removeNetwork(id: string) {\n    void analytics.track('remove_network');\n    networksActions.removeNetwork(id);\n  }\n\n  function selectNetwork(id: string) {\n    void analytics.track('change_network', { id });\n    networksActions.changeNetwork(id);\n  }\n\n  return (\n    <Sheet\n      header={<SheetHeader title=\"Change network\" />}\n      isShowing\n      onClose={onClose}\n      footer={\n        <Button\n          data-testid={SettingsSelectors.AddNewNetworkBtn}\n          fullWidth\n          onClick={() => {\n            addNetwork();\n            onClose();\n          }}\n        >\n          Add a network\n        </Button>\n      }\n    >\n      {Object.keys(networks).map(id => (\n        <NetworkListItem\n          key={id}\n          networkId={id}\n          onNetworkSelected={id => {\n            selectNetwork(id);\n            onClose();\n          }}\n          isCustom={!defaultNetworkIds.includes(id)}\n          onRemoveNetwork={id => {\n            if (id === currentNetwork.id) networksActions.changeNetwork('mainnet');\n            removeNetwork(id);\n          }}\n          onEditNetwork={() => {\n            onClose();\n            navigate(RouteUrls.EditNetwork, {\n              state: {\n                network: networks[id],\n              },\n            });\n          }}\n        />\n      ))}\n    </Sheet>\n  );\n}\n","import { SettingsSelectors } from '@tests/selectors/settings.selectors';\nimport { useFormik } from 'formik';\nimport { Flex, HStack, styled } from 'leather-styles/jsx';\n\nimport { Button, Callout, Sheet, SheetHeader } from '@leather.io/ui';\n\nimport { useWalletType } from '@app/common/use-wallet-type';\nimport { ButtonRow } from '@app/components/layout';\n\ninterface SignOutSheetProps {\n  isShowing: boolean;\n  onUserDeleteWallet(): void;\n  onClose(): void;\n}\nexport function SignOutSheet({ isShowing, onUserDeleteWallet, onClose }: SignOutSheetProps) {\n  const { whenWallet, walletType } = useWalletType();\n  const form = useFormik({\n    initialValues: {\n      confirmBackup: whenWallet({ ledger: true, software: false }),\n      confirmPasswordDisable: whenWallet({ ledger: true, software: false }),\n    },\n    onSubmit() {\n      handleSignOut();\n    },\n  });\n\n  const canSignOut = form.values.confirmBackup && form.values.confirmPasswordDisable;\n\n  function handleSignOut() {\n    if (canSignOut) {\n      onClose();\n      onUserDeleteWallet();\n    }\n  }\n\n  return (\n    <Sheet\n      header={<SheetHeader title=\"Sign out\" />}\n      isShowing={isShowing}\n      onClose={onClose}\n      footer={\n        <ButtonRow flexDirection=\"row\">\n          <Button\n            color=\"gray\"\n            data-testid={SettingsSelectors.BtnSignOutReturnToHomeScreen}\n            flexGrow={1}\n            variant=\"outline\"\n            onClick={onClose}\n          >\n            Cancel\n          </Button>\n          <Button\n            color=\"lightModeInk.1\"\n            opacity={!canSignOut ? 0.8 : undefined}\n            data-testid={SettingsSelectors.BtnSignOutActuallyDeleteWallet}\n            flexGrow={1}\n            disabled={!canSignOut}\n            onClick={handleSignOut}\n            type=\"submit\"\n          >\n            Sign out\n          </Button>\n        </ButtonRow>\n      }\n    >\n      <Callout variant=\"warning\" width=\"100%\" title=\"You'll need your Secret Key to sign in again\">\n        {whenWallet({\n          software:\n            \"Back up your Secret Key before signing out. You'll be asked for your Secret Key on your next login.\",\n          ledger:\n            \"When you sign out, you'll need to reconnect your Ledger to sign back into your wallet.\",\n        })}\n      </Callout>\n      <Flex alignItems=\"center\" flexDirection=\"column\" p=\"space.05\">\n        <form onChange={form.handleChange} onSubmit={form.handleSubmit}>\n          <styled.label alignItems=\"center\" display={walletType === 'software' ? 'flex' : 'none'}>\n            <HStack gap=\"space.03\">\n              <input\n                type=\"checkbox\"\n                name=\"confirmBackup\"\n                defaultChecked={form.values.confirmBackup}\n                data-testid={SettingsSelectors.SignOutConfirmHasBackupCheckbox}\n              />\n\n              <styled.p textStyle=\"caption.01\" userSelect=\"none\">\n                I have backed up my Secret Key.\n              </styled.p>\n            </HStack>\n          </styled.label>\n          <styled.label\n            alignItems=\"center\"\n            mt=\"space.05\"\n            display={walletType === 'software' ? 'flex' : 'none'}\n          >\n            <HStack gap=\"space.03\">\n              <input\n                type=\"checkbox\"\n                name=\"confirmPasswordDisable\"\n                defaultChecked={form.values.confirmPasswordDisable}\n                data-testid={SettingsSelectors.SignOutConfirmPasswordDisable}\n              />\n              <styled.p textStyle=\"caption.01\" userSelect=\"none\">\n                I understand that my password will not give me access to my wallet after I sign out.\n              </styled.p>\n            </HStack>\n          </styled.label>\n        </form>\n      </Flex>\n    </Sheet>\n  );\n}\n","import { useNavigate } from 'react-router-dom';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { useKeyActions } from '@app/common/hooks/use-key-actions';\n\nimport { SignOutSheet } from './sign-out';\n\ninterface SignOutProps {\n  onClose(): void;\n}\n\nexport function SignOut({ onClose }: SignOutProps) {\n  const { signOut } = useKeyActions();\n  const navigate = useNavigate();\n\n  return (\n    <SignOutSheet\n      isShowing\n      onUserDeleteWallet={() => {\n        void signOut().finally(() => {\n          navigate(RouteUrls.Onboarding);\n        });\n      }}\n      onClose={onClose}\n    />\n  );\n}\n","import { useCallback } from 'react';\n\nimport { Box, Flex, styled } from 'leather-styles/jsx';\n\nimport { CheckmarkIcon } from '@leather.io/ui';\n\nimport { UserSelectedTheme, getThemeLabel } from '@app/common/theme-provider';\n\ninterface ThemeListItemProps {\n  theme: UserSelectedTheme;\n  onThemeSelected(theme: UserSelectedTheme): void;\n  isActive: boolean;\n}\nexport function ThemeListItem({ theme, onThemeSelected, isActive }: ThemeListItemProps) {\n  const themeLabel = getThemeLabel(theme);\n  const onThemeItemSelect = useCallback(() => {\n    onThemeSelected(theme);\n  }, [onThemeSelected, theme]);\n\n  return (\n    <Box\n      width=\"100%\"\n      key={themeLabel}\n      _hover={\n        isActive\n          ? undefined\n          : {\n              bg: 'ink.component-background-hover',\n            }\n      }\n      px=\"space.05\"\n      py=\"space.04\"\n      onClick={isActive ? undefined : onThemeItemSelect}\n      cursor={isActive ? 'default' : 'pointer'}\n    >\n      <Flex width=\"100%\" justifyContent=\"space-between\" alignItems=\"center\" height=\"20px\">\n        <styled.span textStyle=\"label.02\">{themeLabel}</styled.span>\n        {isActive && <CheckmarkIcon />}\n      </Flex>\n    </Box>\n  );\n}\n","import { useCallback } from 'react';\n\nimport { Sheet, SheetHeader } from '@leather.io/ui';\n\nimport { analytics } from '@shared/utils/analytics';\n\nimport { UserSelectedTheme, themeLabelMap, useThemeSwitcher } from '@app/common/theme-provider';\n\nimport { ThemeListItem } from './theme-list-item';\n\ninterface ThemeSheetProps {\n  onClose(): void;\n}\n\nexport function ThemeSheet({ onClose }: ThemeSheetProps) {\n  const themes = Object.keys(themeLabelMap) as UserSelectedTheme[];\n\n  const { setUserSelectedTheme } = useThemeSwitcher();\n\n  const handleThemeSelected = useCallback(\n    (theme: UserSelectedTheme) => {\n      void analytics.track(`select_theme`, {\n        theme,\n      });\n      setUserSelectedTheme(theme);\n    },\n    [setUserSelectedTheme]\n  );\n\n  const { userSelectedTheme } = useThemeSwitcher();\n\n  return (\n    <Sheet header={<SheetHeader title=\"Change theme\" />} isShowing onClose={onClose}>\n      {themes.map(theme => (\n        <ThemeListItem\n          key={theme}\n          theme={theme}\n          onThemeSelected={handleThemeSelected}\n          isActive={theme === userSelectedTheme}\n        />\n      ))}\n    </Sheet>\n  );\n}\n","import { useMemo } from 'react';\nimport { useAsync } from 'react-async-hook';\n\nimport { Caption, DropdownMenu } from '@leather.io/ui';\nimport { isNumber } from '@leather.io/utils';\n\nimport {\n  clearBrowserStorageLogs,\n  copyLogsToClipboard,\n  getLogSizeInBytes,\n} from '@shared/logger-storage';\n\nimport { Divider } from '@app/components/layout/divider';\nimport { useToast } from '@app/features/toasts/use-toast';\n\nconst isAnEmptyLogsArrayByteThreshold = 7;\n\nfunction isSmallEnoughToBeConsiderdEmptyCache(logSizeInBytes?: number) {\n  if (!isNumber(logSizeInBytes)) return true;\n  return logSizeInBytes < isAnEmptyLogsArrayByteThreshold;\n}\n\nexport function AdvancedMenuItems() {\n  const { result: logSizeInBytes } = useAsync(async () => getLogSizeInBytes(), []);\n  const toast = useToast();\n\n  const diagnosticLogText = useMemo(() => {\n    const noLogInfoMsg = `There are no logs cached`;\n    if (!isNumber(logSizeInBytes)) return noLogInfoMsg;\n    const logSizeInKiloBytes = logSizeInBytes / 1024;\n    return isSmallEnoughToBeConsiderdEmptyCache(logSizeInBytes)\n      ? noLogInfoMsg\n      : `Delete ${logSizeInKiloBytes.toPrecision(2)}kB of diagnostic logs`;\n  }, [logSizeInBytes]);\n\n  return (\n    <>\n      <DropdownMenu.Item\n        onClick={async () => {\n          await copyLogsToClipboard();\n          toast.success('Copied to clipboard');\n        }}\n      >\n        Copy diagnostics to clipboard\n        <Caption mt=\"space.04\" fontSize=\"12px !important\">\n          Contains private wallet usage activity\n        </Caption>\n      </DropdownMenu.Item>\n      <DropdownMenu.Item\n        onClick={async () => {\n          await clearBrowserStorageLogs();\n          toast.success('Diagnostic logs cleared');\n        }}\n      >\n        Clear diagnostic information\n        <Caption mt=\"space.04\" fontSize=\"12px !important\">\n          {diagnosticLogText}\n        </Caption>\n      </DropdownMenu.Item>\n      <Divider />\n    </>\n  );\n}\n","import { Box, Flex, styled } from 'leather-styles/jsx';\n\nimport { LedgerIcon } from '@leather.io/ui';\n\nimport { Divider } from '@app/components/layout/divider';\n\ninterface LedgerDeviceItemRowProps {\n  deviceType?: string;\n}\nexport function LedgerDeviceItemRow({ deviceType }: LedgerDeviceItemRowProps) {\n  return (\n    <>\n      <Flex my=\"space.03\" mb=\"space.04\" mx=\"space.04\" fontSize=\"14px\" alignItems=\"center\">\n        <Box mr=\"space.03\">\n          <LedgerIcon />\n        </Box>\n        <styled.span cursor=\"default\">Ledger {deviceType ?? ''}</styled.span>\n      </Flex>\n      <Divider />\n    </>\n  );\n}\n","import { useMemo, useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nimport { SettingsSelectors } from '@tests/selectors/settings.selectors';\nimport { css } from 'leather-styles/css';\nimport { Flex, Stack, styled } from 'leather-styles/jsx';\n\nimport {\n  ArrowsRepeatLeftRightIcon,\n  Caption,\n  DropdownMenu,\n  ExitIcon,\n  ExpandIcon,\n  ExternalLinkIcon,\n  Eye1ClosedIcon,\n  Eye1Icon,\n  Flag,\n  GlobeTiltedIcon,\n  KeyIcon,\n  LockIcon,\n  MegaphoneIcon,\n  SunInCloudIcon,\n  SupportIcon,\n} from '@leather.io/ui';\n\nimport { RouteUrls } from '@shared/route-urls';\nimport { analytics, openFeedbackSheet } from '@shared/utils/analytics';\n\nimport { useHasKeys } from '@app/common/hooks/auth/use-has-keys';\nimport { useKeyActions } from '@app/common/hooks/use-key-actions';\nimport { useModifierKey } from '@app/common/hooks/use-modifier-key';\nimport { useWalletType } from '@app/common/use-wallet-type';\nimport { truncateString } from '@app/common/utils';\nimport { openInNewTab, openIndexPageInNewTab } from '@app/common/utils/open-in-new-tab';\nimport { AppVersion } from '@app/components/app-version';\nimport { Divider } from '@app/components/layout/divider';\nimport { NetworkSheet } from '@app/features/settings/network/network';\nimport { SignOut } from '@app/features/settings/sign-out/sign-out-confirm';\nimport { ThemeSheet } from '@app/features/settings/theme/theme-dialog';\nimport { useLedgerDeviceTargetId } from '@app/store/ledger/ledger.selectors';\nimport { useCurrentNetworkId } from '@app/store/networks/networks.selectors';\nimport { useTogglePrivateMode } from '@app/store/settings/settings.actions';\nimport { useIsPrivateMode } from '@app/store/settings/settings.selectors';\n\nimport { extractDeviceNameFromKnownTargetIds } from '../ledger/utils/generic-ledger-utils';\nimport { AdvancedMenuItems } from './components/advanced-menu-items';\nimport { LedgerDeviceItemRow } from './components/ledger-item-row';\n\ninterface SettingsProps {\n  canLockWallet?: boolean;\n  triggerButton: React.ReactNode;\n  toggleSwitchAccount?(): void;\n}\nexport function Settings({\n  canLockWallet = true,\n  triggerButton,\n  toggleSwitchAccount,\n}: SettingsProps) {\n  const [showSignOut, setShowSignOut] = useState(false);\n  const [showChangeTheme, setShowChangeTheme] = useState(false);\n  const [showChangeNetwork, setShowChangeNetwork] = useState(false);\n\n  const { hasKeys, hasLedgerKeys } = useHasKeys();\n\n  const { lockWallet } = useKeyActions();\n\n  const currentNetworkId = useCurrentNetworkId();\n  const navigate = useNavigate();\n\n  const { walletType } = useWalletType();\n  const targetId = useLedgerDeviceTargetId();\n\n  const isPrivateMode = useIsPrivateMode();\n  const togglePrivateMode = useTogglePrivateMode();\n\n  const location = useLocation();\n\n  const { isPressed: showAdvancedMenuOptions } = useModifierKey('alt', 120);\n\n  const bottomGroupItems = useMemo(\n    () =>\n      [\n        showAdvancedMenuOptions && <AdvancedMenuItems />,\n        canLockWallet && hasKeys && walletType === 'software' && (\n          <DropdownMenu.Item\n            onSelect={() => {\n              void analytics.track('lock_session');\n              void lockWallet();\n              navigate(RouteUrls.Unlock);\n            }}\n            data-testid={SettingsSelectors.LockListItem}\n          >\n            <Flag img={<LockIcon />} textStyle=\"label.02\">\n              Lock\n            </Flag>\n          </DropdownMenu.Item>\n        ),\n\n        hasKeys && (\n          <DropdownMenu.Item\n            onSelect={() => setShowSignOut(!showSignOut)}\n            data-testid={SettingsSelectors.SignOutListItem}\n          >\n            <Flag color=\"red.action-primary-default\" img={<ExitIcon />} textStyle=\"label.02\">\n              Sign out\n            </Flag>\n          </DropdownMenu.Item>\n        ),\n      ].filter(Boolean),\n    [canLockWallet, hasKeys, lockWallet, navigate, showAdvancedMenuOptions, showSignOut, walletType]\n  );\n\n  return (\n    <>\n      <DropdownMenu.Root>\n        <DropdownMenu.IconButton>{triggerButton}</DropdownMenu.IconButton>\n        <DropdownMenu.Portal>\n          <DropdownMenu.Content\n            align=\"end\"\n            side=\"bottom\"\n            sideOffset={8}\n            className={css({\n              width: 'settingsMenuWidth',\n              maxHeight: 'var(--radix-dropdown-menu-content-available-height)',\n              overflowY: 'scroll',\n            })}\n          >\n            <DropdownMenu.Group>\n              {hasLedgerKeys && targetId && (\n                <DropdownMenu.Item>\n                  <LedgerDeviceItemRow deviceType={extractDeviceNameFromKnownTargetIds(targetId)} />\n                </DropdownMenu.Item>\n              )}\n              {hasKeys && toggleSwitchAccount && (\n                <DropdownMenu.Item\n                  data-testid={SettingsSelectors.SwitchAccountTrigger}\n                  onSelect={toggleSwitchAccount}\n                >\n                  <Flag img={<ArrowsRepeatLeftRightIcon />} textStyle=\"label.02\">\n                    Switch account\n                  </Flag>\n                </DropdownMenu.Item>\n              )}\n              {hasKeys && walletType === 'software' && (\n                <DropdownMenu.Item\n                  data-testid={SettingsSelectors.ViewSecretKeyListItem}\n                  onSelect={() => navigate(RouteUrls.ViewSecretKey)}\n                >\n                  <Flag img={<KeyIcon />} textStyle=\"label.02\">\n                    View Secret Key\n                  </Flag>\n                </DropdownMenu.Item>\n              )}\n              <styled.div hideFrom=\"md\">\n                <DropdownMenu.Item\n                  data-testid={SettingsSelectors.OpenWalletInNewTab}\n                  onSelect={() => {\n                    void analytics.track('click_open_in_new_tab_menu_item');\n                    openIndexPageInNewTab(location.pathname);\n                  }}\n                >\n                  <Flag img={<ExpandIcon />} textStyle=\"label.02\">\n                    Maximize\n                  </Flag>\n                </DropdownMenu.Item>\n              </styled.div>\n\n              <DropdownMenu.Item\n                data-testid={SettingsSelectors.ChangeNetworkAction}\n                onSelect={() => {\n                  void analytics.track('click_change_network_menu_item');\n                  setShowChangeNetwork(!showChangeNetwork);\n                }}\n              >\n                <Flag img={<GlobeTiltedIcon />}>\n                  <Stack gap=\"space.00\">\n                    <styled.span textStyle=\"label.02\">Change network</styled.span>\n                    <Caption data-testid={SettingsSelectors.CurrentNetwork}>\n                      {truncateString(currentNetworkId.toString(), 15)}\n                    </Caption>\n                  </Stack>\n                </Flag>\n              </DropdownMenu.Item>\n\n              <DropdownMenu.Item\n                data-testid={SettingsSelectors.ToggleTheme}\n                onSelect={() => {\n                  void analytics.track('click_change_theme_menu_item');\n                  setShowChangeTheme(!showChangeTheme);\n                }}\n              >\n                <Flag img={<SunInCloudIcon />}>\n                  <Flex justifyContent=\"space-between\" textStyle=\"label.02\">\n                    Change theme\n                  </Flex>\n                </Flag>\n              </DropdownMenu.Item>\n\n              <DropdownMenu.Item\n                data-testid={SettingsSelectors.TogglePrivacy}\n                onSelect={() => {\n                  void analytics.track('click_toggle_privacy');\n                  togglePrivateMode();\n                }}\n              >\n                <Flag img={isPrivateMode ? <Eye1ClosedIcon /> : <Eye1Icon />}>\n                  <Flex justifyContent=\"space-between\" textStyle=\"label.02\">\n                    Toggle privacy\n                  </Flex>\n                </Flag>\n              </DropdownMenu.Item>\n            </DropdownMenu.Group>\n            <Divider />\n            <DropdownMenu.Group>\n              <DropdownMenu.Item\n                data-testid={SettingsSelectors.GetSupportMenuItem}\n                onSelect={() => {\n                  openInNewTab('https://leather.io/support');\n                }}\n              >\n                <Flag img={<SupportIcon />} textStyle=\"label.02\">\n                  <Flex justifyContent=\"space-between\">\n                    Get support\n                    <ExternalLinkIcon variant=\"small\" />\n                  </Flex>\n                </Flag>\n              </DropdownMenu.Item>\n              <DropdownMenu.Item onSelect={() => openFeedbackSheet()}>\n                <Flag img={<MegaphoneIcon />} textStyle=\"label.02\">\n                  Give feedback\n                </Flag>\n              </DropdownMenu.Item>\n            </DropdownMenu.Group>\n\n            {bottomGroupItems.length > 0 && (\n              <>\n                <Divider />\n                <DropdownMenu.Group>{...bottomGroupItems}</DropdownMenu.Group>\n              </>\n            )}\n\n            <AppVersion />\n          </DropdownMenu.Content>\n        </DropdownMenu.Portal>\n      </DropdownMenu.Root>\n      {showSignOut && <SignOut onClose={() => setShowSignOut(!showSignOut)} />}\n      {showChangeTheme && <ThemeSheet onClose={() => setShowChangeTheme(!showChangeTheme)} />}\n      {showChangeNetwork && (\n        <NetworkSheet onClose={() => setShowChangeNetwork(!showChangeNetwork)} />\n      )}\n    </>\n  );\n}\n","import { createContext, useContext } from 'react';\n\ninterface ToastContextProps {\n  error(message: string): void;\n  info(message: string): void;\n  success(message: string): void;\n  promise(promise: Promise<any>, msgs: { success: string; error: string }): Promise<any>;\n}\nexport const ToastContext = createContext<ToastContextProps | null>(null);\n\nexport function useToast() {\n  const context = useContext(ToastContext);\n  if (!context) throw new Error('useToast must be used within ToastsProvider');\n  return context;\n}\n","export function warnUsersAboutDevToolsDangers() {\n  if (process.env.WALLET_ENVIRONMENT !== 'production') return;\n\n  // eslint-disable-next-line no-console\n  console.log(\n    '%c  Warning:\\n   Do not paste any code here.\\n   This is a developer tool which could be used to steal your funds.',\n    'color: red; font-size: 20px'\n  );\n}\n","import { Flex, FlexProps } from 'leather-styles/jsx';\n\nimport { Spinner } from '@leather.io/ui';\n\nexport function LoadingSpinner(props: { size?: string } & FlexProps) {\n  return (\n    <Flex alignItems=\"center\" flexGrow={1} justifyContent=\"center\" width=\"100%\" {...props}>\n      <Spinner size={props.size} />\n    </Flex>\n  );\n}\n\nexport function FullPageLoadingSpinner(props: FlexProps) {\n  return (\n    <Flex height=\"100vh\" width=\"100%\" {...props}>\n      <LoadingSpinner />\n    </Flex>\n  );\n}\n\nexport function FullPageWithHeaderLoadingSpinner(props: FlexProps) {\n  return (\n    <Flex height=\"calc(100vh - 68px)\" width=\"100%\" {...props}>\n      <LoadingSpinner />\n    </Flex>\n  );\n}\n","import { QueryClientProvider } from '@tanstack/react-query';\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools';\n\nimport { queryClient } from '@app/common/persistence';\n\nexport function Devtools() {\n  return queryClient ? (\n    <QueryClientProvider client={queryClient}>\n      <ReactQueryDevtools buttonPosition=\"bottom-left\" />\n    </QueryClientProvider>\n  ) : null;\n}\n","import { Link, HeadProvider as ReactHeadProvider, Title } from 'react-head';\n\nexport function HeadProvider() {\n  return (\n    <ReactHeadProvider>\n      <LeatherMetaTags />\n    </ReactHeadProvider>\n  );\n}\n\nfunction LeatherMetaTags() {\n  const suffix = process.env.WALLET_ENVIRONMENT === 'development' ? '-dev' : '';\n  return (\n    <>\n      <Title>Leather</Title>\n      <Link rel=\"icon\" href={`/assets/icons/leather-icon-128${suffix}.png`} />\n    </>\n  );\n}\n","import { useCallback, useMemo, useState } from 'react';\n\nimport type { ToastProps } from '@leather.io/ui';\n\nexport function useToastHandlers() {\n  const [toasts, setToasts] = useState(new Map());\n\n  const handleAddToast = useCallback((toast: ToastProps) => {\n    setToasts(prev => {\n      const newMap = new Map(prev);\n      newMap.set(String(Date.now()), { ...toast });\n      return newMap;\n    });\n  }, []);\n\n  return useMemo(() => {\n    return {\n      toasts,\n      handleRemoveToast: (key: any) => {\n        setToasts(prev => {\n          const newMap = new Map(prev);\n          newMap.delete(key);\n          return newMap;\n        });\n      },\n      handleDispatchInfo: (message: string) => handleAddToast({ message, variant: 'info' }),\n      handleDispatchSuccess: (message: string) => handleAddToast({ message, variant: 'success' }),\n      handleDispatchError: (message: string) => handleAddToast({ message, variant: 'error' }),\n      handleDispatchPromise: async (\n        promise: Promise<any>,\n        msgs: { success: string; error: string }\n      ) => {\n        return promise\n          .then(data => {\n            handleAddToast({ message: msgs.success, variant: 'success' });\n            return data;\n          })\n          .catch(() => {\n            handleAddToast({ message: msgs.error, variant: 'error' });\n          });\n      },\n    };\n  }, [handleAddToast, toasts]);\n}\n","import { useMemo } from 'react';\n\nimport { Toast, ToastLayout } from '@leather.io/ui';\n\nimport type { HasChildren } from '@app/common/has-children';\n\nimport { ToastContext } from './use-toast';\nimport { useToastHandlers } from './use-toast-handlers';\n\nfunction ToastsProvider(props: HasChildren) {\n  const { children } = props;\n\n  const {\n    toasts,\n    handleRemoveToast,\n    handleDispatchError,\n    handleDispatchInfo,\n    handleDispatchSuccess,\n    handleDispatchPromise,\n  } = useToastHandlers();\n\n  return (\n    <ToastContext.Provider\n      value={useMemo(\n        () => ({\n          error: handleDispatchError,\n          info: handleDispatchInfo,\n          success: handleDispatchSuccess,\n          promise: handleDispatchPromise,\n        }),\n        [handleDispatchError, handleDispatchInfo, handleDispatchSuccess, handleDispatchPromise]\n      )}\n    >\n      <Toast.Provider duration={2000}>\n        {children}\n        {Array.from(toasts).map(([key, toast]) => (\n          <Toast.Root\n            asChild\n            forceMount\n            key={key}\n            onOpenChange={open => {\n              if (!open) handleRemoveToast(key);\n            }}\n          >\n            <Toast.Title>\n              <ToastLayout message={toast.message} variant={toast.variant} />\n            </Toast.Title>\n          </Toast.Root>\n        ))}\n        <Toast.Viewport />\n      </Toast.Provider>\n    </ToastContext.Provider>\n  );\n}\n\nexport { ToastsProvider };\n","import { Outlet } from 'react-router-dom';\n\nimport { useSwitchAccountSheet } from '@app/common/switch-account/use-switch-account-sheet-context';\n\nexport function SwitchAccountLayout() {\n  const { isShowingSwitchAccount, setIsShowingSwitchAccount } = useSwitchAccountSheet();\n  return <Outlet context={{ isShowingSwitchAccount, setIsShowingSwitchAccount }} />;\n}\n","import { ErrorCircleIcon, Flag, type FlagProps } from '@leather.io/ui';\n\nexport function ErrorLabel({ children, ...rest }: FlagProps) {\n  return (\n    <Flag\n      img={<ErrorCircleIcon color=\"red.action-primary-default\" variant=\"small\" />}\n      spacing=\"space.02\"\n      color=\"red.action-primary-default\"\n      textStyle=\"body.02\"\n      textAlign=\"left\"\n      {...rest}\n    >\n      {children}\n    </Flag>\n  );\n}\n","import { useCallback } from 'react';\n\nimport { NetworkSelectors } from '@tests/selectors/network.selectors';\nimport { useFormikContext } from 'formik';\nimport { HStack, styled } from 'leather-styles/jsx';\n\nimport {\n  BITCOIN_API_BASE_URL_MAINNET,\n  BITCOIN_API_BASE_URL_TESTNET3,\n  BITCOIN_API_BASE_URL_TESTNET4,\n  type BitcoinNetwork,\n} from '@leather.io/models';\nimport {\n  CheckmarkIcon,\n  ChevronDownIcon,\n  Input,\n  Select,\n  SelectItemLayout,\n  Title,\n} from '@leather.io/ui';\n\nimport { useOnMount } from '@app/common/hooks/use-on-mount';\n\nimport { type AddNetworkFormValues } from './use-add-network';\n\nconst networks: {\n  label: string;\n  value: BitcoinNetwork;\n}[] = [\n  {\n    label: 'Mainnet',\n    value: 'mainnet',\n  },\n  {\n    label: 'Testnet3',\n    value: 'testnet3',\n  },\n  {\n    label: 'Testnet4',\n    value: 'testnet4',\n  },\n  {\n    label: 'Signet',\n    value: 'signet',\n  },\n  {\n    label: 'Regtest',\n    value: 'regtest',\n  },\n];\n\ninterface NetworkFormFieldsProps {\n  isEditNetworkMode?: boolean;\n}\n\nexport function NetworkFormFields({ isEditNetworkMode }: NetworkFormFieldsProps) {\n  const { handleChange, setFieldValue, values, initialValues } =\n    useFormikContext<AddNetworkFormValues>();\n\n  const setStacksUrl = useCallback(\n    (value: string) => {\n      void setFieldValue('stacksUrl', value);\n    },\n    [setFieldValue]\n  );\n\n  const setBitcoinUrl = useCallback(\n    (value: string) => {\n      void setFieldValue('bitcoinUrl', value);\n    },\n    [setFieldValue]\n  );\n\n  function setNetworkUrls(value: BitcoinNetwork) {\n    switch (value) {\n      case 'mainnet':\n        setStacksUrl('https://api.hiro.so');\n        setBitcoinUrl(BITCOIN_API_BASE_URL_MAINNET);\n        break;\n      case 'testnet3':\n        setStacksUrl('https://api.testnet.hiro.so');\n        setBitcoinUrl(BITCOIN_API_BASE_URL_TESTNET3);\n        break;\n      case 'testnet4':\n        setStacksUrl('https://api.testnet.hiro.so');\n        setBitcoinUrl(BITCOIN_API_BASE_URL_TESTNET4);\n        break;\n      case 'signet':\n        setStacksUrl('https://api.testnet.hiro.so');\n        setBitcoinUrl('https://mempool.space/signet/api');\n        break;\n      case 'regtest':\n        setStacksUrl('https://api.testnet.hiro.so');\n        setBitcoinUrl('https://mempool.space/testnet/api');\n        break;\n    }\n  }\n\n  useOnMount(() => {\n    if (isEditNetworkMode) {\n      return;\n    }\n\n    setNetworkUrls(values.bitcoinNetwork);\n  });\n\n  return (\n    <>\n      <Input.Root>\n        <Input.Label>Name</Input.Label>\n        <Input.Field\n          autoFocus\n          data-testid={NetworkSelectors.NetworkName}\n          onChange={handleChange}\n          name=\"name\"\n          value={values.name}\n          width=\"100%\"\n        />\n      </Input.Root>\n      <Title>Bitcoin API</Title>\n\n      <Select.Root\n        defaultValue={initialValues.bitcoinNetwork || networks[0].value}\n        onValueChange={(value: BitcoinNetwork) => {\n          setNetworkUrls(value);\n          void setFieldValue('bitcoinNetwork', value);\n        }}\n      >\n        <Select.Trigger data-testid={NetworkSelectors.AddNetworkBitcoinAPISelector}>\n          <Select.Value />\n          <Select.Icon>\n            <ChevronDownIcon variant=\"small\" />\n          </Select.Icon>\n        </Select.Trigger>\n        <Select.Portal>\n          <Select.Content align=\"start\" position=\"popper\" sideOffset={8}>\n            <Select.Viewport>\n              {networks.map(item => (\n                <Select.Item\n                  key={item.label}\n                  value={item.value}\n                  data-testid={`bitcoin-api-option-${item.value}`}\n                >\n                  <SelectItemLayout\n                    contentLeft={\n                      <HStack display=\"flex\" gap=\"space.02\" width=\"100%\">\n                        <Select.ItemText>\n                          <styled.span textStyle=\"label.02\">{item.label}</styled.span>\n                        </Select.ItemText>\n                        <Select.ItemIndicator>\n                          <CheckmarkIcon variant=\"small\" />\n                        </Select.ItemIndicator>\n                      </HStack>\n                    }\n                  />\n                </Select.Item>\n              ))}\n            </Select.Viewport>\n          </Select.Content>\n        </Select.Portal>\n      </Select.Root>\n\n      <Title>Bitcoin API URL</Title>\n      <Input.Root>\n        <Input.Label>Bitcoin API URL</Input.Label>\n        <Input.Field\n          onChange={handleChange}\n          name=\"bitcoinUrl\"\n          value={values.bitcoinUrl}\n          width=\"100%\"\n          data-testid={NetworkSelectors.NetworkBitcoinAddress}\n        />\n      </Input.Root>\n      <Input.Root>\n        <Input.Label>Network key</Input.Label>\n        <Input.Field\n          data-testid={NetworkSelectors.NetworkKey}\n          onChange={handleChange}\n          name=\"key\"\n          value={values.key}\n          width=\"100%\"\n        />\n      </Input.Root>\n      <Title>Stacks API URL</Title>\n      <Input.Root>\n        <Input.Label>Name</Input.Label>\n        <Input.Field\n          height=\"inputHeight\"\n          onChange={handleChange}\n          name=\"stacksUrl\"\n          value={values.stacksUrl}\n          width=\"100%\"\n          data-testid={NetworkSelectors.NetworkStacksAddress}\n        />\n      </Input.Root>\n    </>\n  );\n}\n","export function removeTrailingSlash(path: string) {\n  return path.replace(/\\/+$/, '');\n}\n","import { useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nimport { ChainID } from '@stacks/transactions';\n\nimport {\n  type BitcoinNetwork,\n  type DefaultNetworkConfigurations,\n  type NetworkConfiguration,\n  bitcoinNetworkToNetworkMode,\n  networkConfigurationSchema,\n} from '@leather.io/models';\n\nimport { RouteUrls } from '@shared/route-urls';\nimport { isValidUrl } from '@shared/utils/validate-url';\n\nimport { removeTrailingSlash } from '@app/common/url-join';\nimport {\n  useCurrentStacksNetworkState,\n  useNetworksActions,\n} from '@app/store/networks/networks.hooks';\n\n/**\n * The **peer** network ID.\n * Not used in signing, but needed to determine the parent of a subnet.\n */\nenum PeerNetworkID {\n  Mainnet = 0x17000000,\n  Testnet = 0xff000000,\n}\n\nexport interface AddNetworkFormValues {\n  key: string;\n  name: string;\n  stacksUrl: string;\n  bitcoinUrl: string;\n  bitcoinNetwork: BitcoinNetwork;\n}\n\nconst initialFormValues: AddNetworkFormValues = {\n  key: '',\n  name: '',\n  stacksUrl: '',\n  bitcoinUrl: '',\n  bitcoinNetwork: 'mainnet',\n};\n\nfunction useAddNetworkState() {\n  const { state } = useLocation();\n\n  return {\n    isEditNetworkMode: state?.isEditNetworkMode,\n    network: state?.network as NetworkConfiguration | undefined,\n  };\n}\n\nfunction useInitialValues() {\n  const { network } = useAddNetworkState();\n\n  if (!network) {\n    return initialFormValues;\n  }\n\n  const isProperStateProvided = networkConfigurationSchema.safeParse(network).success;\n\n  if (!isProperStateProvided) {\n    return initialFormValues;\n  }\n\n  return {\n    key: network.id,\n    name: network.name,\n    stacksUrl: network.chain.stacks.url,\n    bitcoinUrl: network.chain.bitcoin.bitcoinUrl,\n    bitcoinNetwork: network.chain.bitcoin.bitcoinNetwork,\n    mode: network.chain.bitcoin.mode,\n  };\n}\n\nexport function useAddNetwork() {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  const network = useCurrentStacksNetworkState();\n  const networksActions = useNetworksActions();\n  const initialValues = useInitialValues();\n  const { isEditNetworkMode } = useAddNetworkState();\n\n  return {\n    error,\n    initialFormValues: initialValues,\n    loading,\n    isEditNetworkMode,\n    onSubmit: async (values: AddNetworkFormValues) => {\n      const { name, stacksUrl, bitcoinUrl, key, bitcoinNetwork } = values;\n\n      if (!name) {\n        setError('Enter a name');\n        return;\n      }\n\n      if (!isValidUrl(stacksUrl)) {\n        setError('Enter a valid Stacks API URL');\n        return;\n      }\n\n      if (!isValidUrl(bitcoinUrl)) {\n        setError('Enter a valid Bitcoin API URL');\n        return;\n      }\n\n      if (!key) {\n        setError('Enter a unique key');\n        return;\n      }\n\n      setLoading(true);\n      setError('');\n\n      const stacksPath = removeTrailingSlash(new URL(values.stacksUrl).href);\n      const bitcoinPath = removeTrailingSlash(new URL(values.bitcoinUrl).href);\n\n      try {\n        const bitcoinResponse = await network.fetchFn(`${bitcoinPath}/mempool/recent`);\n        if (!bitcoinResponse.ok) throw new Error('Unable to fetch mempool from bitcoin node');\n        const bitcoinMempool = await bitcoinResponse.json();\n        if (!Array.isArray(bitcoinMempool))\n          throw new Error('Unable to fetch mempool from bitcoin node');\n      } catch (error) {\n        setError('Unable to fetch mempool from bitcoin node');\n        setLoading(false);\n        return;\n      }\n\n      let stacksChainInfo: any;\n      try {\n        const stacksResponse = await network.fetchFn(`${stacksPath}/v2/info`);\n        stacksChainInfo = await stacksResponse.json();\n        if (!stacksChainInfo) throw new Error('Unable to fetch info from stacks node');\n      } catch (error) {\n        setError('Unable to fetch info from stacks node');\n        setLoading(false);\n        return;\n      }\n\n      // Attention:\n      // For mainnet/testnet the v2/info response `.network_id` refers to the chain ID\n      // For subnets the v2/info response `.network_id` refers to the network ID and the chain ID (they are the same for subnets)\n      // The `.parent_network_id` refers to the actual peer network ID in both cases\n      const { network_id: chainId, parent_network_id: parentNetworkId } = stacksChainInfo;\n\n      const isSubnet = typeof stacksChainInfo.l1_subnet_governing_contract === 'string';\n      const isFirstLevelSubnet =\n        isSubnet &&\n        (parentNetworkId === PeerNetworkID.Mainnet || parentNetworkId === PeerNetworkID.Testnet);\n\n      function removeEditedNetwork() {\n        if (initialValues.key) {\n          networksActions.removeNetwork(initialValues.key);\n        }\n      }\n      // Currently, only subnets of mainnet and testnet are supported in the wallet\n      if (isFirstLevelSubnet) {\n        const parentChainId =\n          parentNetworkId === PeerNetworkID.Mainnet ? ChainID.Mainnet : ChainID.Testnet;\n        removeEditedNetwork();\n        networksActions.addNetwork({\n          id: key as DefaultNetworkConfigurations,\n          name: name,\n          chainId: parentChainId, // Used for differentiating control flow in the wallet\n          subnetChainId: chainId, // Used for signing transactions (via the network object, not to be confused with the NetworkConfigurations)\n          url: stacksPath,\n          bitcoinNetwork,\n          mode: bitcoinNetworkToNetworkMode(bitcoinNetwork),\n          bitcoinUrl: bitcoinPath,\n        });\n        navigate(RouteUrls.Home);\n      } else if (chainId === ChainID.Mainnet || chainId === ChainID.Testnet) {\n        removeEditedNetwork();\n        networksActions.addNetwork({\n          id: key as DefaultNetworkConfigurations,\n          name: name,\n          chainId: chainId,\n          url: stacksPath,\n          bitcoinNetwork,\n          mode: bitcoinNetworkToNetworkMode(bitcoinNetwork),\n          bitcoinUrl: bitcoinPath,\n        });\n        navigate(RouteUrls.Home);\n      } else {\n        setError('Unable to determine chainID from node.');\n      }\n      setLoading(false);\n    },\n  };\n}\n","import { NetworkSelectors } from '@tests/selectors/network.selectors';\nimport { Form, Formik } from 'formik';\nimport { Stack, styled } from 'leather-styles/jsx';\n\nimport { Button, Link } from '@leather.io/ui';\n\nimport { ErrorLabel } from '@app/components/error-label';\nimport { Card } from '@app/components/layout';\n\nimport { NetworkFormFields } from './network-form-fields';\nimport { useAddNetwork } from './use-add-network';\n\ninterface NetworkFormProps {\n  title: string;\n  isEditNetworkMode?: boolean;\n}\n\nexport function NetworkForm({ isEditNetworkMode, title }: NetworkFormProps) {\n  const { error, initialFormValues, loading, onSubmit } = useAddNetwork();\n\n  return (\n    <Formik initialValues={initialFormValues} onSubmit={onSubmit}>\n      {({ handleSubmit }) => (\n        <Card\n          footerBorder\n          footer={\n            <Button\n              fullWidth\n              aria-busy={loading}\n              data-testid={NetworkSelectors.AddNetworkBtn}\n              type=\"submit\"\n              onClick={() => handleSubmit()}\n            >\n              {title}\n            </Button>\n          }\n        >\n          <Form data-testid={NetworkSelectors.NetworkPageReady}>\n            <Stack\n              gap=\"space.05\"\n              maxWidth=\"pageWidth\"\n              px={{ base: 'space.00', sm: 'space.04', md: 'space.05' }}\n              my=\"space.05\"\n            >\n              <styled.span textStyle=\"body.02\">\n                Use this form to add a new instance of the{' '}\n                <Link\n                  href=\"https://github.com/blockstack/stacks-blockchain-api\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                >\n                  Stacks Blockchain API\n                </Link>{' '}\n                or{' '}\n                <Link href=\"https://mempool.space/docs/api/rest\" target=\"_blank\" rel=\"noreferrer\">\n                  Bitcoin Blockchain API\n                </Link>\n                . Make sure you review and trust the host before you add it.\n              </styled.span>\n              <NetworkFormFields isEditNetworkMode={isEditNetworkMode} />\n              {error ? (\n                <ErrorLabel data-testid={NetworkSelectors.ErrorText}>{error}</ErrorLabel>\n              ) : null}\n            </Stack>\n          </Form>\n        </Card>\n      )}\n    </Formik>\n  );\n}\n","import { ReactNode } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { SettingsSelectors } from '@tests/selectors/settings.selectors';\nimport { SharedComponentsSelectors } from '@tests/selectors/shared-component.selectors';\nimport { styled } from 'leather-styles/jsx';\n\nimport { ArrowLeftIcon, BarsTwoIcon, CloseIcon } from '@leather.io/ui';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { useSwitchAccountSheet } from '@app/common/switch-account/use-switch-account-sheet-context';\nimport { Header } from '@app/components/layout/headers/header';\nimport { HeaderActionButton } from '@app/components/layout/headers/header-action-button';\nimport { HeaderGrid, HeaderGridRightCol } from '@app/components/layout/headers/header-grid';\nimport { LogoBox } from '@app/components/layout/headers/logo-box';\nimport { Settings } from '@app/features/settings/settings';\n\ninterface PageHeaderProps {\n  title?: ReactNode;\n  isSummaryPage?: boolean;\n  isSettingsVisibleOnSm?: boolean;\n  onBackLocation?: RouteUrls;\n  onClose?(): void;\n}\n\nexport function PageHeader({\n  title,\n  isSummaryPage = false,\n  isSettingsVisibleOnSm = true,\n  onBackLocation,\n}: PageHeaderProps) {\n  const { isShowingSwitchAccount, setIsShowingSwitchAccount } = useSwitchAccountSheet();\n  const navigate = useNavigate();\n\n  // pages with nested dialogs specify onBackLocation to prevent navigate(-1) re-opening the dialog\n  const onGoBack = onBackLocation ? () => navigate(onBackLocation) : () => navigate(-1);\n  const canGoBack = !isSummaryPage;\n  return (\n    <Header px={{ base: 'space.04', sm: 'space.00' }}>\n      <HeaderGrid\n        leftCol={\n          <>\n            {canGoBack && (\n              <HeaderActionButton\n                icon={<ArrowLeftIcon />}\n                onAction={onGoBack}\n                dataTestId={SharedComponentsSelectors.HeaderBackBtn}\n              />\n            )}\n            <LogoBox onClick={() => navigate(RouteUrls.Home)} />\n          </>\n        }\n        centerCol={title && <styled.span textStyle=\"heading.05\">{title}</styled.span>}\n        rightCol={\n          <HeaderGridRightCol>\n            {isSummaryPage ? (\n              <HeaderActionButton\n                icon={<CloseIcon />}\n                dataTestId={SharedComponentsSelectors.HeaderCloseBtn}\n                onAction={() => navigate(RouteUrls.Home)}\n              />\n            ) : (\n              <styled.div hideBelow={isSettingsVisibleOnSm ? undefined : 'sm'}>\n                <Settings\n                  triggerButton={<BarsTwoIcon data-testid={SettingsSelectors.SettingsMenuBtn} />}\n                  toggleSwitchAccount={() => setIsShowingSwitchAccount(!isShowingSwitchAccount)}\n                />\n              </styled.div>\n            )}\n          </HeaderGridRightCol>\n        }\n      />\n    </Header>\n  );\n}\n","import { ReactNode } from 'react';\n\nimport { Content, Page } from '@app/components/layout';\nimport { PageHeader } from '@app/features/container/headers/page.header';\n\ninterface NetworkFormLayoutProps {\n  title: string;\n  children: ReactNode;\n}\n\nexport function NetworkFormLayout({ title, children }: NetworkFormLayoutProps) {\n  return (\n    <>\n      <PageHeader title={title} />\n      <Content>\n        <Page>{children}</Page>\n      </Content>\n    </>\n  );\n}\n","import { NetworkForm } from './network-form';\nimport { NetworkFormLayout } from './network-form.layout';\n\nconst title = 'Add network';\n\nexport function AddNetwork() {\n  return (\n    <NetworkFormLayout title={title}>\n      <NetworkForm title={title} />\n    </NetworkFormLayout>\n  );\n}\n","import { NetworkForm } from './network-form';\nimport { NetworkFormLayout } from './network-form.layout';\n\nconst title = 'Edit network';\n\nexport function EditNetwork() {\n  return (\n    <NetworkFormLayout title={title}>\n      <NetworkForm isEditNetworkMode title={title} />\n    </NetworkFormLayout>\n  );\n}\n","import { useEffect } from 'react';\n\nimport { z } from 'zod';\n\nimport { HIRO_API_BASE_URL_MAINNET, HIRO_API_BASE_URL_TESTNET } from '@leather.io/models';\n\nimport { IS_TEST_ENV, SEGMENT_WRITE_KEY } from '@shared/environment';\nimport {\n  analytics,\n  decorateAnalyticsEventsWithContext,\n  initAnalytics,\n} from '@shared/utils/analytics';\n\nimport { store } from '@app/store';\nimport { selectWalletType } from '@app/store/common/wallet-type.selectors';\nimport { selectCurrentNetwork } from '@app/store/networks/networks.selectors';\n\nimport { useOnMount } from './hooks/use-on-mount';\nimport { flow, origin } from './initial-search-params';\n\nconst defaultStaticAnalyticContext = {\n  ip: '0.0.0.0',\n  platform: 'web',\n  product: 'extension',\n  version: VERSION,\n  ...(flow && { flow }),\n  ...(origin && { origin }),\n};\n\nfunction getAnalyticsStateProps() {\n  const state = store.getState();\n  const currentNetwork = selectCurrentNetwork(state);\n  const walletType = selectWalletType(state);\n\n  return {\n    walletType,\n    currentNetwork,\n  };\n}\n\nfunction isHiroApiUrl(url: string) {\n  return url.includes(HIRO_API_BASE_URL_MAINNET) || url.includes(HIRO_API_BASE_URL_TESTNET);\n}\n\nfunction getDerivedStateAnalyticsContext() {\n  const appState = getAnalyticsStateProps();\n\n  return {\n    route: location.pathname,\n    network: appState.currentNetwork.name.toLowerCase(),\n    usingDefaultHiroApi: isHiroApiUrl(appState.currentNetwork.chain.stacks.url),\n    walletType: appState.walletType,\n  };\n}\n\nexport function useInitalizeAnalytics() {\n  useEffect(() => {\n    if (!SEGMENT_WRITE_KEY || IS_TEST_ENV) return;\n    initAnalytics();\n  }, []);\n}\n\ndecorateAnalyticsEventsWithContext(() => ({\n  ...defaultStaticAnalyticContext,\n  ...getDerivedStateAnalyticsContext(),\n}));\n\nconst analyticsQueueItemSchema = z.object({\n  eventName: z.string(),\n  properties: z.record(z.unknown()).optional(),\n});\n\nconst analyicsQueueSchema = z.array(analyticsQueueItemSchema);\n\nconst analyticsEventKey = 'backgroundAnalyticsRequests';\n\nexport function useHandleQueuedBackgroundAnalytics() {\n  useOnMount(() => {\n    async function handleQueuedAnalytics() {\n      const queuedEventsStore = await chrome.storage.local.get(analyticsEventKey);\n\n      try {\n        const events = analyicsQueueSchema.parse(queuedEventsStore[analyticsEventKey] ?? []);\n        if (!events.length) return;\n        await chrome.storage.local.remove(analyticsEventKey);\n        await Promise.all(\n          events.map(({ eventName, properties }) => analytics.track(eventName, properties))\n        );\n      } catch (e) {\n        void analytics.track('background_analytics_schema_fail');\n      }\n    }\n    void handleQueuedAnalytics();\n  });\n}\n","import { useCallback } from 'react';\n\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useKeyActions } from '@app/common/hooks/use-key-actions';\nimport { useToast } from '@app/features/toasts/use-toast';\n\nexport function useCreateAccount() {\n  const { createNewAccount } = useKeyActions();\n  const toast = useToast();\n\n  return useCallback(() => {\n    void analytics.track('create_new_account');\n    void toast.promise(createNewAccount(), {\n      success: 'Account created!',\n      error: 'Error creating account.',\n    });\n  }, [createNewAccount, toast]);\n}\n","import { useSelector } from 'react-redux';\n\nimport { bitcoinNetworkModeToCoreNetworkMode, inferNetworkFromPath } from '@leather.io/bitcoin';\n\nimport { selectDefaultWalletBitcoinKeys } from '@app/store/ledger/bitcoin/bitcoin-key.slice';\nimport { useCurrentNetwork } from '@app/store/networks/networks.selectors';\n\n// TODO: Asset refactor: remove if determined unnecessary\n// ts-unused-exports:disable-next-line\nexport function useHasBitcoinLedgerKeychain() {\n  const network = useCurrentNetwork();\n  const accounts = useSelector(selectDefaultWalletBitcoinKeys);\n\n  const hasNetworkKeys = accounts.some(v => {\n    return (\n      inferNetworkFromPath(v.path) ===\n      bitcoinNetworkModeToCoreNetworkMode(network.chain.bitcoin.mode)\n    );\n  });\n\n  return hasNetworkKeys;\n}\n\nexport function useFilteredBitcoinAccounts() {\n  const accounts = useSelector(selectDefaultWalletBitcoinKeys);\n  const network = useCurrentNetwork();\n\n  return accounts.filter(v => {\n    return (\n      inferNetworkFromPath(v.path) ===\n      bitcoinNetworkModeToCoreNetworkMode(network.chain.bitcoin.mode)\n    );\n  });\n}\n","import { useEffect, useState } from 'react';\n\nimport { BreakpointToken, token } from 'leather-styles/tokens';\n\nfunction useMediaQuery(query: string) {\n  const [matches, setMatches] = useState(() => window.matchMedia(query).matches);\n\n  useEffect(() => {\n    const media = window.matchMedia(query);\n    if (media.matches !== matches) {\n      setMatches(media.matches);\n    }\n    const listener = () => setMatches(media.matches);\n    window.addEventListener('resize', listener);\n    return () => window.removeEventListener('resize', listener);\n  }, [matches, query]);\n\n  return matches;\n}\n\nexport function useWindowMinWidth(width: number) {\n  return useMediaQuery(`(min-width: ${width}px)`);\n}\n\nexport function useViewportMinWidth(viewport: BreakpointToken) {\n  return useMediaQuery(`(min-width: ${token(`breakpoints.${viewport}`)})`);\n}\n","import { useEffect } from 'react';\n\nexport function useOnResizeListener(callback: () => void) {\n  useEffect(() => {\n    const onResize = () => callback();\n    window.addEventListener('resize', onResize);\n    return () => window.removeEventListener('resize', onResize);\n  }, [callback]);\n}\n","import { ReactNode, useState } from 'react';\n\nimport { Box } from 'leather-styles/jsx';\n\nimport { useViewportMinWidth } from '@app/common/hooks/use-media-query';\nimport { useOnResizeListener } from '@app/common/hooks/use-on-resize-listener';\n\ninterface VirtuosoWrapper {\n  children: ReactNode;\n  hasFooter?: boolean;\n  isPopup?: boolean;\n}\n\nfunction vhToPixels(vh: string) {\n  const numericHeight = +vh.replace('vh', '');\n  return (numericHeight * window.innerHeight) / 100;\n}\n\nexport function VirtuosoWrapper({ children, hasFooter, isPopup }: VirtuosoWrapper) {\n  const [key, setKey] = useState(0);\n  const isAtLeastMd = useViewportMinWidth('md');\n  const virtualHeight = isAtLeastMd ? '70vh' : '100vh';\n  const headerHeight = isPopup ? 230 : 60;\n  const footerHeight = hasFooter ? 95 : 0;\n  const heightOffset = headerHeight + footerHeight;\n  const height = vhToPixels(virtualHeight) - heightOffset;\n\n  const onResize = () => {\n    setKey(Date.now());\n  };\n\n  useOnResizeListener(onResize);\n  return (\n    <Box\n      key={key}\n      pt=\"space.03\"\n      overflow=\"hidden\"\n      style={{\n        height: height,\n        marginBottom: hasFooter ? `${footerHeight}px` : '10px',\n      }}\n    >\n      {children}\n    </Box>\n  );\n}\n","import { Box, Flex, styled } from 'leather-styles/jsx';\n\nexport function AccountListUnavailable() {\n  return (\n    <Flex\n      flexDirection=\"column\"\n      justifyContent=\"center\"\n      minHeight=\"120px\"\n      mb=\"space.06\"\n      px=\"space.05\"\n    >\n      <Box>\n        <styled.span textStyle=\"label.01\">Unable to load account information</styled.span>\n        <styled.span mt=\"space.03\" textStyle=\"body.02\">\n          We're unable to load information about your accounts. This may be a problem with the\n          wallet's API. If this problem persists, contact support.\n        </styled.span>\n      </Box>\n    </Flex>\n  );\n}\n","import { analytics } from '@shared/utils/analytics';\n\nimport { queryClient } from '@app/common/persistence';\n\nexport async function trackSwitchAccount(address: string, index: number) {\n  const accountBalanceCache = queryClient.getQueryData(['get-address-stx-balance', address]);\n  if (!accountBalanceCache) return;\n  try {\n    const hasStxBalance = !!(accountBalanceCache as any).stx.unlockedStx.amount.isGreaterThan(0);\n    void analytics.track('switch_account', { index, hasStxBalance });\n  } finally {\n  }\n}\n","import { useCallback } from 'react';\n\nimport { useHasSwitchedAccounts } from '@app/store/accounts/account';\nimport {\n  useCurrentStacksAccount,\n  useStacksAccounts,\n  useTransactionAccountIndex,\n  useTransactionNetworkVersion,\n} from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\nimport { trackSwitchAccount } from '../../analytics/track-switch-account';\nimport { useKeyActions } from '../use-key-actions';\n\nconst TIMEOUT = 350;\n\nexport function useSwitchAccount(callback?: () => void) {\n  const { switchAccount } = useKeyActions();\n  const currentAccount = useCurrentStacksAccount();\n  const accounts = useStacksAccounts();\n  const txIndex = useTransactionAccountIndex();\n  const transactionVersion = useTransactionNetworkVersion();\n  const [hasSwitched, setHasSwitched] = useHasSwitchedAccounts();\n\n  const handleSwitchAccount = useCallback(\n    async (index: number) => {\n      setHasSwitched(true);\n      switchAccount(index);\n      if (callback) setTimeout(() => callback(), TIMEOUT);\n      if (!accounts) return;\n      void trackSwitchAccount(accounts[index]?.address, index);\n    },\n    [setHasSwitched, switchAccount, callback, accounts]\n  );\n\n  const getIsActive = useCallback(\n    (index: number) =>\n      typeof txIndex === 'number' && !hasSwitched\n        ? index === txIndex\n        : index === currentAccount?.index,\n    [txIndex, hasSwitched, currentAccount]\n  );\n\n  return { handleSwitchAccount, getIsActive, transactionVersion };\n}\n","import { atom } from 'jotai';\nimport { atomFamily } from 'jotai/utils';\n\ntype LoadingState = 'idle' | 'loading';\n\nexport const loadingState = atomFamily(_param => {\n  const anAtom = atom<LoadingState>('idle');\n  anAtom.debugLabel = `loading-atom/${_param}`;\n  return anAtom;\n});\n","import { useAtom } from 'jotai';\n\nimport { loadingState } from './ui';\n\nexport function useLoadingState(key: string) {\n  return useAtom(loadingState(key));\n}\n","import { useLoadingState } from '@app/store/ui/ui.hooks';\n\nexport enum LoadingKeys {\n  SUBMIT_SEND_FORM_TRANSACTION = 'loading/SUBMIT_SEND_FORM_TRANSACTION',\n  SUBMIT_SWAP_TRANSACTION = 'loading/SUBMIT_SWAP_TRANSACTION',\n  SUBMIT_TRANSACTION_REQUEST = 'loading/SUBMIT_TRANSACTION_REQUEST',\n}\n\nexport function useLoading(key: string) {\n  const [state, setState] = useLoadingState(key);\n\n  const setIsLoading = () => setState('loading');\n  const setIsIdle = () => setState('idle');\n\n  const isLoading = state === 'loading';\n  return {\n    isLoading,\n    setIsLoading,\n    setIsIdle,\n  };\n}\n","import { useMemo } from 'react';\n\nimport {\n  useCryptoCurrencyMarketDataMeanAverage,\n  useStxCryptoAssetBalance,\n} from '@leather.io/query';\nimport { baseCurrencyAmountInQuote, createMoney, i18nFormatCurrency } from '@leather.io/utils';\n\nimport { useBtcCryptoAssetBalanceNativeSegwit } from '@app/query/bitcoin/balance/btc-balance-native-segwit.hooks';\n\ninterface UseTotalBalanceArgs {\n  btcAddress: string;\n  stxAddress: string;\n}\nexport function useTotalBalance({ btcAddress, stxAddress }: UseTotalBalanceArgs) {\n  // get market data\n  const btcMarketData = useCryptoCurrencyMarketDataMeanAverage('BTC');\n  const stxMarketData = useCryptoCurrencyMarketDataMeanAverage('STX');\n\n  // get stx balance\n  const { filteredBalanceQuery, isLoadingAdditionalData: isLoadingAdditionalDataStxBalance } =\n    useStxCryptoAssetBalance(stxAddress);\n\n  const {\n    data: balance,\n    isFetching: isFetchingStxBalance,\n    isLoading: isLoadingStxBalance,\n    isPending: isPendingStxBalance,\n  } = filteredBalanceQuery;\n\n  const stxBalance = balance ? balance.totalBalance : createMoney(0, 'STX');\n\n  // get btc balance\n  const {\n    balance: btcBalance,\n    isLoading: isLoadingBtcBalance,\n    filteredUtxosQuery: { isFetching: isFetchingBtcBalance, isPending: isPendingBtcBalance },\n    isLoadingAdditionalData: isLoadingAdditionalDataBtcBalance,\n  } = useBtcCryptoAssetBalanceNativeSegwit(btcAddress);\n\n  return useMemo(() => {\n    // calculate total balance\n    const stxUsdAmount = baseCurrencyAmountInQuote(stxBalance, stxMarketData);\n    const btcUsdAmount = baseCurrencyAmountInQuote(btcBalance.availableBalance, btcMarketData);\n\n    const totalBalance = { ...stxUsdAmount, amount: stxUsdAmount.amount.plus(btcUsdAmount.amount) };\n    return {\n      isFetching: isFetchingStxBalance || isFetchingBtcBalance,\n      isLoading: isLoadingStxBalance || isLoadingBtcBalance,\n      isPending: isPendingStxBalance || isPendingBtcBalance,\n      totalBalance,\n      totalUsdBalance: i18nFormatCurrency(\n        totalBalance,\n        totalBalance.amount.isGreaterThanOrEqualTo(100_000) ? 0 : 2\n      ),\n      isLoadingAdditionalData:\n        isLoadingAdditionalDataStxBalance || isLoadingAdditionalDataBtcBalance,\n    };\n  }, [\n    btcBalance.availableBalance,\n    btcMarketData,\n    isFetchingBtcBalance,\n    isFetchingStxBalance,\n    isLoadingBtcBalance,\n    isLoadingStxBalance,\n    isPendingBtcBalance,\n    isPendingStxBalance,\n    stxBalance,\n    stxMarketData,\n    isLoadingAdditionalDataBtcBalance,\n    isLoadingAdditionalDataStxBalance,\n  ]);\n}\n","import { memo } from 'react';\n\nimport { styled } from 'leather-styles/jsx';\n\nimport { SkeletonLoader, shimmerStyles } from '@leather.io/ui';\n\nimport { useTotalBalance } from '@app/common/hooks/balance/use-total-balance';\nimport { PrivateText } from '@app/components/privacy/private-text';\n\ninterface AccountTotalBalanceProps {\n  btcAddress: string;\n  stxAddress: string;\n}\n\nexport const AccountTotalBalance = memo(({ btcAddress, stxAddress }: AccountTotalBalanceProps) => {\n  const { totalUsdBalance, isFetching, isLoading, isLoadingAdditionalData } = useTotalBalance({\n    btcAddress,\n    stxAddress,\n  });\n\n  if (!totalUsdBalance) return null;\n\n  return (\n    <SkeletonLoader height=\"20px\" isLoading={isLoading}>\n      <styled.span\n        className={shimmerStyles}\n        textStyle=\"label.02\"\n        data-state={isLoadingAdditionalData || isFetching ? 'loading' : undefined}\n      >\n        <PrivateText>{totalUsdBalance}</PrivateText>\n      </styled.span>\n    </SkeletonLoader>\n  );\n});\n","import { ReactNode } from 'react';\n\nimport { useCurrentAccountIndex } from '@app/store/accounts/account';\nimport {\n  useCurrentStacksAccount,\n  useStacksAccounts,\n} from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { StacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.models';\n\ninterface CurrentStacksAccountLoaderProps {\n  children(data: StacksAccount): ReactNode;\n  fallback?: ReactNode;\n}\nexport function CurrentStacksAccountLoader({\n  children,\n  fallback,\n}: CurrentStacksAccountLoaderProps) {\n  const currentAccount = useCurrentStacksAccount();\n  if (!currentAccount) return fallback;\n  return children(currentAccount);\n}\n\ninterface StacksAccountBaseLoaderProps {\n  children(data: StacksAccount): React.ReactNode;\n}\n\ninterface StacksAccountCurrentLoaderProps extends StacksAccountBaseLoaderProps {\n  current: true;\n}\n\ninterface StacksAccountIndexLoaderProps extends StacksAccountBaseLoaderProps {\n  index: number;\n}\n\ntype StacksAccountLoaderProps = StacksAccountCurrentLoaderProps | StacksAccountIndexLoaderProps;\n\nexport function StacksAccountLoader({ children, ...props }: StacksAccountLoaderProps) {\n  const stacksAccounts = useStacksAccounts();\n  const currentAccountIndex = useCurrentAccountIndex();\n  const properIndex = 'current' in props ? currentAccountIndex : props.index;\n\n  const account = stacksAccounts[properIndex];\n  if (!account) return null;\n  return children(account);\n}\n","import { HStack } from 'leather-styles/jsx';\n\nimport { BulletSeparator, Caption } from '@leather.io/ui';\nimport { truncateMiddle } from '@leather.io/utils';\n\nimport { BitcoinNativeSegwitAccountLoader } from '../loaders/bitcoin-account-loader';\nimport { StacksAccountLoader } from '../loaders/stacks-account-loader';\n\ninterface AccountAddressesProps {\n  index: number;\n}\nexport function AcccountAddresses({ index }: AccountAddressesProps) {\n  return (\n    <HStack alignItems=\"center\" gap=\"space.02\" whiteSpace=\"nowrap\">\n      <BulletSeparator>\n        <StacksAccountLoader index={index}>\n          {account => <Caption>{truncateMiddle(account.address, 4)}</Caption>}\n        </StacksAccountLoader>\n        <BitcoinNativeSegwitAccountLoader index={index}>\n          {signer => <Caption>{truncateMiddle(signer.address, 4)}</Caption>}\n        </BitcoinNativeSegwitAccountLoader>\n      </BulletSeparator>\n    </HStack>\n  );\n}\n","import { ReactNode } from 'react';\n\nimport { SettingsSelectors } from '@tests/selectors/settings.selectors';\n\nimport { ChevronRightIcon, Flag, ItemLayout, Pressable, Spinner } from '@leather.io/ui';\n\nimport { useWindowMinWidth } from '@app/common/hooks/use-media-query';\n\ninterface AccountListItemLayoutProps {\n  accountAddresses: ReactNode;\n  accountName: ReactNode;\n  avatar: ReactNode;\n  balanceLabel: ReactNode;\n  withChevron?: boolean;\n  index: number;\n  isLoading: boolean;\n  isSelected: boolean;\n  onSelectAccount(): void;\n}\nexport function AccountListItemLayout(props: AccountListItemLayoutProps) {\n  const {\n    accountAddresses,\n    accountName,\n    avatar,\n    balanceLabel,\n    index,\n    isLoading,\n    isSelected,\n    withChevron,\n    onSelectAccount,\n  } = props;\n\n  const isGreaterThanTinyWidth = useWindowMinWidth(320);\n\n  const content = (\n    <ItemLayout\n      isSelected={isSelected}\n      img={isGreaterThanTinyWidth ? avatar : null}\n      titleLeft={accountName}\n      titleRight={\n        isLoading ? (\n          <Spinner color=\"ink.text-subdued\" position=\"absolute\" right={0} top=\"calc(50% - 8px)\" />\n        ) : (\n          balanceLabel\n        )\n      }\n      captionLeft={accountAddresses}\n    />\n  );\n\n  return (\n    <Pressable\n      data-testid={SettingsSelectors.SwitchAccountItemIndex.replace('[index]', `${index}`)}\n      key={`account-${index}`}\n      onClick={onSelectAccount}\n    >\n      {withChevron ? (\n        <Flag reverse img={<ChevronRightIcon variant=\"small\" />}>\n          {content}\n        </Flag>\n      ) : (\n        content\n      )}\n    </Pressable>\n  );\n}\n","import { memo } from 'react';\n\nimport { type HTMLStyledProps, styled } from 'leather-styles/jsx';\n\nimport { shimmerStyles } from '@leather.io/ui';\n\ninterface AccountNameLayoutProps extends HTMLStyledProps<'span'> {\n  children: React.ReactNode;\n  isLoading?: boolean;\n}\n\nexport const AccountNameLayout = memo(\n  ({ children, isLoading, ...rest }: AccountNameLayoutProps) => (\n    <styled.span\n      className={shimmerStyles}\n      textStyle=\"label.02\"\n      aria-busy={isLoading}\n      data-state={isLoading ? 'loading' : undefined}\n      {...rest}\n    >\n      {children}\n    </styled.span>\n  )\n);\n","import { memo } from 'react';\n\nimport { AccountAvatar } from '@app/ui/components/account/account-avatar/account-avatar';\n\ninterface AccountAvatarItemProps {\n  publicKey: string;\n  index: number;\n  name: string;\n}\nexport const AccountAvatarItem = memo(({ name, publicKey, index }: AccountAvatarItemProps) => {\n  return <AccountAvatar index={index} name={name} publicKey={publicKey} />;\n});\n","import { memo } from 'react';\n\nimport { useAccountDisplayName } from '@app/common/hooks/account/use-account-names';\nimport { useSwitchAccount } from '@app/common/hooks/account/use-switch-account';\nimport { useLoading } from '@app/common/hooks/use-loading';\nimport { AccountTotalBalance } from '@app/components/account-total-balance';\nimport { AcccountAddresses } from '@app/components/account/account-addresses';\nimport { AccountListItemLayout } from '@app/components/account/account-list-item.layout';\nimport { AccountNameLayout } from '@app/components/account/account-name';\nimport { useNativeSegwitSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useStacksAccounts } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { AccountAvatarItem } from '@app/ui/components/account/account-avatar/account-avatar-item';\n\ninterface SwitchAccountListItemProps {\n  handleClose(): void;\n  currentAccountIndex: number;\n  index: number;\n}\nexport const SwitchAccountListItem = memo(\n  ({ handleClose, currentAccountIndex, index }: SwitchAccountListItemProps) => {\n    const stacksAccounts = useStacksAccounts();\n    const stxAddress = stacksAccounts[index]?.address || '';\n    const bitcoinSigner = useNativeSegwitSigner(index);\n    const btcAddress = bitcoinSigner?.(0).address || '';\n\n    const { isLoading, setIsLoading, setIsIdle } = useLoading(\n      'SWITCH_ACCOUNTS' + stxAddress || btcAddress\n    );\n    const { handleSwitchAccount } = useSwitchAccount(handleClose);\n    const { data: name = '', isFetching: isFetchingBnsName } = useAccountDisplayName({\n      address: stxAddress,\n      index,\n    });\n\n    const handleClick = async () => {\n      setIsLoading();\n      setTimeout(async () => {\n        await handleSwitchAccount(index);\n        setIsIdle();\n      }, 80);\n    };\n\n    return (\n      <AccountListItemLayout\n        accountAddresses={<AcccountAddresses index={index} />}\n        accountName={<AccountNameLayout isLoading={isFetchingBnsName}>{name}</AccountNameLayout>}\n        avatar={\n          <AccountAvatarItem\n            index={index}\n            publicKey={stacksAccounts[index]?.stxPublicKey || ''}\n            name={name}\n          />\n        }\n        balanceLabel={<AccountTotalBalance stxAddress={stxAddress} btcAddress={btcAddress} />}\n        index={index}\n        isLoading={isLoading}\n        isSelected={currentAccountIndex === index}\n        onSelectAccount={handleClick}\n      />\n    );\n  }\n);\n","import { memo } from 'react';\nimport { Virtuoso } from 'react-virtuoso';\n\nimport { Box } from 'leather-styles/jsx';\n\nimport { Button, Sheet, SheetHeader } from '@leather.io/ui';\n\nimport { useCreateAccount } from '@app/common/hooks/account/use-create-account';\nimport { useWalletType } from '@app/common/use-wallet-type';\nimport { useCurrentAccountIndex } from '@app/store/accounts/account';\nimport { useFilteredBitcoinAccounts } from '@app/store/accounts/blockchain/bitcoin/bitcoin.ledger';\nimport { useStacksAccounts } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { VirtuosoWrapper } from '@app/ui/components/virtuoso';\n\nimport { AccountListUnavailable } from './components/account-list-unavailable';\nimport { SwitchAccountListItem } from './components/switch-account-list-item';\n\ninterface SwitchAccountSheetProps {\n  isShowing: boolean;\n  onClose(): void;\n}\n\nexport const SwitchAccountSheet = memo(({ isShowing, onClose }: SwitchAccountSheetProps) => {\n  const currentAccountIndex = useCurrentAccountIndex();\n  const createAccount = useCreateAccount();\n  const { whenWallet } = useWalletType();\n  const stacksAccounts = useStacksAccounts();\n  const bitcoinAccounts = useFilteredBitcoinAccounts();\n  const btcAddressesNum = bitcoinAccounts.length / 2;\n  const stacksAddressesNum = stacksAccounts.length;\n\n  const onCreateAccount = () => {\n    createAccount();\n    onClose();\n  };\n\n  if (isShowing && stacksAddressesNum === 0 && btcAddressesNum === 0) {\n    return <AccountListUnavailable />;\n  }\n  // #4370 SMELL without this early return the wallet crashes on new install with\n  // : Wallet is neither of type `ledger` nor `software`\n  // FIXME remove this when adding Create Account to Ledger in #2502 #4983\n  if (!isShowing) return null;\n\n  const accountNum = stacksAddressesNum || btcAddressesNum;\n\n  return (\n    <Sheet\n      header={<SheetHeader title=\"Select account\" />}\n      isShowing={isShowing}\n      onClose={onClose}\n      wrapChildren={false}\n      footer={whenWallet({\n        software: (\n          <Button fullWidth onClick={() => onCreateAccount()}>\n            Create new account\n          </Button>\n        ),\n        ledger: null,\n      })}\n    >\n      <VirtuosoWrapper hasFooter={whenWallet({ ledger: false, software: true })}>\n        <Virtuoso\n          style={{\n            height: '100%',\n          }}\n          initialTopMostItemIndex={whenWallet({ ledger: 0, software: currentAccountIndex })}\n          totalCount={accountNum}\n          itemContent={index => (\n            <Box key={index} py=\"space.03\" px=\"space.05\">\n              <SwitchAccountListItem\n                handleClose={onClose}\n                currentAccountIndex={currentAccountIndex}\n                index={index}\n              />\n            </Box>\n          )}\n        />\n      </VirtuosoWrapper>\n    </Sheet>\n  );\n});\n","import { Box, Flex, styled } from 'leather-styles/jsx';\n\nimport { CloseIcon } from '@leather.io/ui';\n\nimport { HiroMessage } from '@app/query/common/remote-config/remote-config.query';\n\ninterface HiroMessageItemProps extends HiroMessage {\n  onDismiss(id: string): void;\n}\nexport function HiroMessageItem(props: HiroMessageItemProps) {\n  const { id, title, text, learnMoreUrl, learnMoreText, img, imgWidth, dismissible, onDismiss } =\n    props;\n\n  return (\n    <Flex position=\"relative\" py=\"space.05\" px=\"space.05\" width=\"100%\" justifyContent=\"center\">\n      <Flex\n        pos=\"relative\"\n        flexDirection={['column', null, 'row']}\n        width=\"100%\"\n        maxWidth={{ base: '100vw', md: 'fullPageMaxWidth' }}\n        px={['unset', 'space.05']}\n      >\n        {dismissible && (\n          <styled.button\n            position=\"absolute\"\n            p=\"space.02\"\n            top={['-16px', null, '50%']}\n            mt={['space.02', null, 'unset']}\n            transform={[null, null, 'translateY(-50%)']}\n            right={['-space.02', 'space.04']}\n            _focus={{ outline: '1px solid white' }}\n            onClick={() => onDismiss(id)}\n          >\n            <CloseIcon />\n          </styled.button>\n        )}\n        {img && (\n          <Box mb={['space.03', null, 'unset']}>\n            <img width={imgWidth} src={img} />\n          </Box>\n        )}\n        <Box>\n          {title && (\n            <styled.span textStyle=\"label.02\" display=\"block\" lineHeight=\"inherit\">\n              {title}\n            </styled.span>\n          )}\n          <styled.span\n            textStyle=\"label.02\"\n            display=\"inline-block\"\n            fontSize=\"inherit\"\n            mr=\"space.07\"\n            lineHeight=\"inherit\"\n          >\n            {text}\n            {learnMoreUrl && (\n              <styled.a\n                textStyle=\"label.02\"\n                textDecoration=\"underline\"\n                href={learnMoreUrl}\n                whiteSpace=\"nowrap\"\n                target=\"_blank\"\n                ml=\"space.01\"\n              >\n                {learnMoreText ? learnMoreText : 'Learn more '}\n              </styled.a>\n            )}\n          </styled.span>\n        </Box>\n      </Flex>\n    </Flex>\n  );\n}\n","import { useLocation } from 'react-router-dom';\n\nimport { Flex, FlexProps } from 'leather-styles/jsx';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { useRemoteLeatherMessages } from '@app/query/common/remote-config/remote-config.query';\nimport { useCurrentNetworkState } from '@app/store/networks/networks.hooks';\nimport { useDismissMessage } from '@app/store/settings/settings.actions';\nimport { useDismissedMessageIds } from '@app/store/settings/settings.selectors';\n\nimport { HiroMessageItem } from './components/in-app-message-item';\n\nexport function InAppMessages(props: FlexProps) {\n  const location = useLocation();\n  const messages = useRemoteLeatherMessages();\n\n  const { mode } = useCurrentNetworkState();\n  const dismissMessage = useDismissMessage();\n  const dismissedIds = useDismissedMessageIds();\n\n  if (location.pathname !== RouteUrls.Home || messages.length === 0) return null;\n\n  const firstMessage = messages.filter(msg => !dismissedIds.includes(msg.id))[0];\n\n  if (!firstMessage) return null;\n\n  if (firstMessage.chainTarget !== 'all' && firstMessage.chainTarget !== mode) {\n    return null;\n  }\n\n  return (\n    <Flex bg=\"ink.text-non-interactive\" {...props}>\n      <HiroMessageItem onDismiss={messageId => dismissMessage(messageId)} {...firstMessage} />\n    </Flex>\n  );\n}\n","import { InternalMethods } from '@shared/message-types';\nimport type { BackgroundMessages } from '@shared/messages';\n\nimport { useOnMount } from '@app/common/hooks/use-on-mount';\n\nexport function useOnChangeAccount(handler: (accountIndex: number) => void) {\n  useOnMount(() => {\n    chrome.runtime.onMessage.addListener((message: BackgroundMessages, _sender, sendResponse) => {\n      if (message?.method === InternalMethods.AccountChanged) handler(message.payload.accountIndex);\n      sendResponse();\n    });\n  });\n}\n","import { useOnMount } from '@app/common/hooks/use-on-mount';\nimport { keyActions } from '@app/store/software-keys/software-key.actions';\n\nexport function useOnSignOut(handler: () => void) {\n  useOnMount(() => {\n    chrome.runtime.onMessage.addListener((message, _sender, sendResponse) => {\n      if (message?.method === keyActions.signOut.type) handler();\n      sendResponse();\n    });\n  });\n}\n","import { useOnMount } from '@app/common/hooks/use-on-mount';\nimport { inMemoryKeyActions } from '@app/store/in-memory-key/in-memory-key.actions';\n\nexport function useOnWalletLock(handler: () => void) {\n  useOnMount(() => {\n    chrome.runtime.onMessage.addListener((message, _sender, sendResponse) => {\n      if (message?.method === inMemoryKeyActions.lockWallet.type) handler();\n      sendResponse();\n    });\n  });\n}\n","export function getActiveTab(): Promise<chrome.tabs.Tab> {\n  return new Promise(resolve =>\n    chrome.tabs.query({ currentWindow: true, active: true }, tabs => resolve(tabs[0]))\n  );\n}\n","import { useNavigate } from 'react-router-dom';\n\nimport { getActiveTab } from '@shared/utils/get-active-tab';\n\nimport { useOnMount } from '@app/common/hooks/use-on-mount';\nimport { isPopupMode } from '@app/common/utils';\n\n// Would rather use the `useAsync` hook to call this promise, however this is\n// excuted later in the lifecycle of the app, which causes the homepage to\n// render first.\nlet currentTabId = 0;\nasync function run() {\n  const tab = await getActiveTab();\n  // Tab can sometimes be undefined in mobile extension environments\n  // https://trust-machines.sentry.io/issues/3999731741/?project=4504204000952320\n  // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n  if (!tab) return;\n  currentTabId = tab.id ?? 0;\n}\nvoid run();\n\nexport function useRestoreFormState() {\n  const navigate = useNavigate();\n\n  useOnMount(async () => {\n    if (!isPopupMode() || !currentTabId || !chrome.storage.session) return;\n    const key = 'form-state-' + currentTabId.toString();\n    const state = await chrome.storage.session.get('form-state-' + currentTabId.toString());\n    const persistedState = state[key];\n    if (!persistedState || !persistedState.symbol) return;\n    navigate('send/' + persistedState.symbol, { state: persistedState });\n  });\n}\n","import { useEffect, useState } from 'react';\nimport { Outlet, useLocation } from 'react-router-dom';\n\nimport { RouteUrls } from '@shared/route-urls';\nimport { closeWindow } from '@shared/utils';\nimport { analytics } from '@shared/utils/analytics';\n\nimport {\n  useHandleQueuedBackgroundAnalytics,\n  useInitalizeAnalytics,\n} from '@app/common/app-analytics';\nimport { ContainerLayout } from '@app/components/layout';\nimport { LoadingSpinner } from '@app/components/loading-spinner';\nimport { SwitchAccountSheet } from '@app/features/dialogs/switch-account-dialog/switch-account-dialog';\nimport { InAppMessages } from '@app/features/hiro-messages/in-app-messages';\nimport { useOnChangeAccount } from '@app/routes/hooks/use-on-change-account';\nimport { useOnSignOut } from '@app/routes/hooks/use-on-sign-out';\nimport { useOnWalletLock } from '@app/routes/hooks/use-on-wallet-lock';\nimport { useAppDispatch, useHasStateRehydrated } from '@app/store';\nimport { stxChainSlice } from '@app/store/chains/stx-chain.slice';\n\nimport { useRestoreFormState } from '../popup-send-form-restoration/use-restore-form-state';\n\nexport function Container() {\n  const { pathname: locationPathname } = useLocation();\n  const pathname = locationPathname as RouteUrls;\n  const [isShowingSwitchAccount, setIsShowingSwitchAccount] = useState(false);\n  const dispatch = useAppDispatch();\n\n  const hasStateRehydrated = useHasStateRehydrated();\n\n  useOnWalletLock(() => closeWindow());\n  useOnSignOut(() => closeWindow());\n  useRestoreFormState();\n  useInitalizeAnalytics();\n  useHandleQueuedBackgroundAnalytics();\n  useOnChangeAccount(index => dispatch(stxChainSlice.actions.switchAccount(index)));\n\n  useEffect(() => void analytics.page('view', `${pathname}`), [pathname]);\n\n  if (!hasStateRehydrated) return <LoadingSpinner />;\n\n  return (\n    <>\n      {isShowingSwitchAccount && (\n        <SwitchAccountSheet\n          isShowing={isShowingSwitchAccount}\n          onClose={() => setIsShowingSwitchAccount(false)}\n        />\n      )}\n      <InAppMessages />\n      <ContainerLayout>\n        <Outlet context={{ isShowingSwitchAccount, setIsShowingSwitchAccount }} />\n      </ContainerLayout>\n    </>\n  );\n}\n","import { SettingsSelectors } from '@tests/selectors/settings.selectors';\n\nimport { BarsTwoIcon } from '@leather.io/ui';\n\nimport { useSwitchAccountSheet } from '@app/common/switch-account/use-switch-account-sheet-context';\nimport { Header } from '@app/components/layout/headers/header';\nimport { HeaderGrid, HeaderGridRightCol } from '@app/components/layout/headers/header-grid';\nimport { LogoBox } from '@app/components/layout/headers/logo-box';\nimport { Settings } from '@app/features/settings/settings';\n\nexport function HomeHeader() {\n  const { isShowingSwitchAccount, setIsShowingSwitchAccount } = useSwitchAccountSheet();\n\n  return (\n    <Header>\n      <HeaderGrid\n        leftCol={<LogoBox hideBelow={undefined} />}\n        rightCol={\n          <HeaderGridRightCol>\n            <Settings\n              triggerButton={<BarsTwoIcon data-testid={SettingsSelectors.SettingsMenuBtn} />}\n              toggleSwitchAccount={() => setIsShowingSwitchAccount(!isShowingSwitchAccount)}\n            />\n          </HeaderGridRightCol>\n        }\n      />\n    </Header>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport get from 'lodash.get';\n\nimport { isUndefined } from '@leather.io/utils';\n\ntype LocationState = string | boolean | undefined | number | Location;\n\nexport function useLocationState<T extends LocationState>(propName: string): T;\nexport function useLocationState<T extends LocationState>(\n  propName: string,\n  defaultValue: string\n): T;\nexport function useLocationState(propName: string): string | undefined;\nexport function useLocationState(propName: string, defaultValue: string): string;\nexport function useLocationState(propName: string, defaultValue?: string) {\n  const location = useLocation();\n  return get(location, `state.${propName}`, defaultValue);\n}\n\nexport function useLocationStateWithCache<T = string>(propName: string): T | undefined;\nexport function useLocationStateWithCache<T = string>(propName: string, defaultValue: T): T;\nexport function useLocationStateWithCache<T = string>(propName: string, defaultValue?: T) {\n  const location = useLocation();\n  const [value, setValue] = useState(defaultValue);\n  const stateVal = get(location, `state.${propName}`);\n\n  useEffect(() => {\n    if (!isUndefined(stateVal)) setValue(stateVal);\n  }, [location, propName, stateVal]);\n\n  return stateVal ?? value ?? defaultValue;\n}\n","// https://github.com/argvil19/bitcoin-transaction-size-calculator/blob/master/index.js\nimport BigNumber from 'bignumber.js';\n\ntype InputScriptTypes =\n  | 'p2pkh'\n  | 'p2sh'\n  | 'p2sh-p2wpkh'\n  | 'p2sh-p2wsh'\n  | 'p2wpkh'\n  | 'p2wsh'\n  | 'p2tr';\n\ninterface TxSizerParams {\n  input_count: number;\n  input_script: InputScriptTypes;\n  input_m: number;\n  input_n: number;\n  p2pkh_output_count: number;\n  p2sh_output_count: number;\n  p2sh_p2wpkh_output_count: number;\n  p2sh_p2wsh_output_count: number;\n  p2wpkh_output_count: number;\n  p2wsh_output_count: number;\n  p2tr_output_count: number;\n}\n\nexport class BtcSizeFeeEstimator {\n  P2PKH_IN_SIZE = 148;\n  P2PKH_OUT_SIZE = 34;\n  P2SH_OUT_SIZE = 32;\n  P2SH_P2WPKH_OUT_SIZE = 32;\n  P2SH_P2WSH_OUT_SIZE = 32;\n  P2SH_P2WPKH_IN_SIZE = 91;\n  P2WPKH_IN_SIZE = 67.75;\n  P2WPKH_OUT_SIZE = 31;\n  P2WSH_OUT_SIZE = 43;\n  P2TR_OUT_SIZE = 43;\n  P2TR_IN_SIZE = 57.25;\n  PUBKEY_SIZE = 33;\n  SIGNATURE_SIZE = 72;\n  SUPPORTED_INPUT_SCRIPT_TYPES: InputScriptTypes[] = [\n    'p2pkh',\n    'p2sh',\n    'p2sh-p2wpkh',\n    'p2sh-p2wsh',\n    'p2wpkh',\n    'p2wsh',\n    'p2tr',\n  ];\n\n  defaultParams: TxSizerParams = {\n    input_count: 0,\n    input_script: 'p2wpkh',\n    input_m: 0,\n    input_n: 0,\n    p2pkh_output_count: 0,\n    p2sh_output_count: 0,\n    p2sh_p2wpkh_output_count: 0,\n    p2sh_p2wsh_output_count: 0,\n    p2wpkh_output_count: 0,\n    p2wsh_output_count: 0,\n    p2tr_output_count: 0,\n  };\n\n  params: TxSizerParams = { ...this.defaultParams };\n\n  getSizeOfScriptLengthElement(length: number) {\n    if (length < 75) {\n      return 1;\n    } else if (length <= 255) {\n      return 2;\n    } else if (length <= 65535) {\n      return 3;\n    } else if (length <= 4294967295) {\n      return 5;\n    } else {\n      throw new Error('Size of redeem script is too large');\n    }\n  }\n\n  getSizeOfletInt(length: number) {\n    if (length < 253) {\n      return 1;\n    } else if (length < 65535) {\n      return 3;\n    } else if (length < 4294967295) {\n      return 5;\n    } else if (new BigNumber(length).isLessThan('18446744073709551615')) {\n      return 9;\n    } else {\n      throw new Error('Invalid let int');\n    }\n  }\n\n  getTxOverheadVBytes(input_script: InputScriptTypes, input_count: number, output_count: number) {\n    let witness_vbytes;\n    if (input_script === 'p2pkh' || input_script === 'p2sh') {\n      witness_vbytes = 0;\n    } else {\n      // Transactions with segwit inputs have extra overhead\n      witness_vbytes =\n        0.25 + // segwit marker\n        0.25 + // segwit flag\n        this.getSizeOfletInt(input_count) / 4; // witness element count\n    }\n\n    return (\n      4 + // nVersion\n      this.getSizeOfletInt(input_count) + // number of inputs\n      this.getSizeOfletInt(output_count) + // number of outputs\n      4 + // nLockTime\n      witness_vbytes\n    );\n  }\n\n  getTxOverheadExtraRawBytes(input_script: InputScriptTypes, input_count: number) {\n    let witness_vbytes;\n    if (input_script === 'p2pkh' || input_script === 'p2sh') {\n      witness_vbytes = 0;\n    } else {\n      // Transactions with segwit inputs have extra overhead\n      witness_vbytes =\n        0.25 + // segwit marker\n        0.25 + // segwit flag\n        this.getSizeOfletInt(input_count) / 4; // witness element count\n    }\n\n    return witness_vbytes * 3;\n  }\n\n  prepareParams(opts: Partial<TxSizerParams>) {\n    // Verify opts and set them to this.params\n    opts = opts || Object.assign(this.defaultParams);\n\n    const input_count = opts.input_count || this.defaultParams.input_count;\n    if (!Number.isInteger(input_count) || input_count < 0) {\n      throw new Error('expecting positive input count, got: ' + input_count);\n    }\n\n    const input_script = opts.input_script || this.defaultParams.input_script;\n    if (this.SUPPORTED_INPUT_SCRIPT_TYPES.indexOf(input_script) === -1) {\n      throw new Error('Not supported input script type');\n    }\n\n    const input_m = opts.input_m || this.defaultParams.input_m;\n    if (!Number.isInteger(input_m) || input_m < 0) {\n      throw new Error('expecting positive signature count');\n    }\n\n    const input_n = opts.input_n || this.defaultParams.input_n;\n    if (!Number.isInteger(input_n) || input_n < 0) {\n      throw new Error('expecting positive pubkey count');\n    }\n\n    const p2pkh_output_count = opts.p2pkh_output_count || this.defaultParams.p2pkh_output_count;\n    if (!Number.isInteger(p2pkh_output_count) || p2pkh_output_count < 0) {\n      throw new Error('expecting positive p2pkh output count');\n    }\n\n    const p2sh_output_count = opts.p2sh_output_count || this.defaultParams.p2sh_output_count;\n    if (!Number.isInteger(p2sh_output_count) || p2sh_output_count < 0) {\n      throw new Error('expecting positive p2sh output count');\n    }\n\n    const p2sh_p2wpkh_output_count =\n      opts.p2sh_p2wpkh_output_count || this.defaultParams.p2sh_p2wpkh_output_count;\n    if (!Number.isInteger(p2sh_p2wpkh_output_count) || p2sh_p2wpkh_output_count < 0) {\n      throw new Error('expecting positive p2sh-p2wpkh output count');\n    }\n\n    const p2sh_p2wsh_output_count =\n      opts.p2sh_p2wsh_output_count || this.defaultParams.p2sh_p2wsh_output_count;\n    if (!Number.isInteger(p2sh_p2wsh_output_count) || p2sh_p2wsh_output_count < 0) {\n      throw new Error('expecting positive p2sh-p2wsh output count');\n    }\n\n    const p2wpkh_output_count = opts.p2wpkh_output_count || this.defaultParams.p2wpkh_output_count;\n    if (!Number.isInteger(p2wpkh_output_count) || p2wpkh_output_count < 0) {\n      throw new Error('expecting positive p2wpkh output count');\n    }\n\n    const p2wsh_output_count = opts.p2wsh_output_count || this.defaultParams.p2wsh_output_count;\n    if (!Number.isInteger(p2wsh_output_count) || p2wsh_output_count < 0) {\n      throw new Error('expecting positive p2wsh output count');\n    }\n\n    const p2tr_output_count = opts.p2tr_output_count || this.defaultParams.p2tr_output_count;\n    if (!Number.isInteger(p2tr_output_count) || p2tr_output_count < 0) {\n      throw new Error('expecting positive p2tr output count');\n    }\n\n    this.params = {\n      input_count,\n      input_script,\n      input_m,\n      input_n,\n      p2pkh_output_count,\n      p2sh_output_count,\n      p2sh_p2wpkh_output_count,\n      p2sh_p2wsh_output_count,\n      p2wpkh_output_count,\n      p2wsh_output_count,\n      p2tr_output_count,\n    };\n\n    return this.params;\n  }\n\n  getOutputCount() {\n    return (\n      this.params.p2pkh_output_count +\n      this.params.p2sh_output_count +\n      this.params.p2sh_p2wpkh_output_count +\n      this.params.p2sh_p2wsh_output_count +\n      this.params.p2wpkh_output_count +\n      this.params.p2wsh_output_count +\n      this.params.p2tr_output_count\n    );\n  }\n\n  getSizeBasedOnInputType() {\n    // In most cases the input size is predictable. For multisig inputs we need to perform a detailed calculation\n    let inputSize = 0; // in virtual bytes\n    let inputWitnessSize = 0;\n    let redeemScriptSize;\n    switch (this.params.input_script) {\n      case 'p2pkh':\n        inputSize = this.P2PKH_IN_SIZE;\n        break;\n      case 'p2sh-p2wpkh':\n        inputSize = this.P2SH_P2WPKH_IN_SIZE;\n        inputWitnessSize = 107; // size(signature) + signature + size(pubkey) + pubkey\n        break;\n      case 'p2wpkh':\n        inputSize = this.P2WPKH_IN_SIZE;\n        inputWitnessSize = 107; // size(signature) + signature + size(pubkey) + pubkey\n        break;\n      case 'p2tr': // Only consider the cooperative taproot signing path assume multisig is done via aggregate signatures\n        inputSize = this.P2TR_IN_SIZE;\n        inputWitnessSize = 65; // getSizeOfletInt(schnorrSignature) + schnorrSignature\n        break;\n      case 'p2sh':\n        redeemScriptSize =\n          1 + // OP_M\n          this.params.input_n * (1 + this.PUBKEY_SIZE) + // OP_PUSH33 <pubkey>\n          1 + // OP_N\n          1; // OP_CHECKMULTISIG\n        const scriptSigSize =\n          1 + // size(0)\n          this.params.input_m * (1 + this.SIGNATURE_SIZE) + // size(SIGNATURE_SIZE) + signature\n          this.getSizeOfScriptLengthElement(redeemScriptSize) +\n          redeemScriptSize;\n        inputSize = 32 + 4 + this.getSizeOfletInt(scriptSigSize) + scriptSigSize + 4;\n        break;\n      case 'p2sh-p2wsh':\n      case 'p2wsh':\n        redeemScriptSize =\n          1 + // OP_M\n          this.params.input_n * (1 + this.PUBKEY_SIZE) + // OP_PUSH33 <pubkey>\n          1 + // OP_N\n          1; // OP_CHECKMULTISIG\n        inputWitnessSize =\n          1 + // size(0)\n          this.params.input_m * (1 + this.SIGNATURE_SIZE) + // size(SIGNATURE_SIZE) + signature\n          this.getSizeOfScriptLengthElement(redeemScriptSize) +\n          redeemScriptSize;\n        inputSize =\n          36 + // outpoint (spent UTXO ID)\n          inputWitnessSize / 4 + // witness program\n          4; // nSequence\n        if (this.params.input_script === 'p2sh-p2wsh') {\n          inputSize += 32 + 3; // P2SH wrapper (redeemscript hash) + overhead?\n        }\n    }\n\n    return {\n      inputSize,\n      inputWitnessSize,\n    };\n  }\n\n  calcTxSize(opts: Partial<TxSizerParams>) {\n    this.prepareParams(opts);\n    const output_count = this.getOutputCount();\n    const { inputSize, inputWitnessSize } = this.getSizeBasedOnInputType();\n\n    const txVBytes =\n      this.getTxOverheadVBytes(this.params.input_script, this.params.input_count, output_count) +\n      inputSize * this.params.input_count +\n      this.P2PKH_OUT_SIZE * this.params.p2pkh_output_count +\n      this.P2SH_OUT_SIZE * this.params.p2sh_output_count +\n      this.P2SH_P2WPKH_OUT_SIZE * this.params.p2sh_p2wpkh_output_count +\n      this.P2SH_P2WSH_OUT_SIZE * this.params.p2sh_p2wsh_output_count +\n      this.P2WPKH_OUT_SIZE * this.params.p2wpkh_output_count +\n      this.P2WSH_OUT_SIZE * this.params.p2wsh_output_count +\n      this.P2TR_OUT_SIZE * this.params.p2tr_output_count;\n\n    const txBytes =\n      this.getTxOverheadExtraRawBytes(this.params.input_script, this.params.input_count) +\n      txVBytes +\n      inputWitnessSize * this.params.input_count;\n    const txWeight = txVBytes * 4;\n\n    return { txVBytes, txBytes, txWeight };\n  }\n\n  estimateFee(vbyte: number, satVb: number) {\n    if (isNaN(vbyte) || isNaN(satVb)) {\n      throw new Error('Parameters should be numbers');\n    }\n    return vbyte * satVb;\n  }\n\n  formatFeeRange(fee: number, multiplier: number) {\n    if (isNaN(fee) || isNaN(multiplier)) {\n      throw new Error('Parameters should be numbers');\n    }\n\n    if (multiplier < 0) {\n      throw new Error('Multiplier cant be negative');\n    }\n\n    const multipliedFee = fee * multiplier;\n\n    return fee - multipliedFee + ' - ' + (fee + multipliedFee);\n  }\n}\n","import BigNumber from 'bignumber.js';\nimport {\n  type AddressInfo,\n  AddressType,\n  getAddressInfo,\n  validate,\n} from 'bitcoin-address-validation';\n\nimport { BTC_P2WPKH_DUST_AMOUNT } from '@leather.io/constants';\nimport type { BitcoinTransactionVectorOutput, BitcoinTx } from '@leather.io/models';\nimport type { UtxoResponseItem } from '@leather.io/query';\nimport { satToBtc, sumNumbers, truncateMiddle } from '@leather.io/utils';\n\nimport type { TransferRecipient } from '@shared/models/form.model';\n\nimport { BtcSizeFeeEstimator } from './fees/btc-size-fee-estimator';\n\nexport function containsTaprootInput(tx: BitcoinTx) {\n  return tx.vin.some(input => input.prevout.scriptpubkey_type === 'v1_p2tr');\n}\n\n// Check if the spendable amount drops when adding a utxo. If it drops, don't use that utxo.\n// Method might be not particularly efficient as it would\n// go through the utxo array multiple times, but it's reliable.\nexport function filterUneconomicalUtxos({\n  utxos,\n  feeRate,\n  recipients,\n}: {\n  utxos: UtxoResponseItem[];\n  feeRate: number;\n  recipients: TransferRecipient[];\n}) {\n  const { spendableAmount: fullSpendableAmount } = getSpendableAmount({\n    utxos,\n    feeRate,\n    recipients,\n  });\n\n  const filteredUtxos = utxos\n    .filter(utxo => utxo.value >= BTC_P2WPKH_DUST_AMOUNT)\n    .filter(utxo => {\n      // calculate spendableAmount without that utxo.\n      const { spendableAmount } = getSpendableAmount({\n        utxos: utxos.filter(u => u.txid !== utxo.txid),\n        feeRate,\n        recipients,\n      });\n      // if spendable amount becomes bigger, do not use that utxo\n      return spendableAmount.toNumber() < fullSpendableAmount.toNumber();\n    });\n  return filteredUtxos;\n}\n\nexport function getBitcoinTxSizeEstimation(payload: {\n  inputCount: number;\n  outputCount: number;\n  recipient: string;\n}) {\n  const { inputCount, recipient, outputCount } = payload;\n  const addressInfo = validate(recipient) ? getAddressInfo(recipient) : null;\n  const outputAddressTypeWithFallback = addressInfo ? addressInfo.type : 'p2wpkh';\n\n  const txSizer = new BtcSizeFeeEstimator();\n  const sizeInfo = txSizer.calcTxSize({\n    // Only p2wpkh is supported by the wallet\n    input_script: 'p2wpkh',\n    input_count: inputCount,\n    // From the address of the recipient, we infer the output type\n    [outputAddressTypeWithFallback + '_output_count']: outputCount,\n  });\n\n  return sizeInfo;\n}\n\nexport function getRecipientAddressFromOutput(\n  vout: BitcoinTransactionVectorOutput[],\n  currentBitcoinAddress: string\n) {\n  return vout.find(output => output.scriptpubkey_address !== currentBitcoinAddress)\n    ?.scriptpubkey_address;\n}\n\nexport const getBitcoinTxCaption = (transaction?: BitcoinTx) =>\n  transaction ? truncateMiddle(transaction.txid, 4) : '';\n\n// If vin array contains a prevout with a scriptpubkey_address equal to\n// the address, then that is the current address making a `Sent` tx (-)\n// and the value of the prevout is the tx amount\nconst transactionsSentByAddress = (address: string, transaction: BitcoinTx) =>\n  transaction.vin.filter(input => input.prevout.scriptpubkey_address === address);\n\n// If vout array contains a scriptpubkey_address equal to the address,\n// then that is a `Receive` tx (+) and the value is the tx amount\nconst transactionsReceivedByAddress = (address: string, transaction: BitcoinTx) =>\n  transaction.vout.filter(output => output.scriptpubkey_address === address);\n\nexport function isBitcoinTxInbound(address: string, transaction: BitcoinTx) {\n  const inputs = transactionsSentByAddress(address, transaction);\n  const outputs = transactionsReceivedByAddress(address, transaction);\n\n  if (inputs.length && outputs.length) return false;\n  if (inputs.length) return false;\n  return true;\n}\n\nexport function getBitcoinTxValue(address: string, transaction?: BitcoinTx) {\n  if (!transaction) return '';\n  const inputs = transactionsSentByAddress(address, transaction);\n  const outputs = transactionsReceivedByAddress(address, transaction);\n  const vinPrevoutValues = inputs.map(vin => vin.prevout.value);\n  const voutValues = outputs.map(vout => vout.value);\n  const totalInputValue = satToBtc(sumNumbers(vinPrevoutValues));\n  const totalOutputValue = satToBtc(sumNumbers(voutValues));\n\n  // This condition handles when change is sent back to the sender address\n  const totalInputValueWithSubtractedOutputChange = totalInputValue.minus(totalOutputValue);\n  if (inputs.length && outputs.length)\n    return '-' + totalInputValueWithSubtractedOutputChange.toString();\n\n  if (inputs.length) return '-' + totalInputValue.toString();\n  if (outputs.length) return totalOutputValue.toString();\n  return '';\n}\n\nexport function getSpendableAmount({\n  utxos,\n  feeRate,\n  recipients,\n}: {\n  utxos: UtxoResponseItem[];\n  feeRate: number;\n  recipients: TransferRecipient[];\n}) {\n  const balance = utxos.map(utxo => utxo.value).reduce((prevVal, curVal) => prevVal + curVal, 0);\n\n  const size = getSizeInfo({\n    inputLength: utxos.length,\n    recipients,\n  });\n  const fee = Math.ceil(size.txVBytes * feeRate);\n  const bigNumberBalance = BigNumber(balance);\n  return {\n    spendableAmount: BigNumber.max(0, bigNumberBalance.minus(fee)),\n    fee,\n  };\n}\n\nexport function getSizeInfo(payload: {\n  inputLength: number;\n  recipients: TransferRecipient[];\n  isSendMax?: boolean;\n}) {\n  const { inputLength, recipients, isSendMax } = payload;\n\n  const validAddressesInfo = recipients\n    .map(recipient => validate(recipient.address) && getAddressInfo(recipient.address))\n    .filter(Boolean) as AddressInfo[];\n\n  function getTxOutputsLengthByPaymentType() {\n    return validAddressesInfo.reduce(\n      (acc, { type }) => {\n        acc[type] = (acc[type] || 0) + 1;\n        return acc;\n      },\n      {} as Record<AddressType, number>\n    );\n  }\n\n  const outputTypesCount = getTxOutputsLengthByPaymentType();\n\n  // Add a change address if not sending max (defaults to p2wpkh)\n  if (!isSendMax) {\n    outputTypesCount[AddressType.p2wpkh] = (outputTypesCount[AddressType.p2wpkh] || 0) + 1;\n  }\n\n  // Prepare the output data map for consumption by the txSizer\n  const outputsData = Object.entries(outputTypesCount).reduce(\n    (acc, [type, count]) => {\n      acc[type + '_output_count'] = count;\n      return acc;\n    },\n    {} as Record<string, number>\n  );\n\n  const txSizer = new BtcSizeFeeEstimator();\n  const sizeInfo = txSizer.calcTxSize({\n    input_script: 'p2wpkh',\n    input_count: inputLength,\n    ...outputsData,\n  });\n\n  return sizeInfo;\n}\n","import BigNumber from 'bignumber.js';\nimport { validate } from 'bitcoin-address-validation';\n\nimport { BTC_P2WPKH_DUST_AMOUNT } from '@leather.io/constants';\nimport type { UtxoResponseItem } from '@leather.io/query';\nimport { sumMoney, sumNumbers } from '@leather.io/utils';\n\nimport type { TransferRecipient } from '@shared/models/form.model';\n\nimport { filterUneconomicalUtxos, getSizeInfo } from '../utils';\n\nexport class InsufficientFundsError extends Error {\n  constructor() {\n    super('Insufficient funds');\n  }\n}\n\ninterface Output {\n  value: bigint;\n  address?: string;\n}\n\nexport interface DetermineUtxosForSpendArgs {\n  feeRate: number;\n  recipients: TransferRecipient[];\n  utxos: UtxoResponseItem[];\n}\n\nfunction getUtxoTotal(utxos: UtxoResponseItem[]) {\n  return sumNumbers(utxos.map(utxo => utxo.value));\n}\n\nexport function determineUtxosForSpendAll({\n  feeRate,\n  recipients,\n  utxos,\n}: DetermineUtxosForSpendArgs) {\n  recipients.forEach(recipient => {\n    if (!validate(recipient.address))\n      throw new Error('Cannot calculate spend of invalid address type');\n  });\n  const filteredUtxos = filterUneconomicalUtxos({ utxos, feeRate, recipients });\n\n  const sizeInfo = getSizeInfo({\n    inputLength: filteredUtxos.length,\n    isSendMax: true,\n    recipients,\n  });\n\n  // Fee has already been deducted from the amount with send all\n  const outputs = recipients.map(({ address, amount }) => ({\n    value: BigInt(amount.amount.toNumber()),\n    address,\n  }));\n\n  const fee = Math.ceil(sizeInfo.txVBytes * feeRate);\n\n  return {\n    inputs: filteredUtxos,\n    outputs,\n    size: sizeInfo.txVBytes,\n    fee,\n  };\n}\n\nexport function determineUtxosForSpend({ feeRate, recipients, utxos }: DetermineUtxosForSpendArgs) {\n  recipients.forEach(recipient => {\n    if (!validate(recipient.address))\n      throw new Error('Cannot calculate spend of invalid address type');\n  });\n  const filteredUtxos = filterUneconomicalUtxos({\n    utxos: utxos.sort((a, b) => b.value - a.value),\n    feeRate,\n    recipients,\n  });\n  if (!filteredUtxos.length) throw new InsufficientFundsError();\n\n  const amount = sumMoney(recipients.map(recipient => recipient.amount));\n\n  // Prepopulate with first UTXO, at least one is needed\n  const neededUtxos: UtxoResponseItem[] = [filteredUtxos[0]];\n\n  function estimateTransactionSize() {\n    return getSizeInfo({\n      inputLength: neededUtxos.length,\n      recipients,\n    });\n  }\n\n  function hasSufficientUtxosForTx() {\n    const txEstimation = estimateTransactionSize();\n    const neededAmount = new BigNumber(txEstimation.txVBytes * feeRate).plus(amount.amount);\n    return getUtxoTotal(neededUtxos).isGreaterThanOrEqualTo(neededAmount);\n  }\n\n  function getRemainingUnspentUtxos() {\n    return filteredUtxos.filter(utxo => !neededUtxos.includes(utxo));\n  }\n\n  while (!hasSufficientUtxosForTx()) {\n    const [nextUtxo] = getRemainingUnspentUtxos();\n    if (!nextUtxo) throw new InsufficientFundsError();\n    neededUtxos.push(nextUtxo);\n  }\n\n  const fee = Math.ceil(\n    new BigNumber(estimateTransactionSize().txVBytes).multipliedBy(feeRate).toNumber()\n  );\n\n  const changeAmount =\n    BigInt(getUtxoTotal(neededUtxos).toString()) - BigInt(amount.amount.toNumber()) - BigInt(fee);\n\n  const changeUtxos: Output[] =\n    changeAmount > BTC_P2WPKH_DUST_AMOUNT\n      ? [\n          {\n            value: changeAmount,\n          },\n        ]\n      : [];\n\n  const outputs: Output[] = [\n    ...recipients.map(({ address, amount }) => ({\n      value: BigInt(amount.amount.toNumber()),\n      address,\n    })),\n    ...changeUtxos,\n  ];\n\n  return {\n    filteredUtxos,\n    inputs: neededUtxos,\n    outputs,\n    size: estimateTransactionSize().txVBytes,\n    fee,\n    ...estimateTransactionSize(),\n  };\n}\n","import { Flex, styled } from 'leather-styles/jsx';\n\ninterface BitcoinCustomFeeFiatProps {\n  feeInBtc: string;\n  fiatFeeValue: string;\n}\n\nexport function BitcoinCustomFeeFiat({ feeInBtc, fiatFeeValue }: BitcoinCustomFeeFiatProps) {\n  return (\n    <Flex justifyContent=\"space-between\">\n      <styled.span color=\"ink.text-subdued\" textStyle=\"body.02\">\n        {fiatFeeValue}\n      </styled.span>\n      <styled.span color=\"ink.text-subdued\" textStyle=\"body.02\">\n        {feeInBtc} BTC\n      </styled.span>\n    </Flex>\n  );\n}\n","import { useNativeSegwitUtxosByAddress } from '@leather.io/query';\n\nimport { useCurrentAccountNativeSegwitIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\n\nconst defaultArgs = {\n  filterInscriptionUtxos: true,\n  filterPendingTxsUtxos: true,\n  filterRunesUtxos: true,\n};\n\n/**\n * Warning:  To avoid spending inscriptions, when using UTXOs\n * we set `filterInscriptionUtxos` and `filterPendingTxsUtxos` to true\n */\nexport function useCurrentNativeSegwitUtxos(args = defaultArgs) {\n  const { filterInscriptionUtxos, filterPendingTxsUtxos, filterRunesUtxos } = args;\n\n  const nativeSegwitSigner = useCurrentAccountNativeSegwitIndexZeroSigner();\n  const address = nativeSegwitSigner.address;\n\n  return useNativeSegwitUtxosByAddress({\n    address,\n    filterInscriptionUtxos,\n    filterPendingTxsUtxos,\n    filterRunesUtxos,\n  });\n}\n","import { useCallback } from 'react';\n\nimport { useCryptoCurrencyMarketDataMeanAverage } from '@leather.io/query';\nimport { baseCurrencyAmountInQuote, createMoney, i18nFormatCurrency } from '@leather.io/utils';\n\nimport type { TransferRecipient } from '@shared/models/form.model';\n\nimport {\n  type DetermineUtxosForSpendArgs,\n  determineUtxosForSpend,\n  determineUtxosForSpendAll,\n} from '@app/common/transactions/bitcoin/coinselect/local-coin-selection';\nimport { useCurrentNativeSegwitUtxos } from '@app/query/bitcoin/address/utxos-by-address.hooks';\n\nexport const MAX_FEE_RATE_MULTIPLIER = 50;\n\ninterface UseBitcoinCustomFeeArgs {\n  isSendingMax: boolean;\n  recipients: TransferRecipient[];\n}\n\nexport function useBitcoinCustomFee({ isSendingMax, recipients }: UseBitcoinCustomFeeArgs) {\n  const { data: utxos = [] } = useCurrentNativeSegwitUtxos();\n  const btcMarketData = useCryptoCurrencyMarketDataMeanAverage('BTC');\n\n  return useCallback(\n    (feeRate: number) => {\n      if (!feeRate || !utxos.length) return { fee: 0, fiatFeeValue: '' };\n\n      const determineUtxosArgs: DetermineUtxosForSpendArgs = {\n        recipients,\n        utxos,\n        feeRate,\n      };\n      const { fee } = isSendingMax\n        ? determineUtxosForSpendAll(determineUtxosArgs)\n        : determineUtxosForSpend(determineUtxosArgs);\n\n      return {\n        fee,\n        fiatFeeValue: `~ ${i18nFormatCurrency(\n          baseCurrencyAmountInQuote(createMoney(Math.ceil(fee), 'BTC'), btcMarketData)\n        )}`,\n      };\n    },\n    [utxos, isSendingMax, recipients, btcMarketData]\n  );\n}\n","import { useState } from 'react';\n\nimport { useField } from 'formik';\nimport { Stack } from 'leather-styles/jsx';\n\nimport { Input } from '@leather.io/ui';\nimport { satToBtc } from '@leather.io/utils';\n\nimport type { TransferRecipient } from '@shared/models/form.model';\n\nimport { useOnMount } from '@app/common/hooks/use-on-mount';\nimport { InsufficientFundsError } from '@app/common/transactions/bitcoin/coinselect/local-coin-selection';\n\nimport { ErrorLabel } from '../error-label';\nimport { BitcoinCustomFeeFiat } from './bitcoin-custom-fee-fiat';\nimport { useBitcoinCustomFee } from './hooks/use-bitcoin-custom-fee';\n\nconst feeInputLabel = 'sats/vB';\n\ninterface Props {\n  onClick?(): void;\n  isSendingMax: boolean;\n  recipients: TransferRecipient[];\n  hasInsufficientBalanceError: boolean;\n  errorMessage?: string;\n  setCustomFeeInitialValue?(value: string): void;\n  customFeeInitialValue: string;\n}\n\nexport function BitcoinCustomFeeInput({\n  onClick,\n  isSendingMax,\n  recipients,\n  hasInsufficientBalanceError,\n  setCustomFeeInitialValue,\n  customFeeInitialValue,\n}: Props) {\n  const [field] = useField('feeRate');\n\n  const [feeValue, setFeeValue] = useState<null | {\n    fee: number;\n    fiatFeeValue: string;\n  }>(null);\n\n  const getCustomFeeValues = useBitcoinCustomFee({\n    isSendingMax,\n    recipients,\n  });\n  const [unknownError, setUnknownError] = useState(false);\n  const [customInsufficientBalanceError, setCustomInsufficientBalanceError] = useState(false);\n\n  const hasError = hasInsufficientBalanceError || unknownError || customInsufficientBalanceError;\n  const errorMessage =\n    hasInsufficientBalanceError || customInsufficientBalanceError\n      ? 'Insufficient funds'\n      : 'Unknown error';\n\n  function processFeeValue(feeRate: string) {\n    try {\n      const feeValues = getCustomFeeValues(Number(feeRate));\n      setFeeValue(feeValues);\n\n      setUnknownError(false);\n      setCustomInsufficientBalanceError(false);\n    } catch (err) {\n      if (err instanceof InsufficientFundsError) {\n        return setCustomInsufficientBalanceError(true);\n      }\n\n      setUnknownError(true);\n    }\n  }\n\n  function onChange(e: React.ChangeEvent<HTMLInputElement>) {\n    const value = e.target.value;\n    setCustomFeeInitialValue?.(e.target.value);\n    processFeeValue(value);\n  }\n\n  useOnMount(() => {\n    processFeeValue(customFeeInitialValue);\n  });\n  return (\n    <Stack gap=\"space.05\">\n      <Stack>\n        <Input.Root hasError={hasError}>\n          <Input.Label>{feeInputLabel}</Input.Label>\n          <Input.Field\n            onClick={onClick}\n            {...field}\n            onChange={e => {\n              field.onChange(e);\n              onChange?.(e);\n            }}\n          />\n        </Input.Root>\n        {hasError && <ErrorLabel>{errorMessage}</ErrorLabel>}\n      </Stack>\n\n      {!hasError && feeValue && (\n        <BitcoinCustomFeeFiat\n          feeInBtc={satToBtc(feeValue.fee).toString()}\n          fiatFeeValue={feeValue.fiatFeeValue}\n        />\n      )}\n    </Stack>\n  );\n}\n","import { useCallback } from 'react';\n\nimport { makeBitcoinTxExplorerLink } from '@app/common/utils';\nimport { useCurrentNetworkState } from '@app/store/networks/networks.hooks';\n\nimport { openInNewTab } from '../utils/open-in-new-tab';\n\ninterface HandleOpenBitcoinTxLinkArgs {\n  txid: string;\n}\n\nexport function useBitcoinExplorerLink() {\n  const { chain } = useCurrentNetworkState();\n  const { bitcoin } = chain;\n  const handleOpenBitcoinTxLink = useCallback(\n    ({ txid }: HandleOpenBitcoinTxLinkArgs) => {\n      openInNewTab(makeBitcoinTxExplorerLink({ txid, bitcoin }));\n    },\n    [bitcoin]\n  );\n\n  return {\n    handleOpenBitcoinTxLink,\n  };\n}\n","import { HStack, styled } from 'leather-styles/jsx';\n\nimport { ChevronsRightIcon } from '@leather.io/ui';\n\ninterface IncreaseFeeButtonProps {\n  isEnabled?: boolean;\n  isSelected: boolean;\n  onIncreaseFee(): void;\n}\nexport function IncreaseFeeButton(props: IncreaseFeeButtonProps) {\n  const { isEnabled, isSelected, onIncreaseFee } = props;\n  const isActive = isEnabled && !isSelected;\n\n  return (\n    <styled.button\n      _hover={{ color: 'ink.text-subdued' }}\n      bg=\"ink.background-primary\"\n      onClick={e => {\n        onIncreaseFee();\n        e.stopPropagation();\n      }}\n      opacity={!isActive ? 0 : 1}\n      pointerEvents={!isActive ? 'none' : 'all'}\n      position=\"relative\"\n      px=\"space.02\"\n      rounded=\"xs\"\n      zIndex={999}\n    >\n      <HStack gap=\"space.01\">\n        <ChevronsRightIcon color=\"stacks\" variant=\"small\" />\n        <styled.span textStyle=\"label.03\">Increase fee</styled.span>\n      </HStack>\n    </styled.button>\n  );\n}\n","import { useRef, useState } from 'react';\n\nimport { Title } from '@leather.io/ui';\nimport { spamFilter } from '@leather.io/utils';\n\nimport { useOnResizeListener } from '@app/common/hooks/use-on-resize-listener';\nimport { BasicTooltip } from '@app/ui/components/tooltip/basic-tooltip';\n\ninterface TransactionTitleProps {\n  title: string;\n}\nexport function TransactionTitle(props: TransactionTitleProps) {\n  const { title } = props;\n  const ref = useRef<HTMLDivElement | null>(null);\n  const element = ref.current!;\n  const [isEllipsisActive, setIsEllipsisActive] = useState(\n    element?.scrollWidth > element?.clientWidth\n  );\n  const onResize = () => setIsEllipsisActive(element?.scrollWidth > element?.clientWidth);\n\n  useOnResizeListener(onResize);\n\n  return (\n    <BasicTooltip disabled={!isEllipsisActive} label={title} side=\"top\">\n      <Title\n        overflow=\"hidden\"\n        ref={ref}\n        textOverflow=\"ellipsis\"\n        textStyle=\"label.02\"\n        whiteSpace=\"nowrap\"\n      >\n        {spamFilter(title)}\n      </Title>\n    </BasicTooltip>\n  );\n}\n","import { ReactNode } from 'react';\n\nimport { HStack } from 'leather-styles/jsx';\n\nimport { Caption, ItemLayout, Pressable } from '@leather.io/ui';\n\nimport { PrivateTextLayout } from '@app/components/privacy/private-text.layout';\n\ninterface TransactionItemLayoutProps {\n  openTxLink(): void;\n  rightElement?: ReactNode;\n  txCaption: ReactNode;\n  txTitle: ReactNode;\n  txValue: ReactNode;\n  txIcon?: ReactNode;\n  txStatus?: ReactNode;\n  children?: ReactNode;\n  isPrivate?: boolean;\n}\n\nfunction TxValue({ txValue, isPrivate }: { txValue: ReactNode; isPrivate?: boolean }) {\n  return (\n    <PrivateTextLayout isPrivate={isPrivate} textStyle=\"label.02\" px=\"space.02\">\n      {txValue}\n    </PrivateTextLayout>\n  );\n}\n\nexport function TransactionItemLayout({\n  openTxLink,\n  rightElement,\n  txCaption,\n  txIcon,\n  txStatus,\n  txTitle,\n  txValue,\n  isPrivate,\n}: TransactionItemLayoutProps) {\n  return (\n    <Pressable onClick={openTxLink} my=\"space.02\">\n      <ItemLayout\n        img={txIcon && txIcon}\n        titleLeft={txTitle}\n        captionLeft={\n          <HStack alignItems=\"center\">\n            <Caption\n              overflow=\"hidden\"\n              textOverflow=\"ellipsis\"\n              maxWidth={{ base: '160px', md: 'unset' }}\n            >\n              {txCaption}\n            </Caption>\n            {txStatus && txStatus}\n          </HStack>\n        }\n        titleRight={<TxValue txValue={txValue} isPrivate={isPrivate} />}\n        captionRight={rightElement}\n      />\n    </Pressable>\n  );\n}\n","import { Circle, CircleProps, Flex } from 'leather-styles/jsx';\n\nimport type { BitcoinTx } from '@leather.io/models';\nimport { ArrowDownIcon, ArrowUpIcon } from '@leather.io/ui';\n\nimport { isBitcoinTxInbound } from '@app/common/transactions/bitcoin/utils';\n\nfunction TxStatusIcon(props: { address: string; tx: BitcoinTx }) {\n  const { address, tx } = props;\n  if (isBitcoinTxInbound(address, tx))\n    return <ArrowDownIcon color=\"ink.background-primary\" variant=\"small\" />;\n  return <ArrowUpIcon color=\"ink.background-primary\" variant=\"small\" />;\n}\n\ninterface TransactionIconProps extends CircleProps {\n  transaction: BitcoinTx;\n  btcAddress: string;\n  icon: React.ReactNode;\n}\nexport function BitcoinTransactionIcon({\n  transaction,\n  btcAddress,\n  icon,\n  ...props\n}: TransactionIconProps) {\n  return (\n    <Flex position=\"relative\">\n      {icon}\n      <Circle\n        bottom=\"-2px\"\n        right=\"-9px\"\n        position=\"absolute\"\n        size=\"21px\"\n        bg={transaction.status.confirmed ? 'stacks' : 'yellow.action-primary-default'}\n        color=\"ink.background-primary\"\n        border=\"background\"\n        {...props}\n      >\n        <TxStatusIcon address={btcAddress} tx={transaction} />\n      </Circle>\n    </Flex>\n  );\n}\n","import { Circle } from 'leather-styles/jsx';\n\nimport type { Inscription } from '@leather.io/models';\nimport { OrdinalAvatarIcon } from '@leather.io/ui';\n\nexport function InscriptionIcon({ inscription, ...rest }: { inscription: Inscription }) {\n  switch (inscription.mimeType) {\n    case 'image':\n      return (\n        <Circle\n          bg=\"stacks\"\n          color=\"ink.background-primary\"\n          flexShrink={0}\n          position=\"relative\"\n          size=\"xl\"\n          {...rest}\n        >\n          <img\n            src={inscription.src}\n            style={{\n              width: '100%',\n              height: '100%',\n              aspectRatio: '1 / 1',\n              objectFit: 'cover',\n              borderRadius: '6px',\n            }}\n          />\n        </Circle>\n      );\n    default:\n      return <OrdinalAvatarIcon />;\n  }\n}\n","import type { BitcoinTx } from '@leather.io/models';\nimport { Caption } from '@leather.io/ui';\n\nimport { BasicTooltip } from '@app/ui/components/tooltip/basic-tooltip';\n\ninterface BitcoinTransactionStatusProps {\n  transaction: BitcoinTx;\n}\nconst pendingWaitingMessage =\n  'This transaction is waiting to be confirmed. The average (median) confirmation time on Bitcoin is 5-10 minutes';\n\nexport function BitcoinTransactionStatus({ transaction }: BitcoinTransactionStatusProps) {\n  const isPending = !transaction.status.confirmed;\n  return isPending ? (\n    <BasicTooltip asChild label={pendingWaitingMessage} side=\"bottom\">\n      <Caption color=\"yellow.action-primary-default\">Pending</Caption>\n    </BasicTooltip>\n  ) : null;\n}\n","import { useMemo } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nimport { HStack } from 'leather-styles/jsx';\n\nimport type { BitcoinTx } from '@leather.io/models';\nimport { useInscriptionByOutput } from '@leather.io/query';\nimport { BtcAvatarIcon, BulletSeparator, Caption } from '@leather.io/ui';\n\nimport { RouteUrls } from '@shared/route-urls';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useBitcoinExplorerLink } from '@app/common/hooks/use-bitcoin-explorer-link';\nimport {\n  containsTaprootInput,\n  getBitcoinTxCaption,\n  getBitcoinTxValue,\n  isBitcoinTxInbound,\n} from '@app/common/transactions/bitcoin/utils';\nimport { openInNewTab } from '@app/common/utils/open-in-new-tab';\nimport { IncreaseFeeButton } from '@app/components/stacks-transaction-item/increase-fee-button';\nimport { TransactionTitle } from '@app/components/transaction/transaction-title';\nimport { useCurrentAccountNativeSegwitAddressIndexZero } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useIsPrivateMode } from '@app/store/settings/settings.selectors';\n\nimport { TransactionItemLayout } from '../transaction-item/transaction-item.layout';\nimport { BitcoinTransactionIcon } from './bitcoin-transaction-icon';\nimport { InscriptionIcon } from './bitcoin-transaction-inscription-icon';\nimport { BitcoinTransactionStatus } from './bitcoin-transaction-status';\n\ninterface BitcoinTransactionItemProps {\n  transaction: BitcoinTx;\n}\nexport function BitcoinTransactionItem({ transaction }: BitcoinTransactionItemProps) {\n  const { pathname } = useLocation();\n  const navigate = useNavigate();\n  const isPrivate = useIsPrivateMode();\n\n  const { data: inscriptionData } = useInscriptionByOutput(transaction);\n\n  const bitcoinAddress = useCurrentAccountNativeSegwitAddressIndexZero();\n  const { handleOpenBitcoinTxLink: handleOpenTxLink } = useBitcoinExplorerLink();\n  const caption = useMemo(() => getBitcoinTxCaption(transaction), [transaction]);\n  const value = useMemo(\n    () => getBitcoinTxValue(bitcoinAddress, transaction),\n    [bitcoinAddress, transaction]\n  );\n\n  if (!transaction) return null;\n\n  const onIncreaseFee = () => {\n    navigate(RouteUrls.IncreaseBtcFee, { state: { btcTx: transaction } });\n  };\n\n  const openTxLink = () => {\n    void analytics.track('view_bitcoin_transaction');\n    if (inscriptionData) {\n      openInNewTab(inscriptionData.id);\n      return;\n    }\n    handleOpenTxLink({ txid: transaction?.txid || '' });\n  };\n\n  const isOriginator = !isBitcoinTxInbound(bitcoinAddress, transaction);\n  const isEnabled =\n    isOriginator && !transaction.status.confirmed && !containsTaprootInput(transaction);\n\n  const txCaption = (\n    <HStack gap=\"space.02\">\n      <BulletSeparator>\n        <Caption>{caption}</Caption>\n        {inscriptionData ? <Caption>{inscriptionData.mimeType}</Caption> : null}\n      </BulletSeparator>\n    </HStack>\n  );\n\n  const title = inscriptionData ? `Ordinal inscription #${inscriptionData.number}` : 'Bitcoin';\n  const increaseFeeButton = (\n    <IncreaseFeeButton\n      isEnabled={isEnabled}\n      isSelected={pathname === RouteUrls.IncreaseBtcFee}\n      onIncreaseFee={onIncreaseFee}\n    />\n  );\n\n  return (\n    <TransactionItemLayout\n      openTxLink={openTxLink}\n      rightElement={isEnabled ? increaseFeeButton : undefined}\n      txCaption={txCaption}\n      txIcon={\n        <BitcoinTransactionIcon\n          icon={\n            inscriptionData ? <InscriptionIcon inscription={inscriptionData} /> : <BtcAvatarIcon />\n          }\n          transaction={transaction}\n          btcAddress={bitcoinAddress}\n        />\n      }\n      txStatus={<BitcoinTransactionStatus transaction={transaction} />}\n      txTitle={<TransactionTitle title={title} />}\n      txValue={value}\n      isPrivate={isPrivate}\n    />\n  );\n}\n","import { useFormikContext } from 'formik';\n\nimport { Button } from '@leather.io/ui';\n\nimport { useWalletType } from '@app/common/use-wallet-type';\nimport { ButtonRow } from '@app/components/layout';\n\ninterface IncreaseFeeActionsProps {\n  isBroadcasting?: boolean;\n  isDisabled?: boolean;\n  isLoading?: boolean;\n  onCancel(): void;\n}\nexport function IncreaseFeeActions(props: IncreaseFeeActionsProps) {\n  const { isBroadcasting, isDisabled, isLoading, onCancel } = props;\n\n  const { handleSubmit } = useFormikContext();\n  const { whenWallet } = useWalletType();\n\n  const actionText = whenWallet({ ledger: 'Confirm on Ledger', software: 'Submit' });\n\n  return (\n    <ButtonRow flexDirection=\"row\">\n      <Button onClick={onCancel} variant=\"outline\" flexGrow={1}>\n        Cancel\n      </Button>\n      <Button\n        type=\"submit\"\n        onClick={handleSubmit as any}\n        aria-busy={isLoading || isBroadcasting}\n        borderRadius=\"sm\"\n        aria-disabled={isDisabled}\n        disabled={isDisabled}\n        flexGrow={1}\n      >\n        {actionText}\n      </Button>\n    </ButtonRow>\n  );\n}\n","import { useMemo } from 'react';\n\nimport { BtcFeeType, Money, btcTxTimeMap } from '@leather.io/models';\nimport {\n  type UtxoResponseItem,\n  useAverageBitcoinFeeRates,\n  useCryptoCurrencyMarketDataMeanAverage,\n} from '@leather.io/query';\nimport {\n  baseCurrencyAmountInQuote,\n  createMoney,\n  formatMoneyPadded,\n  i18nFormatCurrency,\n} from '@leather.io/utils';\n\nimport {\n  DetermineUtxosForSpendArgs,\n  determineUtxosForSpend,\n  determineUtxosForSpendAll,\n} from '@app/common/transactions/bitcoin/coinselect/local-coin-selection';\nimport { useCurrentBtcCryptoAssetBalanceNativeSegwit } from '@app/query/bitcoin/balance/btc-balance-native-segwit.hooks';\n\nimport { FeesListItem } from './bitcoin-fees-list';\n\nfunction getFeeForList(\n  determineUtxosForFeeArgs: DetermineUtxosForSpendArgs,\n  isSendingMax?: boolean\n) {\n  try {\n    const { fee } = isSendingMax\n      ? determineUtxosForSpendAll(determineUtxosForFeeArgs)\n      : determineUtxosForSpend(determineUtxosForFeeArgs);\n    return fee;\n  } catch (error) {\n    return null;\n  }\n}\n\ninterface UseBitcoinFeesListArgs {\n  amount: Money;\n  isSendingMax?: boolean;\n  recipient: string;\n  utxos: UtxoResponseItem[];\n}\nexport function useBitcoinFeesList({\n  amount,\n  isSendingMax,\n  recipient,\n  utxos,\n}: UseBitcoinFeesListArgs) {\n  const { balance } = useCurrentBtcCryptoAssetBalanceNativeSegwit();\n  const btcMarketData = useCryptoCurrencyMarketDataMeanAverage('BTC');\n  const { data: feeRates, isLoading } = useAverageBitcoinFeeRates();\n\n  const feesList: FeesListItem[] = useMemo(() => {\n    function getFiatFeeValue(fee: number) {\n      return `~ ${i18nFormatCurrency(\n        baseCurrencyAmountInQuote(createMoney(Math.ceil(fee), 'BTC'), btcMarketData)\n      )}`;\n    }\n\n    if (!feeRates || !utxos.length) return [];\n\n    const determineUtxosDefaultArgs = {\n      recipients: [\n        { address: recipient, amount: isSendingMax ? balance.availableBalance : amount },\n      ],\n      utxos,\n    };\n\n    const determineUtxosForHighFeeArgs = {\n      ...determineUtxosDefaultArgs,\n      feeRate: feeRates.fastestFee.toNumber(),\n    };\n\n    const determineUtxosForStandardFeeArgs = {\n      ...determineUtxosDefaultArgs,\n      feeRate: feeRates.halfHourFee.toNumber(),\n    };\n\n    const determineUtxosForLowFeeArgs = {\n      ...determineUtxosDefaultArgs,\n      feeRate: feeRates.hourFee.toNumber(),\n    };\n\n    const feesArr = [];\n\n    const highFeeValue = getFeeForList(determineUtxosForHighFeeArgs, isSendingMax);\n    const standardFeeValue = getFeeForList(determineUtxosForStandardFeeArgs, isSendingMax);\n    const lowFeeValue = getFeeForList(determineUtxosForLowFeeArgs, isSendingMax);\n\n    if (highFeeValue) {\n      feesArr.push({\n        label: BtcFeeType.High,\n        value: highFeeValue,\n        btcValue: formatMoneyPadded(createMoney(highFeeValue, 'BTC')),\n        time: btcTxTimeMap.fastestFee,\n        fiatValue: getFiatFeeValue(highFeeValue),\n        feeRate: feeRates.fastestFee.toNumber(),\n      });\n    }\n\n    if (standardFeeValue) {\n      feesArr.push({\n        label: BtcFeeType.Standard,\n        value: standardFeeValue,\n        btcValue: formatMoneyPadded(createMoney(standardFeeValue, 'BTC')),\n        time: btcTxTimeMap.halfHourFee,\n        fiatValue: getFiatFeeValue(standardFeeValue),\n        feeRate: feeRates.halfHourFee.toNumber(),\n      });\n    }\n\n    if (lowFeeValue) {\n      feesArr.push({\n        label: BtcFeeType.Low,\n        value: lowFeeValue,\n        btcValue: formatMoneyPadded(createMoney(lowFeeValue, 'BTC')),\n        time: btcTxTimeMap.hourFee,\n        fiatValue: getFiatFeeValue(lowFeeValue),\n        feeRate: feeRates.hourFee.toNumber(),\n      });\n    }\n\n    return feesArr;\n  }, [feeRates, utxos, recipient, isSendingMax, balance.availableBalance, amount, btcMarketData]);\n\n  return {\n    feesList,\n    isLoading,\n  };\n}\n","import { useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport * as btc from '@scure/btc-signer';\nimport BigNumber from 'bignumber.js';\nimport * as yup from 'yup';\n\nimport type { BitcoinTx } from '@leather.io/models';\nimport { useBitcoinBroadcastTransaction } from '@leather.io/query';\nimport { btcToSat, createMoney, isError } from '@leather.io/utils';\n\nimport { RouteUrls } from '@shared/route-urls';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { queryClient } from '@app/common/persistence';\nimport {\n  getBitcoinTxSizeEstimation,\n  getBitcoinTxValue,\n  getRecipientAddressFromOutput,\n} from '@app/common/transactions/bitcoin/utils';\nimport { MAX_FEE_RATE_MULTIPLIER } from '@app/components/bitcoin-custom-fee/hooks/use-bitcoin-custom-fee';\nimport { useBitcoinFeesList } from '@app/components/bitcoin-fees-list/use-bitcoin-fees-list';\nimport { useToast } from '@app/features/toasts/use-toast';\nimport { useCurrentNativeSegwitUtxos } from '@app/query/bitcoin/address/utxos-by-address.hooks';\nimport { useBtcCryptoAssetBalanceNativeSegwit } from '@app/query/bitcoin/balance/btc-balance-native-segwit.hooks';\nimport { useBitcoinScureLibNetworkConfig } from '@app/store/accounts/blockchain/bitcoin/bitcoin-keychain';\nimport { useSignBitcoinTx } from '@app/store/accounts/blockchain/bitcoin/bitcoin.hooks';\nimport { useCurrentAccountNativeSegwitIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\n\nexport function useBtcIncreaseFee(btcTx: BitcoinTx) {\n  const toast = useToast();\n  const navigate = useNavigate();\n  const networkMode = useBitcoinScureLibNetworkConfig();\n\n  const { address: currentBitcoinAddress, publicKey } =\n    useCurrentAccountNativeSegwitIndexZeroSigner();\n  const { data: utxos = [], filteredUtxosQuery } = useCurrentNativeSegwitUtxos();\n  const signTransaction = useSignBitcoinTx();\n  const { broadcastTx, isBroadcasting } = useBitcoinBroadcastTransaction();\n  const recipient = getRecipientAddressFromOutput(btcTx.vout, currentBitcoinAddress) || '';\n\n  const sizeInfo = useMemo(\n    () =>\n      getBitcoinTxSizeEstimation({\n        inputCount: btcTx.vin.length,\n        recipient,\n        outputCount: btcTx.vout.length,\n      }),\n    [btcTx.vin.length, btcTx.vout.length, recipient]\n  );\n\n  const { balance } = useBtcCryptoAssetBalanceNativeSegwit(currentBitcoinAddress);\n  const sendingAmount = getBitcoinTxValue(currentBitcoinAddress, btcTx);\n  const { feesList } = useBitcoinFeesList({\n    amount: createMoney(btcToSat(sendingAmount), 'BTC'),\n    isSendingMax: false,\n    recipient,\n    utxos,\n  });\n\n  function generateUnsignedTx(payload: { feeRate: string; tx: BitcoinTx }) {\n    const newTx = new btc.Transaction();\n    const { vin, vout, fee: prevFee } = payload.tx;\n    const p2wpkh = btc.p2wpkh(publicKey, networkMode);\n\n    vin.forEach(input => {\n      newTx.addInput({\n        txid: input.txid,\n        index: input.vout,\n        sequence: input.sequence + 1,\n        witnessUtxo: {\n          // script = 0014 + pubKeyHash\n          script: p2wpkh.script,\n          amount: BigInt(input.prevout.value),\n        },\n      });\n    });\n\n    const newFee = Math.ceil(sizeInfo.txVBytes * Number(payload.feeRate));\n    const feeDiff = newFee - prevFee;\n\n    vout.forEach(output => {\n      if (output.scriptpubkey_address === currentBitcoinAddress) {\n        const outputDiff = output.value - feeDiff;\n\n        if (outputDiff < 0) {\n          void analytics.track('bitcoin_rbf_fee_increase_error', {\n            outputDiff,\n          });\n          throw new Error('Previous tx inputs cannot cover new fee');\n        }\n\n        newTx.addOutputAddress(currentBitcoinAddress, BigInt(outputDiff), networkMode);\n        return;\n      }\n      newTx.addOutputAddress(recipient, BigInt(output.value), networkMode);\n    });\n\n    return newTx;\n  }\n\n  async function initiateTransaction(unsignedTx: btc.Transaction) {\n    const tx = await signTransaction(unsignedTx.toPSBT());\n    tx.finalize();\n    await broadcastTx({\n      tx: tx.hex,\n      async onSuccess(txid) {\n        toast.success('Fee increased successfully');\n        navigate(RouteUrls.Activity);\n        void analytics.track('increase_fee_transaction', {\n          symbol: 'btc',\n          txid,\n        });\n        await filteredUtxosQuery.refetch();\n        void queryClient.invalidateQueries({ queryKey: ['btc-txs-by-address'] });\n      },\n      onError,\n      delayTime: 5000,\n    });\n  }\n\n  async function onSubmit(values: { feeRate: string }) {\n    try {\n      const tx = generateUnsignedTx({ feeRate: values.feeRate, tx: btcTx });\n      await initiateTransaction(tx);\n    } catch (e) {\n      onError(e);\n    }\n  }\n\n  function onError(error: unknown) {\n    const message = isError(error) ? error.message : 'Unknown error';\n    toast.error(message);\n    navigate(RouteUrls.Home);\n  }\n\n  const validationSchema = yup.object({\n    feeRate: yup\n      .number()\n      .integer('Fee must be a whole number')\n      .required('Fee is required')\n      .test({\n        message: 'Fee rate cannot be less or equal to previous',\n        test(value) {\n          const bnValue = new BigNumber(value);\n          const prevFee = new BigNumber(btcTx.fee);\n\n          return prevFee.isLessThan(bnValue.multipliedBy(sizeInfo.txVBytes));\n        },\n      })\n      .test({\n        message: 'Fee is too high',\n        test(value) {\n          const bnValue = new BigNumber(value);\n\n          // check if fee is higher than 50 times the highest fee\n          if (\n            feesList.length > 0 &&\n            bnValue.isGreaterThan(feesList[0].feeRate * MAX_FEE_RATE_MULTIPLIER)\n          ) {\n            return false;\n          }\n\n          // check if fee is higher than the available balance\n          return bnValue.isLessThanOrEqualTo(balance.availableBalance.amount);\n        },\n      }),\n  });\n\n  return {\n    generateTx: generateUnsignedTx,\n    initiateTransaction,\n    isBroadcasting,\n    sizeInfo,\n    onSubmit,\n    validationSchema,\n    recipient,\n  };\n}\n","import { Suspense } from 'react';\nimport { Outlet, useLocation, useNavigate } from 'react-router-dom';\n\nimport { Formik } from 'formik';\nimport { Flex, Stack } from 'leather-styles/jsx';\n\nimport type { BitcoinTx } from '@leather.io/models';\nimport { Caption, Sheet, SheetHeader, Spinner } from '@leather.io/ui';\nimport { btcToSat, createMoney, formatMoney } from '@leather.io/utils';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { useLocationStateWithCache } from '@app/common/hooks/use-location-state';\nimport { getBitcoinTxValue } from '@app/common/transactions/bitcoin/utils';\nimport { BitcoinCustomFeeInput } from '@app/components/bitcoin-custom-fee/bitcoin-custom-fee-input';\nimport { BitcoinTransactionItem } from '@app/components/bitcoin-transaction-item/bitcoin-transaction-item';\nimport { useBtcCryptoAssetBalanceNativeSegwit } from '@app/query/bitcoin/balance/btc-balance-native-segwit.hooks';\nimport { useCurrentAccountNativeSegwitIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\n\nimport { IncreaseFeeActions } from './components/increase-fee-actions';\nimport { useBtcIncreaseFee } from './hooks/use-btc-increase-fee';\n\nexport function IncreaseBtcFeeSheet() {\n  const tx = useLocationStateWithCache('btcTx') as BitcoinTx;\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const btcTx = tx;\n  const nativeSegwitSigner = useCurrentAccountNativeSegwitIndexZeroSigner();\n  const currentBitcoinAddress = nativeSegwitSigner.address;\n  const { balance } = useBtcCryptoAssetBalanceNativeSegwit(currentBitcoinAddress);\n  const { isBroadcasting, sizeInfo, onSubmit, validationSchema, recipient } =\n    useBtcIncreaseFee(btcTx);\n\n  const btcBalance = formatMoney(balance.availableBalance);\n\n  const recipients = [\n    {\n      address: recipient,\n      amount: createMoney(btcToSat(getBitcoinTxValue(currentBitcoinAddress, btcTx)), 'BTC'),\n    },\n  ];\n\n  const onClose = () => {\n    navigate(RouteUrls.Home);\n  };\n\n  if (!tx) return null;\n\n  const initialFeeRate = `${(tx.fee / sizeInfo.txVBytes).toFixed(0)}`;\n\n  return (\n    <>\n      <Formik\n        initialValues={{ feeRate: initialFeeRate }}\n        onSubmit={onSubmit}\n        validateOnChange={false}\n        validateOnBlur={false}\n        validateOnMount={false}\n        validationSchema={validationSchema}\n      >\n        <>\n          <Sheet\n            isShowing={location.pathname === RouteUrls.IncreaseBtcFee}\n            onClose={onClose}\n            header={<SheetHeader title=\"Increase fee\" />}\n            footer={\n              <IncreaseFeeActions\n                isDisabled={isBroadcasting}\n                isBroadcasting={isBroadcasting}\n                onCancel={() => navigate(RouteUrls.Home)}\n              />\n            }\n          >\n            <Stack gap=\"space.05\" px=\"space.05\" pb=\"space.05\">\n              <Suspense\n                fallback={\n                  <Flex alignItems=\"center\" justifyContent=\"center\" p=\"space.06\">\n                    <Spinner />\n                  </Flex>\n                }\n              >\n                <Caption>\n                  If your transaction is pending for a long time, its fee might not be high enough\n                  to be included in a block. Update the fee for a higher value and try again.\n                </Caption>\n                <Stack gap=\"space.06\">\n                  {btcTx && <BitcoinTransactionItem transaction={btcTx} />}\n                  <Stack gap=\"space.04\">\n                    <Stack gap=\"space.01\">\n                      <BitcoinCustomFeeInput\n                        isSendingMax={false}\n                        recipients={recipients}\n                        hasInsufficientBalanceError={false}\n                        customFeeInitialValue={initialFeeRate}\n                      />\n                    </Stack>\n\n                    {balance && <Caption>Balance: {btcBalance}</Caption>}\n                  </Stack>\n                </Stack>\n              </Suspense>\n            </Stack>\n          </Sheet>\n          <Outlet />\n        </>\n      </Formik>\n    </>\n  );\n}\n","import { useCallback } from 'react';\n\nimport { useGetAddressMempoolTransactionsQuery } from '@leather.io/query';\nimport { delay } from '@leather.io/utils';\n\nimport { useCurrentStacksAccountAddress } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\n// TODO: Can this be removed? It seems like we should be able\n// to use react-query itself to do this if needed?\nexport function useRefreshAllAccountData() {\n  const address = useCurrentStacksAccountAddress();\n  const { refetch } = useGetAddressMempoolTransactionsQuery(address);\n  return useCallback(\n    async (ms?: number) => {\n      if (typeof ms === 'number') await delay(ms);\n      void refetch();\n    },\n    [refetch]\n  );\n}\n","export function safelyFormatHexTxid(id: string) {\n  const prefix = '0x';\n  if (id.startsWith(prefix)) return id;\n  return prefix + id;\n}\n","export enum FormErrorMessages {\n  AdjustedFeeExceedsBalance = 'Fee added exceeds current balance',\n  AddressRequired = 'Enter an address',\n  AmountRequired = 'Enter an amount',\n  BnsAddressNotFound = 'Address not found',\n  CannotDetermineBalance = 'Cannot determine balance',\n  CannotDeterminePrecision = 'Cannot determine decimal precision',\n  CastToNumber = 'Amount must be a `number` type, but the final value was: `NaN`',\n  DoesNotSupportDecimals = 'Token does not support decimal places',\n  IncorrectNetworkAddress = 'Address is for incorrect network',\n  InvalidAddress = 'Address is not valid',\n  InsufficientBalance = 'Insufficient balance. Available:',\n  InsufficientFunds = 'Insufficient funds',\n  MemoExceedsLimit = 'Memo must be less than 34-bytes',\n  MustBeNumber = 'Amount must be a number',\n  MustBePositive = 'Amount must be greater than zero',\n  MustSelectAsset = 'Select a valid token to transfer',\n  SameAddress = 'Cannot send to yourself',\n  TooMuchPrecision = 'Token can only have {decimals} decimals',\n\n  NonZeroOffsetInscription = 'Sending inscriptions at non-zero offsets is unsupported',\n  UtxoWithMultipleInscriptions = 'Sending inscription from utxo with multiple inscriptions is unsupported',\n  InsufficientFundsToCoverFee = 'Insufficient funds to cover fee. Deposit some BTC to your Native Segwit address.',\n}\n","import type { Money } from '@leather.io/models';\nimport { isFunction } from '@leather.io/utils';\n\nimport { FormErrorMessages } from '@shared/error-messages';\n\nexport function formatPrecisionError(num?: Money) {\n  if (!num) return FormErrorMessages.CannotDeterminePrecision;\n  const error = FormErrorMessages.TooMuchPrecision;\n  return error.replace('{decimals}', String(num.decimals));\n}\n\nexport function formatInsufficientBalanceError(\n  sum?: Money,\n  formatterFn?: (amount: Money) => string\n) {\n  if (!sum) return FormErrorMessages.CannotDetermineBalance;\n  const isAmountLessThanZero = sum.amount.lt(0);\n\n  const formattedAmount = isFunction(formatterFn) ? formatterFn(sum) : sum.amount.toString(10);\n\n  return `${FormErrorMessages.InsufficientBalance} ${\n    isAmountLessThanZero ? '0' : formattedAmount\n  } ${sum.symbol}`;\n}\n","import * as yup from 'yup';\n\nimport { BTC_DECIMALS, STX_DECIMALS } from '@leather.io/constants';\nimport { countDecimals, isNumber } from '@leather.io/utils';\n\nimport { FormErrorMessages } from '@shared/error-messages';\n\nexport function currencyAmountValidator() {\n  return yup\n    .number()\n    .positive(FormErrorMessages.MustBePositive)\n    .typeError('Currency must be a number');\n}\n\nfunction currencyPrecisionValidatorFactory(precision: number, errorMessage: string) {\n  return yup\n    .number()\n    .required(FormErrorMessages.AmountRequired)\n    .typeError(FormErrorMessages.MustBeNumber)\n    .test({\n      message: errorMessage,\n      test(value: unknown) {\n        if (!isNumber(value)) return false;\n        return countDecimals(value) <= precision;\n      },\n    });\n}\n\nexport function btcAmountPrecisionValidator(errorMsg: string) {\n  return currencyPrecisionValidatorFactory(BTC_DECIMALS, errorMsg);\n}\n\nexport function stxAmountPrecisionValidator(errorMsg: string) {\n  return currencyPrecisionValidatorFactory(STX_DECIMALS, errorMsg);\n}\n","import BigNumber from 'bignumber.js';\nimport { AnyObject, NumberSchema } from 'yup';\n\nimport type { Money } from '@leather.io/models';\nimport { btcToSat, isNumber, moneyToBaseUnit, stxToMicroStx } from '@leather.io/utils';\n\nimport { formatInsufficientBalanceError, formatPrecisionError } from '@app/common/error-formatters';\nimport {\n  btcAmountPrecisionValidator,\n  stxAmountPrecisionValidator,\n} from '@app/common/validation/forms/currency-validators';\n\ninterface FeeValidatorFactoryArgs {\n  availableBalance?: Money;\n  unitConverter(unit: string | number | BigNumber): BigNumber;\n  validator(errorMsg: string): NumberSchema<number | undefined, AnyObject>;\n}\nfunction feeValidatorFactory({\n  availableBalance,\n  unitConverter,\n  validator,\n}: FeeValidatorFactoryArgs) {\n  return validator(formatPrecisionError(availableBalance)).test({\n    message: formatInsufficientBalanceError(availableBalance, sum =>\n      moneyToBaseUnit(sum).toString()\n    ),\n    test(fee: unknown) {\n      if (!availableBalance || !isNumber(fee)) return false;\n      return availableBalance.amount.isGreaterThanOrEqualTo(unitConverter(fee));\n    },\n  });\n}\n\n// ts-unused-exports:disable-next-line\nexport function btcFeeValidator(availableBalance?: Money) {\n  return feeValidatorFactory({\n    availableBalance,\n    unitConverter: btcToSat,\n    validator: btcAmountPrecisionValidator,\n  });\n}\n\nexport function stxFeeValidator(availableBalance?: Money) {\n  return feeValidatorFactory({\n    availableBalance,\n    unitConverter: stxToMicroStx,\n    validator: stxAmountPrecisionValidator,\n  });\n}\n","import { useCallback } from 'react';\n\nimport { makeStacksTxExplorerLink } from '@app/common/utils';\nimport { useCurrentNetworkState } from '@app/store/networks/networks.hooks';\n\nimport { openInNewTab } from '../utils/open-in-new-tab';\n\ninterface HandleOpenStacksTxLinkArgs {\n  searchParams?: URLSearchParams;\n  txid: string;\n}\nexport function useStacksExplorerLink() {\n  const { mode, isNakamotoTestnet } = useCurrentNetworkState();\n\n  const handleOpenStacksTxLink = useCallback(\n    ({ searchParams, txid }: HandleOpenStacksTxLinkArgs) => {\n      openInNewTab(\n        makeStacksTxExplorerLink({ mode, searchParams, isNakamoto: isNakamotoTestnet, txid })\n      );\n    },\n    [mode, isNakamotoTestnet]\n  );\n\n  return {\n    handleOpenStacksTxLink,\n  };\n}\n","import { bytesToHex } from '@stacks/common';\nimport { TransactionTypes } from '@stacks/connect';\nimport {\n  CoinbaseTransaction,\n  NetworkBlockTimesResponse,\n  TransactionEventFungibleAsset,\n} from '@stacks/stacks-blockchain-api-types';\nimport {\n  AddressHashMode,\n  AuthType,\n  StacksTransaction,\n  TransactionVersion,\n  addressFromVersionHash,\n  addressHashModeToVersion,\n  addressToString,\n} from '@stacks/transactions';\nimport { BigNumber } from 'bignumber.js';\n\nimport { StacksTx, StacksTxStatus } from '@leather.io/models';\nimport { truncateMiddle } from '@leather.io/utils';\n\nimport { getStacksContractName, stacksValue } from '@app/common/stacks-utils';\n\nexport const statusFromTx = (tx: StacksTx): StacksTxStatus => {\n  const { tx_status } = tx;\n  if (tx_status === 'pending') return 'pending';\n  if (tx_status === 'success') return 'success';\n  return 'failed';\n};\n\nexport const stacksTransactionToHex = (transaction: StacksTransaction) =>\n  `0x${bytesToHex(transaction.serialize())}`;\n\nexport const getTxCaption = (transaction: StacksTx) => {\n  switch (transaction.tx_type) {\n    case 'smart_contract':\n      return truncateMiddle(transaction.smart_contract.contract_id.split('.')[0], 4);\n    case 'contract_call':\n      return transaction.contract_call.contract_id.split('.')[1];\n    case 'token_transfer':\n    case 'coinbase':\n    case 'poison_microblock':\n      return truncateMiddle(transaction.tx_id, 4);\n    default:\n      return null;\n  }\n};\n\nconst getAssetTransfer = (tx: StacksTx): TransactionEventFungibleAsset | null => {\n  if (tx.tx_type !== 'contract_call') return null;\n  if (tx.tx_status !== 'success') return null;\n  const transfer = tx.events.find(event => event.event_type === 'fungible_token_asset');\n  if (transfer?.event_type !== 'fungible_token_asset') return null;\n  return transfer;\n};\n\nexport const getTxValue = (tx: StacksTx, isOriginator: boolean): number | string | null => {\n  if (tx.tx_type === 'token_transfer') {\n    return `${isOriginator ? '-' : ''}${stacksValue({\n      value: tx.token_transfer.amount,\n      withTicker: false,\n    })}`;\n  }\n  const transfer = getAssetTransfer(tx);\n  if (transfer) return new BigNumber(transfer.asset.amount).toFormat();\n  return null;\n};\n\nexport const getTxTitle = (tx: StacksTx) => {\n  switch (tx.tx_type) {\n    case 'token_transfer':\n      return 'Stacks';\n    case 'contract_call':\n      return tx.contract_call.function_name;\n    case 'smart_contract':\n      return getStacksContractName(tx.smart_contract.contract_id);\n    case 'coinbase':\n      return `Coinbase ${(tx as CoinbaseTransaction).block_height}`;\n    case 'poison_microblock':\n      return 'Poison Microblock';\n    default:\n      return '';\n  }\n};\n\n// calculate the real amount of the token based on the decimal number\n// specified in the corresponding token smart contract\nexport const calculateTokenTransferAmount = (\n  decimals: number,\n  amount: number | string | BigNumber\n) => {\n  return new BigNumber(amount).shiftedBy(-decimals);\n};\n\nexport function isTransactionTypeSupported(txType: TransactionTypes) {\n  return (\n    txType === TransactionTypes.STXTransfer ||\n    txType === TransactionTypes.ContractCall ||\n    txType === TransactionTypes.ContractDeploy\n  );\n}\n\nexport function isTxSponsored(tx: StacksTransaction) {\n  return tx.auth.authType === AuthType.Sponsored;\n}\n\nfunction getAddressFromPublicKeyHash(\n  publicKeyHash: Buffer,\n  hashMode: AddressHashMode,\n  transactionVersion: TransactionVersion\n): string {\n  const addrVer = addressHashModeToVersion(hashMode, transactionVersion);\n  if (publicKeyHash.length !== 20) {\n    throw new Error('expected 20-byte pubkeyhash');\n  }\n  const addr = addressFromVersionHash(addrVer, publicKeyHash.toString('hex'));\n  return addressToString(addr);\n}\n\nexport function getTxSenderAddress(tx: StacksTransaction): string | undefined {\n  if (!tx?.auth?.spendingCondition?.signer) return;\n  const txSender = getAddressFromPublicKeyHash(\n    Buffer.from(tx.auth.spendingCondition.signer, 'hex'),\n    tx.auth.spendingCondition.hashMode as number,\n    tx.version\n  );\n  return txSender;\n}\n\nexport function getEstimatedConfirmationTime(\n  isTestnet: boolean,\n  blockTime?: NetworkBlockTimesResponse\n) {\n  const arrivesIn = isTestnet\n    ? blockTime?.testnet.target_block_time\n    : blockTime?.mainnet.target_block_time;\n\n  if (!arrivesIn) return '~10  20 min';\n\n  return `~${arrivesIn / 60} min`;\n}\n\nexport function isPendingTx(tx: StacksTx) {\n  return tx.tx_status === 'pending';\n}\n","import { StacksTx } from '@leather.io/models';\nimport { ArrowDownIcon, ArrowUpIcon } from '@leather.io/ui';\n\nimport { useCurrentStacksAccountAddress } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\nexport function TokenTransferIcon(props: { tx: StacksTx }) {\n  const { tx } = props;\n  const currentAccountStxAddress = useCurrentStacksAccountAddress();\n  const isSent = tx.sender_address === currentAccountStxAddress;\n\n  if (isSent) return <ArrowUpIcon color=\"ink.background-primary\" variant=\"small\" />;\n\n  return <ArrowDownIcon color=\"ink.background-primary\" variant=\"small\" />;\n}\n","import { StacksTx } from '@leather.io/models';\nimport { CodeIcon, FunctionIcon, PlusIcon } from '@leather.io/ui';\n\nimport { TokenTransferIcon } from './token-transfer-icon';\n\nexport function TransactionIcon(props: { tx: StacksTx }) {\n  const { tx } = props;\n\n  switch (tx.tx_type) {\n    case 'coinbase':\n      return <PlusIcon color=\"ink.background-primary\" variant=\"small\" />;\n    case 'smart_contract':\n      return <CodeIcon color=\"ink.background-primary\" variant=\"small\" />;\n    case 'token_transfer':\n      return <TokenTransferIcon tx={tx} />;\n    case 'contract_call':\n      return <FunctionIcon color=\"ink.background-primary\" variant=\"small\" />;\n    default:\n      return null;\n  }\n}\n","import type { ReactNode } from 'react';\n\nimport { Circle, CircleProps } from 'leather-styles/jsx';\n\ninterface TransactionTypeIconWrapperProps extends CircleProps {\n  bg?: any;\n  icon: ReactNode;\n}\nexport function TransactionTypeIconWrapper({\n  bg,\n  icon,\n  ...props\n}: TransactionTypeIconWrapperProps) {\n  return (\n    <Circle\n      bg=\"stacks\"\n      border=\"background\"\n      bottom=\"-2px\"\n      color=\"ink.background-primary\"\n      position=\"absolute\"\n      right=\"-9px\"\n      size=\"21px\"\n      {...props}\n    >\n      {icon}\n    </Circle>\n  );\n}\n","import { StacksTx, StacksTxStatus } from '@leather.io/models';\n\nimport { statusFromTx } from '@app/common/transactions/stacks/transaction.utils';\n\nimport { TransactionIcon } from './transaction-icon';\nimport { TransactionTypeIconWrapper } from './transaction-type-icon-wrapper';\n\ntype StatusColorMap = Record<StacksTxStatus, string>;\n\nfunction getColorFromTx(tx: StacksTx) {\n  const colorMap: StatusColorMap = {\n    pending: 'yellow.action-primary-default',\n    success: 'stacks',\n    failed: 'red.action-primary-default',\n  };\n\n  return colorMap[statusFromTx(tx)] ?? 'red.action-primary-default';\n}\n\ninterface TransactionTypeIconProps {\n  transaction: StacksTx;\n}\nexport function TransactionTypeIcon({ transaction }: TransactionTypeIconProps) {\n  if (\n    ['coinbase', 'contract_call', 'smart_contract', 'token_transfer'].includes(transaction.tx_type)\n  ) {\n    return (\n      <TransactionTypeIconWrapper\n        bg={getColorFromTx(transaction)}\n        icon={<TransactionIcon tx={transaction} />}\n      />\n    );\n  }\n  return null;\n}\n","import { ReactNode } from 'react';\n\nimport { Circle, CircleProps } from 'leather-styles/jsx';\n\nimport { StacksTx } from '@leather.io/models';\n\nimport { TransactionTypeIcon } from './transaction-type-icon';\n\ninterface TransactionIconWrapperProps extends CircleProps {\n  icon: ReactNode;\n  transaction: StacksTx;\n}\nexport function TransactionIconWrapper({\n  icon,\n  transaction,\n  ...props\n}: TransactionIconWrapperProps) {\n  return (\n    <Circle\n      bg=\"stacks\"\n      color=\"ink.background-primary\"\n      flexShrink={0}\n      position=\"relative\"\n      size=\"xl\"\n      {...props}\n    >\n      {icon}\n      <TransactionTypeIcon transaction={transaction} />\n    </Circle>\n  );\n}\n","import { BoxProps } from 'leather-styles/jsx';\n\nimport { StacksTx } from '@leather.io/models';\nimport { BarsThreeIcon, DynamicColorCircle, ErrorCircleIcon, StxAvatarIcon } from '@leather.io/ui';\n\nimport { TransactionIconWrapper } from '../transaction/transaction-icon-wrapper';\nimport { TransactionTypeIcon } from '../transaction/transaction-type-icon';\n\ninterface TransactionIconProps extends BoxProps {\n  transaction: StacksTx;\n}\nexport function StacksTransactionIcon({ transaction, ...rest }: TransactionIconProps) {\n  switch (transaction.tx_type) {\n    case 'coinbase':\n      return (\n        <TransactionIconWrapper icon={<BarsThreeIcon />} transaction={transaction} {...rest} />\n      );\n    case 'smart_contract':\n      return (\n        <DynamicColorCircle value={`${transaction.smart_contract.contract_id}`} {...rest}>\n          <TransactionTypeIcon transaction={transaction} />\n        </DynamicColorCircle>\n      );\n    case 'contract_call':\n      return (\n        <DynamicColorCircle\n          value={`${transaction.contract_call.contract_id}::${transaction.contract_call.function_name}`}\n          {...rest}\n        >\n          <TransactionTypeIcon transaction={transaction} />\n        </DynamicColorCircle>\n      );\n    case 'token_transfer':\n      return (\n        <TransactionIconWrapper icon={<StxAvatarIcon />} transaction={transaction} {...rest} />\n      );\n    case 'poison_microblock':\n      return (\n        <TransactionIconWrapper icon={<ErrorCircleIcon />} transaction={transaction} {...rest} />\n      );\n    default:\n      return null;\n  }\n}\n","import { StacksTx } from '@leather.io/models';\nimport { Caption } from '@leather.io/ui';\n\nimport { isPendingTx } from '@app/common/transactions/stacks/transaction.utils';\nimport { BasicTooltip } from '@app/ui/components/tooltip/basic-tooltip';\n\nconst pendingWaitingMessage =\n  'This transaction is waiting to be confirmed. Depending on network congestion, this may take anywhere from a few minutes, to a couple of hours.';\n\ninterface TransactionStatusProps {\n  transaction: StacksTx;\n}\nexport function StacksTransactionStatus({ transaction }: TransactionStatusProps) {\n  const isPending = isPendingTx(transaction);\n  const isFailed = !isPending && transaction.tx_status !== 'success';\n\n  return (\n    <>\n      {isPending && (\n        <BasicTooltip asChild label={pendingWaitingMessage} side=\"bottom\">\n          <Caption color=\"yellow.action-primary-default\">Pending</Caption>\n        </BasicTooltip>\n      )}\n      {isFailed && (\n        <BasicTooltip label={transaction.tx_status} side=\"bottom\">\n          <Caption color=\"yellow.action-primary-default\">Failed</Caption>\n        </BasicTooltip>\n      )}\n    </>\n  );\n}\n","import { useLocation, useNavigate } from 'react-router-dom';\n\nimport { StacksTx } from '@leather.io/models';\n\nimport { RouteUrls } from '@shared/route-urls';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useStacksExplorerLink } from '@app/common/hooks/use-stacks-explorer-link';\nimport {\n  getTxCaption,\n  getTxTitle,\n  getTxValue,\n  isPendingTx,\n} from '@app/common/transactions/stacks/transaction.utils';\nimport { useWalletType } from '@app/common/use-wallet-type';\nimport { whenPageMode } from '@app/common/utils';\nimport { openIndexPageInNewTab } from '@app/common/utils/open-in-new-tab';\nimport { TransactionTitle } from '@app/components/transaction/transaction-title';\nimport { useCurrentStacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { useIsPrivateMode } from '@app/store/settings/settings.selectors';\n\nimport { TransactionItemLayout } from '../transaction-item/transaction-item.layout';\nimport { IncreaseFeeButton } from './increase-fee-button';\nimport { StacksTransactionIcon } from './stacks-transaction-icon';\nimport { StacksTransactionStatus } from './stacks-transaction-status';\n\ninterface StacksTransactionItemProps {\n  caption?: string;\n  icon?: React.JSX.Element;\n  link?: string;\n  title?: string;\n  value?: string;\n  transaction?: StacksTx;\n}\nexport function StacksTransactionItem({\n  caption,\n  icon,\n  link,\n  title,\n  value,\n  transaction,\n}: StacksTransactionItemProps) {\n  const { handleOpenStacksTxLink } = useStacksExplorerLink();\n  const currentAccount = useCurrentStacksAccount();\n  const isPrivate = useIsPrivateMode();\n\n  const { pathname } = useLocation();\n  const navigate = useNavigate();\n  const { whenWallet } = useWalletType();\n\n  const hasTransferDetailsData = !!caption && !!title && !!value && !!link;\n  if (!transaction && !hasTransferDetailsData) return null;\n\n  const openTxLink = () => {\n    void analytics.track('view_transaction');\n    handleOpenStacksTxLink({\n      txid: transaction?.tx_id || link || '',\n    });\n  };\n\n  const onIncreaseFee = () => {\n    if (!transaction) return;\n\n    const routeUrl = RouteUrls.IncreaseStxFee.replace(':txid', transaction.tx_id);\n\n    whenWallet({\n      ledger: () =>\n        whenPageMode({\n          full: () => navigate(routeUrl),\n          popup: () => openIndexPageInNewTab(routeUrl),\n        })(),\n      software: () => navigate(routeUrl),\n    })();\n  };\n\n  const isOriginator = transaction?.sender_address === currentAccount?.address;\n  const isPending = transaction && isPendingTx(transaction);\n\n  const txCaption = transaction ? getTxCaption(transaction) : caption || '';\n  const txIcon = transaction ? <StacksTransactionIcon transaction={transaction} /> : icon;\n  const txTitle = transaction ? getTxTitle(transaction) : title || '';\n  const txValue = transaction ? getTxValue(transaction, isOriginator) : value;\n  const increaseFeeButton = (\n    <IncreaseFeeButton\n      isEnabled={isOriginator && isPending}\n      isSelected={pathname === RouteUrls.IncreaseStxFee}\n      onIncreaseFee={onIncreaseFee}\n    />\n  );\n  const txStatus = transaction && <StacksTransactionStatus transaction={transaction} />;\n\n  return (\n    <TransactionItemLayout\n      openTxLink={openTxLink}\n      rightElement={isOriginator && isPending ? increaseFeeButton : undefined}\n      txCaption={txCaption}\n      txIcon={txIcon}\n      txStatus={txStatus}\n      txTitle={<TransactionTitle title={txTitle} />}\n      txValue={txValue}\n      isPrivate={isPrivate}\n    />\n  );\n}\n","import {\n  ExternalMethods,\n  MESSAGE_SOURCE,\n  TransactionResponseMessage,\n  TxResult,\n} from '@shared/message-types';\n\ninterface FormatTxSignatureResponseArgs {\n  payload: string;\n  response: TxResult | 'cancel';\n}\nexport function formatTxSignatureResponse({\n  payload,\n  response,\n}: FormatTxSignatureResponseArgs): TransactionResponseMessage {\n  return {\n    source: MESSAGE_SOURCE,\n    method: ExternalMethods.transactionResponse,\n    payload: {\n      transactionRequest: payload,\n      transactionResponse: response,\n    },\n  };\n}\n","import { logger } from '@shared/logger';\nimport { TxResult } from '@shared/message-types';\nimport { closeWindow } from '@shared/utils';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { formatTxSignatureResponse } from './finalize-tx-signature-format';\n\ninterface FinalizeTxSignatureArgs {\n  requestPayload: string;\n  data: TxResult | 'cancel';\n  tabId: number;\n}\n\nexport function finalizeTxSignature({ requestPayload, data, tabId }: FinalizeTxSignatureArgs) {\n  try {\n    const responseMessage = formatTxSignatureResponse({ payload: requestPayload, response: data });\n    chrome.tabs.sendMessage(tabId, responseMessage);\n    closeWindow();\n  } catch (e) {\n    // EXPERIMENT:\n    // My own testing shows that `sendMessage` doesn't throw yet users have\n    // reported these errors. Tracking here to see if we are able to detect this\n    // happening.\n    void analytics?.track('finalize_tx_signature_error_thrown', { data: e });\n    logger.error('Error in finalising tx signature', e);\n  }\n}\n","import { TxBroadcastResultRejected } from '@stacks/transactions';\n\nexport function getErrorMessage(\n  reason:\n    | TxBroadcastResultRejected['reason']\n    | 'BadTransactionVersion'\n    | 'ConflictingNonceInMempool'\n    | 'EstimatorError'\n    | 'TransferAmountMustBePositive'\n    | 'TransferRecipientCannotEqualSender'\n) {\n  switch (reason) {\n    case 'BadAddressVersionByte':\n      return 'Incorrect address';\n    case 'BadFunctionArgument':\n      return 'Incorrect function argument';\n    case 'BadNonce':\n      return 'Incorrect nonce';\n    case 'BadTransactionVersion':\n      return 'Incorrect transaction';\n    case 'ConflictingNonceInMempool':\n      return 'Nonce conflict';\n    case 'ContractAlreadyExists':\n      return 'Contract already exists';\n    case 'Deserialization':\n      return 'Deserialization failure';\n    case 'EstimatorError':\n      return 'Estimator error';\n    case 'FeeTooLow':\n      return 'Fee too low';\n    case 'NoCoinbaseViaMempool':\n      return 'No coinbase via mempool';\n    case 'NoSuchContract':\n      return 'Contract does not exist';\n    case 'NoSuchPublicFunction':\n      return 'Function does not exist';\n    case 'NotEnoughFunds':\n      return 'Not enough funds';\n    case 'PoisonMicroblocksDoNotConflict':\n      return 'Microblock conflict';\n    case 'PoisonMicroblockHasUnknownPubKeyHash':\n      return 'No anchor block with public key hash';\n    case 'PoisonMicroblockIsInvalid':\n      return 'Invalid microblock';\n    case 'Serialization':\n      return 'Serialization failure';\n    case 'ServerFailureDatabase':\n      return 'Database error';\n    case 'ServerFailureNoSuchChainTip':\n      return 'No such chain tip';\n    case 'ServerFailureOther':\n      return 'Server failure';\n    case 'SignatureValidation':\n      return 'Failed to validate signature';\n    case 'TransferAmountMustBePositive':\n      return 'Transfer amount must be positive';\n    case 'TransferRecipientCannotEqualSender':\n      return 'Cannot transfer STX to yourself';\n    default:\n      return 'Something went wrong';\n  }\n}\n","import { submittedTransactionsSlice } from './submitted-transactions.slice';\n\nexport const submittedTransactionsActions = submittedTransactionsSlice.actions;\n","import { useSelector } from 'react-redux';\n\nimport { RootState } from '@app/store';\n\nimport { submittedTransactionsAdapter } from './submitted-transactions.slice';\n\nconst submittedTransactionsSelectors = submittedTransactionsAdapter.getSelectors<RootState>(\n  state => state.submittedTransactions\n);\n\nexport function useSubmittedTransactions() {\n  return useSelector(submittedTransactionsSelectors.selectAll);\n}\n","import { useCallback, useMemo } from 'react';\n\nimport type { MempoolTransaction } from '@stacks/stacks-blockchain-api-types';\n\nimport { safelyFormatHexTxid } from '@app/common/utils/safe-handle-txid';\nimport { useAppDispatch } from '@app/store';\n\nimport { submittedTransactionsActions } from './submitted-transactions.actions';\nimport { useSubmittedTransactions } from './submitted-transactions.selectors';\nimport { SubmittedTransaction } from './submitted-transactions.slice';\n\nexport function useUpdateSubmittedTransactions() {\n  const submittedTransactions = useSubmittedTransactions();\n  const submittedTransactionsActions = useSubmittedTransactionsActions();\n  return useCallback(\n    (data: MempoolTransaction[]) => {\n      const pendingTxids = data.map(tx => tx.tx_id);\n      submittedTransactions.map(tx => {\n        if (pendingTxids.includes(safelyFormatHexTxid(tx.txid)))\n          return submittedTransactionsActions.transactionEnteredMempool(tx.txid);\n        return;\n      });\n    },\n    [submittedTransactions, submittedTransactionsActions]\n  );\n}\n\nexport function useSubmittedTransactionsActions() {\n  const dispatch = useAppDispatch();\n\n  return useMemo(\n    () => ({\n      newTransactionSubmitted({ rawTx, txid }: SubmittedTransaction) {\n        return dispatch(submittedTransactionsActions.newTransactionSubmitted({ rawTx, txid }));\n      },\n\n      transactionEnteredMempool(txid: string) {\n        return dispatch(submittedTransactionsActions.transactionEnteredMempool(txid));\n      },\n\n      transactionReplacedByFee(txid: string) {\n        return dispatch(submittedTransactionsActions.transactionReplacedByFee(txid));\n      },\n    }),\n    [dispatch]\n  );\n}\n","import { useCallback } from 'react';\n\nimport { bytesToHex } from '@stacks/common';\nimport { StacksTransaction, broadcastTransaction } from '@stacks/transactions';\n\nimport { delay, isError } from '@leather.io/utils';\n\nimport { logger } from '@shared/logger';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { getErrorMessage } from '@app/common/get-error-message';\nimport { useRefreshAllAccountData } from '@app/common/hooks/account/use-refresh-all-account-data';\nimport { useLoading } from '@app/common/hooks/use-loading';\nimport { safelyFormatHexTxid } from '@app/common/utils/safe-handle-txid';\nimport { useToast } from '@app/features/toasts/use-toast';\nimport { useCurrentStacksNetworkState } from '@app/store/networks/networks.hooks';\nimport { useSubmittedTransactionsActions } from '@app/store/submitted-transactions/submitted-transactions.hooks';\n\nconst timeForApiToUpdate = 250;\n\ninterface UseSubmitTransactionArgs {\n  loadingKey: string;\n}\ninterface UseSubmitTransactionCallbackArgs {\n  replaceByFee?: boolean;\n  onSuccess(txId: string): void;\n  onError(error: Error | string): void;\n}\nexport function useSubmitTransactionCallback({ loadingKey }: UseSubmitTransactionArgs) {\n  const submittedTransactionsActions = useSubmittedTransactionsActions();\n  const toast = useToast();\n  const refreshAccountData = useRefreshAllAccountData();\n\n  const { setIsLoading, setIsIdle } = useLoading(loadingKey);\n  const stacksNetwork = useCurrentStacksNetworkState();\n\n  return useCallback(\n    ({ onSuccess, onError }: UseSubmitTransactionCallbackArgs) =>\n      async (transaction: StacksTransaction) => {\n        setIsLoading();\n        try {\n          const response = await broadcastTransaction(transaction, stacksNetwork);\n          if (response.error) {\n            logger.error('Transaction broadcast', response);\n            if (response.reason) toast.error(getErrorMessage(response.reason));\n            onError(response.error);\n            setIsIdle();\n          } else {\n            logger.info('Transaction broadcast', response);\n            submittedTransactionsActions.newTransactionSubmitted({\n              rawTx: bytesToHex(transaction.serialize()),\n              txid: safelyFormatHexTxid(response.txid),\n            });\n\n            await delay(500);\n\n            void analytics.track('broadcast_transaction', { symbol: 'stx' });\n            onSuccess(safelyFormatHexTxid(response.txid));\n            setIsIdle();\n            await refreshAccountData(timeForApiToUpdate);\n          }\n        } catch (error) {\n          logger.error('Transaction callback', { error });\n          onError(isError(error) ? error : { name: '', message: '' });\n          setIsIdle();\n        }\n      },\n    [\n      setIsLoading,\n      stacksNetwork,\n      toast,\n      setIsIdle,\n      submittedTransactionsActions,\n      refreshAccountData,\n    ]\n  );\n}\n","import {\n  FungibleConditionCode,\n  FungiblePostCondition,\n  NonFungibleConditionCode,\n  NonFungiblePostCondition,\n  PostCondition,\n  PostConditionType,\n  STXPostCondition,\n  addressToString,\n  parsePrincipalString,\n} from '@stacks/transactions';\n\nimport { stacksValue } from '@app/common/stacks-utils';\nimport { postConditionFromString } from '@app/common/utils';\n\nexport const getIconStringFromPostCondition = (\n  pc: STXPostCondition | FungiblePostCondition | NonFungiblePostCondition\n) => {\n  if (pc.conditionType === PostConditionType.Fungible)\n    return `${addressToString(pc.assetInfo.address)}.${pc.assetInfo.contractName}.${\n      pc.assetInfo.assetName.content\n    }`;\n  if (pc.conditionType === PostConditionType.STX) return 'STX';\n  return pc.assetInfo.assetName.content;\n};\n\nexport const getAmountFromPostCondition = (\n  pc: STXPostCondition | FungiblePostCondition | NonFungiblePostCondition\n) => {\n  if (pc.conditionType === PostConditionType.Fungible) return pc.amount.toString();\n  if (pc.conditionType === PostConditionType.STX)\n    return stacksValue({ value: pc.amount.toString(), withTicker: false });\n  return '';\n};\n\nexport const getSymbolFromPostCondition = (\n  pc: STXPostCondition | FungiblePostCondition | NonFungiblePostCondition\n) => {\n  if ('assetInfo' in pc) {\n    return pc.assetInfo.assetName.content.slice(0, 3).toUpperCase();\n  }\n  return 'STX';\n};\n\nexport const getNameFromPostCondition = (\n  pc: STXPostCondition | FungiblePostCondition | NonFungiblePostCondition\n) => {\n  if ('assetInfo' in pc) {\n    return pc.assetInfo.assetName.content;\n  }\n  return 'STX';\n};\n\nexport function getPostConditionCodeMessage(\n  code: FungibleConditionCode | NonFungibleConditionCode,\n  isSender: boolean\n) {\n  const sender = isSender ? 'You' : 'The contract';\n  switch (code) {\n    case FungibleConditionCode.Equal:\n      return `${sender} will transfer exactly`;\n\n    case FungibleConditionCode.Greater:\n      return `${sender} will transfer more than`;\n\n    case FungibleConditionCode.GreaterEqual:\n      return `${sender} will transfer at least`;\n\n    case FungibleConditionCode.Less:\n      return `${sender} will transfer less than`;\n\n    case FungibleConditionCode.LessEqual:\n      return `${sender} will transfer at most`;\n\n    case NonFungibleConditionCode.Sends:\n      return `${sender} will transfer`;\n\n    case NonFungibleConditionCode.DoesNotSend:\n      return `${sender} will keep or receive`;\n  }\n}\n\n/**\n * This method will update a post conditions principal\n * value to the current address principal if and only if\n * the `stxAddress` value from the original tx payload\n * matches the address in the original post condition\n *\n * This is used when a user might switch accounts during\n * the signing process. One can assume that if the post\n * condition has the principal set to the same value as the\n * `stxAddress` value, it should be updated when they switch\n * accounts.\n */\nexport function handlePostConditions(\n  postConditions: (PostCondition | string)[],\n  payloadAddress: string,\n  currentAddress: string\n): PostCondition[] {\n  const payloadPrincipal = parsePrincipalString(payloadAddress);\n  const currentAddressPrincipal = parsePrincipalString(currentAddress);\n\n  return postConditions.map(postCondition => {\n    const formattedPostCondition = getPostCondition(postCondition);\n    // if it's a contract principal, do nothing\n    if ('contractName' in formattedPostCondition.principal) return formattedPostCondition;\n    const { principal, ...payload } = formattedPostCondition;\n    const sameType = payloadPrincipal.address.type === principal.address.type;\n    const sameHash = payloadPrincipal.address.hash160 === principal.address.hash160;\n    const isOriginatorAddress = sameHash && sameType;\n    return {\n      ...payload,\n      principal: isOriginatorAddress ? currentAddressPrincipal : principal,\n    };\n  });\n}\n\nexport function getPostCondition(postCondition: string | PostCondition): PostCondition {\n  return typeof postCondition === 'string' ? postConditionFromString(postCondition) : postCondition;\n}\n\nexport function getPostConditions(\n  postConditions?: (string | PostCondition)[]\n): PostCondition[] | undefined {\n  return postConditions?.map(getPostCondition);\n}\n\nconst getTitleFromConditionCode = (code: FungibleConditionCode | NonFungibleConditionCode) => {\n  switch (code) {\n    case FungibleConditionCode.Equal:\n      return 'will transfer exactly';\n    case FungibleConditionCode.Greater:\n      return 'will transfer more than';\n    case FungibleConditionCode.GreaterEqual:\n      return 'will transfer equal to or greater than';\n    case FungibleConditionCode.Less:\n      return 'will transfer less than';\n    case FungibleConditionCode.LessEqual:\n      return 'will transfer less than or equal to';\n    case NonFungibleConditionCode.Sends:\n      return 'will transfer';\n    case NonFungibleConditionCode.DoesNotSend:\n      return 'will keep';\n    default:\n      return '';\n  }\n};\n\nexport const getPostConditionTitle = (\n  pc: STXPostCondition | FungiblePostCondition | NonFungiblePostCondition\n) => {\n  return getTitleFromConditionCode(pc.conditionCode) || '';\n};\n","import {\n  ContractCallPayload as ConnectContractCallPayload,\n  ContractDeployPayload as ConnectContractDeployPayload,\n  STXTransferPayload as ConnectSTXTransferPayload,\n  TransactionTypes,\n} from '@stacks/connect';\nimport { StacksNetwork } from '@stacks/network';\nimport {\n  AnchorMode,\n  deserializeCV,\n  makeUnsignedContractCall,\n  makeUnsignedContractDeploy,\n  makeUnsignedSTXTokenTransfer,\n} from '@stacks/transactions';\nimport BN from 'bn.js';\n\nimport { hexToBuff } from '@app/common/utils';\n\nimport { getPostConditions } from './post-condition.utils';\nimport { isTransactionTypeSupported } from './transaction.utils';\n\nfunction initNonce(nonce?: number) {\n  return nonce !== undefined ? new BN(nonce, 10) : undefined;\n}\n\n// This type exists to bridge the gap while @stacks/connect uses an outdated\n// version of @stacks/network\ninterface TempCorrectNetworkPackageType {\n  network?: StacksNetwork;\n}\n\ninterface GenerateUnsignedTxArgs<TxPayload> {\n  txData: TxPayload;\n  publicKey: string;\n  fee: number | string;\n  nonce?: number;\n}\n\ntype ContractCallPayload = Omit<ConnectContractCallPayload, 'network'> &\n  TempCorrectNetworkPackageType;\ntype GenerateUnsignedContractCallTxArgs = GenerateUnsignedTxArgs<ContractCallPayload>;\n\nfunction generateUnsignedContractCallTx(args: GenerateUnsignedContractCallTxArgs) {\n  const { txData, publicKey, nonce, fee } = args;\n  const {\n    contractName,\n    contractAddress,\n    functionName,\n    functionArgs,\n    sponsored,\n    postConditionMode,\n    postConditions,\n    network,\n    anchorMode,\n  } = txData;\n\n  const fnArgs = functionArgs.map(arg => deserializeCV(hexToBuff(arg)));\n\n  const options = {\n    contractName,\n    contractAddress,\n    functionName,\n    publicKey,\n    anchorMode: anchorMode ?? AnchorMode.Any,\n    functionArgs: fnArgs,\n    nonce: initNonce(nonce)?.toString(),\n    fee: new BN(fee, 10).toString(),\n    postConditionMode: postConditionMode,\n    postConditions: getPostConditions(postConditions),\n    network,\n    sponsored,\n  };\n  return makeUnsignedContractCall(options);\n}\n\ntype ContractDeployPayload = Omit<ConnectContractDeployPayload, 'network'> &\n  TempCorrectNetworkPackageType;\ntype GenerateUnsignedContractDeployTxArgs = GenerateUnsignedTxArgs<ContractDeployPayload>;\n\nfunction generateUnsignedContractDeployTx(args: GenerateUnsignedContractDeployTxArgs) {\n  const { txData, publicKey, nonce, fee } = args;\n  const { contractName, codeBody, network, postConditions, postConditionMode, anchorMode } = txData;\n  const options = {\n    contractName,\n    codeBody,\n    nonce: initNonce(nonce)?.toString(),\n    fee: new BN(fee, 10)?.toString(),\n    publicKey,\n    anchorMode: anchorMode ?? AnchorMode.Any,\n    postConditionMode: postConditionMode,\n    postConditions: getPostConditions(postConditions),\n    network,\n  };\n  return makeUnsignedContractDeploy(options);\n}\n\ntype STXTransferPayload = Omit<ConnectSTXTransferPayload, 'network'> &\n  TempCorrectNetworkPackageType;\ntype GenerateUnsignedStxTransferTxArgs = GenerateUnsignedTxArgs<STXTransferPayload>;\n\nfunction generateUnsignedStxTransferTx(args: GenerateUnsignedStxTransferTxArgs) {\n  const { txData, publicKey, nonce, fee } = args;\n  const { recipient, memo, amount, network, anchorMode } = txData;\n  const options = {\n    recipient,\n    memo,\n    publicKey,\n    anchorMode: anchorMode ?? AnchorMode.Any,\n    amount: new BN(amount).toString(),\n    nonce: initNonce(nonce)?.toString(),\n    fee: new BN(fee, 10).toString(),\n    network,\n  };\n  return makeUnsignedSTXTokenTransfer(options);\n}\n\nexport type GenerateUnsignedTransactionOptions = GenerateUnsignedTxArgs<\n  ContractCallPayload | STXTransferPayload | ContractDeployPayload\n>;\nexport async function generateUnsignedTransaction(options: GenerateUnsignedTransactionOptions) {\n  const { txData, publicKey, nonce, fee } = options;\n  const isValid = isTransactionTypeSupported(txData.txType);\n\n  if (!isValid) throw new Error(`Invalid Transaction Type: ${txData.txType}`);\n\n  switch (txData.txType) {\n    case TransactionTypes.STXTransfer:\n      return generateUnsignedStxTransferTx({ txData, publicKey, nonce, fee });\n    case TransactionTypes.ContractCall:\n      return generateUnsignedContractCallTx({ txData, publicKey, nonce, fee });\n    case TransactionTypes.ContractDeploy:\n      return generateUnsignedContractDeployTx({ txData, publicKey, nonce, fee });\n  }\n}\n","import type { StacksTransaction } from '@stacks/transactions';\n\nimport { GlobalAppEvents, appEvents } from '@app/common/publish-subscribe';\n\nexport async function listenForStacksTxLedgerSigning(\n  unsignedTx: string\n): Promise<StacksTransaction> {\n  return new Promise((resolve, reject) => {\n    function txSignedHandler(msg: GlobalAppEvents['ledgerStacksTxSigned']) {\n      if (msg.unsignedTx === unsignedTx) {\n        appEvents.unsubscribe('ledgerStacksTxSigned', txSignedHandler);\n        appEvents.unsubscribe('ledgerStacksTxSigningCancelled', signingAbortedHandler);\n        resolve(msg.signedTx);\n      }\n    }\n    appEvents.subscribe('ledgerStacksTxSigned', txSignedHandler);\n\n    function signingAbortedHandler(msg: GlobalAppEvents['ledgerStacksTxSigningCancelled']) {\n      if (msg.unsignedTx === unsignedTx) {\n        appEvents.unsubscribe('ledgerStacksTxSigningCancelled', signingAbortedHandler);\n        appEvents.unsubscribe('ledgerStacksTxSigned', txSignedHandler);\n        reject(new Error('User cancelled the signing operation'));\n      }\n    }\n    appEvents.subscribe('ledgerStacksTxSigningCancelled', signingAbortedHandler);\n  });\n}\n","import { useMemo } from 'react';\n\nimport { ContractCallPayload, ContractDeployPayload, STXTransferPayload } from '@stacks/connect';\nimport { FungiblePostCondition, addressToString } from '@stacks/transactions';\n\nimport { isFtAsset, useGetFungibleTokenMetadataQuery } from '@leather.io/query';\n\nimport {\n  getPostCondition,\n  handlePostConditions,\n} from '@app/common/transactions/stacks/post-condition.utils';\nimport { useCurrentStacksAccountAddress } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\nimport { useTransactionRequestState } from './requests.hooks';\n\nexport function formatPostConditionState(\n  payload?: ContractCallPayload | ContractDeployPayload | STXTransferPayload | null,\n  address?: string\n) {\n  if (!payload || !address) return;\n\n  if (payload.postConditions) {\n    if (payload.stxAddress)\n      return handlePostConditions(payload.postConditions, payload.stxAddress, address);\n\n    return payload.postConditions.map(getPostCondition);\n  }\n  return [];\n}\n\nexport function usePostConditionModeState() {\n  return useTransactionRequestState()?.postConditionMode;\n}\n\nexport function usePostConditionState() {\n  const payload = useTransactionRequestState();\n  const address = useCurrentStacksAccountAddress();\n  return useMemo(() => formatPostConditionState(payload, address), [address, payload]);\n}\n\nexport function useAssetFromFungiblePostCondition(pc: FungiblePostCondition) {\n  const contractAddress = addressToString(pc.assetInfo.address);\n  const contractName = pc.assetInfo.contractName.content;\n  const contractId = `${contractAddress}.${contractName}`;\n  const { data: asset } = useGetFungibleTokenMetadataQuery(contractId);\n\n  return !(asset && isFtAsset(asset)) ? undefined : asset;\n}\n","import { useCallback, useMemo } from 'react';\nimport { useAsync } from 'react-async-hook';\n\nimport { bytesToHex } from '@noble/hashes/utils';\nimport { TransactionTypes } from '@stacks/connect';\nimport {\n  FungibleConditionCode,\n  PostCondition,\n  StacksTransaction,\n  TransactionSigner,\n  createAssetInfo,\n  createStacksPrivateKey,\n  makeStandardFungiblePostCondition,\n} from '@stacks/transactions';\nimport BN from 'bn.js';\n\nimport { useNextNonce } from '@leather.io/query';\nimport { isUndefined, stxToMicroStx } from '@leather.io/utils';\n\nimport { logger } from '@shared/logger';\nimport { StacksTransactionFormValues } from '@shared/models/form.model';\n\nimport { validateStacksAddress } from '@app/common/stacks-utils';\nimport {\n  GenerateUnsignedTransactionOptions,\n  generateUnsignedTransaction,\n} from '@app/common/transactions/stacks/generate-unsigned-txs';\nimport { useWalletType } from '@app/common/use-wallet-type';\nimport { listenForStacksTxLedgerSigning } from '@app/features/ledger/flows/stacks-tx-signing/stacks-tx-signing-event-listeners';\nimport { useLedgerNavigate } from '@app/features/ledger/hooks/use-ledger-navigate';\nimport { useToast } from '@app/features/toasts/use-toast';\nimport {\n  useCurrentStacksAccount,\n  useCurrentStacksAccountAddress,\n} from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { useCurrentStacksNetworkState } from '@app/store/networks/networks.hooks';\n\nimport { usePostConditionState } from './post-conditions.hooks';\nimport { useTransactionRequestState } from './requests.hooks';\n\nexport function useTransactionPostConditions() {\n  return usePostConditionState();\n}\n\nexport function useUnsignedStacksTransactionBaseState() {\n  const network = useCurrentStacksNetworkState();\n  const stxAddress = useCurrentStacksAccountAddress();\n  const { data: nextNonce } = useNextNonce(stxAddress);\n  const payload = useTransactionRequestState();\n  const postConditions = useTransactionPostConditions();\n  const account = useCurrentStacksAccount();\n\n  const options = useMemo(\n    () => ({\n      fee: 0,\n      publicKey: account?.stxPublicKey,\n      nonce: nextNonce?.nonce ?? 0,\n      txData: { ...payload, postConditions, network },\n    }),\n    [account?.stxPublicKey, network, nextNonce?.nonce, payload, postConditions]\n  );\n\n  const transaction = useAsync(async () => {\n    return generateUnsignedTransaction(options as GenerateUnsignedTransactionOptions);\n  }, [account, nextNonce?.nonce, payload, stxAddress]).result;\n\n  return useMemo(() => {\n    if (!account || !payload || !stxAddress) return { transaction: undefined, options };\n\n    if (\n      payload.txType === TransactionTypes.ContractCall &&\n      !validateStacksAddress(payload.contractAddress)\n    ) {\n      return { transaction: undefined, options };\n    }\n\n    return { transaction, options };\n  }, [account, options, payload, stxAddress, transaction]);\n}\n\nexport function useUnsignedPrepareTransactionDetails(values: StacksTransactionFormValues) {\n  const unsignedStacksTransaction = useUnsignedStacksTransaction(values);\n  return useMemo(() => unsignedStacksTransaction, [unsignedStacksTransaction]);\n}\n\ninterface PostConditionsOptions {\n  contractAddress: string;\n  contractAssetName: string;\n  contractName: string;\n  stxAddress: string;\n  amount: string | number;\n}\nexport function makePostCondition(options: PostConditionsOptions): PostCondition {\n  const { contractAddress, contractAssetName, contractName, stxAddress, amount } = options;\n\n  const assetInfo = createAssetInfo(contractAddress, contractName, contractAssetName);\n  return makeStandardFungiblePostCondition(\n    stxAddress,\n    FungibleConditionCode.Equal,\n    new BN(amount, 10).toString(),\n    assetInfo\n  );\n}\n\nexport function useGenerateUnsignedStacksTransaction() {\n  const stacksTxBaseState = useUnsignedStacksTransactionBaseState();\n  const stxAddress = useCurrentStacksAccountAddress();\n  const { data: nextNonce } = useNextNonce(stxAddress);\n\n  return useCallback(\n    (values: StacksTransactionFormValues) => {\n      if (!stacksTxBaseState || isUndefined(nextNonce?.nonce)) return undefined;\n      const { options } = stacksTxBaseState as any;\n      return generateUnsignedTransaction({\n        ...options,\n        fee: stxToMicroStx(values.fee).toNumber(),\n        nonce: Number(values.nonce) ?? nextNonce?.nonce,\n      });\n    },\n    [nextNonce?.nonce, stacksTxBaseState]\n  );\n}\n\nfunction useUnsignedStacksTransaction(values: StacksTransactionFormValues) {\n  const generateTx = useGenerateUnsignedStacksTransaction();\n\n  const tx = useAsync(async () => {\n    return generateTx(values ?? undefined);\n  }, [values]);\n\n  return tx.result;\n}\n\nfunction useSignTransactionSoftwareWallet() {\n  const toast = useToast();\n  const account = useCurrentStacksAccount();\n\n  return useCallback(\n    (tx: StacksTransaction) => {\n      if (account?.type !== 'software') {\n        [toast.error, logger.error].forEach(fn =>\n          fn('Cannot use this method to sign a non-software wallet transaction')\n        );\n        return;\n      }\n      const signer = new TransactionSigner(tx);\n      if (!account) return null;\n      signer.signOrigin(createStacksPrivateKey(account.stxPrivateKey));\n      return tx;\n    },\n    [account, toast.error]\n  );\n}\n\nexport function useSignStacksTransaction() {\n  const { whenWallet } = useWalletType();\n  const ledgerNavigate = useLedgerNavigate();\n  const signSoftwareTx = useSignTransactionSoftwareWallet();\n\n  return (tx: StacksTransaction) =>\n    whenWallet({\n      async ledger(tx: StacksTransaction) {\n        ledgerNavigate.toConnectAndSignStacksTransactionStep(tx);\n        return listenForStacksTxLedgerSigning(bytesToHex(tx.serialize()));\n      },\n      async software(tx: StacksTransaction) {\n        return signSoftwareTx(tx);\n      },\n    })(tx);\n}\n","import { bytesToUtf8 } from '@stacks/common';\nimport {\n  ClarityType,\n  ContractCallPayload,\n  IntCV,\n  StacksTransaction,\n  TokenTransferPayload,\n  addressToString,\n  cvToString,\n  serializeCV,\n} from '@stacks/transactions';\nimport BigNumber from 'bignumber.js';\n\nimport type { CryptoCurrency } from '@leather.io/models';\nimport {\n  useCryptoCurrencyMarketDataMeanAverage,\n  useGetStacksNetworkBlockTimeQuery,\n} from '@leather.io/query';\nimport {\n  baseCurrencyAmountInQuote,\n  convertToMoneyTypeWithDefaultOfZero,\n  createMoney,\n  formatMoney,\n  i18nFormatCurrency,\n  isDefined,\n  microStxToStx,\n} from '@leather.io/utils';\n\nimport { getEstimatedConfirmationTime } from '@app/common/transactions/stacks/transaction.utils';\nimport { removeTrailingNullCharacters } from '@app/common/utils';\nimport { useCurrentNetworkState } from '@app/store/networks/networks.hooks';\n\nexport function useStacksTransactionSummary(token: CryptoCurrency) {\n  // TODO: unsafe type assumption\n  const tokenMarketData = useCryptoCurrencyMarketDataMeanAverage(token as 'BTC' | 'STX');\n  const { isTestnet } = useCurrentNetworkState();\n  const { data: blockTime } = useGetStacksNetworkBlockTimeQuery();\n\n  function formSentSummaryTxState(txId: string, signedTx: StacksTransaction, decimals?: number) {\n    return {\n      state: {\n        txLink: {\n          blockchain: 'stacks',\n          txid: txId || '',\n        },\n        txId,\n        ...formReviewTxSummary(signedTx, token, decimals),\n      },\n    };\n  }\n\n  function formReviewTxSummary(tx: StacksTransaction, symbol = 'STX', decimals = 6) {\n    if (symbol !== 'STX') {\n      return formSip10TxSummary(tx, symbol, decimals);\n    }\n\n    const payload = tx.payload as TokenTransferPayload;\n    const txValue = payload.amount;\n    const fee = tx.auth.spendingCondition.fee;\n    const memoContent = payload?.memo?.content ?? '';\n    const memoDisplayText = removeTrailingNullCharacters(memoContent) || 'No memo';\n\n    return {\n      recipient: addressToString(payload.recipient.address),\n      fee: formatMoney(convertToMoneyTypeWithDefaultOfZero('STX', Number(fee))),\n      totalSpend: formatMoney(convertToMoneyTypeWithDefaultOfZero('STX', Number(txValue + fee))),\n      arrivesIn: getEstimatedConfirmationTime(isTestnet, blockTime),\n      symbol: 'STX',\n      txValue: microStxToStx(Number(txValue)).toString(),\n      sendingValue: formatMoney(convertToMoneyTypeWithDefaultOfZero('STX', Number(txValue))),\n      txFiatValue: i18nFormatCurrency(\n        baseCurrencyAmountInQuote(createMoney(Number(payload.amount), 'STX'), tokenMarketData)\n      ),\n      txFiatValueSymbol: tokenMarketData.price.symbol,\n      nonce: String(tx.auth.spendingCondition.nonce),\n      memoDisplayText,\n    };\n  }\n\n  function getSip10MemoDisplayText(payload: ContractCallPayload): string {\n    const noMemoText = 'No memo';\n    if (!isDefined(payload.functionArgs[3])) {\n      return noMemoText;\n    }\n    const isSome = payload.functionArgs[3].type === ClarityType.OptionalSome;\n    return isSome ? bytesToUtf8(serializeCV(payload.functionArgs[3])) : noMemoText;\n  }\n\n  function formSip10TxSummary(tx: StacksTransaction, symbol: string, decimals = 6) {\n    const payload = tx.payload as ContractCallPayload;\n    const fee = tx.auth.spendingCondition.fee;\n    const txValue = Number((payload.functionArgs[0] as IntCV).value);\n    const memoDisplayText = getSip10MemoDisplayText(payload);\n\n    const sendingValue = formatMoney(\n      convertToMoneyTypeWithDefaultOfZero(symbol, txValue, decimals)\n    );\n    const feeValue = formatMoney(convertToMoneyTypeWithDefaultOfZero('STX', Number(fee)));\n    const totalSpend = `${sendingValue} + ${feeValue}`;\n\n    const currencyTxAmount = baseCurrencyAmountInQuote(\n      createMoney(txValue, symbol.toUpperCase(), decimals),\n      tokenMarketData\n    );\n\n    const txFiatValue = currencyTxAmount.amount.toNumber()\n      ? i18nFormatCurrency(currencyTxAmount)\n      : undefined;\n\n    return {\n      recipient: cvToString(payload.functionArgs[2]),\n      arrivesIn: getEstimatedConfirmationTime(isTestnet, blockTime),\n      txValue: new BigNumber(txValue).shiftedBy(-decimals).toString(),\n      nonce: String(tx.auth.spendingCondition.nonce),\n      fee: feeValue,\n      totalSpend,\n      sendingValue,\n      txFiatValue,\n      txFiatValueSymbol: tokenMarketData.price.symbol,\n      memoDisplayText,\n      symbol,\n    };\n  }\n\n  return {\n    formSentSummaryTxState,\n    formReviewTxSummary,\n  };\n}\n","import { useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { AuthType, StacksTransaction } from '@stacks/transactions';\n\nimport type { CryptoCurrency } from '@leather.io/models';\nimport { delay, isError, isString } from '@leather.io/utils';\n\nimport { finalizeTxSignature } from '@shared/actions/finalize-tx-signature';\nimport { logger } from '@shared/logger';\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { useDefaultRequestParams } from '@app/common/hooks/use-default-request-search-params';\nimport { LoadingKeys } from '@app/common/hooks/use-loading';\nimport { useSubmitTransactionCallback } from '@app/common/hooks/use-submit-stx-transaction';\nimport { stacksTransactionToHex } from '@app/common/transactions/stacks/transaction.utils';\nimport { useToast } from '@app/features/toasts/use-toast';\nimport { useTransactionRequest } from '@app/store/transactions/requests.hooks';\nimport { useSignStacksTransaction } from '@app/store/transactions/transaction.hooks';\n\nimport { useStacksTransactionSummary } from './use-stacks-transaction-summary';\n\nasync function simulateShortDelayToAvoidUndefinedTabId() {\n  await delay(1000);\n}\n\ninterface UseStacksBroadcastTransactionArgs {\n  token: CryptoCurrency;\n  decimals?: number;\n  isIncreaseFeeTransaction?: boolean;\n}\n\nexport function useStacksBroadcastTransaction({\n  token,\n  decimals,\n  isIncreaseFeeTransaction,\n}: UseStacksBroadcastTransactionArgs) {\n  const signStacksTransaction = useSignStacksTransaction();\n  const [isBroadcasting, setIsBroadcasting] = useState(false);\n  const { tabId } = useDefaultRequestParams();\n  const requestToken = useTransactionRequest();\n  const { formSentSummaryTxState } = useStacksTransactionSummary(token);\n  const navigate = useNavigate();\n  const toast = useToast();\n\n  const broadcastTransactionFn = useSubmitTransactionCallback({\n    loadingKey: LoadingKeys.SUBMIT_SEND_FORM_TRANSACTION,\n  });\n\n  return useMemo(() => {\n    function handlePreviewSuccess(signedTx: StacksTransaction, txId?: string) {\n      if (requestToken && tabId) {\n        finalizeTxSignature({\n          requestPayload: requestToken,\n          tabId,\n          data: {\n            txRaw: stacksTransactionToHex(signedTx),\n            txId,\n          },\n        });\n      }\n      if (txId) {\n        if (isIncreaseFeeTransaction) {\n          navigate(RouteUrls.Activity);\n          return;\n        }\n\n        navigate(\n          RouteUrls.SentStxTxSummary.replace(':symbol', token.toLowerCase()).replace(\n            ':txId',\n            `${txId}`\n          ),\n          formSentSummaryTxState(txId, signedTx, decimals)\n        );\n      }\n    }\n\n    async function broadcastTransactionAction(signedTx: StacksTransaction) {\n      if (!signedTx) {\n        logger.error('Cannot broadcast transaction, no tx in state');\n        toast.error('Unable to broadcast transaction');\n        return;\n      }\n      try {\n        setIsBroadcasting(true);\n        const isSponsored = signedTx.auth?.authType === AuthType.Sponsored;\n        if (isSponsored) {\n          await simulateShortDelayToAvoidUndefinedTabId();\n          handlePreviewSuccess(signedTx);\n        } else {\n          await broadcastTransactionFn({\n            onError(e: Error | string) {\n              const message = isString(e) ? e : e.message;\n              navigate(RouteUrls.TransactionBroadcastError, { state: { message } });\n            },\n            onSuccess(txId) {\n              handlePreviewSuccess(signedTx, txId);\n              if (isIncreaseFeeTransaction) {\n                toast.success('Fee increased successfully');\n              }\n            },\n            replaceByFee: false,\n          })(signedTx);\n        }\n      } catch (e) {\n        navigate(RouteUrls.TransactionBroadcastError, {\n          state: { message: isError(e) ? e.message : 'Unknown error' },\n        });\n      } finally {\n        setIsBroadcasting(false);\n      }\n    }\n\n    async function broadcastTransaction(unsignedTx: StacksTransaction) {\n      try {\n        if (!unsignedTx) return;\n        const signedTx = await signStacksTransaction(unsignedTx);\n        // TODO: Maybe better error handling here?\n        if (!signedTx) return;\n        await broadcastTransactionAction(signedTx);\n      } catch (e) {}\n    }\n\n    return {\n      stacksBroadcastTransaction: broadcastTransaction,\n      isBroadcasting,\n    };\n  }, [\n    isBroadcasting,\n    requestToken,\n    tabId,\n    navigate,\n    token,\n    formSentSummaryTxState,\n    decimals,\n    toast,\n    broadcastTransactionFn,\n    signStacksTransaction,\n    isIncreaseFeeTransaction,\n  ]);\n}\n","import { HTMLStyledProps, styled } from 'leather-styles/jsx';\n\ninterface FeeMultiplierButtonProps extends HTMLStyledProps<'button'> {\n  multiplier: number;\n}\nexport function FeeMultiplierButton(props: FeeMultiplierButtonProps) {\n  const { multiplier, ...rest } = props;\n\n  return (\n    <styled.button\n      _focus={{ border: 'focus' }}\n      _hover={{ bg: 'ink.component-background-hover' }}\n      border=\"default\"\n      borderRadius=\"xs\"\n      key={`multiply-${multiplier}`}\n      px=\"space.02\"\n      py=\"space.01\"\n      type=\"button\"\n      {...rest}\n    >\n      {multiplier}x\n    </styled.button>\n  );\n}\n","import { HStack, HstackProps } from 'leather-styles/jsx';\n\nimport { FeeMultiplierButton } from './fee-multiplier-button';\n\nconst multipliers = [2, 5, 10];\n\ninterface FeeMultiplierProps extends HstackProps {\n  onSelectMultiplier(multiplier: number): void;\n  showReset?: boolean;\n}\n\nexport function FeeMultiplier(props: FeeMultiplierProps) {\n  const { onSelectMultiplier, showReset, ...rest } = props;\n\n  return (\n    <HStack alignItems=\"center\" {...rest}>\n      {showReset && (\n        <FeeMultiplierButton\n          multiplier={1}\n          key={`multiply-1`}\n          onClick={() => onSelectMultiplier(1)}\n        />\n      )}\n      {multipliers.map(multiplier => (\n        <FeeMultiplierButton\n          multiplier={multiplier}\n          onClick={() => onSelectMultiplier(multiplier)}\n          key={`multiply-${multiplier}`}\n        />\n      ))}\n    </HStack>\n  );\n}\n","import { useCallback, useMemo, useState } from 'react';\n\nimport { useField } from 'formik';\nimport { Stack, styled } from 'leather-styles/jsx';\n\nimport { microStxToStx, stxToMicroStx } from '@leather.io/utils';\n\nimport { ErrorLabel } from '@app/components/error-label';\n\nimport { FeeMultiplier } from './fee-multiplier';\n\ninterface IncreaseFeeFieldProps {\n  currentFee: number;\n}\nexport function IncreaseFeeField(props: IncreaseFeeFieldProps): React.JSX.Element {\n  const { currentFee } = props;\n  const [field, meta, helpers] = useField('fee');\n  const [modified, setModified] = useState(false);\n\n  const showResetMultiplier = useMemo(() => {\n    if (modified) return true;\n    if (!currentFee) return false;\n    return stxToMicroStx(field.value).toNumber() !== currentFee;\n  }, [currentFee, modified, field.value]);\n\n  const onSelectMultiplier = useCallback(\n    async (multiplier: number) => {\n      if (!currentFee) return;\n      setModified(multiplier !== 1);\n      await helpers.setValue(microStxToStx(currentFee * multiplier));\n    },\n    [currentFee, helpers]\n  );\n\n  return (\n    <>\n      <Stack position=\"relative\" width=\"100%\">\n        <FeeMultiplier\n          pr=\"space.03\"\n          height=\"100%\"\n          top={0}\n          right={0}\n          zIndex={99}\n          position=\"absolute\"\n          showReset={showResetMultiplier}\n          onSelectMultiplier={onSelectMultiplier}\n        />\n        <styled.label htmlFor=\"fee\" display=\"none\">\n          Fee\n        </styled.label>\n        <styled.input\n          _focus={{ border: 'focus' }}\n          autoComplete=\"off\"\n          bg=\"transparent\"\n          border=\"default\"\n          borderRadius=\"sm\"\n          height=\"inputHeight\"\n          display=\"block\"\n          p=\"space.04\"\n          placeholder=\"Enter a custom fee\"\n          ring=\"none\"\n          textStyle=\"body.02\"\n          width=\"100%\"\n          {...field}\n        />\n      </Stack>\n      {meta.error && <ErrorLabel>{meta.error}</ErrorLabel>}\n    </>\n  );\n}\n","import { Suspense, useCallback, useEffect } from 'react';\nimport { Outlet, useLocation, useNavigate, useParams } from 'react-router-dom';\n\nimport { type StacksTransaction } from '@stacks/transactions';\nimport BigNumber from 'bignumber.js';\nimport { Formik } from 'formik';\nimport { Flex, Stack } from 'leather-styles/jsx';\nimport * as yup from 'yup';\n\nimport {\n  useGetTransactionByIdQuery,\n  useStacksRawTransaction,\n  useStxAvailableUnlockedBalance,\n} from '@leather.io/query';\nimport { Caption, Sheet, SheetHeader, Spinner } from '@leather.io/ui';\nimport { microStxToStx, stxToMicroStx } from '@leather.io/utils';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { useRefreshAllAccountData } from '@app/common/hooks/account/use-refresh-all-account-data';\nimport { stacksValue } from '@app/common/stacks-utils';\nimport { safelyFormatHexTxid } from '@app/common/utils/safe-handle-txid';\nimport { stxFeeValidator } from '@app/common/validation/forms/fee-validators';\nimport { LoadingSpinner } from '@app/components/loading-spinner';\nimport { StacksTransactionItem } from '@app/components/stacks-transaction-item/stacks-transaction-item';\nimport { useStacksBroadcastTransaction } from '@app/features/stacks-transaction-request/hooks/use-stacks-broadcast-transaction';\nimport { useToast } from '@app/features/toasts/use-toast';\nimport { useCurrentStacksAccountAddress } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { useSubmittedTransactionsActions } from '@app/store/submitted-transactions/submitted-transactions.hooks';\n\nimport { IncreaseFeeActions } from './components/increase-fee-actions';\nimport { IncreaseFeeField } from './components/increase-fee-field';\n\nexport function IncreaseStxFeeSheet() {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { txid } = useParams();\n  const toast = useToast();\n  const refreshAccountData = useRefreshAllAccountData();\n  const { data: tx, isLoading: isLoadingTx } = useGetTransactionByIdQuery(txid || '');\n  const stxAddress = useCurrentStacksAccountAddress();\n  const availableUnlockedBalance = useStxAvailableUnlockedBalance(stxAddress);\n  const submittedTransactionsActions = useSubmittedTransactionsActions();\n  const { isLoadingRawTx, rawTx } = useStacksRawTransaction(txid || '');\n  const { stacksBroadcastTransaction } = useStacksBroadcastTransaction({\n    token: 'STX',\n    isIncreaseFeeTransaction: true,\n  });\n\n  useEffect(() => {\n    if (tx && tx.tx_status !== 'pending') {\n      toast.info('Your transaction went through! No need to speed it up.');\n    }\n  }, [toast, tx, tx?.tx_status]);\n\n  const onSubmit = useCallback(\n    async (values: any, rawTx?: StacksTransaction) => {\n      if (!tx || !rawTx) return;\n      rawTx.setFee(stxToMicroStx(values.fee).toString());\n      const txid = tx.tx_id || safelyFormatHexTxid(rawTx.txid());\n      await refreshAccountData();\n      submittedTransactionsActions.transactionReplacedByFee(txid);\n      await stacksBroadcastTransaction(rawTx);\n    },\n    [tx, refreshAccountData, submittedTransactionsActions, stacksBroadcastTransaction]\n  );\n\n  if (isLoadingRawTx || isLoadingTx) return <LoadingSpinner />;\n  if (!txid) return null;\n\n  const fee = Number(rawTx?.auth.spendingCondition?.fee);\n  const validationSchema = yup.object({ fee: stxFeeValidator(availableUnlockedBalance) });\n\n  return (\n    <>\n      <Formik\n        initialValues={{ fee: new BigNumber(microStxToStx(fee)).toNumber() }}\n        onSubmit={values => onSubmit(values, rawTx)}\n        validateOnChange={false}\n        validateOnBlur={false}\n        validateOnMount={false}\n        validationSchema={validationSchema}\n      >\n        {props => (\n          <>\n            <Sheet\n              isShowing={location.pathname === RouteUrls.IncreaseStxFee.replace(':txid', txid)}\n              onClose={() => navigate(RouteUrls.Home)}\n              header={<SheetHeader title=\"Increase fee\" />}\n              footer={\n                <IncreaseFeeActions\n                  isDisabled={stxToMicroStx(props.values.fee).isEqualTo(fee)}\n                  isLoading={isLoadingRawTx || isLoadingTx}\n                  onCancel={() => navigate(RouteUrls.Home)}\n                />\n              }\n            >\n              <Stack gap=\"space.05\" px=\"space.05\" pb=\"space.05\">\n                <Suspense\n                  fallback={\n                    <Flex alignItems=\"center\" justifyContent=\"center\" p=\"space.06\">\n                      <Spinner />\n                    </Flex>\n                  }\n                >\n                  <Caption>\n                    If your transaction is pending for a long time, its fee might not be high enough\n                    to be included in a block. Update the fee for a higher value and try again.\n                  </Caption>\n                  <Stack gap=\"space.06\">\n                    {tx && <StacksTransactionItem transaction={tx} />}\n                    <Stack gap=\"space.04\">\n                      <IncreaseFeeField currentFee={fee} />\n                      {availableUnlockedBalance.amount && (\n                        <Caption>\n                          Balance:{' '}\n                          {stacksValue({\n                            value: availableUnlockedBalance.amount,\n                            fixedDecimals: true,\n                          })}\n                        </Caption>\n                      )}\n                    </Stack>\n                  </Stack>\n                </Suspense>\n              </Stack>\n            </Sheet>\n            <Outlet />\n          </>\n        )}\n      </Formik>\n    </>\n  );\n}\n","export const confettiConfig = {\n  angle: 90,\n  spread: 460,\n  startVelocity: 40,\n  elementCount: 1600,\n  dragFriction: 0.12,\n  duration: 4000,\n  stagger: 2,\n  width: '8px',\n  height: '8px',\n  perspective: '771px',\n  colors: ['#a864fd', '#29cdff', '#78ff44', '#ff718d', '#fdff6a'],\n};\n","import { useLayoutEffect, useRef, useState } from 'react';\nimport Confetti from 'react-dom-confetti';\n\nimport { Dialog, Inset } from '@radix-ui/themes';\nimport { css } from 'leather-styles/css';\nimport { Box, Flex, Stack, styled } from 'leather-styles/jsx';\n\nimport { Button } from '@leather.io/ui';\n\nimport { HasChildren } from '@app/common/has-children';\nimport { openInNewTab } from '@app/common/utils/open-in-new-tab';\n\nimport { confettiConfig } from './confetti-config';\nimport { useLeatherIntroSheetContext } from './leather-intro-dialog';\n\nexport function LeatherIntroSheet({ children }: HasChildren) {\n  return (\n    <Dialog.Root defaultOpen>\n      <Dialog.Content\n        // Prevent immediate closing, force interaction\n        onEscapeKeyDown={e => e.preventDefault()}\n        onInteractOutside={e => e.preventDefault()}\n        className={css({ maxWidth: '500px', backgroundColor: 'ink.background-primary' })}\n      >\n        {children}\n      </Dialog.Content>\n    </Dialog.Root>\n  );\n}\n\nexport function LeatherIntroSheetPart1() {\n  const context = useLeatherIntroSheetContext();\n  const [showConfetti, setShowConfetti] = useState(false);\n\n  return (\n    <>\n      <Box data-confetti pos=\"absolute\" left={0} top={0} right={0} bottom={0} mt=\"space.01\">\n        <Box position=\"relative\" left=\"50%\" top=\"30%\">\n          <Confetti active={showConfetti} config={confettiConfig} />\n        </Box>\n      </Box>\n\n      <Box position=\"relative\" zIndex={9}>\n        <styled.img\n          alt=\"Cool brand sticks conforming to Hiro Wallet's new brand\"\n          src=\"assets/illustrations/layered-diamond-coin.png\"\n          w=\"270px\"\n          h=\"236px\"\n        />\n        <styled.h1 textStyle=\"heading.02\" mt=\"space.03\">\n          Hiro wallet is rebranding\n        </styled.h1>\n        <styled.p textStyle=\"heading.05\" mt=\"24px\" mr=\"20px\">\n          We're excited to share some big news with our valued users. Our beloved Hiro Wallet has\n          evolved into something even more incredible\n        </styled.p>\n        <Flex mt=\"48px\">\n          <Button\n            onClick={() => {\n              context.onRevealNewName();\n              setShowConfetti(true);\n            }}\n          >\n            {!showConfetti ? 'Click to reveal our new name' : 'Introducing'}\n          </Button>\n        </Flex>\n      </Box>\n    </>\n  );\n}\n\nexport function LeatherIntroSheetPart2() {\n  const ref = useRef<HTMLVideoElement>(null);\n  const context = useLeatherIntroSheetContext();\n\n  useLayoutEffect(() => {\n    if (ref.current) ref.current.playbackRate = 0.65;\n  }, [ref]);\n\n  return (\n    <Box>\n      <styled.h1 textStyle=\"heading.02\">Say hello to</styled.h1>\n\n      <Box height=\"286px\" mt=\"48px\" filter=\"invert()\">\n        <Inset>\n          <video ref={ref} src=\"assets/video/animated-leather-logo.mp4\" autoPlay muted />\n        </Inset>\n      </Box>\n      <Box mt=\"24px\">\n        We're excited to introduce Leather, a new brand with one mission in mind: driving the global\n        transition to a digital economy built on Bitcoin.{' '}\n        <styled.a\n          href=\"https://leather.io/blog/leather-wallet-brand-launch\"\n          textDecoration=\"underline\"\n          onClick={e => {\n            e.preventDefault();\n            openInNewTab('https://leather.io/blog/leather-wallet-brand-launch');\n          }}\n        >\n          Learn more \n        </styled.a>\n      </Box>\n      <styled.span textStyle=\"caption.01\" display=\"block\" textAlign=\"left\" mt=\"16px\">\n        Leather Wallet will now be provided by Leather Wallet LLC [a subsidiary of Nassau Machines\n        Inc]. Please review and accept Leather Wallet{' '}\n        <styled.a href=\"https://leather.io/terms\" textDecoration=\"underline\" target=\"_blank\">\n          Terms of Service\n        </styled.a>{' '}\n        and{' '}\n        <styled.a\n          href=\"https://leather.io/privacy-policy\"\n          target=\"_blank\"\n          textDecoration=\"underline\"\n        >\n          Privacy Policy\n        </styled.a>\n        .\n      </styled.span>\n      <Stack gap=\"16px\" mt=\"space.05\">\n        <Button onClick={context.onAcceptTerms}>Accept new terms</Button>\n        <Button onClick={context.onRejectAndUninstall} variant=\"outline\">\n          Refuse and uninstall\n        </Button>\n      </Stack>\n    </Box>\n  );\n}\n","import { createContext, useContext } from 'react';\nimport { Outlet, Route, useNavigate } from 'react-router-dom';\n\nimport { delay } from '@leather.io/utils';\n\nimport { analytics } from '@shared/utils/analytics';\n\nimport { openInNewTab } from '@app/common/utils/open-in-new-tab';\n\nimport {\n  LeatherIntroSheet,\n  LeatherIntroSheetPart1,\n  LeatherIntroSheetPart2,\n} from './leather-intro-steps';\n\nexport const leatherIntroSheetRoutes = (\n  <Route element={<LeatherIntroSheetContainer />}>\n    <Route path=\"we-have-a-new-name\" element={<LeatherIntroSheetPart1 />} />\n    <Route path=\"introducing-leather\" element={<LeatherIntroSheetPart2 />} />\n  </Route>\n);\n\ninterface IntroContextProps {\n  onRevealNewName(): void;\n  onAcceptTerms(): void;\n  onRejectAndUninstall(): void;\n}\nconst introContext = createContext<IntroContextProps | null>(null);\n\nconst { Provider: LeatherIntroSheetProvider } = introContext;\n\nexport function useLeatherIntroSheetContext() {\n  const context = useContext(introContext);\n  if (!context) throw new Error('useLeatherIntroSheetContext must be used within a Provider');\n  return context;\n}\n\nfunction LeatherIntroSheetContainer() {\n  const navigate = useNavigate();\n  async function onRevealNewName() {\n    void analytics.track('new_brand_reveal_name');\n    await delay(4000);\n    navigate('./introducing-leather', { replace: true });\n  }\n\n  async function onAcceptTerms() {\n    void analytics.track('new_brand_accept_terms');\n    navigate('../', { replace: true });\n  }\n\n  function onRejectAndUninstall() {\n    void analytics.track('new_brand_reject_terms');\n    openInNewTab('https://leather.gitbook.io/guides/troubleshooting/uninstall-wallet');\n  }\n\n  return (\n    <LeatherIntroSheetProvider value={{ onRevealNewName, onAcceptTerms, onRejectAndUninstall }}>\n      <LeatherIntroSheet>\n        <Outlet />\n      </LeatherIntroSheet>\n    </LeatherIntroSheetProvider>\n  );\n}\n","export default __webpack_public_path__ + \"1ece0924dff7628d6321fcddbdd91e12.png\";","import * as PrismLib from 'prismjs';\n\nexport interface PrismType {\n  languages: typeof PrismLib.languages;\n  tokenize: typeof PrismLib.tokenize;\n  highlight: typeof PrismLib.highlight;\n  [key: string]: any;\n}\n\nconst clarity = (Prism: PrismType) => {\n  // Functions to construct regular expressions\n  // simple form\n  // e.g. (interactive ... or (interactive)\n  // function simple_form(name) {\n  //   return RegExp('(\\\\()' + name + '(?=[\\\\s\\\\)])');\n  // }\n\n  // booleans and numbers\n  function primitive(pattern: string) {\n    return RegExp(`([\\\\s([])${pattern}(?=[\\\\s)])`);\n  }\n\n  // Patterns in regular expressions\n\n  // Open parenthesis for look-behind\n  const par = '(\\\\()';\n  // const endpar = '(?=\\\\))';\n  // End the pattern with look-ahead space\n  const space = '(?=\\\\s)';\n\n  const language: PrismLib.Grammar = {\n    // Three or four semicolons are considered a heading.\n    heading: {\n      pattern: /;;;.*/,\n      alias: ['comment', 'title'],\n    },\n    comment: /;;.*/,\n    string: [\n      {\n        pattern: /\"(?:[^\"\\\\]|\\\\.)*\"/,\n        greedy: true,\n      },\n      {\n        pattern: /0x[0-9a-fA-F]*/,\n        greedy: true,\n      },\n    ],\n    symbol: {\n      pattern: /'[^()#'\\s]+/,\n      greedy: true,\n    },\n    keyword: [\n      {\n        pattern: RegExp(\n          par +\n            '(?:or|and|xor|not|begin|let|if|ok|err|unwrap\\\\!|unwrap-err\\\\!|unwrap-panic|unwrap-err-panic|match|try\\\\!|asserts\\\\!|\\\nmap-get\\\\?|var-get|contract-map-get\\\\?|get|tuple|\\\ndefine-public|define-private|define-constant|define-map|define-data-var|\\\ndefine-fungible-token|define-non-fungible-token|\\\ndefine-read-only)' +\n            space\n        ),\n        lookbehind: true,\n      },\n      {\n        pattern: RegExp(par + '(?:is-eq|is-some|is-none|is-ok|is-er)' + space),\n        lookbehind: true,\n      },\n      {\n        pattern: RegExp(\n          par +\n            '(?:var-set|map-set|map-delete|map-insert|\\\nft-transfer\\\\?|nft-transfer\\\\?|nft-mint\\\\?|ft-mint\\\\?|nft-get-owner\\\\?|ft-get-balance\\\\?|\\\ncontract-call\\\\?)' +\n            space\n        ),\n        lookbehind: true,\n      },\n      {\n        pattern: RegExp(\n          par +\n            '(?:list|map|filter|fold|len|concat|append|as-max-len\\\\?|to-int|to-uint|\\\nbuff|hash160|sha256|sha512|sha512/256|keccak256|true|false|none)' +\n            space\n        ),\n        lookbehind: true,\n      },\n      {\n        pattern: RegExp(\n          par +\n            '(?:as-contract|contract-caller|tx-sender|block-height|at-block|get-block-info\\\\?)' +\n            space\n        ),\n        lookbehind: true,\n      },\n      {\n        pattern: RegExp(par + '(?:is-eq|is-some|is-none|is-ok|is-err)' + space),\n        lookbehind: true,\n      },\n    ],\n    boolean: /(?:false|true|none)/,\n    number: {\n      pattern: primitive('[-]?u?\\\\d+'),\n      lookbehind: true,\n    },\n    address: {\n      pattern: /([\\s()])(?:\\'[0123456789ABCDEFGHJKMNPQRSTVWXYZ]{28,41})(?=[()\\s]|$)/,\n      lookbehind: true,\n    },\n    operator: {\n      pattern: /(\\()(?:[-+*\\/]|[<>]=?|=>?)(?=[()\\s]|$)/,\n      lookbehind: true,\n    },\n    function: {\n      pattern: /(\\()[^()'\\s]+(?=[()\\s]|$)/,\n      lookbehind: true,\n    },\n    punctuation: /[()']/,\n  };\n\n  Prism.languages.clarity = language;\n};\n\nclarity(PrismLib);\n\nexport const Prism = PrismLib as PrismType;\n","import { useEffect, useRef, useState } from 'react';\n\ninterface UiClipboard {\n  value: string;\n  onCopy(): void;\n  hasCopied: boolean;\n}\n\nfunction copyToClipboard(value: string) {\n  const el = document.createElement('textarea');\n  el.value = value;\n  el.setAttribute('readonly', '');\n  el.style.position = 'absolute';\n  el.style.left = '-9999px';\n  document.body.appendChild(el);\n\n  const curSelection = document.getSelection();\n  const selected = curSelection && curSelection.rangeCount > 0 ? curSelection.getRangeAt(0) : false;\n  el.select();\n\n  document.execCommand('copy');\n  document.body.removeChild(el);\n  if (selected) {\n    document.getSelection()?.removeAllRanges();\n    document.getSelection()?.addRange(selected);\n  }\n}\n\nexport function useClipboard(value: string): UiClipboard {\n  const [hasCopied, setHasCopied] = useState(false);\n  const timers = useRef<number[]>([]);\n\n  function onCopy() {\n    copyToClipboard(value);\n    setHasCopied(true);\n    timers.current.push(window.setTimeout(() => setHasCopied(false), 1250));\n  }\n\n  useEffect(() => () => timers.current.forEach(timer => clearTimeout(timer)), []);\n\n  return { value, onCopy, hasCopied };\n}\n","import { type UseQueryOptions, useQueries } from '@tanstack/react-query';\nimport axios from 'axios';\n\nimport { type BitcoinNetworkModes } from '@leather.io/models';\nimport { ensureArray, isEmptyString } from '@leather.io/utils';\n\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useCurrentAccountNativeSegwitIndexZeroSignerNullable } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useCurrentNetwork } from '@app/store/networks/networks.selectors';\n\nconst checkApi = 'https://api.chainalysis.com/api/risk/v2/entities';\n\nconst headers = {\n  // Known public key, do not open a vulnerability report for this\n  Token: '51d3c7529eb08a8c62d41d70d006bdcd4248150fbd6826d5828ac908e7c12073',\n};\n\nasync function registerEntityAddressComplianceCheck(address: string) {\n  const resp = await axios.post(checkApi, { address }, { headers });\n  return resp.data;\n}\n\nasync function checkEntityAddressComplianceCheck(address: string) {\n  const resp = await axios.get(checkApi + '/' + address, { headers });\n  return resp.data;\n}\n\ntype ComplianceReportSeverity = 'None' | 'Low' | 'Moderate' | 'Severe';\n\ninterface ComplianceReport {\n  risk: ComplianceReportSeverity;\n  isOnSanctionsList: boolean;\n}\nexport async function checkEntityAddressIsCompliant(address: string): Promise<ComplianceReport> {\n  await registerEntityAddressComplianceCheck(address);\n  const entityReport = await checkEntityAddressComplianceCheck(address);\n\n  const isOnSanctionsList = entityReport.risk === 'Severe';\n\n  if (isOnSanctionsList) void analytics.track('non_compliant_entity_detected', { address });\n\n  return { ...entityReport, isOnSanctionsList };\n}\n\nconst oneWeekInMs = 604_800_000;\n\nfunction makeComplianceQuery(\n  address: string,\n  network: BitcoinNetworkModes\n): UseQueryOptions<ComplianceReport> {\n  return {\n    enabled: network === 'mainnet',\n    queryKey: ['address-compliance-check', address],\n    async queryFn() {\n      return checkEntityAddressIsCompliant(address);\n    },\n    gcTime: Infinity,\n    staleTime: oneWeekInMs,\n    refetchInterval: oneWeekInMs,\n    refetchOnMount: false,\n    refetchOnReconnect: false,\n    refetchOnWindowFocus: false,\n  };\n}\n\nfunction useCheckAddressComplianceQueries(addresses: string[]) {\n  const network = useCurrentNetwork();\n  return useQueries({\n    queries: addresses\n      .filter(address => !isEmptyString(address))\n      .map(address => makeComplianceQuery(address, network.chain.bitcoin.mode)),\n  });\n}\n\nexport const compliantErrorBody = 'Unable to handle request, errorCode: 1398';\n\nexport function useBreakOnNonCompliantEntity(address: string | string[]) {\n  const nativeSegwitSigner = useCurrentAccountNativeSegwitIndexZeroSignerNullable();\n\n  const complianceReports = useCheckAddressComplianceQueries([\n    nativeSegwitSigner?.address ?? '',\n    ...ensureArray(address),\n  ]);\n\n  if (complianceReports.some(report => report.data?.isOnSanctionsList)) {\n    void analytics.track('non_compliant_entity_detected');\n    throw new Error(compliantErrorBody);\n  }\n}\n","import { CSSProperties } from 'react';\n\nimport { PrismTheme } from 'prism-react-renderer';\n\nexport interface GrammaticalToken {\n  types: string[];\n  content: string;\n  empty?: boolean;\n}\n\ninterface GrammaticalTokenOutputProps {\n  key?: React.Key;\n  style?: CSSProperties;\n  className: string;\n  children: string;\n  [otherProp: string]: any;\n}\n\ninterface GrammaticalTokenInputProps {\n  key?: React.Key;\n  style?: CSSProperties;\n  className?: string;\n  token: GrammaticalToken;\n  [otherProp: string]: any;\n}\n\ninterface LineInputProps {\n  key?: React.Key;\n  style?: CSSProperties;\n  className?: string;\n  line: GrammaticalToken[];\n  [otherProp: string]: any;\n}\n\ninterface LineOutputProps {\n  key?: React.Key;\n  style?: CSSProperties;\n  className: string;\n  [otherProps: string]: any;\n}\n\nexport interface RenderProps {\n  tokens: GrammaticalToken[][];\n  className: string;\n  style: CSSProperties;\n  getLineProps(input: LineInputProps): LineOutputProps;\n  getTokenProps(input: GrammaticalTokenInputProps): GrammaticalTokenOutputProps;\n}\n\nexport type GetGrammaticalTokenProps = (\n  input: GrammaticalTokenInputProps\n) => GrammaticalTokenOutputProps;\n\nexport type Language =\n  | 'markup'\n  | 'bash'\n  | 'clarity'\n  | 'clike'\n  | 'c'\n  | 'cpp'\n  | 'css'\n  | 'javascript'\n  | 'jsx'\n  | 'coffeescript'\n  | 'actionscript'\n  | 'css-extr'\n  | 'diff'\n  | 'git'\n  | 'go'\n  | 'graphql'\n  | 'handlebars'\n  | 'json'\n  | 'less'\n  | 'lisp'\n  | 'makefile'\n  | 'markdown'\n  | 'objectivec'\n  | 'ocaml'\n  | 'python'\n  | 'reason'\n  | 'sass'\n  | 'scss'\n  | 'sql'\n  | 'stylus'\n  | 'tsx'\n  | 'typescript'\n  | 'wasm'\n  | 'yaml';\n\nexport const theme: PrismTheme = {\n  plain: {\n    color: 'unset',\n    background: 'transparent',\n  },\n  styles: [\n    {\n      types: ['prolog'],\n      style: {\n        color: 'rgb(0, 0, 128)',\n      },\n    },\n    {\n      types: ['comment', 'punctuation'],\n      style: {\n        color: 'rgb(106, 153, 85)',\n      },\n    },\n    {\n      types: ['builtin', 'tag', 'changed', 'function', 'keyword'],\n      style: {\n        color: 'rgb(86, 156, 214)',\n      },\n    },\n    {\n      types: ['number', 'variable', 'inserted'],\n      style: {\n        color: '#A58FFF',\n      },\n    },\n    {\n      types: ['operator'],\n      style: {\n        color: 'rgb(212, 212, 212)',\n      },\n    },\n    {\n      types: ['constant'],\n      style: {\n        color: 'rgb(100, 102, 149)',\n      },\n    },\n    {\n      types: ['attr-name'],\n      style: {\n        color: 'rgb(156, 220, 254)',\n      },\n    },\n    {\n      types: ['car'],\n      style: {\n        color: 'rgb(156, 220, 254)',\n      },\n    },\n    {\n      types: ['deleted', 'string'],\n      style: {\n        color: '#FF7B48',\n      },\n    },\n    {\n      types: ['class-name'],\n      style: {\n        color: 'rgb(78, 201, 176)',\n      },\n    },\n    {\n      types: ['char'],\n      style: {\n        color: '#FF7B48',\n      },\n    },\n  ],\n};\n","export const startPad = (n: number, z = 2, s = '0') =>\n  (n + '').length <= z ? ['', '-'][+(n < 0)] + (s.repeat(z) + Math.abs(n)).slice(-1 * z) : n + '';\n","import { memo } from 'react';\n\nimport { Box, Flex } from 'leather-styles/jsx';\nimport { Highlight } from 'prism-react-renderer';\n\nimport type { PrismType } from '@app/common/clarity-prism';\n\nimport {\n  GetGrammaticalTokenProps,\n  GrammaticalToken,\n  Language,\n  RenderProps,\n  theme,\n} from '../utils/prism';\nimport { startPad } from '../utils/start-pad';\n\nconst lineNumberWidth = 60;\nconst getLineNumber = (n: number, length: number) => startPad(n + 1, length.toString().length);\n\nfunction Tokens({\n  tokens,\n  getTokenProps,\n  showLineNumbers,\n  ...rest\n}: {\n  tokens: GrammaticalToken[];\n  getTokenProps: GetGrammaticalTokenProps;\n  showLineNumbers?: boolean;\n}) {\n  const pl = `calc(${showLineNumbers ? lineNumberWidth : '0'}px + 16px`;\n\n  return (\n    <Box pl={pl} pr=\"space.04\" position=\"relative\" zIndex={2} {...rest}>\n      {tokens.map((token, i) => (\n        <Box key={i} py=\"space.01\" display=\"inline-block\" {...getTokenProps({ token, i })} />\n      ))}\n    </Box>\n  );\n}\n\nfunction LineNumber({ number, length, ...rest }: { number: number; length: number }) {\n  return (\n    <Flex\n      textAlign=\"right\"\n      pr=\"space.04\"\n      pl=\"space.04\"\n      width={lineNumberWidth}\n      borderRight=\"1px solid\"\n      borderRightColor=\"inherit\"\n      color=\"ink.text-subdued\"\n      flexShrink={0}\n      style={{ userSelect: 'none' }}\n      position=\"absolute\"\n      left={0}\n      height=\"100%\"\n      align=\"baseline\"\n      justify=\"center\"\n      zIndex={1}\n      {...rest}\n    >\n      {getLineNumber(number, length)}\n    </Flex>\n  );\n}\n\nfunction Line({\n  tokens,\n  getTokenProps,\n  index,\n  length,\n  showLineNumbers,\n  hideLineHover,\n  ...rest\n}: {\n  tokens: GrammaticalToken[];\n  index: number;\n  length: number;\n  getTokenProps: GetGrammaticalTokenProps;\n  showLineNumbers?: boolean;\n  hideLineHover?: boolean;\n}) {\n  return (\n    <Flex\n      height=\"space.05\"\n      align=\"baseline\"\n      borderColor=\"ink.border-default\"\n      _hover={\n        hideLineHover\n          ? undefined\n          : {\n              bg: ['unset', 'unset', 'ink.text-primary'],\n              borderColor: ['ink.text-primary', 'ink.text-primary', 'ink.text-subdued'],\n            }\n      }\n      position=\"relative\"\n      {...rest}\n    >\n      {showLineNumbers ? <LineNumber number={index} length={length} /> : null}\n      <Tokens showLineNumbers={showLineNumbers} getTokenProps={getTokenProps} tokens={tokens} />\n    </Flex>\n  );\n}\n\nfunction Lines({\n  tokens: lines,\n  getLineProps,\n  getTokenProps,\n  className,\n  showLineNumbers,\n  hideLineHover,\n}: { showLineNumbers?: boolean; hideLineHover?: boolean } & RenderProps) {\n  return (\n    <Box display=\"block\" className={className}>\n      <Box display=\"block\" style={{ fontFamily: 'Fira Code' }}>\n        {lines.map((tokens: GrammaticalToken[], i: number) => (\n          <Line\n            index={i}\n            key={i}\n            tokens={tokens}\n            getTokenProps={getTokenProps}\n            length={lines.length + 1}\n            showLineNumbers={showLineNumbers}\n            hideLineHover={hideLineHover || lines.length < 3}\n            {...getLineProps({ line: tokens, key: i })}\n          />\n        ))}\n      </Box>\n    </Box>\n  );\n}\n\nexport interface HighlighterProps {\n  code: string;\n  language?: Language;\n  showLineNumbers?: boolean;\n  hideLineHover?: boolean;\n  prism: PrismType;\n}\n\nexport const Highlighter = memo(\n  ({ code, language = 'clarity', showLineNumbers, hideLineHover, prism }: HighlighterProps) => {\n    return (\n      <Highlight theme={theme} code={code} language={language} prism={prism as any}>\n        {props => (\n          <Lines showLineNumbers={showLineNumbers} hideLineHover={hideLineHover} {...props} />\n        )}\n      </Highlight>\n    );\n  }\n);\n","import { forwardRef } from 'react';\n\nimport { Box, BoxProps } from 'leather-styles/jsx';\n\nimport { Highlighter, HighlighterProps } from './highlighter';\n\ntype CodeBlockProps = HighlighterProps & BoxProps;\n\nexport const CodeBlock = forwardRef(\n  (\n    { code, showLineNumbers, hideLineHover, style = {}, language, prism, ...rest }: CodeBlockProps,\n    ref: React.Ref<HTMLDivElement>\n  ) => (\n    <Box\n      bg=\"invert\"\n      borderRadius={[0, 'lg']}\n      overflowX=\"auto\"\n      p=\"space.04\"\n      ref={ref}\n      style={{\n        ...style,\n        whiteSpace: 'pre',\n        fontFamily: 'Fira Code, Consolata, monospace',\n        fontSize: '14px',\n      }}\n      width=\"100%\"\n      {...rest}\n    >\n      <Highlighter\n        language={language}\n        code={code.toString().trim()}\n        showLineNumbers={showLineNumbers}\n        hideLineHover={hideLineHover}\n        prism={prism}\n      />\n    </Box>\n  )\n);\n","import { useRouteError } from 'react-router-dom';\n\nimport BroadcastError from '@assets/images/unhappy-face-ui.png';\nimport { SharedComponentsSelectors } from '@tests/selectors/shared-component.selectors';\nimport { Box, Flex, HStack, styled } from 'leather-styles/jsx';\n\nimport { Button, CopyIcon, Link } from '@leather.io/ui';\nimport { isError } from '@leather.io/utils';\n\nimport { Prism } from '@app/common/clarity-prism';\nimport { useClipboard } from '@app/common/hooks/use-copy-to-clipboard';\nimport { compliantErrorBody } from '@app/query/common/compliance-checker/compliance-checker.query';\nimport { CodeBlock } from '@app/ui/components/codeblock';\n\nimport { useToast } from '../toasts/use-toast';\n\nfunction shouldShowContactSupportMessage(errorMsg: string) {\n  if (errorMsg.includes(compliantErrorBody)) return false;\n  return true;\n}\n\nfunction ErroBoundaryBody() {\n  return (\n    <styled.span\n      data-testid={SharedComponentsSelectors.BroadcastErrorTitle}\n      mx=\"space.05\"\n      mt=\"space.05\"\n      textStyle=\"label.02\"\n    >\n      Leather has crashed. If this problem persists, contact our{' '}\n      <Link href=\"https://leather.io/support\" target=\"_blank\" textDecoration=\"underline\">\n        <styled.span\n          data-testid={SharedComponentsSelectors.BroadcastErrorTitle}\n          textStyle=\"label.02\"\n        >\n          support team.\n        </styled.span>\n      </Link>\n    </styled.span>\n  );\n}\n\nconst title = 'Something went wrong';\n\nconst defaultErrorText = 'Unknown error';\n\nfunction getErrorText(error: unknown) {\n  if (!isError(error)) return defaultErrorText;\n  return error.stack || defaultErrorText;\n}\n\nexport function RouterErrorBoundary() {\n  const error = useRouteError();\n  const toast = useToast();\n\n  const errorText = getErrorText(error);\n\n  const { onCopy } = useClipboard(getErrorText(error));\n\n  function onClickCopy() {\n    onCopy();\n    toast.success('Error copied!');\n  }\n\n  return (\n    <Flex\n      alignItems=\"center\"\n      justifyContent=\"center\"\n      flexDirection=\"column\"\n      px={['space.05', 'unset']}\n      py={['space.05', 'space.06']}\n      width=\"100%\"\n      maxWidth=\"500px\"\n    >\n      <Box mt=\"space.05\">\n        <img src={BroadcastError} alt=\"Unhappy user interface cloud\" width=\"106px\" />\n      </Box>\n\n      <styled.span\n        data-testid={SharedComponentsSelectors.BroadcastErrorTitle}\n        mx=\"space.05\"\n        mt=\"space.05\"\n        textStyle=\"heading.05\"\n      >\n        {title}\n      </styled.span>\n\n      {shouldShowContactSupportMessage(errorText) && <ErroBoundaryBody />}\n\n      {errorText && (\n        <CodeBlock\n          bg=\"ink.background-secondary\"\n          borderRadius=\"sm\"\n          my=\"space.05\"\n          mx=\"space.05\"\n          p=\"space.04\"\n          prism={Prism}\n          code={errorText}\n          language=\"json\"\n          hideLineHover\n        />\n      )}\n\n      <HStack width=\"100%\" gap=\"space.04\">\n        <Button\n          flex=\"1\"\n          display=\"flex\"\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          gap=\"5\"\n          onClick={onClickCopy}\n          variant=\"outline\"\n        >\n          Copy error\n          <CopyIcon />\n        </Button>\n        <Button flex=\"1\" onClick={() => window.location.reload()}>\n          Reload extension\n        </Button>\n      </HStack>\n    </Flex>\n  );\n}\n","// https://github.com/moldy530/react-use-scroll-lock/blob/master/src/use-scroll-lock.ts\nimport { useEffect, useState } from 'react';\n\ndeclare global {\n  // tslint:disable-next-line: interface-name\n  interface Window {\n    __useScrollLockStyle: string | undefined | null;\n    __useScrollLockInstances: Set<Record<string, unknown>> | undefined | null;\n  }\n}\n\nlet instances: Set<Record<string, unknown>> = new Set();\n\nif (typeof window !== 'undefined') {\n  // this is necessary because we may share instances of this file on a page so we store these globally\n  window.__useScrollLockInstances =\n    window.__useScrollLockInstances || new Set<Record<string, unknown>>();\n  instances = window.__useScrollLockInstances;\n}\n\nconst registerInstance = (instance: Record<string, unknown>) => {\n  if (instances.size === 0) {\n    setBodyOverflow(true);\n  }\n\n  instances.add(instance);\n};\n\nconst unregisterInstance = (instance: Record<string, unknown>) => {\n  instances.delete(instance);\n\n  if (instances.size === 0) {\n    setBodyOverflow(false);\n  }\n};\n\nconst setBodyOverflow = (shouldLock: boolean) => {\n  if (shouldLock) {\n    document.body.classList.add('no-scroll');\n  } else {\n    document.body.classList.remove('no-scroll');\n  }\n};\n\nexport const useScrollLock = (shouldLock: boolean) => {\n  // we generate a unique reference to the component that uses this thing\n  const [elementId] = useState({});\n\n  useEffect(() => {\n    if (shouldLock) {\n      registerInstance(elementId);\n    }\n\n    // Re-enable scrolling when component unmounts\n    return () => unregisterInstance(elementId);\n  }, [elementId, shouldLock]); // ensures effect is only run on mount, unmount, and on shouldLock change\n};\n","import type { TransactionInput } from '@scure/btc-signer/psbt';\n\nimport { isDefined } from '@leather.io/utils';\n\nimport { logger } from '@shared/logger';\n\nexport function getBitcoinInputValue(input: TransactionInput) {\n  if (isDefined(input.witnessUtxo)) return Number(input.witnessUtxo.amount);\n  if (isDefined(input.nonWitnessUtxo) && isDefined(input.index))\n    return Number(input.nonWitnessUtxo.outputs[input.index]?.amount);\n  logger.warn('Unable to find either `witnessUtxo` or `nonWitnessUtxo` in input. Defaulting to 0');\n  return 0;\n}\n","import { noop } from '@leather.io/utils';\n\n// TODO: Migrate to @leather.io/utils\nexport function createWaitableAction<T = unknown>() {\n  let resolve = (_value?: unknown) => noop();\n  const promise = new Promise(r => (resolve = r));\n  return {\n    done(value?: T) {\n      resolve(value);\n    },\n    wait() {\n      return promise as Promise<T>;\n    },\n  };\n}\n","import { createContext, useContext } from 'react';\n\nimport * as btc from '@scure/btc-signer';\nimport { StacksTransaction } from '@stacks/transactions';\n\nimport type { SupportedBlockchains } from '@leather.io/models';\n\nimport { createWaitableAction } from '@app/common/utils/create-waitable-action';\n\nimport { BaseLedgerOperationContext } from '../../utils/generic-ledger-utils';\n\nexport function createWaitForUserToSeeWarningScreen() {\n  return createWaitableAction<'ignored-warning' | 'cancelled-operation'>();\n}\n\ninterface BaseLedgerTxSigningContext extends BaseLedgerOperationContext {\n  chain: SupportedBlockchains;\n  signTransaction(): Promise<void> | void;\n}\n\ninterface BitcoinLedgerSigningContext extends BaseLedgerTxSigningContext {\n  chain: 'bitcoin';\n  transaction: btc.Transaction | null;\n}\n\ninterface StacksLedgerSigningContext extends BaseLedgerTxSigningContext {\n  chain: 'stacks';\n  transaction: StacksTransaction | null;\n  hasUserSkippedBuggyAppWarning: ReturnType<typeof createWaitForUserToSeeWarningScreen>;\n}\n\nexport type LedgerTxSigningContext = BitcoinLedgerSigningContext | StacksLedgerSigningContext;\n\nconst ledgerTxSigningContext = createContext<LedgerTxSigningContext | null>(null);\n\nexport function useLedgerTxSigningContext() {\n  const context = useContext(ledgerTxSigningContext);\n  if (!context) throw new Error('ledgerTxSigningContext is undefined');\n  return context;\n}\n\nexport const LedgerTxSigningProvider = ledgerTxSigningContext.Provider;\n","import { ReactNode, cloneElement, isValidElement } from 'react';\n\nimport { Hr, HrProps } from '@leather.io/ui';\n\ninterface DividerSeparatorProps extends HrProps {\n  children: ReactNode;\n}\nexport function DividerSeparator({ children, ...props }: DividerSeparatorProps) {\n  const parsedChildren = Array.isArray(children) ? children : [children];\n\n  return (\n    <>\n      {parsedChildren\n        .flatMap((child, index) => {\n          if (!isValidElement(child)) return null;\n          return [\n            cloneElement(child, {\n              key: index,\n            }),\n            <Hr key={index.toString() + '-hr'} {...props} />,\n          ];\n        })\n        .filter((_value, index, array) => index !== array.length - 1)}\n    </>\n  );\n}\n","export function SignLedgerTransaction() {\n  return (\n    <svg\n      width=\"292\"\n      height=\"112\"\n      viewBox=\"0 0 292 112\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M7.5 53.5H31.5V58.5H7.5\" stroke=\"currentColor\" />\n      <path d=\"M2.5 53.5H5\" stroke=\"currentColor\" />\n      <path d=\"M0.538086 58.5H5\" stroke=\"currentColor\" />\n      <path\n        d=\"M36.0927 44.5048H44.5V67.5H36.0927C35.5605 67.5 35.0105 67.248 34.4636 66.7032C33.9147 66.1563 33.3973 65.3398 32.9521 64.2909C32.0624 62.1952 31.5 59.2646 31.5 56C31.5 52.7354 32.0624 49.8048 32.9521 47.7091C33.3973 46.6602 33.9147 45.8437 34.4636 45.2968C34.9668 44.7954 35.4728 44.5421 35.965 44.5048H36.0927Z\"\n        stroke=\"currentColor\"\n      />\n      <path\n        d=\"M50.0847 37.5H76.9153C80.012 37.5 82.5 39.9427 82.5 42.9286V69.0714C82.5 72.0574 80.012 74.5 76.9153 74.5H50.0847C46.988 74.5 44.5 72.0574 44.5 69.0714V42.9286C44.5 39.9427 46.988 37.5 50.0847 37.5Z\"\n        stroke=\"currentColor\"\n      />\n      <path d=\"M82.5 45.5H85.5V66.5H82.5V45.5Z\" stroke=\"currentColor\" />\n      <path\n        d=\"M41.9276 64.3217C42.4897 63.3941 43.048 62.2411 43.5 60.8377V66.5H40.2873C40.7583 66.001 41.344 65.2846 41.9276 64.3217Z\"\n        fill=\"currentColor\"\n        stroke=\"currentColor\"\n      />\n      <path\n        d=\"M66 64V65H74V60H73V64H66ZM66 47V48H73V52H74V47H66ZM62 52H61V60H66V59H62V52ZM53 60V65H61V64H54V60H53ZM53 47V52H54V48H61V47H53Z\"\n        fill=\"currentColor\"\n      />\n      <mask id=\"path-9-inside-1_2806_34294\" fill=\"white\">\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M92.5377 27H248.088C232.036 27 219 39.9899 219 55.9975C219 72.0001 232.031 84.995 248.088 84.995H269.739C269.647 84.9983 269.555 85 269.462 85H92.5377C88.3747 85 85 81.6066 85 77.4205V34.5795C85 30.3934 88.3747 27 92.5377 27Z\"\n        />\n      </mask>\n      <path\n        d=\"M269.739 84.995L269.775 85.9943L269.739 83.995V84.995ZM248.088 26H92.5377V28H248.088V26ZM220 55.9975C220 40.5453 232.585 28 248.088 28V26C231.486 26 218 39.4346 218 55.9975H220ZM248.088 83.995C232.58 83.995 220 71.445 220 55.9975H218C218 72.5552 231.481 85.995 248.088 85.995V83.995ZM269.739 83.995H248.088V85.995H269.739V83.995ZM269.462 86C269.567 86 269.671 85.9981 269.775 85.9943L269.702 83.9957C269.623 83.9985 269.543 84 269.462 84V86ZM92.5377 86H269.462V84H92.5377V86ZM84 77.4205C84 82.1536 87.8172 86 92.5377 86V84C88.9322 84 86 81.0595 86 77.4205H84ZM84 34.5795V77.4205H86V34.5795H84ZM92.5377 26C87.8172 26 84 29.8464 84 34.5795H86C86 30.9405 88.9322 28 92.5377 28V26Z\"\n        fill=\"currentColor\"\n        mask=\"url(#path-9-inside-1_2806_34294)\"\n      />\n      <path\n        d=\"M135.5 56C135.5 66.2173 127.217 74.5 117 74.5C106.783 74.5 98.5 66.2173 98.5 56C98.5 45.7827 106.783 37.5 117 37.5C127.217 37.5 135.5 45.7827 135.5 56Z\"\n        stroke=\"currentColor\"\n      />\n      <path\n        opacity=\"0.5\"\n        d=\"M117 81C130.807 81 142 69.8071 142 56C142 42.1929 130.807 31 117 31C103.193 31 92 42.1929 92 56C92 69.8071 103.193 81 117 81Z\"\n        fill=\"#33B172\"\n      />\n      <path\n        d=\"M117 64C121.418 64 125 60.4183 125 56C125 51.5817 121.418 48 117 48C112.582 48 109 51.5817 109 56C109 60.4183 112.582 64 117 64Z\"\n        fill=\"#33B172\"\n      />\n      <mask id=\"path-14-inside-2_2806_34294\" fill=\"white\">\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M231.762 32H153.631C150.523 32 148 34.6191 148 37.8451V74.1549C148 77.3809 150.523 80 153.631 80H231.77C231.297 79.68 230.834 79.3465 230.382 79H153.631C151.11 79 149 76.8641 149 74.1549V37.8451C149 35.1359 151.11 33 153.631 33H230.376C230.828 32.6536 231.29 32.32 231.762 32Z\"\n        />\n      </mask>\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M231.762 32H153.631C150.523 32 148 34.6191 148 37.8451V74.1549C148 77.3809 150.523 80 153.631 80H231.77C231.297 79.68 230.834 79.3465 230.382 79H153.631C151.11 79 149 76.8641 149 74.1549V37.8451C149 35.1359 151.11 33 153.631 33H230.376C230.828 32.6536 231.29 32.32 231.762 32Z\"\n        fill=\"currentColor\"\n      />\n      <path\n        d=\"M231.762 32L232.323 32.8278L235.02 31H231.762V32ZM231.77 80V81H235.029L232.33 79.172L231.77 80ZM230.382 79L230.991 78.2063L230.721 78H230.382V79ZM230.376 33V34H230.715L230.984 33.7936L230.376 33ZM231.762 31H153.631V33H231.762V31ZM153.631 31C149.936 31 147 34.1024 147 37.8451H149C149 35.1359 151.11 33 153.631 33V31ZM147 37.8451V74.1549H149V37.8451H147ZM147 74.1549C147 77.8976 149.936 81 153.631 81V79C151.11 79 149 76.8641 149 74.1549H147ZM153.631 81H231.77V79H153.631V81ZM232.33 79.172C231.874 78.863 231.427 78.5409 230.991 78.2063L229.774 79.7937C230.242 80.152 230.72 80.497 231.209 80.828L232.33 79.172ZM153.631 80H230.382V78H153.631V80ZM148 74.1549C148 77.3832 150.525 80 153.631 80V78C151.695 78 150 76.3451 150 74.1549H148ZM148 37.8451V74.1549H150V37.8451H148ZM153.631 32C150.525 32 148 34.6168 148 37.8451H150C150 35.6549 151.695 34 153.631 34V32ZM230.376 32H153.631V34H230.376V32ZM230.984 33.7936C231.421 33.459 231.867 33.1369 232.323 32.8278L231.201 31.1722C230.713 31.5032 230.235 31.8481 229.768 32.2064L230.984 33.7936Z\"\n        fill=\"currentColor\"\n        mask=\"url(#path-14-inside-2_2806_34294)\"\n      />\n      <path d=\"M178 56H175V59H178V56Z\" fill=\"currentColor\" />\n      <path d=\"M181 59H178V62H181V59Z\" fill=\"currentColor\" />\n      <path d=\"M184 62H181V65H184V62Z\" fill=\"currentColor\" />\n      <path d=\"M187 59H184V62H187V59Z\" fill=\"currentColor\" />\n      <path d=\"M190 56H187V59H190V56Z\" fill=\"currentColor\" />\n      <path d=\"M193 53H190V56H193V53Z\" fill=\"currentColor\" />\n      <path d=\"M196 50H193V53H196V50Z\" fill=\"currentColor\" />\n      <path d=\"M199 47H196V50H199V47Z\" fill=\"currentColor\" />\n      <path\n        d=\"M282.462 27.5L247.088 27.5C231.035 27.5 218 40.266 218 55.9975C218 71.7242 231.03 84.4951 247.088 84.4951H282.462V84.5\"\n        stroke=\"currentColor\"\n      />\n      <path d=\"M285 27.5H289.462\" stroke=\"currentColor\" />\n      <path d=\"M285 84.5H287.5\" stroke=\"currentColor\" />\n      <path\n        d=\"M266.5 56C266.5 66.2173 258.217 74.5 248 74.5C237.783 74.5 229.5 66.2173 229.5 56C229.5 45.7827 237.783 37.5 248 37.5C258.217 37.5 266.5 45.7827 266.5 56Z\"\n        stroke=\"currentColor\"\n      />\n      <path\n        opacity=\"0.2\"\n        d=\"M248 93C268.435 93 285 76.4345 285 56C285 35.5655 268.435 19 248 19C227.565 19 211 35.5655 211 56C211 76.4345 227.565 93 248 93Z\"\n        fill=\"#33B172\"\n      />\n      <path\n        opacity=\"0.2\"\n        d=\"M117 93C137.435 93 154 76.4345 154 56C154 35.5655 137.435 19 117 19C96.5655 19 80 35.5655 80 56C80 76.4345 96.5655 93 117 93Z\"\n        fill=\"#33B172\"\n      />\n      <path\n        opacity=\"0.5\"\n        d=\"M248 81C261.807 81 273 69.8071 273 56C273 42.1929 261.807 31 248 31C234.193 31 223 42.1929 223 56C223 69.8071 234.193 81 248 81Z\"\n        fill=\"#33B172\"\n      />\n      <path\n        opacity=\"0.75\"\n        d=\"M248 64C252.418 64 256 60.4183 256 56C256 51.5817 252.418 48 248 48C243.582 48 240 51.5817 240 56C240 60.4183 243.582 64 248 64Z\"\n        fill=\"#33B172\"\n      />\n    </svg>\n  );\n}\n","import { Flex, FlexProps } from 'leather-styles/jsx';\n\nimport { Caption, Spinner } from '@leather.io/ui';\n\ninterface LookingForLedgerLabelProps extends FlexProps {\n  children: React.ReactNode;\n}\nexport function LookingForLedgerLabel({ children, ...props }: LookingForLedgerLabelProps) {\n  return (\n    <Flex alignItems=\"center\" flexDirection=\"row\" {...props}>\n      <Spinner opacity={0.5} />\n      <Caption ml=\"space.02\">{children}</Caption>\n    </Flex>\n  );\n}\n","import { Flex, FlexProps } from 'leather-styles/jsx';\n\nimport { Caption, CheckmarkIcon } from '@leather.io/ui';\n\ninterface LedgerSuccessLabelProps extends FlexProps {\n  children: React.ReactNode;\n}\nexport function LedgerSuccessLabel({ children, ...props }: LedgerSuccessLabelProps) {\n  return (\n    <Flex alignItems=\"center\" color=\"green.action-primary-default\" flexDirection=\"row\" {...props}>\n      <CheckmarkIcon />\n      <Caption color=\"inherit\" ml=\"space.02\">\n        {children}\n      </Caption>\n    </Flex>\n  );\n}\n","import { LookingForLedgerLabel } from './looking-for-ledger-label';\nimport { LedgerSuccessLabel } from './success-label';\n\ninterface DeviceOperationApprovalStatusProps {\n  status: 'awaiting-approval' | 'approved';\n}\nexport function DeviceOperationApprovalStatus({ status }: DeviceOperationApprovalStatusProps) {\n  if (status === 'awaiting-approval')\n    return <LookingForLedgerLabel my=\"space.06\">Waiting for your approval</LookingForLedgerLabel>;\n\n  return <LedgerSuccessLabel my=\"space.06\">Approved</LedgerSuccessLabel>;\n}\n","import { Box, Flex, styled } from 'leather-styles/jsx';\n\nimport { Caption, InfoCircleIcon } from '@leather.io/ui';\n\nimport { BasicTooltip } from '@app/ui/components/tooltip/basic-tooltip';\n\ninterface LedgerScreenDetailProps {\n  children: React.ReactNode;\n  title: string;\n  tooltipLabel?: string;\n}\nexport function LedgerScreenDetail(props: LedgerScreenDetailProps) {\n  const { children, title, tooltipLabel } = props;\n\n  return (\n    <Flex borderColor=\"ink.border-default\" flexDirection=\"column\">\n      <Caption>\n        {tooltipLabel ? (\n          <BasicTooltip label={tooltipLabel} side=\"top\">\n            <Flex cursor=\"question\" display=\"inline-flex\">\n              {title}\n              <Box ml=\"space.01\" mt=\"space.01\">\n                <InfoCircleIcon color=\"ink.text-subdued\" variant=\"small\" />\n              </Box>\n            </Flex>\n          </BasicTooltip>\n        ) : (\n          <>{title}</>\n        )}\n      </Caption>\n      <Flex alignItems=\"center\" mt=\"space.04\">\n        <styled.span overflowWrap=\"break-word\" width=\"100%\">\n          {children}\n        </styled.span>\n      </Flex>\n    </Flex>\n  );\n}\n","import { ReactNode } from 'react';\n\nimport { styled } from 'leather-styles/jsx';\n\nexport function Capitalize({ children }: { children: ReactNode }) {\n  return <styled.span textTransform=\"capitalize\">{children}</styled.span>;\n}\n","import { BoxProps, styled } from 'leather-styles/jsx';\n\nimport type { SupportedBlockchains } from '@leather.io/models';\n\nimport { Capitalize } from '@app/ui/utils/capitalize';\n\nexport function LedgerTitle(props: BoxProps) {\n  const { children, ...rest } = props;\n  return (\n    <styled.span textStyle=\"heading.05\" {...rest}>\n      {children}\n    </styled.span>\n  );\n}\n\ninterface LedgerConnectInstructionTitleProps extends BoxProps {\n  chain: SupportedBlockchains;\n}\nexport function LedgerConnectInstructionTitle({\n  chain,\n  ...props\n}: LedgerConnectInstructionTitleProps) {\n  return (\n    <LedgerTitle {...props}>\n      Plug in your Ledger, open the <Capitalize>{chain}</Capitalize> app and click connect\n    </LedgerTitle>\n  );\n}\n","import { Box, BoxProps, Flex } from 'leather-styles/jsx';\n\ninterface LedgerWrapperProps extends BoxProps {\n  image?: React.ReactNode;\n}\n\nexport function LedgerWrapper({ image, children, ...props }: LedgerWrapperProps) {\n  return (\n    <Box maxHeight=\"80vh\" px=\"space.05\" textAlign=\"center\" {...props}>\n      <Flex alignItems=\"center\" flexDirection=\"column\" pb=\"space.05\">\n        {image && <Box mb=\"space.06\">{image}</Box>}\n        {children}\n      </Flex>\n    </Box>\n  );\n}\n","import { Box, Flex } from 'leather-styles/jsx';\n\nimport { DividerSeparator } from '@app/components/layout/divider-separator';\nimport { SignLedgerTransaction } from '@app/features/ledger/illustrations/ledger-illu-sign-ledger-transaction';\n\nimport { DeviceOperationApprovalStatus } from '../../components/device-approval-status';\nimport { LedgerScreenDetail } from '../../components/ledger-screen-detail';\nimport { LedgerTitle } from '../../components/ledger-title';\nimport { LedgerWrapper } from '../../components/ledger-wrapper';\n\ninterface ApproveLedgerOperationLayoutProps {\n  description: string;\n  details: [string, string, string?][];\n  status: 'awaiting-approval' | 'approved';\n}\nexport function ApproveLedgerOperationLayout(props: ApproveLedgerOperationLayoutProps) {\n  const { description, details, status } = props;\n  return (\n    <LedgerWrapper>\n      <Box mt=\"space.02\">\n        <SignLedgerTransaction />\n      </Box>\n      <LedgerTitle mt=\"space.05\" mx=\"space.08\">\n        {description}\n      </LedgerTitle>\n      <DeviceOperationApprovalStatus status={status} />\n      <Flex\n        bg=\"ink.background-secondary\"\n        borderRadius=\"lg\"\n        flexDirection=\"column\"\n        px=\"space.06\"\n        py=\"space.06\"\n        textAlign=\"left\"\n        width=\"100%\"\n      >\n        <DividerSeparator my=\"space.04\">\n          {details.map(([title, value, tooltipLabel]) => (\n            <LedgerScreenDetail key={value} title={title} tooltipLabel={tooltipLabel}>\n              {value}\n            </LedgerScreenDetail>\n          ))}\n        </DividerSeparator>\n      </Flex>\n    </LedgerWrapper>\n  );\n}\n","import { useMemo } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport get from 'lodash.get';\n\nexport function useHasApprovedOperation() {\n  const location = useLocation();\n\n  return useMemo(() => {\n    const state = location.state;\n    return get(state, 'hasApprovedOperation', false) as boolean;\n  }, [location.state]);\n}\n","import * as btc from '@scure/btc-signer';\n\nimport { getPsbtTxInputs, getPsbtTxOutputs } from '@leather.io/bitcoin';\n\nimport { getBitcoinInputValue } from '@shared/crypto/bitcoin/bitcoin.utils';\n\nimport { useLedgerTxSigningContext } from '@app/features/ledger/generic-flows/tx-signing/ledger-sign-tx.context';\nimport { ApproveLedgerOperationLayout } from '@app/features/ledger/generic-steps/approve-ledger-operation/approve-ledger-operation.layout';\nimport { useHasApprovedOperation } from '@app/features/ledger/hooks/use-has-approved-transaction';\n\nexport function ApproveSignLedgerBitcoinTx() {\n  const hasApprovedOperation = useHasApprovedOperation();\n\n  const context = useLedgerTxSigningContext();\n\n  if (context.chain !== 'bitcoin') return null;\n\n  return (\n    <ApproveLedgerOperationLayout\n      description=\"Verify the transaction details on your Ledger\"\n      details={\n        [\n          ...getPsbtTxInputs(context.transaction as unknown as btc.Transaction).map((input, i) => [\n            `Input ${i + 1}`,\n            `${getBitcoinInputValue(input)} sats`,\n          ]),\n          ...getPsbtTxOutputs(context.transaction as unknown as btc.Transaction).map(\n            (output, i) => [`Output ${i + 1}`, output.amount?.toString() + ' sats']\n          ),\n        ] as [string, string][]\n      }\n      status={hasApprovedOperation ? 'approved' : 'awaiting-approval'}\n    />\n  );\n}\n","export default __webpack_public_path__ + \"aa6625e66799222a8c7c26235ba966e6.png\";","import GenericErrorImg from '@assets/images/generic-error.png';\nimport { Box, HStack, styled } from 'leather-styles/jsx';\n\nimport { Button } from '@leather.io/ui';\nimport { delay } from '@leather.io/utils';\n\nimport { useLoading } from '@app/common/hooks/use-loading';\nimport { LedgerTitle } from '@app/features/ledger/components/ledger-title';\nimport { LedgerWrapper } from '@app/features/ledger/components/ledger-wrapper';\n\nimport { useLedgerTxSigningContext } from '../../../generic-flows/tx-signing/ledger-sign-tx.context';\n\nexport function ContractPrincipalBugWarning() {\n  const context = useLedgerTxSigningContext();\n  const { isLoading, setIsLoading, setIsIdle } = useLoading('temp-spinner-deep-link');\n  if (context.chain !== 'stacks') return null;\n  return (\n    <LedgerWrapper>\n      <Box mx=\"space.02\">\n        <img src={GenericErrorImg} width=\"106px\" />\n      </Box>\n      <LedgerTitle mt=\"space.04\">Stacks Ledger app is outdated</LedgerTitle>\n      <styled.span mt=\"space.04\" mx=\"space.02\" textStyle=\"body.02\">\n        Some transactions are not compatible with outdated app versions. Update your app in{' '}\n        <a href=\"ledgerlive://manager\" style={{ textDecoration: 'underline' }}>\n          Ledger Live\n        </a>{' '}\n        and try again.\n      </styled.span>\n      <HStack mb=\"space.05\" mt=\"space.06\">\n        <styled.a\n          aria-busy={isLoading}\n          href=\"ledgerlive://manager\"\n          onClick={async () => {\n            setIsLoading();\n            await delay(300);\n            setIsIdle();\n          }}\n        >\n          Open Ledger Live \n        </styled.a>\n        <Button\n          onClick={() => context.hasUserSkippedBuggyAppWarning.done('ignored-warning')}\n          variant=\"outline\"\n        >\n          Continue anyway\n        </Button>\n      </HStack>\n    </LedgerWrapper>\n  );\n}\n","import { useMemo } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nexport function useLatestLedgerError() {\n  const location = useLocation();\n\n  return useMemo(() => {\n    const state = location.state;\n    if (!state || state === null) return null;\n    if (typeof state === 'object') {\n      const error = (state as any).latestLedgerError;\n      if (error) return error;\n    }\n    return null;\n  }, [location.state]);\n}\n","import type { SupportedBlockchains } from '@leather.io/models';\n\nimport { useLocationState } from '@app/common/hooks/use-location-state';\nimport { capitalize } from '@app/common/utils';\nimport { useLatestLedgerError } from '@app/features/ledger/hooks/use-ledger-latest-route-error.hook';\n\nimport { ConnectLedgerErrorLayout } from '../../generic-steps';\nimport { useLedgerNavigate } from '../../hooks/use-ledger-navigate';\n\nexport function ConnectLedgerError() {\n  const latestLedgerError = useLatestLedgerError();\n  const ledgerNavigate = useLedgerNavigate();\n  const chain = useLocationState<SupportedBlockchains>('chain');\n  // TODO: here it would be better to use the actual app name from\n  // LEDGER_APPS_MAP at src/app/features/ledger/utils/generic-ledger-utils.ts\n\n  const appName = capitalize(chain);\n  return (\n    <ConnectLedgerErrorLayout\n      warningText={latestLedgerError}\n      appName={appName}\n      onTryAgain={() => ledgerNavigate.toConnectStepAndTryAgain()}\n    />\n  );\n}\n","export function ConnectLedgerErr() {\n  return (\n    <svg\n      width=\"292\"\n      height=\"112\"\n      viewBox=\"0 0 292 112\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M7.5 53.5H31.5V58.5H7.5\" stroke=\"currentColor\" />\n      <path d=\"M2.5 53.5H5\" stroke=\"currentColor\" />\n      <path d=\"M0.538086 58.5H5\" stroke=\"currentColor\" />\n      <path\n        d=\"M36.0927 44.5048H44.5V67.5H36.0927C35.5605 67.5 35.0105 67.248 34.4636 66.7032C33.9147 66.1563 33.3973 65.3398 32.9521 64.2909C32.0624 62.1952 31.5 59.2646 31.5 56C31.5 52.7354 32.0624 49.8048 32.9521 47.7091C33.3973 46.6602 33.9147 45.8437 34.4636 45.2968C34.9668 44.7954 35.4728 44.5421 35.965 44.5048H36.0927Z\"\n        stroke=\"currentColor\"\n      />\n      <path\n        d=\"M50.0847 37.5H76.9153C80.012 37.5 82.5 39.9427 82.5 42.9286V69.0714C82.5 72.0574 80.012 74.5 76.9153 74.5H50.0847C46.988 74.5 44.5 72.0574 44.5 69.0714V42.9286C44.5 39.9427 46.988 37.5 50.0847 37.5Z\"\n        stroke=\"currentColor\"\n      />\n      <path d=\"M82.5 45.5H85.5V66.5H82.5V45.5Z\" stroke=\"currentColor\" />\n      <path\n        d=\"M41.9276 64.3217C42.4897 63.3941 43.048 62.2411 43.5 60.8377V66.5H40.2873C40.7583 66.001 41.344 65.2846 41.9276 64.3217Z\"\n        fill=\"currentColor\"\n        stroke=\"currentColor\"\n      />\n      <path\n        d=\"M66 64V65H74V60H73V64H66ZM66 47V48H73V52H74V47H66ZM62 52H61V60H66V59H62V52ZM53 60V65H61V64H54V60H53ZM53 47V52H54V48H61V47H53Z\"\n        fill=\"currentColor\"\n      />\n      <mask id=\"path-9-inside-1_2656_25707\" fill=\"white\">\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M92.5377 27H248.088C232.036 27 219 39.9899 219 55.9975C219 72.0001 232.031 84.995 248.088 84.995H269.739C269.647 84.9983 269.555 85 269.462 85H92.5377C88.3747 85 85 81.6066 85 77.4205V34.5795C85 30.3934 88.3747 27 92.5377 27Z\"\n        />\n      </mask>\n      <path\n        d=\"M269.739 84.995L269.775 85.9943L269.739 83.995V84.995ZM248.088 26H92.5377V28H248.088V26ZM220 55.9975C220 40.5453 232.585 28 248.088 28V26C231.486 26 218 39.4346 218 55.9975H220ZM248.088 83.995C232.58 83.995 220 71.445 220 55.9975H218C218 72.5552 231.481 85.995 248.088 85.995V83.995ZM269.739 83.995H248.088V85.995H269.739V83.995ZM269.462 86C269.567 86 269.671 85.9981 269.775 85.9943L269.702 83.9957C269.623 83.9985 269.543 84 269.462 84V86ZM92.5377 86H269.462V84H92.5377V86ZM84 77.4205C84 82.1536 87.8172 86 92.5377 86V84C88.9322 84 86 81.0595 86 77.4205H84ZM84 34.5795V77.4205H86V34.5795H84ZM92.5377 26C87.8172 26 84 29.8464 84 34.5795H86C86 30.9405 88.9322 28 92.5377 28V26Z\"\n        fill=\"currentColor\"\n        mask=\"url(#path-9-inside-1_2656_25707)\"\n      />\n      <path\n        d=\"M135.5 56C135.5 66.2173 127.217 74.5 117 74.5C106.783 74.5 98.5 66.2173 98.5 56C98.5 45.7827 106.783 37.5 117 37.5C127.217 37.5 135.5 45.7827 135.5 56Z\"\n        stroke=\"currentColor\"\n      />\n      <mask id=\"path-12-inside-2_2656_25707\" fill=\"white\">\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M231.762 32H153.631C150.523 32 148 34.6191 148 37.8451V74.1549C148 77.3809 150.523 80 153.631 80H231.77C231.297 79.68 230.834 79.3465 230.382 79H153.631C151.11 79 149 76.8641 149 74.1549V37.8451C149 35.1359 151.11 33 153.631 33H230.376C230.828 32.6536 231.29 32.32 231.762 32Z\"\n        />\n      </mask>\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M231.762 32H153.631C150.523 32 148 34.6191 148 37.8451V74.1549C148 77.3809 150.523 80 153.631 80H231.77C231.297 79.68 230.834 79.3465 230.382 79H153.631C151.11 79 149 76.8641 149 74.1549V37.8451C149 35.1359 151.11 33 153.631 33H230.376C230.828 32.6536 231.29 32.32 231.762 32Z\"\n        fill=\"currentColor\"\n      />\n      <path\n        d=\"M231.762 32L232.323 32.8278L235.02 31H231.762V32ZM231.77 80V81H235.029L232.33 79.172L231.77 80ZM230.382 79L230.991 78.2063L230.721 78H230.382V79ZM230.376 33V34H230.715L230.984 33.7936L230.376 33ZM231.762 31H153.631V33H231.762V31ZM153.631 31C149.936 31 147 34.1024 147 37.8451H149C149 35.1359 151.11 33 153.631 33V31ZM147 37.8451V74.1549H149V37.8451H147ZM147 74.1549C147 77.8976 149.936 81 153.631 81V79C151.11 79 149 76.8641 149 74.1549H147ZM153.631 81H231.77V79H153.631V81ZM232.33 79.172C231.874 78.863 231.427 78.5409 230.991 78.2063L229.774 79.7937C230.242 80.152 230.72 80.497 231.209 80.828L232.33 79.172ZM153.631 80H230.382V78H153.631V80ZM148 74.1549C148 77.3832 150.525 80 153.631 80V78C151.695 78 150 76.3451 150 74.1549H148ZM148 37.8451V74.1549H150V37.8451H148ZM153.631 32C150.525 32 148 34.6168 148 37.8451H150C150 35.6549 151.695 34 153.631 34V32ZM230.376 32H153.631V34H230.376V32ZM230.984 33.7936C231.421 33.459 231.867 33.1369 232.323 32.8278L231.201 31.1722C230.713 31.5032 230.235 31.8481 229.768 32.2064L230.984 33.7936Z\"\n        fill=\"currentColor\"\n        mask=\"url(#path-12-inside-2_2656_25707)\"\n      />\n      <path d=\"M186 45H183V48H186V45Z\" fill=\"#FF5863\" />\n      <path d=\"M180 48H177V51H180V48Z\" fill=\"#FF5863\" />\n      <path d=\"M186 48H183V51H186V48Z\" fill=\"#FF5863\" />\n      <path d=\"M180 51H177V54H180V51Z\" fill=\"#FF5863\" />\n      <path d=\"M189 51H186V54H189V51Z\" fill=\"#FF5863\" />\n      <path d=\"M183 54H180V57H183V54Z\" fill=\"#FF5863\" />\n      <path d=\"M195 55H192V58H195V55Z\" fill=\"#FF5863\" />\n      <path d=\"M198 52H195V55H198V52Z\" fill=\"#FF5863\" />\n      <path d=\"M201 52H198V55H201V52Z\" fill=\"#FF5863\" />\n      <path d=\"M192 55H189V58H192V55Z\" fill=\"#FF5863\" />\n      <path d=\"M189 58H186V61H189V58Z\" fill=\"#FF5863\" />\n      <path d=\"M186 61H183V64H186V61Z\" fill=\"#FF5863\" />\n      <path d=\"M183 64H180V67H183V64Z\" fill=\"#FF5863\" />\n      <path\n        d=\"M282.462 27.5L247.088 27.5C231.035 27.5 218 40.266 218 55.9975C218 71.7242 231.03 84.4951 247.088 84.4951H282.462V84.5\"\n        stroke=\"currentColor\"\n      />\n      <path d=\"M285 27.5H289.462\" stroke=\"currentColor\" />\n      <path d=\"M285 84.5H287.5\" stroke=\"currentColor\" />\n      <path\n        d=\"M266.5 56C266.5 66.2173 258.217 74.5 248 74.5C237.783 74.5 229.5 66.2173 229.5 56C229.5 45.7827 237.783 37.5 248 37.5C258.217 37.5 266.5 45.7827 266.5 56Z\"\n        stroke=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","import { Box, Flex, HStack, Stack, styled } from 'leather-styles/jsx';\n\nimport { Button, Callout, CircleIcon, Link } from '@leather.io/ui';\n\nimport { ConnectLedgerErr } from '@app/features/ledger/illustrations/ledger-illu-connect-ledger-error';\n\nimport { LedgerTitle } from '../../components/ledger-title';\nimport { LedgerWrapper } from '../../components/ledger-wrapper';\n\ninterface PossibleReasonUnableToConnectProps {\n  text: string;\n}\nfunction PossibleReasonUnableToConnect(props: PossibleReasonUnableToConnectProps) {\n  const { text } = props;\n\n  return (\n    <Flex alignItems=\"center\">\n      <Box mr=\"space.02\">\n        <CircleIcon fill=\"ink.text-primary\" width=\"4px\" />\n      </Box>\n      <styled.span textStyle=\"body.02\">{text}</styled.span>\n    </Flex>\n  );\n}\n\ninterface ConnectLedgerErrorLayoutProps {\n  warningText: string | null;\n  onTryAgain(): void;\n  appName: string;\n}\nexport function ConnectLedgerErrorLayout(props: ConnectLedgerErrorLayoutProps) {\n  const { warningText, onTryAgain, appName } = props;\n\n  return (\n    <LedgerWrapper>\n      <Box mt=\"space.02\">\n        <ConnectLedgerErr />\n      </Box>\n      <LedgerTitle mt={{ base: 'space.04', sm: 'space.07' }}>\n        We're unable to connect to your Ledger device\n      </LedgerTitle>\n\n      <Callout variant={warningText ? 'warning' : 'error'} mt=\"space.04\">\n        {warningText ? warningText : 'Unable to connect'}\n      </Callout>\n\n      <Stack borderRadius=\"md\" gap=\"space.01\" textAlign=\"left\" py=\"space.05\">\n        <PossibleReasonUnableToConnect text=\"Check if Ledger Live is open. Close it and try again\" />\n        <PossibleReasonUnableToConnect text=\"Ensure you only have one instance of Leather open\" />\n        <PossibleReasonUnableToConnect text={`Verify the ${appName} app is installed and open`} />\n        <PossibleReasonUnableToConnect text=\"Check you've approved the browser USB pop up\" />\n      </Stack>\n      <Button width=\"100%\" onClick={onTryAgain}>\n        Try again\n      </Button>\n      <HStack gap=\"space.01\" mt=\"space.05\">\n        <styled.span color=\"ink.text-subdued\" textStyle=\"label.03\">\n          If the problem persists, check our\n        </styled.span>\n        <Link\n          href=\"https://leather.gitbook.io/guides/securing-the-wallet/using-ledger-with-leather\"\n          size=\"sm\"\n        >\n          Support Page\n        </Link>\n      </HStack>\n    </LedgerWrapper>\n  );\n}\n","export function ConnectLedgerSuccess() {\n  return (\n    <svg\n      width=\"292\"\n      height=\"104\"\n      viewBox=\"0 0 292 104\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M7.5 50.5H31.5V55.5H7.5\" stroke=\"currentColor\" />\n      <path d=\"M2.5 50.5H5\" stroke=\"currentColor\" />\n      <path d=\"M0.538086 55.5H5\" stroke=\"currentColor\" />\n      <path\n        d=\"M36.0927 41.5048H44.5V64.5H36.0927C35.5605 64.5 35.0105 64.248 34.4636 63.7032C33.9147 63.1563 33.3973 62.3398 32.9521 61.2909C32.0624 59.1952 31.5 56.2646 31.5 53C31.5 49.7354 32.0624 46.8048 32.9521 44.7091C33.3973 43.6602 33.9147 42.8437 34.4636 42.2968C34.9668 41.7954 35.4728 41.5421 35.965 41.5048H36.0927Z\"\n        stroke=\"currentColor\"\n      />\n      <path\n        d=\"M50.0847 34.5H76.9153C80.012 34.5 82.5 36.9427 82.5 39.9286V66.0714C82.5 69.0574 80.012 71.5 76.9153 71.5H50.0847C46.988 71.5 44.5 69.0574 44.5 66.0714V39.9286C44.5 36.9427 46.988 34.5 50.0847 34.5Z\"\n        stroke=\"currentColor\"\n      />\n      <path d=\"M82.5 63.5V42.5H85.5V63.5H82.5Z\" stroke=\"currentColor\" />\n      <path\n        d=\"M41.9276 61.3217C42.4897 60.3941 43.048 59.2411 43.5 57.8377V63.5H40.2873C40.7583 63.001 41.344 62.2846 41.9276 61.3217Z\"\n        fill=\"currentColor\"\n        stroke=\"currentColor\"\n      />\n      <path\n        d=\"M66 61V62H74V57H73V61H66ZM66 44V45H73V49H74V44H66ZM62 49H61V57H66V56H62V49ZM53 57V62H61V61H54V57H53ZM53 44V49H54V45H61V44H53Z\"\n        fill=\"currentColor\"\n      />\n      <mask id=\"path-9-inside-1_2656_25457\" fill=\"white\">\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M92.5377 24H248.088C232.036 24 219 36.9899 219 52.9975C219 69.0001 232.031 81.995 248.088 81.995H269.739C269.647 81.9983 269.555 82 269.462 82H92.5377C88.3747 82 85 78.6066 85 74.4205V31.5795C85 27.3934 88.3747 24 92.5377 24Z\"\n        />\n      </mask>\n      <path\n        d=\"M269.739 81.995L269.775 82.9943L269.739 80.995V81.995ZM248.088 23H92.5377V25H248.088V23ZM220 52.9975C220 37.5453 232.585 25 248.088 25V23C231.486 23 218 36.4346 218 52.9975H220ZM248.088 80.995C232.58 80.995 220 68.445 220 52.9975H218C218 69.5552 231.481 82.995 248.088 82.995V80.995ZM269.739 80.995H248.088V82.995H269.739V80.995ZM269.462 83C269.567 83 269.671 82.9981 269.775 82.9943L269.702 80.9957C269.623 80.9985 269.543 81 269.462 81V83ZM92.5377 83H269.462V81H92.5377V83ZM84 74.4205C84 79.1536 87.8172 83 92.5377 83V81C88.9322 81 86 78.0595 86 74.4205H84ZM84 31.5795V74.4205H86V31.5795H84ZM92.5377 23C87.8172 23 84 26.8464 84 31.5795H86C86 27.9405 88.9322 25 92.5377 25V23Z\"\n        fill=\"currentColor\"\n        mask=\"url(#path-9-inside-1_2656_25457)\"\n      />\n      <path\n        opacity=\"0.34\"\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M206 53C206 64.0457 197.046 73 186 73C174.954 73 166 64.0457 166 53C166 41.9543 174.954 33 186 33C197.046 33 206 41.9543 206 53ZM191.649 50.761C192.069 50.4027 192.119 49.7716 191.761 49.3513C191.403 48.931 190.772 48.8807 190.351 49.239L183.962 54.6858L181.649 52.713C181.229 52.3546 180.598 52.4047 180.239 52.8249C179.881 53.2451 179.931 53.8763 180.351 54.2347L183.313 56.7609C183.687 57.0797 184.237 57.0797 184.611 56.761L191.649 50.761Z\"\n        fill=\"#23A278\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M199 53C199 60.1797 193.18 66 186 66C178.82 66 173 60.1797 173 53C173 45.8203 178.82 40 186 40C193.18 40 199 45.8203 199 53ZM191.649 50.761C192.069 50.4027 192.119 49.7716 191.761 49.3513C191.403 48.931 190.772 48.8807 190.351 49.239L183.962 54.6858L181.649 52.713C181.229 52.3546 180.598 52.4047 180.239 52.8249C179.881 53.2451 179.931 53.8763 180.351 54.2347L183.313 56.7609C183.687 57.0797 184.237 57.0797 184.611 56.761L191.649 50.761Z\"\n        fill=\"#23A278\"\n      />\n      <path\n        d=\"M135.5 53C135.5 63.2173 127.217 71.5 117 71.5C106.783 71.5 98.5 63.2173 98.5 53C98.5 42.7827 106.783 34.5 117 34.5C127.217 34.5 135.5 42.7827 135.5 53Z\"\n        stroke=\"currentColor\"\n      />\n      <mask id=\"path-14-inside-2_2656_25457\" fill=\"white\">\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M231.762 29H153.631C150.523 29 148 31.6191 148 34.8451V71.1549C148 74.3809 150.523 77 153.631 77H231.77C231.297 76.68 230.834 76.3465 230.382 76H153.631C151.11 76 149 73.8641 149 71.1549V34.8451C149 32.1359 151.11 30 153.631 30H230.376C230.828 29.6536 231.29 29.32 231.762 29Z\"\n        />\n      </mask>\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M231.762 29H153.631C150.523 29 148 31.6191 148 34.8451V71.1549C148 74.3809 150.523 77 153.631 77H231.77C231.297 76.68 230.834 76.3465 230.382 76H153.631C151.11 76 149 73.8641 149 71.1549V34.8451C149 32.1359 151.11 30 153.631 30H230.376C230.828 29.6536 231.29 29.32 231.762 29Z\"\n        fill=\"currentColor\"\n      />\n      <path\n        d=\"M231.762 29L232.323 29.8278L235.02 28H231.762V29ZM231.77 77V78H235.029L232.33 76.172L231.77 77ZM230.382 76L230.991 75.2063L230.721 75H230.382V76ZM230.376 30V31H230.715L230.984 30.7936L230.376 30ZM231.762 28H153.631V30H231.762V28ZM153.631 28C149.936 28 147 31.1024 147 34.8451H149C149 32.1359 151.11 30 153.631 30V28ZM147 34.8451V71.1549H149V34.8451H147ZM147 71.1549C147 74.8976 149.936 78 153.631 78V76C151.11 76 149 73.8641 149 71.1549H147ZM153.631 78H231.77V76H153.631V78ZM232.33 76.172C231.874 75.863 231.427 75.5409 230.991 75.2063L229.774 76.7937C230.242 77.152 230.72 77.497 231.209 77.828L232.33 76.172ZM153.631 77H230.382V75H153.631V77ZM148 71.1549C148 74.3832 150.525 77 153.631 77V75C151.695 75 150 73.3451 150 71.1549H148ZM148 34.8451V71.1549H150V34.8451H148ZM153.631 29C150.525 29 148 31.6168 148 34.8451H150C150 32.6549 151.695 31 153.631 31V29ZM230.376 29H153.631V31H230.376V29ZM230.984 30.7936C231.421 30.459 231.867 30.1369 232.323 29.8278L231.201 28.1722C230.713 28.5032 230.235 28.8481 229.768 29.2064L230.984 30.7936Z\"\n        fill=\"currentColor\"\n        mask=\"url(#path-14-inside-2_2656_25457)\"\n      />\n      <path\n        d=\"M282.462 24.5L247.088 24.5C231.035 24.5 218 37.266 218 52.9975C218 68.7242 231.03 81.4951 247.088 81.4951H282.462V81.5\"\n        stroke=\"currentColor\"\n      />\n      <path d=\"M285 24.5H289.462\" stroke=\"currentColor\" />\n      <path d=\"M285 81.5H287.5\" stroke=\"currentColor\" />\n      <path\n        d=\"M266.5 53C266.5 63.2173 258.217 71.5 248 71.5C237.783 71.5 229.5 63.2173 229.5 53C229.5 42.7827 237.783 34.5 248 34.5C258.217 34.5 266.5 42.7827 266.5 53Z\"\n        stroke=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","import type { SupportedBlockchains } from '@leather.io/models';\n\nimport { ConnectLedgerSuccess } from '@app/features/ledger/illustrations/ledger-illu-success';\n\nimport { LedgerConnectInstructionTitle } from '../../components/ledger-title';\nimport { LedgerWrapper } from '../../components/ledger-wrapper';\nimport { LedgerSuccessLabel } from '../../components/success-label';\n\ninterface ConnectLedgerSuccessLayoutProps {\n  chain: SupportedBlockchains;\n}\nexport function ConnectLedgerSuccessLayout({ chain }: ConnectLedgerSuccessLayoutProps) {\n  return (\n    <LedgerWrapper>\n      <ConnectLedgerSuccess />\n      <LedgerConnectInstructionTitle chain={chain} mt=\"space.05\" mx=\"50px\" />\n      <LedgerSuccessLabel my=\"space.06\">Connected!</LedgerSuccessLabel>\n    </LedgerWrapper>\n  );\n}\n","import type { SupportedBlockchains } from '@leather.io/models';\n\nimport { useLocationState } from '@app/common/hooks/use-location-state';\n\nimport { ConnectLedgerSuccessLayout } from './connect-ledger-success.layout';\n\nexport function ConnectLedgerSuccess() {\n  const chain = useLocationState<SupportedBlockchains>('chain');\n  return <ConnectLedgerSuccessLayout chain={chain} />;\n}\n","import { Suspense, lazy, useMemo } from 'react';\n\nimport { Box, HStack, Stack, styled } from 'leather-styles/jsx';\n\nimport type { SupportedBlockchains } from '@leather.io/models';\nimport { BitcoinIcon, Button, Link, StacksIcon } from '@leather.io/ui';\n\nimport { Divider } from '@app/components/layout/divider';\n\nimport { LedgerWrapper } from '../../components/ledger-wrapper';\n\nconst PluggingInLedgerCableAnimation = lazy(\n  () => import('../../animations/plugging-in-cable.lottie')\n);\n\ninterface ConnectLedgerProps {\n  chain?: SupportedBlockchains;\n  awaitingLedgerConnection?: boolean;\n  warning?: React.ReactNode;\n  showInstructions?: boolean;\n  onConnectLedger?(): void;\n  connectBitcoin?(): void;\n  connectStacks?(): void;\n}\n\nexport function ConnectLedger(props: ConnectLedgerProps) {\n  const {\n    onConnectLedger,\n    warning,\n    showInstructions,\n    awaitingLedgerConnection,\n    connectBitcoin,\n    connectStacks,\n    chain,\n  } = props;\n\n  const showBitcoinConnectButton = useMemo(() => {\n    return chain === 'bitcoin' || !!connectBitcoin;\n  }, [chain, connectBitcoin]);\n\n  const showStacksConnectButton = useMemo(() => {\n    return chain === 'stacks' || !!connectStacks;\n  }, [chain, connectStacks]);\n\n  const instructions = useMemo(() => {\n    const showBothBtns = showBitcoinConnectButton && showStacksConnectButton;\n    return [\n      '1. Connect & unlock your Ledger',\n      `2. Open${showBitcoinConnectButton ? ' Bitcoin' : ''} ${showBothBtns ? 'or' : ''} ${\n        showStacksConnectButton ? 'Stacks' : ''\n      } app`,\n      '3. Click the button below',\n    ];\n  }, [showBitcoinConnectButton, showStacksConnectButton]);\n\n  return (\n    <LedgerWrapper>\n      <Box position=\"relative\" width=\"100%\" minHeight=\"220px\">\n        <Suspense fallback={null}>\n          {<PluggingInLedgerCableAnimation position=\"absolute\" top=\"-20px\" />}\n        </Suspense>\n      </Box>\n\n      <Stack gap=\"space.04\" justifyItems=\"flex-start\" textAlign=\"start\" pb=\"space.06\">\n        <styled.span textStyle=\"heading.05\">Please follow the instructions:</styled.span>\n\n        <Stack gap=\"space.01\" mb=\"space.02\">\n          {instructions.map((instruction, index) => (\n            <styled.span textStyle=\"body.01\" key={index}>\n              {instruction}\n            </styled.span>\n          ))}\n        </Stack>\n        <HStack>\n          {showBitcoinConnectButton && (\n            <Button\n              onClick={onConnectLedger || connectBitcoin}\n              aria-busy={awaitingLedgerConnection}\n            >\n              <HStack gap=\"space.01\">\n                <BitcoinIcon color=\"ink.background-primary\" />\n                <styled.span textStyle=\"label.02\">Connect Bitcoin</styled.span>\n              </HStack>\n            </Button>\n          )}\n          {showStacksConnectButton && (\n            <Button\n              onClick={onConnectLedger || connectStacks}\n              aria-busy={awaitingLedgerConnection}\n              display=\"flex\"\n              alignItems=\"center\"\n            >\n              <HStack gap=\"space.01\">\n                <StacksIcon color=\"ink.background-primary\" />\n                <styled.span textStyle=\"label.02\">Connect Stacks</styled.span>\n              </HStack>\n            </Button>\n          )}\n        </HStack>\n      </Stack>\n      {warning && (\n        <Box mb=\"space.04\" mx=\"space.06\">\n          {warning}\n        </Box>\n      )}\n      {showInstructions ? (\n        <Stack gap=\"space.05\" width=\"100%\">\n          <Divider />\n          <Stack alignItems=\"center\" gap=\"space.01\">\n            <styled.span textStyle=\"label.03\" color=\"ink.text-subdued\">\n              First time using Ledger on Leather?\n            </styled.span>\n            <Link\n              href=\"https://www.hiro.so/wallet-faq/how-can-i-use-my-ledger-device-with-hiro-wallet\"\n              size=\"sm\"\n            >\n              Learn how to use Ledger device with Leather \n            </Link>\n          </Stack>\n        </Stack>\n      ) : null}\n    </LedgerWrapper>\n  );\n}\n","import { useLocationState } from '@app/common/hooks/use-location-state';\nimport { DeviceBusyLayout } from '@app/features/ledger/generic-steps';\n\nexport function DeviceBusy() {\n  const description = useLocationState<string>('description');\n  return <DeviceBusyLayout activityDescription={description ?? 'Ledger device busy'} />;\n}\n","import { ConnectLedgerSuccess } from '@app/features/ledger/illustrations/ledger-illu-success';\n\nimport { LedgerWrapper } from '../../components/ledger-wrapper';\nimport { LookingForLedgerLabel } from '../../components/looking-for-ledger-label';\n\ninterface DeviceBusyLayoutProps {\n  activityDescription: string;\n}\nexport function DeviceBusyLayout(props: DeviceBusyLayoutProps) {\n  const { activityDescription } = props;\n\n  return (\n    <LedgerWrapper>\n      <ConnectLedgerSuccess />\n      <LookingForLedgerLabel my=\"space.06\">{activityDescription}</LookingForLedgerLabel>\n    </LedgerWrapper>\n  );\n}\n","import { Box, Flex, styled } from 'leather-styles/jsx';\n\nimport { Button } from '@leather.io/ui';\n\nimport { ConnectLedgerErr } from '@app/features/ledger/illustrations/ledger-illu-connect-ledger-error';\n\nimport { LedgerWrapper } from '../../components/ledger-wrapper';\n\ninterface LedgerDeviceInvalidPayloadLayoutProps {\n  onClose(): void;\n}\nexport function LedgerDeviceInvalidPayloadLayout({\n  onClose,\n}: LedgerDeviceInvalidPayloadLayoutProps) {\n  return (\n    <LedgerWrapper>\n      <Box>\n        <ConnectLedgerErr />\n      </Box>\n      <styled.span mt=\"space.06\" textStyle=\"label.01\">\n        Data Invalid\n      </styled.span>\n      <styled.span mt=\"space.03\" lineHeight=\"24px\" textStyle=\"caption.01\">\n        Your Ledger device has rejected the payload stating it is invalid\n      </styled.span>\n      <Flex mt=\"space.04\">\n        <Button variant=\"outline\" mr=\"space.03\" onClick={onClose}>\n          Close\n        </Button>\n      </Flex>\n    </LedgerWrapper>\n  );\n}\n","import { LedgerDeviceInvalidPayloadLayout } from '../../generic-steps/invalid-payload/device-invalid-payload.layout';\nimport { useLedgerNavigate } from '../../hooks/use-ledger-navigate';\n\nexport function LedgerDeviceInvalidPayload() {\n  const ledgerNavigate = useLedgerNavigate();\n  return <LedgerDeviceInvalidPayloadLayout onClose={() => ledgerNavigate.cancelLedgerAction()} />;\n}\n","export function LedgerIlluDisconnected(props: React.SVGProps<SVGSVGElement>) {\n  return (\n    <svg\n      width=\"292\"\n      height=\"112\"\n      viewBox=\"0 0 292 112\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...props}\n    >\n      <path d=\"M6 53.5H11.5V58.5H5\" stroke=\"#FF5863\" />\n      <path d=\"M2.5 53.5H4\" stroke=\"#FF5863\" />\n      <path d=\"M0.538086 58.5H3\" stroke=\"#FF5863\" />\n      <path\n        d=\"M16.0927 44.5048H24.5V67.5H16.0927C15.5605 67.5 15.0105 67.248 14.4636 66.7032C13.9147 66.1563 13.3973 65.3398 12.9521 64.2909C12.0624 62.1952 11.5 59.2646 11.5 56C11.5 52.7354 12.0624 49.8048 12.9521 47.7091C13.3973 46.6602 13.9147 45.8437 14.4636 45.2968C14.9668 44.7954 15.4728 44.5421 15.965 44.5048H16.0927Z\"\n        stroke=\"#FF5863\"\n      />\n      <path\n        d=\"M30.0847 37.5H56.9153C60.012 37.5 62.5 39.9427 62.5 42.9286V69.0714C62.5 72.0574 60.012 74.5 56.9153 74.5H30.0847C26.988 74.5 24.5 72.0574 24.5 69.0714V42.9286C24.5 39.9427 26.988 37.5 30.0847 37.5Z\"\n        stroke=\"#FF5863\"\n      />\n      <path d=\"M62.5 66.5V45.5H76.5V66.5H62.5Z\" stroke=\"#FF5863\" />\n      <path d=\"M19 67C19 67 24 63.5 24 54V67H19Z\" fill=\"#FF5863\" />\n      <path\n        d=\"M46 64V65H54V60H53V64H46ZM46 47V48H53V52H54V47H46ZM42 52H41V60H46V59H42V52ZM33 60V65H41V64H34V60H33ZM33 47V52H34V48H41V47H33Z\"\n        fill=\"#FF5863\"\n      />\n      <mask id=\"path-9-inside-1_2656_25851\" fill=\"white\">\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M92.5377 27H248.088C232.036 27 219 39.9899 219 55.9975C219 72.0001 232.031 84.995 248.088 84.995H269.739C269.647 84.9983 269.555 85 269.462 85H92.5377C88.3747 85 85 81.6066 85 77.4205V34.5795C85 30.3934 88.3747 27 92.5377 27Z\"\n        />\n      </mask>\n      <path\n        d=\"M269.739 84.995L269.775 85.9943L269.739 83.995V84.995ZM248.088 26H92.5377V28H248.088V26ZM220 55.9975C220 40.5453 232.585 28 248.088 28V26C231.486 26 218 39.4346 218 55.9975H220ZM248.088 83.995C232.58 83.995 220 71.445 220 55.9975H218C218 72.5552 231.481 85.995 248.088 85.995V83.995ZM269.739 83.995H248.088V85.995H269.739V83.995ZM269.462 86C269.567 86 269.671 85.9981 269.775 85.9943L269.702 83.9957C269.623 83.9985 269.543 84 269.462 84V86ZM92.5377 86H269.462V84H92.5377V86ZM84 77.4205C84 82.1536 87.8172 86 92.5377 86V84C88.9322 84 86 81.0595 86 77.4205H84ZM84 34.5795V77.4205H86V34.5795H84ZM92.5377 26C87.8172 26 84 29.8464 84 34.5795H86C86 30.9405 88.9322 28 92.5377 28V26Z\"\n        fill=\"#FF5863\"\n        mask=\"url(#path-9-inside-1_2656_25851)\"\n      />\n      <path d=\"M78 38.5L71 31.5\" stroke=\"#FF5863\" />\n      <path d=\"M78 72L67.5 82.5\" stroke=\"#FF5863\" />\n      <path d=\"M79 78.5L73.5 87L80.5 85.5L74.5 92.5\" stroke=\"#FF5863\" />\n      <path d=\"M80.5 28.9998L77.0597 21.0798L83 22.4998L79.5596 16.0798\" stroke=\"#FF5863\" />\n      <path\n        d=\"M135.5 56C135.5 66.2173 127.217 74.5 117 74.5C106.783 74.5 98.5 66.2173 98.5 56C98.5 45.7827 106.783 37.5 117 37.5C127.217 37.5 135.5 45.7827 135.5 56Z\"\n        stroke=\"#FF5863\"\n      />\n      <mask id=\"path-16-inside-2_2656_25851\" fill=\"white\">\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M231.762 32H153.631C150.523 32 148 34.6191 148 37.8451V74.1549C148 77.3809 150.523 80 153.631 80H231.77C231.297 79.68 230.834 79.3465 230.382 79H153.631C151.11 79 149 76.8641 149 74.1549V37.8451C149 35.1359 151.11 33 153.631 33H230.376C230.828 32.6536 231.29 32.32 231.762 32Z\"\n        />\n      </mask>\n      <path\n        d=\"M231.762 32L232.323 32.8278L235.02 31H231.762V32ZM231.77 80V81H235.029L232.33 79.172L231.77 80ZM230.382 79L230.991 78.2063L230.721 78H230.382V79ZM230.376 33V34H230.715L230.984 33.7936L230.376 33ZM231.762 31H153.631V33H231.762V31ZM153.631 31C149.936 31 147 34.1024 147 37.8451H149C149 35.1359 151.11 33 153.631 33V31ZM147 37.8451V74.1549H149V37.8451H147ZM147 74.1549C147 77.8976 149.936 81 153.631 81V79C151.11 79 149 76.8641 149 74.1549H147ZM153.631 81H231.77V79H153.631V81ZM232.33 79.172C231.874 78.863 231.427 78.5409 230.991 78.2063L229.774 79.7937C230.242 80.152 230.72 80.497 231.209 80.828L232.33 79.172ZM153.631 80H230.382V78H153.631V80ZM148 74.1549C148 77.3832 150.525 80 153.631 80V78C151.695 78 150 76.3451 150 74.1549H148ZM148 37.8451V74.1549H150V37.8451H148ZM153.631 32C150.525 32 148 34.6168 148 37.8451H150C150 35.6549 151.695 34 153.631 34V32ZM230.376 32H153.631V34H230.376V32ZM230.984 33.7936C231.421 33.459 231.867 33.1369 232.323 32.8278L231.201 31.1722C230.713 31.5032 230.235 31.8481 229.768 32.2064L230.984 33.7936Z\"\n        fill=\"#FF5863\"\n        mask=\"url(#path-16-inside-2_2656_25851)\"\n      />\n      <path\n        d=\"M282.462 27.5L247.088 27.5C231.035 27.5 218 40.266 218 55.9975C218 71.7242 231.03 84.4951 247.088 84.4951H282.462V84.5\"\n        stroke=\"#FF5863\"\n      />\n      <path d=\"M285 27.5H289.462\" stroke=\"#FF5863\" />\n      <path d=\"M285 84.5H287.5\" stroke=\"#FF5863\" />\n      <path\n        d=\"M266.5 56C266.5 66.2173 258.217 74.5 248 74.5C237.783 74.5 229.5 66.2173 229.5 56C229.5 45.7827 237.783 37.5 248 37.5C258.217 37.5 266.5 45.7827 266.5 56Z\"\n        stroke=\"#FF5863\"\n      />\n    </svg>\n  );\n}\n","import { Box, HStack } from 'leather-styles/jsx';\n\nimport { Button } from '@leather.io/ui';\n\nimport { LedgerTitle } from '../../components/ledger-title';\nimport { LedgerWrapper } from '../../components/ledger-wrapper';\nimport { LedgerIlluDisconnected } from '../../illustrations/ledger-illu-disconnected';\n\ninterface LedgerDisconnectedLayoutProps {\n  onConnectAgain(): void;\n  onClose(): void;\n}\nexport function LedgerDisconnectedLayout(props: LedgerDisconnectedLayoutProps) {\n  const { onConnectAgain, onClose } = props;\n  return (\n    <LedgerWrapper>\n      <Box>\n        <LedgerIlluDisconnected width=\"242px\" />\n      </Box>\n      <LedgerTitle my=\"space.05\">Your Ledger has disconnected</LedgerTitle>\n      <HStack width=\"100%\">\n        <Button flex={1} variant=\"outline\" onClick={onClose}>\n          Close\n        </Button>\n        <Button flex={1} onClick={onConnectAgain}>\n          Connect again\n        </Button>\n      </HStack>\n    </LedgerWrapper>\n  );\n}\n","import { LedgerDisconnectedLayout } from '@app/features/ledger/generic-steps/ledger-disconnected/ledger-disconnected.layout';\nimport { useLedgerNavigate } from '@app/features/ledger/hooks/use-ledger-navigate';\n\nexport function LedgerDisconnected() {\n  const ledgerNavigate = useLedgerNavigate();\n  return (\n    <LedgerDisconnectedLayout\n      onClose={() => ledgerNavigate.cancelLedgerAction()}\n      onConnectAgain={() => ledgerNavigate.toConnectStepAndTryAgain()}\n    />\n  );\n}\n","export function LedgerTxRejected() {\n  return (\n    <svg\n      width=\"292\"\n      height=\"112\"\n      viewBox=\"0 0 292 112\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M7.5 53.5H31.5V58.5H7.5\" stroke=\"currentColor\" />\n      <path d=\"M2.5 53.5H5\" stroke=\"currentColor\" />\n      <path d=\"M0.538086 58.5H5\" stroke=\"currentColor\" />\n      <path\n        d=\"M36.0927 44.5048H44.5V67.5H36.0927C35.5605 67.5 35.0105 67.248 34.4636 66.7032C33.9147 66.1563 33.3973 65.3398 32.9521 64.2909C32.0624 62.1952 31.5 59.2646 31.5 56C31.5 52.7354 32.0624 49.8048 32.9521 47.7091C33.3973 46.6602 33.9147 45.8437 34.4636 45.2968C34.9668 44.7954 35.4728 44.5421 35.965 44.5048H36.0927Z\"\n        stroke=\"currentColor\"\n      />\n      <path\n        d=\"M50.0847 37.5H76.9153C80.012 37.5 82.5 39.9427 82.5 42.9286V69.0714C82.5 72.0574 80.012 74.5 76.9153 74.5H50.0847C46.988 74.5 44.5 72.0574 44.5 69.0714V42.9286C44.5 39.9427 46.988 37.5 50.0847 37.5Z\"\n        stroke=\"currentColor\"\n      />\n      <path d=\"M82.5 45.5H85.5V66.5H82.5V45.5Z\" stroke=\"currentColor\" />\n      <path\n        d=\"M41.9276 64.3217C42.4897 63.3941 43.048 62.2411 43.5 60.8377V66.5H40.2873C40.7583 66.001 41.344 65.2846 41.9276 64.3217Z\"\n        fill=\"currentColor\"\n        stroke=\"currentColor\"\n      />\n      <path\n        d=\"M66 64V65H74V60H73V64H66ZM66 47V48H73V52H74V47H66ZM62 52H61V60H66V59H62V52ZM53 60V65H61V64H54V60H53ZM53 47V52H54V48H61V47H53Z\"\n        fill=\"currentColor\"\n      />\n      <mask id=\"path-9-inside-1_2806_34370\" fill=\"white\">\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M92.5377 27H248.088C232.036 27 219 39.9899 219 55.9975C219 72.0001 232.031 84.995 248.088 84.995H269.739C269.647 84.9983 269.555 85 269.462 85H92.5377C88.3747 85 85 81.6066 85 77.4205V34.5795C85 30.3934 88.3747 27 92.5377 27Z\"\n        />\n      </mask>\n      <path\n        d=\"M269.739 84.995L269.775 85.9943L269.739 83.995V84.995ZM248.088 26H92.5377V28H248.088V26ZM220 55.9975C220 40.5453 232.585 28 248.088 28V26C231.486 26 218 39.4346 218 55.9975H220ZM248.088 83.995C232.58 83.995 220 71.445 220 55.9975H218C218 72.5552 231.481 85.995 248.088 85.995V83.995ZM269.739 83.995H248.088V85.995H269.739V83.995ZM269.462 86C269.567 86 269.671 85.9981 269.775 85.9943L269.702 83.9957C269.623 83.9985 269.543 84 269.462 84V86ZM92.5377 86H269.462V84H92.5377V86ZM84 77.4205C84 82.1536 87.8172 86 92.5377 86V84C88.9322 84 86 81.0595 86 77.4205H84ZM84 34.5795V77.4205H86V34.5795H84ZM92.5377 26C87.8172 26 84 29.8464 84 34.5795H86C86 30.9405 88.9322 28 92.5377 28V26Z\"\n        fill=\"currentColor\"\n        mask=\"url(#path-9-inside-1_2806_34370)\"\n      />\n      <path\n        d=\"M135.5 56C135.5 66.2173 127.217 74.5 117 74.5C106.783 74.5 98.5 66.2173 98.5 56C98.5 45.7827 106.783 37.5 117 37.5C127.217 37.5 135.5 45.7827 135.5 56Z\"\n        stroke=\"currentColor\"\n      />\n      <mask id=\"path-12-inside-2_2806_34370\" fill=\"white\">\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M231.762 32H153.631C150.523 32 148 34.6191 148 37.8451V74.1549C148 77.3809 150.523 80 153.631 80H231.77C231.297 79.68 230.834 79.3465 230.382 79H153.631C151.11 79 149 76.8641 149 74.1549V37.8451C149 35.1359 151.11 33 153.631 33H230.376C230.828 32.6536 231.29 32.32 231.762 32Z\"\n        />\n      </mask>\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M231.762 32H153.631C150.523 32 148 34.6191 148 37.8451V74.1549C148 77.3809 150.523 80 153.631 80H231.77C231.297 79.68 230.834 79.3465 230.382 79H153.631C151.11 79 149 76.8641 149 74.1549V37.8451C149 35.1359 151.11 33 153.631 33H230.376C230.828 32.6536 231.29 32.32 231.762 32Z\"\n        fill=\"currentColor\"\n      />\n      <path\n        d=\"M231.762 32L232.323 32.8278L235.02 31H231.762V32ZM231.77 80V81H235.029L232.33 79.172L231.77 80ZM230.382 79L230.991 78.2063L230.721 78H230.382V79ZM230.376 33V34H230.715L230.984 33.7936L230.376 33ZM231.762 31H153.631V33H231.762V31ZM153.631 31C149.936 31 147 34.1024 147 37.8451H149C149 35.1359 151.11 33 153.631 33V31ZM147 37.8451V74.1549H149V37.8451H147ZM147 74.1549C147 77.8976 149.936 81 153.631 81V79C151.11 79 149 76.8641 149 74.1549H147ZM153.631 81H231.77V79H153.631V81ZM232.33 79.172C231.874 78.863 231.427 78.5409 230.991 78.2063L229.774 79.7937C230.242 80.152 230.72 80.497 231.209 80.828L232.33 79.172ZM153.631 80H230.382V78H153.631V80ZM148 74.1549C148 77.3832 150.525 80 153.631 80V78C151.695 78 150 76.3451 150 74.1549H148ZM148 37.8451V74.1549H150V37.8451H148ZM153.631 32C150.525 32 148 34.6168 148 37.8451H150C150 35.6549 151.695 34 153.631 34V32ZM230.376 32H153.631V34H230.376V32ZM230.984 33.7936C231.421 33.459 231.867 33.1369 232.323 32.8278L231.201 31.1722C230.713 31.5032 230.235 31.8481 229.768 32.2064L230.984 33.7936Z\"\n        fill=\"currentColor\"\n        mask=\"url(#path-12-inside-2_2806_34370)\"\n      />\n      <path d=\"M184 60H181V63H184V60Z\" fill=\"#FF5863\" />\n      <path d=\"M187 57H184V60H187V57Z\" fill=\"#FF5863\" />\n      <path d=\"M190 54H187V57H190V54Z\" fill=\"#FF5863\" />\n      <path d=\"M193 51H190V54H193V51Z\" fill=\"#FF5863\" />\n      <path d=\"M196 48H193V51H196V48Z\" fill=\"#FF5863\" />\n      <path d=\"M199 45H196V48H199V45Z\" fill=\"#FF5863\" />\n      <path d=\"M181 45H178V48H181V45Z\" fill=\"#FF5863\" />\n      <path d=\"M181 63H178V66H181V63Z\" fill=\"#FF5863\" />\n      <path d=\"M199 63H196V66H199V63Z\" fill=\"#FF5863\" />\n      <path d=\"M193 60H196V63H193V60Z\" fill=\"#FF5863\" />\n      <path d=\"M190 57H193V60H190V57Z\" fill=\"#FF5863\" />\n      <path d=\"M187 54H190V57H187V54Z\" fill=\"#FF5863\" />\n      <path d=\"M184 51H187V54H184V51Z\" fill=\"#FF5863\" />\n      <path d=\"M181 48H184V51H181V48Z\" fill=\"#FF5863\" />\n      <path\n        d=\"M282.462 27.5L247.088 27.5C231.035 27.5 218 40.266 218 55.9975C218 71.7242 231.03 84.4951 247.088 84.4951H282.462V84.5\"\n        stroke=\"currentColor\"\n      />\n      <path d=\"M285 27.5H289.462\" stroke=\"currentColor\" />\n      <path d=\"M285 84.5H287.5\" stroke=\"currentColor\" />\n      <path\n        d=\"M266.5 56C266.5 66.2173 258.217 74.5 248 74.5C237.783 74.5 229.5 66.2173 229.5 56C229.5 45.7827 237.783 37.5 248 37.5C258.217 37.5 266.5 45.7827 266.5 56Z\"\n        stroke=\"currentColor\"\n      />\n    </svg>\n  );\n}\n","import { Box } from 'leather-styles/jsx';\n\nimport { Button } from '@leather.io/ui';\n\nimport { LedgerTxRejected } from '@app/features/ledger/illustrations/ledger-illu-transaction-rejected';\n\nimport { LedgerTitle } from '../../components/ledger-title';\nimport { LedgerWrapper } from '../../components/ledger-wrapper';\n\ninterface LedgerOperationRejectedLayoutProps {\n  description: string;\n  onClose(): void;\n}\nexport function LedgerOperationRejectedLayout({\n  onClose,\n  description,\n}: LedgerOperationRejectedLayoutProps) {\n  return (\n    <LedgerWrapper>\n      <Box>\n        <LedgerTxRejected />\n      </Box>\n      <LedgerTitle my=\"space.05\">{description}</LedgerTitle>\n      <Button fullWidth mb=\"space.01\" onClick={onClose} variant=\"outline\">\n        Close\n      </Button>\n    </LedgerWrapper>\n  );\n}\n","import { useLocationState } from '@app/common/hooks/use-location-state';\nimport { LedgerOperationRejectedLayout } from '@app/features/ledger/generic-steps/operation-rejected/operation-rejected.layout';\nimport { useLedgerNavigate } from '@app/features/ledger/hooks/use-ledger-navigate';\n\nexport function OperationRejected() {\n  const ledgerNavigate = useLedgerNavigate();\n  const description = useLocationState<string>(\n    'description',\n    'The operation on device was rejected'\n  );\n  return (\n    <LedgerOperationRejectedLayout\n      description={description}\n      onClose={() => ledgerNavigate.cancelLedgerAction()}\n    />\n  );\n}\n","import { Box, Flex, styled } from 'leather-styles/jsx';\n\nimport { Button } from '@leather.io/ui';\n\nimport { ConnectLedgerErr } from '@app/features/ledger/illustrations/ledger-illu-connect-ledger-error';\n\nimport { LedgerWrapper } from '../../components/ledger-wrapper';\n\ninterface PublicKeyMismatchLayoutProps {\n  onClose(): void;\n  onTryAgain(): void;\n}\nexport function PublicKeyMismatchLayout({ onClose, onTryAgain }: PublicKeyMismatchLayoutProps) {\n  return (\n    <LedgerWrapper>\n      <Box>\n        <ConnectLedgerErr />\n      </Box>\n      <styled.span mt=\"space.06\" textStyle=\"label.01\">\n        Public key does not match\n      </styled.span>\n      <styled.span mt=\"space.03\" lineHeight=\"24px\" textStyle=\"caption.01\">\n        Ensure you're using the same Ledger you used when setting up Leather\n      </styled.span>\n      <Flex mt=\"space.04\">\n        <Button variant=\"outline\" mr=\"space.03\" onClick={onClose}>\n          Close\n        </Button>\n        <Button onClick={onTryAgain}>Try again</Button>\n      </Flex>\n    </LedgerWrapper>\n  );\n}\n","import { useLedgerNavigate } from '@app/features/ledger/hooks/use-ledger-navigate';\n\nimport { PublicKeyMismatchLayout } from './public-key-mismatch.layout';\n\nexport function LedgerPublicKeyMismatch() {\n  const ledgerNavigate = useLedgerNavigate();\n  return (\n    <PublicKeyMismatchLayout\n      onClose={() => ledgerNavigate.cancelLedgerAction()}\n      onTryAgain={() => ledgerNavigate.toConnectStepAndTryAgain()}\n    />\n  );\n}\n","export function UnsupportedBrowserImg() {\n  return (\n    <svg\n      width=\"240\"\n      height=\"182\"\n      viewBox=\"0 0 240 182\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M38.5 22.5H190.5V53.5V69V84.5V146.5H38.5V22.5Z\" stroke=\"currentColor\" />\n      <path\n        d=\"M200.47 132C203.298 132.593 205.979 133.218 208.5 133.871C224.444 137.999 234 143.265 234 149C234 162.255 182.96 173 120 173C57.0395 173 6 162.255 6 149C6 142.468 18.3936 136.546 38.5 132.219\"\n        stroke=\"currentColor\"\n      />\n      <path d=\"M38.5 22.5H190.5V46.5H38.5V22.5Z\" stroke=\"currentColor\" />\n      <path d=\"M42.5 26.5H58.5V42.5H42.5V26.5Z\" stroke=\"currentColor\" />\n      <path d=\"M190.5 141.5H195.5V17.5L43.5 17.5V22.5\" stroke=\"currentColor\" />\n      <path d=\"M195.5 136.5H200.5V54.5M48.5 17.5V12.5L200.5 12.5V23\" stroke=\"currentColor\" />\n      <path d=\"M113 68H107V74H113V68Z\" fill=\"currentColor\" />\n      <path d=\"M94 74H88V80H94V74Z\" fill=\"currentColor\" />\n      <path d=\"M113 74H107V80H113V74Z\" fill=\"currentColor\" />\n      <path d=\"M94 80H88V86H94V80Z\" fill=\"currentColor\" />\n      <path d=\"M120 80H114V86H120V80Z\" fill=\"currentColor\" />\n      <path d=\"M101 86H95V92H101V86Z\" fill=\"currentColor\" />\n      <rect x=\"134\" y=\"89\" width=\"12\" height=\"6\" fill=\"currentColor\" />\n      <rect x=\"122\" y=\"95\" width=\"12\" height=\"6\" fill=\"currentColor\" />\n      <rect x=\"116\" y=\"101\" width=\"6\" height=\"6\" fill=\"currentColor\" />\n      <rect x=\"110\" y=\"107\" width=\"6\" height=\"6\" fill=\"currentColor\" />\n      <rect x=\"104\" y=\"113\" width=\"6\" height=\"6\" fill=\"currentColor\" />\n      <rect x=\"98\" y=\"119\" width=\"6\" height=\"6\" fill=\"currentColor\" />\n      <path d=\"M56 40L45 29\" stroke=\"black\" />\n      <path d=\"M45 40L56 29\" stroke=\"black\" />\n      <path\n        d=\"M38.4123 94.5001L36.8956 97.7238L28.1441 93.6792L30.6076 103L21.3037 105.527L29.1822 111.084L23.6794 119L33.2864 118.193L34.1595 127.794L38.4123 123.57\"\n        stroke=\"currentColor\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M195.5 30.0786L196.896 30.7237L201 22L205.104 30.7237L213.856 26.6791L211.392 36L220.696 38.527L212.818 44.0838L218.321 52L208.713 51.1925L207.84 60.7939L201 54L195.5 59.4626\"\n        stroke=\"currentColor\"\n        strokeLinejoin=\"round\"\n      />\n      <path d=\"M33.5933 89.291L27.5005 77.5005\" stroke=\"currentColor\" strokeLinejoin=\"round\" />\n      <path d=\"M21.5928 97.2908L13.5 93.5003\" stroke=\"currentColor\" strokeLinejoin=\"round\" />\n      <g opacity=\"0.25\">\n        <line x1=\"66.5\" y1=\"147\" x2=\"66.5\" y2=\"47\" stroke=\"black\" />\n        <line x1=\"98.5\" y1=\"147\" x2=\"98.5\" y2=\"47\" stroke=\"black\" />\n        <line x1=\"130.5\" y1=\"147\" x2=\"130.5\" y2=\"47\" stroke=\"black\" />\n        <line x1=\"162.5\" y1=\"147\" x2=\"162.5\" y2=\"47\" stroke=\"black\" />\n        <line x1=\"190\" y1=\"125.5\" x2=\"38\" y2=\"125.5\" stroke=\"black\" />\n        <line x1=\"190\" y1=\"97.5\" x2=\"38\" y2=\"97.5\" stroke=\"black\" />\n        <line x1=\"190\" y1=\"69.5\" x2=\"38\" y2=\"69.5\" stroke=\"black\" />\n      </g>\n    </svg>\n  );\n}\n","import { useNavigate } from 'react-router-dom';\n\nimport { styled } from 'leather-styles/jsx';\n\nimport { Link, Sheet, SheetHeader } from '@leather.io/ui';\n\nimport { UnsupportedBrowserImg } from '@app/features/ledger/illustrations/ledger-illu-unsupported-browser';\n\nimport { LedgerTitle } from '../../components/ledger-title';\nimport { LedgerWrapper } from '../../components/ledger-wrapper';\n\nexport function UnsupportedBrowserLayout() {\n  const navigate = useNavigate();\n\n  return (\n    <Sheet header={<SheetHeader />} isShowing onClose={() => navigate(-1)}>\n      <LedgerWrapper image={<UnsupportedBrowserImg />}>\n        <LedgerTitle mb=\"space.03\">Your browser isn't supported</LedgerTitle>\n        <styled.span textStyle=\"label.03\" color=\"ink.text-subdued\">\n          {'To connect your Ledger with Leather try '}\n          <Link textDecoration=\"underline\" href=\"https://www.google.com/chrome/\">\n            Chrome\n          </Link>\n          {' or '}\n          <Link textDecoration=\"underline\" href=\"https://brave.com/download/\">\n            Brave\n          </Link>\n          .\n        </styled.span>\n      </LedgerWrapper>\n    </Sheet>\n  );\n}\n","export * from './approve-ledger-operation/approve-ledger-operation.layout';\nexport * from './connect-device/connect-ledger-error';\nexport * from './connect-device/connect-ledger-error.layout';\nexport * from './connect-device/connect-ledger-success';\nexport * from './connect-device/connect-ledger';\nexport * from './device-busy/device-busy';\nexport * from './device-busy/device-busy.layout';\nexport * from './invalid-payload/device-invalid-payload';\nexport * from './ledger-disconnected/ledger-disconnected';\nexport * from './operation-rejected/operation-rejected';\nexport * from './public-key-mismatch/public-key-mismatch';\nexport * from './unsupported-browser/unsupported-browser.layout';\n","import BroadcastError from '@assets/images/unhappy-face-ui.png';\nimport { Box, Flex, styled } from 'leather-styles/jsx';\n\nimport { Button } from '@leather.io/ui';\n\nimport { LedgerTitle } from '../../components/ledger-title';\nimport { LedgerWrapper } from '../../components/ledger-wrapper';\n\ninterface LedgerBroadcastErrorLayoutProps {\n  error: string;\n  onClose(): void;\n}\nexport function LedgerBroadcastErrorLayout(props: LedgerBroadcastErrorLayoutProps) {\n  const { error, onClose } = props;\n\n  return (\n    <LedgerWrapper>\n      <Box mb=\"space.05\" mt=\"space.02\">\n        <img src={BroadcastError} width=\"242px\" />\n      </Box>\n      <LedgerTitle mb=\"space.05\" mt=\"space.05\" mx=\"space.07\">\n        Transaction Broadcast Error\n      </LedgerTitle>\n      <styled.span mt=\"space.03\" px=\"space.04\" textStyle=\"body.02\">\n        Your transaction failed to broadcast {error && <>because of the error: {error}</>}\n      </styled.span>\n      <Flex mt=\"space.04\">\n        <Button mr=\"space.03\" onClick={onClose} variant=\"outline\">\n          Close\n        </Button>\n      </Flex>\n    </LedgerWrapper>\n  );\n}\n","import { useLocation } from 'react-router-dom';\n\nimport get from 'lodash.get';\n\nimport { useLedgerNavigate } from '@app/features/ledger/hooks/use-ledger-navigate';\n\nimport { LedgerBroadcastErrorLayout } from './broadcast-error.layout';\n\nexport function LedgerBroadcastError() {\n  const location = useLocation();\n  const ledgerNavigate = useLedgerNavigate();\n  const error = get(location.state, 'error', '');\n\n  return (\n    <LedgerBroadcastErrorLayout\n      error={error}\n      onClose={() => ledgerNavigate.cancelLedgerActionAndReturnHome()}\n    />\n  );\n}\n","import Transport from '@ledgerhq/hw-transport-webusb';\nimport {\n  AddressVersion,\n  SingleSigSpendingCondition,\n  createMessageSignature,\n  deserializeTransaction,\n} from '@stacks/transactions';\nimport StacksApp, { LedgerError, ResponseSign, ResponseVersion } from '@zondax/ledger-stacks';\nimport { compare } from 'compare-versions';\n\nimport { makeStxDerivationPath, stxDerivationWithAccount } from '@leather.io/stacks';\n\nimport {\n  LEDGER_APPS_MAP,\n  PrepareLedgerDeviceConnectionArgs,\n  SemVerObject,\n  prepareLedgerDeviceForAppFn,\n  promptOpenAppOnDevice,\n  versionObjectToVersionString,\n} from './generic-ledger-utils';\n\nexport function requestPublicKeyForStxAccount(app: StacksApp) {\n  return async (index: number) =>\n    app.getAddressAndPubKey(\n      makeStxDerivationPath(index),\n      // We pass mainnet as it expects something, however this is so it can return a formatted address\n      // We only need the public key, and can derive the address later in any network format\n      AddressVersion.MainnetSingleSig\n    );\n}\n\nexport interface StacksAppKeysResponseItem {\n  path: string;\n  stxPublicKey: string;\n  dataPublicKey: string;\n}\n\nexport async function connectLedgerStacksApp() {\n  await promptOpenAppOnDevice(LEDGER_APPS_MAP.STACKS);\n  const transport = await Transport.create();\n  return new StacksApp(transport);\n}\n\nexport interface StacksAppVersion extends Awaited<ReturnType<StacksApp['getVersion']>> {\n  name: 'Stacks';\n  chain: 'stacks';\n}\n\nexport async function getStacksAppVersion(app: StacksApp): Promise<StacksAppVersion> {\n  const appVersion = await app.getVersion();\n  if (appVersion.errorMessage !== 'No errors') {\n    throw new Error(appVersion.errorMessage);\n  }\n  return { name: LEDGER_APPS_MAP.STACKS, chain: 'stacks' as const, ...appVersion };\n}\n\nexport const prepareLedgerDeviceStacksAppConnection = prepareLedgerDeviceForAppFn(\n  connectLedgerStacksApp\n  // Casting type here as factory function reads it was a double Promise\n) as (args: PrepareLedgerDeviceConnectionArgs) => Promise<StacksApp>;\n\nexport function signLedgerStacksTransaction(app: StacksApp) {\n  return async (payload: Buffer, accountIndex: number) =>\n    app.sign(stxDerivationWithAccount.replace('{account}', accountIndex.toString()), payload);\n}\n\nexport function signLedgerStacksUtf8Message(app: StacksApp) {\n  return async (payload: string, accountIndex: number): Promise<ResponseSign> =>\n    app.sign_msg(makeStxDerivationPath(accountIndex), payload);\n}\n\nexport function signLedgerStacksStructuredMessage(app: StacksApp) {\n  return async (domain: string, payload: string, accountIndex: number): Promise<ResponseSign> =>\n    app.sign_structured_msg(makeStxDerivationPath(accountIndex), domain, payload);\n}\n\nexport function signStacksTransactionWithSignature(transaction: string, signatureVRS: Buffer) {\n  const deserializedTx = deserializeTransaction(transaction);\n  const spendingCondition = createMessageSignature(signatureVRS.toString('hex'));\n  (deserializedTx.auth.spendingCondition as SingleSigSpendingCondition).signature =\n    spendingCondition;\n  return deserializedTx;\n}\n\nexport function isStacksLedgerAppClosed(response: ResponseVersion) {\n  const anotherUnknownErrorCodeMeaningAppClosed = 28161;\n  return (\n    response.returnCode === LedgerError.AppDoesNotSeemToBeOpen ||\n    response.returnCode === anotherUnknownErrorCodeMeaningAppClosed\n  );\n}\n\n// https://github.com/Zondax/ledger-stacks/issues/119\n// https://github.com/hirosystems/wallet/issues/2567\nconst versionFromWhichContractPrincipalBugIsFixed = '0.23.3';\n\nexport function isVersionOfLedgerStacksAppWithContractPrincipalBug(\n  currentDeviceVersion: SemVerObject\n) {\n  return compare(\n    versionObjectToVersionString(currentDeviceVersion),\n    versionFromWhichContractPrincipalBugIsFixed,\n    '<'\n  );\n}\n\nexport function isStacksAppOpen({ name }: { name: string }) {\n  return name === LEDGER_APPS_MAP.STACKS;\n}\n","import { styled } from 'leather-styles/jsx';\n\nimport type { SupportedBlockchains } from '@leather.io/models';\nimport { Callout } from '@leather.io/ui';\n\nimport { Capitalize } from '@app/ui/utils/capitalize';\n\nimport { LatestDeviceResponse } from '../utils/generic-ledger-utils';\nimport { isStacksLedgerAppClosed } from '../utils/stacks-ledger-utils';\n\ninterface RequiresChainProp {\n  chain: SupportedBlockchains;\n}\n\ninterface CommonLedgerInlineWarningsProps extends RequiresChainProp {\n  latestDeviceResponse: LatestDeviceResponse;\n  outdatedLedgerAppWarning?: boolean;\n}\n\nfunction OutdatedLedgerAppWarning({ chain }: RequiresChainProp) {\n  return (\n    <Callout variant=\"warning\" textAlign=\"left\">\n      Latest version of <Capitalize>{chain} app</Capitalize> required\n      <styled.a href=\"ledgerlive://manager\" textDecoration=\"underline\">\n        Update on Ledger Live to continue\n      </styled.a>\n    </Callout>\n  );\n}\n\nfunction LedgerDeviceLockedWarning({ chain }: RequiresChainProp) {\n  return (\n    <Callout variant=\"warning\" textAlign=\"left\">\n      Your Ledger is locked. Unlock it and open the {''}\n      <Capitalize>{chain}</Capitalize>\n      {''} app to continue.\n    </Callout>\n  );\n}\n\nfunction LedgerAppClosedWarning({ chain }: RequiresChainProp) {\n  return (\n    <Callout variant=\"warning\" textAlign=\"left\">\n      The <Capitalize>{chain}</Capitalize> app appears to be closed on Ledger. Open it to continue.\n    </Callout>\n  );\n}\n\nexport function CommonLedgerDeviceInlineWarnings({\n  chain,\n  latestDeviceResponse,\n  outdatedLedgerAppWarning = false,\n}: CommonLedgerInlineWarningsProps) {\n  if (!latestDeviceResponse) return null;\n\n  if (outdatedLedgerAppWarning) {\n    return <OutdatedLedgerAppWarning chain={chain} />;\n  }\n  if (latestDeviceResponse.deviceLocked) return <LedgerDeviceLockedWarning chain={chain} />;\n  if (isStacksLedgerAppClosed(latestDeviceResponse))\n    return <LedgerAppClosedWarning chain={chain} />;\n  return null;\n}\n","import { CommonLedgerDeviceInlineWarnings } from '@app/features/ledger/components/ledger-inline-warnings';\nimport { ConnectLedger } from '@app/features/ledger/generic-steps';\nimport { useWhenReattemptingLedgerConnection } from '@app/features/ledger/hooks/use-when-reattempt-ledger-connection';\n\nimport { useLedgerTxSigningContext } from '../ledger-sign-tx.context';\n\nexport function ConnectLedgerSignTx() {\n  const { chain, signTransaction, latestDeviceResponse, awaitingDeviceConnection } =\n    useLedgerTxSigningContext();\n\n  useWhenReattemptingLedgerConnection(() => signTransaction());\n\n  return (\n    <ConnectLedger\n      chain={chain}\n      awaitingLedgerConnection={awaitingDeviceConnection}\n      warning={\n        <CommonLedgerDeviceInlineWarnings\n          chain={chain}\n          latestDeviceResponse={latestDeviceResponse}\n        />\n      }\n      onConnectLedger={signTransaction}\n      showInstructions={false}\n    />\n  );\n}\n","import React from 'react';\nimport { Route } from 'react-router-dom';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { ContractPrincipalBugWarning } from '../../flows/stacks-tx-signing/steps/contract-principal-bug-warning';\nimport {\n  ConnectLedgerError,\n  ConnectLedgerSuccess,\n  DeviceBusy,\n  LedgerDeviceInvalidPayload,\n  LedgerDisconnected,\n  LedgerPublicKeyMismatch,\n  OperationRejected,\n  UnsupportedBrowserLayout,\n} from '../../generic-steps';\nimport { LedgerBroadcastError } from '../../generic-steps/broadcast-error/broadcast-error';\nimport { ConnectLedgerSignTx } from './steps/connect-ledger-sign-tx';\n\ninterface LedgerSignTxRoutesProps {\n  component: React.ReactNode;\n  customRoutes: React.ReactNode;\n}\nexport function ledgerSignTxRoutes({ component, customRoutes }: LedgerSignTxRoutesProps) {\n  return (\n    <Route element={component}>\n      {customRoutes}\n      <Route path={RouteUrls.ConnectLedger} element={<ConnectLedgerSignTx />} />\n      <Route path={RouteUrls.DeviceBusy} element={<DeviceBusy />} />\n      <Route path={RouteUrls.ConnectLedgerError} element={<ConnectLedgerError />} />\n      <Route path={RouteUrls.LedgerUnsupportedBrowser} element={<UnsupportedBrowserLayout />} />\n      <Route path={RouteUrls.ConnectLedgerSuccess} element={<ConnectLedgerSuccess />} />\n      <Route path={RouteUrls.LedgerDisconnected} element={<LedgerDisconnected />} />\n      <Route path={RouteUrls.LedgerOperationRejected} element={<OperationRejected />} />\n      <Route path={RouteUrls.LedgerPublicKeyMismatch} element={<LedgerPublicKeyMismatch />} />\n      <Route path={RouteUrls.LedgerDevicePayloadInvalid} element={<LedgerDeviceInvalidPayload />} />\n      <Route path={RouteUrls.LedgerOutdatedAppWarning} element={<ContractPrincipalBugWarning />} />\n      <Route path={RouteUrls.LedgerBroadcastError} element={<LedgerBroadcastError />} />\n    </Route>\n  );\n}\n","import { Outlet } from 'react-router-dom';\n\nimport { Sheet, SheetHeader } from '@leather.io/ui';\n\nimport { useScrollLock } from '@app/common/hooks/use-scroll-lock';\n\nimport { LedgerTxSigningContext, LedgerTxSigningProvider } from './ledger-sign-tx.context';\n\ninterface TxSigningFlowProps {\n  context: LedgerTxSigningContext;\n  closeAction?(): void;\n}\nexport function TxSigningFlow({ context, closeAction }: TxSigningFlowProps) {\n  useScrollLock(true);\n  return (\n    <LedgerTxSigningProvider value={context}>\n      <Sheet isShowing header={<SheetHeader />} onClose={closeAction}>\n        <Outlet />\n      </Sheet>\n    </LedgerTxSigningProvider>\n  );\n}\n","import { useMemo, useState } from 'react';\n\nimport StacksApp from '@zondax/ledger-stacks';\nimport BitcoinApp from 'ledger-bitcoin';\n\nimport type { SupportedBlockchains } from '@leather.io/models';\nimport { delay, isError } from '@leather.io/utils';\n\nimport { useLedgerNavigate } from '../../hooks/use-ledger-navigate';\nimport { BitcoinAppVersion } from '../../utils/bitcoin-ledger-utils';\nimport {\n  LedgerConnectionErrors,\n  checkLockedDeviceError,\n  useLedgerResponseState,\n} from '../../utils/generic-ledger-utils';\nimport { StacksAppVersion } from '../../utils/stacks-ledger-utils';\nimport { createWaitForUserToSeeWarningScreen } from './ledger-sign-tx.context';\n\ninterface UseLedgerSignTxArgs<App extends BitcoinApp | StacksApp> {\n  chain: SupportedBlockchains;\n  isAppOpen({ name }: { name: string }): boolean;\n  getAppVersion(app: App): Promise<StacksAppVersion> | Promise<BitcoinAppVersion>;\n  connectApp(): Promise<App>;\n  passesAdditionalVersionCheck?(appVersion: StacksAppVersion | BitcoinAppVersion): Promise<boolean>;\n  onSuccess?(): void;\n  signTransactionWithDevice(app: App): Promise<void>;\n}\n\nexport function useLedgerSignTx<App extends StacksApp | BitcoinApp>({\n  chain,\n  isAppOpen,\n  getAppVersion,\n  connectApp,\n  onSuccess,\n  signTransactionWithDevice,\n  passesAdditionalVersionCheck,\n}: UseLedgerSignTxArgs<App>) {\n  const [outdatedAppVersionWarning, setAppVersionOutdatedWarning] = useState(false);\n  const [latestDeviceResponse, setLatestDeviceResponse] = useLedgerResponseState();\n  const [awaitingDeviceConnection, setAwaitingDeviceConnection] = useState(false);\n  const ledgerNavigate = useLedgerNavigate();\n  const hasUserSkippedBuggyAppWarning = useMemo(() => createWaitForUserToSeeWarningScreen(), []);\n  async function checkCorrectAppIsOpenWithFailState(app: App) {\n    const response = await getAppVersion(app);\n    if (!isAppOpen({ name: response.name })) {\n      setAwaitingDeviceConnection(false);\n      throw new Error(LedgerConnectionErrors.AppNotOpen);\n    }\n    const passedAdditionalVersionCheck = await passesAdditionalVersionCheck?.(response);\n    if (passedAdditionalVersionCheck) {\n      return response;\n    }\n    return;\n  }\n\n  async function signTransactionImpl() {\n    let app;\n    try {\n      setLatestDeviceResponse({ deviceLocked: false } as any);\n      setAwaitingDeviceConnection(true);\n      app = await connectApp();\n      await checkCorrectAppIsOpenWithFailState(app);\n      setAwaitingDeviceConnection(false);\n      ledgerNavigate.toConnectionSuccessStep(chain);\n      await delay(1250);\n      await signTransactionWithDevice(app);\n      onSuccess?.();\n    } catch (e) {\n      setAwaitingDeviceConnection(false);\n      if (isError(e) && checkLockedDeviceError(e)) {\n        setLatestDeviceResponse({ deviceLocked: true } as any);\n        return;\n      }\n\n      ledgerNavigate.toErrorStep(chain);\n    } finally {\n      await app?.transport.close();\n    }\n  }\n\n  return {\n    signTransaction: signTransactionImpl,\n    outdatedAppVersionWarning,\n    setAppVersionOutdatedWarning,\n    latestDeviceResponse,\n    setLatestDeviceResponse,\n    awaitingDeviceConnection,\n    setAwaitingDeviceConnection,\n    hasUserSkippedBuggyAppWarning,\n  };\n}\n","import { useMemo } from 'react';\n\nimport { analytics } from '@shared/utils/analytics';\n\nexport function useLedgerAnalytics() {\n  return useMemo(\n    () => ({\n      trackDeviceVersionInfo(info: object) {\n        void analytics.track('ledger_app_version_info', info);\n      },\n      transactionSignedOnLedgerSuccessfully() {\n        void analytics.track('ledger_transaction_signed_approved');\n      },\n      transactionSignedOnLedgerRejected() {\n        void analytics.track('ledger_transaction_signed_rejected');\n      },\n      messageSignedOnLedgerSuccessfully() {\n        void analytics.track('ledger_message_signed_approved');\n      },\n      messageSignedOnLedgerRejected() {\n        void analytics.track('ledger_message_signed_rejected');\n      },\n      publicKeysPulledFromLedgerSuccessfully() {\n        void analytics.track('ledger_public_keys_pulled_from_device');\n      },\n    }),\n    []\n  );\n}\n","import { useEffect, useState } from 'react';\nimport { Route, useLocation } from 'react-router-dom';\n\nimport * as btc from '@scure/btc-signer';\nimport { hexToBytes } from '@stacks/common';\nimport BitcoinApp from 'ledger-bitcoin';\nimport get from 'lodash.get';\n\nimport { delay } from '@leather.io/utils';\n\nimport { BitcoinInputSigningConfig } from '@shared/crypto/bitcoin/signer-config';\nimport { logger } from '@shared/logger';\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { useLocationStateWithCache } from '@app/common/hooks/use-location-state';\nimport { useScrollLock } from '@app/common/hooks/use-scroll-lock';\nimport { appEvents } from '@app/common/publish-subscribe';\nimport { ApproveSignLedgerBitcoinTx } from '@app/features/ledger/flows/bitcoin-tx-signing/steps/approve-bitcoin-sign-ledger-tx';\nimport { ledgerSignTxRoutes } from '@app/features/ledger/generic-flows/tx-signing/ledger-sign-tx-route-generator';\nimport { LedgerTxSigningContext } from '@app/features/ledger/generic-flows/tx-signing/ledger-sign-tx.context';\nimport { TxSigningFlow } from '@app/features/ledger/generic-flows/tx-signing/tx-signing-flow';\nimport { useLedgerSignTx } from '@app/features/ledger/generic-flows/tx-signing/use-ledger-sign-tx';\nimport { useLedgerAnalytics } from '@app/features/ledger/hooks/use-ledger-analytics.hook';\nimport { useLedgerNavigate } from '@app/features/ledger/hooks/use-ledger-navigate';\nimport {\n  connectLedgerBitcoinApp,\n  getBitcoinAppVersion,\n  isBitcoinAppOpen,\n} from '@app/features/ledger/utils/bitcoin-ledger-utils';\nimport { useCancelLedgerAction } from '@app/features/ledger/utils/generic-ledger-utils';\nimport { useToast } from '@app/features/toasts/use-toast';\nimport { useSignLedgerBitcoinTx } from '@app/store/accounts/blockchain/bitcoin/bitcoin.hooks';\nimport { useCurrentNetwork } from '@app/store/networks/networks.selectors';\n\nexport const ledgerBitcoinTxSigningRoutes = ledgerSignTxRoutes({\n  component: <LedgerSignBitcoinTxContainer />,\n  customRoutes: (\n    <Route path={RouteUrls.AwaitingDeviceUserAction} element={<ApproveSignLedgerBitcoinTx />} />\n  ),\n});\n\nfunction LedgerSignBitcoinTxContainer() {\n  const toast = useToast();\n  const location = useLocation();\n  const ledgerNavigate = useLedgerNavigate();\n  const ledgerAnalytics = useLedgerAnalytics();\n  useScrollLock(true);\n\n  const [unsignedTransactionRaw, setUnsignedTransactionRaw] = useState<null | string>(null);\n  const [unsignedTransaction, setUnsignedTransaction] = useState<null | btc.Transaction>(null);\n  const signLedger = useSignLedgerBitcoinTx();\n  const network = useCurrentNetwork();\n\n  const inputsToSign = useLocationStateWithCache<BitcoinInputSigningConfig[]>('inputsToSign');\n\n  useEffect(() => {\n    const tx = get(location.state, 'tx');\n    if (tx) {\n      setUnsignedTransactionRaw(tx);\n      setUnsignedTransaction(btc.Transaction.fromPSBT(hexToBytes(tx)));\n    }\n  }, [location.state]);\n\n  useEffect(() => () => setUnsignedTransaction(null), []);\n\n  const chain = 'bitcoin' as const;\n\n  const { signTransaction, latestDeviceResponse, awaitingDeviceConnection } =\n    useLedgerSignTx<BitcoinApp>({\n      chain,\n      isAppOpen: isBitcoinAppOpen({ network: network.chain.bitcoin.mode }),\n      getAppVersion: getBitcoinAppVersion,\n      connectApp: connectLedgerBitcoinApp(network.chain.bitcoin.mode),\n      async signTransactionWithDevice(bitcoinApp) {\n        if (!inputsToSign) {\n          ledgerNavigate.cancelLedgerAction();\n          toast.error('No input signing config defined');\n          return;\n        }\n\n        ledgerNavigate.toDeviceBusyStep('Verifying public key on Ledger');\n\n        ledgerNavigate.toConnectionSuccessStep('bitcoin');\n        await delay(1200);\n        if (!unsignedTransaction) throw new Error('No unsigned tx');\n\n        ledgerNavigate.toAwaitingDeviceOperation({ hasApprovedOperation: false });\n\n        try {\n          const btcTx = await signLedger(bitcoinApp, unsignedTransaction.toPSBT(), inputsToSign);\n\n          if (!btcTx || !unsignedTransactionRaw) throw new Error('No tx returned');\n          ledgerNavigate.toAwaitingDeviceOperation({ hasApprovedOperation: true });\n          await delay(1200);\n          appEvents.publish('ledgerBitcoinTxSigned', {\n            signedPsbt: btcTx,\n            unsignedPsbt: unsignedTransactionRaw,\n          });\n        } catch (e) {\n          logger.error('Unable to sign tx with ledger', e);\n          ledgerAnalytics.transactionSignedOnLedgerRejected();\n          ledgerNavigate.toOperationRejectedStep();\n        } finally {\n          void bitcoinApp.transport.close();\n        }\n      },\n    });\n\n  const ledgerContextValue: LedgerTxSigningContext = {\n    chain,\n    transaction: unsignedTransaction,\n    signTransaction,\n    latestDeviceResponse,\n    awaitingDeviceConnection,\n  };\n  const canCancelLedgerAction = useCancelLedgerAction(awaitingDeviceConnection);\n\n  return (\n    <TxSigningFlow\n      context={ledgerContextValue}\n      closeAction={canCancelLedgerAction ? ledgerNavigate.cancelLedgerAction : undefined}\n    />\n  );\n}\n","import { makeDIDFromAddress } from '@stacks/auth';\nimport { makeUUID4, nextMonth } from '@stacks/common';\nimport { publicKeyToBtcAddress } from '@stacks/encryption';\nimport base64url from 'base64url';\n\nexport async function makeLedgerCompatibleUnsignedAuthResponsePayload({\n  dataPublicKey,\n  profile = {},\n  expiresAt = nextMonth().getTime(),\n}: {\n  dataPublicKey: string;\n  profile: any;\n  expiresAt?: number;\n}): Promise<string> {\n  const address = publicKeyToBtcAddress(dataPublicKey);\n\n  const payload = {\n    jti: makeUUID4(),\n    iat: Math.floor(new Date().getTime() / 1000), // JWT times are in seconds\n    exp: Math.floor(expiresAt / 1000), // JWT times are in seconds\n    iss: makeDIDFromAddress(address),\n    public_keys: [dataPublicKey],\n    profile,\n  };\n\n  const header = { typ: 'JWT', alg: 'ES256K' };\n\n  const formedHeader = base64url.encode(JSON.stringify(header));\n\n  const formedPayload = base64url.encode(JSON.stringify(payload));\n\n  const inputToSign = [formedHeader, formedPayload].join('.');\n\n  return inputToSign;\n}\n","import { sha256 } from '@noble/hashes/sha256';\nimport { bytesToHex } from '@stacks/common';\nimport StacksApp from '@zondax/ledger-stacks';\nimport ecdsaFormat from 'ecdsa-sig-formatter';\n\nimport { getIdentityDerivationPath } from '@shared/crypto/stacks/stacks-address-gen';\n\nfunction reformatDerSignatureToJose(derSignature: Uint8Array) {\n  // Stacks authentication uses `ES256k`, however `ecdsa-sig-formatter` doesn't\n  // accept this. As it only uses this to validate key length, and the key\n  // lengths are the same, it works despite this confusing disparity.\n  return ecdsaFormat.derToJose(Buffer.from(derSignature), 'ES256');\n}\n\nexport function addSignatureToAuthResponseJwt(authResponse: string, signature: Uint8Array) {\n  const resultingSig = reformatDerSignatureToJose(signature);\n  return [authResponse, resultingSig].join('.');\n}\n\nexport function getSha256HashOfJwtAuthPayload(payload: string) {\n  return bytesToHex(sha256(payload));\n}\n\nexport function signLedgerJwtHash(app: StacksApp) {\n  return async (payload: string, accountIndex: number) =>\n    app.sign_jwt(getIdentityDerivationPath(accountIndex), payload);\n}\n","import { createContext } from 'react';\n\nimport { noop } from '@leather.io/utils';\n\nimport { BaseLedgerOperationContext } from '../../utils/generic-ledger-utils';\n\nexport interface LedgerJwtSigningContext extends BaseLedgerOperationContext {\n  signJwtPayload(): Promise<void> | void;\n  jwtPayloadHash: null | string;\n}\n\nexport const ledgerJwtSigningContext = createContext<LedgerJwtSigningContext>({\n  latestDeviceResponse: null,\n  awaitingDeviceConnection: false,\n  signJwtPayload: noop,\n  jwtPayloadHash: null,\n});\n\nexport const LedgerJwtSigningProvider = ledgerJwtSigningContext.Provider;\n","import { useEffect, useState } from 'react';\nimport { Outlet, useLocation } from 'react-router-dom';\n\nimport { TransactionVersion, getAddressFromPublicKey } from '@stacks/transactions';\nimport { LedgerError } from '@zondax/ledger-stacks';\nimport get from 'lodash.get';\n\nimport { Sheet, SheetHeader } from '@leather.io/ui';\nimport { delay, isError } from '@leather.io/utils';\n\nimport { finalizeAuthResponse } from '@shared/actions/finalize-auth-response';\nimport { logger } from '@shared/logger';\n\nimport { useGetLegacyAuthBitcoinAddresses } from '@app/common/authentication/use-legacy-auth-bitcoin-addresses';\nimport { useOnboardingState } from '@app/common/hooks/auth/use-onboarding-state';\nimport { useDefaultRequestParams } from '@app/common/hooks/use-default-request-search-params';\nimport { useKeyActions } from '@app/common/hooks/use-key-actions';\nimport { useScrollLock } from '@app/common/hooks/use-scroll-lock';\nimport { makeLedgerCompatibleUnsignedAuthResponsePayload } from '@app/common/unsafe-auth-response';\nimport { useCancelLedgerAction } from '@app/features/ledger/utils/generic-ledger-utils';\nimport {\n  getStacksAppVersion,\n  prepareLedgerDeviceStacksAppConnection,\n} from '@app/features/ledger/utils/stacks-ledger-utils';\nimport {\n  useCurrentStacksAccount,\n  useStacksAccounts,\n} from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\nimport { useLedgerNavigate } from '../../hooks/use-ledger-navigate';\nimport { checkLockedDeviceError, useLedgerResponseState } from '../../utils/generic-ledger-utils';\nimport {\n  addSignatureToAuthResponseJwt,\n  getSha256HashOfJwtAuthPayload,\n  signLedgerJwtHash,\n} from './jwt-signing.utils';\nimport { LedgerJwtSigningContext, LedgerJwtSigningProvider } from './ledger-sign-jwt.context';\n\nexport function LedgerSignJwtContainer() {\n  const location = useLocation();\n  const ledgerNavigate = useLedgerNavigate();\n  useScrollLock(true);\n\n  const activeAccount = useCurrentStacksAccount();\n  const accounts = useStacksAccounts();\n\n  const getBitcoinAddressesLegacyFormat = useGetLegacyAuthBitcoinAddresses();\n\n  const keyActions = useKeyActions();\n  const { decodedAuthRequest, authRequest } = useOnboardingState();\n\n  const [accountIndex, setAccountIndex] = useState<null | number>(null);\n\n  useEffect(() => {\n    const index = parseInt(get(location.state, 'index'), 10);\n    if (Number.isFinite(index)) setAccountIndex(index);\n  }, [location.state]);\n\n  const [latestDeviceResponse, setLatestDeviceResponse] = useLedgerResponseState();\n\n  const [awaitingDeviceConnection, setAwaitingDeviceConnection] = useState(false);\n\n  const [jwtPayloadHash, setJwtPayloadHash] = useState<null | string>(null);\n  const { origin, tabId } = useDefaultRequestParams();\n\n  const chain = 'stacks';\n\n  const signJwtPayload = async () => {\n    if (!origin) throw new Error('Cannot sign payload for unknown origin');\n\n    if (accountIndex === null) {\n      logger.warn('No account index found');\n      return;\n    }\n\n    if (!activeAccount || !decodedAuthRequest || !authRequest || !accounts || !tabId) {\n      logger.warn('No necessary state not found while performing JWT signing', {\n        account: activeAccount,\n        decodedAuthRequest,\n        authRequest,\n        accounts,\n        tabId,\n      });\n      return;\n    }\n\n    const account = accounts[accountIndex];\n\n    if (!account) {\n      logger.warn('No account for given index found');\n      return;\n    }\n\n    const stacks = await prepareLedgerDeviceStacksAppConnection({\n      setLoadingState: setAwaitingDeviceConnection,\n      onError(e) {\n        if (isError(e) && checkLockedDeviceError(e)) {\n          setLatestDeviceResponse({ deviceLocked: true } as any);\n          return;\n        }\n        ledgerNavigate.toErrorStep(chain);\n      },\n    });\n\n    const versionInfo = await getStacksAppVersion(stacks);\n    setLatestDeviceResponse(versionInfo);\n\n    if (versionInfo.deviceLocked) {\n      setAwaitingDeviceConnection(false);\n      return;\n    }\n\n    if (versionInfo.returnCode !== LedgerError.NoErrors) {\n      logger.error('Return code from device has error', versionInfo);\n      return;\n    }\n\n    // TODO: #4566 Low-grade code. This is to be removed when deprecating legacy APIs\n    let legacyAddressObj = {};\n    try {\n      legacyAddressObj = getBitcoinAddressesLegacyFormat(accountIndex);\n    } catch (e) {\n      logger.error('Error while generating bitcoin addresses to return', e);\n    }\n\n    try {\n      ledgerNavigate.toConnectionSuccessStep('stacks');\n      await delay(1000);\n\n      const authResponsePayload = await makeLedgerCompatibleUnsignedAuthResponsePayload({\n        dataPublicKey: account.dataPublicKey,\n        profile: {\n          stxAddress: {\n            testnet: getAddressFromPublicKey(account.stxPublicKey, TransactionVersion.Testnet),\n            mainnet: getAddressFromPublicKey(account.stxPublicKey, TransactionVersion.Mainnet),\n          },\n          ...legacyAddressObj,\n        },\n      });\n\n      setJwtPayloadHash(getSha256HashOfJwtAuthPayload(authResponsePayload));\n\n      ledgerNavigate.toAwaitingDeviceOperation({ hasApprovedOperation: false });\n\n      const resp = await signLedgerJwtHash(stacks)(authResponsePayload, accountIndex);\n\n      if (resp.returnCode === LedgerError.TransactionRejected) {\n        ledgerNavigate.toOperationRejectedStep();\n        return;\n      }\n\n      ledgerNavigate.toAwaitingDeviceOperation({ hasApprovedOperation: true });\n      const authResponse = addSignatureToAuthResponseJwt(authResponsePayload, resp.signatureDER);\n      await delay(600);\n      keyActions.switchAccount(accountIndex);\n\n      finalizeAuthResponse({\n        decodedAuthRequest,\n        authRequest,\n        authResponse,\n        requestingOrigin: origin,\n        tabId,\n      });\n    } catch (e) {\n      ledgerNavigate.toDeviceDisconnectStep();\n    } finally {\n      await stacks.transport.close();\n    }\n  };\n\n  const onCancelConnectLedger = ledgerNavigate.cancelLedgerAction;\n\n  const ledgerContextValue: LedgerJwtSigningContext = {\n    signJwtPayload,\n    jwtPayloadHash,\n    latestDeviceResponse,\n    awaitingDeviceConnection,\n  };\n\n  const canCancelLedgerAction = useCancelLedgerAction(awaitingDeviceConnection);\n\n  return (\n    <LedgerJwtSigningProvider value={ledgerContextValue}>\n      <Sheet\n        isShowing\n        header={<SheetHeader />}\n        onClose={canCancelLedgerAction ? () => onCancelConnectLedger() : undefined}\n      >\n        <Outlet />\n      </Sheet>\n    </LedgerJwtSigningProvider>\n  );\n}\n","import { useContext } from 'react';\n\nimport { CommonLedgerDeviceInlineWarnings } from '@app/features/ledger/components/ledger-inline-warnings';\nimport { ledgerJwtSigningContext } from '@app/features/ledger/flows/jwt-signing/ledger-sign-jwt.context';\nimport { ConnectLedger } from '@app/features/ledger/generic-steps';\n\nexport function ConnectLedgerSignJwt() {\n  const { signJwtPayload, latestDeviceResponse, awaitingDeviceConnection } =\n    useContext(ledgerJwtSigningContext);\n\n  return (\n    <ConnectLedger\n      chain=\"stacks\"\n      awaitingLedgerConnection={awaitingDeviceConnection}\n      warning={\n        <CommonLedgerDeviceInlineWarnings\n          chain=\"stacks\"\n          latestDeviceResponse={latestDeviceResponse}\n        />\n      }\n      onConnectLedger={signJwtPayload}\n      showInstructions={false}\n    />\n  );\n}\n","import { useContext } from 'react';\n\nimport { Box, Flex } from 'leather-styles/jsx';\n\nimport { DeviceOperationApprovalStatus } from '@app/features/ledger/components/device-approval-status';\nimport { LedgerScreenDetail } from '@app/features/ledger/components/ledger-screen-detail';\nimport { LedgerTitle } from '@app/features/ledger/components/ledger-title';\nimport { LedgerWrapper } from '@app/features/ledger/components/ledger-wrapper';\nimport { ledgerJwtSigningContext } from '@app/features/ledger/flows/jwt-signing/ledger-sign-jwt.context';\nimport { useHasApprovedOperation } from '@app/features/ledger/hooks/use-has-approved-transaction';\nimport { SignLedgerTransaction } from '@app/features/ledger/illustrations/ledger-illu-sign-ledger-transaction';\n\nexport function SignJwtHash() {\n  const { jwtPayloadHash } = useContext(ledgerJwtSigningContext);\n  const hasApprovedOperation = useHasApprovedOperation();\n\n  return (\n    <LedgerWrapper>\n      <Box mt=\"space.02\">\n        <SignLedgerTransaction />\n      </Box>\n      <LedgerTitle mt=\"space.05\" mx=\"space.08\">\n        Approve the JWT hash on your device\n      </LedgerTitle>\n      <DeviceOperationApprovalStatus\n        status={hasApprovedOperation ? 'approved' : 'awaiting-approval'}\n      />\n      <Flex\n        bg=\"ink.component-background-default\"\n        borderRadius=\"lg\"\n        flexDirection=\"column\"\n        textAlign=\"left\"\n        px=\"space.06\"\n        py=\"space.06\"\n        width=\"100%\"\n      >\n        <LedgerScreenDetail\n          title=\"JWT Hash\"\n          tooltipLabel=\"This is a Sha256 hash of the JSON Web Token payload returned to the connecting app, which proves to the app you own the corresponding private key\"\n        >\n          {jwtPayloadHash}\n        </LedgerScreenDetail>\n      </Flex>\n    </LedgerWrapper>\n  );\n}\n","import { Route } from 'react-router-dom';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport {\n  ConnectLedgerError,\n  ConnectLedgerSuccess,\n  DeviceBusy,\n  LedgerDisconnected,\n  OperationRejected,\n} from '../../generic-steps';\nimport { LedgerSignJwtContainer } from './ledger-sign-jwt-container';\nimport { ConnectLedgerSignJwt } from './steps/connect-ledger-sign-jwt';\nimport { SignJwtHash } from './steps/sign-jwt-hash';\n\nexport const ledgerJwtSigningRoutes = (\n  <Route element={<LedgerSignJwtContainer />}>\n    <Route path={RouteUrls.ConnectLedger} element={<ConnectLedgerSignJwt />} />\n    <Route path={RouteUrls.ConnectLedgerError} element={<ConnectLedgerError />} />\n    <Route path={RouteUrls.ConnectLedgerSuccess} element={<ConnectLedgerSuccess />} />\n    <Route path={RouteUrls.LedgerOperationRejected} element={<OperationRejected />} />\n    <Route path={RouteUrls.DeviceBusy} element={<DeviceBusy />} />\n    <Route path={RouteUrls.AwaitingDeviceUserAction} element={<SignJwtHash />} />\n    <Route path={RouteUrls.LedgerDisconnected} element={<LedgerDisconnected />} />\n  </Route>\n);\n","import { useState } from 'react';\n\nimport StacksApp from '@zondax/ledger-stacks';\nimport BitcoinApp from 'ledger-bitcoin';\n\nimport type { SupportedBlockchains } from '@leather.io/models';\nimport { delay, isError } from '@leather.io/utils';\n\nimport { useLedgerAnalytics } from '../../hooks/use-ledger-analytics.hook';\nimport { useLedgerNavigate } from '../../hooks/use-ledger-navigate';\nimport { BitcoinAppVersion } from '../../utils/bitcoin-ledger-utils';\nimport {\n  LedgerConnectionErrors,\n  checkLockedDeviceError,\n  useLedgerResponseState,\n} from '../../utils/generic-ledger-utils';\nimport { StacksAppVersion } from '../../utils/stacks-ledger-utils';\n\nexport const defaultNumberOfKeysToPullFromLedgerDevice = 10;\n\ninterface UseRequestLedgerKeysArgs<App extends BitcoinApp | StacksApp> {\n  chain: SupportedBlockchains;\n  isAppOpen({ name }: { name: string }): boolean;\n  getAppVersion(app: App): Promise<StacksAppVersion> | Promise<BitcoinAppVersion>;\n  connectApp(): Promise<App>;\n  pullKeysFromDevice(app: App): Promise<void>;\n  onSuccess(): void;\n}\nexport function useRequestLedgerKeys<App extends BitcoinApp | StacksApp>({\n  chain,\n  connectApp,\n  getAppVersion,\n  pullKeysFromDevice,\n  isAppOpen,\n  onSuccess,\n}: UseRequestLedgerKeysArgs<App>) {\n  const [outdatedAppVersionWarning, setAppVersionOutdatedWarning] = useState(false);\n  const [latestDeviceResponse, setLatestDeviceResponse] = useLedgerResponseState();\n  const [awaitingDeviceConnection, setAwaitingDeviceConnection] = useState(false);\n  const ledgerNavigate = useLedgerNavigate();\n  const ledgerAnalytics = useLedgerAnalytics();\n\n  async function checkCorrectAppIsOpenWithFailState(app: App) {\n    const response = await getAppVersion(app);\n\n    if (!isAppOpen({ name: response.name })) {\n      setAwaitingDeviceConnection(false);\n      throw new Error(LedgerConnectionErrors.AppNotOpen);\n    }\n    return response;\n  }\n\n  async function requestKeys() {\n    let app;\n    try {\n      setLatestDeviceResponse({ deviceLocked: false } as any);\n      setAwaitingDeviceConnection(true);\n      app = await connectApp();\n      await checkCorrectAppIsOpenWithFailState(app);\n      setAwaitingDeviceConnection(false);\n      ledgerNavigate.toConnectionSuccessStep(chain);\n      await delay(1250);\n      await pullKeysFromDevice(app);\n      ledgerAnalytics.publicKeysPulledFromLedgerSuccessfully();\n      await app.transport.close();\n      onSuccess?.();\n    } catch (e) {\n      setAwaitingDeviceConnection(false);\n      if (isError(e) && checkLockedDeviceError(e)) {\n        setLatestDeviceResponse({ deviceLocked: true } as any);\n        return;\n      }\n\n      ledgerNavigate.toErrorStep(chain);\n      return app?.transport.close();\n    }\n  }\n\n  return {\n    requestKeys,\n    outdatedAppVersionWarning,\n    setAppVersionOutdatedWarning,\n    latestDeviceResponse,\n    setLatestDeviceResponse,\n    awaitingDeviceConnection,\n    setAwaitingDeviceConnection,\n  };\n}\n","import BitcoinApp, { DefaultWalletPolicy } from 'ledger-bitcoin';\n\nimport {\n  createWalletIdDecoratedPath,\n  getNativeSegwitAccountDerivationPath,\n  getTaprootAccountDerivationPath,\n} from '@leather.io/bitcoin';\nimport type { BitcoinNetworkModes, NetworkModes } from '@leather.io/models';\nimport { delay } from '@leather.io/utils';\n\nimport { defaultNumberOfKeysToPullFromLedgerDevice } from '../../generic-flows/request-keys/use-request-ledger-keys';\nimport {\n  WalletPolicyDetails,\n  createNativeSegwitDefaultWalletPolicy,\n  createTaprootDefaultWalletPolicy,\n} from '../../utils/bitcoin-ledger-utils';\n\ninterface GetPolicyForPaymentTypeFactoryArgs {\n  derivationPathFn(network: BitcoinNetworkModes, accountIndex: number): string;\n  policyFn(policyDetails: WalletPolicyDetails): DefaultWalletPolicy;\n}\ninterface GetExtendedPublicKeyFactoryArgs {\n  bitcoinApp: BitcoinApp;\n  fingerprint: string;\n  network: NetworkModes;\n  accountIndex: number;\n}\nfunction getPolicyForPaymentType({\n  derivationPathFn,\n  policyFn,\n}: GetPolicyForPaymentTypeFactoryArgs) {\n  return async ({\n    accountIndex,\n    bitcoinApp,\n    fingerprint,\n    network,\n  }: GetExtendedPublicKeyFactoryArgs) => {\n    const path = derivationPathFn(network, accountIndex);\n    const xpub = await bitcoinApp.getExtendedPubkey(path);\n    const policy = policyFn({ xpub, fingerprint, network, accountIndex });\n    return { policy: policy.keys[0], xpub, fingerprint, path };\n  };\n}\n\nconst getNativeSegwitExtendedPublicKey = getPolicyForPaymentType({\n  derivationPathFn: getNativeSegwitAccountDerivationPath,\n  policyFn: createNativeSegwitDefaultWalletPolicy,\n});\n\nconst getTaprootExtendedPublicKey = getPolicyForPaymentType({\n  derivationPathFn: getTaprootAccountDerivationPath,\n  policyFn: createTaprootDefaultWalletPolicy,\n});\n\ninterface PullBitcoinKeysFromLedgerDeviceArgs {\n  onRequestKey?(keyIndex: number): void;\n  network: NetworkModes;\n}\nexport function pullBitcoinKeysFromLedgerDevice(bitcoinApp: BitcoinApp, targetId = '') {\n  return async ({ onRequestKey, network }: PullBitcoinKeysFromLedgerDeviceArgs) => {\n    const fingerprint = await bitcoinApp.getMasterFingerprint();\n    const keys: { id: string; path: string; policy: string; targetId: string }[] = [];\n    for (\n      let accountIndex = 0;\n      accountIndex < defaultNumberOfKeysToPullFromLedgerDevice;\n      accountIndex++\n    ) {\n      onRequestKey?.(accountIndex);\n      const { path, policy } = await getNativeSegwitExtendedPublicKey({\n        bitcoinApp,\n        fingerprint,\n        network,\n        accountIndex,\n      });\n      keys.push({ id: createWalletIdDecoratedPath(path, 'default'), path, policy, targetId });\n    }\n\n    for (\n      let accountIndex = 0;\n      accountIndex < defaultNumberOfKeysToPullFromLedgerDevice;\n      accountIndex++\n    ) {\n      onRequestKey?.(accountIndex + defaultNumberOfKeysToPullFromLedgerDevice);\n      const { path, policy } = await getTaprootExtendedPublicKey({\n        bitcoinApp,\n        fingerprint,\n        network,\n        accountIndex,\n      });\n      keys.push({ id: createWalletIdDecoratedPath(path, 'default'), path, policy, targetId });\n    }\n    await delay(250);\n    return { status: 'success', keys };\n  };\n}\n","import { createContext, useContext } from 'react';\n\nimport type { SupportedBlockchains } from '@leather.io/models';\n\nimport { BaseLedgerOperationContext } from '../../utils/generic-ledger-utils';\n\nexport interface LedgerRequestKeysContext extends BaseLedgerOperationContext {\n  chain: SupportedBlockchains;\n  pullPublicKeysFromDevice(): Promise<void>;\n  outdatedAppVersionWarning: boolean;\n}\n\nconst ledgerRequestKeysContext = createContext<LedgerRequestKeysContext | null>(null);\n\nexport function useLedgerRequestKeysContext() {\n  const context = useContext(ledgerRequestKeysContext);\n  if (!context) throw new Error('No LedgerRequestKeysContext found');\n  return context;\n}\n\nexport const LedgerRequestKeysProvider = ledgerRequestKeysContext.Provider;\n","import { CommonLedgerDeviceInlineWarnings } from '@app/features/ledger/components/ledger-inline-warnings';\nimport { useLedgerRequestKeysContext } from '@app/features/ledger/generic-flows/request-keys/ledger-request-keys.context';\nimport { ConnectLedger } from '@app/features/ledger/generic-steps/connect-device/connect-ledger';\nimport { useWhenReattemptingLedgerConnection } from '@app/features/ledger/hooks/use-when-reattempt-ledger-connection';\n\nexport function ConnectLedgerRequestKeys() {\n  const {\n    pullPublicKeysFromDevice,\n    latestDeviceResponse,\n    awaitingDeviceConnection,\n    outdatedAppVersionWarning,\n    chain,\n  } = useLedgerRequestKeysContext();\n\n  useWhenReattemptingLedgerConnection(() => pullPublicKeysFromDevice());\n\n  return (\n    <ConnectLedger\n      chain={chain}\n      awaitingLedgerConnection={awaitingDeviceConnection}\n      warning={\n        <CommonLedgerDeviceInlineWarnings\n          chain={chain}\n          latestDeviceResponse={latestDeviceResponse}\n          outdatedLedgerAppWarning={outdatedAppVersionWarning}\n        />\n      }\n      showInstructions\n      onConnectLedger={pullPublicKeysFromDevice}\n    />\n  );\n}\n","import { Route } from 'react-router-dom';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport {\n  ConnectLedgerError,\n  ConnectLedgerSuccess,\n  DeviceBusy,\n  UnsupportedBrowserLayout,\n} from '../../generic-steps';\nimport { ConnectLedgerRequestKeys } from './steps/connect-ledger-request-keys';\n\ninterface LedgerRequestKeysRoutesProps {\n  path: string;\n  component: React.ReactNode;\n}\nexport function ledgerRequestKeysRoutes({ path, component }: LedgerRequestKeysRoutesProps) {\n  return (\n    <Route path={path} element={component}>\n      <Route path={RouteUrls.ConnectLedger} element={<ConnectLedgerRequestKeys />} />\n      <Route path={RouteUrls.DeviceBusy} element={<DeviceBusy />} />\n      <Route path={RouteUrls.ConnectLedgerError} element={<ConnectLedgerError />} />\n      <Route path={RouteUrls.ConnectLedgerSuccess} element={<ConnectLedgerSuccess />} />\n      <Route path={RouteUrls.LedgerUnsupportedBrowser} element={<UnsupportedBrowserLayout />} />\n    </Route>\n  );\n}\n","import { Outlet } from 'react-router-dom';\n\nimport { Sheet, SheetHeader } from '@leather.io/ui';\n\nimport { useScrollLock } from '@app/common/hooks/use-scroll-lock';\n\nimport { useLedgerNavigate } from '../../hooks/use-ledger-navigate';\nimport { LedgerRequestKeysContext, LedgerRequestKeysProvider } from './ledger-request-keys.context';\n\ninterface RequestKeysFlowProps {\n  context: LedgerRequestKeysContext;\n  isActionCancellableByUser: boolean;\n}\nexport function RequestKeysFlow({ context, isActionCancellableByUser }: RequestKeysFlowProps) {\n  const ledgerNavigate = useLedgerNavigate();\n  useScrollLock(true);\n\n  const onCancelConnectLedger = ledgerNavigate.cancelLedgerAction;\n\n  return (\n    <LedgerRequestKeysProvider value={context}>\n      <Sheet\n        isShowing\n        header={<SheetHeader />}\n        onClose={isActionCancellableByUser ? onCancelConnectLedger : undefined}\n      >\n        <Outlet />\n      </Sheet>\n    </LedgerRequestKeysProvider>\n  );\n}\n","import { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\n\nimport BitcoinApp from 'ledger-bitcoin';\n\nimport { bitcoinNetworkModeToCoreNetworkMode } from '@leather.io/bitcoin';\n\nimport { pullBitcoinKeysFromLedgerDevice } from '@app/features/ledger/flows/request-bitcoin-keys/request-bitcoin-keys.utils';\nimport { ledgerRequestKeysRoutes } from '@app/features/ledger/generic-flows/request-keys/ledger-request-keys-route-generator';\nimport { LedgerRequestKeysContext } from '@app/features/ledger/generic-flows/request-keys/ledger-request-keys.context';\nimport { RequestKeysFlow } from '@app/features/ledger/generic-flows/request-keys/request-keys-flow';\nimport {\n  defaultNumberOfKeysToPullFromLedgerDevice,\n  useRequestLedgerKeys,\n} from '@app/features/ledger/generic-flows/request-keys/use-request-ledger-keys';\nimport { useLedgerNavigate } from '@app/features/ledger/hooks/use-ledger-navigate';\nimport {\n  connectLedgerBitcoinApp,\n  getBitcoinAppVersion,\n  isBitcoinAppOpen,\n} from '@app/features/ledger/utils/bitcoin-ledger-utils';\nimport { useCancelLedgerAction } from '@app/features/ledger/utils/generic-ledger-utils';\nimport { bitcoinKeysSlice } from '@app/store/ledger/bitcoin/bitcoin-key.slice';\nimport { useCurrentNetwork } from '@app/store/networks/networks.selectors';\n\nfunction LedgerRequestBitcoinKeys() {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const ledgerNavigate = useLedgerNavigate();\n  const network = useCurrentNetwork();\n\n  const chain = 'bitcoin';\n\n  const { requestKeys, latestDeviceResponse, awaitingDeviceConnection } =\n    useRequestLedgerKeys<BitcoinApp>({\n      chain,\n      connectApp: connectLedgerBitcoinApp(network.chain.bitcoin.mode),\n      getAppVersion: getBitcoinAppVersion,\n      isAppOpen: isBitcoinAppOpen({ network: network.chain.bitcoin.mode }),\n      onSuccess() {\n        navigate('/', { replace: true });\n      },\n      async pullKeysFromDevice(app) {\n        const { keys } = await pullBitcoinKeysFromLedgerDevice(app)({\n          network: bitcoinNetworkModeToCoreNetworkMode(network.chain.bitcoin.mode),\n          onRequestKey(index) {\n            const keyGroupFinalIndex = defaultNumberOfKeysToPullFromLedgerDevice - 1;\n            const isNativeSegwitkey = index <= keyGroupFinalIndex;\n            if (isNativeSegwitkey) {\n              ledgerNavigate.toDeviceBusyStep(\n                `Requesting Bitcoin Native Segwit address (${index + 1}${defaultNumberOfKeysToPullFromLedgerDevice})`\n              );\n              return;\n            }\n            ledgerNavigate.toDeviceBusyStep(\n              `Requesting Bitcoin Taproot address (${index - keyGroupFinalIndex}${defaultNumberOfKeysToPullFromLedgerDevice})`\n            );\n          },\n        });\n        dispatch(bitcoinKeysSlice.actions.addKeys(keys));\n      },\n    });\n\n  const ledgerContextValue: LedgerRequestKeysContext = {\n    chain: 'bitcoin',\n    pullPublicKeysFromDevice: requestKeys,\n    latestDeviceResponse,\n    awaitingDeviceConnection,\n    outdatedAppVersionWarning: false,\n  };\n\n  const canCancelLedgerAction = useCancelLedgerAction(awaitingDeviceConnection);\n  return (\n    <RequestKeysFlow\n      context={ledgerContextValue}\n      isActionCancellableByUser={canCancelLedgerAction}\n    />\n  );\n}\n\nexport const requestBitcoinKeysRoutes = ledgerRequestKeysRoutes({\n  path: 'bitcoin',\n  component: <LedgerRequestBitcoinKeys />,\n});\n","import { bytesToHex } from '@noble/hashes/utils';\nimport * as secp from '@noble/secp256k1';\nimport StacksApp from '@zondax/ledger-stacks';\n\nimport { makeStxDerivationPath } from '@leather.io/stacks';\nimport { delay } from '@leather.io/utils';\n\nimport { getIdentityDerivationPath } from '@shared/crypto/stacks/stacks-address-gen';\n\nimport { defaultNumberOfKeysToPullFromLedgerDevice } from '../../generic-flows/request-keys/use-request-ledger-keys';\nimport {\n  StacksAppKeysResponseItem,\n  requestPublicKeyForStxAccount,\n} from '../../utils/stacks-ledger-utils';\n\nfunction requestPublicKeyForIdentityAccount(app: StacksApp) {\n  return async (index: number) => app.getIdentityPubKey(getIdentityDerivationPath(index));\n}\n\nfunction decompressSecp256k1PublicKey(publicKey: string) {\n  const point = secp.ProjectivePoint.fromHex(publicKey);\n  return bytesToHex(point.toRawBytes(false));\n}\n\ninterface PullStacksKeysFromLedgerSuccess {\n  status: 'success';\n  publicKeys: StacksAppKeysResponseItem[];\n}\n\ninterface PullStacksKeysFromLedgerFailure {\n  status: 'failure';\n  errorMessage: string;\n  returnCode: number;\n}\n\ntype PullStacksKeysFromLedgerResponse = Promise<\n  PullStacksKeysFromLedgerSuccess | PullStacksKeysFromLedgerFailure\n>;\n\ninterface PullStacksKeysFromLedgerDeviceArgs {\n  onRequestKey?(keyIndex: number): void;\n}\nexport function pullStacksKeysFromLedgerDevice(stacksApp: StacksApp) {\n  return async ({\n    onRequestKey,\n  }: PullStacksKeysFromLedgerDeviceArgs): PullStacksKeysFromLedgerResponse => {\n    const publicKeys = [];\n\n    for (let index = 0; index < defaultNumberOfKeysToPullFromLedgerDevice; index++) {\n      if (onRequestKey) onRequestKey(index);\n      const stxPublicKeyResp = await requestPublicKeyForStxAccount(stacksApp)(index);\n      const dataPublicKeyResp = await requestPublicKeyForIdentityAccount(stacksApp)(index);\n\n      if (!stxPublicKeyResp.publicKey) return { status: 'failure', ...stxPublicKeyResp };\n      if (!dataPublicKeyResp.publicKey) return { status: 'failure', ...dataPublicKeyResp };\n\n      publicKeys.push({\n        path: makeStxDerivationPath(index),\n        stxPublicKey: stxPublicKeyResp.publicKey.toString('hex'),\n        // We return a decompressed public key, to match the behaviour of\n        // @stacks/wallet-sdk. I'm not sure why we return an uncompressed key\n        // typically compressed keys are used\n        dataPublicKey: decompressSecp256k1PublicKey(dataPublicKeyResp.publicKey.toString('hex')),\n      });\n    }\n    await delay(1000);\n    return { status: 'success', publicKeys };\n  };\n}\n","import { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\n\nimport StacksApp from '@zondax/ledger-stacks';\nimport { pullStacksKeysFromLedgerDevice } from 'app/features/ledger/flows/request-stacks-keys/request-stacks-keys.utils';\n\nimport { defaultWalletKeyId } from '@shared/utils';\n\nimport { ledgerRequestKeysRoutes } from '@app/features/ledger/generic-flows/request-keys/ledger-request-keys-route-generator';\nimport { LedgerRequestKeysContext } from '@app/features/ledger/generic-flows/request-keys/ledger-request-keys.context';\nimport { RequestKeysFlow } from '@app/features/ledger/generic-flows/request-keys/request-keys-flow';\nimport {\n  defaultNumberOfKeysToPullFromLedgerDevice,\n  useRequestLedgerKeys,\n} from '@app/features/ledger/generic-flows/request-keys/use-request-ledger-keys';\nimport { useLedgerNavigate } from '@app/features/ledger/hooks/use-ledger-navigate';\nimport { useCancelLedgerAction } from '@app/features/ledger/utils/generic-ledger-utils';\nimport {\n  connectLedgerStacksApp,\n  getStacksAppVersion,\n  isStacksAppOpen,\n} from '@app/features/ledger/utils/stacks-ledger-utils';\nimport { useToast } from '@app/features/toasts/use-toast';\nimport { stacksKeysSlice } from '@app/store/ledger/stacks/stacks-key.slice';\n\nfunction LedgerRequestStacksKeys() {\n  const toast = useToast();\n  const navigate = useNavigate();\n  const ledgerNavigate = useLedgerNavigate();\n\n  const dispatch = useDispatch();\n\n  const chain = 'stacks';\n\n  const { requestKeys, latestDeviceResponse, awaitingDeviceConnection, outdatedAppVersionWarning } =\n    useRequestLedgerKeys<StacksApp>({\n      chain,\n      connectApp: connectLedgerStacksApp,\n      getAppVersion: getStacksAppVersion,\n      isAppOpen: isStacksAppOpen,\n      onSuccess() {\n        navigate('/', { replace: true });\n      },\n      async pullKeysFromDevice(app) {\n        const resp = await pullStacksKeysFromLedgerDevice(app)({\n          onRequestKey(accountIndex) {\n            ledgerNavigate.toDeviceBusyStep(\n              `Requesting STX addresses (${accountIndex + 1}${defaultNumberOfKeysToPullFromLedgerDevice})`\n            );\n          },\n        });\n        if (resp.status === 'failure') {\n          toast.error(resp.errorMessage);\n          ledgerNavigate.toErrorStep(chain, resp.errorMessage);\n          return;\n        }\n        ledgerNavigate.toDeviceBusyStep();\n        dispatch(\n          stacksKeysSlice.actions.addKeys(\n            resp.publicKeys.map(keys => ({\n              ...keys,\n              id: keys.path.replace('m', defaultWalletKeyId),\n              targetId: latestDeviceResponse?.targetId || '',\n            }))\n          )\n        );\n      },\n    });\n\n  const ledgerContextValue: LedgerRequestKeysContext = {\n    chain: 'stacks',\n    pullPublicKeysFromDevice: requestKeys,\n    latestDeviceResponse,\n    awaitingDeviceConnection,\n    outdatedAppVersionWarning,\n  };\n\n  const canCancelLedgerAction = useCancelLedgerAction(awaitingDeviceConnection);\n  return (\n    <RequestKeysFlow\n      context={ledgerContextValue}\n      isActionCancellableByUser={canCancelLedgerAction}\n    />\n  );\n}\n\nexport const requestStacksKeysRoutes = ledgerRequestKeysRoutes({\n  path: 'stacks',\n  component: <LedgerRequestStacksKeys />,\n});\n","import { useCallback } from 'react';\n\nimport StacksApp from '@zondax/ledger-stacks';\n\nimport { useCurrentStacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\nimport { requestPublicKeyForStxAccount } from '../utils/stacks-ledger-utils';\nimport { useLedgerNavigate } from './use-ledger-navigate';\n\nexport function useVerifyMatchingLedgerStacksPublicKey() {\n  const account = useCurrentStacksAccount();\n  const ledgerNavigate = useLedgerNavigate();\n\n  return useCallback(\n    async (stacksApp: StacksApp) => {\n      if (!account) return;\n      const { publicKey } = await requestPublicKeyForStxAccount(stacksApp)(account.index);\n      if (publicKey.toString('hex') !== account.stxPublicKey) {\n        ledgerNavigate.toPublicKeyMismatchStep();\n        throw new Error('Mismatching public keys');\n      }\n    },\n    [account, ledgerNavigate]\n  );\n}\n","import { ContractCallPayload, StacksTransaction } from '@stacks/transactions';\n\nexport function isSip10Transfer(tx: StacksTransaction) {\n  if (!tx.payload || !('functionName' in tx.payload)) return false;\n  const payload = tx.payload as ContractCallPayload;\n  return (\n    payload.functionName.content === 'transfer' &&\n    (payload.functionArgs.length === 3 || payload.functionArgs.length === 4)\n  );\n}\n","import { useMemo } from 'react';\n\nimport { PayloadType, cvToString } from '@stacks/transactions';\nimport { BigNumber } from 'bignumber.js';\n\nimport { microStxToStx } from '@leather.io/utils';\n\nimport { isSip10Transfer } from '@app/common/transactions/stacks/is-sip-10-transfer';\nimport { useLedgerTxSigningContext } from '@app/features/ledger/generic-flows/tx-signing/ledger-sign-tx.context';\nimport { ApproveLedgerOperationLayout } from '@app/features/ledger/generic-steps/approve-ledger-operation/approve-ledger-operation.layout';\nimport { useHasApprovedOperation } from '@app/features/ledger/hooks/use-has-approved-transaction';\nimport { useCurrentStacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\nconst sipTenTransferArguments = ['Amount', 'Sender', 'To', 'Memo'];\n\nfunction formatSipTenTransferArgument(index: number) {\n  return `Argument ${index}  ${sipTenTransferArguments[index]}`;\n}\n\nfunction formatTooltipLabel(amount: bigint) {\n  const stxFromMicroStx = microStxToStx(Number(amount));\n  return `The amount is displayed in microstacks (STX) and is equal to ${stxFromMicroStx} STX`;\n}\n\nexport function ApproveSignLedgerStacksTx() {\n  const { transaction, chain } = useLedgerTxSigningContext();\n  const currentAccount = useCurrentStacksAccount();\n  const hasApprovedOperation = useHasApprovedOperation();\n\n  const transactionDetails: [string, string, string?][] = useMemo(() => {\n    if (!transaction || chain !== 'stacks') return [];\n\n    if (transaction.payload.payloadType === PayloadType.TokenTransfer) {\n      return [\n        ['Origin', currentAccount?.address ?? ''],\n        ['Nonce', String(transaction.auth.spendingCondition.nonce)],\n        [\n          'Fee (STX)',\n          String(transaction.auth.spendingCondition.fee),\n          formatTooltipLabel(transaction.auth.spendingCondition.fee),\n        ],\n        [\n          'Amount (STX)',\n          new BigNumber(String(transaction.payload.amount)).toFormat(),\n          formatTooltipLabel(transaction.payload.amount),\n        ],\n        ['To', cvToString(transaction.payload.recipient)],\n        ['Memo', transaction.payload.memo.content],\n      ];\n    }\n\n    if (\n      transaction.payload.payloadType === PayloadType.ContractCall &&\n      isSip10Transfer(transaction)\n    )\n      return transaction.payload.functionArgs\n        .map(cv => cvToString(cv))\n        .map((value, index) => [formatSipTenTransferArgument(index), value]);\n\n    if (transaction.payload.payloadType === PayloadType.ContractCall)\n      return transaction.payload.functionArgs\n        .map(cv => cvToString(cv))\n        .map((value, index) => [`Argument ${index + 0}`, value]);\n\n    return [];\n  }, [chain, currentAccount?.address, transaction]);\n\n  return (\n    <ApproveLedgerOperationLayout\n      description=\"Verify the transaction details on your Ledger\"\n      details={transactionDetails}\n      status={hasApprovedOperation ? 'approved' : 'awaiting-approval'}\n    />\n  );\n}\n","import { useEffect, useState } from 'react';\nimport { Route, useLocation, useNavigate } from 'react-router-dom';\n\nimport { deserializeTransaction } from '@stacks/transactions';\nimport StacksApp, { LedgerError } from '@zondax/ledger-stacks';\nimport get from 'lodash.get';\n\nimport { delay, isError } from '@leather.io/utils';\n\nimport { RouteUrls } from '@shared/route-urls';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useScrollLock } from '@app/common/hooks/use-scroll-lock';\nimport { appEvents } from '@app/common/publish-subscribe';\nimport { LedgerTxSigningContext } from '@app/features/ledger/generic-flows/tx-signing/ledger-sign-tx.context';\nimport { useCancelLedgerAction } from '@app/features/ledger/utils/generic-ledger-utils';\nimport {\n  connectLedgerStacksApp,\n  getStacksAppVersion,\n  isStacksAppOpen,\n  isVersionOfLedgerStacksAppWithContractPrincipalBug,\n  signLedgerStacksTransaction,\n  signStacksTransactionWithSignature,\n} from '@app/features/ledger/utils/stacks-ledger-utils';\nimport { useCurrentStacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\nimport { ledgerSignTxRoutes } from '../../generic-flows/tx-signing/ledger-sign-tx-route-generator';\nimport { TxSigningFlow } from '../../generic-flows/tx-signing/tx-signing-flow';\nimport { useLedgerSignTx } from '../../generic-flows/tx-signing/use-ledger-sign-tx';\nimport { useLedgerAnalytics } from '../../hooks/use-ledger-analytics.hook';\nimport { useLedgerNavigate } from '../../hooks/use-ledger-navigate';\nimport { useVerifyMatchingLedgerStacksPublicKey } from '../../hooks/use-verify-matching-stacks-public-key';\nimport { ApproveSignLedgerStacksTx } from './steps/approve-sign-stacks-ledger-tx';\n\nexport const ledgerStacksTxSigningRoutes = ledgerSignTxRoutes({\n  component: <LedgerSignStacksTxContainer />,\n  customRoutes: (\n    <Route path={RouteUrls.AwaitingDeviceUserAction} element={<ApproveSignLedgerStacksTx />} />\n  ),\n});\n\nfunction LedgerSignStacksTxContainer() {\n  const location = useLocation();\n  const ledgerNavigate = useLedgerNavigate();\n  const ledgerAnalytics = useLedgerAnalytics();\n  useScrollLock(true);\n  const account = useCurrentStacksAccount();\n  const verifyLedgerPublicKey = useVerifyMatchingLedgerStacksPublicKey();\n  const [unsignedTx, setUnsignedTx] = useState<null | string>(null);\n  const navigate = useNavigate();\n\n  const chain = 'stacks' as const;\n\n  useEffect(() => {\n    const tx = get(location.state, 'tx');\n    if (tx) setUnsignedTx(tx);\n  }, [location.state]);\n\n  useEffect(() => () => setUnsignedTx(null), []);\n\n  const {\n    signTransaction,\n    latestDeviceResponse,\n    awaitingDeviceConnection,\n    hasUserSkippedBuggyAppWarning,\n  } = useLedgerSignTx<StacksApp>({\n    chain,\n    isAppOpen: isStacksAppOpen,\n    getAppVersion: getStacksAppVersion,\n    connectApp: connectLedgerStacksApp,\n    async passesAdditionalVersionCheck(appVersion) {\n      if (appVersion.chain !== 'stacks') {\n        return true;\n      }\n\n      if (isVersionOfLedgerStacksAppWithContractPrincipalBug(appVersion)) {\n        navigate(RouteUrls.LedgerOutdatedAppWarning);\n        const response = await hasUserSkippedBuggyAppWarning.wait();\n\n        if (response === 'cancelled-operation') {\n          ledgerNavigate.cancelLedgerAction();\n        }\n        return false;\n      }\n      return true;\n    },\n    async signTransactionWithDevice(stacksApp) {\n      // TODO: need better handling\n      if (!account) return;\n\n      ledgerNavigate.toDeviceBusyStep('Verifying public key on Ledger');\n      await verifyLedgerPublicKey(stacksApp);\n      ledgerNavigate.toConnectionSuccessStep('stacks');\n      await delay(1000);\n      if (!unsignedTx) throw new Error('No unsigned tx');\n\n      ledgerNavigate.toAwaitingDeviceOperation({ hasApprovedOperation: false });\n\n      const resp = await signLedgerStacksTransaction(stacksApp)(\n        Buffer.from(unsignedTx, 'hex'),\n        account.index\n      );\n\n      // Assuming here that public keys are wrong. Alternatively, we may want\n      // to proactively check the key before signing\n      if (resp.returnCode === LedgerError.DataIsInvalid) {\n        ledgerNavigate.toDevicePayloadInvalid();\n        return;\n      }\n\n      if (resp.returnCode === LedgerError.TransactionRejected) {\n        ledgerNavigate.toOperationRejectedStep();\n        ledgerAnalytics.transactionSignedOnLedgerRejected();\n        return;\n      }\n\n      if (resp.returnCode !== LedgerError.NoErrors) {\n        throw new Error('Some other error');\n      }\n\n      ledgerNavigate.toAwaitingDeviceOperation({ hasApprovedOperation: true });\n\n      await delay(1000);\n\n      const signedTx = signStacksTransactionWithSignature(unsignedTx, resp.signatureVRS);\n      ledgerAnalytics.transactionSignedOnLedgerSuccessfully();\n\n      try {\n        appEvents.publish('ledgerStacksTxSigned', {\n          unsignedTx,\n          signedTx,\n        });\n      } catch (e) {\n        const error = isError(e) ? e.message : 'Unknown error';\n        void analytics.track('ledger_transaction_publish_error', {\n          error: {\n            message: error,\n            error: e,\n          },\n        });\n\n        ledgerNavigate.toBroadcastErrorStep(error);\n        return;\n      }\n    },\n  });\n\n  function closeAction() {\n    appEvents.publish('ledgerStacksTxSigningCancelled', { unsignedTx: unsignedTx ?? '' });\n    ledgerNavigate.cancelLedgerAction();\n  }\n\n  const ledgerContextValue: LedgerTxSigningContext = {\n    chain,\n    transaction: unsignedTx ? deserializeTransaction(unsignedTx) : null,\n    signTransaction,\n    latestDeviceResponse,\n    awaitingDeviceConnection,\n    hasUserSkippedBuggyAppWarning,\n  };\n  const canCancelLedgerAction = useCancelLedgerAction(awaitingDeviceConnection);\n\n  return (\n    <TxSigningFlow\n      context={ledgerContextValue}\n      closeAction={canCancelLedgerAction ? closeAction : undefined}\n    />\n  );\n}\n","import { useNavigate } from 'react-router-dom';\n\nimport { Sheet, SheetHeader } from '@leather.io/ui';\n\nimport { RouteUrls } from '@shared/route-urls';\nimport { closeWindow } from '@shared/utils';\n\nimport { doesBrowserSupportWebUsbApi, whenPageMode } from '@app/common/utils';\nimport { openIndexPageInNewTab } from '@app/common/utils/open-in-new-tab';\n\nimport { immediatelyAttemptLedgerConnection } from '../../hooks/use-when-reattempt-ledger-connection';\nimport { ConnectLedger } from './connect-ledger';\n\nexport function ConnectLedgerStart() {\n  const navigate = useNavigate();\n  const pageModeRoutingAction = (url: string) =>\n    whenPageMode({\n      full() {\n        navigate(url, { replace: true, state: { [immediatelyAttemptLedgerConnection]: true } });\n      },\n      popup() {\n        void openIndexPageInNewTab(url);\n        closeWindow();\n      },\n    });\n\n  function connectChain(chain: string) {\n    const supportsWebUsbAction = pageModeRoutingAction(\n      RouteUrls.Onboarding + `/${chain}/` + RouteUrls.ConnectLedger\n    );\n    const doesNotSupportWebUsbAction = pageModeRoutingAction(\n      RouteUrls.Onboarding + '/' + RouteUrls.LedgerUnsupportedBrowser\n    );\n\n    doesBrowserSupportWebUsbApi() ? supportsWebUsbAction() : doesNotSupportWebUsbAction();\n  }\n\n  return (\n    <Sheet isShowing header={<SheetHeader />} onClose={() => navigate('../')}>\n      <ConnectLedger\n        connectBitcoin={() => connectChain('bitcoin')}\n        connectStacks={() => connectChain('stacks')}\n        showInstructions\n      />\n    </Sheet>\n  );\n}\n","import { SharedComponentsSelectors } from '@tests/selectors/shared-component.selectors';\nimport { Box, BoxProps } from 'leather-styles/jsx';\n\nimport { AddressDisplayer } from '@leather.io/ui';\n\ninterface FormAddressDisplayerProps extends BoxProps {\n  address: string;\n}\nexport function FormAddressDisplayer({ address, ...rest }: FormAddressDisplayerProps) {\n  return (\n    <Box\n      data-testid={SharedComponentsSelectors.AddressDisplayer}\n      display=\"flex\"\n      flexWrap=\"wrap\"\n      justifyContent=\"end\"\n      maxWidth=\"300px\"\n      mr=\"-8px\"\n      {...rest}\n    >\n      <AddressDisplayer address={address} />\n    </Box>\n  );\n}\n","import { Flex, styled } from 'leather-styles/jsx';\n\nimport { BtcAvatarIcon, Button, Callout, Sheet, SheetHeader } from '@leather.io/ui';\n\ninterface RetrieveTaprootToNativeSegwitLayoutProps {\n  isBroadcasting: boolean;\n  children: React.ReactNode;\n  onClose(): void;\n  onApproveTransaction(): void;\n}\nexport function RetrieveTaprootToNativeSegwitLayout(\n  props: RetrieveTaprootToNativeSegwitLayoutProps\n) {\n  const { onClose, onApproveTransaction, isBroadcasting, children } = props;\n  return (\n    <Sheet\n      isShowing\n      header={<SheetHeader />}\n      onClose={() => onClose()}\n      footer={\n        <Flex flexDirection=\"row\">\n          <Button onClick={onApproveTransaction} aria-busy={isBroadcasting} fullWidth>\n            Retrieve bitcoin\n          </Button>\n        </Flex>\n      }\n    >\n      <Flex alignItems=\"start\" flexDirection=\"column\" mx=\"space.06\" mt=\"space.05\" textAlign=\"left\">\n        <BtcAvatarIcon />\n        <styled.span mt=\"space.04\" textStyle=\"label.01\">\n          Retrieve Bitcoin deposited to <br /> Taproot addresses\n        </styled.span>\n        <styled.span mt=\"space.05\" textStyle=\"body.02\">\n          Taproot addresses are used by Leather for Ordinal inscriptions, but they can also contain\n          bitcoin.\n        </styled.span>\n        <styled.span mt=\"space.04\" textStyle=\"body.02\">\n          As we don't support tranferring from Taproot addresses yet, you can retrieve funds to your\n          account's main Native SegWit balance here.\n        </styled.span>\n        <styled.span my=\"space.04\" textStyle=\"body.02\">\n          This transaction may take upwards of 30 minutes to confirm.\n        </styled.span>\n        {children}\n        <Callout variant=\"warning\" mt=\"space.05\" mb=\"space.05\">\n          We recommend you check the URL for each \"Uninscribed UTXO\" listed above to ensure it\n          displays no inscription. If it does display one, do not proceed with retrieval or you may\n          lose it!\n        </Callout>\n      </Flex>\n    </Sheet>\n  );\n}\n","import { useCallback, useMemo } from 'react';\n\nimport * as btc from '@scure/btc-signer';\n\nimport { extractAddressIndexFromPath } from '@leather.io/crypto';\nimport type { Money } from '@leather.io/models';\nimport {\n  useAverageBitcoinFeeRates,\n  useCurrentTaprootAccountUninscribedUtxos,\n  useNumberOfInscriptionsOnUtxo,\n} from '@leather.io/query';\nimport { createMoney, sumNumbers } from '@leather.io/utils';\n\nimport { BtcSizeFeeEstimator } from '@app/common/transactions/bitcoin/fees/btc-size-fee-estimator';\nimport { useCurrentAccountIndex } from '@app/store/accounts/account';\nimport { useBitcoinScureLibNetworkConfig } from '@app/store/accounts/blockchain/bitcoin/bitcoin-keychain';\nimport { useCurrentAccountNativeSegwitIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport {\n  useCurrentAccountTaprootSigner,\n  useCurrentTaprootAccount,\n} from '@app/store/accounts/blockchain/bitcoin/taproot-account.hooks';\n\nexport function useGenerateRetrieveTaprootFundsTx() {\n  const networkMode = useBitcoinScureLibNetworkConfig();\n\n  const currentAccountIndex = useCurrentAccountIndex();\n  const account = useCurrentTaprootAccount();\n  const nativeSegwitSigner = useCurrentAccountNativeSegwitIndexZeroSigner();\n\n  const uninscribedUtxos = useCurrentTaprootAccountUninscribedUtxos({\n    taprootKeychain: account?.keychain,\n    nativeSegwitAddress: nativeSegwitSigner.address,\n    currentAccountIndex,\n  });\n\n  const createSigner = useCurrentAccountTaprootSigner();\n  const { data: feeRates } = useAverageBitcoinFeeRates();\n  const getNumberOfInscriptionOnUtxo = useNumberOfInscriptionsOnUtxo({\n    taprootKeychain: account?.keychain,\n    nativeSegwitAddress: nativeSegwitSigner.address,\n  });\n\n  const fee = useMemo(() => {\n    if (!feeRates) return createMoney(0, 'BTC');\n    const txSizer = new BtcSizeFeeEstimator();\n    const { txVBytes } = txSizer.calcTxSize({\n      input_count: uninscribedUtxos.length,\n      p2wpkh_output_count: 1,\n    });\n    return createMoney(Math.ceil(txVBytes * feeRates.hourFee.toNumber()), 'BTC');\n  }, [feeRates, uninscribedUtxos.length]);\n\n  const generateRetrieveTaprootFundsTx = useCallback(\n    async ({ recipient, fee }: { recipient: string; fee: Money }) => {\n      const tx = new btc.Transaction();\n      const totalAmount = sumNumbers(uninscribedUtxos.map(utxo => utxo.value));\n\n      uninscribedUtxos.forEach(utxo => {\n        const addressIndex = extractAddressIndexFromPath(utxo.derivationPath);\n        const signer = createSigner?.(addressIndex);\n        if (!signer) return;\n\n        tx.addInput({\n          txid: utxo.txid,\n          index: utxo.vout,\n          tapInternalKey: signer.payment.tapInternalKey,\n          witnessUtxo: {\n            script: signer.payment.script,\n            amount: BigInt(utxo.value),\n          },\n        });\n      });\n\n      const zeroInscriptionCheckResults = await Promise.all(\n        uninscribedUtxos.map(utxo => getNumberOfInscriptionOnUtxo(utxo.txid, utxo.vout))\n      );\n\n      if (!zeroInscriptionCheckResults.every(inscriptionCount => inscriptionCount === 0)) {\n        throw new Error('Inscription found in utxos');\n      }\n\n      const paymentAmount = BigInt(totalAmount.minus(fee.amount.toString()).toString());\n\n      tx.addOutputAddress(recipient, paymentAmount, networkMode);\n\n      uninscribedUtxos.forEach(utxo => {\n        const addressIndex = extractAddressIndexFromPath(utxo.derivationPath);\n        return createSigner?.(addressIndex).sign(tx);\n      });\n\n      tx.finalize();\n      return tx.hex;\n    },\n    [createSigner, getNumberOfInscriptionOnUtxo, networkMode, uninscribedUtxos]\n  );\n\n  return { generateRetrieveTaprootFundsTx, fee };\n}\n","import { useNavigate } from 'react-router-dom';\n\nimport { Stack } from 'leather-styles/jsx';\n\nimport {\n  useBitcoinBroadcastTransaction,\n  useCurrentTaprootAccountBalance,\n  useCurrentTaprootAccountUninscribedUtxos,\n} from '@leather.io/query';\nimport { Link } from '@leather.io/ui';\nimport { delay, formatMoneyPadded, truncateMiddle } from '@leather.io/utils';\n\nimport { RouteUrls } from '@shared/route-urls';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { FormAddressDisplayer } from '@app/components/address-displayer/form-address-displayer';\nimport { InfoCardRow, InfoCardSeparator } from '@app/components/info-card/info-card';\nimport { useToast } from '@app/features/toasts/use-toast';\nimport { useCurrentAccountIndex } from '@app/store/accounts/account';\nimport {\n  useCurrentAccountNativeSegwitAddressIndexZero,\n  useCurrentAccountNativeSegwitIndexZeroSigner,\n} from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useCurrentTaprootAccount } from '@app/store/accounts/blockchain/bitcoin/taproot-account.hooks';\n\nimport { RetrieveTaprootToNativeSegwitLayout } from './components/retrieve-taproot-to-native-segwit.layout';\nimport { useGenerateRetrieveTaprootFundsTx } from './use-generate-retrieve-taproot-funds-tx';\n\nexport function RetrieveTaprootToNativeSegwit() {\n  const toast = useToast();\n  const navigate = useNavigate();\n\n  const currentAccountIndex = useCurrentAccountIndex();\n  const account = useCurrentTaprootAccount();\n  const nativeSegwitSigner = useCurrentAccountNativeSegwitIndexZeroSigner();\n  const balance = useCurrentTaprootAccountBalance({\n    currentAccountIndex,\n    taprootKeychain: account?.keychain,\n    nativeSegwitAddress: nativeSegwitSigner.address,\n  });\n  const recipient = useCurrentAccountNativeSegwitAddressIndexZero();\n  const uninscribedUtxos = useCurrentTaprootAccountUninscribedUtxos({\n    taprootKeychain: account?.keychain,\n    nativeSegwitAddress: nativeSegwitSigner.address,\n    currentAccountIndex,\n  });\n\n  const { generateRetrieveTaprootFundsTx, fee } = useGenerateRetrieveTaprootFundsTx();\n  const { broadcastTx, isBroadcasting } = useBitcoinBroadcastTransaction();\n\n  async function handleBroadcastRetrieveBitcoinTx() {\n    const tx = await generateRetrieveTaprootFundsTx({ recipient, fee });\n    await broadcastTx({\n      tx,\n      async onSuccess() {\n        await delay(1200);\n        toast.success('Transaction submitted!');\n        await delay(700);\n        navigate(RouteUrls.Activity);\n        void analytics.track('broadcast_retrieve_taproot_to_native_segwit');\n      },\n      onError(e) {\n        alert(e);\n      },\n    });\n  }\n\n  return (\n    <RetrieveTaprootToNativeSegwitLayout\n      isBroadcasting={isBroadcasting}\n      onApproveTransaction={handleBroadcastRetrieveBitcoinTx}\n      onClose={() => navigate(RouteUrls.Home)}\n    >\n      <Stack width=\"100%\">\n        <InfoCardRow title=\"Your address\" value={<FormAddressDisplayer address={recipient} />} />\n        <InfoCardSeparator />\n        <InfoCardRow title=\"Amount\" value={formatMoneyPadded(balance)} />\n        <InfoCardRow title=\"Fee\" value={formatMoneyPadded(fee)} />\n        <InfoCardSeparator />\n        {uninscribedUtxos.map((utxo, i) => (\n          <InfoCardRow\n            key={utxo.txid}\n            title={`Uninscribed UTXO #${i}`}\n            value={\n              <Link href={`https://ordinals.com/output/${utxo.txid}:${utxo.vout}`}>\n                {`${truncateMiddle(utxo.txid, 4)}:${utxo.vout}`} \n              </Link>\n            }\n          />\n        ))}\n      </Stack>\n    </RetrieveTaprootToNativeSegwitLayout>\n  );\n}\n","import { useCallback } from 'react';\n\nimport { finalizeAuthResponse } from '@shared/actions/finalize-auth-response';\n\nimport { useOnboardingState } from '../hooks/auth/use-onboarding-state';\nimport { useDefaultRequestParams } from '../hooks/use-default-request-search-params';\n\nexport function useCancelAuthRequest() {\n  const { decodedAuthRequest, authRequest } = useOnboardingState();\n  const { origin, tabId } = useDefaultRequestParams();\n\n  return useCallback(() => {\n    if (!decodedAuthRequest || !authRequest || !origin || !tabId) {\n      return;\n    }\n    const authResponse = 'cancel';\n    finalizeAuthResponse({\n      decodedAuthRequest,\n      authRequest,\n      authResponse,\n      requestingOrigin: origin,\n      tabId,\n    });\n  }, [decodedAuthRequest, authRequest, origin, tabId]);\n}\n","import { useAuthRequestParams } from './use-auth-request-params';\n\nexport function useAppDetails() {\n  const { authDetails } = useAuthRequestParams();\n  const { appName: name, appIcon: icon, appURL: url } = authDetails ?? {};\n  return { name, icon, url };\n}\n","import { styled } from 'leather-styles/jsx';\n\nimport { Flag } from '@leather.io/ui';\n\nimport { Favicon } from './favicon';\n\ninterface RequesterFlagProps {\n  requester: string;\n}\n\nexport function RequesterFlag({ requester }: RequesterFlagProps) {\n  return (\n    <Flag\n      img={<Favicon origin={requester} />}\n      align=\"middle\"\n      justifyContent=\"center\"\n      py=\"space.04\"\n      px=\"space.02\"\n      borderRadius=\"sm\"\n      width=\"fit-content\"\n    >\n      <styled.span textStyle=\"label.02\">{requester}</styled.span>\n    </Flag>\n  );\n}\n","import { Square, SquareProps } from 'leather-styles/jsx';\nimport { useFocus, useHover } from 'use-events';\n\nfunction ItemHover({\n  isFocused,\n  isHovered,\n  ...rest\n}: {\n  isFocused: boolean;\n  isHovered: boolean;\n} & SquareProps) {\n  return (\n    <Square\n      opacity={isFocused || isHovered ? 1 : 0}\n      transition=\"transition\"\n      borderRadius=\"xs\"\n      position=\"absolute\"\n      size=\"calc(100% + 24px)\"\n      left=\"-12px\"\n      top=\"-12px\"\n      bg=\"ink.component-background-hover\"\n      zIndex={-1}\n      {...rest}\n    />\n  );\n}\n\ntype HoverBind = ReturnType<typeof useHover>[1];\ntype FocusBind = ReturnType<typeof useFocus>[1];\n\ninterface DefaultSpreadProps extends HoverBind, FocusBind {\n  cursor: 'pointer' | 'default';\n  position: 'relative';\n  zIndex: 1;\n}\n\ninterface StateReturnProps {\n  isHovered: boolean;\n  isFocused: boolean;\n}\n\ntype UsePressableReturn = [React.JSX.Element, DefaultSpreadProps, StateReturnProps];\n\nexport function usePressable(isPressable?: boolean): UsePressableReturn {\n  const [isHovered, bind] = useHover();\n  const [isFocused, focusBind] = useFocus();\n\n  const component = <ItemHover isHovered={isHovered} isFocused={isFocused} />;\n  if (!isPressable)\n    return [\n      <></>,\n      // Not really this type but it's safe to spread\n      {} as unknown as DefaultSpreadProps,\n      { isFocused: false, isHovered: false } as const,\n    ];\n  return [\n    component,\n    {\n      ...bind,\n      ...focusBind,\n      cursor: isPressable ? 'pointer' : 'default',\n      position: 'relative',\n      zIndex: 1,\n    },\n    { isHovered, isFocused },\n  ];\n}\n","import { Suspense, memo, useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Virtuoso } from 'react-virtuoso';\n\nimport { Box, FlexProps, HStack, styled } from 'leather-styles/jsx';\nimport { token } from 'leather-styles/tokens';\n\nimport { PlusIcon } from '@leather.io/ui';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { useFinishAuthRequest } from '@app/common/authentication/use-finish-auth-request';\nimport { useAccountDisplayName } from '@app/common/hooks/account/use-account-names';\nimport { useCreateAccount } from '@app/common/hooks/account/use-create-account';\nimport { useWalletType } from '@app/common/use-wallet-type';\nimport { slugify } from '@app/common/utils';\nimport { AccountTotalBalance } from '@app/components/account-total-balance';\nimport { AcccountAddresses } from '@app/components/account/account-addresses';\nimport { AccountListItemLayout } from '@app/components/account/account-list-item.layout';\nimport { usePressable } from '@app/components/item-hover';\nimport { useNativeSegwitAccountIndexAddressIndexZero } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useStacksAccounts } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { StacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.models';\nimport { AccountAvatar } from '@app/ui/components/account/account-avatar/account-avatar';\nimport { VirtuosoWrapper } from '@app/ui/components/virtuoso';\n\ninterface AccountTitlePlaceholderProps {\n  account: StacksAccount;\n}\nfunction AccountTitlePlaceholder({ account }: AccountTitlePlaceholderProps) {\n  const name = `Account ${account?.index + 1}`;\n  return <styled.span>{name}</styled.span>;\n}\n\ninterface ChooseAccountItemProps extends FlexProps {\n  selectedAddress?: string | null;\n  isLoading: boolean;\n  account: StacksAccount;\n  onSelectAccount(index: number): void;\n}\nconst ChooseAccountItem = memo(\n  ({ account, isLoading, onSelectAccount }: ChooseAccountItemProps) => {\n    const { data: name = '' } = useAccountDisplayName(account);\n\n    const btcAddress = useNativeSegwitAccountIndexAddressIndexZero(account.index);\n\n    const accountSlug = useMemo(() => slugify(`Account ${account?.index + 1}`), [account?.index]);\n\n    return (\n      <AccountListItemLayout\n        accountAddresses={<AcccountAddresses index={account.index} />}\n        accountName={\n          <Suspense fallback={<AccountTitlePlaceholder account={account} />}>\n            <styled.span textStyle=\"label.01\">{name}</styled.span>\n          </Suspense>\n        }\n        avatar={\n          <AccountAvatar\n            index={account.index}\n            publicKey={account.stxPublicKey}\n            name={name}\n            flexGrow={0}\n          />\n        }\n        balanceLabel={<AccountTotalBalance stxAddress={account.address} btcAddress={btcAddress} />}\n        data-testid={`account-${accountSlug}-${account.index}`}\n        index={account.index}\n        isLoading={isLoading}\n        isSelected={false}\n        onSelectAccount={() => onSelectAccount(account.index)}\n      />\n    );\n  }\n);\n\nfunction AddAccountAction() {\n  const [component, bind] = usePressable(true);\n  const createAccount = useCreateAccount();\n\n  const onCreateAccount = () => {\n    createAccount();\n  };\n\n  return (\n    <Box mx=\"space.05\" py=\"space.02\" onClick={onCreateAccount} {...bind}>\n      <HStack alignItems=\"center\">\n        <PlusIcon />\n        Generate new account\n      </HStack>\n      {component}\n    </Box>\n  );\n}\n\nexport function ChooseAccountsList() {\n  const finishSignIn = useFinishAuthRequest();\n  const { whenWallet } = useWalletType();\n  const accounts = useStacksAccounts();\n  const navigate = useNavigate();\n  const [selectedAccount, setSelectedAccount] = useState<number | null>(null);\n\n  const signIntoAccount = async (index: number) => {\n    setSelectedAccount(index);\n    await whenWallet({\n      async software() {\n        await finishSignIn(index);\n      },\n      async ledger() {\n        navigate(RouteUrls.ConnectLedger, { state: { index } });\n      },\n    })();\n  };\n\n  if (!accounts) return null;\n\n  return (\n    <Box mt=\"space.05\" mb=\"space.06\" width=\"100%\">\n      {whenWallet({ software: <AddAccountAction />, ledger: <></> })}\n      <VirtuosoWrapper isPopup>\n        <Virtuoso\n          style={{\n            background: token('colors.ink.background-primary'),\n          }}\n          data={accounts}\n          itemContent={(index, account) => (\n            <Box key={index} my=\"space.05\" px=\"space.05\">\n              <ChooseAccountItem\n                account={account}\n                isLoading={whenWallet({ software: selectedAccount === index, ledger: false })}\n                onSelectAccount={signIntoAccount}\n              />\n            </Box>\n          )}\n        />\n      </VirtuosoWrapper>\n    </Box>\n  );\n}\n","import { useEffect } from 'react';\n\nimport { InternalMethods } from '@shared/message-types';\nimport { BackgroundMessages } from '@shared/messages';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useDefaultRequestParams } from '@app/common/hooks/use-default-request-search-params';\n\nexport function useOnOriginTabClose(handler: () => void) {\n  const { tabId } = useDefaultRequestParams();\n\n  useEffect(() => {\n    const messageHandler = (\n      message: BackgroundMessages,\n      _sender: chrome.runtime.MessageSender,\n      sendResponse: () => void\n    ) => {\n      if (message.method !== InternalMethods.OriginatingTabClosed) return;\n\n      if (message.payload.tabId === tabId) {\n        handler();\n        void analytics.track('requesting_origin_tab_closed_with_pending_action');\n      }\n      sendResponse();\n    };\n\n    chrome.runtime.onMessage.addListener(messageHandler);\n\n    return () => chrome.runtime.onMessage.removeListener(handler);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n}\n","import { useEffect } from 'react';\nimport { Outlet } from 'react-router-dom';\n\nimport { Flex, Stack, styled } from 'leather-styles/jsx';\n\nimport { LeatherLogomarkIcon } from '@leather.io/ui';\n\nimport { closeWindow } from '@shared/utils';\n\nimport { useCancelAuthRequest } from '@app/common/authentication/use-cancel-auth-request';\nimport { useAppDetails } from '@app/common/hooks/auth/use-app-details';\nimport { RequesterFlag } from '@app/components/requester-flag';\nimport { ChooseAccountsList } from '@app/pages/choose-account/components/accounts';\nimport { useOnOriginTabClose } from '@app/routes/hooks/use-on-tab-closed';\nimport { useStacksAccounts } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\nexport function ChooseAccount() {\n  const { url } = useAppDetails();\n  const accounts = useStacksAccounts();\n  const hasConnectedStacksAccounts = accounts.length > 0;\n\n  const cancelAuthentication = useCancelAuthRequest();\n\n  useOnOriginTabClose(() => closeWindow());\n\n  const handleUnmount = async () => cancelAuthentication();\n\n  useEffect(() => {\n    window.addEventListener('beforeunload', handleUnmount);\n    return () => window.removeEventListener('beforeunload', handleUnmount);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <>\n      <Flex alignItems=\"center\" flexDirection=\"column\" pt=\"space.07\" width=\"100%\">\n        <Stack gap=\"space.05\" textAlign=\"center\" alignItems=\"center\">\n          {url && <RequesterFlag requester={url.toString()} />}\n          <LeatherLogomarkIcon height={58} width={248} />\n          <Stack gap=\"space.04\">\n            <styled.h1 textStyle=\"heading.05\">\n              {hasConnectedStacksAccounts\n                ? 'Choose an account to connect'\n                : 'No connected accounts found'}\n            </styled.h1>\n          </Stack>\n        </Stack>\n        {hasConnectedStacksAccounts && <ChooseAccountsList />}\n      </Flex>\n      <Outlet />\n    </>\n  );\n}\n","import type { StxCryptoAssetBalance } from '@leather.io/models';\nimport {\n  isErrorTooManyRequests,\n  isFetchedWithSuccess,\n  useStxCryptoAssetBalance,\n} from '@leather.io/query';\nimport { StxAvatarIcon } from '@leather.io/ui';\n\nimport { CryptoAssetItemError } from '../crypto-asset-item/crypto-asset-item-error';\nimport { CryptoAssetItemPlaceholder } from '../crypto-asset-item/crypto-asset-item-placeholder';\n\ninterface StxAssetItemBalanceLoaderProps {\n  address: string;\n  children(\n    balance: StxCryptoAssetBalance,\n    isLoading: boolean,\n    isLoadingAdditionalData: boolean\n  ): React.ReactNode;\n}\nexport function StxAssetItemBalanceLoader({ address, children }: StxAssetItemBalanceLoaderProps) {\n  const { initialBalanceQuery, filteredBalanceQuery, isLoadingAdditionalData } =\n    useStxCryptoAssetBalance(address);\n\n  async function refetchAll() {\n    await initialBalanceQuery.refetch();\n    return filteredBalanceQuery.refetch();\n  }\n\n  if (initialBalanceQuery.isLoading) return <CryptoAssetItemPlaceholder />;\n\n  if (isErrorTooManyRequests(filteredBalanceQuery)) {\n    return (\n      <CryptoAssetItemError\n        caption=\"STX\"\n        icon={<StxAvatarIcon />}\n        onRefetch={() => refetchAll()}\n        title=\"Stacks\"\n      />\n    );\n  }\n\n  if (!isFetchedWithSuccess(filteredBalanceQuery)) {\n    return <CryptoAssetItemError caption=\"STX\" icon={<StxAvatarIcon />} title=\"Stacks\" />;\n  }\n\n  const { data: balance, isLoading } = filteredBalanceQuery;\n\n  return children(balance, isLoading, isLoadingAdditionalData);\n}\n","import { abbreviateNumber } from './utils';\n\nfunction removeCommas(amountWithCommas: string) {\n  return amountWithCommas.replace(/,/g, '');\n}\n\nexport function formatBalance(amount: string) {\n  const noCommas = removeCommas(amount);\n  const number = noCommas.includes('.') ? parseFloat(noCommas) : parseInt(noCommas);\n  return number > 10000\n    ? {\n        isAbbreviated: true,\n        value: abbreviateNumber(number),\n      }\n    : { isAbbreviated: false, value: amount };\n}\n","import type { Money } from '@leather.io/models';\nimport { formatMoneyWithoutSymbol } from '@leather.io/utils';\n\nimport { formatBalance } from '@app/common/format-balance';\n\nexport function parseCryptoAssetBalance(availableBalance: Money) {\n  const availableBalanceString = formatMoneyWithoutSymbol(availableBalance);\n  const formattedBalance = formatBalance(availableBalanceString);\n\n  return {\n    availableBalanceString,\n    formattedBalance,\n  };\n}\n","import { sanitize } from 'dompurify';\nimport { Box, Flex } from 'leather-styles/jsx';\n\nimport type { Money } from '@leather.io/models';\nimport {\n  BulletSeparator,\n  Caption,\n  ItemLayout,\n  Pressable,\n  SkeletonLoader,\n  shimmerStyles,\n} from '@leather.io/ui';\nimport { spamFilter } from '@leather.io/utils';\n\nimport { PrivateTextLayout } from '@app/components/privacy/private-text.layout';\nimport { BasicTooltip } from '@app/ui/components/tooltip/basic-tooltip';\n\nimport { parseCryptoAssetBalance } from './crypto-asset-item.layout.utils';\n\nexport interface CryptoAssetItemLayoutProps {\n  availableBalance: Money;\n  balanceSuffix?: string;\n  captionLeft: string;\n  captionRightBulletInfo?: React.ReactNode;\n  contractId?: string;\n  fiatBalance?: string;\n  icon: React.ReactNode;\n  isLoading?: boolean;\n  isLoadingAdditionalData?: boolean;\n  isPrivate?: boolean;\n  onSelectAsset?(symbol: string, contractId?: string): void;\n  titleLeft: string;\n  titleRightBulletInfo?: React.ReactNode;\n  dataTestId: string;\n}\nexport function CryptoAssetItemLayout({\n  availableBalance,\n  balanceSuffix,\n  captionLeft,\n  captionRightBulletInfo,\n  contractId,\n  fiatBalance,\n  icon,\n  isLoading = false,\n  isLoadingAdditionalData = false,\n  isPrivate = false,\n  onSelectAsset,\n  titleLeft,\n  titleRightBulletInfo,\n  dataTestId,\n}: CryptoAssetItemLayoutProps) {\n  const { availableBalanceString, formattedBalance } = parseCryptoAssetBalance(availableBalance);\n\n  const titleRight = (\n    <SkeletonLoader width=\"126px\" isLoading={isLoading}>\n      <BasicTooltip\n        asChild\n        label={formattedBalance.isAbbreviated && !isPrivate ? availableBalanceString : undefined}\n        side=\"left\"\n      >\n        <Flex alignItems=\"center\" gap=\"space.02\" textStyle=\"label.02\">\n          <BulletSeparator>\n            <PrivateTextLayout\n              isPrivate={isPrivate}\n              data-state={isLoadingAdditionalData ? 'loading' : undefined}\n              className={shimmerStyles}\n            >\n              {formattedBalance.value} {balanceSuffix}\n            </PrivateTextLayout>\n            {titleRightBulletInfo}\n          </BulletSeparator>\n        </Flex>\n      </BasicTooltip>\n    </SkeletonLoader>\n  );\n\n  const captionRight = (\n    <SkeletonLoader width=\"78px\" isLoading={isLoading}>\n      <Flex alignItems=\"center\" color=\"ink.text-subdued\" gap=\"space.02\">\n        <BulletSeparator>\n          <Caption\n            data-state={isLoadingAdditionalData ? 'loading' : undefined}\n            className={shimmerStyles}\n          >\n            <PrivateTextLayout isPrivate={isPrivate}>\n              {availableBalance.amount.toNumber() > 0 ? fiatBalance : null}\n            </PrivateTextLayout>\n          </Caption>\n          {captionRightBulletInfo}\n        </BulletSeparator>\n      </Flex>\n    </SkeletonLoader>\n  );\n\n  const isInteractive = !!onSelectAsset;\n\n  const content = (\n    <ItemLayout\n      img={icon}\n      titleLeft={spamFilter(titleLeft)}\n      captionLeft={spamFilter(captionLeft)}\n      titleRight={titleRight}\n      captionRight={captionRight}\n    />\n  );\n\n  if (isInteractive)\n    return (\n      <Pressable\n        data-testid={dataTestId}\n        onClick={() => onSelectAsset(availableBalance.symbol, contractId)}\n        my=\"space.02\"\n      >\n        {content}\n      </Pressable>\n    );\n\n  return (\n    <Box my=\"space.02\" data-testid={sanitize(dataTestId)}>\n      {content}\n    </Box>\n  );\n}\n","import type { BtcCryptoAssetBalance } from '@leather.io/models';\nimport { useCryptoCurrencyMarketDataMeanAverage } from '@leather.io/query';\nimport { BtcAvatarIcon } from '@leather.io/ui';\nimport { baseCurrencyAmountInQuote, i18nFormatCurrency } from '@leather.io/utils';\n\nimport { CryptoAssetItemLayout } from '@app/components/crypto-asset-item/crypto-asset-item.layout';\nimport { useIsPrivateMode } from '@app/store/settings/settings.selectors';\n\ninterface BtcCryptoAssetItemProps {\n  balance: BtcCryptoAssetBalance;\n  isLoading: boolean;\n  isLoadingAdditionalData?: boolean;\n  onSelectAsset?(symbol: string): void;\n}\nexport function BtcCryptoAssetItem({\n  balance,\n  isLoading,\n  onSelectAsset,\n  isLoadingAdditionalData,\n}: BtcCryptoAssetItemProps) {\n  const isPrivate = useIsPrivateMode();\n  const marketData = useCryptoCurrencyMarketDataMeanAverage('BTC');\n  const fiatAvailableBalance = i18nFormatCurrency(\n    baseCurrencyAmountInQuote(balance.availableBalance, marketData)\n  );\n\n  return (\n    <CryptoAssetItemLayout\n      availableBalance={balance.availableBalance}\n      captionLeft=\"BTC\"\n      fiatBalance={fiatAvailableBalance}\n      icon={<BtcAvatarIcon />}\n      isLoading={isLoading}\n      isLoadingAdditionalData={isLoadingAdditionalData}\n      isPrivate={isPrivate}\n      onSelectAsset={onSelectAsset}\n      titleLeft=\"Bitcoin\"\n      dataTestId=\"BTC\"\n    />\n  );\n}\n","import { styled } from 'leather-styles/jsx';\n\nimport type { StxCryptoAssetBalance } from '@leather.io/models';\nimport { useCryptoCurrencyMarketDataMeanAverage } from '@leather.io/query';\nimport { Caption, StxAvatarIcon } from '@leather.io/ui';\nimport {\n  baseCurrencyAmountInQuote,\n  formatMoneyWithoutSymbol,\n  i18nFormatCurrency,\n} from '@leather.io/utils';\n\nimport { CryptoAssetItemLayout } from '@app/components/crypto-asset-item/crypto-asset-item.layout';\n\ninterface StxCryptoAssetItemProps {\n  balance: StxCryptoAssetBalance;\n  isLoading: boolean;\n  isPrivate?: boolean;\n  onSelectAsset?(symbol: string): void;\n}\nexport function StxCryptoAssetItem({\n  balance,\n  isLoading,\n  isPrivate,\n  onSelectAsset,\n}: StxCryptoAssetItemProps) {\n  const marketData = useCryptoCurrencyMarketDataMeanAverage('STX');\n\n  const { availableBalance, lockedBalance } = balance;\n  const showLockedBalance = lockedBalance.amount.isGreaterThan(0) && !isPrivate;\n\n  const fiatLockedBalance = i18nFormatCurrency(\n    baseCurrencyAmountInQuote(lockedBalance, marketData)\n  );\n  const fiatAvailableBalance = i18nFormatCurrency(\n    baseCurrencyAmountInQuote(availableBalance, marketData)\n  );\n  const titleRightBulletInfo = (\n    <styled.span>{formatMoneyWithoutSymbol(lockedBalance)} locked</styled.span>\n  );\n  const captionRightBulletInfo = <Caption>{fiatLockedBalance} locked</Caption>;\n\n  return (\n    <CryptoAssetItemLayout\n      availableBalance={balance.availableBalance}\n      captionLeft=\"STX\"\n      captionRightBulletInfo={showLockedBalance && captionRightBulletInfo}\n      fiatBalance={fiatAvailableBalance}\n      icon={<StxAvatarIcon />}\n      isLoading={isLoading}\n      isPrivate={isPrivate}\n      onSelectAsset={onSelectAsset}\n      titleLeft=\"Stacks\"\n      titleRightBulletInfo={showLockedBalance && titleRightBulletInfo}\n      dataTestId=\"STX\"\n    />\n  );\n}\n","import { useCallback } from 'react';\nimport { Outlet, useNavigate } from 'react-router-dom';\n\nimport { Stack, styled } from 'leather-styles/jsx';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { Card, Content, Page } from '@app/components/layout';\nimport { BitcoinNativeSegwitAccountLoader } from '@app/components/loaders/bitcoin-account-loader';\nimport { BtcAssetItemBalanceLoader } from '@app/components/loaders/btc-balance-loader';\nimport { CurrentStacksAccountLoader } from '@app/components/loaders/stacks-account-loader';\nimport { StxAssetItemBalanceLoader } from '@app/components/loaders/stx-balance-loader';\nimport { BtcCryptoAssetItem } from '@app/features/asset-list/bitcoin/btc-crypto-asset-item/btc-crypto-asset-item';\nimport { StxCryptoAssetItem } from '@app/features/asset-list/stacks/stx-crypo-asset-item/stx-crypto-asset-item';\nimport { PageHeader } from '@app/features/container/headers/page.header';\nimport { useIsPrivateMode } from '@app/store/settings/settings.selectors';\n\nexport function ChooseCryptoAssetToFund() {\n  const navigate = useNavigate();\n  const isPrivate = useIsPrivateMode();\n  const navigateToFund = useCallback(\n    (symbol: string) => navigate(RouteUrls.Fund.replace(':currency', symbol)),\n    [navigate]\n  );\n\n  return (\n    <>\n      <PageHeader isSettingsVisibleOnSm={false} onBackLocation={RouteUrls.Home} />\n      <Content>\n        <Page>\n          <Card\n            contentStyle={{\n              p: 'space.00',\n            }}\n            header={\n              <styled.h1 textStyle=\"heading.03\" p=\"space.05\">\n                choose asset <br /> to fund\n              </styled.h1>\n            }\n          >\n            <Stack pb=\"space.04\" px=\"space.05\">\n              <BitcoinNativeSegwitAccountLoader current>\n                {signer => (\n                  <BtcAssetItemBalanceLoader address={signer.address}>\n                    {(balance, isLoading) => (\n                      <BtcCryptoAssetItem\n                        balance={balance}\n                        isLoading={isLoading}\n                        onSelectAsset={() => navigateToFund('BTC')}\n                      />\n                    )}\n                  </BtcAssetItemBalanceLoader>\n                )}\n              </BitcoinNativeSegwitAccountLoader>\n\n              <CurrentStacksAccountLoader>\n                {account => (\n                  <StxAssetItemBalanceLoader address={account.address}>\n                    {(balance, isLoading) => (\n                      <StxCryptoAssetItem\n                        balance={balance}\n                        isLoading={isLoading}\n                        isPrivate={isPrivate}\n                        onSelectAsset={() => navigateToFund('STX')}\n                      />\n                    )}\n                  </StxAssetItemBalanceLoader>\n                )}\n              </CurrentStacksAccountLoader>\n            </Stack>\n          </Card>\n        </Page>\n        <Outlet />\n      </Content>\n    </>\n  );\n}\n","import { Stack, styled } from 'leather-styles/jsx';\n\nimport type { Blockchain, CryptoCurrency } from '@leather.io/models';\n\nimport { HasChildren } from '@app/common/has-children';\n\ninterface FundLayoutProps extends HasChildren {\n  blockchain: Blockchain;\n  symbol: CryptoCurrency;\n}\nexport function FundLayout({ blockchain, symbol, children }: FundLayoutProps) {\n  return (\n    <Stack\n      alignItems={{ base: 'left', md: 'center' }}\n      p={{ base: 'space.05', md: 'unset' }}\n      gap={{ base: 'space.04', md: 'space.05' }}\n    >\n      <styled.h1\n        textAlign={{ base: 'left', md: 'center' }}\n        color=\"ink.text-primary\"\n        textStyle={{ base: 'heading.03', md: 'display.02' }}\n      >\n        Let's get {symbol} <br />\n        into your wallet\n      </styled.h1>\n\n      <styled.span\n        textStyle=\"body.01\"\n        color=\"ink.text-primary\"\n        maxWidth=\"544px\"\n        textAlign={{ base: 'left', md: 'center' }}\n      >\n        Choose an exchange to fund your account with{' '}\n        <styled.span textTransform=\"capitalize\">{blockchain}</styled.span> ({symbol}) or deposit\n        from elsewhere. Exchanges with Fast checkout make it easier to purchase {symbol} for\n        direct deposit into your wallet with a credit card.\n      </styled.span>\n      {children}\n    </Stack>\n  );\n}\n","export enum FundPageSelectors {\n  BtnReceiveStx = 'btn-receive-stx',\n  FiatProviderItem = 'fiat-provider-item',\n  FiatProviderName = 'fiat-provider-name',\n}\n","import { FundPageSelectors } from '@tests/selectors/fund.selectors';\nimport { Box, HStack, Stack, styled } from 'leather-styles/jsx';\n\ninterface FundAccountTileProps {\n  attributes?: React.JSX.Element;\n  description: string;\n  icon: string;\n  onClickTile(): void;\n  ReceiveIcon?(): React.JSX.Element;\n  testId: string;\n  title?: string;\n}\nexport function FundAccountTile(props: FundAccountTileProps) {\n  const { attributes, description, icon, onClickTile, ReceiveIcon, testId, title } = props;\n\n  return (\n    <styled.button\n      _focus={{\n        border: 'focus',\n        boxShadow: '0px 8px 16px rgba(0, 0, 0, 0.08)',\n        margin: '-2px',\n      }}\n      _hover={{\n        boxShadow: '0px 8px 16px rgba(0, 0, 0, 0.08)',\n        cursor: 'pointer',\n      }}\n      border=\"default\"\n      borderRadius=\"sm\"\n      boxShadow=\"0px 1px 2px rgba(0, 0, 0, 0.04)\"\n      data-testid={testId}\n      display=\"flex\"\n      height=\"11.3rem\"\n      textAlign=\"left\"\n      transition=\"transition\"\n      onClick={onClickTile}\n      type=\"button\"\n      width={['100%', '17.5rem']}\n    >\n      <Stack alignItems=\"flex-start\" gap=\"space.03\" p=\"space.05\">\n        <HStack alignItems=\"center\" gap={ReceiveIcon ? 'space.02' : 'space.04'}>\n          {ReceiveIcon ? <ReceiveIcon /> : null}\n          <Box\n            alignItems=\"center\"\n            bg=\"white\"\n            border=\"default\"\n            borderRadius=\"xs\"\n            display=\"inline-flex\"\n            height=\"40px\"\n            justifyContent=\"center\"\n            width=\"40px\"\n          >\n            <img src={icon} width=\"24px\" />\n          </Box>\n\n          <styled.span\n            textStyle=\"label.02\"\n            data-testid={FundPageSelectors.FiatProviderName}\n            color=\"ink.text-primary\"\n          >\n            {title}\n          </styled.span>\n        </HStack>\n        <styled.span\n          data-testid={FundPageSelectors.FiatProviderName}\n          color=\"ink.text-subdued\"\n          minHeight=\"50px\"\n          textStyle=\"body.02\"\n        >\n          {description}\n        </styled.span>\n        <HStack gap=\"space.02\">{attributes}</HStack>\n      </Stack>\n    </styled.button>\n  );\n}\n","import { FundPageSelectors } from '@tests/selectors/fund.selectors';\n\nimport { StarIcon, Tag, ZapIcon } from '@leather.io/ui';\n\nimport { AvailableRegions } from '@app/query/common/remote-config/remote-config.query';\n\nimport { FundAccountTile } from './fund-account-tile';\n\nconst availableInsideUnitedStatesDescription = 'Available only inside of the US';\nconst availableOutsideUnitedStatesDescription = 'Available only outside of the US';\nconst availableGloballyDescription = 'Available both inside and outside of the US';\n\nfunction getProviderAvailability(availableRegions: AvailableRegions) {\n  switch (availableRegions) {\n    case AvailableRegions.InsideUsa:\n      return availableInsideUnitedStatesDescription;\n    case AvailableRegions.OutsideUsa:\n      return availableOutsideUnitedStatesDescription;\n    case AvailableRegions.Global:\n      return availableGloballyDescription;\n    default:\n      return '';\n  }\n}\n\ninterface FiatProviderProps {\n  availableRegions: AvailableRegions;\n  hasFastCheckoutProcess: boolean;\n  hasTradingFees: boolean;\n  icon: string;\n  onGoToProvider(): void;\n  title: string;\n}\nexport function FiatProviderItem(props: FiatProviderProps) {\n  const { availableRegions, hasFastCheckoutProcess, hasTradingFees, icon, onGoToProvider, title } =\n    props;\n\n  const Attributes = (\n    <>\n      {hasFastCheckoutProcess && (\n        <Tag icon={<ZapIcon variant=\"small\" />} label=\"Fast checkout\" variant=\"success\" />\n      )}\n      {!hasTradingFees && (\n        <Tag icon={<StarIcon variant=\"small\" />} label=\"0 % Fees\" variant=\"warning\" />\n      )}\n    </>\n  );\n\n  return (\n    <FundAccountTile\n      attributes={Attributes}\n      description={getProviderAvailability(availableRegions)}\n      icon={icon}\n      onClickTile={onGoToProvider}\n      testId={FundPageSelectors.FiatProviderItem}\n      title={title}\n    />\n  );\n}\n","export default __webpack_public_path__ + \"759c3fb3e68d96744be4b4fc9ca6f9dd.png\";","export default __webpack_public_path__ + \"5c56f342824de1f6d03d914a0f4f9f1a.png\";","export default __webpack_public_path__ + \"3cf5284ff90395355bb9c351ffb8423c.png\";","export default __webpack_public_path__ + \"c80aa19af2d9f39ebdb9fd9a959cc25d.png\";","export default __webpack_public_path__ + \"8c47118163650d74f3cb445efcfc59a1.png\";","export default __webpack_public_path__ + \"11cbea4f1c9fb49a059a805a31f35fa7.png\";","export default __webpack_public_path__ + \"95ddd3b7395017e59c3dfcb206c29eb8.png\";","export default __webpack_public_path__ + \"49e473264f371c5c976d988868d7216d.png\";","export default __webpack_public_path__ + \"57c8b38e7e1f0459aba5b9932ae3dc98.png\";","export default __webpack_public_path__ + \"c116190842ee63c15d3869bc5b7990a9.png\";","import BinanceIcon from '@assets/images/fund/fiat-providers/binance-icon.png';\nimport BlockchainComIcon from '@assets/images/fund/fiat-providers/blockchain.com-icon.png';\nimport ByBitIcon from '@assets/images/fund/fiat-providers/bybit-icon.png';\nimport CoinbaseIcon from '@assets/images/fund/fiat-providers/coinbase-icon.png';\nimport CryptoComIcon from '@assets/images/fund/fiat-providers/crypto.com-icon.png';\nimport GateIoIcon from '@assets/images/fund/fiat-providers/gate.io-icon.png';\nimport KuCoinIcon from '@assets/images/fund/fiat-providers/kucoin-icon.png';\nimport MoonPayIcon from '@assets/images/fund/fiat-providers/moonpay-icon.png';\nimport OkxIcon from '@assets/images/fund/fiat-providers/okx-icon.png';\nimport TransakIcon from '@assets/images/fund/fiat-providers/transak-icon.png';\nimport { generateOnRampURL } from '@coinbase/cbpay-js';\n\nimport type { CryptoCurrency } from '@leather.io/models';\n\nimport { COINBASE_APP_ID, MOONPAY_API_KEY, TRANSAK_API_KEY } from '@shared/environment';\n\nimport { ActiveFiatProvider } from '@app/query/common/remote-config/remote-config.query';\n\n// Keys are set in wallet-config.json\nenum ActiveFiatProviders {\n  Binance = 'binance',\n  BlockchainCom = 'blockchainCom',\n  ByBit = 'byBit',\n  Coinbase = 'coinbase',\n  CryptoCom = 'cryptoCom',\n  GateIo = 'gateIo',\n  KuCoin = 'kuCoin',\n  MoonPay = 'moonPay',\n  Okx = 'okx',\n  Transak = 'transak',\n}\n\nexport const activeFiatProviderIcons: Record<ActiveFiatProvider['name'], string> = {\n  [ActiveFiatProviders.Binance]: BinanceIcon,\n  [ActiveFiatProviders.BlockchainCom]: BlockchainComIcon,\n  [ActiveFiatProviders.ByBit]: ByBitIcon,\n  [ActiveFiatProviders.Coinbase]: CoinbaseIcon,\n  [ActiveFiatProviders.CryptoCom]: CryptoComIcon,\n  [ActiveFiatProviders.GateIo]: GateIoIcon,\n  [ActiveFiatProviders.KuCoin]: KuCoinIcon,\n  [ActiveFiatProviders.MoonPay]: MoonPayIcon,\n  [ActiveFiatProviders.Okx]: OkxIcon,\n  [ActiveFiatProviders.Transak]: TransakIcon,\n};\n\nfunction makeCoinbaseUrl(address: string, symbol: CryptoCurrency) {\n  const code = symbol.toUpperCase();\n\n  const onRampURL = generateOnRampURL({\n    appId: COINBASE_APP_ID,\n    destinationWallets: [\n      {\n        address,\n        assets: [code],\n      },\n    ],\n  });\n  return onRampURL;\n}\n\nfunction makeMoonPayUrl(address: string, symbol: CryptoCurrency) {\n  const code = symbol.toLowerCase();\n  return `https://buy.moonpay.com?apiKey=${MOONPAY_API_KEY}&currencyCode=${code}&walletAddress=${address}`;\n}\n\nfunction makeTransakUrl(address: string, symbol: CryptoCurrency) {\n  const screenTitle = 'Buy Stacks';\n  const code = symbol.toUpperCase();\n\n  return `https://global.transak.com?apiKey=${TRANSAK_API_KEY}&cryptoCurrencyCode=${code}&exchangeScreenTitle=${encodeURI(\n    screenTitle\n  )}&defaultPaymentMethod=credit_debit_card&walletAddress=${address}`;\n}\n\nfunction makeFiatProviderFaqUrl(address: string, provider: string) {\n  // TODO: Add FAQ for BTC\n  return `https://hiro.so/wallet-faq/how-do-i-buy-stx-from-an-exchange?provider=${provider}&address=${address}`;\n}\n\ninterface GetProviderNameArgs {\n  address: string;\n  hasFastCheckoutProcess: boolean;\n  key: string;\n  name: string;\n  symbol: CryptoCurrency;\n}\nexport function getProviderUrl({\n  address,\n  hasFastCheckoutProcess,\n  key,\n  name,\n  symbol,\n}: GetProviderNameArgs) {\n  if (!hasFastCheckoutProcess) {\n    return makeFiatProviderFaqUrl(address, name);\n  }\n  switch (key) {\n    case ActiveFiatProviders.Coinbase:\n      return makeCoinbaseUrl(address, symbol);\n    case ActiveFiatProviders.MoonPay:\n      return makeMoonPayUrl(address, symbol);\n    case ActiveFiatProviders.Transak:\n      return makeTransakUrl(address, symbol);\n    default:\n      return makeFiatProviderFaqUrl(address, name);\n  }\n}\n","export default __webpack_public_path__ + \"51783c075440374dd3713f4496798f62.png\";","export default __webpack_public_path__ + \"062a79dd26aaa7834cba051dfef65506.png\";","import ReceiveFundsEllipses from '@assets/images/fund/receive-funds-ellipses.png';\nimport { Box } from 'leather-styles/jsx';\n\nimport { BtcAvatarIcon, StxAvatarIcon } from '@leather.io/ui';\n\nexport function StacksIconComponent() {\n  return (\n    <>\n      <Box>\n        <StxAvatarIcon size=\"xxl\" />\n      </Box>\n      <Box>\n        <img src={ReceiveFundsEllipses} width=\"24px\" />\n      </Box>\n    </>\n  );\n}\n\nexport function BitcoinIconComponent() {\n  return (\n    <>\n      <BtcAvatarIcon size=\"xxl\" />\n      <Box>\n        <img src={ReceiveFundsEllipses} width=\"24px\" />\n      </Box>\n    </>\n  );\n}\n","import React from 'react';\n\nimport QRCodeIcon from '@assets/images/fund/qr-code-icon.png';\nimport { FundPageSelectors } from '@tests/selectors/fund.selectors';\n\nimport type { CryptoCurrency } from '@leather.io/models';\n\nimport { FundAccountTile } from './fund-account-tile';\nimport { BitcoinIconComponent, StacksIconComponent } from './icon-components';\n\ninterface CryptoDescription {\n  title: string;\n  IconComponent(): React.JSX.Element;\n}\n\nconst cryptoDescriptions: Record<CryptoCurrency, CryptoDescription> = {\n  STX: {\n    title: 'Receive STX from a friend or deposit from a separate wallet',\n    IconComponent: StacksIconComponent,\n  },\n  BTC: {\n    title: 'Receive BTC from a friend or deposit from a separate wallet',\n    IconComponent: BitcoinIconComponent,\n  },\n};\ninterface ReceiveStxItemProps {\n  onReceive(): void;\n  symbol: CryptoCurrency;\n}\nexport function ReceiveFundsItem({ onReceive, symbol }: ReceiveStxItemProps) {\n  return (\n    <FundAccountTile\n      description={cryptoDescriptions[symbol].title}\n      icon={QRCodeIcon}\n      onClickTile={onReceive}\n      ReceiveIcon={cryptoDescriptions[symbol].IconComponent}\n      testId={FundPageSelectors.BtnReceiveStx}\n    />\n  );\n}\n","import { useLocation, useNavigate } from 'react-router-dom';\n\nimport { Grid } from 'leather-styles/jsx';\n\nimport type { CryptoCurrency } from '@leather.io/models';\n\nimport { analytics } from '@shared/utils/analytics';\n\nimport { openInNewTab } from '@app/common/utils/open-in-new-tab';\nimport { LoadingSpinner } from '@app/components/loading-spinner';\nimport {\n  useActiveFiatProviders,\n  useHasFiatProviders,\n} from '@app/query/common/remote-config/remote-config.query';\n\nimport { FiatProviderItem } from './components/fiat-provider-item';\nimport { activeFiatProviderIcons, getProviderUrl } from './components/fiat-providers.utils';\nimport { ReceiveFundsItem } from './components/receive-funds-item';\n\ninterface FiatProvidersProps {\n  address: string;\n  route: string;\n  symbol: CryptoCurrency;\n}\nexport function FiatProvidersList(props: FiatProvidersProps) {\n  const { address, route, symbol } = props;\n  const navigate = useNavigate();\n  const activeProviders = useActiveFiatProviders();\n  const hasProviders = useHasFiatProviders();\n\n  const location = useLocation();\n\n  const goToProviderExternalWebsite = (provider: string, providerUrl: string) => {\n    void analytics.track('select_buy_option', { provider });\n    openInNewTab(providerUrl);\n  };\n\n  if (!hasProviders) return <LoadingSpinner />;\n\n  return (\n    <Grid\n      columnGap=\"space.04\"\n      mt={{ base: 0, md: 'space.03' }}\n      rowGap=\"space.04\"\n      gridTemplateColumns={{ base: 'repeat(1, 1fr)', sm: 'repeat(2, 1fr)', md: 'repeat(3, 1fr)' }}\n    >\n      <ReceiveFundsItem\n        symbol={symbol}\n        onReceive={() =>\n          navigate(route, {\n            state: { backgroundLocation: location },\n          })\n        }\n      />\n      {Object.entries(activeProviders).map(([providerKey, providerValue]) => {\n        const providerUrl = getProviderUrl({\n          address,\n          hasFastCheckoutProcess: providerValue.hasFastCheckoutProcess,\n          key: providerKey,\n          name: providerValue.name,\n          symbol,\n        });\n\n        return (\n          <FiatProviderItem\n            availableRegions={providerValue.availableRegions}\n            hasFastCheckoutProcess={providerValue.hasFastCheckoutProcess}\n            hasTradingFees={providerValue.hasTradingFees}\n            icon={activeFiatProviderIcons[providerKey]}\n            key={providerKey}\n            onGoToProvider={() => goToProviderExternalWebsite(providerValue.name, providerUrl)}\n            title={providerValue.name}\n          />\n        );\n      })}\n    </Grid>\n  );\n}\n","import { Outlet, useParams } from 'react-router-dom';\n\nimport type {\n  Blockchain,\n  BtcCryptoAssetBalance,\n  CryptoCurrency,\n  StxCryptoAssetBalance,\n} from '@leather.io/models';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { Content } from '@app/components/layout';\nimport { FullPageLoadingSpinner } from '@app/components/loading-spinner';\nimport { PageHeader } from '@app/features/container/headers/page.header';\nimport { useCurrentAccountNativeSegwitIndexZeroSignerNullable } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useCurrentStacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\nimport { FundLayout } from './components/fund.layout';\nimport { FiatProvidersList } from './fiat-providers-list';\n\ninterface FundCryptoCurrencyInfo {\n  address?: string;\n  balance?: BtcCryptoAssetBalance | StxCryptoAssetBalance;\n  blockchain: Blockchain;\n  route: string;\n  symbol: CryptoCurrency;\n}\n\nexport function FundPage() {\n  const currentStxAccount = useCurrentStacksAccount();\n  const bitcoinSigner = useCurrentAccountNativeSegwitIndexZeroSignerNullable();\n  const { currency = 'STX' } = useParams();\n\n  const fundCryptoCurrencyMap: Record<CryptoCurrency, FundCryptoCurrencyInfo> = {\n    BTC: {\n      address: bitcoinSigner?.address,\n      blockchain: 'bitcoin',\n      route: RouteUrls.ReceiveBtc,\n      symbol: currency,\n    },\n    STX: {\n      address: currentStxAccount?.address,\n      blockchain: 'stacks',\n      route: RouteUrls.ReceiveStx,\n      symbol: currency,\n    },\n  };\n\n  const { address, blockchain, route, symbol } = fundCryptoCurrencyMap[currency as CryptoCurrency];\n\n  if (!address) return <FullPageLoadingSpinner />;\n\n  return (\n    <>\n      <PageHeader onBackLocation={RouteUrls.FundChooseCurrency} />\n      <Content>\n        <FundLayout blockchain={blockchain} symbol={symbol}>\n          <FiatProvidersList address={address} route={route} symbol={symbol} />\n        </FundLayout>\n        <Outlet />\n      </Content>\n    </>\n  );\n}\n","export enum HomePageSelectors {\n  AssetList = 'asset-list',\n  HomePageContainer = 'home-page-container',\n  ReceiveCryptoAssetBtn = 'receive-crypto-asset-btn',\n  ReceiveBtcNativeSegwitQrCodeBtn = 'receive-native-segwit-qr-code-btn',\n  ReceiveAssetsTab = 'receive-assets-tab',\n  ReceiveCollectiblesTab = 'receive-collectibles-tab',\n  ReceiveBtcTaprootQrCodeBtn = 'receive-taproot-qr-code-btn',\n  ReceiveStxQrCodeBtn = 'receive-stx-qr-code-btn',\n  SendCryptoAssetBtn = 'send-crypto-asset-btn',\n  ActivityTabBtn = 'tab-activity',\n  BalancesTabBtn = 'tab-balances',\n  SwapBtn = 'swap-btn',\n  FundAccountBtn = 'fund-account-btn',\n  ManageTokensBtn = 'manage-tokens-btn',\n  ManageTokensAssetsList = 'manage-tokens-assets-list',\n}\n","import { AddressTransactionWithTransfers } from '@stacks/stacks-blockchain-api-types';\n\nimport type { BitcoinTx } from '@leather.io/models';\n\nimport {\n  TransactionListBitcoinTx,\n  TransactionListStacksTx,\n} from './components/transaction-list/transaction-list.model';\n\nfunction createBitcoinTxTypeWrapper(tx: BitcoinTx): TransactionListBitcoinTx {\n  return {\n    blockchain: 'bitcoin',\n    transaction: tx,\n  };\n}\n\nfunction createStacksTxTypeWrapper(tx: AddressTransactionWithTransfers): TransactionListStacksTx {\n  return {\n    blockchain: 'stacks',\n    transaction: tx,\n  };\n}\n\nexport function convertBitcoinTxsToListType(txs?: BitcoinTx[]) {\n  if (!txs) return [];\n  const confirmedTxs = txs.filter(tx => tx.status.confirmed);\n  return confirmedTxs.map(tx => createBitcoinTxTypeWrapper(tx));\n}\n\nexport function convertStacksTxsToListType(txs?: AddressTransactionWithTransfers[]) {\n  if (!txs) return [];\n  return txs.map(tx => createStacksTxTypeWrapper(tx));\n}\n","export default __webpack_public_path__ + \"030a6ea93a4e1fcf9fb187d7e441aeaf.png\";","import NoActivity from '@assets/images/no-activity.png';\nimport { Stack } from 'leather-styles/jsx';\n\nimport { Caption } from '@leather.io/ui';\n\nexport function NoAccountActivity() {\n  return (\n    <Stack gap=\"space.06\" justifyContent=\"center\" alignItems=\"center\">\n      <img src={NoActivity} width=\"120px\" />\n      <Caption maxWidth=\"23ch\" textAlign=\"center\">\n        No activity yet\n      </Caption>\n    </Stack>\n  );\n}\n","import { ReactNode } from 'react';\n\nimport { Stack, styled } from 'leather-styles/jsx';\n\ninterface PendingTransactionListLayoutProps {\n  children: ReactNode;\n}\nexport function PendingTransactionListLayout({ children }: PendingTransactionListLayoutProps) {\n  return (\n    <>\n      <styled.span color=\"ink.text-subdued\" textStyle=\"body.02\">\n        Pending\n      </styled.span>\n      <Stack pb=\"space.06\" mt=\"space.04\">\n        {children}\n      </Stack>\n    </>\n  );\n}\n","import { MempoolTransaction } from '@stacks/stacks-blockchain-api-types';\n\nimport type { BitcoinTx } from '@leather.io/models';\n\nimport { BitcoinTransactionItem } from '@app/components/bitcoin-transaction-item/bitcoin-transaction-item';\nimport { StacksTransactionItem } from '@app/components/stacks-transaction-item/stacks-transaction-item';\n\nimport { PendingTransactionListLayout } from './pending-transaction-list.layout';\n\ninterface PendingTransactionListProps {\n  bitcoinTxs: BitcoinTx[];\n  stacksTxs: MempoolTransaction[];\n}\nexport function PendingTransactionList({ bitcoinTxs, stacksTxs }: PendingTransactionListProps) {\n  return (\n    <PendingTransactionListLayout>\n      {bitcoinTxs.map(tx => (\n        <BitcoinTransactionItem key={tx.txid} transaction={tx} />\n      ))}\n      {stacksTxs.map(tx => (\n        <StacksTransactionItem key={tx.tx_id} transaction={tx} />\n      ))}\n    </PendingTransactionListLayout>\n  );\n}\n","import { PayloadType, StacksTransaction, addressToString } from '@stacks/transactions';\nimport { CircleProps } from 'leather-styles/jsx';\n\nimport { StacksTx } from '@leather.io/models';\nimport { DynamicColorCircle, StxAvatarIcon } from '@leather.io/ui';\n\nimport { getTxSenderAddress } from '@app/common/transactions/stacks/transaction.utils';\nimport { TransactionIconWrapper } from '@app/components/transaction/transaction-icon-wrapper';\nimport { TransactionTypeIcon } from '@app/components/transaction/transaction-type-icon';\n\ninterface SubmittedTransactionIconProps extends CircleProps {\n  transaction: StacksTransaction;\n}\nexport function SubmittedTransactionIcon({ transaction, ...rest }: SubmittedTransactionIconProps) {\n  const senderAddress = getTxSenderAddress(transaction);\n\n  switch (transaction.payload.payloadType) {\n    case PayloadType.SmartContract:\n      return (\n        <DynamicColorCircle\n          position=\"relative\"\n          value={`${getTxSenderAddress(transaction)}.${transaction.payload.contractName.content}`}\n          {...rest}\n        >\n          <TransactionTypeIcon\n            transaction={\n              {\n                sender_address: senderAddress,\n                tx_type: 'smart_contract',\n                tx_status: 'pending',\n              } as StacksTx\n            }\n          />\n        </DynamicColorCircle>\n      );\n    case PayloadType.ContractCall:\n      return (\n        <DynamicColorCircle\n          position=\"relative\"\n          value={`${addressToString(transaction.payload.contractAddress)}.${\n            transaction.payload.contractName.content\n          }::${transaction.payload.functionName.content}`}\n          {...rest}\n        >\n          <TransactionTypeIcon\n            transaction={\n              {\n                sender_address: senderAddress,\n                tx_type: 'contract_call',\n                tx_status: 'pending',\n              } as StacksTx\n            }\n          />\n        </DynamicColorCircle>\n      );\n    case PayloadType.TokenTransfer:\n      return (\n        <TransactionIconWrapper\n          icon={<StxAvatarIcon />}\n          transaction={\n            {\n              sender_address: senderAddress,\n              tx_type: 'token_transfer',\n              tx_status: 'pending',\n            } as StacksTx\n          }\n          {...rest}\n        />\n      );\n    default:\n      return null;\n  }\n}\n","import { PayloadType, StacksTransaction } from '@stacks/transactions';\n\nimport { StacksTx } from '@leather.io/models';\n\nimport { stacksValue } from '@app/common/stacks-utils';\nimport { getTxCaption } from '@app/common/transactions/stacks/transaction.utils';\n\ninterface SubmittedTransactionDetails {\n  caption: string | null;\n  title: string;\n  value: string | null;\n}\n\ninterface GetSubmittedTransactionDetailsArgs {\n  payload: StacksTransaction['payload'];\n  senderAddress?: string;\n  txid: string;\n}\nexport function getSubmittedTransactionDetails({\n  payload,\n  senderAddress,\n  txid,\n}: GetSubmittedTransactionDetailsArgs): SubmittedTransactionDetails | null {\n  switch (payload.payloadType) {\n    case PayloadType.TokenTransfer:\n      return {\n        caption: getTxCaption({\n          tx_type: 'token_transfer',\n          tx_id: txid,\n        } as StacksTx),\n        title: 'Stacks',\n        value: `-${stacksValue({\n          value: Number(payload.amount),\n          withTicker: false,\n        })}`,\n      };\n    case PayloadType.ContractCall:\n      return {\n        caption: getTxCaption({\n          tx_type: 'contract_call',\n          contract_call: {\n            contract_id: `.${payload.contractName.content}`,\n          },\n        } as unknown as StacksTx),\n        title: payload.functionName.content,\n        value: null,\n      };\n    case PayloadType.SmartContract:\n      return {\n        caption: getTxCaption({\n          tx_type: 'smart_contract',\n          smart_contract: {\n            contract_id: `${senderAddress}.${payload.contractName.content}`,\n          },\n        } as unknown as StacksTx),\n        title: payload.contractName.content,\n        value: null,\n      };\n    default:\n      return null;\n  }\n}\n","import { StacksTransaction } from '@stacks/transactions';\nimport { HStack, styled } from 'leather-styles/jsx';\n\nimport { Caption, ItemLayout, Pressable } from '@leather.io/ui';\n\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useStacksExplorerLink } from '@app/common/hooks/use-stacks-explorer-link';\nimport { getTxSenderAddress } from '@app/common/transactions/stacks/transaction.utils';\nimport { TransactionTitle } from '@app/components/transaction/transaction-title';\nimport { BasicTooltip } from '@app/ui/components/tooltip/basic-tooltip';\n\nimport { SubmittedTransactionIcon } from './submitted-transaction-icon';\nimport { getSubmittedTransactionDetails } from './submitted-transaction-list.utils';\n\ninterface SubmittedTransactionItemProps {\n  transaction: StacksTransaction;\n  txid: string;\n}\nexport function SubmittedTransactionItem({ transaction, txid }: SubmittedTransactionItemProps) {\n  const { handleOpenStacksTxLink } = useStacksExplorerLink();\n\n  if (!transaction) return null;\n\n  const submittedTransactionDetails = getSubmittedTransactionDetails({\n    payload: transaction.payload,\n    senderAddress: getTxSenderAddress(transaction),\n    txid,\n  });\n\n  const openTxLink = () => {\n    void analytics.track('view_transaction');\n    handleOpenStacksTxLink({\n      searchParams: new URLSearchParams('&submitted=true'),\n      txid,\n    });\n  };\n\n  if (!submittedTransactionDetails) return null;\n\n  const { caption, title, value } = submittedTransactionDetails;\n\n  return (\n    <Pressable onClick={openTxLink} my=\"space.02\">\n      <ItemLayout\n        img={<SubmittedTransactionIcon transaction={transaction} />}\n        titleLeft={<TransactionTitle title={title} />}\n        captionLeft={\n          <HStack alignItems=\"center\">\n            <Caption\n              overflow=\"hidden\"\n              textOverflow=\"ellipsis\"\n              maxWidth={{ base: '160px', md: 'unset' }}\n            >\n              {caption}\n            </Caption>\n            <BasicTooltip\n              asChild\n              side=\"bottom\"\n              label={'Transaction broadcasted, but not yet in the mempool'}\n            >\n              <Caption color=\"yellow.action-primary-default\">Submitted</Caption>\n            </BasicTooltip>\n          </HStack>\n        }\n        titleRight={<styled.span textStyle=\"label.02\">{value}</styled.span>}\n      />\n    </Pressable>\n  );\n}\n","import { ReactNode, useMemo } from 'react';\n\nimport { deserializeTransaction } from '@stacks/transactions';\nimport { Stack, styled } from 'leather-styles/jsx';\n\nimport { SubmittedTransactionItem } from '@app/features/activity-list/components/submitted-transaction-list/submitted-transaction-item';\nimport { SubmittedTransaction } from '@app/store/submitted-transactions/submitted-transactions.slice';\n\ntype SubmittedTransactionListItemProps = SubmittedTransaction;\n\nexport function SubmittedTransactionListItem({ rawTx, txid }: SubmittedTransactionListItemProps) {\n  const submittedTx = useMemo(() => deserializeTransaction(rawTx), [rawTx]);\n  return <SubmittedTransactionItem transaction={submittedTx} txid={txid} />;\n}\n\ninterface SubmittedTransactionListLayoutProps {\n  children: ReactNode;\n}\nexport function SubmittedTransactionListLayout({ children }: SubmittedTransactionListLayoutProps) {\n  return (\n    <>\n      <styled.span textStyle=\"body.02\" color=\"ink.text-subdued\">\n        Submitted\n      </styled.span>\n      <Stack pb=\"space.06\" gap=\"space.05\">\n        {children}\n      </Stack>\n    </>\n  );\n}\n","import { SubmittedTransaction } from '@app/store/submitted-transactions/submitted-transactions.slice';\n\nimport {\n  SubmittedTransactionListItem,\n  SubmittedTransactionListLayout,\n} from './submitted-transaction-list.layout';\n\ninterface SubmittedTransactionListProps {\n  txs: SubmittedTransaction[];\n}\nexport function SubmittedTransactionList({ txs }: SubmittedTransactionListProps) {\n  return (\n    <SubmittedTransactionListLayout>\n      {txs.map(tx => {\n        if (!tx) return null;\n        return <SubmittedTransactionListItem key={tx.txid} rawTx={tx.rawTx} txid={tx.txid} />;\n      })}\n    </SubmittedTransactionListLayout>\n  );\n}\n","import { Box } from 'leather-styles/jsx';\n\ninterface ActivityListTabWrapperProps {\n  children: React.ReactNode;\n  padContent?: boolean;\n}\n\nexport function ActivityListTabWrapper({\n  children,\n  padContent = false,\n}: ActivityListTabWrapperProps) {\n  return (\n    <Box minHeight=\"dialogContentHeight\" py={padContent ? 'space.11' : undefined}>\n      {children}\n    </Box>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport { useInView } from 'react-intersection-observer';\n\nexport function useTransactionListRender({\n  currentBitcoinAddress,\n}: {\n  currentBitcoinAddress: string;\n}) {\n  const [visibleTxsNum, setVisibleTxsNum] = useState(10);\n  const { ref: intersectionSentinel, inView } = useInView({\n    rootMargin: '0% 0% 20% 0%',\n  });\n\n  useEffect(() => {\n    if (inView) {\n      setVisibleTxsNum(visibleTxsNum + 10);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inView]);\n\n  useEffect(() => {\n    setVisibleTxsNum(10);\n  }, [currentBitcoinAddress]);\n\n  return {\n    visibleTxsNum,\n    intersectionSentinel,\n  };\n}\n","import { BitcoinTransactionItem } from '@app/components/bitcoin-transaction-item/bitcoin-transaction-item';\n\nexport const BitcoinTransaction = BitcoinTransactionItem;\n","import { Box, BoxProps } from 'leather-styles/jsx';\n\nimport { Avatar, DynamicColorCircle, StxAvatarIcon, defaultFallbackDelay } from '@leather.io/ui';\n\ninterface StacksAssetAvatarProps extends BoxProps {\n  gradientString?: string;\n  imageCanonicalUri?: string;\n  isStx?: boolean;\n  size?: string;\n}\nexport function StacksAssetAvatar({\n  children,\n  gradientString,\n  imageCanonicalUri,\n  isStx,\n  size = '36',\n  ...props\n}: StacksAssetAvatarProps) {\n  if (isStx) return <StxAvatarIcon />;\n\n  const { color } = props;\n\n  if (imageCanonicalUri)\n    return (\n      <Avatar.Root>\n        <Avatar.Image alt=\"FT\" src={encodeURI(imageCanonicalUri)} />\n        <Avatar.Fallback delayMs={defaultFallbackDelay}>FT</Avatar.Fallback>\n      </Avatar.Root>\n    );\n\n  if (!gradientString) return null;\n\n  return (\n    <DynamicColorCircle color={color} size={size} value={gradientString}>\n      <Box position=\"absolute\">{children}</Box>\n    </DynamicColorCircle>\n  );\n}\n","import { type ReactNode } from 'react';\n\nimport { Circle } from 'leather-styles/jsx';\n\nimport { StxAvatarIcon } from '@leather.io/ui';\n\nimport { TransactionTypeIconWrapper } from '@app/components/transaction/transaction-type-icon-wrapper';\n\ninterface TxTransferIconWrapperProps {\n  icon: ReactNode;\n}\nexport function TxTransferIconWrapper({ icon }: TxTransferIconWrapperProps) {\n  return (\n    <Circle position=\"relative\">\n      <StxAvatarIcon />\n      <TransactionTypeIconWrapper icon={icon} />\n    </Circle>\n  );\n}\n","import type { AddressTransactionWithTransfers } from '@stacks/stacks-blockchain-api-types';\n\nimport { FtTransfer } from '@leather.io/models';\nimport { isFtAsset, useGetFungibleTokenMetadataQuery } from '@leather.io/query';\nimport { ArrowDownIcon, ArrowUpIcon } from '@leather.io/ui';\n\nimport { logger } from '@shared/logger';\n\nimport { getSafeImageCanonicalUri } from '@app/common/stacks-utils';\nimport {\n  calculateTokenTransferAmount,\n  getTxCaption,\n} from '@app/common/transactions/stacks/transaction.utils';\nimport { getPrincipalFromContractId } from '@app/common/utils';\nimport { StacksAssetAvatar } from '@app/components/stacks-asset-avatar';\nimport { StacksTransactionItem } from '@app/components/stacks-transaction-item/stacks-transaction-item';\nimport { useCurrentStacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\nimport { TxTransferIconWrapper } from './tx-transfer-icon-wrapper';\n\ninterface FtTransferItemProps {\n  ftTransfer: FtTransfer;\n  parentTx: AddressTransactionWithTransfers;\n}\nexport function FtTransferItem({ ftTransfer, parentTx }: FtTransferItemProps) {\n  const { data: assetMetadata } = useGetFungibleTokenMetadataQuery(\n    getPrincipalFromContractId(ftTransfer.asset_identifier)\n  );\n  const currentAccount = useCurrentStacksAccount();\n  const isOriginator = ftTransfer.sender === currentAccount?.address;\n\n  if (!(assetMetadata && isFtAsset(assetMetadata))) {\n    logger.error('Token metadata not found');\n    return null;\n  }\n\n  const displayAmount = calculateTokenTransferAmount(\n    assetMetadata?.decimals ?? 0,\n    ftTransfer.amount\n  );\n  if (typeof displayAmount === 'undefined') return null;\n\n  const caption = getTxCaption(parentTx.tx) ?? '';\n  const ftImageCanonicalUri =\n    assetMetadata.image_canonical_uri &&\n    assetMetadata.name &&\n    getSafeImageCanonicalUri(assetMetadata.image_canonical_uri, assetMetadata.name);\n  const icon = isOriginator ? (\n    <ArrowUpIcon color=\"ink.background-primary\" variant=\"small\" />\n  ) : (\n    <ArrowDownIcon color=\"ink.background-primary\" variant=\"small\" />\n  );\n  const title = `${assetMetadata.name || 'Token'} Transfer`;\n  const value = `${isOriginator ? '-' : ''}${displayAmount.toFormat()}`;\n  const transferIcon = ftImageCanonicalUri ? (\n    <StacksAssetAvatar\n      color=\"ink.background-primary\"\n      gradientString=\"\"\n      imageCanonicalUri={ftImageCanonicalUri}\n    >\n      {title}\n    </StacksAssetAvatar>\n  ) : (\n    <TxTransferIconWrapper icon={icon} />\n  );\n\n  return (\n    <StacksTransactionItem\n      caption={caption}\n      icon={transferIcon}\n      link={parentTx.tx.tx_id}\n      title={title}\n      value={value}\n    />\n  );\n}\n","import type { AddressTransactionWithTransfers } from '@stacks/stacks-blockchain-api-types';\n\nimport type { StxTransfer } from '@leather.io/models';\nimport { ArrowDownIcon, ArrowUpIcon } from '@leather.io/ui';\n\nimport { stacksValue } from '@app/common/stacks-utils';\nimport { getTxCaption } from '@app/common/transactions/stacks/transaction.utils';\nimport { StacksTransactionItem } from '@app/components/stacks-transaction-item/stacks-transaction-item';\nimport { useCurrentStacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\nimport { TxTransferIconWrapper } from './tx-transfer-icon-wrapper';\n\ninterface StxTransferItemProps {\n  stxTransfer: StxTransfer;\n  parentTx: AddressTransactionWithTransfers;\n}\nexport function StxTransferItem({ stxTransfer, parentTx }: StxTransferItemProps) {\n  const currentAccount = useCurrentStacksAccount();\n  const isOriginator = stxTransfer.sender === currentAccount?.address;\n\n  const caption = getTxCaption(parentTx.tx) ?? '';\n  const icon = isOriginator ? (\n    <ArrowUpIcon color=\"ink.background-primary\" variant=\"small\" />\n  ) : (\n    <ArrowDownIcon color=\"ink.background-primary\" variant=\"small\" />\n  );\n  const title = 'Stacks Token Transfer';\n  const value = `${isOriginator ? '-' : ''}${stacksValue({\n    value: stxTransfer.amount,\n    withTicker: false,\n  })}`;\n\n  return (\n    <StacksTransactionItem\n      caption={caption}\n      icon={<TxTransferIconWrapper icon={icon} />}\n      link={parentTx.tx.tx_id}\n      title={title}\n      value={value}\n    />\n  );\n}\n","import { AddressTransactionWithTransfers } from '@stacks/stacks-blockchain-api-types';\n\nimport { FtTransferItem } from './ft-transfer-item';\nimport { StxTransferItem } from './stx-transfer-item';\n\ninterface TransactionTransfersProps {\n  transaction: AddressTransactionWithTransfers;\n}\nexport function TransactionTransfers({ transaction }: TransactionTransfersProps) {\n  return (\n    <>\n      {transaction.stx_transfers.map((stxTransfer, index) => (\n        <StxTransferItem stxTransfer={stxTransfer} parentTx={transaction} key={index} />\n      ))}\n      {transaction.ft_transfers\n        ? transaction.ft_transfers.map((ftTransfer, index) => (\n            <FtTransferItem ftTransfer={ftTransfer} parentTx={transaction} key={index} />\n          ))\n        : null}\n    </>\n  );\n}\n","import { AddressTransactionWithTransfers } from '@stacks/stacks-blockchain-api-types';\nimport { BoxProps } from 'leather-styles/jsx';\n\nimport { StacksTransactionItem } from '@app/components/stacks-transaction-item/stacks-transaction-item';\nimport { TransactionTransfers } from '@app/features/activity-list/components/transaction-list/stacks-transaction/transaction-transfers';\n\ninterface StacksTransactionProps extends BoxProps {\n  transaction: AddressTransactionWithTransfers;\n}\nexport function StacksTransaction({ transaction, ...rest }: StacksTransactionProps) {\n  // Show transfer only for contract calls\n  if (transaction.tx.tx_type !== 'contract_call')\n    return <StacksTransactionItem transaction={transaction.tx} {...rest} />;\n\n  return (\n    <>\n      <TransactionTransfers transaction={transaction} />\n      <StacksTransactionItem transaction={transaction.tx} {...rest} />\n    </>\n  );\n}\n","import { BitcoinTransaction } from './bitcoin-transaction/bitcoin-transaction';\nimport { StacksTransaction } from './stacks-transaction/stacks-transaction';\nimport { TransactionListTxs } from './transaction-list.model';\n\ninterface TransactionListItemProps {\n  tx: TransactionListTxs;\n}\nexport function TransactionListItem({ tx }: TransactionListItemProps) {\n  switch (tx.blockchain) {\n    case 'bitcoin':\n      return <BitcoinTransaction transaction={tx.transaction} />;\n    case 'stacks':\n      return <StacksTransaction transaction={tx.transaction} />;\n    default:\n      return null;\n  }\n}\n","import { ReactNode } from 'react';\n\nimport { Stack } from 'leather-styles/jsx';\n\ninterface TransactionListLayoutProps {\n  children: ReactNode;\n}\nexport function TransactionListLayout({ children }: TransactionListLayoutProps) {\n  return <Stack pb=\"space.06\">{children}</Stack>;\n}\n","import dayjs from 'dayjs';\nimport advancedFormat from 'dayjs/plugin/advancedFormat';\nimport isToday from 'dayjs/plugin/isToday';\nimport isYesterday from 'dayjs/plugin/isYesterday';\nimport timezone from 'dayjs/plugin/timezone';\nimport utc from 'dayjs/plugin/utc';\n\ndayjs.extend(isToday);\ndayjs.extend(isYesterday);\ndayjs.extend(advancedFormat);\ndayjs.extend(utc);\ndayjs.extend(timezone);\n\nexport function todaysIsoDate() {\n  return new Date().toISOString().split('T')[0];\n}\n\n// Convert ISO date to locale date taking into account user timezone\nexport function isoDateToLocalDate(isoDate: string): string {\n  return dayjs.tz(isoDate).format('YYYY-MM-DD');\n}\n\n// txDate is of the form YYYY-MM-DD\nexport function displayDate(txDate: string): string {\n  const date = dayjs(txDate);\n  if (date.isToday()) return 'Today';\n  if (date.isYesterday()) return 'Yesterday';\n  if (dayjs().isSame(date, 'year')) {\n    return date.format('MMM Do');\n  }\n  return date.format('MMM Do, YYYY');\n}\n\nexport function isoDateToLocalDateSafe(isoDate: string) {\n  try {\n    return isoDateToLocalDate(isoDate);\n  } catch (e) {\n    return;\n  }\n}\n","import dayjs from 'dayjs';\n\nimport { isUndefined } from '@leather.io/utils';\n\nimport { displayDate, isoDateToLocalDateSafe, todaysIsoDate } from '@app/common/date-utils';\nimport {\n  TransactionListBitcoinTx,\n  TransactionListStacksTx,\n  TransactionListTxs,\n} from '@app/features/activity-list/components/transaction-list/transaction-list.model';\n\nexport function getTransactionId(listTx: TransactionListTxs) {\n  switch (listTx.blockchain) {\n    case 'bitcoin':\n      return listTx.transaction.txid;\n    case 'stacks':\n      return listTx.transaction.tx.tx_id;\n    default:\n      return undefined;\n  }\n}\n\nfunction getTransactionTime(listTx: TransactionListTxs) {\n  switch (listTx.blockchain) {\n    case 'bitcoin':\n      if (!listTx.transaction.status.block_time) return;\n      return dayjs.unix(listTx.transaction.status.block_time).format();\n    case 'stacks':\n      return (\n        listTx.transaction.tx.burn_block_time_iso ||\n        listTx.transaction.tx.parent_burn_block_time_iso\n      );\n    default:\n      return undefined;\n  }\n}\n\nfunction getTransactionTxIndex(listTx: TransactionListTxs) {\n  switch (listTx.blockchain) {\n    case 'stacks':\n      return listTx.transaction.tx.tx_index;\n    default:\n      return undefined;\n  }\n}\n\nfunction getTransactionBlockHeight(listTx: TransactionListTxs) {\n  switch (listTx.blockchain) {\n    case 'bitcoin':\n      if (!listTx.transaction.status.block_height) return;\n      return listTx.transaction.status.block_height;\n    case 'stacks':\n      return listTx.transaction.tx.block_height;\n    default:\n      return undefined;\n  }\n}\n\nfunction groupTxsByDateMap(txs: TransactionListTxs[]) {\n  return txs\n    .sort((a, b) => {\n      const aTxIndex = getTransactionTxIndex(a);\n      const bTxIndex = getTransactionTxIndex(b);\n\n      if (!aTxIndex || !bTxIndex) return 0;\n      return aTxIndex > bTxIndex ? -1 : aTxIndex < bTxIndex ? 1 : 0;\n    })\n    .sort((a, b) => {\n      const aBlockHeight = getTransactionBlockHeight(a);\n      const bBlockHeight = getTransactionBlockHeight(b);\n\n      if (!aBlockHeight || !bBlockHeight) return 0;\n      return aBlockHeight > bBlockHeight ? -1 : aBlockHeight < bBlockHeight ? 1 : 0;\n    })\n    .sort((a, b) => {\n      const aTime = getTransactionTime(a);\n      const bTime = getTransactionTime(b);\n\n      if (!aTime || !bTime) return 0;\n\n      const aMsTime = new Date(aTime).getTime();\n      const bMsTime = new Date(bTime).getTime();\n\n      return aMsTime > bMsTime ? -1 : aMsTime < bMsTime ? 1 : 0;\n    })\n    .reduce((txsByDate, tx) => {\n      const time = getTransactionTime(tx);\n      const date = time ? isoDateToLocalDateSafe(time) : undefined;\n      if (isUndefined(date)) {\n        const today = todaysIsoDate();\n        txsByDate.set(today, [...(txsByDate.get(today) || []), tx]);\n      } else {\n        if (!txsByDate.has(date)) {\n          txsByDate.set(date, []);\n        }\n        txsByDate.set(date, [...(txsByDate.get(date) || []), tx]);\n      }\n      return txsByDate;\n    }, new Map<string, TransactionListTxs[]>());\n}\n\nfunction formatTxDateMapAsList(txMap: Map<string, TransactionListTxs[]>) {\n  return [...txMap.keys()].map(date => ({\n    date,\n    displayDate: displayDate(date),\n    txs: txMap.get(date) ?? [],\n  }));\n}\n\nfunction countTxIds(txs: TransactionListStacksTx[]) {\n  return txs.reduce((acc, stacksTx) => {\n    return acc.set(\n      stacksTx.transaction.tx.tx_id,\n      (acc.get(stacksTx.transaction.tx.tx_id) || 0) + 1\n    );\n  }, new Map());\n}\n\nfunction filterDuplicateStacksTxs(txs: TransactionListStacksTx[]) {\n  const countOfTxIds = countTxIds(txs);\n\n  return txs.filter(stacksTx => {\n    const isDropped = stacksTx.transaction.tx.tx_status.includes('dropped');\n    if (countOfTxIds.get(stacksTx.transaction.tx.tx_id) === 1 && !isDropped) return true;\n    return (\n      stacksTx.transaction.tx.tx_status === 'success' ||\n      stacksTx.transaction.tx.tx_status.includes('abort')\n    );\n  });\n}\n\nfunction sortGroupedTransactions(\n  txs: {\n    date: string;\n    displayDate: string;\n    txs: TransactionListTxs[];\n  }[]\n) {\n  return txs.sort((a, b) => (a.date > b.date ? -1 : a.date < b.date ? 1 : 0));\n}\n\nexport function createTxDateFormatList(\n  bitcoinTxs: TransactionListBitcoinTx[],\n  stacksTxs: TransactionListStacksTx[]\n) {\n  const formattedTxs = formatTxDateMapAsList(\n    groupTxsByDateMap([...bitcoinTxs, ...filterDuplicateStacksTxs(stacksTxs)])\n  );\n  return sortGroupedTransactions(formattedTxs);\n}\n","import { ReactNode } from 'react';\n\nimport { Box, Stack, styled } from 'leather-styles/jsx';\n\ninterface TransactionByDateLayoutProps {\n  children: ReactNode;\n  date: string;\n  displayDate: string;\n}\nexport function TransactionsByDateLayout({\n  children,\n  date,\n  displayDate,\n}: TransactionByDateLayoutProps) {\n  return (\n    <Box key={date}>\n      <styled.span textStyle=\"body.02\" color=\"ink.text-subdued\">\n        {displayDate}\n      </styled.span>\n      <Stack mt=\"space.04\">{children}</Stack>\n    </Box>\n  );\n}\n","import { useMemo } from 'react';\n\nimport { Box } from 'leather-styles/jsx';\n\nimport { useTransactionListRender } from './hooks/use-transaction-list-render';\nimport { TransactionListItem } from './transaction-list-item';\nimport { TransactionListLayout } from './transaction-list.layout';\nimport { TransactionListBitcoinTx, TransactionListStacksTx } from './transaction-list.model';\nimport { createTxDateFormatList, getTransactionId } from './transaction-list.utils';\nimport { TransactionsByDateLayout } from './transactions-by-date.layout';\n\ninterface TransactionListProps {\n  bitcoinTxs: TransactionListBitcoinTx[];\n  stacksTxs: TransactionListStacksTx[];\n  currentBitcoinAddress: string;\n}\n\nexport function TransactionList({\n  bitcoinTxs,\n  stacksTxs,\n  currentBitcoinAddress,\n}: TransactionListProps) {\n  const { intersectionSentinel, visibleTxsNum } = useTransactionListRender({\n    currentBitcoinAddress,\n  });\n  const txsGroupedByDate = useMemo(\n    () =>\n      bitcoinTxs.length || stacksTxs.length ? createTxDateFormatList(bitcoinTxs, stacksTxs) : [],\n    [bitcoinTxs, stacksTxs]\n  );\n\n  const groupedByDateTxsLength = useMemo(() => {\n    return txsGroupedByDate.reduce((acc: Record<string, number>, item, index) => {\n      acc[index] = item.txs.length + (acc[index - 1] || 0);\n      return acc;\n    }, {});\n  }, [txsGroupedByDate]);\n\n  return (\n    <TransactionListLayout>\n      {txsGroupedByDate.map(({ date, displayDate, txs }, dateIndex) => {\n        const prevVal = groupedByDateTxsLength[dateIndex - 1] || 0;\n        // hide dates with no visible txs\n        if (prevVal > visibleTxsNum) {\n          return null;\n        }\n\n        return (\n          <TransactionsByDateLayout date={date} displayDate={displayDate} key={date}>\n            {txs.map((tx, txIndex) => {\n              // hide txs that are not visible\n              if (prevVal + txIndex > visibleTxsNum) return null;\n              return <TransactionListItem key={getTransactionId(tx)} tx={tx} />;\n            })}\n          </TransactionsByDateLayout>\n        );\n      })}\n      <Box ref={intersectionSentinel} />\n    </TransactionListLayout>\n  );\n}\n","import { useEffect, useMemo } from 'react';\nimport { Outlet } from 'react-router-dom';\n\nimport uniqby from 'lodash.uniqby';\n\nimport {\n  useBitcoinPendingTransactions,\n  useGetAccountTransactionsWithTransfersQuery,\n  useGetBitcoinTransactionsByAddressListQuery,\n  useStacksPendingTransactions,\n} from '@leather.io/query';\n\nimport { LoadingSpinner } from '@app/components/loading-spinner';\nimport { useConfigBitcoinEnabled } from '@app/query/common/remote-config/remote-config.query';\nimport { useZeroIndexTaprootAddress } from '@app/store/accounts/blockchain/bitcoin/bitcoin.hooks';\nimport { useCurrentAccountNativeSegwitIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useCurrentStacksAccountAddress } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { useUpdateSubmittedTransactions } from '@app/store/submitted-transactions/submitted-transactions.hooks';\nimport { useSubmittedTransactions } from '@app/store/submitted-transactions/submitted-transactions.selectors';\n\nimport { convertBitcoinTxsToListType, convertStacksTxsToListType } from './activity-list.utils';\nimport { NoAccountActivity } from './components/no-account-activity';\nimport { PendingTransactionList } from './components/pending-transaction-list/pending-transaction-list';\nimport { SubmittedTransactionList } from './components/submitted-transaction-list/submitted-transaction-list';\nimport { ActivityListTabWrapper } from './components/tab-wrapper';\nimport { TransactionList } from './components/transaction-list/transaction-list';\n\n// TODO: temporary really ugly fix while we address conditional data problem of\n// bitcoin sometimes being undefined\nfunction useNsBitcoinAddress() {\n  try {\n    return useCurrentAccountNativeSegwitIndexZeroSigner().address;\n  } catch (e) {\n    return '';\n  }\n}\n\nfunction useTrBitcoinAddress() {\n  try {\n    return useZeroIndexTaprootAddress();\n  } catch (e) {\n    return '';\n  }\n}\n\nexport function ActivityList() {\n  const nsBitcoinAddress = useNsBitcoinAddress();\n  const trBitcoinAddress = useTrBitcoinAddress();\n  const stxAddress = useCurrentStacksAccountAddress();\n  const updateSubmittedTxs = useUpdateSubmittedTransactions();\n\n  const [\n    { isLoading: isLoadingNsBitcoinTransactions, data: nsBitcoinTransactions = [] },\n    { isLoading: isLoadingTrBitcoinTransactions, data: trBitcoinTransactions = [] },\n  ] = useGetBitcoinTransactionsByAddressListQuery([nsBitcoinAddress, trBitcoinAddress]);\n\n  const [{ data: nsPendingTxs = [] }, { data: trPendingTxs = [] }] = useBitcoinPendingTransactions([\n    nsBitcoinAddress,\n    trBitcoinAddress,\n  ]);\n  const bitcoinPendingTxs = useMemo(\n    () => uniqby([...nsPendingTxs, ...trPendingTxs], 'txid'),\n    [nsPendingTxs, trPendingTxs]\n  );\n\n  const { isLoading: isLoadingStacksTransactions, data: stacksTransactionsWithTransfers } =\n    useGetAccountTransactionsWithTransfersQuery(stxAddress);\n  const {\n    query: { isLoading: isLoadingStacksPendingTransactions },\n    transactions: stacksPendingTransactions,\n  } = useStacksPendingTransactions(stxAddress);\n  const submittedTransactions = useSubmittedTransactions();\n  const isBitcoinEnabled = useConfigBitcoinEnabled();\n\n  useEffect(() => {\n    updateSubmittedTxs(stacksPendingTransactions);\n  }, [stacksPendingTransactions, updateSubmittedTxs]);\n\n  const isLoading =\n    isLoadingNsBitcoinTransactions ||\n    isLoadingTrBitcoinTransactions ||\n    isLoadingStacksTransactions ||\n    isLoadingStacksPendingTransactions;\n\n  const transactionListBitcoinTxs = useMemo(() => {\n    return convertBitcoinTxsToListType(\n      uniqby([...nsBitcoinTransactions, ...trBitcoinTransactions], 'txid')\n    );\n  }, [nsBitcoinTransactions, trBitcoinTransactions]);\n\n  const pendingTransactionIds = stacksPendingTransactions.map(tx => tx.tx_id);\n  const transactionListStacksTxs = useMemo(\n    () =>\n      convertStacksTxsToListType(stacksTransactionsWithTransfers?.results).filter(\n        ({ transaction }) => !pendingTransactionIds.includes(transaction.tx.tx_id)\n      ),\n    [stacksTransactionsWithTransfers, pendingTransactionIds]\n  );\n\n  const hasSubmittedTransactions = submittedTransactions.length > 0;\n  const hasPendingTransactions =\n    bitcoinPendingTxs.length > 0 || stacksPendingTransactions.length > 0;\n  const hasTransactions =\n    transactionListBitcoinTxs.length > 0 || transactionListStacksTxs.length > 0;\n\n  const hasTxs = hasSubmittedTransactions || hasPendingTransactions || hasTransactions;\n\n  if (isLoading)\n    return (\n      <ActivityListTabWrapper padContent>\n        <LoadingSpinner />\n        <Outlet />\n      </ActivityListTabWrapper>\n    );\n\n  if (!hasTxs)\n    return (\n      <ActivityListTabWrapper padContent>\n        <NoAccountActivity />\n        <Outlet />\n      </ActivityListTabWrapper>\n    );\n\n  return (\n    <>\n      <ActivityListTabWrapper>\n        {hasSubmittedTransactions && <SubmittedTransactionList txs={submittedTransactions} />}\n        {hasPendingTransactions && (\n          <PendingTransactionList\n            bitcoinTxs={isBitcoinEnabled ? bitcoinPendingTxs : []}\n            stacksTxs={stacksPendingTransactions}\n          />\n        )}\n        {hasTransactions && (\n          <TransactionList\n            bitcoinTxs={isBitcoinEnabled ? transactionListBitcoinTxs : []}\n            stacksTxs={transactionListStacksTxs}\n            currentBitcoinAddress={nsBitcoinAddress}\n          />\n        )}\n      </ActivityListTabWrapper>\n      <Outlet />\n    </>\n  );\n}\n","import { Box, Flex } from 'leather-styles/jsx';\n\nimport { Button, MegaphoneIcon } from '@leather.io/ui';\n\nimport { openFeedbackSheet } from '@shared/utils/analytics';\n\nimport { useThemeSwitcher } from '@app/common/theme-provider';\n\nexport function FeedbackButton() {\n  const { theme } = useThemeSwitcher();\n  return (\n    <Button\n      _hover={{ bg: 'ink.background-secondary' }}\n      bg=\"ink.background-primary\"\n      variant=\"ghost\"\n      size=\"sm\"\n      pos=\"fixed\"\n      bottom=\"space.04\"\n      right=\"space.04\"\n      left=\"auto\"\n      top=\"auto\"\n      boxShadow={\n        theme === 'light'\n          ? '0px 12px 24px 0px rgba(18, 16, 15, 0.08), 0px 4px 8px 0px rgba(18, 16, 15, 0.08), 0px 0px 2px 0px rgba(18, 16, 15, 0.08);'\n          : undefined\n      }\n      filter={\n        theme === 'dark'\n          ? 'drop-shadow(0px 12px 24px rgba(247, 245, 243, 0.08)) drop-shadow(0px 4px 8px rgba(247, 245, 243, 0.08)) drop-shadow(0px 0px 2px rgba(247, 245, 243, 0.50));'\n          : undefined\n      }\n      zIndex={9}\n      onClick={openFeedbackSheet}\n    >\n      <Flex>\n        <Box mr=\"space.01\" mt=\"2px\">\n          <MegaphoneIcon variant=\"small\" />\n        </Box>\n        Give feedback\n      </Flex>\n    </Button>\n  );\n}\n","import { useConfigTokensEnabledByDefault } from '@leather.io/query';\n\nimport { useCurrentAccountIndex } from '@app/store/accounts/account';\nimport { useUserAllTokens } from '@app/store/manage-tokens/manage-tokens.slice';\n\ninterface IsTokenEnabledArgs {\n  tokenId: string;\n  preEnabledTokensIds: string[];\n}\nexport type AssetFilter = 'all' | 'enabled' | 'disabled';\ninterface FilterTokensArgs<T> {\n  tokens: T[];\n  filter: AssetFilter;\n  getTokenId(token: T): string;\n  preEnabledTokensIds: string[];\n}\n\nexport function useManageTokens() {\n  const configEnabledTokens = useConfigTokensEnabledByDefault();\n\n  const accountIndex = useCurrentAccountIndex();\n  const userTokensList = useUserAllTokens();\n\n  function isTokenEnabled({ tokenId, preEnabledTokensIds }: IsTokenEnabledArgs) {\n    const token = userTokensList.find(t => t.accountIndex === accountIndex && t.id === tokenId);\n    const isEnabledByDefault =\n      configEnabledTokens.includes(tokenId) || preEnabledTokensIds?.includes(tokenId);\n\n    return token?.enabled ?? isEnabledByDefault;\n  }\n\n  function filterTokens<T>({\n    tokens,\n    filter = 'all',\n    getTokenId,\n    preEnabledTokensIds,\n  }: FilterTokensArgs<T>): T[] {\n    if (filter === 'all') return tokens;\n\n    return tokens.filter(t => {\n      const tokenId = getTokenId(t);\n      const tokenEnabled = isTokenEnabled({ tokenId, preEnabledTokensIds });\n\n      return filter === 'enabled' ? tokenEnabled : !tokenEnabled;\n    });\n  }\n\n  return { isTokenEnabled, filterTokens };\n}\n","import BigNumber from 'bignumber.js';\n\nimport {\n  type Brc20CryptoAssetInfo,\n  createCryptoAssetBalance,\n  createMarketData,\n  createMarketPair,\n} from '@leather.io/models';\nimport {\n  isFetchedWithSuccess,\n  useCalculateBitcoinFiatValue,\n  useConfigOrdinalsbot,\n  useGetBrc20TokensQuery,\n} from '@leather.io/query';\nimport { createMoney, unitToFractionalUnit } from '@leather.io/utils';\n\nimport { useCurrentAccountNativeSegwitIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useCurrentAccountTaprootSigner } from '@app/store/accounts/blockchain/bitcoin/taproot-account.hooks';\nimport { useCurrentNetwork } from '@app/store/networks/networks.selectors';\n\n// ts-unused-exports:disable-next-line\nexport function useBrc20FeatureFlag() {\n  const currentNetwork = useCurrentNetwork();\n\n  const ordinalsbotConfig = useConfigOrdinalsbot();\n\n  if (!ordinalsbotConfig.integrationEnabled) {\n    return { enabled: false, reason: 'BRC-20 transfers are temporarily disabled' } as const;\n  }\n\n  const supportedNetwork =\n    currentNetwork.chain.bitcoin.bitcoinNetwork === 'mainnet' ||\n    currentNetwork.chain.bitcoin.bitcoinNetwork === 'signet';\n\n  if (!supportedNetwork) return { enabled: false, reason: 'Unsupported network' } as const;\n\n  // TODO: Add api availability check\n\n  return { enabled: true } as const;\n}\n\nfunction createBrc20CryptoAssetInfo(decimals: number, ticker: string): Brc20CryptoAssetInfo {\n  return {\n    decimals,\n    hasMemo: false,\n    name: 'brc-20',\n    symbol: ticker,\n  };\n}\n\nexport function useBrc20Tokens() {\n  const calculateBitcoinFiatValue = useCalculateBitcoinFiatValue();\n  const createTaprootSigner = useCurrentAccountTaprootSigner();\n  const nativeSegwitSigner = useCurrentAccountNativeSegwitIndexZeroSigner();\n\n  const result = useGetBrc20TokensQuery({\n    createTaprootSigner,\n    nativeSegwitAddress: nativeSegwitSigner.address,\n  });\n\n  if (!isFetchedWithSuccess(result)) return [];\n\n  const tokens = result.data.pages\n    .flatMap(page => page.brc20Tokens)\n    .filter(token => token.length > 0)\n    .flatMap(token => token);\n\n  return tokens.map(token => {\n    const fiatPrice = calculateBitcoinFiatValue(\n      createMoney(new BigNumber(token.balance.min_listed_unit_price ?? 0), 'BTC')\n    );\n    return {\n      balance: createCryptoAssetBalance(\n        createMoney(\n          unitToFractionalUnit(token.info.decimals)(new BigNumber(token.balance.overall_balance)),\n          token.balance.ticker,\n          token.info.decimals\n        )\n      ),\n      info: createBrc20CryptoAssetInfo(token.info.decimals, token.balance.ticker),\n      holderAddress: token.holderAddress,\n      marketData: createMarketData(\n        createMarketPair(token.balance.ticker, 'USD'),\n        createMoney(fiatPrice.amount, 'USD')\n      ),\n    };\n  });\n}\n","import type { Brc20CryptoAssetInfo, CryptoAssetBalance, MarketData } from '@leather.io/models';\n\nimport { type AssetFilter, useManageTokens } from '@app/common/hooks/use-manage-tokens';\nimport { useBrc20Tokens } from '@app/query/bitcoin/ordinals/brc20/brc20-tokens.hooks';\n\ninterface Brc20TokenItem {\n  balance: CryptoAssetBalance;\n  info: Brc20CryptoAssetInfo;\n  holderAddress: string;\n  marketData: MarketData;\n}\n\ninterface Brc20TokensLoaderProps {\n  filter?: AssetFilter;\n  children({\n    tokens,\n    preEnabledTokensIds,\n  }: {\n    tokens: Brc20TokenItem[];\n    preEnabledTokensIds: string[];\n  }): React.ReactNode;\n}\n\nfunction getTokenId(token: Brc20TokenItem) {\n  return token.info.symbol;\n}\nexport function Brc20TokensLoader({ children, filter = 'all' }: Brc20TokensLoaderProps) {\n  const tokens = useBrc20Tokens();\n\n  const { filterTokens } = useManageTokens();\n\n  const preEnabledTokensIds = tokens\n    .filter(t => t.marketData.price.amount.isGreaterThan(0))\n    .map(t => t.info.symbol);\n\n  const filteredTokens = filterTokens({\n    tokens,\n    filter,\n    getTokenId,\n    preEnabledTokensIds,\n  });\n\n  return children({ tokens: filteredTokens, preEnabledTokensIds });\n}\n","import type { CryptoAssetBalance, MarketData, RuneCryptoAssetInfo } from '@leather.io/models';\nimport { useRuneTokens } from '@leather.io/query';\n\nimport { type AssetFilter, useManageTokens } from '@app/common/hooks/use-manage-tokens';\n\ninterface RunesLoaderProps {\n  addresses: string[];\n  children({\n    tokens,\n    preEnabledTokensIds,\n  }: {\n    tokens: RuneTokenItem[];\n    preEnabledTokensIds: string[];\n  }): React.ReactNode;\n  filter?: AssetFilter;\n}\n\ninterface RuneTokenItem {\n  balance: CryptoAssetBalance;\n  info: RuneCryptoAssetInfo;\n  marketData: MarketData;\n}\n\nfunction getTokenId(token: RuneTokenItem) {\n  return token.info.runeName;\n}\n\nexport function RunesLoader({ addresses, children, filter = 'all' }: RunesLoaderProps) {\n  const { runes = [] } = useRuneTokens(addresses);\n\n  const { filterTokens } = useManageTokens();\n\n  const preEnabledTokensIds: string[] = [];\n  const filteredTokens = filterTokens({\n    tokens: runes,\n    filter,\n    getTokenId,\n    preEnabledTokensIds,\n  });\n\n  return children({ tokens: filteredTokens, preEnabledTokensIds });\n}\n","import { BitflowSDK } from 'bitflow-sdk';\n\nimport {\n  BITFLOW_API_HOST,\n  BITFLOW_API_KEY,\n  BITFLOW_READONLY_CALL_API_HOST,\n  BITFLOW_STACKS_API_HOST,\n} from '@shared/environment';\nimport { logger } from '@shared/logger';\n\nexport const bitflow: BitflowSDK = (() => {\n  try {\n    return new BitflowSDK({\n      API_HOST: BITFLOW_API_HOST,\n      API_KEY: BITFLOW_API_KEY,\n      STACKS_API_HOST: BITFLOW_STACKS_API_HOST,\n      READONLY_CALL_API_HOST: BITFLOW_READONLY_CALL_API_HOST,\n    });\n  } catch (e) {\n    logger.error('Bitflow SDK initialization failed');\n    // return fallback dummy object\n    return {} as BitflowSDK;\n  }\n})();\n","import { bitflow } from '@shared/utils/bitflow-sdk';\n\nexport function createGetBitflowAvailableTokensQueryOptions() {\n  return {\n    queryKey: ['get-bitflow-available-tokens'],\n    queryFn: () => bitflow.getAvailableTokens(),\n    refetchOnMount: false,\n    refetchOnReconnect: false,\n    refetchOnWindowFocus: false,\n    retryDelay: 1000 * 60,\n    staleTime: 1000 * 60 * 10,\n  };\n}\n","import type { MarketData, Money } from '@leather.io/models';\nimport type { SwapAsset } from '@leather.io/query';\nimport {\n  baseCurrencyAmountInQuote,\n  createMoney,\n  i18nFormatCurrency,\n  isMoneyGreaterThanZero,\n  unitToFractionalUnit,\n} from '@leather.io/utils';\n\nexport function convertSwapAssetBalanceToFiat(asset: SwapAsset) {\n  if (\n    !asset.marketData ||\n    (!!asset.balance &&\n      isMoneyGreaterThanZero(asset.balance) &&\n      !isMoneyGreaterThanZero(asset.marketData.price))\n  )\n    // adjustment for assets with balance but no price data\n    return '-';\n  return i18nFormatCurrency(baseCurrencyAmountInQuote(asset.balance, asset.marketData));\n}\n\nexport function convertInputAmountValueToFiat(balance: Money, price: MarketData, value: string) {\n  const valueAsMoney = createMoney(\n    unitToFractionalUnit(balance.decimals)(value),\n    balance.symbol,\n    balance.decimals\n  );\n\n  if (!isMoneyGreaterThanZero(valueAsMoney)) return;\n  return baseCurrencyAmountInQuote(valueAsMoney, price);\n}\n\nexport function toCommaSeparatedWithAnd(list: string[]) {\n  let result = '';\n  if (list.length) result = list[list.length - 1];\n  if (list.length > 1) result = `${list[list.length - 2]} and ${result}`;\n  if (list.length > 2) result = `${list.slice(0, -2).join(', ')}, ${result}`;\n  return result;\n}\n\nexport function sortSwapAssets(assets: SwapAsset[]) {\n  return assets\n    .sort((a, b) => {\n      const nameA = (a.displayName ?? a.name).toLowerCase();\n      const nameB = (b.displayName ?? b.name).toLowerCase();\n      if (nameA < nameB) return -1;\n      if (nameA > nameB) return 1;\n      return 0;\n    })\n    .sort((a, b) => {\n      if (a.name === 'STX') return -1;\n      if (b.name !== 'STX') return 1;\n      return 0;\n    })\n    .sort((a, b) => {\n      if (a.name === 'BTC') return -1;\n      if (b.name !== 'BTC') return 1;\n      return 0;\n    });\n}\n","import { useCallback } from 'react';\n\nimport { useQuery } from '@tanstack/react-query';\nimport { Currency } from 'alex-sdk';\nimport BigNumber from 'bignumber.js';\nimport type { Token } from 'bitflow-sdk';\n\nimport { createMarketData, createMarketPair } from '@leather.io/models';\nimport {\n  type SwapAsset,\n  useAlexCurrencyPriceAsMarketData,\n  useAlexSdkLatestPricesQuery,\n  useStxAvailableUnlockedBalance,\n  useTransferableSip10Tokens,\n} from '@leather.io/query';\nimport {\n  convertAmountToFractionalUnit,\n  createMoney,\n  getPrincipalFromContractId,\n  isDefined,\n} from '@leather.io/utils';\n\nimport { createGetBitflowAvailableTokensQueryOptions } from '@app/query/bitflow-sdk/bitflow-available-tokens.query';\n\nimport { sortSwapAssets } from '../swap.utils';\n\nconst BITFLOW_STX_CURRENCY: Currency = 'token-stx' as Currency;\nconst USD_DECIMAL_PRECISION = 2;\n\nfunction useCreateSwapAsset(address: string) {\n  const { data: prices } = useAlexSdkLatestPricesQuery();\n  const priceAsMarketData = useAlexCurrencyPriceAsMarketData();\n  const availableUnlockedBalance = useStxAvailableUnlockedBalance(address);\n  const sip10Tokens = useTransferableSip10Tokens(address);\n\n  return useCallback(\n    (token?: Token): SwapAsset | undefined => {\n      if (!prices || !token || !token.tokenContract) return;\n\n      const swapAsset = {\n        currency: token.tokenId as Currency,\n        fallback: token.symbol.slice(0, 2),\n        icon: token.icon,\n        name: token.symbol,\n        displayName: token.name,\n        principal: token.tokenContract,\n      };\n\n      if (token.tokenId === BITFLOW_STX_CURRENCY) {\n        const price = convertAmountToFractionalUnit(\n          new BigNumber(prices[Currency.STX] ?? 0),\n          USD_DECIMAL_PRECISION\n        );\n        return {\n          ...swapAsset,\n          balance: availableUnlockedBalance,\n          displayName: 'Stacks',\n          marketData: createMarketData(\n            createMarketPair(availableUnlockedBalance.symbol, 'USD'),\n            createMoney(price, 'USD')\n          ),\n        };\n      }\n\n      const availableBalance = sip10Tokens.find(\n        sip10Token => getPrincipalFromContractId(sip10Token.info.contractId) === token.tokenContract\n      )?.balance.availableBalance;\n\n      return {\n        ...swapAsset,\n        balance: availableBalance ?? createMoney(0, token.symbol, token.tokenDecimals),\n        marketData: availableBalance\n          ? priceAsMarketData(swapAsset.principal, availableBalance.symbol)\n          : priceAsMarketData(swapAsset.principal, token.symbol),\n      };\n    },\n    [availableUnlockedBalance, priceAsMarketData, prices, sip10Tokens]\n  );\n}\n\nexport function useBitflowSwappableAssets(address: string) {\n  const createSwapAsset = useCreateSwapAsset(address);\n  return useQuery({\n    ...createGetBitflowAvailableTokensQueryOptions(),\n    select: resp => sortSwapAssets(resp.map(createSwapAsset).filter(isDefined)),\n  });\n}\n","import { useMemo } from 'react';\n\nimport {\n  type Sip10CryptoAssetFilter,\n  filterSip10Tokens,\n  useAlexSwappableAssets,\n  useFilteredSip10Tokens,\n} from '@leather.io/query';\n\nimport { useBitflowSwappableAssets } from '@app/pages/swap/hooks/use-bitflow-swappable-assets';\n\ninterface UseSip10TokensArgs {\n  address: string;\n  filter?: Sip10CryptoAssetFilter;\n}\n// TODO: Migrate to mono\nexport function useCombinedFilteredSip10Tokens({ address }: UseSip10TokensArgs) {\n  const { isLoading, tokens = [] } = useFilteredSip10Tokens({ address });\n  const { data: alexSwapAssets = [] } = useAlexSwappableAssets(address);\n  const { data: bitflowSwapAssets = [] } = useBitflowSwappableAssets(address);\n\n  const filteredTokens = useMemo(() => {\n    const assets = [...alexSwapAssets, ...bitflowSwapAssets];\n    return {\n      allTokens: filterSip10Tokens(assets, tokens, 'all'),\n      supportedTokens: filterSip10Tokens(assets, tokens, 'supported'),\n      unsupportedTokens: filterSip10Tokens(assets, tokens, 'unsupported'),\n    };\n  }, [alexSwapAssets, bitflowSwapAssets, tokens]);\n\n  return { isLoading, ...filteredTokens };\n}\n","import { type Sip10TokenAssetDetails } from '@leather.io/query';\n\nimport { useCombinedFilteredSip10Tokens } from '@app/common/hooks/use-filtered-sip10-tokens';\nimport { type AssetFilter, useManageTokens } from '@app/common/hooks/use-manage-tokens';\n\ninterface Sip10TokensLoaderProps {\n  address: string;\n  assetFilter?: AssetFilter;\n\n  children({\n    isLoading,\n    tokens,\n    preEnabledTokensIds,\n  }: {\n    isLoading: boolean;\n    tokens: Sip10TokenAssetDetails[];\n    preEnabledTokensIds: string[];\n  }): React.ReactNode;\n}\n\nfunction getTokenId(token: Sip10TokenAssetDetails) {\n  return token.info.contractId;\n}\n\nexport function Sip10TokensLoader({\n  address,\n  assetFilter = 'all',\n  children,\n}: Sip10TokensLoaderProps) {\n  const {\n    isLoading,\n    allTokens = [],\n    supportedTokens,\n  } = useCombinedFilteredSip10Tokens({ address, filter: 'all' });\n\n  const { filterTokens } = useManageTokens();\n  const preEnabledTokensIds = supportedTokens.map(t => t.info.contractId);\n  const filteredTokens = filterTokens({\n    tokens: allTokens,\n    filter: assetFilter,\n    getTokenId,\n    preEnabledTokensIds,\n  });\n\n  return children({ isLoading, tokens: filteredTokens, preEnabledTokensIds });\n}\n","import type { CryptoAssetBalance, Src20CryptoAssetInfo } from '@leather.io/models';\nimport { useSrc20TokensByAddress } from '@leather.io/query';\n\nimport { type AssetFilter, useManageTokens } from '@app/common/hooks/use-manage-tokens';\n\nexport interface Src20TokenAssetDetails {\n  balance: CryptoAssetBalance;\n  info: Src20CryptoAssetInfo;\n}\n\ninterface Src20TokensLoaderProps {\n  address: string;\n  filter?: AssetFilter;\n\n  children({\n    tokens,\n    preEnabledTokensIds,\n  }: {\n    tokens: Src20TokenAssetDetails[];\n    preEnabledTokensIds: string[];\n  }): React.ReactNode;\n}\n\nfunction getTokenId(token: Src20TokenAssetDetails) {\n  return token.info.symbol;\n}\n\nexport function Src20TokensLoader({ address, children, filter = 'all' }: Src20TokensLoaderProps) {\n  const { data: tokens = [] } = useSrc20TokensByAddress(address);\n  const { filterTokens } = useManageTokens();\n  const preEnabledTokensIds = tokens.map(t => t.info.symbol);\n\n  const filteredTokens = filterTokens({\n    tokens,\n    filter,\n    getTokenId,\n    preEnabledTokensIds,\n  });\n  return children({ tokens: filteredTokens, preEnabledTokensIds });\n}\n","import type { CryptoAssetBalance, Stx20CryptoAssetInfo } from '@leather.io/models';\nimport { useStx20Tokens } from '@leather.io/query';\n\nimport { type AssetFilter, useManageTokens } from '@app/common/hooks/use-manage-tokens';\n\ninterface Stx20TokensLoaderProps {\n  address: string;\n  filter?: AssetFilter;\n  children({\n    tokens,\n    preEnabledTokensIds,\n  }: {\n    tokens: Stx20TokenItem[];\n    preEnabledTokensIds: string[];\n  }): React.ReactNode;\n}\n\ninterface Stx20TokenItem {\n  balance: CryptoAssetBalance;\n  info: Stx20CryptoAssetInfo;\n}\n\nfunction getTokenId(token: Stx20TokenItem) {\n  return token.info.symbol;\n}\n\nexport function Stx20TokensLoader({ address, children, filter = 'all' }: Stx20TokensLoaderProps) {\n  const { data: tokens = [] } = useStx20Tokens(address);\n\n  const { filterTokens } = useManageTokens();\n  const preEnabledTokensIds: string[] = [];\n  const filteredTokens = filterTokens({\n    tokens,\n    filter,\n    getTokenId,\n    preEnabledTokensIds,\n  });\n  return children({ tokens: filteredTokens, preEnabledTokensIds });\n}\n","export enum CryptoAssetSelectors {\n  CryptoAssetList = 'crypto-asset-list',\n  CryptoAssetListItem = 'crypto-asset-list-item-{symbol}',\n}\n","import type { MarketData, Money } from '@leather.io/models';\nimport {\n  baseCurrencyAmountInQuote,\n  i18nFormatCurrency,\n  isMoneyGreaterThanZero,\n} from '@leather.io/utils';\n\nexport function migratePositiveAssetBalancesToTop<T extends { balance: Money }[]>(assets: T) {\n  const assetsWithPositiveBalance = assets.filter(asset => asset.balance.amount.isGreaterThan(0));\n  const assetsWithZeroBalance = assets.filter(asset => asset.balance.amount.isEqualTo(0));\n  return [...assetsWithPositiveBalance, ...assetsWithZeroBalance] as T;\n}\n\nexport function convertAssetBalanceToFiat<\n  T extends { balance: Money | null; marketData: MarketData | null },\n>(asset: T) {\n  if (!asset.marketData || !asset.balance || !isMoneyGreaterThanZero(asset.marketData.price))\n    return '';\n  return i18nFormatCurrency(baseCurrencyAmountInQuote(asset.balance, asset.marketData));\n}\n","import { useState } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport { sanitize } from 'dompurify';\nimport { Box, VStack } from 'leather-styles/jsx';\n\nimport { ItemLayout, Pressable, Switch } from '@leather.io/ui';\nimport { spamFilter } from '@leather.io/utils';\n\nimport { useCurrentAccountIndex } from '@app/store/accounts/account';\nimport { manageTokensSlice } from '@app/store/manage-tokens/manage-tokens.slice';\n\nexport interface CryptoAssetItemToggleProps {\n  captionLeft: string;\n  icon: React.ReactNode;\n  titleLeft: string;\n  assetId: string;\n  isCheckedByDefault: boolean;\n}\n\nexport function CryptoAssetItemToggle({\n  captionLeft,\n  icon,\n  titleLeft,\n  assetId,\n  isCheckedByDefault = false,\n}: CryptoAssetItemToggleProps) {\n  const accountIndex = useCurrentAccountIndex();\n  const dispatch = useDispatch();\n\n  const [isChecked, setIsChecked] = useState(isCheckedByDefault);\n\n  function handleSelection(enabled: boolean) {\n    setIsChecked(enabled);\n    dispatch(\n      manageTokensSlice.actions.userTogglesTokenVisibility({ id: assetId, enabled, accountIndex })\n    );\n  }\n\n  const toggle = (\n    <VStack h=\"100%\" justifyContent=\"center\">\n      <Switch.Root onCheckedChange={handleSelection} checked={isChecked} id={assetId}>\n        <Switch.Thumb />\n      </Switch.Root>\n    </VStack>\n  );\n\n  return (\n    <Box my=\"space.02\">\n      <Pressable onClick={() => handleSelection(!isChecked)} data-testid={sanitize(assetId)}>\n        <ItemLayout\n          img={icon}\n          titleLeft={spamFilter(titleLeft)}\n          captionLeft={spamFilter(captionLeft)}\n          titleRight={toggle}\n        />\n      </Pressable>\n    </Box>\n  );\n}\n","import { CryptoAssetItemToggle, type CryptoAssetItemToggleProps } from './crypto-asset-item-toggle';\nimport { CryptoAssetItemLayout, type CryptoAssetItemLayoutProps } from './crypto-asset-item.layout';\n\ninterface CryptoAssetItemProps {\n  isToggleMode: boolean;\n  toggleProps?: CryptoAssetItemToggleProps;\n  itemProps?: CryptoAssetItemLayoutProps;\n}\n\nexport function CryptoAssetItem({ isToggleMode, toggleProps, itemProps }: CryptoAssetItemProps) {\n  if (isToggleMode && toggleProps) {\n    return <CryptoAssetItemToggle {...toggleProps} />;\n  }\n\n  if (itemProps) {\n    return <CryptoAssetItemLayout {...itemProps} />;\n  }\n\n  return null;\n}\n","import { type Dispatch, type SetStateAction, useEffect } from 'react';\n\nimport { CryptoAssetSelectors } from '@tests/selectors/crypto-asset.selectors';\nimport { Stack } from 'leather-styles/jsx';\n\nimport type { Brc20CryptoAssetInfo, CryptoAssetBalance, MarketData } from '@leather.io/models';\nimport { Brc20AvatarIcon } from '@leather.io/ui';\n\nimport { convertAssetBalanceToFiat } from '@app/common/asset-utils';\nimport { useManageTokens } from '@app/common/hooks/use-manage-tokens';\nimport { CryptoAssetItem } from '@app/components/crypto-asset-item/crypto-asset-item';\nimport type {\n  AssetListVariant,\n  AssetRightElementVariant,\n} from '@app/features/asset-list/asset-list';\nimport { useCurrentBtcCryptoAssetBalanceNativeSegwit } from '@app/query/bitcoin/balance/btc-balance-native-segwit.hooks';\nimport { useIsPrivateMode } from '@app/store/settings/settings.selectors';\n\ninterface Brc20TokenAssetDetails {\n  balance: CryptoAssetBalance;\n  holderAddress: string;\n  info: Brc20CryptoAssetInfo;\n  marketData: MarketData;\n}\n\ninterface Brc20TokenAssetListProps {\n  tokens: Brc20TokenAssetDetails[];\n  variant?: AssetListVariant;\n  assetRightElementVariant?: AssetRightElementVariant;\n  preEnabledTokensIds: string[];\n  setHasManageableTokens?: Dispatch<SetStateAction<boolean>>;\n}\n\nfunction getBrc20TokenFiatBalance(token: Brc20TokenAssetDetails) {\n  return convertAssetBalanceToFiat({\n    balance: token.balance.availableBalance,\n    marketData: token.marketData,\n  });\n}\n\nexport function Brc20TokenAssetList({\n  tokens,\n  assetRightElementVariant,\n  preEnabledTokensIds,\n  setHasManageableTokens,\n}: Brc20TokenAssetListProps) {\n  const { isLoading } = useCurrentBtcCryptoAssetBalanceNativeSegwit();\n  const isPrivate = useIsPrivateMode();\n  const { isTokenEnabled } = useManageTokens();\n\n  useEffect(() => {\n    if (tokens.length > 0 && setHasManageableTokens) {\n      setHasManageableTokens(true);\n    }\n  }, [tokens, setHasManageableTokens]);\n\n  if (!tokens.length) return null;\n\n  return (\n    <Stack data-testid={CryptoAssetSelectors.CryptoAssetList}>\n      {tokens.map(token => {\n        const key = token.info.symbol;\n        const captionLeft = token.info.name.toUpperCase();\n        const icon = <Brc20AvatarIcon />;\n        const titleLeft = token.info.symbol;\n\n        return (\n          <CryptoAssetItem\n            key={key}\n            isToggleMode={assetRightElementVariant === 'toggle'}\n            toggleProps={{\n              captionLeft,\n              icon,\n              titleLeft,\n              assetId: key,\n              isCheckedByDefault: isTokenEnabled({ tokenId: key, preEnabledTokensIds }),\n            }}\n            itemProps={{\n              availableBalance: token.balance.availableBalance,\n              captionLeft,\n              icon,\n              isLoading,\n              isPrivate,\n              titleLeft,\n              fiatBalance: getBrc20TokenFiatBalance(token),\n              dataTestId: key,\n            }}\n          />\n        );\n      })}\n    </Stack>\n  );\n}\n","import { type Dispatch, type SetStateAction, useEffect } from 'react';\n\nimport type { CryptoAssetBalance, MarketData, RuneCryptoAssetInfo } from '@leather.io/models';\nimport { RunesAvatarIcon } from '@leather.io/ui';\nimport { convertAmountToBaseUnit, createMoneyFromDecimal } from '@leather.io/utils';\n\nimport { convertAssetBalanceToFiat } from '@app/common/asset-utils';\nimport { useManageTokens } from '@app/common/hooks/use-manage-tokens';\nimport { CryptoAssetItem } from '@app/components/crypto-asset-item/crypto-asset-item';\nimport { useIsPrivateMode } from '@app/store/settings/settings.selectors';\n\nimport type { AssetRightElementVariant } from '../../asset-list';\n\ninterface RuneTokenAssetDetails {\n  balance: CryptoAssetBalance;\n  info: RuneCryptoAssetInfo;\n  marketData: MarketData;\n}\n\ninterface RunesAssetListProps {\n  runes: RuneTokenAssetDetails[];\n  assetRightElementVariant?: AssetRightElementVariant;\n  preEnabledTokensIds: string[];\n  setHasManageableTokens?: Dispatch<SetStateAction<boolean>>;\n}\n\nexport function RunesAssetList({\n  runes,\n  assetRightElementVariant,\n  preEnabledTokensIds,\n  setHasManageableTokens,\n}: RunesAssetListProps) {\n  const isPrivate = useIsPrivateMode();\n  const { isTokenEnabled } = useManageTokens();\n\n  useEffect(() => {\n    if (runes.length > 0 && setHasManageableTokens) {\n      setHasManageableTokens(true);\n    }\n  }, [runes, setHasManageableTokens]);\n\n  return runes.map((rune, i) => {\n    const key = `${rune.info.symbol}${i}`;\n    const captionLeft = 'Runes';\n    const icon = <RunesAvatarIcon />;\n    const titleLeft = rune.info.spacedRuneName ?? rune.info.runeName;\n\n    const availableBalance = createMoneyFromDecimal(\n      convertAmountToBaseUnit(rune.balance.availableBalance),\n      rune.info.symbol,\n      rune.info.decimals\n    );\n    const fiatBalance = convertAssetBalanceToFiat({\n      balance: rune.balance.availableBalance,\n      marketData: rune.marketData,\n    });\n\n    return (\n      <CryptoAssetItem\n        key={key}\n        isToggleMode={assetRightElementVariant === 'toggle'}\n        toggleProps={{\n          captionLeft,\n          icon,\n          titleLeft,\n          assetId: rune.info.runeName,\n          isCheckedByDefault: isTokenEnabled({ tokenId: rune.info.runeName, preEnabledTokensIds }),\n        }}\n        itemProps={{\n          availableBalance,\n          captionLeft,\n          icon,\n          isPrivate,\n          titleLeft,\n          fiatBalance,\n          dataTestId: rune.info.runeName,\n        }}\n      />\n    );\n  });\n}\n","import { type Dispatch, type SetStateAction, useEffect } from 'react';\n\nimport { Src20AvatarIcon } from '@leather.io/ui';\n\nimport { useManageTokens } from '@app/common/hooks/use-manage-tokens';\nimport { CryptoAssetItem } from '@app/components/crypto-asset-item/crypto-asset-item';\nimport type { Src20TokenAssetDetails } from '@app/components/loaders/src20-tokens-loader';\nimport { useIsPrivateMode } from '@app/store/settings/settings.selectors';\n\nimport type { AssetRightElementVariant } from '../../asset-list';\n\ninterface Src20TokenAssetListProps {\n  tokens: Src20TokenAssetDetails[];\n  assetRightElementVariant?: AssetRightElementVariant;\n  preEnabledTokensIds: string[];\n  setHasManageableTokens?: Dispatch<SetStateAction<boolean>>;\n}\nexport function Src20TokenAssetList({\n  tokens,\n  assetRightElementVariant,\n  preEnabledTokensIds,\n  setHasManageableTokens,\n}: Src20TokenAssetListProps) {\n  const isPrivate = useIsPrivateMode();\n  const { isTokenEnabled } = useManageTokens();\n\n  useEffect(() => {\n    if (tokens.length > 0 && setHasManageableTokens) {\n      setHasManageableTokens(true);\n    }\n  }, [tokens, setHasManageableTokens]);\n\n  return tokens.map((token, i) => {\n    const key = `${token.info.id}${i}`;\n    const captionLeft = token.info.name.toUpperCase();\n    const icon = <Src20AvatarIcon />;\n    const titleLeft = token.info.symbol.toUpperCase();\n    const symbol = token.info.symbol;\n\n    return (\n      <CryptoAssetItem\n        key={key}\n        isToggleMode={assetRightElementVariant === 'toggle'}\n        toggleProps={{\n          captionLeft,\n          icon,\n          titleLeft,\n          assetId: symbol,\n          isCheckedByDefault: isTokenEnabled({ tokenId: symbol, preEnabledTokensIds }),\n        }}\n        itemProps={{\n          availableBalance: token.balance.availableBalance,\n          captionLeft,\n          icon,\n          isPrivate,\n          titleLeft,\n          dataTestId: symbol,\n        }}\n      />\n    );\n  });\n}\n","export default __webpack_public_path__ + \"73efaecaf0e64a8430c1b622db3e7062.png\";","import Stx20AvatarIconSrc from '@assets/avatars/stx20-avatar-icon.png';\n\nimport { Avatar, AvatarProps } from '@leather.io/ui';\n\nconst fallback = 'ST';\n\nexport function Stx20AvatarIcon(props: AvatarProps) {\n  return (\n    <Avatar.Root {...props}>\n      <Avatar.Image alt={fallback} src={Stx20AvatarIconSrc} />\n      <Avatar.Fallback>{fallback}</Avatar.Fallback>\n    </Avatar.Root>\n  );\n}\n","import { type Dispatch, type SetStateAction, useEffect } from 'react';\n\nimport type { CryptoAssetBalance, Stx20CryptoAssetInfo } from '@leather.io/models';\n\nimport { useManageTokens } from '@app/common/hooks/use-manage-tokens';\nimport { CryptoAssetItem } from '@app/components/crypto-asset-item/crypto-asset-item';\nimport { useIsPrivateMode } from '@app/store/settings/settings.selectors';\nimport { Stx20AvatarIcon } from '@app/ui/components/avatar/stx20-avatar-icon';\n\nimport type { AssetRightElementVariant } from '../../asset-list';\n\ninterface Stx20TokenAssetDetails {\n  balance: CryptoAssetBalance;\n  info: Stx20CryptoAssetInfo;\n}\n\ninterface Stx20TokenAssetListProps {\n  tokens: Stx20TokenAssetDetails[];\n  assetRightElementVariant?: AssetRightElementVariant;\n  preEnabledTokensIds: string[];\n  setHasManageableTokens?: Dispatch<SetStateAction<boolean>>;\n}\nexport function Stx20TokenAssetList({\n  tokens,\n  assetRightElementVariant,\n  preEnabledTokensIds,\n  setHasManageableTokens,\n}: Stx20TokenAssetListProps) {\n  const isPrivate = useIsPrivateMode();\n  const { isTokenEnabled } = useManageTokens();\n\n  useEffect(() => {\n    if (tokens.length > 0 && setHasManageableTokens) {\n      setHasManageableTokens(true);\n    }\n  }, [tokens, setHasManageableTokens]);\n\n  return tokens.map((token, i) => {\n    const key = `${token.info.symbol}${i}`;\n    const captionLeft = token.info.name.toUpperCase();\n    const icon = <Stx20AvatarIcon />;\n    const symbol = token.info.symbol;\n    const titleLeft = symbol;\n\n    return (\n      <CryptoAssetItem\n        key={key}\n        isToggleMode={assetRightElementVariant === 'toggle'}\n        toggleProps={{\n          captionLeft,\n          icon,\n          titleLeft,\n          assetId: symbol,\n          isCheckedByDefault: isTokenEnabled({ tokenId: symbol, preEnabledTokensIds }),\n        }}\n        itemProps={{\n          availableBalance: token.balance.availableBalance,\n          captionLeft,\n          icon,\n          isPrivate,\n          titleLeft,\n          dataTestId: symbol,\n        }}\n      />\n    );\n  });\n}\n","import { store } from '@app/store';\n\nexport function useHasStacksLedgerKeychain() {\n  return Object.keys(store.getState().ledger.stacks.entities).length > 0;\n}\n","import { useCallback } from 'react';\n\nimport type { Blockchain } from '@leather.io/models';\n\nimport { useHasCurrentBitcoinAccount } from './bitcoin/bitcoin.hooks';\nimport { useHasStacksLedgerKeychain } from './stacks/stacks.hooks';\n\n// TODO: Asset refactor: remove if determined unnecessary\n// ts-unused-exports:disable-next-line\nexport function useCheckLedgerBlockchainAvailable() {\n  const hasBitcoinLedgerKeys = useHasCurrentBitcoinAccount();\n  const hasStacksLedgerKeys = useHasStacksLedgerKeychain();\n\n  return useCallback(\n    (chain: Blockchain) => {\n      if (chain === 'bitcoin') {\n        return hasBitcoinLedgerKeys;\n      }\n      if (chain === 'stacks') {\n        return hasStacksLedgerKeys;\n      }\n      return false;\n    },\n    [hasBitcoinLedgerKeys, hasStacksLedgerKeys]\n  );\n}\n","import { useNavigate } from 'react-router-dom';\n\nimport { styled } from 'leather-styles/jsx';\n\nimport type { Blockchain } from '@leather.io/models';\nimport { Button, LedgerIcon } from '@leather.io/ui';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { capitalize } from '@app/common/utils';\nimport { immediatelyAttemptLedgerConnection } from '@app/features/ledger/hooks/use-when-reattempt-ledger-connection';\n\ninterface ConnectLedgerButtonProps {\n  chain: Blockchain;\n}\nexport function ConnectLedgerButton({ chain }: ConnectLedgerButtonProps) {\n  const navigate = useNavigate();\n\n  const onClick = () => {\n    navigate(`${chain}/connect-your-ledger`, {\n      replace: true,\n      state: {\n        [immediatelyAttemptLedgerConnection]: true,\n        backgroundLocation: { pathname: RouteUrls.Home },\n      },\n    });\n  };\n\n  return (\n    <Button\n      display=\"flex\"\n      alignItems=\"center\"\n      variant=\"outline\"\n      size=\"sm\"\n      gap=\"space.02\"\n      onClick={onClick}\n    >\n      <LedgerIcon />\n      <styled.span textStyle=\"label.02\">Connect&nbsp;{capitalize(chain)}</styled.span>\n    </Button>\n  );\n}\n","import type React from 'react';\n\nimport type { Blockchain, Currency } from '@leather.io/models';\nimport { ItemLayout, Pressable } from '@leather.io/ui';\n\nimport { capitalize } from '@app/common/utils';\nimport { useCheckLedgerBlockchainAvailable } from '@app/store/accounts/blockchain/utils';\n\nimport type { AssetListVariant } from '../asset-list';\nimport { ConnectLedgerButton } from './connect-ledger-asset-button';\n\ninterface ConnectLedgerAssetItemFallbackProps {\n  chain: Blockchain;\n  icon: React.ReactNode;\n  symbol: Currency;\n  variant: AssetListVariant;\n}\nexport function ConnectLedgerAssetItemFallback({\n  chain,\n  icon,\n  symbol,\n  variant,\n}: ConnectLedgerAssetItemFallbackProps) {\n  const checkBlockchainAvailable = useCheckLedgerBlockchainAvailable();\n  if (variant === 'interactive' && !checkBlockchainAvailable(chain)) return null;\n  return (\n    <Pressable my=\"space.02\">\n      <ItemLayout\n        img={icon}\n        captionLeft={symbol}\n        titleLeft={capitalize(chain)}\n        titleRight={<ConnectLedgerButton chain={chain} />}\n      />\n    </Pressable>\n  );\n}\n","import type { CryptoAssetBalance, MarketData, Sip10CryptoAssetInfo } from '@leather.io/models';\n\nimport { convertAssetBalanceToFiat } from '@app/common/asset-utils';\nimport { useManageTokens } from '@app/common/hooks/use-manage-tokens';\nimport { getSafeImageCanonicalUri } from '@app/common/stacks-utils';\nimport { CryptoAssetItem } from '@app/components/crypto-asset-item/crypto-asset-item';\nimport { StacksAssetAvatar } from '@app/components/stacks-asset-avatar';\nimport { useIsPrivateMode } from '@app/store/settings/settings.selectors';\n\nimport type { AssetRightElementVariant } from '../../asset-list';\n\ninterface Sip10TokenAssetItemProps {\n  balance: CryptoAssetBalance;\n  info: Sip10CryptoAssetInfo;\n  isLoading: boolean;\n  marketData: MarketData;\n  assetRightElementVariant?: AssetRightElementVariant;\n  onSelectAsset?(symbol: string, contractId?: string): void;\n  preEnabledTokensIds: string[];\n}\nexport function Sip10TokenAssetItem({\n  balance,\n  info,\n  isLoading,\n  marketData,\n  onSelectAsset,\n  assetRightElementVariant,\n  preEnabledTokensIds,\n}: Sip10TokenAssetItemProps) {\n  const isPrivate = useIsPrivateMode();\n  const fiatBalance = convertAssetBalanceToFiat({\n    balance: balance.availableBalance,\n    marketData,\n  });\n  const { isTokenEnabled } = useManageTokens();\n\n  const { contractId, imageCanonicalUri, name, symbol } = info;\n\n  const icon = (\n    <StacksAssetAvatar\n      color=\"white\"\n      gradientString={contractId}\n      imageCanonicalUri={getSafeImageCanonicalUri(imageCanonicalUri, name)}\n    >\n      {name[0]}\n    </StacksAssetAvatar>\n  );\n\n  const captionLeft = symbol;\n  const titleLeft = name;\n\n  return (\n    <CryptoAssetItem\n      isToggleMode={assetRightElementVariant === 'toggle'}\n      toggleProps={{\n        captionLeft,\n        icon,\n        titleLeft,\n        assetId: contractId,\n        isCheckedByDefault: isTokenEnabled({ tokenId: contractId, preEnabledTokensIds }),\n      }}\n      itemProps={{\n        contractId,\n        availableBalance: balance.availableBalance,\n        captionLeft,\n        icon,\n        isLoading,\n        isPrivate,\n        titleLeft,\n        fiatBalance,\n        dataTestId: contractId,\n        onSelectAsset,\n      }}\n    />\n  );\n}\n","import { type Dispatch, type SetStateAction, useEffect } from 'react';\n\nimport { Stack } from 'leather-styles/jsx';\n\nimport { type Sip10TokenAssetDetails, useAlexCurrencyPriceAsMarketData } from '@leather.io/query';\n\nimport { getPrincipalFromContractId } from '@app/common/utils';\n\nimport type { AssetRightElementVariant } from '../../asset-list';\nimport { Sip10TokenAssetItem } from './sip10-token-asset-item';\n\ninterface Sip10TokenAssetListProps {\n  isLoading: boolean;\n  tokens: Sip10TokenAssetDetails[];\n  assetRightElementVariant?: AssetRightElementVariant;\n  onSelectAsset?(symbol: string, contractId?: string): void;\n  preEnabledTokensIds: string[];\n  setHasManageableTokens?: Dispatch<SetStateAction<boolean>>;\n}\nexport function Sip10TokenAssetList({\n  isLoading,\n  tokens,\n  onSelectAsset,\n  assetRightElementVariant,\n  preEnabledTokensIds,\n  setHasManageableTokens,\n}: Sip10TokenAssetListProps) {\n  const priceAsMarketData = useAlexCurrencyPriceAsMarketData();\n\n  useEffect(() => {\n    if (tokens.length > 0 && setHasManageableTokens) {\n      setHasManageableTokens(true);\n    }\n  }, [tokens, setHasManageableTokens]);\n\n  if (!tokens.length) return null;\n\n  return (\n    <Stack>\n      {tokens.map(token => (\n        <Sip10TokenAssetItem\n          assetRightElementVariant={assetRightElementVariant}\n          balance={token.balance}\n          key={token.info.name + token.info.contractId}\n          info={token.info}\n          isLoading={isLoading}\n          marketData={priceAsMarketData(\n            getPrincipalFromContractId(token.info.contractId),\n            token.balance.availableBalance.symbol\n          )}\n          onSelectAsset={onSelectAsset}\n          preEnabledTokensIds={preEnabledTokensIds}\n        />\n      ))}\n    </Stack>\n  );\n}\n","import { Dispatch, SetStateAction } from 'react';\n\nimport { Stack } from 'leather-styles/jsx';\n\nimport { BtcAvatarIcon, StxAvatarIcon } from '@leather.io/ui';\n\nimport {\n  BitcoinNativeSegwitAccountLoader,\n  BitcoinTaprootAccountLoader,\n} from '@app/components/loaders/bitcoin-account-loader';\nimport { Brc20TokensLoader } from '@app/components/loaders/brc20-tokens-loader';\nimport { BtcAssetItemBalanceLoader } from '@app/components/loaders/btc-balance-loader';\nimport { RunesLoader } from '@app/components/loaders/runes-loader';\nimport { Sip10TokensLoader } from '@app/components/loaders/sip10-tokens-loader';\nimport { Src20TokensLoader } from '@app/components/loaders/src20-tokens-loader';\nimport { CurrentStacksAccountLoader } from '@app/components/loaders/stacks-account-loader';\nimport { Stx20TokensLoader } from '@app/components/loaders/stx20-tokens-loader';\nimport { StxAssetItemBalanceLoader } from '@app/components/loaders/stx-balance-loader';\nimport { Brc20TokenAssetList } from '@app/features/asset-list/bitcoin/brc20-token-asset-list/brc20-token-asset-list';\nimport { RunesAssetList } from '@app/features/asset-list/bitcoin/runes-asset-list/runes-asset-list';\nimport { Src20TokenAssetList } from '@app/features/asset-list/bitcoin/src20-token-asset-list/src20-token-asset-list';\nimport { Stx20TokenAssetList } from '@app/features/asset-list/stacks/stx20-token-asset-list/stx20-token-asset-list';\nimport { StxCryptoAssetItem } from '@app/features/asset-list/stacks/stx-crypo-asset-item/stx-crypto-asset-item';\nimport { useCurrentStacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { useHasLedgerKeys } from '@app/store/ledger/ledger.selectors';\nimport { useIsPrivateMode } from '@app/store/settings/settings.selectors';\n\nimport type { AssetFilter } from '../../common/hooks/use-manage-tokens';\nimport { ConnectLedgerAssetItemFallback } from './_components/connect-ledger-asset-item-fallback';\nimport { BtcCryptoAssetItem } from './bitcoin/btc-crypto-asset-item/btc-crypto-asset-item';\nimport { Sip10TokenAssetList } from './stacks/sip10-token-asset-list/sip10-token-asset-list';\n\nexport type AssetListVariant = 'interactive' | 'read-only';\nexport type AssetRightElementVariant = 'balance' | 'toggle';\n\ninterface AssetListProps {\n  filter?: AssetFilter;\n  variant?: AssetListVariant;\n  assetRightElementVariant?: AssetRightElementVariant;\n  showUnmanageableTokens?: boolean;\n  onSelectAsset?(symbol: string, contractId?: string): void;\n  setHasManageableTokens?: Dispatch<SetStateAction<boolean>>;\n}\n\nexport function AssetList({\n  onSelectAsset,\n  variant = 'read-only',\n  assetRightElementVariant = 'balance',\n  showUnmanageableTokens = true,\n  setHasManageableTokens,\n  filter,\n}: AssetListProps) {\n  const currentAccount = useCurrentStacksAccount();\n  const isLedger = useHasLedgerKeys();\n  const isPrivate = useIsPrivateMode();\n\n  const isReadOnly = variant === 'read-only';\n\n  return (\n    <Stack>\n      {showUnmanageableTokens && (\n        <BitcoinNativeSegwitAccountLoader\n          current\n          fallback={\n            showUnmanageableTokens && (\n              <ConnectLedgerAssetItemFallback\n                chain=\"bitcoin\"\n                icon={<BtcAvatarIcon />}\n                symbol=\"BTC\"\n                variant={variant}\n              />\n            )\n          }\n        >\n          {nativeSegwitAccount => (\n            <BtcAssetItemBalanceLoader address={nativeSegwitAccount.address}>\n              {(balance, isLoading, isLoadingAdditionalData) => (\n                <BtcCryptoAssetItem\n                  balance={balance}\n                  isLoading={isLoading}\n                  onSelectAsset={onSelectAsset}\n                  isLoadingAdditionalData={isLoadingAdditionalData}\n                />\n              )}\n            </BtcAssetItemBalanceLoader>\n          )}\n        </BitcoinNativeSegwitAccountLoader>\n      )}\n\n      <CurrentStacksAccountLoader\n        fallback={\n          (!currentAccount && !isLedger) || !showUnmanageableTokens ? null : (\n            <ConnectLedgerAssetItemFallback\n              chain=\"stacks\"\n              icon={<StxAvatarIcon />}\n              symbol=\"STX\"\n              variant={variant}\n            />\n          )\n        }\n      >\n        {account => (\n          <>\n            {showUnmanageableTokens && (\n              <StxAssetItemBalanceLoader address={account.address}>\n                {(balance, isLoading) => (\n                  <StxCryptoAssetItem\n                    balance={balance}\n                    isLoading={isLoading}\n                    isPrivate={isPrivate}\n                    onSelectAsset={onSelectAsset}\n                  />\n                )}\n              </StxAssetItemBalanceLoader>\n            )}\n            <Sip10TokensLoader address={account.address} assetFilter={filter}>\n              {({ isLoading, tokens, preEnabledTokensIds }) => (\n                <Sip10TokenAssetList\n                  isLoading={isLoading}\n                  tokens={tokens}\n                  onSelectAsset={onSelectAsset}\n                  assetRightElementVariant={assetRightElementVariant}\n                  preEnabledTokensIds={preEnabledTokensIds}\n                  setHasManageableTokens={setHasManageableTokens}\n                />\n              )}\n            </Sip10TokensLoader>\n            {isReadOnly && (\n              <Stx20TokensLoader address={account.address} filter={filter}>\n                {({ tokens, preEnabledTokensIds }) => (\n                  <Stx20TokenAssetList\n                    tokens={tokens}\n                    assetRightElementVariant={assetRightElementVariant}\n                    preEnabledTokensIds={preEnabledTokensIds}\n                    setHasManageableTokens={setHasManageableTokens}\n                  />\n                )}\n              </Stx20TokensLoader>\n            )}\n          </>\n        )}\n      </CurrentStacksAccountLoader>\n\n      <BitcoinNativeSegwitAccountLoader current>\n        {nativeSegwitAccount => (\n          <BitcoinTaprootAccountLoader current>\n            {taprootAccount => (\n              <>\n                {isReadOnly && (\n                  <Brc20TokensLoader filter={filter}>\n                    {({ tokens, preEnabledTokensIds }) => (\n                      <Brc20TokenAssetList\n                        tokens={tokens}\n                        variant={variant}\n                        assetRightElementVariant={assetRightElementVariant}\n                        preEnabledTokensIds={preEnabledTokensIds}\n                        setHasManageableTokens={setHasManageableTokens}\n                      />\n                    )}\n                  </Brc20TokensLoader>\n                )}\n                {isReadOnly && (\n                  <>\n                    <Src20TokensLoader filter={filter} address={nativeSegwitAccount.address}>\n                      {({ tokens, preEnabledTokensIds }) => (\n                        <Src20TokenAssetList\n                          tokens={tokens}\n                          assetRightElementVariant={assetRightElementVariant}\n                          preEnabledTokensIds={preEnabledTokensIds}\n                          setHasManageableTokens={setHasManageableTokens}\n                        />\n                      )}\n                    </Src20TokensLoader>\n                    <RunesLoader\n                      addresses={[nativeSegwitAccount.address, taprootAccount.address]}\n                      filter={filter}\n                    >\n                      {({ tokens, preEnabledTokensIds }) => (\n                        <RunesAssetList\n                          runes={tokens}\n                          assetRightElementVariant={assetRightElementVariant}\n                          preEnabledTokensIds={preEnabledTokensIds}\n                          setHasManageableTokens={setHasManageableTokens}\n                        />\n                      )}\n                    </RunesLoader>\n                  </>\n                )}\n              </>\n            )}\n          </BitcoinTaprootAccountLoader>\n        )}\n      </BitcoinNativeSegwitAccountLoader>\n    </Stack>\n  );\n}\n","import { useState } from 'react';\n\nimport { HomePageSelectors } from '@tests/selectors/home.selectors';\nimport { HStack, Stack, styled } from 'leather-styles/jsx';\n\nimport { Caption, ChevronRightIcon, Pressable, Sheet, SheetHeader } from '@leather.io/ui';\n\nimport { AssetList } from '../asset-list';\n\nexport function ManageTokens() {\n  const [showManageTokens, setShowManageTokens] = useState(false);\n  const [hasManageableTokens, setHasManageableTokens] = useState(false);\n\n  return (\n    <>\n      <Pressable\n        data-testid={HomePageSelectors.ManageTokensBtn}\n        mt=\"space.04\"\n        onClick={() => {\n          setShowManageTokens(!showManageTokens);\n        }}\n      >\n        <HStack alignItems=\"center\" justifyContent=\"space-between\" width=\"100%\">\n          <styled.span textStyle=\"body.02\">Manage Tokens</styled.span>\n          <ChevronRightIcon variant=\"small\" />\n        </HStack>\n      </Pressable>\n\n      <Sheet\n        isShowing={showManageTokens}\n        onClose={() => setShowManageTokens(!showManageTokens)}\n        header={<SheetHeader title=\"Manage tokens\" />}\n      >\n        <Stack gap=\"space.05\" px=\"space.05\" data-testid={HomePageSelectors.ManageTokensAssetsList}>\n          <AssetList\n            assetRightElementVariant=\"toggle\"\n            filter=\"all\"\n            showUnmanageableTokens={false}\n            setHasManageableTokens={setHasManageableTokens}\n          />\n\n          {!hasManageableTokens && (\n            <Stack h=\"100%\" justify=\"center\" align=\"center\">\n              <Caption>No tokens found</Caption>\n            </Stack>\n          )}\n        </Stack>\n      </Sheet>\n    </>\n  );\n}\n","import type { P2Ret, P2TROut } from '@scure/btc-signer/payment';\n\nimport { ZERO_INDEX } from '@shared/constants';\n\nimport type { Signer } from '@app/store/accounts/blockchain/bitcoin/bitcoin-signer';\nimport { useCurrentAccountNativeSegwitSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useCurrentAccountTaprootSigner } from '@app/store/accounts/blockchain/bitcoin/taproot-account.hooks';\n\ninterface CurrentBitcoinSignerLoaderProps {\n  children(data: { nativeSegwit: Signer<P2Ret>; taproot: Signer<P2TROut> }): React.ReactNode;\n}\nexport function CurrentBitcoinSignerLoader({ children }: CurrentBitcoinSignerLoaderProps) {\n  const nativeSegwit = useCurrentAccountNativeSegwitSigner()?.(ZERO_INDEX);\n  const taproot = useCurrentAccountTaprootSigner()?.(ZERO_INDEX);\n  if (!taproot || !nativeSegwit) return null;\n  return children({ nativeSegwit, taproot });\n}\n","export enum SendCryptoAssetSelectors {\n  AmountFieldInput = 'amount-field-input',\n  AmountFieldInputErrorLabel = 'amount-field-input-error-label',\n  ConfirmationDetails = 'confirmation-details',\n  ConfirmSendTxBtn = 'confirm-send-tx-btn',\n  ConfirmationDetailsAmountAndSymbol = 'confirmation-details-amount-and-symbol',\n  ConfirmationDetailsRecipient = 'confirmation-details-recipient',\n  ConfirmationDetailsAssetValue = 'confirmation-details-asset-value',\n  ConfirmationDetailsFee = 'confirmation-details-fee',\n  ConfirmationDetailsMemo = 'confirmation-details-memo',\n  ConfirmationDetailText = 'confirmation-detail-text',\n  FormFieldInputErrorLabel = 'form-field-input-error-label',\n  MemoFieldInput = 'memo-field-input',\n  PreviewSendTxBtn = 'preview-send-tx-btn',\n  RecipientChooseAccountButton = 'recipient-choose-account-button',\n  RecipientSelectRecipientTypeDropdown = 'recipient-select-field-dropdown-button',\n  RecipientSelectFieldAddress = 'recipient-select-field-address',\n  RecipientSelectFieldBnsName = 'recipient-select-field-bnsName',\n  RecipientFieldInput = 'recipient-field-input',\n  RecipientBnsAddressLabel = 'recipient-bns-address-label',\n  RecipientBnsAddressCopyToClipboard = 'recipient-bns-address-copy-to-clipboard',\n  SendForm = 'send-form',\n  SendMaxBtn = 'send-max-btn',\n\n  SendPageReady = 'send-page-ready',\n\n  // stx high fee warning dialog\n  HighFeeWarningSheet = 'high-fee-warning-sheet',\n  HighFeeWarningSheetSubmit = 'high-fee-warning-sheet-submit',\n\n  // inscription\n  Inscription = 'inscription',\n  InscriptionSendButton = 'inscription-send-button',\n}\n","import { ReactNode } from 'react';\n\nimport { Box } from 'leather-styles/jsx';\n\nimport { ExternalLinkIcon, IconButton } from '@leather.io/ui';\n\ninterface CollectibleHoverProps {\n  collectibleTypeIcon?: ReactNode;\n  isHovered: boolean;\n  onClickCallToAction?(): void;\n}\nexport function CollectibleHover({\n  collectibleTypeIcon,\n  isHovered,\n  onClickCallToAction,\n}: CollectibleHoverProps) {\n  return (\n    <Box\n      _focusWithin={{ opacity: 'inherit' }}\n      display=\"flex\"\n      height=\"100%\"\n      left=\"0px\"\n      opacity=\"0\"\n      overflow=\"hidden\"\n      position=\"absolute\"\n      style={{ opacity: isHovered ? 'inherit' : '0' }}\n      top=\"0px\"\n      width=\"100%\"\n    >\n      <Box\n        bottom=\"space.03\"\n        height=\"30px\"\n        left=\"space.03\"\n        position=\"absolute\"\n        width=\"30px\"\n        zIndex={999}\n      >\n        {collectibleTypeIcon}\n      </Box>\n      {onClickCallToAction && (\n        <Box bg=\"ink.background-primary\" position=\"absolute\" right=\"12px\" top=\"12px\" zIndex={999}>\n          <IconButton\n            _focus={{ outline: 'focus' }}\n            _hover={{ bg: 'ink.component-background-hover' }}\n            bg=\"ink.background-primary\"\n            color=\"ink.action-primary-default\"\n            icon={<ExternalLinkIcon />}\n            onClick={e => {\n              e.stopPropagation();\n              onClickCallToAction();\n            }}\n          />\n        </Box>\n      )}\n    </Box>\n  );\n}\n","import { ReactNode } from 'react';\n\nimport { SendCryptoAssetSelectors } from '@tests/selectors/send.selectors';\nimport { Box, Stack, styled } from 'leather-styles/jsx';\nimport { token } from 'leather-styles/tokens';\nimport { useHover } from 'use-events';\n\nimport { CollectibleHover } from './collectible-hover';\n\nexport interface CollectibleItemLayoutProps {\n  children: ReactNode;\n  hoverText?: string;\n  onClickCallToAction?(): void;\n  onClickLayout?(): void;\n  onClickSend?(): void;\n  collectibleTypeIcon?: ReactNode;\n  showBorder?: boolean;\n  subtitle: string;\n  title: string;\n}\nexport function CollectibleItemLayout({\n  children,\n  onClickCallToAction,\n  onClickSend,\n  onClickLayout,\n  collectibleTypeIcon,\n  showBorder,\n  subtitle,\n  title,\n  ...rest\n}: CollectibleItemLayoutProps) {\n  const [isHovered, bind] = useHover();\n\n  return (\n    <Box\n      _focus={{\n        outline: onClickLayout ? 'focus' : 'unset',\n        outlineOffset: onClickLayout ? '-4px' : 'unset',\n      }}\n      _hover={{ bg: 'ink.background-secondary' }}\n      borderRadius=\"xs\"\n      cursor={onClickLayout ? 'pointer' : 'default'}\n      onClick={onClickLayout}\n      p=\"space.01\"\n      textAlign=\"inherit\"\n      width=\"100%\"\n      {...rest}\n      {...bind}\n    >\n      <Box height=\"0px\" position=\"relative\" pb=\"100%\">\n        <CollectibleHover\n          onClickCallToAction={onClickCallToAction}\n          collectibleTypeIcon={collectibleTypeIcon}\n          isHovered={isHovered}\n        />\n        <Box\n          alignItems=\"center\"\n          borderRadius=\"xs\"\n          display=\"flex\"\n          height=\"100%\"\n          justifyContent=\"center\"\n          left=\"0px\"\n          overflow=\"hidden\"\n          position=\"absolute\"\n          style={{\n            backgroundColor: showBorder\n              ? token('colors.ink.background-primary')\n              : token('colors.ink.component-background-default'),\n            border: showBorder ? token('borders.dashed') : 'unset',\n          }}\n          top=\"0px\"\n          width=\"100%\"\n        >\n          {children}\n        </Box>\n      </Box>\n      <Stack gap=\"space.01\" mt=\"space.04\" pl=\"space.02\" textAlign=\"left\">\n        <styled.span\n          overflow=\"hidden\"\n          textOverflow=\"ellipsis\"\n          textStyle=\"label.01\"\n          whiteSpace=\"nowrap\"\n          width=\"95%\"\n        >\n          {title}\n        </styled.span>\n        <styled.span color=\"ink.text-subdued\" textStyle=\"caption.01\">\n          {subtitle}\n        </styled.span>\n      </Stack>\n      {onClickSend ? (\n        <Box p=\"space.02\">\n          <styled.button\n            data-testid={SendCryptoAssetSelectors.InscriptionSendButton}\n            _focus={{ clipPath: 'none', outline: 'focus' }}\n            _hover={{ bg: 'ink.background-primary' }}\n            bg=\"ink.background-primary\"\n            borderRadius=\"xs\"\n            clipPath={isHovered ? 'none' : 'circle(0%)'}\n            fontWeight={500}\n            onClick={e => {\n              e.stopPropagation();\n              onClickSend();\n            }}\n            px=\"space.03\"\n            py=\"space.02\"\n            textStyle=\"caption.01\"\n            type=\"button\"\n          >\n            Send\n          </styled.button>\n        </Box>\n      ) : (\n        <Box p=\"space.01\" />\n      )}\n    </Box>\n  );\n}\n","import { useLocation, useNavigate } from 'react-router-dom';\n\nimport { PlusIcon } from '@leather.io/ui';\n\nimport { RouteUrls } from '@shared/route-urls';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { CollectibleItemLayout } from './collectible-item.layout';\n\nexport function AddCollectible() {\n  const navigate = useNavigate();\n\n  const location = useLocation();\n\n  return (\n    <CollectibleItemLayout\n      onClickLayout={() => {\n        void analytics.track('select_add_new_collectible');\n        navigate(`${RouteUrls.Home}${RouteUrls.ReceiveCollectible}`, {\n          state: {\n            backgroundLocation: location,\n          },\n        });\n      }}\n      showBorder\n      subtitle=\"Collectible\"\n      title=\"Add new\"\n    >\n      <PlusIcon height={36} width={36} />\n    </CollectibleItemLayout>\n  );\n}\n","import { Flex } from 'leather-styles/jsx';\n\nimport { HasChildren } from '@app/common/has-children';\n\nexport function CollectiblePlaceholderLayout({ children }: HasChildren) {\n  return (\n    <Flex\n      alignItems=\"center\"\n      bg=\"ink.component-background-default\"\n      flexDirection=\"column\"\n      height=\"100%\"\n      justifyContent=\"center\"\n      textAlign=\"center\"\n      width=\"100%\"\n    >\n      {children}\n    </Flex>\n  );\n}\n","import { ReactNode } from 'react';\n\nimport { HeadsetIcon } from '@leather.io/ui';\n\nimport { CollectibleItemLayout, CollectibleItemLayoutProps } from '../collectible-item.layout';\nimport { CollectiblePlaceholderLayout } from './collectible-placeholder.layout';\n\ninterface CollectibleAudioProps extends Omit<CollectibleItemLayoutProps, 'children'> {\n  icon: ReactNode;\n}\nexport function CollectibleAudio({ icon, ...props }: CollectibleAudioProps) {\n  return (\n    <CollectibleItemLayout collectibleTypeIcon={icon} {...props}>\n      <CollectiblePlaceholderLayout>\n        <HeadsetIcon height={36} width={36} />\n      </CollectiblePlaceholderLayout>\n    </CollectibleItemLayout>\n  );\n}\n","//\n//  __          __     _____  _   _ _____ _   _  _____\n//  \\ \\        / /\\   |  __ \\| \\ | |_   _| \\ | |/ ____|\n//   \\ \\  /\\  / /  \\  | |__) |  \\| | | | |  \\| | |  __\n//    \\ \\/  \\/ / /\\ \\ |  _  /| . ` | | | | . ` | | |_ |\n//     \\  /\\  / ____ \\| | \\ \\| |\\  |_| |_| |\\  | |__| |\n//      \\/  \\/_/    \\_\\_|  \\_\\_| \\_|_____|_| \\_|\\_____|\n//\n// The purpose of this iframe is to wrap content from external sources,\n// primarily for use with inscriptions. Iframes are dangerous and we\n// need to be very careful with our use of them.\n//\n// Below, we use the sandbox attribute to limit what they can do, as well as\n// disabling any interaction with pointer events and user selection.\nimport { HTMLStyledProps, styled } from 'leather-styles/jsx';\n\ninterface IframeProps extends HTMLStyledProps<'iframe'> {\n  onError(): void;\n  src: string;\n}\nexport function Iframe({ onError, src, ...props }: IframeProps) {\n  return (\n    <styled.iframe\n      loading=\"lazy\"\n      onError={onError}\n      overflow=\"hidden\"\n      pointerEvents=\"none\"\n      sandbox=\"allow-scripts\"\n      src={src}\n      userSelect=\"none\"\n      {...props}\n    />\n  );\n}\n","import { styled } from 'leather-styles/jsx';\n\nimport { Eye1ClosedIcon } from '@leather.io/ui';\n\nimport { CollectiblePlaceholderLayout } from './_collectible-types/collectible-placeholder.layout';\n\nexport function ImageUnavailable() {\n  return (\n    <CollectiblePlaceholderLayout>\n      <Eye1ClosedIcon />\n      <styled.span pt=\"space.02\" px=\"space.04\" textStyle=\"label.03\">\n        Image currently unavailable\n      </styled.span>\n    </CollectiblePlaceholderLayout>\n  );\n}\n","import { ReactNode, useState } from 'react';\n\nimport { Iframe } from '@app/ui/components/iframe';\n\nimport { CollectibleItemLayout, CollectibleItemLayoutProps } from '../collectible-item.layout';\nimport { ImageUnavailable } from '../image-unavailable';\n\ninterface CollectibleIframeProps extends Omit<CollectibleItemLayoutProps, 'children'> {\n  icon: ReactNode;\n  src: string;\n}\nexport function CollectibleIframe({ icon, src, ...props }: CollectibleIframeProps) {\n  const [isError, setIsError] = useState(false);\n\n  if (isError)\n    return (\n      <CollectibleItemLayout collectibleTypeIcon={icon} {...props}>\n        <ImageUnavailable />\n      </CollectibleItemLayout>\n    );\n\n  return (\n    <CollectibleItemLayout collectibleTypeIcon={icon} {...props}>\n      <Iframe\n        aspectRatio=\"1 / 1\"\n        height=\"100%\"\n        objectFit=\"cover\"\n        onError={() => setIsError(true)}\n        src={src}\n        width=\"100%\"\n        zIndex={99}\n      />\n    </CollectibleItemLayout>\n  );\n}\n","import { ReactNode, useState } from 'react';\n\nimport { CollectibleItemLayout, CollectibleItemLayoutProps } from '../collectible-item.layout';\nimport { ImageUnavailable } from '../image-unavailable';\n\ninterface CollectibleImageProps extends Omit<CollectibleItemLayoutProps, 'children'> {\n  alt?: string;\n  icon: ReactNode;\n  src: string;\n}\nexport function CollectibleImage(props: CollectibleImageProps) {\n  const { alt, icon, src, ...rest } = props;\n  const [isError, setIsError] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [width, setWidth] = useState(0);\n\n  if (isError)\n    return (\n      <CollectibleItemLayout collectibleTypeIcon={icon} {...rest}>\n        <ImageUnavailable />\n      </CollectibleItemLayout>\n    );\n\n  return (\n    <CollectibleItemLayout collectibleTypeIcon={icon} {...rest}>\n      <img\n        alt={alt}\n        onError={() => setIsError(true)}\n        loading=\"lazy\"\n        onLoad={event => {\n          const target = event.target as HTMLImageElement;\n          setWidth(target.naturalWidth);\n          setIsLoading(false);\n        }}\n        src={src}\n        style={{\n          width: '100%',\n          height: '100%',\n          aspectRatio: '1 / 1',\n          objectFit: 'cover',\n          // display: 'none' breaks onLoad event firing\n          opacity: isLoading ? '0' : '1',\n          imageRendering: width <= 40 ? 'pixelated' : 'auto',\n        }}\n      />\n    </CollectibleItemLayout>\n  );\n}\n","import { Box } from 'leather-styles/jsx';\n\nimport { CollectibleItemLayout, CollectibleItemLayoutProps } from '../collectible-item.layout';\n\ninterface CollectibleOtherProps extends Omit<CollectibleItemLayoutProps, 'children'> {\n  children: React.JSX.Element;\n}\nexport function CollectibleOther({ children, ...props }: CollectibleOtherProps) {\n  return (\n    <CollectibleItemLayout {...props}>\n      <Box\n        alignItems=\"center\"\n        bg=\"black\"\n        display=\"flex\"\n        height=\"100%\"\n        justifyContent=\"center\"\n        width=\"100%\"\n      >\n        {children}\n      </Box>\n    </CollectibleItemLayout>\n  );\n}\n","import { bytesToHex } from '@stacks/common';\nimport { css } from 'leather-styles/css';\nimport { Box } from 'leather-styles/jsx';\n\nimport { isBigInt, isTypedArray } from '@leather.io/utils';\n\nexport function parseJson(content: string) {\n  try {\n    return JSON.stringify(JSON.parse(content), null, 2);\n  } catch (e) {\n    return content;\n  }\n}\n\nfunction parseJsonReadable(value: any) {\n  if (isBigInt(value)) return value.toString();\n  if (isTypedArray(value)) return bytesToHex(value);\n  return value;\n}\n\nexport function Json(value: any) {\n  return (\n    <Box\n      className={css({\n        '& pre': {\n          overflowX: 'auto',\n          whiteSpace: 'pre-wrap',\n          wordWrap: 'break-word',\n        },\n      })}\n      textStyle=\"caption.01\"\n      mt=\"space.05\"\n    >\n      <pre>{JSON.stringify(value, (_, v) => parseJsonReadable(v), 2)}</pre>\n    </Box>\n  );\n}\n","import { sanitize } from 'dompurify';\nimport { Box } from 'leather-styles/jsx';\n\ninterface CollectibleTextLayoutProps {\n  children: string;\n}\nexport function CollectibleTextLayout({ children }: CollectibleTextLayoutProps) {\n  return (\n    <Box\n      _after={{\n        content: '\"\"',\n        position: 'absolute',\n        bottom: '0',\n        left: '0',\n        height: '30px',\n        width: '100%',\n        backgroundImage: 'linear-gradient(rgba(0,0,0,0), rgba(0,0,0,1))',\n      }}\n      bg=\"black\"\n      color=\"white\"\n      height=\"100%\"\n      p=\"20px\"\n      position=\"relative\"\n      overflow=\"hidden\"\n      textAlign=\"left\"\n      width=\"100%\"\n    >\n      <pre>{sanitize(children)}</pre>\n    </Box>\n  );\n}\n","import { CollectibleItemLayout, CollectibleItemLayoutProps } from '../collectible-item.layout';\nimport { CollectibleTextLayout } from './collectible-text.layout';\n\ninterface CollectibleTextProps extends Omit<CollectibleItemLayoutProps, 'children'> {\n  icon: React.JSX.Element;\n  content: string;\n}\nexport function CollectibleText(props: CollectibleTextProps) {\n  const { content, icon, ...rest } = props;\n  return (\n    <CollectibleItemLayout collectibleTypeIcon={icon} {...rest}>\n      <CollectibleTextLayout>{content}</CollectibleTextLayout>\n    </CollectibleItemLayout>\n  );\n}\n","import { SendCryptoAssetSelectors } from '@tests/selectors/send.selectors';\n\nimport { useGetInscriptionTextContentQuery } from '@leather.io/query';\nimport { OrdinalAvatarIcon } from '@leather.io/ui';\n\nimport { parseJson } from '@app/components/json';\n\nimport { CollectibleText } from '../_collectible-types/collectible-text';\n\ninterface InscriptionTextProps {\n  contentSrc: string;\n  inscriptionNumber: number;\n  onClickCallToAction(): void;\n  onClickSend(): void;\n}\nexport function InscriptionText({\n  contentSrc,\n  inscriptionNumber,\n  onClickCallToAction,\n  onClickSend,\n}: InscriptionTextProps) {\n  const query = useGetInscriptionTextContentQuery(contentSrc);\n\n  if (query.isLoading || query.isError) return null;\n\n  return (\n    <CollectibleText\n      data-testid={SendCryptoAssetSelectors.Inscription}\n      icon={<OrdinalAvatarIcon size=\"lg\" />}\n      key={inscriptionNumber}\n      onClickCallToAction={onClickCallToAction}\n      onClickSend={onClickSend}\n      content={parseJson(query.data)}\n      subtitle=\"Ordinal inscription\"\n      title={`# ${inscriptionNumber}`}\n    />\n  );\n}\n","import { useLocation, useNavigate } from 'react-router-dom';\n\nimport { type Inscription } from '@leather.io/models';\nimport { OrdinalAvatarIcon } from '@leather.io/ui';\n\nimport { ORD_IO_URL } from '@shared/constants';\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { openInNewTab } from '@app/common/utils/open-in-new-tab';\n\nimport { CollectibleAudio } from '../_collectible-types/collectible-audio';\nimport { CollectibleIframe } from '../_collectible-types/collectible-iframe';\nimport { CollectibleImage } from '../_collectible-types/collectible-image';\nimport { CollectibleOther } from '../_collectible-types/collectible-other';\nimport { InscriptionText } from './inscription-text';\n\ninterface InscriptionProps {\n  inscription: Inscription;\n}\n\nfunction openInscriptionUrl(num: number) {\n  return openInNewTab(`${ORD_IO_URL}/${num}`);\n}\n\nexport function Inscription({ inscription }: InscriptionProps) {\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  function openSendInscriptionModal() {\n    navigate(RouteUrls.SendOrdinalInscription, {\n      state: { inscription, backgroundLocation: location },\n    });\n  }\n\n  switch (inscription.mimeType) {\n    case 'audio':\n      return (\n        <CollectibleAudio\n          icon={<OrdinalAvatarIcon size=\"lg\" />}\n          key={inscription.title}\n          onClickCallToAction={() => openInscriptionUrl(inscription.number)}\n          onClickSend={() => openSendInscriptionModal()}\n          subtitle=\"Ordinal inscription\"\n          title={`# ${inscription.number}`}\n        />\n      );\n    case 'html':\n    case 'svg':\n    case 'video':\n    case 'gltf':\n      return (\n        <CollectibleIframe\n          icon={<OrdinalAvatarIcon size=\"lg\" />}\n          key={inscription.title}\n          onClickCallToAction={() => openInscriptionUrl(inscription.number)}\n          onClickSend={() => openSendInscriptionModal()}\n          src={inscription.src}\n          subtitle=\"Ordinal inscription\"\n          title={`# ${inscription.number}`}\n        />\n      );\n    case 'image':\n      return (\n        <CollectibleImage\n          icon={<OrdinalAvatarIcon size=\"lg\" />}\n          key={inscription.title}\n          onClickCallToAction={() => openInscriptionUrl(inscription.number)}\n          onClickSend={() => openSendInscriptionModal()}\n          src={inscription.src}\n          subtitle=\"Ordinal inscription\"\n          title={`# ${inscription.number}`}\n        />\n      );\n    case 'text':\n      return (\n        <InscriptionText\n          contentSrc={inscription.src}\n          inscriptionNumber={inscription.number}\n          onClickCallToAction={() => openInscriptionUrl(inscription.number)}\n          onClickSend={() => openSendInscriptionModal()}\n        />\n      );\n    case 'other':\n      return (\n        <CollectibleOther\n          key={inscription.title}\n          onClickCallToAction={() => openInscriptionUrl(inscription.number)}\n          onClickSend={() => openSendInscriptionModal()}\n          subtitle=\"Ordinal inscription\"\n          title={`# ${inscription.number}`}\n        >\n          <OrdinalAvatarIcon size=\"lg\" />\n        </CollectibleOther>\n      );\n    default:\n      return null;\n  }\n}\n","import { useEffect } from 'react';\nimport { useInView } from 'react-intersection-observer';\n\nimport { Box } from 'leather-styles/jsx';\n\nimport { useInscriptions } from '@leather.io/query';\n\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useCurrentAccountNativeSegwitIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useCurrentTaprootAccount } from '@app/store/accounts/blockchain/bitcoin/taproot-account.hooks';\n\nimport { Inscription } from './inscription';\n\ninterface OrdinalsProps {\n  setIsLoadingMore(isLoading: boolean): void;\n}\nexport function Ordinals({ setIsLoadingMore }: OrdinalsProps) {\n  const account = useCurrentTaprootAccount();\n  const nativeSegwitSigner = useCurrentAccountNativeSegwitIndexZeroSigner();\n\n  const result = useInscriptions({\n    taprootKeychain: account?.keychain,\n    nativeSegwitAddress: nativeSegwitSigner.address,\n  });\n\n  const { ref: intersectionSentinel, inView } = useInView({\n    rootMargin: '0% 0% 20% 0%',\n  });\n\n  useEffect(() => {\n    async function fetchNextPage() {\n      if (!result.hasNextPage || result.isLoading || result.isFetchingNextPage) return;\n      try {\n        setIsLoadingMore(true);\n        await result.fetchNextPage();\n      } catch (e) {\n        // TO-DO: handle error\n        // console.log(e);\n      } finally {\n        setIsLoadingMore(false);\n      }\n    }\n    if (inView) {\n      void fetchNextPage();\n    }\n  }, [inView, result, setIsLoadingMore]);\n\n  useEffect(() => {\n    const inscriptionsLength = result.inscriptions.length || 0;\n    if (inscriptionsLength > 0) {\n      void analytics.track('view_collectibles', {\n        ordinals_count: inscriptionsLength,\n      });\n      void analytics.identify({ ordinals_count: inscriptionsLength });\n    }\n  }, [result.inscriptions.length]);\n\n  if (!result.inscriptions) return null;\n\n  return (\n    <>\n      {result.inscriptions.map(inscription => (\n        <Inscription inscription={inscription} key={inscription.id} />\n      ))}\n      <Box ref={intersectionSentinel} />\n    </>\n  );\n}\n","export default __webpack_public_path__ + \"3afaebef13ed5552e7cf03d6274cfa59.png\";","import StampsAvatarIconSrc from '@assets/avatars/stamps-avatar-icon.png';\n\nimport { Avatar, type AvatarProps } from '@leather.io/ui';\n\nconst fallback = 'ST';\n\nexport function StampsAvatarIcon(props: AvatarProps) {\n  return (\n    <Avatar.Root {...props}>\n      <Avatar.Image alt={fallback} src={StampsAvatarIconSrc} />\n      <Avatar.Fallback>{fallback}</Avatar.Fallback>\n    </Avatar.Root>\n  );\n}\n","import { Stamp as BitcoinStamp } from '@leather.io/query';\n\nimport { openInNewTab } from '@app/common/utils/open-in-new-tab';\nimport { StampsAvatarIcon } from '@app/ui/components/avatar/stamps-avatar-icon';\n\nimport { CollectibleImage } from '../_collectible-types/collectible-image';\n\nconst stampChainAssetUrl = 'https://stampchain.io/asset.html?stampNumber=';\n\nexport function Stamp(props: { bitcoinStamp: BitcoinStamp }) {\n  const { bitcoinStamp } = props;\n\n  return (\n    <CollectibleImage\n      icon={<StampsAvatarIcon size=\"lg\" />}\n      key={bitcoinStamp.stamp}\n      onClickCallToAction={() => openInNewTab(`${stampChainAssetUrl}${bitcoinStamp.stamp}`)}\n      src={bitcoinStamp.stamp_url}\n      subtitle=\"Bitcoin Stamp\"\n      title={`# ${bitcoinStamp.stamp}`}\n    />\n  );\n}\n","import { useEffect } from 'react';\n\nimport { useStampsByAddress } from '@leather.io/query';\n\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useCurrentAccountNativeSegwitAddressIndexZero } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\n\nimport { Stamp } from './stamp';\n\nexport function Stamps() {\n  const currentAccountBtcAddress = useCurrentAccountNativeSegwitAddressIndexZero();\n  const { data: stamps = [] } = useStampsByAddress(currentAccountBtcAddress);\n\n  useEffect(() => {\n    if (!stamps.length) return;\n    if (stamps.length > 0) {\n      void analytics.track('view_collectibles', {\n        stamps_count: stamps.length,\n      });\n      void analytics.identify({ stamps_count: stamps.length });\n    }\n  }, [stamps]);\n\n  if (!stamps.length) return null;\n\n  return stamps.map(s => <Stamp bitcoinStamp={s} key={s.tx_hash} />);\n}\n","import { Flex, Grid, HStack, styled } from 'leather-styles/jsx';\nimport { token } from 'leather-styles/tokens';\n\nimport { ArrowRotateRightLeftIcon, Spinner } from '@leather.io/ui';\n\nimport { LoadingSpinner } from '@app/components/loading-spinner';\n\ninterface CollectiblesLayoutProps {\n  title: string;\n  isLoading: boolean;\n  isLoadingMore?: boolean;\n  onRefresh(): void;\n  subHeader?: React.ReactNode;\n  children: React.ReactNode;\n}\nexport function CollectiblesLayout({\n  title,\n  isLoading,\n  onRefresh,\n  subHeader,\n  isLoadingMore,\n  children,\n}: CollectiblesLayoutProps) {\n  return (\n    <>\n      <Flex flexDirection=\"row\" justifyContent=\"space-between\" alignItems=\"center\" flex={1}>\n        <HStack columnGap=\"space.02\">\n          <styled.span textStyle=\"label.01\" paddingY=\"space.05\">\n            {title}\n          </styled.span>\n          {isLoading ? (\n            <Spinner color={token('colors.ink.text-primary')} opacity={0.5} />\n          ) : (\n            <ArrowRotateRightLeftIcon\n              cursor=\"pointer\"\n              onClick={() => onRefresh()}\n              variant=\"small\"\n            />\n          )}\n        </HStack>\n        {subHeader}\n      </Flex>\n      <Grid\n        gridTemplateColumns={{\n          base: 'repeat(auto-fill, minmax(156px, 1fr))',\n          md: 'repeat(auto-fill, minmax(184px, 1fr))',\n        }}\n      >\n        {children}\n      </Grid>\n      {isLoadingMore && <LoadingSpinner />}\n    </>\n  );\n}\n","export default __webpack_public_path__ + \"87928dc166bea43c53bcca551e2d11b7.png\";","import StacksNftBns from '@assets/images/stacks-nft-bns.png';\n\nimport { StxAvatarIcon } from '@leather.io/ui';\n\nimport { CollectibleItemLayout } from '../collectible-item.layout';\n\nexport function StacksBnsName(props: { bnsName: string }) {\n  const { bnsName } = props;\n\n  return (\n    <CollectibleItemLayout\n      collectibleTypeIcon={<StxAvatarIcon size=\"lg\" />}\n      subtitle=\"Bitcoin Naming System\"\n      title={bnsName}\n    >\n      <img alt=\"nft image\" src={StacksNftBns} width=\"100px\" />\n    </CollectibleItemLayout>\n  );\n}\n","import { Metadata as StacksNftMetadata } from '@hirosystems/token-metadata-api-client';\n\nimport { StxAvatarIcon } from '@leather.io/ui';\n\nimport { isValidUrl } from '@shared/utils/validate-url';\n\nimport { CollectibleImage } from '../_collectible-types/collectible-image';\nimport { ImageUnavailable } from '../image-unavailable';\n\ninterface StacksNonFungibleTokensProps {\n  metadata: StacksNftMetadata;\n}\nexport function StacksNonFungibleTokens({ metadata }: StacksNonFungibleTokensProps) {\n  const isImageAvailable = metadata.cached_image && isValidUrl(metadata.cached_image);\n\n  if (!isImageAvailable) return <ImageUnavailable />;\n\n  return (\n    <CollectibleImage\n      alt=\"stacks nft\"\n      icon={<StxAvatarIcon size=\"lg\" />}\n      src={metadata.cached_image ?? ''}\n      subtitle=\"Stacks NFT\"\n      title={metadata.name ?? ''}\n    />\n  );\n}\n","import { useEffect } from 'react';\n\nimport {\n  useGetBnsNamesOwnedByAddressQuery,\n  useStacksNonFungibleTokensMetadata,\n} from '@leather.io/query';\n\nimport { analytics } from '@shared/utils/analytics';\n\nimport { parseIfValidPunycode } from '@app/common/utils';\n\nimport { StacksBnsName } from './stacks-bns-name';\nimport { StacksNonFungibleTokens } from './stacks-non-fungible-tokens';\n\ninterface StacksCryptoAssetsProps {\n  address: string;\n}\nexport function StacksCryptoAssets({ address }: StacksCryptoAssetsProps) {\n  const names = useGetBnsNamesOwnedByAddressQuery(address).data?.names;\n\n  const stacksNftsMetadataResp = useStacksNonFungibleTokensMetadata(address);\n\n  useEffect(() => {\n    if (stacksNftsMetadataResp.length > 0) {\n      void analytics.track('view_collectibles', {\n        stacks_nfts_count: stacksNftsMetadataResp.length,\n      });\n      void analytics.identify({ stacks_nfts_count: stacksNftsMetadataResp.length });\n    }\n  }, [stacksNftsMetadataResp.length]);\n\n  return (\n    <>\n      {(names ?? []).map(name => (\n        <StacksBnsName bnsName={parseIfValidPunycode(name)} key={name} />\n      ))}\n      {stacksNftsMetadataResp.map((nft, i) => {\n        if (!nft || !nft.metadata) return null;\n        return <StacksNonFungibleTokens key={i} metadata={nft.metadata} />;\n      })}\n    </>\n  );\n}\n","import { useCurrentTaprootAccountBalance } from '@leather.io/query';\nimport { Link } from '@leather.io/ui';\nimport { formatMoney } from '@leather.io/utils';\n\nimport { useRecoverUninscribedTaprootUtxosFeatureEnabled } from '@app/query/common/remote-config/remote-config.query';\nimport { useCurrentAccountIndex } from '@app/store/accounts/account';\nimport { useCurrentAccountNativeSegwitIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useCurrentTaprootAccount } from '@app/store/accounts/blockchain/bitcoin/taproot-account.hooks';\nimport { BasicTooltip } from '@app/ui/components/tooltip/basic-tooltip';\n\nconst taprootSpendNotSupportedYetMsg = `\n  Total amount of BTC in your Taproot account addresses. Click to\n  retrieve these funds.\n`;\n\ninterface TaprootBalanceDisplayerProps {\n  onSelectRetrieveBalance(): void;\n}\nexport function TaprootBalanceDisplayer({ onSelectRetrieveBalance }: TaprootBalanceDisplayerProps) {\n  const currentAccountIndex = useCurrentAccountIndex();\n  const account = useCurrentTaprootAccount();\n  const nativeSegwitSigner = useCurrentAccountNativeSegwitIndexZeroSigner();\n\n  const balance = useCurrentTaprootAccountBalance({\n    currentAccountIndex,\n    taprootKeychain: account?.keychain,\n    nativeSegwitAddress: nativeSegwitSigner.address,\n  });\n  const isRecoverFeatureEnabled = useRecoverUninscribedTaprootUtxosFeatureEnabled();\n  if (!isRecoverFeatureEnabled) return null;\n  if (balance.amount.isLessThanOrEqualTo(0)) return null;\n  return (\n    <BasicTooltip label={taprootSpendNotSupportedYetMsg} asChild>\n      <Link onClick={() => onSelectRetrieveBalance()} textStyle=\"caption.01\" variant=\"text\">\n        {formatMoney(balance)}\n      </Link>\n    </BasicTooltip>\n  );\n}\n","import { useIsFetching } from '@tanstack/react-query';\n\nimport { BitcoinQueryPrefixes, StacksQueryPrefixes } from '@leather.io/query';\nimport { sumNumbers } from '@leather.io/utils';\n\nfunction areAnyQueriesFetching(...args: number[]) {\n  return sumNumbers(args).toNumber() > 0;\n}\n\nexport function useIsFetchingCollectiblesRelatedQuery() {\n  // Ordinal inscriptions\n  const n1 = useIsFetching({ queryKey: [BitcoinQueryPrefixes.GetTaprootUtxosByAddress] });\n  const n2 = useIsFetching({ queryKey: [BitcoinQueryPrefixes.GetInscriptionsByAddress] });\n  const n3 = useIsFetching({ queryKey: [BitcoinQueryPrefixes.GetInscription] });\n  const n4 = useIsFetching({ queryKey: [BitcoinQueryPrefixes.GetInscriptionTextContent] });\n  const n5 = useIsFetching({ queryKey: [BitcoinQueryPrefixes.GetInscriptions] });\n\n  // BNS\n  const n6 = useIsFetching({ queryKey: [StacksQueryPrefixes.GetBnsNamesByAddress] });\n\n  // NFTs\n  const n7 = useIsFetching({ queryKey: [StacksQueryPrefixes.GetNftMetadata] });\n\n  return areAnyQueriesFetching(n1, n2, n3, n4, n5, n6, n7);\n}\n","import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { useQueryClient } from '@tanstack/react-query';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { useWalletType } from '@app/common/use-wallet-type';\nimport { CurrentBitcoinSignerLoader } from '@app/components/loaders/current-bitcoin-signer-loader';\nimport { CurrentStacksAccountLoader } from '@app/components/loaders/stacks-account-loader';\nimport { useConfigNftMetadataEnabled } from '@app/query/common/remote-config/remote-config.query';\n\nimport { AddCollectible } from './components/add-collectible';\nimport { Ordinals } from './components/bitcoin/ordinals';\nimport { Stamps } from './components/bitcoin/stamps';\nimport { CollectiblesLayout } from './components/collectible.layout';\nimport { StacksCryptoAssets } from './components/stacks/stacks-crypto-assets';\nimport { TaprootBalanceDisplayer } from './components/taproot-balance-displayer';\nimport { useIsFetchingCollectiblesRelatedQuery } from './hooks/use-is-fetching-collectibles';\n\nexport function Collectibles() {\n  const { whenWallet } = useWalletType();\n  const navigate = useNavigate();\n  const isNftMetadataEnabled = useConfigNftMetadataEnabled();\n  const queryClient = useQueryClient();\n  const isFetching = useIsFetchingCollectiblesRelatedQuery();\n  const [isLoadingMore, setIsLoadingMore] = useState(false);\n\n  return (\n    <CollectiblesLayout\n      title=\"Collectibles\"\n      subHeader={whenWallet({\n        software: (\n          <TaprootBalanceDisplayer\n            onSelectRetrieveBalance={() =>\n              navigate(RouteUrls.RetrieveTaprootFunds, {\n                state: {\n                  backgroundLocation: { pathname: RouteUrls.Home },\n                },\n              })\n            }\n          />\n        ),\n        ledger: null,\n      })}\n      isLoading={isFetching}\n      isLoadingMore={isLoadingMore}\n      onRefresh={() => void queryClient.refetchQueries({ type: 'active' })}\n    >\n      <CurrentBitcoinSignerLoader>{() => <AddCollectible />}</CurrentBitcoinSignerLoader>\n\n      {isNftMetadataEnabled && (\n        <CurrentStacksAccountLoader>\n          {account => <StacksCryptoAssets address={account?.address ?? ''} />}\n        </CurrentStacksAccountLoader>\n      )}\n\n      <CurrentBitcoinSignerLoader>\n        {() => (\n          <>\n            <Stamps />\n            <Ordinals setIsLoadingMore={setIsLoadingMore} />\n          </>\n        )}\n      </CurrentBitcoinSignerLoader>\n    </CollectiblesLayout>\n  );\n}\n","import { Outlet } from 'react-router-dom';\n\nimport { HomePageSelectors } from '@tests/selectors/home.selectors';\nimport { Stack } from 'leather-styles/jsx';\n\nimport { AssetList } from '@app/features/asset-list/asset-list';\nimport { ManageTokens } from '@app/features/asset-list/manage-tokens/manage-tokens';\nimport { Collectibles } from '@app/features/collectibles/collectibles';\n\nexport function Assets() {\n  return (\n    <Stack data-testid={HomePageSelectors.AssetList}>\n      <AssetList filter=\"enabled\" />\n      <ManageTokens />\n      <Collectibles />\n      <Outlet />\n    </Stack>\n  );\n}\n","import { Outlet, Route, Routes, useLocation } from 'react-router-dom';\n\nimport { useLocationState } from '@app/common/hooks/use-location-state';\n\n/* \n   To overlay modal on nested routes backgroundLocation is used \n   to trick the router into thinking its on the same page\n */\ninterface ModalBackgroundWrapperProps {\n  children: React.ReactNode;\n}\nexport function ModalBackgroundWrapper({ children }: ModalBackgroundWrapperProps) {\n  const location = useLocation();\n  const backgroundLocation = useLocationState<Location>('backgroundLocation');\n\n  return (\n    <>\n      <Routes location={backgroundLocation || location}>\n        {children}\n        <Route path=\"*\" element={<Outlet />} />\n      </Routes>\n      {backgroundLocation && <Outlet />}\n    </>\n  );\n}\n","import { useRef } from 'react';\n\nimport { useOnMount } from '@app/common/hooks/use-on-mount';\n\nexport function useScaleText() {\n  const ref = useRef<HTMLHeadingElement>(null);\n\n  useOnMount(() => {\n    const el = ref.current;\n    if (el) {\n      const parentWidth = el.parentElement?.offsetWidth || 0;\n      const naturalWidth = el.scrollWidth;\n      const scale = parentWidth / naturalWidth;\n      const finalScale = Math.max(scale);\n      el.style.transform = finalScale < 1 ? `scale(${finalScale})` : 'none';\n    }\n  });\n\n  return ref;\n}\n","import { ReactNode } from 'react';\n\nimport { SettingsSelectors } from '@tests/selectors/settings.selectors';\nimport { SharedComponentsSelectors } from '@tests/selectors/shared-component.selectors';\nimport { Box, Flex, styled } from 'leather-styles/jsx';\n\nimport { ChevronDownIcon, Link, SkeletonLoader, shimmerStyles } from '@leather.io/ui';\n\nimport { useScaleText } from '@app/common/hooks/use-scale-text';\nimport { AccountNameLayout } from '@app/components/account/account-name';\nimport { PrivateTextLayout } from '@app/components/privacy/private-text.layout';\n\ninterface AccountCardProps {\n  name: string;\n  balance: string;\n  children: ReactNode;\n  toggleSwitchAccount(): void;\n  isFetchingBnsName: boolean;\n  isLoadingBalance: boolean;\n  isLoadingAdditionalData?: boolean;\n  isBalancePrivate?: boolean;\n  onShowBalance?(): void;\n}\n\nexport function AccountCard({\n  name,\n  balance,\n  toggleSwitchAccount,\n  onShowBalance,\n  children,\n  isFetchingBnsName,\n  isLoadingBalance,\n  isLoadingAdditionalData,\n  isBalancePrivate,\n}: AccountCardProps) {\n  const scaleTextRef = useScaleText();\n\n  return (\n    <Flex\n      direction=\"column\"\n      border={{ base: 'active', sm: 'unset' }}\n      rounded=\"md\"\n      px={{ base: 'space.05', sm: '0' }}\n      pt={{ base: 'space.05', md: '0' }}\n    >\n      <Flex flexDir=\"row\" justify=\"space-between\" align=\"center\">\n        <Link\n          _before={{ bg: 'transparent' }}\n          _hover={{ color: 'ink.action-primary-hover' }}\n          data-testid={SettingsSelectors.SwitchAccountTrigger}\n          onClick={toggleSwitchAccount}\n          variant=\"text\"\n          maxWidth=\"fit-content\"\n        >\n          <Flex>\n            <AccountNameLayout\n              isLoading={isFetchingBnsName}\n              data-testid={SettingsSelectors.CurrentAccountDisplayName}\n              textStyle=\"label.01\"\n            >\n              {name}\n            </AccountNameLayout>\n\n            <Box mt=\"space.01\" ml=\"space.02\">\n              <ChevronDownIcon variant=\"small\" />\n            </Box>\n          </Flex>\n        </Link>\n      </Flex>\n      <Flex flexDir={{ base: 'column', md: 'row' }} justify=\"space-between\">\n        <Box mb=\"space.05\" mt=\"space.04\">\n          <SkeletonLoader width=\"200px\" height=\"38px\" isLoading={isLoadingBalance}>\n            <styled.h1\n              textStyle=\"heading.02\"\n              data-state={isLoadingAdditionalData ? 'loading' : undefined}\n              className={shimmerStyles}\n              data-testid={SharedComponentsSelectors.AccountCardBalanceText}\n              style={{\n                whiteSpace: 'nowrap',\n                display: 'inline-block',\n                transformOrigin: 'left center',\n                maxWidth: '100%',\n              }}\n              ref={scaleTextRef}\n            >\n              <PrivateTextLayout\n                isPrivate={isBalancePrivate}\n                onShowValue={onShowBalance}\n                display=\"inline-block\"\n                overflow=\"hidden\"\n              >\n                {balance}\n              </PrivateTextLayout>\n            </styled.h1>\n          </SkeletonLoader>\n        </Box>\n        {children}\n      </Flex>\n    </Flex>\n  );\n}\n","import { Suspense, memo } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { HomePageSelectors } from '@tests/selectors/home.selectors';\n\nimport { useStxCryptoAssetBalance, useTransferableSip10Tokens } from '@leather.io/query';\nimport { IconButton, PaperPlaneIcon } from '@leather.io/ui';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { useWalletType } from '@app/common/use-wallet-type';\nimport { whenPageMode } from '@app/common/utils';\nimport { openIndexPageInNewTab } from '@app/common/utils/open-in-new-tab';\nimport { useCurrentAccountNativeSegwitIndexZeroSignerNullable } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useCurrentStacksAccountAddress } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\nfunction SendButtonSuspense() {\n  const navigate = useNavigate();\n  const { whenWallet } = useWalletType();\n  const btcAddress = useCurrentAccountNativeSegwitIndexZeroSignerNullable()?.address;\n  const stxAddress = useCurrentStacksAccountAddress();\n  const { filteredBalanceQuery } = useStxCryptoAssetBalance(stxAddress);\n  const stacksFtAssets = useTransferableSip10Tokens(stxAddress);\n\n  const isDisabled = !btcAddress && !filteredBalanceQuery.data && stacksFtAssets?.length === 0;\n\n  return (\n    <IconButton\n      data-testid={HomePageSelectors.SendCryptoAssetBtn}\n      label=\"Send\"\n      icon={<PaperPlaneIcon />}\n      onClick={() =>\n        whenWallet({\n          ledger: () =>\n            whenPageMode({\n              full: () => navigate(RouteUrls.SendCryptoAsset),\n              popup: () => openIndexPageInNewTab(RouteUrls.SendCryptoAsset),\n            })(),\n          software: () => navigate(RouteUrls.SendCryptoAsset),\n        })()\n      }\n      disabled={isDisabled}\n    />\n  );\n}\n\nconst SendButtonFallback = memo(() => (\n  <IconButton label=\"Send\" icon={<PaperPlaneIcon />} disabled />\n));\n\nexport function SendButton() {\n  return (\n    <Suspense fallback={<SendButtonFallback />}>\n      <SendButtonSuspense />\n    </Suspense>\n  );\n}\n","import { Stack, styled } from 'leather-styles/jsx';\n\nimport { Link } from '@leather.io/ui';\n\nexport function SwapsDisabledTooltipLabel() {\n  return (\n    <Stack gap=\"0\">\n      <styled.span textStyle=\"caption.01\">Swaps temporarily disabled</styled.span>\n      <Link\n        href=\"https://leather.io/guides/integrated-swap-disabled\"\n        target=\"_blank\"\n        color=\"ink.background-primary\"\n        width=\"fit-content\"\n      >\n        <styled.span textStyle=\"caption.01\">Learn more</styled.span>\n      </Link>\n    </Stack>\n  );\n}\n","import { useLocation, useNavigate } from 'react-router-dom';\n\nimport { ChainID } from '@stacks/transactions';\nimport { HomePageSelectors } from '@tests/selectors/home.selectors';\nimport { Box, Flex } from 'leather-styles/jsx';\n\nimport { whenStacksChainId } from '@leather.io/stacks';\nimport { ArrowsRepeatLeftRightIcon, CreditCardIcon, IconButton, InboxIcon } from '@leather.io/ui';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport {\n  useConfigBitcoinEnabled,\n  useConfigSwapsEnabled,\n} from '@app/query/common/remote-config/remote-config.query';\nimport { useCurrentAccountNativeSegwitIndexZeroSignerNullable } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useCurrentStacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { useCurrentNetwork } from '@app/store/networks/networks.selectors';\nimport { BasicTooltip } from '@app/ui/components/tooltip/basic-tooltip';\n\nimport { SendButton } from './send-button';\nimport { SwapsDisabledTooltipLabel } from './swaps-disabled-tooltip-label';\n\nexport function AccountActions() {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const isBitcoinEnabled = useConfigBitcoinEnabled();\n  const stacksAccount = useCurrentStacksAccount();\n  const currentBtcSigner = useCurrentAccountNativeSegwitIndexZeroSignerNullable();\n  const btcAccount = currentBtcSigner?.address;\n  const currentNetwork = useCurrentNetwork();\n  const swapsEnabled = useConfigSwapsEnabled();\n  const swapsBtnDisabled = !swapsEnabled || !stacksAccount;\n\n  const receivePath = isBitcoinEnabled\n    ? RouteUrls.Receive\n    : `${RouteUrls.Home}${RouteUrls.ReceiveStx}`;\n\n  return (\n    <Flex gap={{ base: 'space.01', md: 'space.04' }} py=\"space.04\" justifyContent=\"space-between\">\n      <SendButton />\n      <IconButton\n        data-testid={HomePageSelectors.ReceiveCryptoAssetBtn}\n        icon={<InboxIcon />}\n        label=\"Receive\"\n        onClick={() => navigate(receivePath, { state: { backgroundLocation: location } })}\n      />\n\n      {(!!stacksAccount || !!btcAccount) && (\n        <IconButton\n          data-testid={HomePageSelectors.FundAccountBtn}\n          icon={<CreditCardIcon />}\n          label=\"Buy\"\n          onClick={() => navigate(RouteUrls.FundChooseCurrency)}\n        />\n      )}\n      {whenStacksChainId(currentNetwork.chain.stacks.chainId)({\n        [ChainID.Mainnet]: (\n          <BasicTooltip\n            label={swapsEnabled ? '' : <SwapsDisabledTooltipLabel />}\n            side=\"left\"\n            asChild\n          >\n            <Box display=\"flex\">\n              <IconButton\n                data-testid={HomePageSelectors.SwapBtn}\n                disabled={swapsBtnDisabled}\n                icon={<ArrowsRepeatLeftRightIcon />}\n                label=\"Swap\"\n                onClick={() =>\n                  navigate(RouteUrls.Swap.replace(':base', 'STX').replace(':quote', ''))\n                }\n              />\n            </Box>\n          </BasicTooltip>\n        ),\n        [ChainID.Testnet]: null,\n      })}\n    </Flex>\n  );\n}\n","import { Suspense } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nimport { Box, Stack } from 'leather-styles/jsx';\n\nimport { Tabs } from '@leather.io/ui';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { LoadingSpinner } from '@app/components/loading-spinner';\n\ninterface HomeTabsProps {\n  children: React.ReactNode;\n}\n\nexport function HomeTabs({ children }: HomeTabsProps) {\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  return (\n    <Stack flexGrow={1} mt={{ base: 0, md: 'space.05' }} gap=\"space.06\">\n      <Tabs.Root onValueChange={slug => navigate(slug)} defaultValue={location.pathname}>\n        <Tabs.List>\n          <Tabs.Trigger data-testid=\"tab-assets\" value={RouteUrls.Home}>\n            Assets\n          </Tabs.Trigger>\n          <Tabs.Trigger data-testid=\"tab-activity\" value={RouteUrls.Activity}>\n            Activity\n          </Tabs.Trigger>\n        </Tabs.List>\n      </Tabs.Root>\n      <Suspense fallback={<LoadingSpinner pb=\"72px\" />}>\n        <Box px={{ base: 'space.05', md: 0 }} width=\"100%\">\n          {children}\n        </Box>\n      </Suspense>\n    </Stack>\n  );\n}\n","import { Route, useNavigate } from 'react-router-dom';\n\nimport { HomePageSelectors } from '@tests/selectors/home.selectors';\nimport { Box, Stack } from 'leather-styles/jsx';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { useAccountDisplayName } from '@app/common/hooks/account/use-account-names';\nimport { useOnboardingState } from '@app/common/hooks/auth/use-onboarding-state';\nimport { useTotalBalance } from '@app/common/hooks/balance/use-total-balance';\nimport { useOnMount } from '@app/common/hooks/use-on-mount';\nimport { useSwitchAccountSheet } from '@app/common/switch-account/use-switch-account-sheet-context';\nimport { whenPageMode } from '@app/common/utils';\nimport { ActivityList } from '@app/features/activity-list/activity-list';\nimport { FeedbackButton } from '@app/features/feedback-button/feedback-button';\nimport { Assets } from '@app/pages/home/components/assets';\nimport { homePageModalRoutes } from '@app/routes/app-routes';\nimport { ModalBackgroundWrapper } from '@app/routes/components/modal-background-wrapper';\nimport { useCurrentAccountIndex } from '@app/store/accounts/account';\nimport { useCurrentAccountNativeSegwitAddressIndexZero } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useCurrentStacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { useTogglePrivateMode } from '@app/store/settings/settings.actions';\nimport { useIsPrivateMode } from '@app/store/settings/settings.selectors';\nimport { AccountCard } from '@app/ui/components/account/account.card';\n\nimport { AccountActions } from './components/account-actions';\nimport { HomeTabs } from './components/home-tabs';\n\nexport function Home() {\n  const { decodedAuthRequest } = useOnboardingState();\n  const { toggleSwitchAccount } = useSwitchAccountSheet();\n  const navigate = useNavigate();\n  const account = useCurrentStacksAccount();\n  const currentAccountIndex = useCurrentAccountIndex();\n  const isPrivateMode = useIsPrivateMode();\n  const togglePrivateMode = useTogglePrivateMode();\n\n  const { data: name = '', isFetching: isFetchingBnsName } = useAccountDisplayName({\n    address: account?.address || '',\n    index: currentAccountIndex || 0,\n  });\n\n  const btcAddress = useCurrentAccountNativeSegwitAddressIndexZero();\n  const { totalUsdBalance, isLoading, isLoadingAdditionalData } = useTotalBalance({\n    btcAddress,\n    stxAddress: account?.address || '',\n  });\n\n  useOnMount(() => {\n    if (decodedAuthRequest) navigate(RouteUrls.ChooseAccount);\n  });\n\n  return (\n    <Stack\n      data-testid={HomePageSelectors.HomePageContainer}\n      px={{ base: 0, md: 'space.05' }}\n      py={{ base: 0, md: 'space.07' }}\n      gap={{ base: 0, md: 'space.06' }}\n      width=\"100%\"\n      bg=\"ink.1\"\n      borderRadius=\"lg\"\n      animation=\"fadein\"\n      animationDuration=\"500ms\"\n    >\n      <Box px={{ base: 'space.05', md: 0 }} pb={{ base: 'space.05', md: 0 }}>\n        <AccountCard\n          name={name}\n          balance={totalUsdBalance}\n          toggleSwitchAccount={() => toggleSwitchAccount()}\n          isFetchingBnsName={isFetchingBnsName}\n          isLoadingBalance={isLoading}\n          isLoadingAdditionalData={isLoadingAdditionalData}\n          isBalancePrivate={isPrivateMode}\n          onShowBalance={togglePrivateMode}\n        >\n          <AccountActions />\n        </AccountCard>\n      </Box>\n      {whenPageMode({ full: <FeedbackButton />, popup: null })}\n      <HomeTabs>\n        <ModalBackgroundWrapper>\n          <Route index element={<Assets />} />\n          <Route path={RouteUrls.Activity} element={<ActivityList />}>\n            {homePageModalRoutes}\n          </Route>\n          {homePageModalRoutes}\n        </ModalBackgroundWrapper>\n      </HomeTabs>\n    </Stack>\n  );\n}\n","import { Grid } from 'leather-styles/jsx';\n\ninterface SecretKeyGridProps {\n  children: React.ReactNode;\n}\nexport function SecretKeyGrid({ children }: SecretKeyGridProps) {\n  return (\n    <Grid\n      gridTemplateColumns={{\n        base: 'repeat(1, minmax(160px, 1fr))',\n        md: 'repeat(2, minmax(170px, 1fr))',\n        lg: 'repeat(3, minmax(170px, 1fr))',\n      }}\n      rowGap=\"space.03\"\n      columnGap=\"space.03\"\n    >\n      {children}\n    </Grid>\n  );\n}\n","import { OnboardingSelectors } from '@tests/selectors/onboarding.selectors';\nimport { Flex, FlexProps, styled } from 'leather-styles/jsx';\n\ninterface SecretKeyWordProps extends FlexProps {\n  word: string;\n  num: number;\n}\nexport function SecretKeyWord({ word, num }: SecretKeyWordProps) {\n  return (\n    <Flex\n      height=\"3rem\"\n      width=\"100%\"\n      gap=\"space.01\"\n      px=\"space.03\"\n      bg=\"ink.component-background-default\"\n      borderRadius=\"xs\"\n    >\n      <styled.span display=\"flex\" alignItems=\"center\" mr=\"space.01\" color=\"ink.text-subdued\">\n        {num}.\n      </styled.span>\n      <styled.span\n        display=\"flex\"\n        alignItems=\"center\"\n        color=\"ink.text-primary\"\n        data-testid={OnboardingSelectors.SecretKey}\n      >\n        {word}\n      </styled.span>\n    </Flex>\n  );\n}\n","import { useState } from 'react';\n\nimport { OnboardingSelectors } from '@tests/selectors/onboarding.selectors';\nimport { SettingsSelectors } from '@tests/selectors/settings.selectors';\nimport { Flex, HStack, Stack, styled } from 'leather-styles/jsx';\n\nimport { Button, CopyIcon, Eye1ClosedIcon, Eye1Icon } from '@leather.io/ui';\n\nimport { SecretKeyGrid } from './secret-key-grid';\nimport { SecretKeyWord } from './secret-key-word';\n\ninterface SecretKeyLayoutProps {\n  hasCopied: boolean;\n  onCopyToClipboard(): void;\n  secretKeyWords: string[] | undefined;\n  showTitleAndIllustration: boolean;\n  onBackedUpSecretKey(): void;\n}\nexport function SecretKeyLayout({\n  hasCopied,\n  onCopyToClipboard,\n  onBackedUpSecretKey,\n  secretKeyWords,\n}: SecretKeyLayoutProps) {\n  const [showSecretKey, setShowSecretKey] = useState(false);\n\n  return (\n    <Stack gap=\"space.05\">\n      <SecretKeyGrid>\n        {secretKeyWords?.map((word, index) => (\n          <SecretKeyWord\n            key={word}\n            word={showSecretKey ? word : '*'.repeat(word.length)}\n            num={index + 1}\n          />\n        ))}\n      </SecretKeyGrid>\n      <Flex gap=\"space.04\" direction={{ base: 'column', md: 'row' }}>\n        <Button\n          fullWidth\n          variant=\"outline\"\n          flex=\"1\"\n          display=\"flex\"\n          p=\"space.03\"\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          data-testid={SettingsSelectors.ShowSecretKeyBtn}\n          onClick={() => setShowSecretKey(!showSecretKey)}\n        >\n          <HStack>\n            {showSecretKey ? <Eye1ClosedIcon /> : <Eye1Icon />}\n            <styled.span textStyle=\"label.02\">\n              {showSecretKey ? 'Hide key' : 'Show key'}\n            </styled.span>\n          </HStack>\n        </Button>\n        <Button\n          fullWidth\n          variant=\"outline\"\n          flex=\"1\"\n          display=\"flex\"\n          p=\"space.03\"\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          data-testid={SettingsSelectors.CopyKeyToClipboardBtn}\n          onClick={!hasCopied ? onCopyToClipboard : undefined}\n        >\n          <HStack>\n            <CopyIcon />\n            <styled.p textStyle=\"body.02\">{!hasCopied ? ' Copy' : 'Copied!'}</styled.p>\n          </HStack>\n        </Button>\n      </Flex>\n      <Button\n        width=\"100%\"\n        data-testid={OnboardingSelectors.BackUpSecretKeyBtn}\n        onClick={onBackedUpSecretKey}\n        variant=\"solid\"\n      >\n        I've backed it up\n      </Button>\n    </Stack>\n  );\n}\n","import { memo, useMemo } from 'react';\nimport { Outlet, useLocation, useNavigate } from 'react-router-dom';\n\nimport { RouteUrls } from '@shared/route-urls';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useClipboard } from '@app/common/hooks/use-copy-to-clipboard';\n\nimport { SecretKeyLayout } from '../../ui/components/secret-key/secret-key.layout';\n\ninterface SecretKeyProps {\n  secretKey: string;\n}\nexport const SecretKey = memo(({ secretKey }: SecretKeyProps) => {\n  const { onCopy, hasCopied } = useClipboard(secretKey || '');\n  const { pathname } = useLocation();\n\n  const navigate = useNavigate();\n\n  const copyToClipboard = () => {\n    void analytics.track('copy_secret_key_to_clipboard');\n    onCopy();\n  };\n\n  const secretKeyWords = useMemo(() => secretKey?.split(' '), [secretKey]);\n  const showTitleAndIllustration = pathname === RouteUrls.BackUpSecretKey;\n\n  return (\n    <>\n      <SecretKeyLayout\n        hasCopied={hasCopied}\n        onCopyToClipboard={copyToClipboard}\n        secretKeyWords={secretKeyWords}\n        showTitleAndIllustration={showTitleAndIllustration}\n        onBackedUpSecretKey={() => navigate(RouteUrls.SetPassword)}\n      />\n      <Outlet />\n    </>\n  );\n});\n","import { memo, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { HStack, Stack, styled } from 'leather-styles/jsx';\n\nimport { Eye1ClosedIcon, KeyIcon, LockIcon } from '@leather.io/ui';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { Content, TwoColumnLayout } from '@app/components/layout';\nimport { OnboardingHeader } from '@app/features/container/headers/onboarding.header';\nimport { SecretKey } from '@app/features/secret-key-displayer/secret-key-displayer';\nimport { useDefaultWalletSecretKey } from '@app/store/in-memory-key/in-memory-key.selectors';\n\nexport const BackUpSecretKeyPage = memo(() => {\n  const secretKey = useDefaultWalletSecretKey();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (!secretKey) navigate(RouteUrls.Onboarding);\n  }, [navigate, secretKey]);\n\n  if (!secretKey) return null;\n\n  return (\n    <>\n      <OnboardingHeader />\n      <Content>\n        <TwoColumnLayout\n          title=\"Back up your Secret Key\"\n          content={\n            <>\n              You'll need it to access your wallet on a new device, or this one if you lose your\n              password  so back it up somewhere safe!\n            </>\n          }\n          action={\n            <Stack gap=\"space.05\" mt=\"space.04\">\n              <HStack alignItems=\"center\">\n                <KeyIcon />\n                <styled.span textStyle=\"caption.01\">\n                  Your Secret Key gives <br /> access to your wallet\n                </styled.span>\n              </HStack>\n              <HStack alignItems=\"center\">\n                <Eye1ClosedIcon />\n                <styled.span textStyle=\"caption.01\">\n                  Never share your <br /> Secret Key with anyone\n                </styled.span>\n              </HStack>\n              <HStack alignItems=\"center\">\n                <LockIcon />\n                <styled.span textStyle=\"caption.01\">\n                  Store it somewhere <br /> 100% private and secure\n                </styled.span>\n              </HStack>\n            </Stack>\n          }\n        >\n          <SecretKey secretKey={secretKey} />\n        </TwoColumnLayout>\n      </Content>\n    </>\n  );\n});\n","import { useCallback, useEffect, useRef, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { validateMnemonic } from '@scure/bip39';\nimport { wordlist } from '@scure/bip39/wordlists/english';\n\nimport { delay } from '@leather.io/utils';\n\nimport { RouteUrls } from '@shared/route-urls';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useLoading } from '@app/common/hooks/use-loading';\nimport { useAppDispatch } from '@app/store';\nimport { inMemoryKeyActions } from '@app/store/in-memory-key/in-memory-key.actions';\nimport { useSeedInputErrorState } from '@app/store/onboarding/onboarding.hooks';\n\nasync function simulateShortDelayToAvoidImmediateNavigation() {\n  await delay(600);\n}\n\nexport function useSignIn() {\n  const [error, setError] = useSeedInputErrorState();\n  const [isKeyMasked, setIsKeyMasked] = useState(true);\n\n  const { isLoading, setIsLoading, setIsIdle } = useLoading('useSignIn');\n  const navigate = useNavigate();\n\n  const textAreaRef = useRef<HTMLTextAreaElement | null>(null);\n\n  const dispatch = useAppDispatch();\n\n  const handleSetError = useCallback(\n    (\n      message = 'Incorrect Secret Key. Make sure it is 12 or 24 words with spaces between words.'\n    ) => {\n      setError(message);\n      setIsIdle();\n      void analytics.track('submit_invalid_secret_key');\n      return;\n    },\n    [setError, setIsIdle]\n  );\n\n  const submitMnemonicForm = useCallback(\n    async (passedValue: string) => {\n      setIsLoading();\n      const parsedKeyInput = passedValue ? passedValue.trim() : '';\n\n      // empty?\n      if (parsedKeyInput.length === 0) {\n        handleSetError('Entering your Secret Key is required.');\n      }\n\n      if (!validateMnemonic(parsedKeyInput, wordlist)) {\n        handleSetError();\n        return;\n      }\n\n      await simulateShortDelayToAvoidImmediateNavigation();\n\n      dispatch(inMemoryKeyActions.setDefaultKey(parsedKeyInput));\n      void analytics.track('submit_valid_secret_key');\n      navigate(RouteUrls.SetPassword);\n      setIsIdle();\n    },\n    [setIsLoading, dispatch, navigate, setIsIdle, handleSetError]\n  );\n\n  const toggleKeyMask = useCallback(() => {\n    setIsKeyMasked(prev => !prev);\n  }, []);\n\n  useEffect(\n    () => () => {\n      setError(undefined);\n      setIsIdle();\n    },\n    // setIsIdle update change not desired\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [setError]\n  );\n\n  return {\n    submitMnemonicForm,\n    ref: textAreaRef,\n    error,\n    isLoading,\n    toggleKeyMask,\n    isKeyMasked,\n  };\n}\n","import { useField, useFormikContext } from 'formik';\n\nexport function useIsFieldDirty(name: string) {\n  const [field, meta] = useField(name);\n  return field.value !== meta.initialValue;\n}\n\nexport function useShowFieldError(name: string) {\n  const form = useFormikContext();\n  const [_, meta] = useField(name);\n  const isDirty = useIsFieldDirty(name);\n  const isFieldInFocus = document.activeElement?.getAttribute('name') === name;\n\n  return !!(\n    (form.submitCount > 0 && meta.error) ||\n    (!isFieldInFocus && meta.touched && isDirty && meta.error)\n  );\n}\n","import { useState } from 'react';\n\nimport { useField } from 'formik';\n\nimport { Input } from '@leather.io/ui';\nimport { extractPhraseFromString } from '@leather.io/utils';\n\nimport { useIsFieldDirty } from '@app/common/form-utils';\n\ninterface MnemonicWordInputProps {\n  fieldNumber: number;\n  value: string;\n  onUpdateWord(word: string): void;\n  onPasteEntireKey(word: string): void;\n}\nexport function MnemonicWordInput({\n  fieldNumber,\n  value,\n  onUpdateWord,\n  onPasteEntireKey,\n}: MnemonicWordInputProps) {\n  const name = `${fieldNumber}`;\n  const [field, meta] = useField(name);\n  const [isFocused, setIsFocused] = useState(false);\n  const isDirty = useIsFieldDirty(name);\n  return (\n    <Input.Root hasError={isDirty && !!meta.error} shrink={!!value}>\n      <Input.Field\n        // Limitation of the animated label is that we cannot detect\n        // programatically updated inputs. Here we add an empty place holder to\n        // trigger the repositioning of the label\n        autoCapitalize=\"off\"\n        autoComplete=\"off\"\n        spellCheck={false}\n        data-testid={`mnemonic-input-${fieldNumber}`}\n        id={name}\n        type={isFocused ? 'text' : 'password'}\n        onFocus={() => setIsFocused(!isFocused)}\n        {...field}\n        value={value || field.value || ''}\n        // using onChangeCapture + onBlurCapture to keep Formik validation\n        onChangeCapture={(e: any) => {\n          e.preventDefault();\n          onUpdateWord(e.target.value);\n        }}\n        onBlurCapture={() => setIsFocused(!isFocused)}\n        onPaste={e => {\n          const pasteValue = extractPhraseFromString(e.clipboardData.getData('text'));\n          if (pasteValue.includes(' ')) {\n            e.preventDefault();\n            //assume its a full key\n            onPasteEntireKey(pasteValue);\n          }\n        }}\n      />\n      <Input.Label>Word {fieldNumber}</Input.Label>\n    </Input.Root>\n  );\n}\n","import { FormikErrors, FormikTouched, FormikValues } from 'formik';\n\nexport function hasMnemonicFormValues(values: FormikValues): boolean {\n  return Object.values(values).filter(value => value !== '').length > 0;\n}\n\nexport function getMnemonicErrorMessage(mnemonicErrorFields: string[]): string {\n  return mnemonicErrorFields.length > 1\n    ? `Words ${mnemonicErrorFields\n        .toString()\n        .replace(/,(?=[^,]+$)/, ' and')} are incorrect or misspelled` // replace last , with 'and'\n    : `Word ${mnemonicErrorFields} is incorrect or misspelled`;\n}\n\nexport function getMnemonicErrorFields(\n  errors: FormikErrors<FormikValues>,\n  touched: FormikTouched<FormikValues>,\n  values: FormikValues\n): string[] {\n  return Object.keys(errors)\n    .filter(\n      fieldNumber => fieldNumber !== undefined && touched[fieldNumber] && values[fieldNumber] !== ''\n    ) // make sure field is touched and not empty\n    .sort((a, b) => +a - +b) // sort numerically for display\n    .map(fieldNumber => ` ${fieldNumber}`); // prepend space to space them out\n}\n","import { wordlist } from '@scure/bip39/wordlists/english';\nimport * as yup from 'yup';\n\nfunction isValidMnemonic(word: string): boolean {\n  return wordlist.includes(word);\n}\n\n// YUP validation of dynamic field names => https://github.com/jquense/yup/issues/130\nfunction mapRules<T>(map: Record<string, unknown>, rule: T): Record<string, T> {\n  return Object.keys(map).reduce((newMap, key) => ({ ...newMap, [key]: rule }), {});\n}\n\n// field names are dynamically generated\nconst dynamicObjectValue = yup.string().test({\n  test(value) {\n    if (!value) return false;\n    return isValidMnemonic(value);\n  },\n});\n\nexport const validationSchema = yup.lazy(map =>\n  yup.object(mapRules<typeof dynamicObjectValue>(map, dynamicObjectValue))\n);\n","import { OnboardingSelectors } from '@tests/selectors/onboarding.selectors';\nimport { Form, Formik } from 'formik';\nimport { Stack } from 'leather-styles/jsx';\n\nimport { Button } from '@leather.io/ui';\nimport { createNullArrayOfLength, isEmpty } from '@leather.io/utils';\n\nimport { ErrorLabel } from '@app/components/error-label';\nimport { useSignIn } from '@app/pages/onboarding/sign-in/hooks/use-sign-in';\nimport { MnemonicWordInput } from '@app/ui/components/secret-key/mnemonic-key/mnemonic-word-input';\nimport {\n  getMnemonicErrorFields,\n  getMnemonicErrorMessage,\n  hasMnemonicFormValues,\n} from '@app/ui/components/secret-key/mnemonic-key/utils/error-handling';\nimport { validationSchema } from '@app/ui/components/secret-key/mnemonic-key/utils/validation';\nimport { SecretKeyGrid } from '@app/ui/components/secret-key/secret-key-grid';\n\ninterface MnemonicFormProps {\n  mnemonic: (string | null)[];\n  setMnemonic(mnemonic: (string | null)[]): void;\n  twentyFourWordMode: boolean;\n}\nexport function MnemonicForm({ mnemonic, setMnemonic, twentyFourWordMode }: MnemonicFormProps) {\n  const { submitMnemonicForm, error, isLoading } = useSignIn();\n\n  function mnemonicWordUpdate(index: number, word: string) {\n    const newMnemonic = [...mnemonic];\n    newMnemonic[index] = word;\n    setMnemonic(newMnemonic);\n  }\n\n  function updateEntireKey(key: string, setFieldValue: (name: string, value: number) => void) {\n    const newKey = key.split(' ');\n    newKey.map((index, value) => setFieldValue(`${index + 1}`, value));\n    setMnemonic(newKey);\n    void submitMnemonicForm(key);\n  }\n\n  function handleSubmit() {\n    return void submitMnemonicForm(mnemonic.join(' '));\n  }\n\n  const mnemonicFieldArray = mnemonic\n    ? mnemonic\n    : createNullArrayOfLength(twentyFourWordMode ? 24 : 12);\n\n  // set initialValues to avoid throwing uncontrolled inputs error\n  const initialValues = mnemonicFieldArray.reduce(\n    (accumulator, _, index) => ((accumulator[`${index + 1}`] = ''), accumulator),\n    {}\n  );\n  return (\n    <Formik\n      initialValues={initialValues}\n      // this onSubmit is to appease Formik and is only really needed in the onClick()\n      onSubmit={handleSubmit}\n      validationSchema={validationSchema}\n      validateOnBlur\n      validateOnChange\n    >\n      {({ errors, touched, setFieldValue, values, isValid }) => {\n        const hasFormValues = hasMnemonicFormValues(values);\n        const mnemonicErrorFields = getMnemonicErrorFields(errors, touched, values);\n        const showMnemonicErrors = !isEmpty(mnemonicErrorFields) && hasFormValues;\n        const mnemonicErrorMessage = getMnemonicErrorMessage(mnemonicErrorFields);\n\n        return (\n          <Form>\n            <Stack gap=\"space.05\">\n              <SecretKeyGrid>\n                {mnemonicFieldArray.map((_, i) => (\n                  <MnemonicWordInput\n                    fieldNumber={i + 1}\n                    key={i}\n                    value={mnemonic[i] || ''}\n                    onPasteEntireKey={key => {\n                      (document.activeElement as HTMLInputElement).blur();\n                      updateEntireKey(key, setFieldValue);\n                    }}\n                    onUpdateWord={w => mnemonicWordUpdate(i, w)}\n                  />\n                ))}\n              </SecretKeyGrid>\n              {(showMnemonicErrors || error) && (\n                <ErrorLabel data-testid={OnboardingSelectors.SignInSeedError}>\n                  {showMnemonicErrors ? mnemonicErrorMessage : error}\n                </ErrorLabel>\n              )}\n\n              <Button\n                data-testid={OnboardingSelectors.SignInBtn}\n                aria-disabled={isLoading || showMnemonicErrors}\n                disabled={isEmpty(touched) || !isValid || !hasFormValues}\n                aria-busy={isLoading}\n                width=\"100%\"\n                type=\"submit\"\n                variant=\"solid\"\n                onClick={e => {\n                  e.preventDefault();\n                  return handleSubmit();\n                }}\n              >\n                Continue\n              </Button>\n            </Stack>\n          </Form>\n        );\n      }}\n    </Formik>\n  );\n}\n","import { useEffect, useState } from 'react';\n\nimport { Link } from '@leather.io/ui';\nimport { createNullArrayOfLength } from '@leather.io/utils';\n\nimport { Content, TwoColumnLayout } from '@app/components/layout';\nimport { OnboardingHeader } from '@app/features/container/headers/onboarding.header';\nimport { MnemonicForm } from '@app/pages/onboarding/sign-in/mnemonic-form';\n\nexport function SignIn() {\n  const [twentyFourWordMode, setTwentyFourWordMode] = useState(true);\n  const [mnemonic, setMnemonic] = useState<(string | null)[]>([]);\n\n  useEffect(() => {\n    const emptyMnemonicArray = twentyFourWordMode\n      ? createNullArrayOfLength(24)\n      : createNullArrayOfLength(12);\n    setMnemonic(emptyMnemonicArray);\n  }, [twentyFourWordMode]);\n\n  return (\n    <>\n      <OnboardingHeader />\n      <Content>\n        <TwoColumnLayout\n          title={\n            <>\n              Sign in <br /> with your <br /> Secret Key\n            </>\n          }\n          content=\"Speed things up by pasting your entire Secret Key in one go.\"\n          action={\n            <Link\n              onClick={() => setTwentyFourWordMode(!twentyFourWordMode)}\n              textStyle=\"label.03\"\n              width=\"fit-content\"\n              variant=\"text\"\n            >\n              {twentyFourWordMode ? 'Have a 12-word Secret Key?' : 'Use 24 word Secret Key'}\n            </Link>\n          }\n        >\n          <MnemonicForm\n            mnemonic={mnemonic}\n            setMnemonic={setMnemonic}\n            twentyFourWordMode={twentyFourWordMode}\n          />\n        </TwoColumnLayout>\n      </Content>\n    </>\n  );\n}\n","import { OnboardingSelectors } from '@tests/selectors/onboarding.selectors';\nimport { Box, Flex, styled } from 'leather-styles/jsx';\n\nimport { Button, LeatherLettermarkIcon, LeatherLogomarkIcon, Link } from '@leather.io/ui';\n\nimport { useThemeSwitcher } from '@app/common/theme-provider';\n\ninterface WelcomeLayoutProps {\n  isGeneratingWallet: boolean;\n  onSelectConnectLedger(): void;\n  onStartOnboarding(): void;\n  onRestoreWallet(): void;\n}\nexport function WelcomeLayout({\n  isGeneratingWallet,\n  onStartOnboarding,\n  onSelectConnectLedger,\n  onRestoreWallet,\n}: WelcomeLayoutProps): React.JSX.Element {\n  // On this page 'theme' is used to set specific colours and bypass automatic theming\n  const { theme } = useThemeSwitcher();\n  // hardcoded specific instances of colour variables needed to bypass theme\n  const inkBgSecondary = '#F5F1ED';\n  const inkTextPrimary = '#12100F';\n\n  const primaryActionButton = {\n    p: 'space.03',\n    minWidth: '148px',\n    bg: {\n      base: inkBgSecondary,\n      md: theme === 'light' ? inkBgSecondary : inkTextPrimary,\n    },\n    color: {\n      base: inkTextPrimary,\n      md: theme === 'light' ? inkTextPrimary : inkBgSecondary,\n    },\n\n    _hover: {\n      bg: 'ink.action-primary-hover',\n      color: theme === 'light' ? inkBgSecondary : inkTextPrimary,\n    },\n  };\n  const secondaryActionButton = {\n    p: 'space.03',\n    minWidth: '148px',\n    color: { base: inkBgSecondary, md: theme === 'light' ? inkBgSecondary : inkTextPrimary },\n    border: `1px solid ${inkBgSecondary}`,\n    borderColor: { base: inkBgSecondary, md: theme === 'light' ? inkBgSecondary : inkTextPrimary },\n    _hover: {\n      bg: 'ink.action-primary-hover',\n      color: 'ink.background-secondary',\n    },\n  };\n\n  const tagline = 'Bitcoin for the rest of us';\n  const taglineExtended = 'The bitcoin wallet for the rest of us';\n  const subheader =\n    'Leather is the only Bitcoin wallet you need to tap into the emerging Bitcoin economy';\n\n  return (\n    <Flex flexDir={{ base: 'column-reverse', md: 'row' }} minW=\"100vw\" minH=\"100vh\">\n      <Flex\n        flexDir=\"column\"\n        bg={{ base: inkTextPrimary, md: 'ink.text-primary' }}\n        flex={{ base: 1, md: 2 }}\n        p=\"space.05\"\n      >\n        <Flex\n          flexDir=\"column\"\n          flex={{ base: 1, md: 0 }}\n          justifyContent={{ base: 'end', md: 'flex-start' }}\n          color={{ base: inkBgSecondary, md: 'ink.background-primary' }}\n        >\n          <styled.h1 hideBelow=\"md\" textStyle=\"display.01\" maxWidth=\"880px\">\n            {tagline}\n          </styled.h1>\n          <styled.h1 hideFrom=\"md\" textStyle=\"heading.03\" maxWidth=\"880px\">\n            {taglineExtended}\n          </styled.h1>\n\n          <styled.h2\n            textStyle={{ base: 'label.01', md: 'heading.04' }}\n            mt={{ base: 'space.02', md: 'space.07' }}\n            maxW=\"556px\"\n          >\n            {subheader}\n          </styled.h2>\n        </Flex>\n        <Flex flexDir={{ base: 'column', md: 'row' }} gap=\"space.04\" mt=\"space.07\" width=\"100%\">\n          <Button\n            onClick={onStartOnboarding}\n            data-testid={OnboardingSelectors.SignUpBtn}\n            aria-busy={isGeneratingWallet}\n            css={primaryActionButton}\n          >\n            Create new wallet\n          </Button>\n\n          <Flex gap=\"space.04\">\n            <Button\n              variant=\"outline\"\n              flex={1}\n              onClick={onRestoreWallet}\n              css={secondaryActionButton}\n              data-testid={OnboardingSelectors.SignInLink}\n              fullWidth\n            >\n              Use existing key\n            </Button>\n            <Button\n              variant=\"outline\"\n              flex={1}\n              onClick={onSelectConnectLedger}\n              css={secondaryActionButton}\n              fullWidth\n            >\n              Use Ledger\n            </Button>\n          </Flex>\n        </Flex>\n      </Flex>\n      <Flex\n        p=\"space.05\"\n        bg={{ base: inkTextPrimary, md: 'ink.background-secondary' }}\n        color={{ base: inkBgSecondary, md: 'ink.text-primary' }}\n        flexDir=\"column\"\n        justifyContent=\"space-between\"\n        flex={{ base: 0, md: 1 }}\n      >\n        <Flex justifyContent=\"space-between\">\n          <LeatherLogomarkIcon height={34} width={150} />\n          <Link href=\"https://leather.io/\" hideBelow=\"md\" variant=\"text\">\n            leather.io\n          </Link>\n        </Flex>\n        <Box hideBelow=\"md\">\n          <LeatherLettermarkIcon height=\"auto\" width=\"100%\" />\n        </Box>\n      </Flex>\n    </Flex>\n  );\n}\n","import { useCallback, useEffect, useState } from 'react';\nimport { Outlet, useNavigate } from 'react-router-dom';\n\nimport { RouteUrls } from '@shared/route-urls';\nimport { closeWindow } from '@shared/utils';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useOnboardingState } from '@app/common/hooks/auth/use-onboarding-state';\nimport { useKeyActions } from '@app/common/hooks/use-key-actions';\nimport { doesBrowserSupportWebUsbApi, isPopupMode, whenPageMode } from '@app/common/utils';\nimport { openIndexPageInNewTab } from '@app/common/utils/open-in-new-tab';\n\nimport { WelcomeLayout } from './welcome.layout';\n\nexport function WelcomePage() {\n  const navigate = useNavigate();\n  const { decodedAuthRequest } = useOnboardingState();\n\n  const keyActions = useKeyActions();\n\n  const [isGeneratingWallet, setIsGeneratingWallet] = useState(false);\n\n  const startOnboarding = useCallback(async () => {\n    if (isPopupMode()) {\n      openIndexPageInNewTab(RouteUrls.Onboarding);\n      closeWindow();\n      return;\n    }\n    setIsGeneratingWallet(true);\n    // #4517 signout other tabs on wallet create\n    await keyActions.signOut();\n    keyActions.generateWalletKey();\n    void analytics.track('generate_new_secret_key');\n    if (decodedAuthRequest) {\n      navigate(RouteUrls.SetPassword);\n    }\n    navigate(RouteUrls.BackUpSecretKey);\n  }, [keyActions, decodedAuthRequest, navigate]);\n\n  useEffect(() => {\n    return () => setIsGeneratingWallet(false);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const pageModeRoutingAction = (url: string) =>\n    whenPageMode({\n      full() {\n        navigate(url);\n      },\n      popup() {\n        void openIndexPageInNewTab(url);\n        closeWindow();\n      },\n    });\n\n  const supportsWebUsbAction = pageModeRoutingAction(\n    RouteUrls.Onboarding + '/' + RouteUrls.ConnectLedgerStart\n  );\n  const doesNotSupportWebUsbAction = pageModeRoutingAction(\n    RouteUrls.Onboarding + '/' + RouteUrls.LedgerUnsupportedBrowser\n  );\n\n  const restoreWallet = pageModeRoutingAction(RouteUrls.SignIn);\n\n  const onSelectConnectLedger = useCallback(async () => {\n    await keyActions.signOut();\n    if (doesBrowserSupportWebUsbApi()) {\n      supportsWebUsbAction();\n    } else {\n      doesNotSupportWebUsbAction();\n    }\n  }, [doesNotSupportWebUsbAction, keyActions, supportsWebUsbAction]);\n\n  return (\n    <>\n      <WelcomeLayout\n        isGeneratingWallet={isGeneratingWallet}\n        onSelectConnectLedger={onSelectConnectLedger}\n        onStartOnboarding={() => startOnboarding()}\n        onRestoreWallet={() => restoreWallet()}\n      />\n      <Outlet />\n    </>\n  );\n}\n","export async function copyToClipboard(text: string) {\n  await navigator.clipboard.writeText(text);\n}\n","import { useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { useLocationState } from '@app/common/hooks/use-location-state';\n\n/**\n * If routes are accessed directly / opened in new tabs `backgroundLocation` is lost\n * this hook re-directs the users to home then overlays the modal so the BG is the home route\n */\n\nexport function useBackgroundLocationRedirect(baseUrl = RouteUrls.Home) {\n  const { pathname, state, search } = useLocation();\n  const navigate = useNavigate();\n  const backgroundLocation = useLocationState('backgroundLocation');\n\n  useEffect(() => {\n    void (async () => {\n      if (backgroundLocation === undefined) {\n        return navigate(\n          { pathname, search },\n          {\n            state: { backgroundLocation: { pathname: baseUrl }, ...state },\n          }\n        );\n      }\n      return false;\n    })();\n  }, [backgroundLocation, baseUrl, navigate, pathname, state, search]);\n}\n","import QRCode from 'react-qr-code';\nimport { useNavigate } from 'react-router-dom';\n\nimport { SharedComponentsSelectors } from '@tests/selectors/shared-component.selectors';\nimport { Box, Flex, styled } from 'leather-styles/jsx';\nimport { token } from 'leather-styles/tokens';\n\nimport { AddressDisplayer, Button, Sheet, SheetHeader } from '@leather.io/ui';\n\nimport { useLocationState } from '@app/common/hooks/use-location-state';\nimport { useBackgroundLocationRedirect } from '@app/routes/hooks/use-background-location-redirect';\n\ninterface ReceiveTokensLayoutProps {\n  address: string;\n  accountName?: string;\n  onCopyAddressToClipboard(address: string): void;\n  title: string;\n  warning?: React.JSX.Element;\n}\nexport function ReceiveTokensLayout(props: ReceiveTokensLayoutProps) {\n  useBackgroundLocationRedirect();\n\n  const { address, accountName, onCopyAddressToClipboard, title, warning } = props;\n  const navigate = useNavigate();\n  const backgroundLocation = useLocationState<Location>('backgroundLocation');\n\n  return (\n    <Sheet\n      header={\n        <SheetHeader\n          variant=\"large\"\n          title={\n            <>\n              Receive <br /> {title}\n            </>\n          }\n          onClose={() => navigate(backgroundLocation ?? '..')}\n        />\n      }\n      isShowing\n      onClose={() => navigate(backgroundLocation ?? '..')}\n      footer={\n        <Button fullWidth onClick={() => onCopyAddressToClipboard(address)}>\n          Copy address\n        </Button>\n      }\n    >\n      {warning && warning}\n      <Flex\n        alignItems=\"center\"\n        flexDirection=\"column\"\n        pb={['space.05', 'space.08']}\n        px=\"space.05\"\n        style={{ marginBottom: token('sizes.footerHeight') }}\n      >\n        <Box mt=\"space.06\" mx=\"auto\">\n          <Flex alignItems=\"center\" justifyContent=\"center\" mx=\"auto\" position=\"relative\">\n            <QRCode\n              bgColor={token('colors.ink.background-primary')}\n              fgColor={token('colors.ink.text-primary')}\n              size={132}\n              style={{ height: 'auto', maxWidth: '100%', width: '100%' }}\n              value={address}\n              viewBox={`0 0 132 132`}\n            />\n          </Flex>\n        </Box>\n        <Flex alignItems=\"center\" flexDirection=\"column\">\n          {accountName && (\n            <styled.span mt=\"space.05\" textStyle=\"label.01\">\n              {accountName}\n            </styled.span>\n          )}\n          <Flex\n            data-testid={SharedComponentsSelectors.AddressDisplayer}\n            flexWrap=\"wrap\"\n            justifyContent=\"center\"\n            maxWidth=\"300px\"\n            mt=\"space.04\"\n          >\n            <AddressDisplayer address={address} />\n          </Flex>\n        </Flex>\n      </Flex>\n    </Sheet>\n  );\n}\n","import { useLocation } from 'react-router-dom';\n\nimport get from 'lodash.get';\n\nimport { analytics } from '@shared/utils/analytics';\n\nimport { copyToClipboard } from '@app/common/utils/copy-to-clipboard';\nimport { useToast } from '@app/features/toasts/use-toast';\nimport { useBackgroundLocationRedirect } from '@app/routes/hooks/use-background-location-redirect';\nimport { useCurrentAccountIndex } from '@app/store/accounts/account';\nimport { useNativeSegwitAccountIndexAddressIndexZero } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\n\nimport { ReceiveTokensLayout } from './components/receive-tokens.layout';\n\ninterface ReceiveBtcModalType {\n  type?: 'btc' | 'btc-stamp';\n}\n\nexport function ReceiveBtcModal({ type = 'btc' }: ReceiveBtcModalType) {\n  useBackgroundLocationRedirect();\n\n  const { state } = useLocation();\n  const toast = useToast();\n\n  const currentAccountIndex = useCurrentAccountIndex();\n  const accountIndex = get(state, 'accountIndex', currentAccountIndex);\n\n  const activeAccountBtcAddress = useNativeSegwitAccountIndexAddressIndexZero(accountIndex);\n  const btcAddress = get(state, 'btcAddress', activeAccountBtcAddress);\n\n  return (\n    <ReceiveTokensLayout\n      address={btcAddress}\n      onCopyAddressToClipboard={async () => {\n        void analytics.track('copy_btc_address_to_clipboard');\n        await copyToClipboard(btcAddress);\n        toast.success('Copied to clipboard!');\n      }}\n      title={type === 'btc-stamp' ? 'BITCOIN STAMP' : 'BTC'}\n    />\n  );\n}\n","import { analytics } from '@shared/utils/analytics';\n\nimport { useCurrentAccountDisplayName } from '@app/common/hooks/account/use-account-names';\nimport { copyToClipboard } from '@app/common/utils/copy-to-clipboard';\nimport { useToast } from '@app/features/toasts/use-toast';\nimport { useBackgroundLocationRedirect } from '@app/routes/hooks/use-background-location-redirect';\nimport { useCurrentStacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\nimport { ReceiveTokensLayout } from './components/receive-tokens.layout';\n\nexport function ReceiveStxModal() {\n  useBackgroundLocationRedirect();\n  const toast = useToast();\n  const currentAccount = useCurrentStacksAccount();\n\n  const { data: accountName = 'Account' } = useCurrentAccountDisplayName();\n\n  if (!currentAccount) return null;\n\n  return (\n    <ReceiveTokensLayout\n      address={currentAccount.address}\n      accountName={accountName}\n      onCopyAddressToClipboard={async () => {\n        void analytics.track('copy_stx_address_to_clipboard');\n        await copyToClipboard(currentAccount.address);\n        toast.success('Copied to clipboard!');\n      }}\n      title=\"STX\"\n    />\n  );\n}\n","import { ReactNode } from 'react';\n\nimport GenericError from '@assets/images/generic-error.png';\nimport { Flex, FlexProps, HStack, styled } from 'leather-styles/jsx';\n\nimport { ExternalLinkIcon, Link } from '@leather.io/ui';\n\nimport { openInNewTab } from '@app/common/utils/open-in-new-tab';\n\nconst supportUrl =\n  'https://wallet.hiro.so/wallet-faq/where-can-i-find-support-for-the-stacks-wallet';\n\ninterface GenericErrorProps extends FlexProps {\n  body: string;\n  helpTextList?: ReactNode[];\n  onClose(): void;\n  title: string;\n}\nexport function GenericErrorLayout(props: GenericErrorProps) {\n  const { body, helpTextList, onClose, title, ...rest } = props;\n\n  return (\n    <Flex alignItems=\"center\" flexDirection=\"column\" px=\"space.05\" width=\"100%\" {...rest}>\n      <styled.img src={GenericError} width=\"106px\" height=\"72px\" alt=\"Error\" mt=\"space.06\" />\n      <styled.h1 mt=\"space.05\" textStyle=\"heading.04\">\n        {title}\n      </styled.h1>\n      <styled.h2\n        mt=\"space.04\"\n        textAlign=\"center\"\n        textStyle=\"label.02\"\n        width=\"100%\"\n        wordWrap=\"break-word\"\n      >\n        {body}\n      </styled.h2>\n      {helpTextList && (\n        <styled.ul\n          border=\"default\"\n          borderRadius=\"sm\"\n          fontSize=\"14px\"\n          lineHeight=\"1.6\"\n          listStyleType=\"circle\"\n          mt=\"space.06\"\n          pb=\"space.05\"\n          pl=\"40px\"\n          pr=\"space.05\"\n          pt=\"space.02\"\n          textAlign=\"left\"\n          width=\"100%\"\n        >\n          {helpTextList}\n          <styled.li mt=\"space.04\" textAlign=\"left\">\n            <HStack alignItems=\"center\">\n              <styled.span textStyle=\"label.02\">Reach out to our support team</styled.span>\n              <styled.button onClick={() => openInNewTab(supportUrl)} type=\"button\">\n                <ExternalLinkIcon />\n              </styled.button>\n            </HStack>\n          </styled.li>\n        </styled.ul>\n      )}\n      <Link fontSize=\"14px\" mt=\"space.05\" onClick={onClose}>\n        Close window\n      </Link>\n    </Flex>\n  );\n}\n","import { ReactNode } from 'react';\n\nimport { FlexProps, styled } from 'leather-styles/jsx';\n\nimport { closeWindow } from '@shared/utils';\n\nimport { GenericErrorLayout } from './generic-error.layout';\n\nexport function GenericErrorListItem({ text }: { text: ReactNode }) {\n  return <styled.li mt=\"space.04\">{text}</styled.li>;\n}\n\ninterface GenericErrorProps extends FlexProps {\n  body: string;\n  helpTextList?: ReactNode[];\n  onClose?(): void;\n  title: string;\n}\n\nexport function GenericError(props: GenericErrorProps) {\n  const { body, helpTextList, onClose = () => closeWindow(), title, ...rest } = props;\n\n  return (\n    <GenericErrorLayout\n      body={body}\n      helpTextList={helpTextList}\n      onClose={onClose}\n      title={title}\n      {...rest}\n    />\n  );\n}\n","import { useLocation } from 'react-router-dom';\n\nimport get from 'lodash.get';\n\nimport { GenericError, GenericErrorListItem } from '@app/components/generic-error/generic-error';\n\nconst helpTextList = [\n  <GenericErrorListItem key={1} text=\"Please report issue to requesting app\" />,\n];\n\nfunction useRequestErrorState() {\n  const location = useLocation();\n  const message = get(location.state, 'message') as string;\n  const title = get(location.state, 'title') as string;\n\n  return { message, title };\n}\n\nexport function RequestError() {\n  const { message, title } = useRequestErrorState();\n\n  return <GenericError body={message} helpTextList={helpTextList} title={title} />;\n}\n","import { ReactNode } from 'react';\n\nimport BroadcastError from '@assets/images/unhappy-face-ui.png';\nimport { SharedComponentsSelectors } from '@tests/selectors/shared-component.selectors';\nimport { Box, Flex, FlexProps, styled } from 'leather-styles/jsx';\n\ninterface BroadcastErrorProps extends FlexProps {\n  title: string;\n  body: string;\n  errorPayload: ReactNode;\n  children?: ReactNode;\n}\nexport function BroadcastErrorLayout(props: BroadcastErrorProps) {\n  const { body, errorPayload, title, children, ...rest } = props;\n\n  return (\n    <Flex\n      alignItems=\"center\"\n      flexDirection=\"column\"\n      px={['space.05', 'unset']}\n      width=\"100%\"\n      {...rest}\n    >\n      <Box mt=\"space.05\">\n        <img src={BroadcastError} alt=\"Unhappy user interface cloud\" width=\"106px\" />\n      </Box>\n      <styled.span\n        data-testid={SharedComponentsSelectors.BroadcastErrorTitle}\n        mx=\"space.05\"\n        mt=\"space.05\"\n        textStyle=\"heading.05\"\n      >\n        {title}\n      </styled.span>\n      <styled.span color=\"ink.text-subdued\" mt=\"space.04\" textAlign=\"center\" textStyle=\"body.02\">\n        {body}\n      </styled.span>\n      {errorPayload && (\n        <Box\n          bg=\"ink.component-background-default\"\n          borderRadius=\"sm\"\n          mt=\"space.05\"\n          mx=\"space.05\"\n          p=\"space.04\"\n          textAlign=\"left\"\n          textStyle=\"code\"\n          fontSize=\"10px\"\n          wordBreak=\"break-all\"\n        >\n          {errorPayload}\n        </Box>\n      )}\n      {children}\n    </Flex>\n  );\n}\n","import { useLocation, useNavigate } from 'react-router-dom';\n\nimport get from 'lodash.get';\n\nimport { Sheet, SheetHeader } from '@leather.io/ui';\n\nimport { RouteUrls } from '@shared/route-urls';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useOnMount } from '@app/common/hooks/use-on-mount';\n\nimport { BroadcastErrorLayout } from './components/broadcast-error.layout';\n\ninterface Props {\n  showInSheet?: boolean;\n}\n\nexport function BroadcastError({ showInSheet = false }: Props) {\n  const { state } = useLocation();\n  const navigate = useNavigate();\n\n  const msg = get(state, 'error.message', 'Unknown error response');\n  const title = get(state, 'title', 'There was an error broadcasting your transaction');\n  const body = get(state, 'body', 'Unable to broadcast transaction');\n\n  useOnMount(() => void analytics.track('bitcoin_contract_error', { msg }));\n\n  const layout = (\n    <BroadcastErrorLayout\n      my=\"space.05\"\n      textAlign=\"center\"\n      errorPayload={msg}\n      title={title}\n      body={body}\n    />\n  );\n\n  if (showInSheet) {\n    return (\n      <Sheet\n        header={<SheetHeader title=\"Error\" />}\n        isShowing\n        onClose={() => navigate(RouteUrls.Home)}\n      >\n        {layout}\n      </Sheet>\n    );\n  }\n\n  return layout;\n}\n","import { useLocation } from 'react-router-dom';\n\nimport get from 'lodash.get';\n\nimport type { Inscription } from '@leather.io/models';\n\nexport function useSendInscriptionRouteState() {\n  const location = useLocation();\n  return {\n    inscription: get(location.state, 'inscription', null) as Inscription | null,\n  };\n}\n","import { getNativeSegwitAddressIndexDerivationPath } from '@leather.io/bitcoin';\nimport type { BitcoinNetworkModes, Inscription } from '@leather.io/models';\nimport type { UtxoWithDerivationPath } from '@leather.io/query';\n\ninterface CreateUtxoFromInscriptionArgs {\n  inscription: Inscription;\n  network: BitcoinNetworkModes;\n  accountIndex: number;\n  inscriptionAddressIdx: number;\n}\nexport function createUtxoFromInscription({\n  inscription,\n  network,\n  accountIndex,\n  inscriptionAddressIdx,\n}: CreateUtxoFromInscriptionArgs): UtxoWithDerivationPath {\n  const { genesisBlockHash, genesisTimestamp, genesisBlockHeight, value } = inscription;\n  return {\n    txid: inscription.txid,\n    vout: Number(inscription.output),\n    status: {\n      confirmed: true,\n      block_height: genesisBlockHeight,\n      block_hash: genesisBlockHash,\n      block_time: genesisTimestamp,\n    },\n    value: Number(value),\n    derivationPath: getNativeSegwitAddressIndexDerivationPath(\n      network,\n      accountIndex,\n      inscriptionAddressIdx\n    ),\n  };\n}\n","import type { AverageBitcoinFeeRates } from '@leather.io/models';\nimport { useAverageBitcoinFeeRates } from '@leather.io/query';\n\ninterface SendInscriptionLoaderProps {\n  children(data: { feeRates: AverageBitcoinFeeRates }): React.JSX.Element;\n}\nexport function SendInscriptionLoader({ children }: SendInscriptionLoaderProps) {\n  const { data: feeRates } = useAverageBitcoinFeeRates();\n  if (!feeRates) return null;\n  return children({ feeRates });\n}\n","import { useState } from 'react';\nimport { Outlet, useLocation, useOutletContext } from 'react-router-dom';\n\nimport get from 'lodash.get';\n\nimport type { AverageBitcoinFeeRates, BtcFeeType, Inscription } from '@leather.io/models';\nimport { type UtxoWithDerivationPath, useInscriptionsAddressesMap } from '@leather.io/query';\n\nimport { useOnMount } from '@app/common/hooks/use-on-mount';\nimport { useCurrentAccountIndex } from '@app/store/accounts/account';\nimport { useCurrentAccountNativeSegwitIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useCurrentTaprootAccount } from '@app/store/accounts/blockchain/bitcoin/taproot-account.hooks';\nimport { useCurrentNetwork } from '@app/store/networks/networks.selectors';\n\nimport { useSendInscriptionRouteState } from '../hooks/use-send-inscription-route-state';\nimport { createUtxoFromInscription } from './create-utxo-from-inscription';\nimport { SendInscriptionLoader } from './send-inscription-loader';\n\ninterface SendInscriptionContextState {\n  feeRates: AverageBitcoinFeeRates;\n  inscription: Inscription;\n  selectedFeeType: BtcFeeType;\n  setSelectedFeeType(value: BtcFeeType | null): void;\n  utxo: UtxoWithDerivationPath;\n}\nexport function useSendInscriptionState() {\n  const location = useLocation();\n  const context = useOutletContext<SendInscriptionContextState>();\n  return { ...context, recipient: get(location.state, 'recipient', '') as string };\n}\n\nexport function SendInscriptionContainer() {\n  const [selectedFeeType, setSelectedFeeType] = useState<BtcFeeType | null>(null);\n  const [inscription, setInscription] = useState<Inscription | null>(null);\n  const [utxo, setUtxo] = useState<UtxoWithDerivationPath | null>(null);\n\n  const routeState = useSendInscriptionRouteState();\n  const network = useCurrentNetwork();\n  const currentAccountIndex = useCurrentAccountIndex();\n  const account = useCurrentTaprootAccount();\n  const nativeSegwitSigner = useCurrentAccountNativeSegwitIndexZeroSigner();\n\n  const addressesMap = useInscriptionsAddressesMap({\n    taprootKeychain: account?.keychain,\n    nativeSegwitAddress: nativeSegwitSigner.address,\n  });\n  useOnMount(() => {\n    if (!routeState.inscription) return;\n    setInscription(routeState.inscription);\n    setUtxo(\n      createUtxoFromInscription({\n        inscription: routeState.inscription,\n        network: network.chain.bitcoin.mode,\n        accountIndex: currentAccountIndex,\n        inscriptionAddressIdx: addressesMap[routeState.inscription.address],\n      })\n    );\n  });\n\n  if (!inscription || !utxo) return null;\n\n  return (\n    <SendInscriptionLoader>\n      {({ feeRates }) => (\n        <Outlet context={{ feeRates, inscription, selectedFeeType, setSelectedFeeType, utxo }} />\n      )}\n    </SendInscriptionLoader>\n  );\n}\n","import { useNavigate } from 'react-router-dom';\n\nimport { Box } from 'leather-styles/jsx';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { GenericError } from '@app/components/generic-error/generic-error';\n\nconst body = 'Please set a custom fee';\nconst title = 'Unable to calculate fees';\n\nexport function FeesListError() {\n  const navigate = useNavigate();\n\n  return (\n    <Box textAlign=\"center\" px={['unset', 'space.05']} py=\"space.04\" width=\"100%\">\n      <GenericError body={body} onClose={() => navigate(RouteUrls.SendCryptoAsset)} title={title} />\n    </Box>\n  );\n}\n","import { SharedComponentsSelectors } from '@tests/selectors/shared-component.selectors';\nimport { Flex, styled } from 'leather-styles/jsx';\n\ninterface FeesListItemProps {\n  arrivesIn: string;\n  feeAmount: string;\n  feeFiatValue: string;\n  feeRate: number;\n  feeType: string;\n  isSelected?: boolean;\n  onClick(): void;\n}\nexport function FeesListItem({\n  arrivesIn,\n  feeAmount,\n  feeFiatValue,\n  feeRate,\n  feeType,\n  isSelected,\n  ...props\n}: FeesListItemProps) {\n  return (\n    <styled.button\n      _hover={{ background: 'ink.component-background-hover' }}\n      border={isSelected ? 'focus' : 'default'}\n      borderRadius=\"xs\"\n      boxShadow=\"0px 1px 2px rgba(0, 0, 0, 0.04)\"\n      data-testid={SharedComponentsSelectors.FeesListItem}\n      px=\"space.04\"\n      py=\"space.06\"\n      transition=\"transition\"\n      type=\"button\"\n      width=\"100%\"\n      {...props}\n    >\n      <Flex justifyContent=\"center\" mb=\"space.03\">\n        <styled.span textStyle=\"label.01\" mr=\"space.02\">\n          {feeType}\n        </styled.span>\n        <styled.span textStyle=\"label.01\">{arrivesIn}</styled.span>\n      </Flex>\n      <Flex justifyContent=\"center\">\n        <styled.span\n          textStyle=\"caption.01\"\n          data-testid={SharedComponentsSelectors.FeesListItemFeeValue}\n        >\n          {`${feeFiatValue} | ${feeRate} sats/vB | ${feeAmount}`}\n        </styled.span>\n      </Flex>\n    </styled.button>\n  );\n}\n","import { useCallback } from 'react';\n\nimport { Stack } from 'leather-styles/jsx';\n\nimport type { BtcFeeType } from '@leather.io/models';\n\nimport { LoadingSpinner } from '../loading-spinner';\nimport { FeesListError } from './components/fees-list-error';\nimport { FeesListItem } from './components/fees-list-item';\n\nexport interface FeesListItem {\n  label: BtcFeeType;\n  value: number;\n  btcValue: string;\n  time: string;\n  fiatValue: string;\n  feeRate: number;\n}\n\nexport interface OnChooseFeeArgs {\n  feeRate: number;\n  feeValue: number;\n  time: string;\n  isCustomFee?: boolean;\n}\n\ninterface BitcoinFeesListProps {\n  feesList: FeesListItem[];\n  isLoading: boolean;\n  onChooseFee({ feeRate, feeValue, time }: OnChooseFeeArgs): Promise<void>;\n  onSetSelectedFeeType(value: BtcFeeType): void;\n  onValidateBitcoinSpend(value: number): boolean;\n  selectedFeeType: BtcFeeType | null;\n}\nexport function BitcoinFeesList({\n  feesList,\n  isLoading,\n  onChooseFee,\n  onSetSelectedFeeType,\n  onValidateBitcoinSpend,\n  selectedFeeType,\n}: BitcoinFeesListProps) {\n  const onSelectBtcFeeType = useCallback(\n    async ({ feeRate, feeValue, time }: OnChooseFeeArgs, label: BtcFeeType) => {\n      onSetSelectedFeeType(label);\n      const isValid = onValidateBitcoinSpend(feeValue);\n      if (!isValid) return;\n      await onChooseFee({ feeRate, feeValue, time });\n    },\n    [onChooseFee, onSetSelectedFeeType, onValidateBitcoinSpend]\n  );\n\n  if (isLoading) return <LoadingSpinner />;\n  if (!feesList.length) return <FeesListError />;\n\n  return (\n    <Stack gap=\"space.04\" mt=\"space.02\" width=\"100%\">\n      {feesList.map(({ label, value, btcValue, fiatValue, time, feeRate }) => (\n        <FeesListItem\n          arrivesIn={time}\n          feeAmount={btcValue}\n          feeFiatValue={fiatValue}\n          feeRate={feeRate}\n          feeType={label}\n          key={label}\n          isSelected={label === selectedFeeType}\n          onClick={() => onSelectBtcFeeType({ feeRate, feeValue: value, time }, label)}\n        />\n      ))}\n    </Stack>\n  );\n}\n","import { Dispatch, SetStateAction, useCallback, useRef } from 'react';\n\nimport { SendCryptoAssetSelectors } from '@tests/selectors/send.selectors';\nimport { Form, Formik } from 'formik';\nimport { Stack, styled } from 'leather-styles/jsx';\nimport * as yup from 'yup';\n\nimport type { BtcFeeType } from '@leather.io/models';\nimport { Button, Link } from '@leather.io/ui';\n\nimport type { TransferRecipient } from '@shared/models/form.model';\n\nimport { openInNewTab } from '@app/common/utils/open-in-new-tab';\n\nimport { OnChooseFeeArgs } from '../bitcoin-fees-list/bitcoin-fees-list';\nimport { BitcoinCustomFeeInput } from './bitcoin-custom-fee-input';\nimport { useBitcoinCustomFee } from './hooks/use-bitcoin-custom-fee';\n\ninterface BitcoinCustomFeeProps {\n  amount: number;\n  customFeeInitialValue: string;\n  hasInsufficientBalanceError: boolean;\n  isSendingMax: boolean;\n  onChooseFee({ feeRate, feeValue, time, isCustomFee }: OnChooseFeeArgs): Promise<void>;\n  onSetSelectedFeeType(value: BtcFeeType | null): void;\n  onValidateBitcoinSpend(value: number): boolean;\n  recipients: TransferRecipient[];\n  setCustomFeeInitialValue: Dispatch<SetStateAction<string>>;\n  maxCustomFeeRate: number;\n}\n\nexport function BitcoinCustomFee({\n  customFeeInitialValue,\n  hasInsufficientBalanceError,\n  isSendingMax,\n  onChooseFee,\n  onSetSelectedFeeType,\n  onValidateBitcoinSpend,\n  recipients,\n  setCustomFeeInitialValue,\n  maxCustomFeeRate,\n}: BitcoinCustomFeeProps) {\n  const feeInputRef = useRef<HTMLInputElement | null>(null);\n  const getCustomFeeValues = useBitcoinCustomFee({\n    isSendingMax,\n    recipients,\n  });\n\n  const onChooseCustomBtcFee = useCallback(\n    async ({ feeRate }: { feeRate: string }) => {\n      onSetSelectedFeeType(null);\n      const { fee: feeValue } = getCustomFeeValues(Number(feeRate));\n      const isValid = onValidateBitcoinSpend(feeValue);\n      if (!isValid) return;\n      await onChooseFee({ feeRate: Number(feeRate), feeValue, time: '', isCustomFee: true });\n    },\n    [onSetSelectedFeeType, getCustomFeeValues, onValidateBitcoinSpend, onChooseFee]\n  );\n\n  const validationSchema = yup.object({\n    feeRate: yup\n      .number()\n      .required('Fee is required')\n      .integer('Fee must be a whole number')\n      .test({\n        message: 'Fee is too high',\n        test: value => {\n          return value <= maxCustomFeeRate;\n        },\n      }),\n  });\n\n  return (\n    <Formik\n      initialValues={{ feeRate: customFeeInitialValue.toString() }}\n      onSubmit={onChooseCustomBtcFee}\n      validateOnChange={false}\n      validateOnBlur={false}\n      validateOnMount={false}\n      validationSchema={validationSchema}\n    >\n      {props => (\n        <Form>\n          <Stack gap=\"space.06\" mt=\"space.02\">\n            <Stack gap=\"space.05\">\n              <styled.span color=\"ink.text-subdued\" textStyle=\"body.02\" maxWidth=\"21.5rem\">\n                Higher fee rates typically lead to faster confirmation times.\n                <Link\n                  ml=\"space.01\"\n                  onClick={() => openInNewTab('https://buybitcoinworldwide.com/fee-calculator/')}\n                  textStyle=\"body.02\"\n                >\n                  View fee calculator\n                </Link>\n              </styled.span>\n              <BitcoinCustomFeeInput\n                isSendingMax={isSendingMax}\n                onClick={async () => {\n                  feeInputRef.current?.focus();\n                  await props.setValues({ ...props.values });\n                }}\n                customFeeInitialValue={customFeeInitialValue}\n                setCustomFeeInitialValue={setCustomFeeInitialValue}\n                recipients={recipients}\n                hasInsufficientBalanceError={hasInsufficientBalanceError}\n              />\n            </Stack>\n            <Button\n              data-testid={SendCryptoAssetSelectors.PreviewSendTxBtn}\n              disabled={!props.values.feeRate}\n              type=\"submit\"\n            >\n              Use custom fee\n            </Button>\n          </Stack>\n        </Form>\n      )}\n    </Formik>\n  );\n}\n","import { styled } from 'leather-styles/jsx';\n\nimport type { Money } from '@leather.io/models';\nimport { formatMoney } from '@leather.io/utils';\n\ninterface ChooseFeeAmountProps {\n  amount: Money;\n  showError: boolean;\n}\n\nexport function ChooseFeeAmount({ amount, showError }: ChooseFeeAmountProps) {\n  return (\n    <styled.h3 textStyle=\"heading.03\" color={showError ? 'red.action-primary-default' : 'unset'}>\n      {formatMoney(amount)}\n    </styled.h3>\n  );\n}\n","import { styled } from 'leather-styles/jsx';\n\nexport function ChooseFeeSubtitle({ isSendingMax }: { isSendingMax: boolean }) {\n  const subtitle = isSendingMax ? (\n    'Chosen fee will affect your sending amount'\n  ) : (\n    <>\n      Fees are deducted from your balance <br /> and will not affect your sending amount\n    </>\n  );\n\n  return (\n    <styled.span color=\"ink.text-subdued\" textAlign=\"center\" textStyle=\"caption.01\">\n      {subtitle}\n    </styled.span>\n  );\n}\n","import { Suspense } from 'react';\n\nimport { Box, Stack, StackProps } from 'leather-styles/jsx';\n\nimport { Tabs } from '@leather.io/ui';\n\nimport { analytics } from '@shared/utils/analytics';\n\nimport { LoadingSpinner } from '@app/components/loading-spinner';\n\nenum CustomFeeTabs {\n  Recommended = 'recommended',\n  Custom = 'custom',\n}\n\ninterface ChooseFeeTabsProps extends StackProps {\n  customFee: React.JSX.Element;\n  defaultToCustomFee: boolean;\n  feesList: React.JSX.Element;\n}\nexport function ChooseFeeTabs(props: ChooseFeeTabsProps) {\n  const { customFee, defaultToCustomFee, feesList, ...rest } = props;\n\n  return (\n    <Stack flexGrow={1} gap=\"space.04\" mt=\"space.02\" width=\"100%\" {...rest}>\n      <Tabs.Root\n        defaultValue={defaultToCustomFee ? CustomFeeTabs.Custom : CustomFeeTabs.Recommended}\n        onValueChange={tab => void analytics.page('view', 'custom-fee-tab-' + tab)}\n      >\n        <Tabs.List>\n          <Tabs.Trigger value={CustomFeeTabs.Recommended} data-testid=\"tab-recommended\">\n            Recommended\n          </Tabs.Trigger>\n          <Tabs.Trigger value=\"custom\" data-testid=\"tab-custom\">\n            Custom\n          </Tabs.Trigger>\n        </Tabs.List>\n        <Tabs.Content value={CustomFeeTabs.Recommended}>\n          <Suspense fallback={<LoadingSpinner pb=\"space.10\" />}>\n            <Box mt=\"space.05\">{feesList}</Box>\n          </Suspense>\n        </Tabs.Content>\n        <Tabs.Content value={CustomFeeTabs.Custom}>\n          <Suspense fallback={<LoadingSpinner pb=\"72px\" />}>\n            <Box mt=\"space.05\" width=\"100%\">\n              {customFee}\n            </Box>\n          </Suspense>\n        </Tabs.Content>\n      </Tabs.Root>\n    </Stack>\n  );\n}\n","import { Box, BoxProps, styled } from 'leather-styles/jsx';\n\nexport function InsufficientBalanceError(props: BoxProps) {\n  return (\n    <Box alignItems=\"center\" display=\"flex\" minHeight=\"40px\" {...props}>\n      <styled.span color=\"red.action-primary-default\" textAlign=\"center\" textStyle=\"label.03\">\n        Fee is too expensive for available bitcoin balance\n      </styled.span>\n    </Box>\n  );\n}\n","import { useState } from 'react';\n\nimport { Box, Flex, FlexProps, Stack } from 'leather-styles/jsx';\n\nimport type { BtcFeeType, Money } from '@leather.io/models';\nimport { formatMoney } from '@leather.io/utils';\n\nimport type { TransferRecipient } from '@shared/models/form.model';\n\nimport { BitcoinCustomFee } from '@app/components/bitcoin-custom-fee/bitcoin-custom-fee';\nimport { MAX_FEE_RATE_MULTIPLIER } from '@app/components/bitcoin-custom-fee/hooks/use-bitcoin-custom-fee';\nimport { OnChooseFeeArgs } from '@app/components/bitcoin-fees-list/bitcoin-fees-list';\nimport { AvailableBalance, Card } from '@app/components/layout';\nimport { LoadingSpinner } from '@app/components/loading-spinner';\nimport { useCurrentBtcCryptoAssetBalanceNativeSegwit } from '@app/query/bitcoin/balance/btc-balance-native-segwit.hooks';\nimport { useIsPrivateMode } from '@app/store/settings/settings.selectors';\n\nimport { ChooseFeeAmount } from './components/choose-fee-amount';\nimport { ChooseFeeSubtitle } from './components/choose-fee-subtitle';\nimport { ChooseFeeTabs } from './components/choose-fee-tabs';\nimport { InsufficientBalanceError } from './components/insufficient-balance-error';\n\ninterface BitcoinChooseFeeProps extends FlexProps {\n  amount: Money;\n  defaultToCustomFee: boolean;\n  feesList: React.JSX.Element;\n  isLoading: boolean;\n  isSendingMax: boolean;\n  onChooseFee({ feeRate, feeValue, time }: OnChooseFeeArgs): Promise<void>;\n  onSetSelectedFeeType(value: BtcFeeType | null): void;\n  onValidateBitcoinSpend(value: number): boolean;\n  recipients: TransferRecipient[];\n  recommendedFeeRate: string;\n  showError: boolean;\n  maxRecommendedFeeRate?: number;\n}\nexport function BitcoinChooseFee({\n  amount,\n  defaultToCustomFee,\n  feesList,\n  isLoading,\n  isSendingMax,\n  onChooseFee,\n  onSetSelectedFeeType,\n  onValidateBitcoinSpend,\n  recipients,\n  recommendedFeeRate,\n  showError,\n  maxRecommendedFeeRate = 0,\n  ...rest\n}: BitcoinChooseFeeProps) {\n  const { balance } = useCurrentBtcCryptoAssetBalanceNativeSegwit();\n  const hasAmount = amount.amount.isGreaterThan(0);\n  const [customFeeInitialValue, setCustomFeeInitialValue] = useState(recommendedFeeRate);\n  const isPrivate = useIsPrivateMode();\n\n  if (isLoading) {\n    return (\n      <Flex py=\"108px\" justifyContent=\"center\" alignItems=\"center\" width=\"100%\">\n        <LoadingSpinner />\n      </Flex>\n    );\n  }\n\n  return (\n    <Card\n      border=\"unset\"\n      footer={\n        <Box mt=\"space.05\" width=\"100%\">\n          <AvailableBalance balance={formatMoney(balance.availableBalance)} isPrivate={isPrivate} />\n        </Box>\n      }\n      {...rest}\n    >\n      <Stack alignItems=\"center\" width=\"100%\">\n        {hasAmount && <ChooseFeeAmount amount={amount} showError={showError} />}\n        {showError ? (\n          <InsufficientBalanceError pb={hasAmount ? '0px' : '16px'} />\n        ) : (\n          <ChooseFeeSubtitle isSendingMax={isSendingMax} />\n        )}\n        <ChooseFeeTabs\n          defaultToCustomFee={defaultToCustomFee}\n          customFee={\n            <BitcoinCustomFee\n              amount={amount.amount.toNumber()}\n              customFeeInitialValue={customFeeInitialValue}\n              hasInsufficientBalanceError={showError}\n              isSendingMax={isSendingMax}\n              onChooseFee={onChooseFee}\n              onSetSelectedFeeType={onSetSelectedFeeType}\n              onValidateBitcoinSpend={onValidateBitcoinSpend}\n              recipients={recipients}\n              setCustomFeeInitialValue={setCustomFeeInitialValue}\n              maxCustomFeeRate={maxRecommendedFeeRate * MAX_FEE_RATE_MULTIPLIER}\n            />\n          }\n          feesList={feesList}\n        />\n      </Stack>\n    </Card>\n  );\n}\n","import { useState } from 'react';\n\nimport type { Money } from '@leather.io/models';\nimport { createMoney, subtractMoney, sumMoney } from '@leather.io/utils';\n\nimport { useCurrentBtcCryptoAssetBalanceNativeSegwit } from '@app/query/bitcoin/balance/btc-balance-native-segwit.hooks';\n\nexport function useValidateBitcoinSpend(amount?: Money, isSendingMax?: boolean) {\n  const [showInsufficientBalanceError, setShowInsufficientBalanceError] = useState(false);\n  const { balance } = useCurrentBtcCryptoAssetBalanceNativeSegwit();\n\n  return {\n    showInsufficientBalanceError,\n    onValidateBitcoinFeeSpend(feeValue: number) {\n      const feeAsMoney = createMoney(feeValue, 'BTC');\n\n      if (feeAsMoney.amount.isGreaterThan(balance.availableBalance.amount)) {\n        setShowInsufficientBalanceError(true);\n        return false;\n      }\n      return true;\n    },\n    onValidateBitcoinAmountSpend(feeValue: number) {\n      const feeAsMoney = createMoney(feeValue, 'BTC');\n\n      if (!amount) {\n        throw new Error('Amount should be defined to validate total spend');\n      }\n\n      const totalSpend = isSendingMax\n        ? subtractMoney(balance.availableBalance, feeAsMoney)\n        : sumMoney([amount, feeAsMoney]);\n\n      if (totalSpend.amount.isGreaterThan(balance.availableBalance.amount)) {\n        setShowInsufficientBalanceError(true);\n        return false;\n      }\n\n      return true;\n    },\n  };\n}\n","import { BTC_P2WPKH_DUST_AMOUNT } from '@leather.io/constants';\nimport type { UtxoResponseItem, UtxoWithDerivationPath } from '@leather.io/query';\nimport { createCounter, isDefined, sumNumbers } from '@leather.io/utils';\n\nimport { BtcSizeFeeEstimator } from '@app/common/transactions/bitcoin/fees/btc-size-fee-estimator';\n\ninterface SelectInscriptionCoinSuccess {\n  success: true;\n  inputs: UtxoResponseItem[];\n  outputs: { value: bigint; address: string }[];\n  txFee: number;\n}\n\ninterface SelectInscriptionCoinFailure {\n  success: false;\n}\n\ntype SelectInscriptionCoinResult = SelectInscriptionCoinSuccess | SelectInscriptionCoinFailure;\n\ninterface SelectInscriptionTransferCoinsArgs {\n  inscriptionInput: UtxoWithDerivationPath;\n  nativeSegwitUtxos: UtxoResponseItem[];\n  feeRate: number;\n  recipient: string;\n  changeAddress: string;\n}\n\nexport function selectTaprootInscriptionTransferCoins(\n  args: SelectInscriptionTransferCoinsArgs\n): SelectInscriptionCoinResult {\n  const { inscriptionInput, recipient, changeAddress, nativeSegwitUtxos, feeRate } = args;\n\n  if (nativeSegwitUtxos.length === 0) return { success: false };\n\n  const txSizer = new BtcSizeFeeEstimator();\n\n  const initialTxSize = txSizer.calcTxSize({\n    input_script: 'p2wpkh',\n    input_count: 1,\n    // From the address of the recipient, we infer the output type\n    p2tr_output_count: 1,\n    p2wpkh_output_count: 1,\n  });\n\n  const neededInputs: UtxoResponseItem[] = [];\n\n  let txFee = Math.ceil(initialTxSize.txVBytes * feeRate);\n\n  const indexCounter = createCounter();\n\n  function shouldContinueTryingWithMoreInputs() {\n    const neededSumOfInputs = sumNumbers(neededInputs.map(utxo => utxo.value));\n    if (indexCounter.getValue() > nativeSegwitUtxos.length) return false;\n    return txFee >= neededSumOfInputs.toNumber();\n  }\n\n  let utxos = nativeSegwitUtxos\n    .filter(utxo => utxo.value >= BTC_P2WPKH_DUST_AMOUNT)\n    .sort((a, b) => b.value - a.value);\n  let txSize = null;\n\n  while (shouldContinueTryingWithMoreInputs()) {\n    const [nextUtxo, ...remainingUtxos] = utxos;\n    if (nextUtxo) neededInputs.push(nextUtxo);\n    utxos = remainingUtxos;\n    txSize = txSizer.calcTxSize({\n      input_script: 'p2wpkh',\n      input_count: neededInputs.length + 1,\n      p2tr_output_count: 1,\n      p2wpkh_output_count: 1,\n    });\n    indexCounter.increment();\n  }\n\n  if (!txSize) throw new Error('Transaction size must be defined');\n\n  txFee = Math.ceil(txSize.txVBytes * feeRate);\n\n  const inputs = [...neededInputs];\n\n  const changeAmount = sumNumbers(neededInputs.map(utxo => utxo.value)).minus(txFee);\n\n  if (changeAmount.isLessThan(0)) return { success: false };\n\n  const outputs = [\n    // outputs[0] = inscription going to recipient\n    { value: BigInt(inscriptionInput.value), address: recipient },\n    changeAmount.isGreaterThan(0)\n      ? { value: BigInt(changeAmount.toNumber()), address: changeAddress }\n      : undefined,\n  ].filter(isDefined);\n\n  return { success: true, inputs, outputs, txFee };\n}\n","import * as btc from '@scure/btc-signer';\nimport { AddressType, getAddressInfo } from 'bitcoin-address-validation';\n\nimport { extractAddressIndexFromPath } from '@leather.io/crypto';\nimport type { UtxoWithDerivationPath } from '@leather.io/query';\nimport { createCounter, createMoney } from '@leather.io/utils';\n\nimport { BitcoinInputSigningConfig } from '@shared/crypto/bitcoin/signer-config';\nimport { logger } from '@shared/logger';\nimport { OrdinalSendFormValues } from '@shared/models/form.model';\n\nimport {\n  InsufficientFundsError,\n  determineUtxosForSpend,\n} from '@app/common/transactions/bitcoin/coinselect/local-coin-selection';\nimport { useCurrentNativeSegwitUtxos } from '@app/query/bitcoin/address/utxos-by-address.hooks';\nimport { useBitcoinScureLibNetworkConfig } from '@app/store/accounts/blockchain/bitcoin/bitcoin-keychain';\nimport { useCurrentAccountNativeSegwitSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useCurrentAccountTaprootSigner } from '@app/store/accounts/blockchain/bitcoin/taproot-account.hooks';\n\nimport { selectTaprootInscriptionTransferCoins } from '../coinselect/select-inscription-coins';\n\nexport function useGenerateUnsignedOrdinalTx(inscriptionInput: UtxoWithDerivationPath) {\n  const createTaprootSigner = useCurrentAccountTaprootSigner();\n  const createNativeSegwitSigner = useCurrentAccountNativeSegwitSigner();\n  const networkMode = useBitcoinScureLibNetworkConfig();\n  const { data: nativeSegwitUtxos } = useCurrentNativeSegwitUtxos();\n\n  function coverFeeFromAdditionalUtxos(values: OrdinalSendFormValues) {\n    if (getAddressInfo(values.inscription.address).type === AddressType.p2wpkh) {\n      return formNativeSegwitOrdinalTx(values);\n    }\n\n    return formTaprootOrdinalTx(values);\n  }\n\n  function formTaprootOrdinalTx(values: OrdinalSendFormValues) {\n    const addressIndex = extractAddressIndexFromPath(inscriptionInput.derivationPath);\n    const taprootSigner = createTaprootSigner?.(addressIndex);\n    const nativeSegwitSigner = createNativeSegwitSigner?.(0);\n\n    if (!taprootSigner || !nativeSegwitSigner || !nativeSegwitUtxos || !values.feeRate) return;\n\n    const result = selectTaprootInscriptionTransferCoins({\n      recipient: values.recipient,\n      inscriptionInput,\n      nativeSegwitUtxos,\n      changeAddress: nativeSegwitSigner.payment.address!,\n      feeRate: values.feeRate,\n    });\n\n    const psbtInputCounter = createCounter();\n\n    const signingConfig: BitcoinInputSigningConfig[] = [];\n\n    if (!result.success) return null;\n\n    const { inputs, outputs, txFee } = result;\n\n    try {\n      const tx = new btc.Transaction();\n\n      // Inscription input\n      tx.addInput({\n        txid: inscriptionInput.txid,\n        index: inscriptionInput.vout,\n        tapInternalKey: taprootSigner.payment.tapInternalKey,\n        sequence: 0,\n        witnessUtxo: {\n          script: taprootSigner.payment.script,\n          amount: BigInt(inscriptionInput.value),\n        },\n      });\n      signingConfig.push({\n        derivationPath: taprootSigner.derivationPath,\n        index: psbtInputCounter.getValue(),\n      });\n      psbtInputCounter.increment();\n\n      // Fee-covering Native Segwit inputs\n      inputs.forEach(input => {\n        tx.addInput({\n          txid: input.txid,\n          index: input.vout,\n          sequence: 0,\n          witnessUtxo: {\n            amount: BigInt(input.value),\n            script: nativeSegwitSigner.payment.script,\n          },\n        });\n        signingConfig.push({\n          derivationPath: nativeSegwitSigner.derivationPath,\n          index: psbtInputCounter.getValue(),\n        });\n        psbtInputCounter.increment();\n      });\n\n      // Recipient and change outputs\n      outputs.forEach(output => tx.addOutputAddress(output.address, output.value, networkMode));\n\n      tx.toPSBT();\n\n      return { psbt: tx.toPSBT(), signingConfig, txFee };\n    } catch (e) {\n      if (e instanceof InsufficientFundsError) {\n        throw new InsufficientFundsError();\n      }\n      logger.error('Unable to sign transaction', e);\n      return null;\n    }\n  }\n\n  function formNativeSegwitOrdinalTx(values: OrdinalSendFormValues) {\n    const nativeSegwitSigner = createNativeSegwitSigner?.(0);\n\n    const { feeRate, recipient } = values;\n    if (!nativeSegwitSigner || !nativeSegwitUtxos || !values.feeRate) return;\n\n    const determineUtxosArgs = {\n      feeRate,\n      recipients: [{ address: recipient, amount: createMoney(0, 'BTC') }],\n      utxos: nativeSegwitUtxos,\n    };\n\n    const { inputs, outputs, fee } = determineUtxosForSpend(determineUtxosArgs);\n\n    try {\n      const tx = new btc.Transaction();\n\n      // Fee-covering Native Segwit inputs\n      [inscriptionInput, ...inputs].forEach(input =>\n        tx.addInput({\n          txid: input.txid,\n          index: input.vout,\n          sequence: 0,\n          witnessUtxo: {\n            amount: BigInt(input.value),\n            script: nativeSegwitSigner.payment.script,\n          },\n        })\n      );\n\n      // Inscription output\n      tx.addOutputAddress(values.recipient, BigInt(inscriptionInput.value), networkMode);\n\n      // Recipient and change outputs\n      outputs.forEach(output => {\n        if (Number(output.value) === 0) return;\n\n        if (!output.address) {\n          tx.addOutputAddress(nativeSegwitSigner.address, BigInt(output.value), networkMode);\n          return;\n        }\n        tx.addOutputAddress(values.recipient, BigInt(output.value), networkMode);\n      });\n\n      return { psbt: tx.toPSBT(), signingConfig: undefined, txFee: fee };\n    } catch (e) {\n      if (e instanceof InsufficientFundsError) {\n        throw new InsufficientFundsError();\n      }\n      logger.error('Unable to sign transaction', e);\n      return null;\n    }\n  }\n\n  return { coverFeeFromAdditionalUtxos };\n}\n","import { useCallback, useMemo } from 'react';\n\nimport { BtcFeeType, Inscription, btcTxTimeMap } from '@leather.io/models';\nimport {\n  type UtxoWithDerivationPath,\n  useAverageBitcoinFeeRates,\n  useCryptoCurrencyMarketDataMeanAverage,\n} from '@leather.io/query';\nimport {\n  baseCurrencyAmountInQuote,\n  createMoney,\n  formatMoneyPadded,\n  i18nFormatCurrency,\n} from '@leather.io/utils';\n\nimport { FeesListItem } from '@app/components/bitcoin-fees-list/bitcoin-fees-list';\nimport { useCurrentNativeSegwitUtxos } from '@app/query/bitcoin/address/utxos-by-address.hooks';\nimport { useCurrentAccountNativeSegwitSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\n\nimport { useGenerateUnsignedOrdinalTx } from './use-generate-ordinal-tx';\n\ninterface UseSendInscriptionFeesListArgs {\n  recipient: string;\n  utxo: UtxoWithDerivationPath;\n  inscription: Inscription;\n}\n\nexport function useSendInscriptionFeesList({\n  recipient,\n  utxo,\n  inscription,\n}: UseSendInscriptionFeesListArgs) {\n  const createNativeSegwitSigner = useCurrentAccountNativeSegwitSigner();\n  const { data: nativeSegwitUtxos } = useCurrentNativeSegwitUtxos();\n\n  const btcMarketData = useCryptoCurrencyMarketDataMeanAverage('BTC');\n  const { data: feeRates, isLoading } = useAverageBitcoinFeeRates();\n\n  const { coverFeeFromAdditionalUtxos } = useGenerateUnsignedOrdinalTx(utxo);\n\n  const getTransactionFee = useCallback(\n    (feeRate: number) => {\n      try {\n        const tx = coverFeeFromAdditionalUtxos({\n          recipient,\n          feeRate,\n          inscription,\n        });\n\n        return tx?.txFee;\n      } catch (error) {\n        return null;\n      }\n    },\n    [coverFeeFromAdditionalUtxos, recipient, inscription]\n  );\n\n  const feesList: FeesListItem[] = useMemo(() => {\n    function getFiatFeeValue(fee: number) {\n      return `~ ${i18nFormatCurrency(\n        baseCurrencyAmountInQuote(createMoney(Math.ceil(fee), 'BTC'), btcMarketData)\n      )}`;\n    }\n\n    const nativeSegwitSigner = createNativeSegwitSigner?.(0);\n\n    if (!feeRates || !nativeSegwitUtxos || !nativeSegwitSigner) return [];\n\n    const highFeeValue = getTransactionFee(feeRates.fastestFee.toNumber());\n    const standardFeeValue = getTransactionFee(feeRates.halfHourFee.toNumber());\n    const lowFeeValue = getTransactionFee(feeRates.hourFee.toNumber());\n\n    const feesArr = [];\n\n    if (highFeeValue) {\n      feesArr.push({\n        label: BtcFeeType.High,\n        value: highFeeValue,\n        btcValue: formatMoneyPadded(createMoney(highFeeValue, 'BTC')),\n        time: btcTxTimeMap.fastestFee,\n        fiatValue: getFiatFeeValue(highFeeValue),\n        feeRate: feeRates.fastestFee.toNumber(),\n      });\n    }\n\n    if (standardFeeValue) {\n      feesArr.push({\n        label: BtcFeeType.Standard,\n        value: standardFeeValue,\n        btcValue: formatMoneyPadded(createMoney(standardFeeValue, 'BTC')),\n        time: btcTxTimeMap.halfHourFee,\n        fiatValue: getFiatFeeValue(standardFeeValue),\n        feeRate: feeRates.halfHourFee.toNumber(),\n      });\n    }\n\n    if (lowFeeValue) {\n      feesArr.push({\n        label: BtcFeeType.Low,\n        value: lowFeeValue,\n        btcValue: formatMoneyPadded(createMoney(lowFeeValue, 'BTC')),\n        time: btcTxTimeMap.hourFee,\n        fiatValue: getFiatFeeValue(lowFeeValue),\n        feeRate: feeRates.hourFee.toNumber(),\n      });\n    }\n\n    return feesArr;\n  }, [feeRates, nativeSegwitUtxos, btcMarketData, createNativeSegwitSigner, getTransactionFee]);\n\n  return {\n    feesList,\n    isLoading,\n  };\n}\n","import { Network, validate } from 'bitcoin-address-validation';\nimport * as yup from 'yup';\n\nimport type { BitcoinNetworkModes } from '@leather.io/models';\nimport { isEmptyString, isUndefined } from '@leather.io/utils';\n\nimport { FormErrorMessages } from '@shared/error-messages';\n\nexport function btcAddressValidator() {\n  return yup.string().test({\n    message: FormErrorMessages.InvalidAddress,\n    test(value) {\n      if (isUndefined(value) || isEmptyString(value)) return true;\n      return validate(value);\n    },\n  });\n}\n\nfunction btcAddressNetworkValidatorFactory(network: BitcoinNetworkModes) {\n  function getAddressNetworkType(network: BitcoinNetworkModes): Network {\n    // Signet uses testnet address format, this parsing is to please the\n    // validation library\n    if (network === 'signet') return Network.testnet;\n    return network as Network;\n  }\n\n  return (value?: string) => {\n    if (isUndefined(value) || isEmptyString(value)) return true;\n    return validate(value, getAddressNetworkType(network));\n  };\n}\n\nexport function btcAddressNetworkValidator(network: BitcoinNetworkModes) {\n  return yup.string().test({\n    test: btcAddressNetworkValidatorFactory(network),\n    message: FormErrorMessages.IncorrectNetworkAddress,\n  });\n}\n","export function formFeeRowValue(feeRate: number, isCustomFee?: boolean) {\n  return `${isCustomFee ? '(Custom) ' : ''}${feeRate} sats/vB`;\n}\n","import * as yup from 'yup';\n\nimport type { NetworkModes } from '@leather.io/models';\nimport { isEmptyString, isUndefined } from '@leather.io/utils';\n\nimport { checkEntityAddressIsCompliant } from '@app/query/common/compliance-checker/compliance-checker.query';\n\nexport function complianceValidator(\n  shouldCheckCompliance: yup.StringSchema<string | undefined, yup.AnyObject>,\n  network: NetworkModes\n) {\n  return yup.string().test({\n    message: 'Compliance check failed',\n    async test(value) {\n      if (network !== 'mainnet') return true;\n      if (!shouldCheckCompliance.isValidSync(value)) return true;\n      if (isUndefined(value) || isEmptyString(value)) return true;\n\n      try {\n        const resp = await checkEntityAddressIsCompliant(value);\n        return !resp.isOnSanctionsList;\n      } catch (e) {\n        return true;\n      }\n    },\n  });\n}\n","import { useEffect, useState } from 'react';\nimport AnimateHeight from 'react-animate-height';\n\nimport { SendCryptoAssetSelectors } from '@tests/selectors/send.selectors';\nimport { useField } from 'formik';\nimport { Box, Flex } from 'leather-styles/jsx';\n\nimport { useShowFieldError } from '@app/common/form-utils';\nimport { ErrorLabel } from '@app/components/error-label';\n\nconst closedHeight = 0;\nconst openHeight = 24;\n\nexport function TextInputFieldError(props: { name: string }) {\n  const { name } = props;\n  const [, meta] = useField(name);\n  const [showHide, setShowHide] = useState(closedHeight);\n  const showError = useShowFieldError(name);\n\n  useEffect(() => {\n    if (showError) {\n      setShowHide(openHeight);\n      return;\n    }\n    setShowHide(closedHeight);\n  }, [showError]);\n\n  if (!showError) return <Box height={closedHeight + 'px'} />;\n\n  return (\n    <Flex mb=\"space.02\" width=\"100%\">\n      <AnimateHeight duration={400} easing=\"ease-out\" height={showHide}>\n        <Flex height={openHeight + 'px'}>\n          <ErrorLabel data-testid={SendCryptoAssetSelectors.FormFieldInputErrorLabel}>\n            {meta.error}\n          </ErrorLabel>\n        </Flex>\n      </AnimateHeight>\n    </Flex>\n  );\n}\n","interface InscriptionImageProps {\n  src: string;\n}\nexport function InscriptionImage({ src }: InscriptionImageProps) {\n  return (\n    <img\n      src={src}\n      style={{ width: '100%', height: '100%', aspectRatio: '1 / 1', objectFit: 'cover' }}\n    />\n  );\n}\n","import { Box, BoxProps } from 'leather-styles/jsx';\n\nimport { HasChildren } from '@app/common/has-children';\n\nexport function InscriptionPreviewContainer({ children, ...props }: HasChildren & BoxProps) {\n  return (\n    <Box\n      bg=\"black\"\n      borderRadius=\"xs\"\n      width=\"100px\"\n      height=\"100px\"\n      overflow=\"hidden\"\n      position=\"relative\"\n      {...props}\n    >\n      {children}\n    </Box>\n  );\n}\n","import { sanitize } from 'dompurify';\nimport { Box } from 'leather-styles/jsx';\n\nimport { useGetInscriptionTextContentQuery } from '@leather.io/query';\n\nimport { parseJson } from '@app/components/json';\nimport { LoadingSpinner } from '@app/components/loading-spinner';\n\ninterface InscriptionTextProps {\n  contentSrc: string;\n}\nexport function InscriptionText(props: InscriptionTextProps) {\n  const query = useGetInscriptionTextContentQuery(props.contentSrc);\n\n  if (query.isLoading) return <LoadingSpinner size=\"16px\" />;\n\n  if (query.isError) return null; // TODO\n\n  return (\n    <Box\n      _after={{\n        content: '\"\"',\n        position: 'absolute',\n        bottom: '0',\n        left: '0',\n        height: '30px',\n        width: '100%',\n        backgroundImage: 'linear-gradient(rgba(0,0,0,0), rgba(0,0,0,1))',\n      }}\n      color=\"white\"\n      fontSize=\"9px\"\n      height=\"100%\"\n      p=\"space.03\"\n      position=\"relative\"\n      overflow=\"hidden\"\n      textAlign=\"left\"\n      width=\"100%\"\n    >\n      <pre>{sanitize(parseJson(query.data))}</pre>\n    </Box>\n  );\n}\n","import { BoxProps, Flex } from 'leather-styles/jsx';\n\nimport type { Inscription } from '@leather.io/models';\nimport { OrdinalAvatarIcon } from '@leather.io/ui';\n\nimport { InscriptionImage } from './inscription-image';\nimport { InscriptionPreviewContainer } from './inscription-preview-container';\nimport { InscriptionText } from './inscription-text';\n\ninterface InscriptionPreviewProps extends BoxProps {\n  inscription: Inscription;\n}\nexport function InscriptionPreview({ inscription, ...props }: InscriptionPreviewProps) {\n  switch (inscription.mimeType) {\n    case 'image': {\n      return (\n        <InscriptionPreviewContainer {...props}>\n          <InscriptionImage src={inscription.src} />\n        </InscriptionPreviewContainer>\n      );\n    }\n    case 'text': {\n      return (\n        <InscriptionPreviewContainer {...props}>\n          <InscriptionText contentSrc={inscription.src} />\n        </InscriptionPreviewContainer>\n      );\n    }\n    case 'other': {\n      return (\n        <InscriptionPreviewContainer {...props}>\n          <Flex alignItems=\"center\" height=\"100%\" justifyContent=\"center\">\n            <OrdinalAvatarIcon size=\"xl\" />\n          </Flex>\n        </InscriptionPreviewContainer>\n      );\n    }\n    default:\n      return null;\n  }\n}\n","import { Flex, styled } from 'leather-styles/jsx';\n\nimport { Link } from '@leather.io/ui';\n\ninterface InscriptionMetadataProps {\n  action?(): void;\n  actionLabel?: string;\n  icon?: React.JSX.Element;\n  subtitle: string;\n  title: string;\n}\nexport function InscriptionMetadata({\n  action,\n  actionLabel,\n  icon,\n  subtitle,\n  title,\n}: InscriptionMetadataProps) {\n  return (\n    <Flex alignItems=\"flex-start\" flexDirection=\"column\" justifyContent=\"center\">\n      {icon && icon}\n      <styled.span textStyle=\"label.01\">{title}</styled.span>\n      <styled.span textStyle=\"caption.01\">{subtitle}</styled.span>\n      {action ? (\n        <Link color=\"stacks\" onClick={() => action()} textStyle=\"caption.01\" variant=\"text\">\n          {actionLabel}\n        </Link>\n      ) : null}\n    </Flex>\n  );\n}\n","import { Flag } from '@leather.io/ui';\n\nimport { InscriptionMetadata } from './components/inscription-metadata';\n\ninterface InscriptionPreviewCardProps {\n  action?(): void;\n  actionLabel?: string;\n  hideBorder?: boolean;\n  icon?: React.JSX.Element;\n  image: React.JSX.Element;\n  subtitle: string;\n  title: string;\n}\nexport function InscriptionPreviewCard({\n  action,\n  actionLabel,\n  hideBorder,\n  icon,\n  image,\n  subtitle,\n  title,\n}: InscriptionPreviewCardProps) {\n  return (\n    <Flag\n      border={hideBorder ? 'unset' : 'default'}\n      borderRadius={hideBorder ? 'unset' : 'sm'}\n      img={image}\n      p={hideBorder ? 'unset' : 'space.04'}\n      spacing=\"space.04\"\n    >\n      <InscriptionMetadata\n        action={action}\n        actionLabel={actionLabel}\n        icon={icon}\n        subtitle={subtitle}\n        title={title}\n      />\n    </Flag>\n  );\n}\n","import { useEffect } from 'react';\n\nimport { SendCryptoAssetSelectors } from '@tests/selectors/send.selectors';\nimport { useField, useFormikContext } from 'formik';\nimport { Box } from 'leather-styles/jsx';\n\nimport { Input } from '@leather.io/ui';\n\nimport { BitcoinSendFormValues, StacksSendFormValues } from '@shared/models/form.model';\n\ninterface RecipientAddressTypeFieldProps {\n  label?: string;\n  name: string;\n  onBlur?(): void;\n  placeholder: string;\n  topInputOverlay?: React.JSX.Element;\n  rightLabel?: React.JSX.Element;\n}\nexport function RecipientAddressTypeField({\n  name,\n  topInputOverlay,\n  rightLabel,\n  onBlur,\n}: RecipientAddressTypeFieldProps) {\n  const [field] = useField(name);\n  const { setFieldValue } = useFormikContext<BitcoinSendFormValues | StacksSendFormValues>();\n\n  useEffect(() => {\n    void setFieldValue(name, field.value.trim());\n  }, [name, field.value, setFieldValue]);\n\n  return (\n    <Box width=\"100%\" position=\"relative\" mb=\"space.02\">\n      <Input.Root shrink>\n        {rightLabel && (\n          <Box pos=\"absolute\" right=\"space.03\" zIndex={15} top=\"9px\">\n            {rightLabel}\n          </Box>\n        )}\n        {topInputOverlay && <Input.Label>{topInputOverlay}</Input.Label>}\n        <Input.Field\n          data-testid={SendCryptoAssetSelectors.RecipientFieldInput}\n          placeholder=\"Recipient\"\n          {...field}\n          onBlur={e => {\n            field.onBlur(e);\n            onBlur?.();\n          }}\n        />\n      </Input.Root>\n    </Box>\n  );\n}\n","import { Flex, HStack, styled } from 'leather-styles/jsx';\n\ninterface CollectibleAssetProps {\n  icon: React.JSX.Element;\n  name: string;\n  symbol?: string;\n}\nexport function CollectibleAsset({ icon, name, symbol }: CollectibleAssetProps) {\n  return (\n    <Flex\n      alignItems=\"center\"\n      border=\"default\"\n      borderRadius=\"sm\"\n      minHeight=\"64px\"\n      mb=\"space.04\"\n      mt=\"space.05\"\n      px=\"space.04\"\n      width=\"100%\"\n    >\n      <HStack alignItems=\"center\" justifyContent=\"space-between\">\n        <Flex alignItems=\"center\">\n          {icon}\n          <styled.span ml=\"space.02\" mr=\"space.01\" textStyle=\"body.01\">\n            {name}\n          </styled.span>\n          {symbol && <styled.span textStyle=\"body.01\">({symbol.toUpperCase()})</styled.span>}\n        </Flex>\n      </HStack>\n    </Flex>\n  );\n}\n","import { Stack } from 'leather-styles/jsx';\n\nimport { LoadingSpinner } from '@app/components/loading-spinner';\n\ninterface SendInscriptionFormLoaderProps {\n  children: React.JSX.Element;\n  isLoading: boolean;\n}\n\nexport function SendInscriptionFormLoader({ children, isLoading }: SendInscriptionFormLoaderProps) {\n  if (isLoading) {\n    return (\n      <Stack py=\"108px\">\n        <LoadingSpinner />\n      </Stack>\n    );\n  }\n  return children;\n}\n","import { useNavigate } from 'react-router-dom';\n\nimport { SendCryptoAssetSelectors } from '@tests/selectors/send.selectors';\nimport { Form, Formik } from 'formik';\nimport { Box, Flex } from 'leather-styles/jsx';\n\nimport { Button, OrdinalAvatarIcon, Sheet, SheetHeader } from '@leather.io/ui';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { ErrorLabel } from '@app/components/error-label';\nimport { TextInputFieldError } from '@app/components/field-error';\nimport { InscriptionPreview } from '@app/components/inscription-preview-card/components/inscription-preview';\nimport { InscriptionPreviewCard } from '@app/components/inscription-preview-card/inscription-preview-card';\n\nimport { RecipientAddressTypeField } from '../send-crypto-asset-form/components/recipient-address-type-field';\nimport { CollectibleAsset } from './components/collectible-asset';\nimport { useSendInscriptionState } from './components/send-inscription-container';\nimport { useSendInscriptionForm } from './hooks/use-send-inscription-form';\nimport { SendInscriptionFormLoader } from './send-indcription-form-loader';\n\nexport const recipientFieldName = 'recipient';\n\nexport function SendInscriptionForm() {\n  const navigate = useNavigate();\n  const { feeRates, inscription, recipient } = useSendInscriptionState();\n  const { chooseTransactionFee, currentError, validationSchema, isCheckingFees } =\n    useSendInscriptionForm();\n\n  return (\n    <Formik\n      validationSchema={validationSchema}\n      initialValues={{\n        [recipientFieldName]: recipient,\n        inscription,\n        feeRate: feeRates.hourFee.toNumber(),\n      }}\n      onSubmit={chooseTransactionFee}\n    >\n      {props => {\n        return (\n          <Form>\n            <Sheet\n              header={<SheetHeader title=\"Send\" />}\n              onGoBack={() => navigate(-1)}\n              isShowing\n              onClose={() => navigate(RouteUrls.Home)}\n              footer={\n                <Button\n                  data-testid={SendCryptoAssetSelectors.PreviewSendTxBtn}\n                  onClick={() => props.handleSubmit()}\n                  type=\"submit\"\n                  fullWidth\n                >\n                  Continue\n                </Button>\n              }\n            >\n              <SendInscriptionFormLoader isLoading={isCheckingFees}>\n                <Box display=\"flex\" flexDirection=\"column\" px=\"space.06\" pb=\"space.04\">\n                  <InscriptionPreviewCard\n                    image={<InscriptionPreview inscription={inscription} />}\n                    subtitle=\"Ordinal inscription\"\n                    title={inscription.title}\n                  />\n                  <Box mt={['space.04', 'space.06', '100px']}>\n                    <Flex flexDirection=\"column\" mt=\"space.05\" width=\"100%\">\n                      <CollectibleAsset icon={<OrdinalAvatarIcon />} name=\"Ordinal inscription\" />\n                      <RecipientAddressTypeField\n                        name={recipientFieldName}\n                        label=\"To\"\n                        placeholder=\"Enter recipient address\"\n                      />\n                      <TextInputFieldError name={recipientFieldName} />\n                    </Flex>\n                  </Box>\n                  {currentError && (\n                    <ErrorLabel data-testid={SendCryptoAssetSelectors.FormFieldInputErrorLabel}>\n                      {currentError}\n                    </ErrorLabel>\n                  )}\n                </Box>\n              </SendInscriptionFormLoader>\n            </Sheet>\n          </Form>\n        );\n      }}\n    </Formik>\n  );\n}\n","import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport * as yup from 'yup';\n\nimport { bitcoinNetworkModeToCoreNetworkMode } from '@leather.io/bitcoin';\nimport { useNumberOfInscriptionsOnUtxo } from '@leather.io/query';\nimport { isError } from '@leather.io/utils';\n\nimport { FormErrorMessages } from '@shared/error-messages';\nimport { btcAddressNetworkValidator, btcAddressValidator } from '@shared/forms/address-validators';\nimport { logger } from '@shared/logger';\nimport { OrdinalSendFormValues } from '@shared/models/form.model';\nimport { RouteUrls } from '@shared/route-urls';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { formFeeRowValue } from '@app/common/send/utils';\nimport { InsufficientFundsError } from '@app/common/transactions/bitcoin/coinselect/local-coin-selection';\nimport { complianceValidator } from '@app/common/validation/forms/compliance-validators';\nimport { useSignBitcoinTx } from '@app/store/accounts/blockchain/bitcoin/bitcoin.hooks';\nimport { useCurrentAccountNativeSegwitIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useCurrentTaprootAccount } from '@app/store/accounts/blockchain/bitcoin/taproot-account.hooks';\nimport { useCurrentNetwork } from '@app/store/networks/networks.selectors';\n\nimport { useSendInscriptionState } from '../components/send-inscription-container';\nimport { recipientFieldName } from '../send-inscription-form';\nimport { useGenerateUnsignedOrdinalTx } from './use-generate-ordinal-tx';\n\nexport function useSendInscriptionForm() {\n  const [currentError, setShowError] = useState<null | string>(null);\n  const [isCheckingFees, setIsCheckingFees] = useState(false);\n\n  const navigate = useNavigate();\n  const sign = useSignBitcoinTx();\n  const { inscription, utxo } = useSendInscriptionState();\n  const currentNetwork = useCurrentNetwork();\n\n  const account = useCurrentTaprootAccount();\n  const nativeSegwitSigner = useCurrentAccountNativeSegwitIndexZeroSigner();\n\n  const getNumberOfInscriptionOnUtxo = useNumberOfInscriptionsOnUtxo({\n    taprootKeychain: account?.keychain,\n    nativeSegwitAddress: nativeSegwitSigner.address,\n  });\n  const { coverFeeFromAdditionalUtxos } = useGenerateUnsignedOrdinalTx(utxo);\n\n  return {\n    currentError,\n    isCheckingFees,\n    async chooseTransactionFee(values: OrdinalSendFormValues) {\n      setIsCheckingFees(true);\n\n      try {\n        if (Number(inscription.offset) !== 0) {\n          setShowError(FormErrorMessages.NonZeroOffsetInscription);\n          return;\n        }\n\n        const numInscriptionsOnUtxo = getNumberOfInscriptionOnUtxo(utxo.txid, utxo.vout);\n        if (numInscriptionsOnUtxo > 1) {\n          setShowError(FormErrorMessages.UtxoWithMultipleInscriptions);\n          return;\n        }\n\n        // Check tx with lowest fee for errors before routing and\n        // generating the final transaction with the chosen fee to send\n        const resp = coverFeeFromAdditionalUtxos(values);\n\n        if (!resp) {\n          setShowError(FormErrorMessages.InsufficientFundsToCoverFee);\n          return;\n        }\n\n        navigate(\n          `/${RouteUrls.SendOrdinalInscription}/${RouteUrls.SendOrdinalInscriptionChooseFee}`,\n          {\n            state: {\n              inscription,\n              recipient: values.recipient,\n              utxo,\n              backgroundLocation: { pathname: RouteUrls.Home },\n            },\n          }\n        );\n      } catch (error) {\n        void analytics.track('ordinals_dot_com_unavailable', { error });\n\n        if (error instanceof InsufficientFundsError) {\n          setShowError(FormErrorMessages.InsufficientFundsToCoverFee);\n          return;\n        }\n\n        let message = 'Unable to establish if utxo has multiple inscriptions';\n        if (isError(error)) {\n          message = error.message;\n        }\n        setShowError(message);\n      } finally {\n        setIsCheckingFees(false);\n      }\n    },\n\n    async reviewTransaction(\n      feeValue: number,\n      time: string,\n      values: OrdinalSendFormValues,\n      isCustomFee?: boolean\n    ) {\n      // Generate the final tx with the chosen fee to send\n      const resp = coverFeeFromAdditionalUtxos(values);\n\n      if (!resp) {\n        logger.error('Failed to generate transaction for send');\n        return;\n      }\n\n      const signedTx = await sign(resp.psbt, resp.signingConfig);\n\n      if (!signedTx) {\n        logger.error('No signed transaction returned');\n        return;\n      }\n\n      signedTx.finalize();\n\n      logger.debug('Pre-finalized inscription PSBT', signedTx.hex);\n\n      const feeRowValue = formFeeRowValue(values.feeRate, isCustomFee);\n      navigate(`/${RouteUrls.SendOrdinalInscription}/${RouteUrls.SendOrdinalInscriptionReview}`, {\n        state: {\n          fee: feeValue,\n          inscription,\n          utxo,\n          recipient: values.recipient,\n          time,\n          feeRowValue,\n          signedTx: signedTx.extract(),\n          backgroundLocation: { pathname: RouteUrls.Home },\n        },\n      });\n    },\n\n    validationSchema: yup.object({\n      [recipientFieldName]: yup\n        .string()\n        .required(FormErrorMessages.AddressRequired)\n        .concat(btcAddressValidator())\n        .concat(\n          complianceValidator(\n            btcAddressValidator(),\n            bitcoinNetworkModeToCoreNetworkMode(currentNetwork.chain.bitcoin.mode)\n          )\n        )\n        .concat(btcAddressNetworkValidator(currentNetwork.chain.bitcoin.mode)),\n    }),\n  };\n}\n","import { useState } from 'react';\nimport { Outlet, useNavigate } from 'react-router-dom';\n\nimport type { BtcFeeType } from '@leather.io/models';\nimport { Sheet, SheetHeader } from '@leather.io/ui';\nimport { createMoney } from '@leather.io/utils';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport {\n  BitcoinFeesList,\n  OnChooseFeeArgs,\n} from '@app/components/bitcoin-fees-list/bitcoin-fees-list';\nimport { LoadingSpinner } from '@app/components/loading-spinner';\nimport { BitcoinChooseFee } from '@app/features/bitcoin-choose-fee/bitcoin-choose-fee';\nimport { useValidateBitcoinSpend } from '@app/features/bitcoin-choose-fee/hooks/use-validate-bitcoin-spend';\n\nimport { useSendInscriptionState } from './components/send-inscription-container';\nimport { useSendInscriptionFeesList } from './hooks/use-send-inscription-fees-list';\nimport { useSendInscriptionForm } from './hooks/use-send-inscription-form';\n\nexport function SendInscriptionChooseFee() {\n  const [isLoadingReview, setIsLoadingReview] = useState(false);\n  const navigate = useNavigate();\n  const { recipient, selectedFeeType, setSelectedFeeType, utxo, inscription } =\n    useSendInscriptionState();\n  const { feesList, isLoading } = useSendInscriptionFeesList({\n    recipient,\n    utxo,\n    inscription,\n  });\n  const recommendedFeeRate = feesList[1]?.feeRate.toString() || '';\n\n  const { reviewTransaction } = useSendInscriptionForm();\n  const { showInsufficientBalanceError, onValidateBitcoinFeeSpend } = useValidateBitcoinSpend();\n\n  const recipients = [\n    {\n      address: recipient,\n      amount: createMoney(0, 'BTC'),\n    },\n  ];\n\n  async function previewTransaction({ feeRate, feeValue, time, isCustomFee }: OnChooseFeeArgs) {\n    try {\n      setIsLoadingReview(true);\n      await reviewTransaction(feeValue, time, { feeRate, recipient, inscription }, isCustomFee);\n    } finally {\n      setIsLoadingReview(false);\n    }\n  }\n\n  if (isLoadingReview)\n    return (\n      <>\n        <LoadingSpinner />\n        <Outlet />\n      </>\n    );\n\n  return (\n    <>\n      <Sheet\n        header={<SheetHeader title=\"Choose fee\" />}\n        isShowing\n        onGoBack={() => navigate(RouteUrls.Home)}\n        onClose={() => navigate(RouteUrls.Home)}\n      >\n        <BitcoinChooseFee\n          amount={createMoney(0, 'BTC')}\n          defaultToCustomFee={!feesList.length}\n          feesList={\n            <BitcoinFeesList\n              feesList={feesList}\n              isLoading={isLoading}\n              onChooseFee={previewTransaction}\n              onValidateBitcoinSpend={onValidateBitcoinFeeSpend}\n              onSetSelectedFeeType={(value: BtcFeeType | null) => setSelectedFeeType(value)}\n              selectedFeeType={selectedFeeType}\n            />\n          }\n          isLoading={isLoading}\n          isSendingMax={false}\n          onChooseFee={previewTransaction}\n          onSetSelectedFeeType={(value: BtcFeeType | null) => setSelectedFeeType(value)}\n          onValidateBitcoinSpend={onValidateBitcoinFeeSpend}\n          recipients={recipients}\n          recommendedFeeRate={recommendedFeeRate}\n          showError={showInsufficientBalanceError}\n          maxRecommendedFeeRate={feesList[0]?.feeRate}\n        />\n      </Sheet>\n      <Outlet />\n    </>\n  );\n}\n","import { useLocation, useNavigate } from 'react-router-dom';\n\nimport { bytesToHex } from '@noble/hashes/utils';\nimport { SendCryptoAssetSelectors } from '@tests/selectors/send.selectors';\nimport { Box, Flex, Stack } from 'leather-styles/jsx';\nimport get from 'lodash.get';\n\nimport { useBitcoinBroadcastTransaction } from '@leather.io/query';\nimport { Button, Sheet, SheetHeader } from '@leather.io/ui';\n\nimport { RouteUrls } from '@shared/route-urls';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { FormAddressDisplayer } from '@app/components/address-displayer/form-address-displayer';\nimport { InfoCardRow, InfoCardSeparator } from '@app/components/info-card/info-card';\nimport { InscriptionPreview } from '@app/components/inscription-preview-card/components/inscription-preview';\nimport { Card } from '@app/components/layout';\nimport { useCurrentNativeSegwitUtxos } from '@app/query/bitcoin/address/utxos-by-address.hooks';\n\nimport { InscriptionPreviewCard } from '../../../components/inscription-preview-card/inscription-preview-card';\nimport { useSendInscriptionState } from './components/send-inscription-container';\n\nfunction useSendInscriptionReviewState() {\n  const location = useLocation();\n  return {\n    arrivesIn: get(location.state, 'time') as string,\n    signedTx: get(location.state, 'signedTx') as Uint8Array,\n    recipient: get(location.state, 'recipient', '') as string,\n    feeRowValue: get(location.state, 'feeRowValue') as string,\n  };\n}\n\nexport function SendInscriptionReview() {\n  const navigate = useNavigate();\n  const { arrivesIn, signedTx, recipient, feeRowValue } = useSendInscriptionReviewState();\n\n  const { inscription } = useSendInscriptionState();\n  const { filteredUtxosQuery } = useCurrentNativeSegwitUtxos();\n  const { broadcastTx, isBroadcasting } = useBitcoinBroadcastTransaction();\n\n  async function sendInscription() {\n    await broadcastTx({\n      skipSpendableCheckUtxoIds: [inscription.txid],\n      tx: bytesToHex(signedTx),\n      async onSuccess(txid: string) {\n        void analytics.track('broadcast_ordinal_transaction');\n        await filteredUtxosQuery.refetch();\n        navigate(`/${RouteUrls.SendOrdinalInscription}/${RouteUrls.SendOrdinalInscriptionSent}`, {\n          state: {\n            inscription,\n            recipient,\n            arrivesIn,\n            txid,\n            feeRowValue,\n            backgroundLocation: { pathname: RouteUrls.Home },\n          },\n        });\n      },\n      onError(e) {\n        void analytics.track('broadcast_ordinal_error', { error: e });\n        navigate(`/${RouteUrls.SendOrdinalInscription}/${RouteUrls.SendOrdinalInscriptionError}`, {\n          state: {\n            error: e,\n            backgroundLocation: { pathname: RouteUrls.Home },\n          },\n        });\n      },\n    });\n  }\n\n  return (\n    <Sheet\n      header={<SheetHeader title=\"Review\" />}\n      isShowing\n      onGoBack={() => navigate(-1)}\n      onClose={() => navigate(RouteUrls.Home)}\n    >\n      <Card\n        dataTestId={SendCryptoAssetSelectors.ConfirmationDetails}\n        border=\"unset\"\n        contentStyle={{\n          p: 'space.00',\n        }}\n        footer={\n          <Button\n            variant=\"solid\"\n            disabled={isBroadcasting}\n            aria-busy={isBroadcasting}\n            onClick={sendInscription}\n            width=\"100%\"\n          >\n            Confirm and send transaction\n          </Button>\n        }\n      >\n        <Box px=\"space.06\" mt=\"space.06\">\n          <InscriptionPreviewCard\n            image={<InscriptionPreview inscription={inscription} />}\n            subtitle=\"Ordinal inscription\"\n            title={inscription.title}\n          />\n        </Box>\n\n        <Flex\n          alignItems=\"center\"\n          flexDirection=\"column\"\n          justifyItems=\"center\"\n          width=\"100%\"\n          pt=\"space.06\"\n          pb=\"space.06\"\n          px=\"space.06\"\n        >\n          <Stack width=\"100%\" mb=\"36px\">\n            <InfoCardRow\n              data-testid={SendCryptoAssetSelectors.ConfirmationDetailsRecipient}\n              title=\"To\"\n              value={<FormAddressDisplayer address={recipient} />}\n            />\n            <InfoCardSeparator />\n            {arrivesIn && <InfoCardRow title=\"Estimated confirmation time\" value={arrivesIn} />}\n            <InfoCardRow title=\"Fee\" value={feeRowValue} />\n          </Stack>\n        </Flex>\n      </Card>\n    </Sheet>\n  );\n}\n","import { useLocation, useNavigate } from 'react-router-dom';\n\nimport { Box, Flex, HStack, Stack } from 'leather-styles/jsx';\nimport get from 'lodash.get';\n\nimport type { Blockchain, Inscription } from '@leather.io/models';\nimport { CheckmarkIcon, CopyIcon, ExternalLinkIcon, Sheet, SheetHeader } from '@leather.io/ui';\n\nimport { RouteUrls } from '@shared/route-urls';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useBitcoinExplorerLink } from '@app/common/hooks/use-bitcoin-explorer-link';\nimport { copyToClipboard } from '@app/common/utils/copy-to-clipboard';\nimport { FormAddressDisplayer } from '@app/components/address-displayer/form-address-displayer';\nimport { InfoCardBtn, InfoCardRow, InfoCardSeparator } from '@app/components/info-card/info-card';\nimport { InscriptionPreview } from '@app/components/inscription-preview-card/components/inscription-preview';\nimport { Card } from '@app/components/layout';\nimport { useToast } from '@app/features/toasts/use-toast';\n\nimport { InscriptionPreviewCard } from '../../../components/inscription-preview-card/inscription-preview-card';\n\nfunction useSendInscriptionSummaryState() {\n  const location = useLocation();\n  return {\n    txid: get(location.state, 'txid') as string,\n    recipient: get(location.state, 'recipient', '') as string,\n    arrivesIn: get(location.state, 'arrivesIn') as string,\n    inscription: get(location.state, 'inscription') as Inscription,\n    feeRowValue: get(location.state, 'feeRowValue') as string,\n  };\n}\n\nexport function SendInscriptionSummary() {\n  const { txid, recipient, arrivesIn, inscription, feeRowValue } = useSendInscriptionSummaryState();\n  const toast = useToast();\n  const navigate = useNavigate();\n  const txLink = {\n    blockchain: 'bitcoin' as Blockchain,\n    txid,\n  };\n\n  const id = txid || '';\n  const { handleOpenBitcoinTxLink: handleOpenTxLink } = useBitcoinExplorerLink();\n\n  function onClickLink() {\n    void analytics.track('view_transaction_confirmation', { symbol: 'BTC' });\n    handleOpenTxLink(txLink);\n  }\n\n  async function onClickCopy() {\n    await copyToClipboard(id);\n    toast.success('ID copied!');\n  }\n\n  return (\n    <Sheet header={<SheetHeader title=\"Sent\" />} isShowing onClose={() => navigate(RouteUrls.Home)}>\n      <Card\n        border=\"unset\"\n        footer={\n          <HStack gap=\"space.04\" width=\"100%\">\n            <InfoCardBtn\n              onClick={onClickLink}\n              icon={<ExternalLinkIcon color=\"ink.background-primary\" />}\n              label=\"View details\"\n            />\n            <InfoCardBtn\n              onClick={onClickCopy}\n              icon={<CopyIcon color=\"ink.background-primary\" />}\n              label=\"Copy ID\"\n            />\n          </HStack>\n        }\n        contentStyle={{\n          p: 'space.00',\n        }}\n      >\n        <Box mt=\"space.06\" px=\"space.06\">\n          <InscriptionPreviewCard\n            icon={\n              <Box mt=\"space.01\">\n                <CheckmarkIcon />\n              </Box>\n            }\n            image={<InscriptionPreview inscription={inscription} />}\n            subtitle=\"Ordinal inscription\"\n            title={inscription.title}\n          />\n        </Box>\n        <Flex\n          alignItems=\"center\"\n          flexDirection=\"column\"\n          justifyItems=\"center\"\n          width=\"100%\"\n          pt=\"space.06\"\n          pb=\"space.06\"\n          px=\"space.06\"\n        >\n          <Stack mb=\"space.06\" width=\"100%\">\n            <InfoCardRow title=\"To\" value={<FormAddressDisplayer address={recipient} />} />\n            <InfoCardSeparator />\n            {arrivesIn && <InfoCardRow title=\"Estimated confirmation time\" value={arrivesIn} />}\n            <InfoCardRow title=\"Fee\" value={feeRowValue} />\n          </Stack>\n        </Flex>\n      </Card>\n    </Sheet>\n  );\n}\n","import { Route } from 'react-router-dom';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { ledgerBitcoinTxSigningRoutes } from '@app/features/ledger/flows/bitcoin-tx-signing/ledger-bitcoin-sign-tx-container';\nimport { BroadcastError } from '@app/pages/send/broadcast-error/broadcast-error';\nimport { SendInscriptionContainer } from '@app/pages/send/ordinal-inscription/components/send-inscription-container';\nimport { SendInscriptionChooseFee } from '@app/pages/send/ordinal-inscription/send-inscription-choose-fee';\nimport { SendInscriptionForm } from '@app/pages/send/ordinal-inscription/send-inscription-form';\nimport { SendInscriptionReview } from '@app/pages/send/ordinal-inscription/send-inscription-review';\nimport { SendInscriptionSummary } from '@app/pages/send/ordinal-inscription/sent-inscription-summary';\n\nexport const sendOrdinalRoutes = (\n  <Route path={RouteUrls.SendOrdinalInscription} element={<SendInscriptionContainer />}>\n    {ledgerBitcoinTxSigningRoutes}\n\n    <Route index element={<SendInscriptionForm />} />\n    <Route path={RouteUrls.SendOrdinalInscriptionChooseFee} element={<SendInscriptionChooseFee />}>\n      {ledgerBitcoinTxSigningRoutes}\n    </Route>\n    <Route path={RouteUrls.SendOrdinalInscriptionReview} element={<SendInscriptionReview />} />\n\n    <Route path={RouteUrls.SendOrdinalInscriptionSent} element={<SendInscriptionSummary />} />\n    <Route path={RouteUrls.SendOrdinalInscriptionError} element={<BroadcastError showInSheet />} />\n  </Route>\n);\n","import { useLocation, useNavigate } from 'react-router-dom';\n\nimport GenericError from '@assets/images/generic-error.png';\nimport { Flex, styled } from 'leather-styles/jsx';\nimport get from 'lodash.get';\n\nimport { Button, Sheet, SheetHeader } from '@leather.io/ui';\n\nexport function BroadcastErrorSheet() {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const message = get(location.state, 'message', '');\n\n  return (\n    <Sheet\n      isShowing\n      header={<SheetHeader />}\n      onClose={() => navigate('..')}\n      footer={\n        <Button fullWidth onClick={() => navigate('..')} mt=\"space.05\">\n          Close\n        </Button>\n      }\n    >\n      <Flex\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        mx=\"space.06\"\n        mb=\"space.02\"\n        position=\"relative\"\n        textAlign=\"center\"\n        minHeight=\"30vh\"\n      >\n        <styled.img src={GenericError} width=\"106px\" height=\"72px\" m=\"0 auto\" />\n        <styled.h1 mt=\"space.05\" textStyle=\"heading.05\">\n          Unable to broadcast transaction\n        </styled.h1>\n        <styled.span mt=\"space.03\" px=\"space.04\" textStyle=\"body.01\">\n          Your transaction failed to broadcast{' '}\n          {message && <>because of the error: {message.toLowerCase()}</>}\n        </styled.span>\n      </Flex>\n    </Sheet>\n  );\n}\n","import { FormEvent, memo } from 'react';\n\nimport { useField } from 'formik';\nimport { Stack, StackProps } from 'leather-styles/jsx';\n\nimport { Input } from '@leather.io/ui';\n\nimport { ErrorLabel } from '@app/components/error-label';\n\ninterface EditNonceFieldProps extends StackProps {\n  onBlur(): void;\n}\nexport const EditNonceField = memo((props: EditNonceFieldProps) => {\n  const { onBlur } = props;\n  const [field, meta, helpers] = useField('nonce');\n\n  return (\n    <Stack width=\"100%\" {...props}>\n      <Input.Root data-has-error={meta.error}>\n        <Input.Label>Custom nonce</Input.Label>\n        <Input.Field\n          onBlur={onBlur}\n          value={field.value}\n          onChange={async (evt: FormEvent<HTMLInputElement>) => {\n            await helpers.setValue(evt.currentTarget.value);\n          }}\n        />\n      </Input.Root>\n      {meta.error && <ErrorLabel>{meta.error}</ErrorLabel>}\n    </Stack>\n  );\n});\n","import { HStack } from 'leather-styles/jsx';\n\nimport { Button } from '@leather.io/ui';\n\nimport { EditNonceField } from './edit-nonce-field';\n\ninterface EditNonceFormProps {\n  onBlur(): void;\n  onClose(): void;\n  onSubmit(): void;\n}\nexport function EditNonceForm(props: EditNonceFormProps): React.JSX.Element {\n  const { onBlur, onClose, onSubmit } = props;\n\n  return (\n    <>\n      <EditNonceField onBlur={onBlur} />\n      <HStack gap=\"space.04\">\n        <Button flexGrow={1} variant=\"outline\" onClick={onClose}>\n          Cancel\n        </Button>\n        <Button flexGrow={1} onClick={onSubmit}>\n          Apply\n        </Button>\n      </HStack>\n    </>\n  );\n}\n","import { useCallback, useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nimport { useFormikContext } from 'formik';\nimport { Stack, styled } from 'leather-styles/jsx';\n\nimport { Link, Sheet, SheetHeader } from '@leather.io/ui';\n\nimport { StacksSendFormValues, StacksTransactionFormValues } from '@shared/models/form.model';\n\nimport { useOnMount } from '@app/common/hooks/use-on-mount';\nimport { openInNewTab } from '@app/common/utils/open-in-new-tab';\n\nimport { EditNonceForm } from './components/edit-nonce-form';\n\nconst url = 'https://leather.gitbook.io/guides/transactions/nonces';\n\nexport function EditNonceSheet() {\n  const { errors, setFieldError, setFieldValue, validateField, values } = useFormikContext<\n    StacksSendFormValues | StacksTransactionFormValues\n  >();\n  const [loadedNextNonce, setLoadedNextNonce] = useState<number | string>();\n\n  const navigate = useNavigate();\n  const { search } = useLocation();\n\n  useOnMount(() => setLoadedNextNonce(values.nonce));\n  const onGoBack = useCallback(() => {\n    if (search) {\n      return navigate('..' + search, { replace: true });\n    }\n    navigate(-1);\n  }, [navigate, search]);\n\n  const onBlur = useCallback(() => validateField('nonce'), [validateField]);\n\n  const onSubmit = useCallback(async () => {\n    await validateField('nonce');\n    if (!errors.nonce) onGoBack();\n  }, [errors.nonce, onGoBack, validateField]);\n\n  const onClose = useCallback(async () => {\n    if (!values.nonce) await setFieldValue('nonce', undefined);\n    setFieldError('nonce', '');\n    await setFieldValue('nonce', loadedNextNonce);\n    onGoBack();\n  }, [loadedNextNonce, onGoBack, setFieldError, setFieldValue, values.nonce]);\n\n  return (\n    <Sheet isShowing onClose={onClose} header={<SheetHeader title=\"Edit nonce\" />}>\n      <Stack gap=\"space.05\" pb=\"space.06\" px=\"space.05\">\n        <styled.span textStyle=\"caption.01\">\n          If your transaction has been pending for a long time, its nonce might not be correct.\n          <Link fontSize=\"14px\" ml=\"space.01\" onClick={() => openInNewTab(url)}>\n            Learn more.\n          </Link>\n        </styled.span>\n        <EditNonceForm onBlur={onBlur} onClose={onClose} onSubmit={onSubmit} />\n      </Stack>\n    </Sheet>\n  );\n}\n","import { createContext, useContext, useState } from 'react';\n\nimport BigNumber from 'bignumber.js';\nimport type { FormikErrors } from 'formik';\n\nimport { HIGH_FEE_AMOUNT_STX } from '@leather.io/constants';\nimport { isEmpty } from '@leather.io/utils';\n\nimport type { HasChildren } from '@app/common/has-children';\n\ninterface StacksHighFeeWarningContext {\n  showHighFeeWarningSheet: boolean;\n  setShowHighFeeWarningSheet(val: boolean): void;\n  hasBypassedFeeWarning: boolean;\n  setHasBypassedFeeWarning(val: boolean): void;\n  isHighFeeWithNoFormErrors(errors: FormikErrors<unknown>, fee: number | string): boolean;\n}\n\nconst stacksHighFeeWarningContext = createContext<StacksHighFeeWarningContext | null>(null);\n\nexport function useStacksHighFeeWarningContext() {\n  const ctx = useContext(stacksHighFeeWarningContext);\n  if (!ctx) throw new Error(`stacksCommonSendFormContext must be used within a context`);\n  return ctx;\n}\n\nconst StacksHighFeeWarningProvider = stacksHighFeeWarningContext.Provider;\n\nexport function StacksHighFeeWarningContainer({ children }: HasChildren) {\n  const [showHighFeeWarningSheet, setShowHighFeeWarningSheet] = useState(false);\n  const [hasBypassedFeeWarning, setHasBypassedFeeWarning] = useState(false);\n\n  function isHighFeeWithNoFormErrors(errors: FormikErrors<unknown>, fee: number | string) {\n    if (hasBypassedFeeWarning) return false;\n    return isEmpty(errors) && new BigNumber(fee).isGreaterThan(HIGH_FEE_AMOUNT_STX);\n  }\n\n  return (\n    <StacksHighFeeWarningProvider\n      value={{\n        showHighFeeWarningSheet,\n        setShowHighFeeWarningSheet,\n        hasBypassedFeeWarning,\n        setHasBypassedFeeWarning,\n        isHighFeeWithNoFormErrors,\n      }}\n    >\n      {children}\n    </StacksHighFeeWarningProvider>\n  );\n}\n","import { useNavigate } from 'react-router-dom';\n\nimport { Box, HStack, styled } from 'leather-styles/jsx';\n\nimport { ExternalLinkIcon } from '@leather.io/ui';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { openInNewTab } from '@app/common/utils/open-in-new-tab';\nimport { GenericError } from '@app/components/generic-error/generic-error';\n\nconst body = 'Sending bitcoin is temporarily disabled';\nconst helpTextList = [\n  <styled.li mt=\"space.04\" key={1}>\n    <HStack alignItems=\"center\">\n      Learn more on Twitter at @LeatherBTC\n      <styled.button onClick={() => openInNewTab('https://twitter.com/leatherbtc')} type=\"button\">\n        <ExternalLinkIcon />\n      </styled.button>\n    </HStack>\n  </styled.li>,\n];\nconst title = 'Temporarily disabled';\n\nexport function SendBtcDisabled() {\n  const navigate = useNavigate();\n\n  return (\n    <Box px={['unset', 'space.05']} py=\"space.04\" textAlign=\"center\" width=\"100%\">\n      <GenericError\n        body={body}\n        helpTextList={helpTextList}\n        onClose={() => navigate(RouteUrls.SendCryptoAsset)}\n        title={title}\n      />\n    </Box>\n  );\n}\n","import { useNavigate } from 'react-router-dom';\n\nimport { Box, styled } from 'leather-styles/jsx';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { Card, Content, Page } from '@app/components/layout';\nimport { AssetList } from '@app/features/asset-list/asset-list';\nimport { PageHeader } from '@app/features/container/headers/page.header';\nimport { useConfigBitcoinSendEnabled } from '@app/query/common/remote-config/remote-config.query';\n\nexport function ChooseCryptoAsset() {\n  const navigate = useNavigate();\n  const isBitcoinSendEnabled = useConfigBitcoinSendEnabled();\n\n  function navigateToSendForm(symbol: string, contractId?: string) {\n    if (symbol === 'BTC' && !isBitcoinSendEnabled) return navigate(RouteUrls.SendBtcDisabled);\n    if (contractId) {\n      return navigate(`${RouteUrls.SendCryptoAsset}/${symbol.toLowerCase()}/${contractId}`);\n    }\n    return navigate(`${RouteUrls.SendCryptoAsset}/${symbol.toLowerCase()}`);\n  }\n\n  return (\n    <>\n      <PageHeader isSettingsVisibleOnSm={false} />\n      <Content>\n        <Page>\n          <Card\n            contentStyle={{\n              p: 'space.00',\n            }}\n            header={\n              <styled.h1 textStyle=\"heading.03\" p=\"space.05\">\n                choose asset <br /> to send\n              </styled.h1>\n            }\n          >\n            <Box pb=\"space.04\" px=\"space.05\">\n              <AssetList onSelectAsset={navigateToSendForm} variant=\"interactive\" />\n            </Box>\n          </Card>\n        </Page>\n      </Content>\n    </>\n  );\n}\n","export default __webpack_public_path__ + \"ab446df87f2c75ec299dda82d87d541b.png\";","import WaxSeal from '@assets/illustrations/wax-seal.png';\nimport { Flex, styled } from 'leather-styles/jsx';\n\nexport function TxDone() {\n  return (\n    <Flex direction=\"column\" alignItems=\"center\">\n      <styled.img src={WaxSeal} width=\"208px\" height=\"181px\" alt=\"All done\" mt=\"space.04\" />\n      <styled.p textStyle=\"heading.02\" mt=\"space.06\">\n        All done\n      </styled.p>\n    </Flex>\n  );\n}\n","import { useLocation } from 'react-router-dom';\n\nimport { Stack } from 'leather-styles/jsx';\n\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useBitcoinExplorerLink } from '@app/common/hooks/use-bitcoin-explorer-link';\nimport { useClipboard } from '@app/common/hooks/use-copy-to-clipboard';\nimport { FormAddressDisplayer } from '@app/components/address-displayer/form-address-displayer';\nimport {\n  InfoCardAssetValue,\n  InfoCardRow,\n  InfoCardSeparator,\n} from '@app/components/info-card/info-card';\nimport { Card, Content, Page, SummaryFooter } from '@app/components/layout';\nimport { PageHeader } from '@app/features/container/headers/page.header';\nimport { useToast } from '@app/features/toasts/use-toast';\n\nimport { TxDone } from '../send-crypto-asset-form/components/tx-done';\n\nexport function BtcSentSummary() {\n  const { state } = useLocation();\n\n  const toast = useToast();\n\n  const {\n    txId,\n    txValue,\n    txFiatValue,\n    txFiatValueSymbol,\n    symbol,\n    txLink,\n    arrivesIn,\n    sendingValue,\n    recipient,\n    totalSpend,\n    feeRowValue,\n  } = state;\n\n  const { onCopy } = useClipboard(txId);\n  const { handleOpenBitcoinTxLink: handleOpenTxLink } = useBitcoinExplorerLink();\n\n  function onClickLink() {\n    void analytics.track('view_transaction_confirmation', { symbol: 'BTC' });\n    handleOpenTxLink({ txid: txLink.txid });\n  }\n\n  function onClickCopy() {\n    onCopy();\n    toast.success('ID copied!');\n  }\n\n  return (\n    <>\n      <PageHeader title=\"Sent\" isSummaryPage />\n      <Content>\n        <Page>\n          <Card\n            contentStyle={{\n              p: 'space.00',\n            }}\n            footer={<SummaryFooter onClickCopy={onClickCopy} onClickLink={onClickLink} />}\n          >\n            <TxDone />\n            <InfoCardAssetValue\n              fiatSymbol={txFiatValueSymbol}\n              fiatValue={txFiatValue}\n              px=\"space.05\"\n              symbol={symbol}\n              value={txValue}\n            />\n\n            <Stack pb=\"space.06\" px=\"space.06\" width=\"100%\">\n              <InfoCardRow title=\"To\" value={<FormAddressDisplayer address={recipient} />} />\n              <InfoCardSeparator />\n              <InfoCardRow title=\"Total spend\" value={totalSpend} />\n\n              <InfoCardRow title=\"Sending\" value={sendingValue} />\n              <InfoCardRow title=\"Fee\" value={feeRowValue} />\n              {arrivesIn && <InfoCardRow title=\"Arrives in\" value={arrivesIn} />}\n            </Stack>\n          </Card>\n        </Page>\n      </Content>\n    </>\n  );\n}\n","import { useLocation } from 'react-router-dom';\n\nimport { Stack } from 'leather-styles/jsx';\n\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useClipboard } from '@app/common/hooks/use-copy-to-clipboard';\nimport { useStacksExplorerLink } from '@app/common/hooks/use-stacks-explorer-link';\nimport { FormAddressDisplayer } from '@app/components/address-displayer/form-address-displayer';\nimport {\n  InfoCardAssetValue,\n  InfoCardRow,\n  InfoCardSeparator,\n} from '@app/components/info-card/info-card';\nimport { Card, Content, Page, SummaryFooter } from '@app/components/layout';\nimport { PageHeader } from '@app/features/container/headers/page.header';\nimport { useToast } from '@app/features/toasts/use-toast';\n\nimport { TxDone } from '../send-crypto-asset-form/components/tx-done';\n\nexport function StxSentSummary() {\n  const { state } = useLocation();\n  const toast = useToast();\n\n  const {\n    txValue,\n    txFiatValue,\n    txFiatValueSymbol,\n    symbol,\n    txLink,\n    arrivesIn,\n    fee,\n    recipient,\n    txId,\n    totalSpend,\n    sendingValue,\n  } = state;\n\n  const { onCopy } = useClipboard(txId || '');\n  const { handleOpenStacksTxLink } = useStacksExplorerLink();\n\n  function onClickLink() {\n    void analytics.track('view_transaction_confirmation', { symbol: 'STX' });\n    handleOpenStacksTxLink(txLink);\n  }\n\n  function onClickCopy() {\n    onCopy();\n    toast.success('ID copied!');\n  }\n\n  return (\n    <>\n      <PageHeader title=\"Sent\" isSummaryPage />\n      <Content>\n        <Page>\n          <Card\n            contentStyle={{\n              p: 'space.00',\n            }}\n            footer={<SummaryFooter onClickCopy={onClickCopy} onClickLink={onClickLink} />}\n          >\n            <TxDone />\n\n            <InfoCardAssetValue\n              fiatSymbol={txFiatValueSymbol}\n              fiatValue={txFiatValue}\n              px=\"space.05\"\n              symbol={symbol}\n              value={txValue}\n            />\n\n            <Stack pb=\"space.06\" px=\"space.06\" width=\"100%\">\n              <InfoCardRow title=\"To\" value={<FormAddressDisplayer address={recipient} />} />\n              <InfoCardSeparator />\n              <InfoCardRow title=\"Total spend\" value={totalSpend} />\n\n              <InfoCardRow title=\"Sending\" value={sendingValue} />\n              <InfoCardRow title=\"Fee\" value={fee} />\n              <InfoCardRow title=\"Estimated confirmation time\" value={arrivesIn} />\n            </Stack>\n          </Card>\n        </Page>\n      </Content>\n    </>\n  );\n}\n","import { memo } from 'react';\n\nimport { useFormikContext } from 'formik';\n\nimport { BitcoinSendFormValues, StacksSendFormValues } from '@shared/models/form.model';\n\nimport { useAccountDisplayName } from '@app/common/hooks/account/use-account-names';\nimport { AccountTotalBalance } from '@app/components/account-total-balance';\nimport { AcccountAddresses } from '@app/components/account/account-addresses';\nimport { AccountListItemLayout } from '@app/components/account/account-list-item.layout';\nimport { AccountNameLayout } from '@app/components/account/account-name';\nimport { useNativeSegwitSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { StacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.models';\nimport { AccountAvatarItem } from '@app/ui/components/account/account-avatar/account-avatar-item';\n\ninterface AccountListItemProps {\n  stacksAccount: StacksAccount;\n  index: number;\n  onClose(): void;\n}\nexport const AccountListItem = memo(({ index, stacksAccount, onClose }: AccountListItemProps) => {\n  const { setFieldValue, values, setFieldTouched } = useFormikContext<\n    BitcoinSendFormValues | StacksSendFormValues\n  >();\n  const stacksAddress = stacksAccount?.address || '';\n  const { data: name = '' } = useAccountDisplayName({ address: stacksAddress, index });\n  const bitcoinSigner = useNativeSegwitSigner(index);\n  const bitcoinAddress = bitcoinSigner?.(0).address || '';\n\n  const onSelectAccount = () => {\n    const isBitcoin = values.symbol === 'BTC';\n    void setFieldValue('recipient', isBitcoin ? bitcoinAddress : stacksAddress, false);\n    void setFieldTouched('recipient', false);\n    onClose();\n  };\n\n  return (\n    <AccountListItemLayout\n      accountAddresses={<AcccountAddresses index={index} />}\n      accountName={<AccountNameLayout>{name}</AccountNameLayout>}\n      avatar={\n        <AccountAvatarItem\n          index={index}\n          publicKey={stacksAccount?.stxPublicKey || ''}\n          name={name}\n        />\n      }\n      balanceLabel={<AccountTotalBalance stxAddress={stacksAddress} btcAddress={bitcoinAddress} />}\n      index={index}\n      isSelected={false}\n      isLoading={false}\n      onSelectAccount={onSelectAccount}\n    />\n  );\n});\n","import { useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Virtuoso } from 'react-virtuoso';\n\nimport { Box } from 'leather-styles/jsx';\n\nimport { Sheet, SheetHeader } from '@leather.io/ui';\n\nimport { useFilteredBitcoinAccounts } from '@app/store/accounts/blockchain/bitcoin/bitcoin.ledger';\nimport { useStacksAccounts } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { VirtuosoWrapper } from '@app/ui/components/virtuoso';\n\nimport { AccountListItem } from './account-list-item';\n\nexport function RecipientAccountsSheet() {\n  const stacksAccounts = useStacksAccounts();\n  const navigate = useNavigate();\n\n  const onGoBack = useCallback(() => navigate('..', { replace: true }), [navigate]);\n  const bitcoinAccounts = useFilteredBitcoinAccounts();\n  const btcAddressesNum = bitcoinAccounts.length / 2;\n  const stacksAddressesNum = stacksAccounts.length;\n\n  if (stacksAddressesNum === 0 && btcAddressesNum === 0) return null;\n  const accountNum = stacksAddressesNum || btcAddressesNum;\n\n  return (\n    <Sheet\n      header={<SheetHeader title=\"My accounts\" />}\n      isShowing\n      onClose={onGoBack}\n      wrapChildren={false}\n    >\n      <VirtuosoWrapper>\n        <Virtuoso\n          style={{\n            height: '100%',\n          }}\n          itemContent={index => (\n            <Box key={index} my=\"space.05\" px=\"space.05\">\n              <AccountListItem\n                stacksAccount={stacksAccounts[index]}\n                onClose={onGoBack}\n                index={index}\n              />\n            </Box>\n          )}\n          totalCount={accountNum}\n        />\n      </VirtuosoWrapper>\n    </Sheet>\n  );\n}\n","import { useState } from 'react';\nimport { Outlet, useOutletContext } from 'react-router-dom';\n\nimport type { BtcFeeType } from '@leather.io/models';\n\ninterface SendBitcoinAssetContextState {\n  selectedFeeType: BtcFeeType | null;\n  setSelectedFeeType(value: BtcFeeType | null): void;\n}\nexport function useSendBitcoinAssetContextState() {\n  const context = useOutletContext<SendBitcoinAssetContextState>();\n  return { ...context };\n}\n\nexport function SendBitcoinAssetContainer() {\n  const [selectedFeeType, setSelectedFeeType] = useState<BtcFeeType | null>(null);\n  return <Outlet context={{ selectedFeeType, setSelectedFeeType }} />;\n}\n","import { useCallback } from 'react';\n\nimport * as btc from '@scure/btc-signer';\n\nimport type { Money } from '@leather.io/models';\nimport type { UtxoResponseItem } from '@leather.io/query';\n\nimport { logger } from '@shared/logger';\nimport type { TransferRecipient } from '@shared/models/form.model';\n\nimport {\n  determineUtxosForSpend,\n  determineUtxosForSpendAll,\n} from '@app/common/transactions/bitcoin/coinselect/local-coin-selection';\nimport { useBitcoinScureLibNetworkConfig } from '@app/store/accounts/blockchain/bitcoin/bitcoin-keychain';\nimport { useCurrentAccountNativeSegwitIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\n\ninterface GenerateNativeSegwitTxValues {\n  amount: Money;\n  recipients: TransferRecipient[];\n}\n\nexport function useGenerateUnsignedNativeSegwitTx() {\n  const signer = useCurrentAccountNativeSegwitIndexZeroSigner();\n\n  const networkMode = useBitcoinScureLibNetworkConfig();\n\n  return useCallback(\n    async (\n      values: GenerateNativeSegwitTxValues,\n      feeRate: number,\n      utxos: UtxoResponseItem[],\n      isSendingMax?: boolean\n    ) => {\n      if (!utxos.length) return;\n      if (!feeRate) return;\n\n      try {\n        const tx = new btc.Transaction();\n\n        const determineUtxosArgs = {\n          feeRate,\n          recipients: values.recipients,\n          utxos,\n        };\n\n        const { inputs, outputs, fee } = isSendingMax\n          ? determineUtxosForSpendAll(determineUtxosArgs)\n          : determineUtxosForSpend(determineUtxosArgs);\n\n        logger.info('Coin selection', { inputs, outputs, fee });\n\n        if (!inputs.length) throw new Error('No inputs to sign');\n        if (!outputs.length) throw new Error('No outputs to sign');\n\n        // Is this critical?\n\n        // if (outputs.length > 2)\n        //   throw new Error('Address reuse mode: wallet should have max 2 outputs');\n\n        const p2wpkh = btc.p2wpkh(signer.publicKey, networkMode);\n\n        for (const input of inputs) {\n          tx.addInput({\n            txid: input.txid,\n            index: input.vout,\n            sequence: 0,\n            witnessUtxo: {\n              // script = 0014 + pubKeyHash\n              script: p2wpkh.script,\n              amount: BigInt(input.value),\n            },\n          });\n        }\n\n        outputs.forEach(output => {\n          // When coin selection returns output with no address we assume it is\n          // a change output\n          if (!output.address) {\n            tx.addOutputAddress(signer.address, BigInt(output.value), networkMode);\n            return;\n          }\n          tx.addOutputAddress(output.address, BigInt(output.value), networkMode);\n        });\n\n        return { hex: tx.hex, fee: fee, psbt: tx.toPSBT(), inputs };\n      } catch (e) {\n        // eslint-disable-next-line no-console\n        console.log('Error signing bitcoin transaction', e);\n        return null;\n      }\n    },\n    [networkMode, signer.address, signer.publicKey]\n  );\n}\n","import BigNumber from 'bignumber.js';\n\nimport type { AverageBitcoinFeeRates } from '@leather.io/models';\nimport type { UtxoResponseItem } from '@leather.io/query';\nimport { createMoney, satToBtc } from '@leather.io/utils';\n\nimport { filterUneconomicalUtxos, getSpendableAmount } from '../utils';\n\ninterface CalculateMaxBitcoinSpend {\n  address: string;\n  utxos: UtxoResponseItem[];\n  fetchedFeeRates?: AverageBitcoinFeeRates;\n  feeRate?: number;\n}\n\nexport function calculateMaxBitcoinSpend({\n  address,\n  utxos,\n  feeRate,\n  fetchedFeeRates,\n}: CalculateMaxBitcoinSpend) {\n  if (!utxos.length || !fetchedFeeRates)\n    return {\n      spendAllFee: 0,\n      amount: createMoney(0, 'BTC'),\n      spendableBitcoin: new BigNumber(0),\n    };\n\n  const currentFeeRate = feeRate ?? fetchedFeeRates.halfHourFee.toNumber();\n\n  const filteredUtxos = filterUneconomicalUtxos({\n    utxos,\n    feeRate: currentFeeRate,\n    recipients: [{ address, amount: createMoney(0, 'BTC') }],\n  });\n\n  const { spendableAmount, fee } = getSpendableAmount({\n    utxos: filteredUtxos,\n    feeRate: currentFeeRate,\n    recipients: [{ address, amount: createMoney(0, 'BTC') }],\n  });\n\n  return {\n    spendAllFee: fee,\n    amount: createMoney(spendableAmount, 'BTC'),\n    spendableBitcoin: satToBtc(spendableAmount),\n  };\n}\n","import { useCallback } from 'react';\n\nimport { type UtxoResponseItem, useAverageBitcoinFeeRates } from '@leather.io/query';\n\nimport { calculateMaxBitcoinSpend } from '@app/common/transactions/bitcoin/fees/calculate-max-bitcoin-spend';\n\nexport function useCalculateMaxBitcoinSpend() {\n  const { data: feeRates } = useAverageBitcoinFeeRates();\n\n  return useCallback(\n    (address = '', utxos: UtxoResponseItem[], feeRate?: number) =>\n      calculateMaxBitcoinSpend({\n        address,\n        utxos,\n        feeRate,\n        fetchedFeeRates: feeRates,\n      }),\n    [feeRates]\n  );\n}\n","import { useMemo } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nimport { bytesToHex } from '@stacks/common';\nimport { StacksTransaction } from '@stacks/transactions';\nimport { AxiosError } from 'axios';\n\nimport type { UtxoResponseItem } from '@leather.io/query';\n\nimport { BitcoinSendFormValues } from '@shared/models/form.model';\nimport { RouteUrls } from '@shared/route-urls';\n\ninterface ConfirmationRouteState {\n  decimals?: number;\n  token?: string;\n  tx: string;\n}\n\ninterface ConfirmationRouteStacksSip10Args {\n  decimals?: number;\n  name?: string;\n  tx: StacksTransaction;\n}\n\ninterface ConfirmationRouteBtcArgs {\n  tx: string;\n  recipient: string;\n  fee: number;\n  feeRowValue: string;\n  time: string;\n}\n\nexport function useSendFormNavigate() {\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  return useMemo(\n    () => ({\n      backToSendForm(state: any) {\n        return navigate('../', { relative: 'path', replace: true, state });\n      },\n      toChooseTransactionFee(\n        isSendingMax: boolean,\n        utxos: UtxoResponseItem[],\n        values: BitcoinSendFormValues\n      ) {\n        return navigate(RouteUrls.SendBtcChooseFee, {\n          replace: true,\n          state: {\n            isSendingMax,\n            utxos,\n            values,\n          },\n        });\n      },\n      toConfirmAndSignBtcTransaction({\n        tx,\n        recipient,\n        fee,\n        feeRowValue,\n        time,\n      }: ConfirmationRouteBtcArgs) {\n        return navigate(RouteUrls.SendBtcConfirmation, {\n          state: {\n            tx,\n            recipient,\n            fee,\n            feeRowValue,\n            time,\n          } as ConfirmationRouteState,\n        });\n      },\n      toConfirmAndSignStxTransaction(tx: StacksTransaction, showFeeChangeWarning: boolean) {\n        return navigate(RouteUrls.SendStxConfirmation, {\n          replace: true,\n          state: {\n            tx: bytesToHex(tx.serialize()),\n            showFeeChangeWarning,\n          } as ConfirmationRouteState,\n        });\n      },\n      toConfirmAndSignStacksSip10Transaction({\n        decimals,\n        name,\n        tx,\n      }: ConfirmationRouteStacksSip10Args) {\n        return navigate(`${location.pathname}/confirm`, {\n          state: {\n            decimals,\n            token: name,\n            tx: bytesToHex(tx.serialize()),\n          } as ConfirmationRouteState,\n        });\n      },\n      toErrorPage(error: unknown) {\n        // without this processing, navigate does not work\n        const processedError = error instanceof AxiosError ? new Error(error.message) : error;\n\n        return navigate('../error', {\n          relative: 'path',\n          replace: true,\n          state: { error: processedError },\n        });\n      },\n    }),\n    [navigate, location]\n  );\n}\n","import { btcToSat, createMoney } from '@leather.io/utils';\n\nimport { logger } from '@shared/logger';\n\nimport { formFeeRowValue } from '@app/common/send/utils';\nimport { useGenerateUnsignedNativeSegwitTx } from '@app/common/transactions/bitcoin/use-generate-bitcoin-tx';\nimport { OnChooseFeeArgs } from '@app/components/bitcoin-fees-list/bitcoin-fees-list';\nimport { useSignBitcoinTx } from '@app/store/accounts/blockchain/bitcoin/bitcoin.hooks';\n\nimport { useCalculateMaxBitcoinSpend } from '../../family/bitcoin/hooks/use-calculate-max-spend';\nimport { useSendFormNavigate } from '../../hooks/use-send-form-navigate';\nimport { useBtcChooseFeeState } from './btc-choose-fee';\n\nexport function useBtcChooseFee() {\n  const { isSendingMax, txValues, utxos } = useBtcChooseFeeState();\n  const sendFormNavigate = useSendFormNavigate();\n  const generateTx = useGenerateUnsignedNativeSegwitTx();\n  const calcMaxSpend = useCalculateMaxBitcoinSpend();\n  const signTx = useSignBitcoinTx();\n  const amountAsMoney = createMoney(btcToSat(txValues.amount).toNumber(), 'BTC');\n\n  return {\n    amountAsMoney,\n\n    async previewTransaction({ feeRate, feeValue, time, isCustomFee }: OnChooseFeeArgs) {\n      const amount = isSendingMax\n        ? calcMaxSpend(txValues.recipient, utxos, feeRate).amount\n        : amountAsMoney;\n\n      const resp = await generateTx(\n        {\n          amount,\n          recipients: [\n            {\n              address: txValues.recipient,\n              amount,\n            },\n          ],\n        },\n        feeRate,\n        utxos,\n        isSendingMax\n      );\n      const feeRowValue = formFeeRowValue(feeRate, isCustomFee);\n      if (!resp) return logger.error('Attempted to generate raw tx, but no tx exists');\n\n      const signedTx = await signTx(resp.psbt);\n\n      if (!signedTx) return logger.error('Attempted to sign tx, but no tx exists');\n\n      signedTx.finalize();\n\n      sendFormNavigate.toConfirmAndSignBtcTransaction({\n        tx: signedTx.hex,\n        recipient: txValues.recipient,\n        fee: feeValue,\n        feeRowValue,\n        time,\n      });\n    },\n  };\n}\n","import { Outlet } from 'react-router-dom';\n\nimport type { BtcFeeType } from '@leather.io/models';\nimport type { UtxoResponseItem } from '@leather.io/query';\n\nimport { BitcoinSendFormValues } from '@shared/models/form.model';\n\nimport { useLocationStateWithCache } from '@app/common/hooks/use-location-state';\nimport { BitcoinFeesList } from '@app/components/bitcoin-fees-list/bitcoin-fees-list';\nimport { useBitcoinFeesList } from '@app/components/bitcoin-fees-list/use-bitcoin-fees-list';\nimport { Content, Page } from '@app/components/layout';\nimport { BitcoinChooseFee } from '@app/features/bitcoin-choose-fee/bitcoin-choose-fee';\nimport { useValidateBitcoinSpend } from '@app/features/bitcoin-choose-fee/hooks/use-validate-bitcoin-spend';\nimport { PageHeader } from '@app/features/container/headers/page.header';\n\nimport { useSendBitcoinAssetContextState } from '../../family/bitcoin/components/send-bitcoin-asset-container';\nimport { useBtcChooseFee } from './use-btc-choose-fee';\n\nexport function useBtcChooseFeeState() {\n  const isSendingMax = useLocationStateWithCache('isSendingMax') as boolean;\n  const txValues = useLocationStateWithCache('values') as BitcoinSendFormValues;\n  const utxos = useLocationStateWithCache('utxos') as UtxoResponseItem[];\n  return { isSendingMax, txValues, utxos };\n}\n\nexport function BtcChooseFee() {\n  const { isSendingMax, txValues, utxos } = useBtcChooseFeeState();\n  const { selectedFeeType, setSelectedFeeType } = useSendBitcoinAssetContextState();\n  const { amountAsMoney, previewTransaction } = useBtcChooseFee();\n\n  const { feesList, isLoading } = useBitcoinFeesList({\n    amount: amountAsMoney,\n    isSendingMax,\n    recipient: txValues.recipient,\n    utxos,\n  });\n\n  const recipients = [\n    {\n      address: txValues.recipient,\n      amount: amountAsMoney,\n    },\n  ];\n\n  const recommendedFeeRate = feesList[1]?.feeRate.toString() || '';\n\n  const { showInsufficientBalanceError, onValidateBitcoinAmountSpend } = useValidateBitcoinSpend(\n    amountAsMoney,\n    isSendingMax\n  );\n\n  return (\n    <>\n      <PageHeader title=\"Send\" />\n      <Content>\n        <Page>\n          <BitcoinChooseFee\n            amount={amountAsMoney}\n            defaultToCustomFee={!feesList.length}\n            feesList={\n              <BitcoinFeesList\n                feesList={feesList}\n                isLoading={isLoading}\n                onChooseFee={previewTransaction}\n                onSetSelectedFeeType={(value: BtcFeeType | null) => setSelectedFeeType(value)}\n                onValidateBitcoinSpend={onValidateBitcoinAmountSpend}\n                selectedFeeType={selectedFeeType}\n              />\n            }\n            isLoading={isLoading}\n            isSendingMax={isSendingMax}\n            onChooseFee={previewTransaction}\n            onValidateBitcoinSpend={onValidateBitcoinAmountSpend}\n            onSetSelectedFeeType={(value: BtcFeeType | null) => setSelectedFeeType(value)}\n            recipients={recipients}\n            recommendedFeeRate={recommendedFeeRate}\n            showError={showInsufficientBalanceError}\n            maxRecommendedFeeRate={feesList[0]?.feeRate}\n          />\n          <Outlet />\n        </Page>\n      </Content>\n    </>\n  );\n}\n","import { type ChangeEvent, useCallback, useEffect, useRef, useState } from 'react';\n\nimport { SendCryptoAssetSelectors } from '@tests/selectors/send.selectors';\nimport { useField } from 'formik';\nimport { Box, Flex, Stack, styled } from 'leather-styles/jsx';\n\nimport { STX_DECIMALS, TOKEN_NAME_LENGTH } from '@leather.io/constants';\nimport type { Money } from '@leather.io/models';\n\nimport { useShowFieldError } from '@app/common/form-utils';\nimport { linearInterpolation } from '@app/common/utils';\nimport { ErrorLabel } from '@app/components/error-label';\n\nconst amountInputId = 'amount-input';\nconst maxFontSize = 48;\nconst minFontSize = 22;\n// This is set so the font resizing works. We can revisit the design,\n// but this cannot be completely removed or the UI breaks.\nconst maxLength = STX_DECIMALS + 12;\n\ninterface GetAmountModifiedFontSize {\n  amount: string;\n  fontSize: number;\n  fontSizeModifier: number;\n  maxFontSize: number;\n  symbol: string;\n}\nfunction getAmountModifiedFontSize(props: GetAmountModifiedFontSize) {\n  const { fontSize, fontSizeModifier, maxFontSize, amount, symbol } = props;\n  const convertedAmountFontSize = amount.length * fontSizeModifier;\n  return amount.length > symbol.length\n    ? Math.ceil(fontSize - convertedAmountFontSize)\n    : maxFontSize;\n}\n\ninterface AmountFieldProps {\n  autoComplete?: 'on' | 'off';\n  autofocus?: boolean;\n  balance: Money;\n  bottomInputOverlay?: React.JSX.Element;\n  isSendingMax?: boolean;\n  switchableAmount?: React.JSX.Element;\n  tokenSymbol?: string;\n  onSetIsSendingMax?(value: boolean): void;\n}\nexport function AmountField({\n  autoComplete = 'on',\n  autofocus = false,\n  balance,\n  bottomInputOverlay,\n  isSendingMax,\n  onSetIsSendingMax,\n  switchableAmount,\n  tokenSymbol,\n}: AmountFieldProps) {\n  const [field, meta, helpers] = useField('amount');\n\n  const showError = useShowFieldError('amount');\n  const [fontSize, setFontSize] = useState(maxFontSize);\n  const [textSizeInPx, setTextSizeInPx] = useState(0);\n  const [previousTextLength, setPreviousTextLength] = useState(1);\n  const fieldRef = useRef<HTMLSpanElement>(null);\n\n  const symbol = tokenSymbol || balance.symbol;\n\n  const fontSizeModifier = (maxFontSize - minFontSize) / maxLength;\n  const subtractedLengthToPositionPrefix = 0.5;\n\n  const onChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const value = event.currentTarget.value;\n\n    /*\n     * If the symbol is not a token (has more than 4 chars) we don't want to\n     * modify the size since we will always use minFontSize to be avoid overflowing.\n     * Since we are using lerp, as soon as we type 1 character we get a new font size\n     * which makes content jump if we type 0 and placeholder is 0. That's why we only update the size\n     * if we have none or more than 1 characters.\n     */\n    if (symbol.length <= TOKEN_NAME_LENGTH && value.length !== 1) {\n      const t = value.length / (symbol.length + maxLength);\n\n      const newFontSize = linearInterpolation({ start: maxFontSize, end: minFontSize, t });\n      setFontSize(newFontSize);\n    }\n\n    field.onChange(event);\n  };\n\n  useEffect(() => {\n    // case, when e.g token doesn't have symbol\n    if (symbol.length > TOKEN_NAME_LENGTH) setFontSize(minFontSize);\n\n    // Copy/paste\n    if (field.value.length > symbol.length && field.value.length > previousTextLength + 2) {\n      const modifiedFontSize = getAmountModifiedFontSize({\n        amount: field.value,\n        fontSize,\n        fontSizeModifier,\n        maxFontSize,\n        symbol,\n      });\n      setFontSize(modifiedFontSize < minFontSize ? minFontSize : modifiedFontSize);\n    }\n    setPreviousTextLength(\n      isSendingMax ? field.value.length - subtractedLengthToPositionPrefix : field.value.length\n    );\n  }, [field.value, fontSize, fontSizeModifier, isSendingMax, previousTextLength, symbol]);\n\n  useEffect(() => {\n    const resizeObserver = new ResizeObserver(entries => {\n      const [text] = entries;\n      const [size] = text?.contentBoxSize;\n      if (size) {\n        const { inlineSize } = size;\n        setTextSizeInPx(inlineSize);\n      }\n    });\n\n    const sizeReference = fieldRef.current;\n\n    if (sizeReference) {\n      resizeObserver.observe(sizeReference);\n    }\n    () => resizeObserver.disconnect();\n  }, []);\n\n  // TODO: could be implemented with html using padded label element\n  const onClickFocusInput = useCallback(() => {\n    if (isSendingMax) {\n      void helpers.setValue('');\n      onSetIsSendingMax?.(false);\n    }\n\n    // put focus in the queue, otherwise it won't work\n    setTimeout(() => {\n      document.getElementById(amountInputId)?.focus();\n    });\n  }, [isSendingMax, helpers, onSetIsSendingMax]);\n\n  return (\n    <Stack alignItems=\"center\" gap={['space.04', showError ? 'space.04' : '48px']} width=\"100%\">\n      <Flex alignItems=\"center\" flexDirection=\"column\" onClick={onClickFocusInput} width=\"100%\">\n        {/* #4476 TODO check these fonts against design */}\n        <Flex\n          alignItems=\"center\"\n          height=\"55px\"\n          justifyContent=\"center\"\n          fontWeight={500}\n          position=\"relative\"\n          fontFamily=\"Marche\"\n        >\n          {isSendingMax ? <styled.span style={{ fontSize: fontSize + 'px' }}>~</styled.span> : null}\n          <styled.input\n            _disabled={{ bg: 'ink.background-primary' }}\n            _focus={{\n              border: 'none',\n              color: 'ink.text-primary',\n            }}\n            bg=\"transparent\"\n            border=\"none\"\n            data-testid={SendCryptoAssetSelectors.AmountFieldInput}\n            height=\"100%\"\n            id={amountInputId}\n            disabled={isSendingMax}\n            maxLength={maxLength}\n            placeholder=\"0\"\n            px=\"none\"\n            ring=\"none\"\n            style={{\n              fontSize: fontSize + 'px',\n              marginInlineStart: !field.value?.length ? 0 : -25 + 'px',\n              width: !field.value?.length ? '1ch' : textSizeInPx + 25 + 'px',\n            }}\n            textAlign=\"right\"\n            letterSpacing=\"0.64px\"\n            /*\n             * We are adding an extra 25px to the variable since there's a transition for width\n             * which makes the content cut momentarily while the width is updated. The 25px serve\n             * as extra space so users don't experience that text cutting.\n             * We are correcting for that extra space with a negative margin so the content is perfectly\n             * centered\n             */\n            // width={!field.value?.length ? '1ch' : textSizeInPx + 25 + 'px'}\n            // marginInlineStart={!field.value?.length ? 0 : -25 + 'px'}\n            autoFocus={autofocus}\n            fontWeight={500}\n            autoComplete={autoComplete}\n            {...field}\n            onChange={onChange}\n          />\n          {/*\n           * This is what we use to measure the size of the input, it's hidden\n           * and with no pointer events so users can't interact with it\n           */}\n          <styled.span\n            position=\"absolute\"\n            ref={fieldRef}\n            visibility=\"hidden\"\n            pointerEvents=\"none\"\n            top={0}\n            left={0}\n            letterSpacing={-0.3 + 'px'}\n            fontWeight={500}\n            minWidth={1 + 'ch'}\n            style={{ fontSize: fontSize + 'px' }}\n          >\n            {field.value}\n          </styled.span>\n          <styled.span\n            fontFamily=\"Marche\"\n            color=\"ink.text-primary\"\n            letterSpacing=\"0.64px\"\n            pl=\"space.02\"\n            style={{ fontSize: fontSize + 'px' }}\n          >\n            {symbol.toUpperCase()}\n          </styled.span>\n        </Flex>\n        <Box mt=\"12px\">{switchableAmount && switchableAmount}</Box>\n      </Flex>\n      {showError && (\n        <Flex>\n          <ErrorLabel data-testid={SendCryptoAssetSelectors.AmountFieldInputErrorLabel}>\n            {meta.error}\n          </ErrorLabel>\n        </Flex>\n      )}\n      {bottomInputOverlay}\n    </Stack>\n  );\n}\n","import { Field, useField } from 'formik';\nimport { Flex, styled } from 'leather-styles/jsx';\n\nimport { Flag } from '@leather.io/ui';\n\nimport { useOnMount } from '@app/common/hooks/use-on-mount';\n\ninterface SelectedAssetFieldProps {\n  icon: React.JSX.Element;\n  name: string;\n  symbol: string;\n}\nexport function SelectedAssetField({ icon, name, symbol }: SelectedAssetFieldProps) {\n  const [, , helpers] = useField('symbol');\n\n  useOnMount(() => helpers.setValue(symbol));\n\n  return (\n    <Flex\n      alignItems=\"center\"\n      border=\"default\"\n      borderRadius=\"sm\"\n      minHeight=\"64px\"\n      mb=\"space.04\"\n      mt=\"space.06\"\n      px=\"space.04\"\n      width=\"100%\"\n    >\n      <Field as=\"div\" name=\"symbol\">\n        <Flag img={icon} spacing=\"space.03\">\n          <styled.span textStyle=\"label.01\">{name}</styled.span>\n        </Flag>\n      </Field>\n    </Flex>\n  );\n}\n","import { useEffect, useState } from 'react';\n\nimport { useField } from 'formik';\nimport { styled } from 'leather-styles/jsx';\n\nimport type { MarketData, Money } from '@leather.io/models';\nimport {\n  baseCurrencyAmountInQuote,\n  createMoneyFromDecimal,\n  i18nFormatCurrency,\n  isNumber,\n} from '@leather.io/utils';\n\ninterface SendFiatInputProps {\n  marketData: MarketData;\n  assetSymbol?: string;\n  assetDecimals?: number;\n}\n\nexport function SendFiatValue({ marketData, assetSymbol = '', assetDecimals }: SendFiatInputProps) {\n  const [field] = useField('amount');\n  const [assetValue, setAssetValue] = useState<Money>(\n    createMoneyFromDecimal(0, assetSymbol, assetDecimals)\n  );\n\n  useEffect(() => {\n    let amount = Number(field.value);\n\n    if (isNaN(amount) || !isNumber(amount) || amount < 0) {\n      amount = 0;\n    }\n\n    const assetAmount = createMoneyFromDecimal(amount, assetSymbol, assetDecimals);\n    setAssetValue(assetAmount);\n  }, [field.value, assetSymbol, assetDecimals]);\n\n  return (\n    <styled.span textStyle=\"body.02\" color=\"ink.text-subdued\">\n      {Number(field.value) > 0 && '~'}{' '}\n      {i18nFormatCurrency(baseCurrencyAmountInQuote(assetValue, marketData))} USD\n    </styled.span>\n  );\n}\n","import type { ComponentProps } from 'react';\n\nimport { SendCryptoAssetSelectors } from '@tests/selectors/send.selectors';\nimport { styled } from 'leather-styles/jsx';\n\ninterface SelectAccountButtonProps extends ComponentProps<typeof styled.button> {\n  onClick(): void;\n}\nexport function SelectAccountButton({ onClick, ...props }: SelectAccountButtonProps) {\n  function preventFocusOfUnderlyingInput(e: React.MouseEvent) {\n    e.preventDefault();\n  }\n\n  return (\n    <styled.button\n      type=\"button\"\n      color=\"ink.text-primary\"\n      userSelect=\"none\"\n      textStyle=\"label.03\"\n      _hover={{ color: 'ink.action-primary-hover' }}\n      data-testid={SendCryptoAssetSelectors.RecipientChooseAccountButton}\n      onMouseDown={e => preventFocusOfUnderlyingInput(e)}\n      onClick={e => {\n        // Improves UX of selecting a recipient from the window. As the button\n        // to open the drawer is inside the input, we force focus the button,\n        // such that the focus is taken away from the input in background\n        (e.target as HTMLButtonElement).focus();\n        onClick?.();\n      }}\n      zIndex={9}\n      {...props}\n    >\n      Select account\n    </styled.button>\n  );\n}\n","import { useCallback, useState } from 'react';\n\nimport { useFormikContext } from 'formik';\n\nimport { type StacksClient, useStacksClient } from '@leather.io/query';\n\nimport { FormErrorMessages } from '@shared/error-messages';\nimport { logger } from '@shared/logger';\nimport { BitcoinSendFormValues, StacksSendFormValues } from '@shared/models/form.model';\n\nimport { useCurrentNetworkState } from '@app/store/networks/networks.hooks';\n\n// Handles validating the BNS name lookup\nexport function useRecipientBnsName() {\n  const { setFieldError, setFieldValue, values } = useFormikContext<\n    BitcoinSendFormValues | StacksSendFormValues\n  >();\n  const [bnsAddress, setBnsAddress] = useState('');\n  const currentNetwork = useCurrentNetworkState();\n  const client = useStacksClient();\n\n  const getBnsAddressAndValidate = useCallback(\n    async (\n      fetchFn: (client: StacksClient, name: string, isTestnet?: boolean) => Promise<string | null>\n    ) => {\n      setBnsAddress('');\n      if (!values.recipientBnsName) return;\n\n      try {\n        const owner = await fetchFn(client, values.recipientBnsName, currentNetwork.isTestnet);\n        if (owner) {\n          setBnsAddress(owner);\n          setFieldError('recipient', undefined);\n          await setFieldValue('recipient', owner);\n        } else {\n          setFieldError('recipientBnsName', FormErrorMessages.BnsAddressNotFound);\n        }\n      } catch (e) {\n        setFieldError('recipientBnsName', FormErrorMessages.BnsAddressNotFound);\n        logger.error('Error fetching bns address', e);\n      }\n    },\n    [client, currentNetwork.isTestnet, setFieldError, setFieldValue, values.recipientBnsName]\n  );\n\n  return { bnsAddress, getBnsAddressAndValidate, setBnsAddress };\n}\n","import { useCallback, useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { useFormikContext } from 'formik';\n\nimport type { Entries } from '@leather.io/models';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { useRecipientBnsName } from './use-recipient-bns-name';\n\nconst recipientIdentifierTypesMap = { address: 'Address', bnsName: 'BNS Name' } as const;\n\nexport type RecipientIdentifierType = keyof typeof recipientIdentifierTypesMap;\n\nfunction makeIteratbleListOfRecipientIdentifierTypes(\n  recipientTypeMap: typeof recipientIdentifierTypesMap\n) {\n  return (Object.entries(recipientTypeMap) as Entries<typeof recipientTypeMap>).map(\n    ([key, value]) => ({ key, label: value })\n  );\n}\nexport const recipientIdentifierTypes = makeIteratbleListOfRecipientIdentifierTypes(\n  recipientIdentifierTypesMap\n);\n\nexport function useRecipientSelectFields() {\n  const { setFieldError, setFieldTouched, setFieldValue } = useFormikContext();\n\n  const [selectedRecipientField, setSelectedRecipientField] =\n    useState<RecipientIdentifierType>('address');\n\n  const [isSelectVisible, setIsSelectVisible] = useState(false);\n  const { setBnsAddress } = useRecipientBnsName();\n  const navigate = useNavigate();\n\n  const resetAllRecipientFields = useCallback(async () => {\n    void setFieldValue('recipient', '');\n    setFieldError('recipient', undefined);\n    await setFieldTouched('recipient', false);\n    void setFieldValue('recipientBnsName', '');\n    setFieldError('recipientBnsName', undefined);\n    await setFieldTouched('recipientBnsName', false);\n  }, [setFieldValue, setFieldError, setFieldTouched]);\n\n  return useMemo(\n    () => ({\n      selectedRecipientField,\n\n      selectedRecipientFieldName: recipientIdentifierTypesMap[selectedRecipientField],\n\n      isSelectVisible,\n\n      showRecipientAccountsModal() {\n        setSelectedRecipientField('address');\n        navigate(RouteUrls.SendCryptoAssetFormRecipientAccounts, { replace: true });\n      },\n\n      async onSelectRecipientFieldType(recipientType: RecipientIdentifierType) {\n        await resetAllRecipientFields();\n        setBnsAddress('');\n        setSelectedRecipientField(recipientType);\n        setIsSelectVisible(false);\n      },\n\n      async onSetIsSelectVisible(value: boolean) {\n        await resetAllRecipientFields();\n        setIsSelectVisible(value);\n      },\n    }),\n    [isSelectVisible, navigate, resetAllRecipientFields, selectedRecipientField, setBnsAddress]\n  );\n}\n","import { SendCryptoAssetSelectors } from '@tests/selectors/send.selectors';\n\nimport { ChevronDownIcon, DropdownMenu, Flag } from '@leather.io/ui';\n\nimport {\n  type RecipientIdentifierType,\n  recipientIdentifierTypes,\n} from '../recipient-fields/hooks/use-recipient-select-fields';\n\ninterface RecipientIdentifierTypeDropdownProps {\n  activeRecipientIdentifierType: string;\n  onSelectRecipientIdentifierType(recipientType: RecipientIdentifierType): void;\n}\nexport function RecipientIdentifierTypeDropdown(props: RecipientIdentifierTypeDropdownProps) {\n  const { activeRecipientIdentifierType, onSelectRecipientIdentifierType } = props;\n  return (\n    <DropdownMenu.Root>\n      <DropdownMenu.Trigger\n        data-testid={SendCryptoAssetSelectors.RecipientSelectRecipientTypeDropdown}\n      >\n        <Flag\n          reverse\n          img={<ChevronDownIcon variant=\"small\" />}\n          spacing=\"space.01\"\n          color=\"ink.text-primary\"\n          _hover={{ color: 'ink.action-primary-hover' }}\n        >\n          {activeRecipientIdentifierType}\n        </Flag>\n      </DropdownMenu.Trigger>\n      <DropdownMenu.Portal>\n        <DropdownMenu.Content>\n          <DropdownMenu.Group>\n            {recipientIdentifierTypes.map(type => (\n              <DropdownMenu.Item\n                key={type.key}\n                onSelect={() => onSelectRecipientIdentifierType(type.key)}\n                data-testid={`recipient-select-field-${type.key}`}\n              >\n                {type.label}\n              </DropdownMenu.Item>\n            ))}\n          </DropdownMenu.Group>\n        </DropdownMenu.Content>\n      </DropdownMenu.Portal>\n    </DropdownMenu.Root>\n  );\n}\n","import { useCallback } from 'react';\n\nimport { SendCryptoAssetSelectors } from '@tests/selectors/send.selectors';\nimport { HStack, styled } from 'leather-styles/jsx';\n\nimport { CopyIcon } from '@leather.io/ui';\n\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useClipboard } from '@app/common/hooks/use-copy-to-clipboard';\nimport { BasicTooltip } from '@app/ui/components/tooltip/basic-tooltip';\n\ninterface RecipientAddressDisplayerProps {\n  address: string;\n}\nexport function RecipientAddressDisplayer({ address }: RecipientAddressDisplayerProps) {\n  const { onCopy, hasCopied } = useClipboard(address);\n\n  const copyToClipboard = useCallback(() => {\n    void analytics.track('copy_recipient_bns_address_to_clipboard');\n    onCopy();\n  }, [onCopy]);\n\n  return (\n    <HStack mb=\"space.04\" width=\"100%\" px=\"space.04\" mt=\"space.02\">\n      <styled.span\n        textStyle=\"caption.01\"\n        data-testid={SendCryptoAssetSelectors.RecipientBnsAddressLabel}\n      >\n        {address}\n      </styled.span>\n      {/** TODO: We need to persist the tooltip after it is clicked.\n           Current implementation of radix-ui tooltip doesn't allow that, ref: https://github.com/radix-ui/primitives/issues/2029 */}\n      <BasicTooltip label={hasCopied ? 'Copied!' : 'Copy address'} side=\"right\" asChild>\n        <styled.button\n          _hover={{ cursor: 'pointer' }}\n          data-testid={SendCryptoAssetSelectors.RecipientBnsAddressCopyToClipboard}\n          onClick={copyToClipboard}\n          type=\"button\"\n        >\n          <CopyIcon />\n        </styled.button>\n      </BasicTooltip>\n    </HStack>\n  );\n}\n","import { useEffect, useState } from 'react';\n\nimport { useFormikContext } from 'formik';\n\nimport type { StacksClient } from '@leather.io/query';\n\nimport { BitcoinSendFormValues, StacksSendFormValues } from '@shared/models/form.model';\n\nimport { RecipientAddressTypeField } from '@app/pages/send/send-crypto-asset-form/components/recipient-address-type-field';\n\nimport { RecipientAddressDisplayer } from './components/recipient-address-displayer';\nimport { useRecipientBnsName } from './hooks/use-recipient-bns-name';\n\ninterface RecipientBnsNameTypeFieldProps {\n  fetchFn(client: StacksClient, name: string, isTestnet?: boolean): Promise<string | null>;\n  topInputOverlay: React.JSX.Element;\n  rightLabel: React.JSX.Element;\n}\nexport function RecipientBnsNameTypeField({\n  fetchFn,\n  topInputOverlay,\n  rightLabel,\n}: RecipientBnsNameTypeFieldProps) {\n  const [showBnsAddress, setShowBnsAddress] = useState(false);\n  const { errors, setFieldError, values } = useFormikContext<\n    BitcoinSendFormValues | StacksSendFormValues\n  >();\n  const { bnsAddress, getBnsAddressAndValidate } = useRecipientBnsName();\n\n  // Apply the recipient field validation to the bns name field\n  // here so we don't need to validate the bns name on blur.\n  // Bns name validation occurs in the hook handling the lookup.\n  // This allows us to have just one field handling the recipient\n  // address for generating the unsigned transaction.\n  useEffect(() => {\n    if (!errors.recipient) {\n      bnsAddress && setShowBnsAddress(true);\n      setFieldError('recipientBnsName', undefined);\n    }\n    if (values.recipient && errors.recipient) {\n      setShowBnsAddress(false);\n      setFieldError('recipientBnsName', errors.recipient);\n    }\n  }, [bnsAddress, errors.recipient, setFieldError, values.recipient]);\n\n  return (\n    <>\n      <RecipientAddressTypeField\n        name=\"recipientBnsName\"\n        onBlur={() => getBnsAddressAndValidate(fetchFn)}\n        placeholder=\"Enter recipient BNS name\"\n        topInputOverlay={topInputOverlay}\n        rightLabel={rightLabel}\n      />\n      {showBnsAddress ? <RecipientAddressDisplayer address={bnsAddress} /> : null}\n    </>\n  );\n}\n","import { TextInputFieldError } from '@app/components/field-error';\n\nimport { SelectAccountButton } from '../recipient-accounts-dialog/select-account-button';\nimport { RecipientAddressTypeField } from '../recipient-address-type-field';\nimport { RecipientIdentifierTypeDropdown } from '../recipient-type-dropdown/recipient-type-dropdown';\nimport { useRecipientSelectFields } from './hooks/use-recipient-select-fields';\nimport { RecipientBnsNameTypeField } from './recipient-bns-name-type-field';\n\ninterface RecipientFieldProps {\n  bnsLookupFn(client: any, name: string, isTestnet?: boolean): Promise<string | null>;\n}\nexport function RecipientField({ bnsLookupFn }: RecipientFieldProps) {\n  const {\n    showRecipientAccountsModal,\n    onSelectRecipientFieldType,\n    selectedRecipientFieldName,\n    selectedRecipientField,\n  } = useRecipientSelectFields();\n\n  const recipientDropdown = (\n    <RecipientIdentifierTypeDropdown\n      activeRecipientIdentifierType={selectedRecipientFieldName}\n      onSelectRecipientIdentifierType={recipientType => onSelectRecipientFieldType(recipientType)}\n    />\n  );\n\n  const selectAccountButton = <SelectAccountButton onClick={showRecipientAccountsModal} />;\n\n  switch (selectedRecipientField) {\n    case 'bnsName':\n      return (\n        <>\n          <RecipientBnsNameTypeField\n            fetchFn={bnsLookupFn}\n            rightLabel={selectAccountButton}\n            topInputOverlay={recipientDropdown}\n          />\n          <TextInputFieldError name=\"recipientBnsName\" />\n        </>\n      );\n    case 'address':\n    default:\n      return (\n        <>\n          <RecipientAddressTypeField\n            name=\"recipient\"\n            rightLabel={selectAccountButton}\n            placeholder=\"Enter recipient address\"\n            topInputOverlay={recipientDropdown}\n          />\n          <TextInputFieldError name=\"recipient\" />\n        </>\n      );\n  }\n}\n","import { fetchBtcNameOwner } from '@leather.io/query';\n\nimport { RecipientField } from '../../../components/recipient-fields/recipient-field';\n\nexport function TransferRecipientField() {\n  return <RecipientField bnsLookupFn={fetchBtcNameOwner} />;\n}\n","import { useCallback } from 'react';\n\nimport { useField } from 'formik';\n\nimport type { Money } from '@leather.io/models';\n\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useToast } from '@app/features/toasts/use-toast';\n\ninterface UseSendMaxArgs {\n  balance: Money;\n  isSendingMax?: boolean;\n  onSetIsSendingMax(value: boolean): void;\n  sendMaxBalance: string;\n  sendMaxFee: string;\n}\nexport function useSendMax({\n  balance,\n  isSendingMax,\n  onSetIsSendingMax,\n  sendMaxBalance,\n  sendMaxFee,\n}: UseSendMaxArgs) {\n  const [, _, amountFieldHelpers] = useField('amount');\n  const [, __, feeFieldHelpers] = useField('fee');\n  const toast = useToast();\n\n  return useCallback(() => {\n    void analytics.track('select_maximum_amount_for_send');\n    if (balance.amount.isLessThanOrEqualTo(0)) {\n      toast.error('Zero balance');\n      return;\n    }\n    onSetIsSendingMax(!isSendingMax);\n    void feeFieldHelpers.setValue(sendMaxFee);\n    void amountFieldHelpers.setValue(sendMaxBalance, false);\n    void amountFieldHelpers.setTouched(false, false);\n    amountFieldHelpers.setError(undefined);\n  }, [\n    amountFieldHelpers,\n    balance.amount,\n    feeFieldHelpers,\n    isSendingMax,\n    onSetIsSendingMax,\n    sendMaxBalance,\n    sendMaxFee,\n    toast,\n  ]);\n}\n","import { SendCryptoAssetSelectors } from '@tests/selectors/send.selectors';\nimport { Box } from 'leather-styles/jsx';\n\nimport type { Money } from '@leather.io/models';\nimport { Link } from '@leather.io/ui';\n\nimport { BasicTooltip } from '@app/ui/components/tooltip/basic-tooltip';\n\nimport { useSendMax } from '../hooks/use-send-max';\n\nconst sendMaxTooltipLabel = 'This amount is affected by the fee you choose';\n\ninterface BitcoinSendMaxButtonProps {\n  balance: Money;\n  isSendingMax?: boolean;\n  onSetIsSendingMax(value: boolean): void;\n  sendMaxBalance: string;\n  sendMaxFee: string;\n}\nexport function BitcoinSendMaxButton({\n  balance,\n  isSendingMax,\n  onSetIsSendingMax,\n  sendMaxBalance,\n  sendMaxFee,\n  ...props\n}: BitcoinSendMaxButtonProps) {\n  const onSendMax = useSendMax({\n    balance,\n    isSendingMax,\n    onSetIsSendingMax,\n    sendMaxBalance,\n    sendMaxFee,\n  });\n\n  // Hide send max button if lowest fee calc is greater\n  // than available balance which will default to zero\n  if (sendMaxBalance === '0') return <Box height=\"32px\" />;\n\n  return (\n    <BasicTooltip label={sendMaxTooltipLabel} side=\"bottom\" asChild>\n      <Link\n        data-testid={SendCryptoAssetSelectors.SendMaxBtn}\n        onClick={() => onSendMax()}\n        {...props}\n      >\n        {isSendingMax ? 'Sending max' : 'Send max'}\n      </Link>\n    </BasicTooltip>\n  );\n}\n","import { useLocation } from 'react-router-dom';\n\nimport get from 'lodash.get';\n\nexport function useSendFormRouteState() {\n  const { state } = useLocation();\n  return {\n    amount: get(state, 'amount', ''),\n    recipient: get(state, 'recipient', ''),\n    ...state,\n  };\n}\n","export function createDefaultInitialFormValues<T extends Record<string, unknown>>(obj: T) {\n  return { amount: '', recipient: '', ...obj };\n}\n\nexport const defaultSendFormFormikProps = {\n  validateOnChange: false,\n  validateOnMount: false,\n} as const;\n","import * as yup from 'yup';\n\nimport type { NetworkConfiguration } from '@leather.io/models';\nimport { isEmptyString, isUndefined } from '@leather.io/utils';\n\nimport { FormErrorMessages } from '@shared/error-messages';\n\nimport { validateAddressChain, validateStacksAddress } from '@app/common/stacks-utils';\n\nfunction notCurrentAddressValidatorFactory(currentAddress: string) {\n  return (value?: string) => value !== currentAddress;\n}\n\nexport function notCurrentAddressValidator(currentAddress: string) {\n  return yup.string().test({\n    message: FormErrorMessages.SameAddress,\n    test: notCurrentAddressValidatorFactory(currentAddress),\n  });\n}\n\nfunction stxAddressNetworkValidatorFactory(currentNetwork: NetworkConfiguration) {\n  return (value?: string) => {\n    if (isUndefined(value) || isEmptyString(value)) return true;\n    return validateAddressChain(value, currentNetwork);\n  };\n}\n\nexport function stxAddressNetworkValidator(currentNetwork: NetworkConfiguration) {\n  return yup.string().test({\n    message: FormErrorMessages.IncorrectNetworkAddress,\n    test: stxAddressNetworkValidatorFactory(currentNetwork),\n  });\n}\n\nexport function stxAddressValidator(errorMsg: string) {\n  return yup.string().test({\n    message: errorMsg,\n    test(value) {\n      if (isUndefined(value) || isEmptyString(value)) return true;\n      return validateStacksAddress(value);\n    },\n  });\n}\n","import BigNumber from 'bignumber.js';\nimport * as yup from 'yup';\n\nimport type { Money } from '@leather.io/models';\nimport type { UtxoResponseItem } from '@leather.io/query';\nimport {\n  btcToSat,\n  convertAmountToBaseUnit,\n  countDecimals,\n  isNumber,\n  microStxToStx,\n  satToBtc,\n  stxToMicroStx,\n} from '@leather.io/utils';\n\nimport { analytics } from '@shared/utils/analytics';\n\nimport { FormErrorMessages } from '../../../../shared/error-messages';\nimport { formatInsufficientBalanceError, formatPrecisionError } from '../../error-formatters';\nimport { currencyAmountValidator, stxAmountPrecisionValidator } from './currency-validators';\n\nconst minSpendAmountInSats = 546;\n\nfunction amountValidator() {\n  return yup\n    .number()\n    .required(FormErrorMessages.AmountRequired)\n    .positive(FormErrorMessages.MustBePositive)\n    .typeError('Amount must be a number');\n}\n\ninterface BtcInsufficientBalanceValidatorArgs {\n  calcMaxSpend(\n    recipient: string,\n    utxos: UtxoResponseItem[]\n  ): {\n    spendableBitcoin: BigNumber;\n  };\n  recipient: string;\n  utxos: UtxoResponseItem[];\n}\nexport function btcInsufficientBalanceValidator({\n  calcMaxSpend,\n  recipient,\n  utxos,\n}: BtcInsufficientBalanceValidatorArgs) {\n  return yup\n    .number()\n    .typeError(FormErrorMessages.MustBeNumber)\n    .test({\n      message: FormErrorMessages.InsufficientFunds,\n      test(value) {\n        if (!value) return false;\n        const maxSpend = calcMaxSpend(recipient, utxos);\n        if (!maxSpend) return false;\n        const desiredSpend = new BigNumber(value);\n        if (desiredSpend.isGreaterThan(maxSpend.spendableBitcoin)) return false;\n        return true;\n      },\n    });\n}\n\nexport function btcMinimumSpendValidator() {\n  return yup\n    .number()\n    .typeError(FormErrorMessages.MustBeNumber)\n    .test({\n      message: `Minimum is ${satToBtc(minSpendAmountInSats)}`,\n      test(value) {\n        if (!value) return false;\n        const desiredSpend = btcToSat(value);\n        if (desiredSpend.isLessThan(minSpendAmountInSats)) return false;\n        return true;\n      },\n    });\n}\n\nexport function stxAmountValidator(availableStxBalance: Money) {\n  return yup\n    .number()\n    .typeError(FormErrorMessages.MustBeNumber)\n    .concat(currencyAmountValidator())\n    .concat(stxAmountPrecisionValidator(formatPrecisionError(availableStxBalance)));\n}\n\nexport function stxAvailableBalanceValidator(availableBalance: Money) {\n  return yup\n    .number()\n    .typeError(FormErrorMessages.MustBeNumber)\n    .test({\n      message: formatInsufficientBalanceError(availableBalance, sum =>\n        microStxToStx(sum.amount).toString()\n      ),\n      test(value: unknown) {\n        const fee = new BigNumber(stxToMicroStx(this.parent.fee));\n        if (!fee.isFinite()) {\n          void analytics.track('unable_to_read_fee_in_stx_validator');\n          return this.createError({ message: 'Unable to read current fee' });\n        }\n        if (!isNumber(value)) return false;\n        if (!availableBalance) {\n          void analytics.track('unable_to_read_available_balance_in_stx_validator');\n          return this.createError({ message: 'Available balance unknown' });\n        }\n        const availableBalanceLessFee = availableBalance.amount.minus(fee);\n        return availableBalanceLessFee.isGreaterThanOrEqualTo(stxToMicroStx(value));\n      },\n    });\n}\n\nexport function stacksFungibleTokenAmountValidator(balance: Money) {\n  const { amount, decimals } = balance;\n\n  return amountValidator()\n    .test((value, context) => {\n      if (!isNumber(value)) return false;\n      if (!decimals && countDecimals(value) > 0)\n        return context.createError({\n          message: FormErrorMessages.DoesNotSupportDecimals,\n        });\n      if (countDecimals(value) > decimals) {\n        return context.createError({ message: formatPrecisionError(balance) });\n      }\n      return true;\n    })\n    .test({\n      message: formatInsufficientBalanceError(balance, sum => microStxToStx(sum.amount).toString()),\n      test(value) {\n        if (!isNumber(value) || !amount) return false;\n        return new BigNumber(value).isLessThanOrEqualTo(convertAmountToBaseUnit(amount, decimals));\n      },\n    });\n}\n","import { useEffect } from 'react';\nimport { useAsync } from 'react-async-hook';\n\nimport { getActiveTab } from '@shared/utils/get-active-tab';\n\nimport { isPopupMode } from '@app/common/utils';\n\nexport function useUpdatePersistedSendFormValues() {\n  const activeTab = useAsync(getActiveTab, []).result;\n\n  function onFormStateChange(state: { recipient: string; amount: string | number }) {\n    if (!isPopupMode() || !activeTab || !chrome.storage.session) return;\n    chrome.storage.session.set({ ['form-state-' + activeTab.id?.toString()]: state });\n  }\n\n  useEffect(\n    () => () => {\n      if (!isPopupMode()) return;\n      if (!activeTab) return;\n      if (!chrome.storage.session) return;\n      chrome.storage.session.remove('form-state-' + activeTab.id?.toString());\n    },\n    [activeTab]\n  );\n\n  return { onFormStateChange };\n}\n","import { useRef, useState } from 'react';\n\nimport { FormikHelpers, FormikProps } from 'formik';\nimport * as yup from 'yup';\n\nimport { bitcoinNetworkModeToCoreNetworkMode } from '@leather.io/bitcoin';\n\nimport { FormErrorMessages } from '@shared/error-messages';\nimport { btcAddressNetworkValidator, btcAddressValidator } from '@shared/forms/address-validators';\nimport { BitcoinSendFormValues } from '@shared/models/form.model';\n\nimport { formatPrecisionError } from '@app/common/error-formatters';\nimport { useOnMount } from '@app/common/hooks/use-on-mount';\nimport { notCurrentAddressValidator } from '@app/common/validation/forms/address-validators';\nimport {\n  btcInsufficientBalanceValidator,\n  btcMinimumSpendValidator,\n} from '@app/common/validation/forms/amount-validators';\nimport { complianceValidator } from '@app/common/validation/forms/compliance-validators';\nimport {\n  btcAmountPrecisionValidator,\n  currencyAmountValidator,\n} from '@app/common/validation/forms/currency-validators';\nimport { useUpdatePersistedSendFormValues } from '@app/features/popup-send-form-restoration/use-update-persisted-send-form-values';\nimport { useCurrentNativeSegwitUtxos } from '@app/query/bitcoin/address/utxos-by-address.hooks';\nimport { useCurrentBtcCryptoAssetBalanceNativeSegwit } from '@app/query/bitcoin/balance/btc-balance-native-segwit.hooks';\nimport { useCurrentAccountNativeSegwitIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useCurrentNetwork } from '@app/store/networks/networks.selectors';\n\nimport { useCalculateMaxBitcoinSpend } from '../../family/bitcoin/hooks/use-calculate-max-spend';\nimport { useSendFormNavigate } from '../../hooks/use-send-form-navigate';\n\nexport function useBtcSendForm() {\n  const [isSendingMax, setIsSendingMax] = useState(false);\n  const formRef = useRef<FormikProps<BitcoinSendFormValues>>(null);\n  const currentNetwork = useCurrentNetwork();\n  const nativeSegwitSigner = useCurrentAccountNativeSegwitIndexZeroSigner();\n  const { data: utxos = [], filteredUtxosQuery } = useCurrentNativeSegwitUtxos();\n  const { balance } = useCurrentBtcCryptoAssetBalanceNativeSegwit();\n  const sendFormNavigate = useSendFormNavigate();\n  const calcMaxSpend = useCalculateMaxBitcoinSpend();\n  const { onFormStateChange } = useUpdatePersistedSendFormValues();\n\n  // Forcing a refetch to ensure UTXOs are fresh\n  useOnMount(() => filteredUtxosQuery.refetch());\n\n  return {\n    balance,\n    calcMaxSpend,\n    currentNetwork,\n    formRef,\n    isSendingMax,\n    onFormStateChange,\n    onSetIsSendingMax(value: boolean) {\n      setIsSendingMax(value);\n    },\n    utxos,\n    validationSchema: yup.object({\n      amount: yup\n        .number()\n        .concat(btcMinimumSpendValidator())\n        .concat(btcAmountPrecisionValidator(formatPrecisionError(balance.availableBalance)))\n        .concat(currencyAmountValidator())\n        .concat(\n          btcInsufficientBalanceValidator({\n            calcMaxSpend,\n            // TODO: investigate yup features for cross-field validation\n            // to prevent need to access form via ref\n            recipient: formRef.current?.values.recipient ?? '',\n            utxos,\n          })\n        ),\n      recipient: yup\n        .string()\n        .defined(FormErrorMessages.AddressRequired)\n        .concat(btcAddressValidator())\n        .concat(btcAddressNetworkValidator(currentNetwork.chain.bitcoin.mode))\n        .concat(notCurrentAddressValidator(nativeSegwitSigner.address || ''))\n        .concat(\n          complianceValidator(\n            btcAddressValidator(),\n            bitcoinNetworkModeToCoreNetworkMode(currentNetwork.chain.bitcoin.mode)\n          )\n        ),\n    }),\n\n    async chooseTransactionFee(\n      values: BitcoinSendFormValues,\n      formikHelpers: FormikHelpers<BitcoinSendFormValues>\n    ) {\n      // Validate and check high fee warning firsts\n      await formikHelpers.validateForm();\n      sendFormNavigate.toChooseTransactionFee(isSendingMax, utxos, values);\n    },\n  };\n}\n","import { Outlet } from 'react-router-dom';\n\nimport { SendCryptoAssetSelectors } from '@tests/selectors/send.selectors';\nimport { Form, Formik } from 'formik';\nimport { Box } from 'leather-styles/jsx';\n\nimport type { CryptoCurrency } from '@leather.io/models';\nimport { useCryptoCurrencyMarketDataMeanAverage } from '@leather.io/query';\nimport { BtcAvatarIcon, Button, Callout, Link } from '@leather.io/ui';\nimport { formatMoney } from '@leather.io/utils';\n\nimport { AvailableBalance, ButtonRow, Card, Content, Page } from '@app/components/layout';\nimport { PageHeader } from '@app/features/container/headers/page.header';\nimport { useIsPrivateMode } from '@app/store/settings/settings.selectors';\n\nimport { AmountField } from '../../components/amount-field';\nimport { SelectedAssetField } from '../../components/selected-asset-field';\nimport { SendFiatValue } from '../../components/send-fiat-value';\nimport { TransferRecipientField } from '../../family/bitcoin/components/bitcoin-recipient-field';\nimport { BitcoinSendMaxButton } from '../../family/bitcoin/components/bitcoin-send-max-button';\nimport { useSendFormRouteState } from '../../hooks/use-send-form-route-state';\nimport { createDefaultInitialFormValues, defaultSendFormFormikProps } from '../../send-form.utils';\nimport { useBtcSendForm } from './use-btc-send-form';\n\nconst symbol: CryptoCurrency = 'BTC';\n\nexport function BtcSendForm() {\n  const routeState = useSendFormRouteState();\n  const isPrivate = useIsPrivateMode();\n  const marketData = useCryptoCurrencyMarketDataMeanAverage('BTC');\n  const {\n    balance,\n    calcMaxSpend,\n    chooseTransactionFee,\n    currentNetwork,\n    formRef,\n    isSendingMax,\n    onFormStateChange,\n    onSetIsSendingMax,\n    utxos,\n    validationSchema,\n  } = useBtcSendForm();\n\n  return (\n    <>\n      <PageHeader title=\"Send\" />\n      <Content>\n        <Page>\n          <Formik\n            initialValues={createDefaultInitialFormValues({\n              ...routeState,\n              recipientBnsName: '',\n              symbol,\n            })}\n            onSubmit={chooseTransactionFee}\n            validationSchema={validationSchema}\n            innerRef={formRef}\n            {...defaultSendFormFormikProps}\n          >\n            {props => {\n              onFormStateChange(props.values);\n              const sendMaxCalculation = calcMaxSpend(props.values.recipient, utxos);\n\n              return (\n                <Form>\n                  <Card\n                    dataTestId={SendCryptoAssetSelectors.SendForm}\n                    footer={\n                      <ButtonRow>\n                        <Button\n                          aria-busy={props.isValidating}\n                          data-testid={SendCryptoAssetSelectors.PreviewSendTxBtn}\n                          onClick={() => props.handleSubmit()}\n                          type=\"submit\"\n                        >\n                          Continue\n                        </Button>\n                        <AvailableBalance\n                          balance={formatMoney(balance.availableBalance)}\n                          isPrivate={isPrivate}\n                        />\n                      </ButtonRow>\n                    }\n                  >\n                    <AmountField\n                      autoComplete=\"off\"\n                      balance={balance.availableBalance}\n                      bottomInputOverlay={\n                        <BitcoinSendMaxButton\n                          balance={balance.availableBalance}\n                          isSendingMax={isSendingMax}\n                          onSetIsSendingMax={onSetIsSendingMax}\n                          sendMaxBalance={sendMaxCalculation.spendableBitcoin.toString()}\n                          sendMaxFee={sendMaxCalculation.spendAllFee.toString()}\n                        />\n                      }\n                      onSetIsSendingMax={onSetIsSendingMax}\n                      isSendingMax={isSendingMax}\n                      switchableAmount={\n                        <SendFiatValue marketData={marketData} assetSymbol={symbol} />\n                      }\n                    />\n                    <SelectedAssetField icon={<BtcAvatarIcon />} name=\"Bitcoin\" symbol={symbol} />\n                    <TransferRecipientField />\n                    {currentNetwork.chain.bitcoin.mode === 'testnet' && (\n                      <Callout variant=\"warning\" title=\"Funds have no value\" mt=\"space.04\">\n                        This is a Bitcoin testnet transaction.\n                        <Link\n                          variant=\"text\"\n                          href=\"https://coinfaucet.eu/en/btc-testnet\"\n                          textStyle=\"caption.01\"\n                        >\n                          Get testnet BTC here \n                        </Link>\n                      </Callout>\n                    )}\n                  </Card>\n                  <Outlet />\n\n                  {/* This is for testing purposes only, to make sure the form is ready to be submitted. */}\n                  {calcMaxSpend(props.values.recipient, utxos).spendableBitcoin.toNumber() > 0 ? (\n                    <Box data-testid={SendCryptoAssetSelectors.SendPageReady}></Box>\n                  ) : null}\n                </Form>\n              );\n            }}\n          </Formik>\n        </Page>\n      </Content>\n    </>\n  );\n}\n","import { useMemo } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nimport { hexToBytes } from '@noble/hashes/utils';\nimport * as btc from '@scure/btc-signer';\nimport { SendCryptoAssetSelectors } from '@tests/selectors/send.selectors';\nimport { SharedComponentsSelectors } from '@tests/selectors/shared-component.selectors';\nimport { Stack } from 'leather-styles/jsx';\nimport get from 'lodash.get';\n\nimport { decodeBitcoinTx } from '@leather.io/bitcoin';\nimport type { CryptoCurrency } from '@leather.io/models';\nimport {\n  useBitcoinBroadcastTransaction,\n  useCryptoCurrencyMarketDataMeanAverage,\n} from '@leather.io/query';\nimport { Button } from '@leather.io/ui';\nimport {\n  baseCurrencyAmountInQuote,\n  createMoney,\n  createMoneyFromDecimal,\n  formatMoneyPadded,\n  i18nFormatCurrency,\n  satToBtc,\n} from '@leather.io/utils';\n\nimport { RouteUrls } from '@shared/route-urls';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { queryClient } from '@app/common/persistence';\nimport { FormAddressDisplayer } from '@app/components/address-displayer/form-address-displayer';\nimport {\n  InfoCardAssetValue,\n  InfoCardRow,\n  InfoCardSeparator,\n} from '@app/components/info-card/info-card';\nimport { Card, Content, Page } from '@app/components/layout';\nimport { PageHeader } from '@app/features/container/headers/page.header';\nimport { useCurrentNativeSegwitUtxos } from '@app/query/bitcoin/address/utxos-by-address.hooks';\n\nimport { useSendFormNavigate } from '../../hooks/use-send-form-navigate';\n\nconst symbol: CryptoCurrency = 'BTC';\n\nfunction useBtcSendFormConfirmationState() {\n  const location = useLocation();\n  return {\n    tx: get(location.state, 'tx') as string,\n    fee: get(location.state, 'fee') as number,\n    feeRowValue: get(location.state, 'feeRowValue') as string,\n    arrivesIn: get(location.state, 'time') as string,\n    recipient: get(location.state, 'recipient') as string,\n  };\n}\n\nexport function BtcSendFormConfirmation() {\n  const navigate = useNavigate();\n  const { tx, recipient, fee, arrivesIn, feeRowValue } = useBtcSendFormConfirmationState();\n\n  const transaction = useMemo(() => btc.Transaction.fromRaw(hexToBytes(tx)), [tx]);\n\n  const { filteredUtxosQuery } = useCurrentNativeSegwitUtxos();\n\n  const btcMarketData = useCryptoCurrencyMarketDataMeanAverage('BTC');\n  const { broadcastTx, isBroadcasting } = useBitcoinBroadcastTransaction();\n\n  const decodedTx = decodeBitcoinTx(transaction.hex);\n\n  const nav = useSendFormNavigate();\n\n  const transferAmount = satToBtc(decodedTx.outputs[0].amount.toString()).toString();\n  const txFiatValue = i18nFormatCurrency(\n    baseCurrencyAmountInQuote(createMoneyFromDecimal(Number(transferAmount), symbol), btcMarketData)\n  );\n  const txFiatValueSymbol = btcMarketData.price.symbol;\n\n  const feeInBtc = satToBtc(fee);\n  const totalSpend = formatMoneyPadded(\n    createMoneyFromDecimal(Number(transferAmount) + Number(feeInBtc), symbol)\n  );\n  const sendingValue = formatMoneyPadded(createMoneyFromDecimal(Number(transferAmount), symbol));\n  const summaryFee = formatMoneyPadded(createMoney(Number(fee), symbol));\n\n  async function initiateTransaction() {\n    await broadcastTx({\n      tx: transaction.hex,\n      async onSuccess(txid) {\n        void analytics.track('broadcast_transaction', {\n          symbol: 'btc',\n          amount: transferAmount,\n          fee,\n          inputs: decodedTx.inputs.length,\n          outputs: decodedTx.inputs.length,\n        });\n        await filteredUtxosQuery.refetch();\n        navigate(RouteUrls.SentBtcTxSummary.replace(':txId', `${txid}`), {\n          state: formBtcTxSummaryState(txid),\n        });\n\n        // invalidate txs query after some time to ensure that the new tx will be shown in the list\n        setTimeout(\n          () => void queryClient.invalidateQueries({ queryKey: ['btc-txs-by-address'] }),\n          2000\n        );\n      },\n      onError(e) {\n        void analytics.track('broadcast_btc_error', {\n          error: e,\n        });\n        nav.toErrorPage(e);\n      },\n    });\n  }\n\n  function formBtcTxSummaryState(txId: string) {\n    return {\n      txLink: {\n        blockchain: 'bitcoin',\n        txid: txId || '',\n      },\n      txId,\n      recipient,\n      fee: summaryFee,\n      txValue: transferAmount,\n      arrivesIn,\n      totalSpend,\n      symbol,\n      sendingValue,\n      txFiatValue,\n      txFiatValueSymbol,\n      feeRowValue,\n    };\n  }\n\n  return (\n    <>\n      <PageHeader title=\"Review\" />\n      <Content>\n        <Page>\n          <Card\n            contentStyle={{\n              p: 'space.00',\n            }}\n            dataTestId={SendCryptoAssetSelectors.ConfirmationDetails}\n            footer={\n              <Button\n                data-testid={SharedComponentsSelectors.InfoCardButton}\n                aria-busy={isBroadcasting}\n                onClick={initiateTransaction}\n                width=\"100%\"\n              >\n                Confirm and send transaction\n              </Button>\n            }\n          >\n            <InfoCardAssetValue\n              data-testid={SendCryptoAssetSelectors.ConfirmationDetailsAssetValue}\n              fiatSymbol={txFiatValueSymbol}\n              fiatValue={txFiatValue}\n              mb=\"space.06\"\n              mt=\"space.05\"\n              px=\"space.05\"\n              symbol={symbol}\n              value={Number(transferAmount)}\n            />\n\n            <Stack pb=\"space.06\" px=\"space.06\" width=\"100%\">\n              <InfoCardRow\n                title=\"To\"\n                value={<FormAddressDisplayer address={recipient} />}\n                data-testid={SendCryptoAssetSelectors.ConfirmationDetailsRecipient}\n              />\n              <InfoCardSeparator />\n              <InfoCardRow title=\"Total spend\" value={totalSpend} />\n              <InfoCardRow title=\"Sending\" value={sendingValue} />\n              <InfoCardRow\n                title=\"Fee\"\n                value={feeRowValue}\n                data-testid={SendCryptoAssetSelectors.ConfirmationDetailsFee}\n              />\n              {arrivesIn && <InfoCardRow title=\"Estimated confirmation time\" value={arrivesIn} />}\n            </Stack>\n          </Card>\n        </Page>\n      </Content>\n    </>\n  );\n}\n","import { useCallback } from 'react';\n\nimport { SendCryptoAssetSelectors } from '@tests/selectors/send.selectors';\nimport { useField } from 'formik';\nimport { Box } from 'leather-styles/jsx';\n\nimport type { Money } from '@leather.io/models';\nimport { Link } from '@leather.io/ui';\n\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useToast } from '@app/features/toasts/use-toast';\n\ninterface SendMaxButtonProps {\n  balance: Money;\n  sendMaxBalance: string;\n}\nexport function SendMaxButton({ balance, sendMaxBalance, ...props }: SendMaxButtonProps) {\n  const [, _, amountFieldHelpers] = useField('amount');\n  const toast = useToast();\n\n  const onSendMax = useCallback(() => {\n    void analytics.track('select_maximum_amount_for_send');\n    if (balance.amount.isLessThanOrEqualTo(0)) {\n      toast.error('Zero balance');\n      return;\n    }\n    return amountFieldHelpers.setValue(sendMaxBalance);\n  }, [amountFieldHelpers, balance.amount, sendMaxBalance, toast]);\n\n  // Hide send max button if lowest fee calc is greater\n  // than available balance which will default to zero\n  if (sendMaxBalance === '0') return <Box height=\"32px\" />;\n\n  return (\n    <Link data-testid={SendCryptoAssetSelectors.SendMaxBtn} onClick={onSendMax} {...props}>\n      Send max\n    </Link>\n  );\n}\n","import { useCallback } from 'react';\n\nimport type { CryptoCurrency, Money } from '@leather.io/models';\nimport { useCryptoCurrencyMarketDataMeanAverage } from '@leather.io/query';\nimport { baseCurrencyAmountInQuote } from '@leather.io/utils';\n\nexport function useConvertCryptoCurrencyToFiatAmount(currency: CryptoCurrency) {\n  // TODO: unsafe type assumption\n  const cryptoCurrencyMarketData = useCryptoCurrencyMarketDataMeanAverage(\n    currency as 'BTC' | 'STX'\n  );\n\n  return useCallback(\n    (value: Money) => baseCurrencyAmountInQuote(value, cryptoCurrencyMarketData),\n    [cryptoCurrencyMarketData]\n  );\n}\n","export enum SendFormWarningMessages {\n  AdjustedFeeBelowLowestEstimate = 'Fee lower than suggested. Transaction may fail.',\n}\n","import { FormEvent, useCallback } from 'react';\n\nimport { SharedComponentsSelectors } from '@tests/selectors/shared-component.selectors';\nimport { useField } from 'formik';\nimport { Flex, Stack, styled } from 'leather-styles/jsx';\n\nimport type { CryptoCurrency, StacksFeeEstimate } from '@leather.io/models';\nimport { stxToMicroStx } from '@leather.io/utils';\n\nimport { SendFormWarningMessages } from '@app/common/warning-messages';\n\ninterface CustomFeeFieldProps {\n  feeCurrencySymbol: CryptoCurrency;\n  lowFeeEstimate: StacksFeeEstimate;\n  setFieldWarning(value: string): void;\n  disableFeeSelection?: boolean;\n}\nexport function CustomFeeField({\n  feeCurrencySymbol,\n  lowFeeEstimate,\n  setFieldWarning,\n  disableFeeSelection,\n}: CustomFeeFieldProps) {\n  const [field, meta, helpers] = useField('fee');\n\n  const checkFieldWarning = useCallback(\n    (value: string) => {\n      if (meta.error) return setFieldWarning('');\n      const fee = stxToMicroStx(value);\n      if (lowFeeEstimate.fee.amount.isGreaterThan(fee)) {\n        return setFieldWarning(SendFormWarningMessages.AdjustedFeeBelowLowestEstimate);\n      }\n      return setFieldWarning('');\n    },\n    [lowFeeEstimate, meta.error, setFieldWarning]\n  );\n\n  return (\n    <Stack position=\"relative\">\n      <Flex\n        alignSelf=\"flex-end\"\n        color=\"ink.text-subdued\"\n        flexDirection=\"column\"\n        justifyContent=\"center\"\n        position=\"relative\"\n        width=\"130px\"\n        textStyle=\"label.02\"\n      >\n        <styled.label htmlFor=\"fee\" position=\"absolute\" right={4} zIndex={999}>\n          {feeCurrencySymbol}\n        </styled.label>\n        <styled.input\n          autoComplete=\"off\"\n          borderRadius=\"xs\"\n          color=\"ink.text-subdued\"\n          data-testid={SharedComponentsSelectors.CustomFeeFieldInput}\n          display=\"block\"\n          height=\"32px\"\n          name=\"fee\"\n          disabled={disableFeeSelection}\n          onChange={(evt: FormEvent<HTMLInputElement>) => {\n            void helpers.setValue(evt.currentTarget.value);\n            // Separating warning check from field validations\n            // bc we want the user to be able to submit the form\n            // with the low fee warning present.\n            checkFieldWarning(evt.currentTarget.value);\n          }}\n          pr=\"38px\"\n          placeholder=\"0\"\n          ring=\"none\"\n          textAlign=\"right\"\n          value={field.value}\n        />\n      </Flex>\n    </Stack>\n  );\n}\n","import { useMemo } from 'react';\n\nimport { HStack, styled } from 'leather-styles/jsx';\n\nimport { CheckmarkIcon, ChevronDownIcon, Link } from '@leather.io/ui';\n\nconst labels = ['Low', 'Standard', 'High', 'Custom'];\nconst testLabels = labels.map(label => label.toLowerCase());\n\ninterface FeeEstimateItemProps {\n  index: number;\n  isVisible?: boolean;\n  onSelectItem(index: number): void;\n  selectedItem: number;\n  disableFeeSelection?: boolean;\n}\nexport function FeeEstimateItem({\n  index,\n  isVisible,\n  onSelectItem,\n  selectedItem,\n  disableFeeSelection,\n}: FeeEstimateItemProps) {\n  const selectedIcon = useMemo(() => {\n    const isSelected = index === selectedItem;\n    return isSelected ? <CheckmarkIcon variant=\"small\" /> : <></>;\n  }, [index, selectedItem]);\n\n  return (\n    <Link\n      _before={{ bg: 'transparent' }}\n      _hover={{\n        bg: isVisible ? 'ink.component-background-hover' : 'ink.background-primary',\n        borderRadius: 'xs',\n        color: 'ink.text-primary',\n      }}\n      alignItems=\"center\"\n      data-testid={`${testLabels[index]}-fee`}\n      display=\"flex\"\n      height=\"30px\"\n      minWidth=\"100px\"\n      onClick={() => !disableFeeSelection && onSelectItem(index)}\n      pl={isVisible ? 'space.02' : 'unset'}\n      variant=\"text\"\n    >\n      <HStack gap=\"space.01\">\n        <styled.span textStyle=\"label.02\">{labels[index]}</styled.span>\n        {!disableFeeSelection && (isVisible ? selectedIcon : <ChevronDownIcon variant=\"small\" />)}\n      </HStack>\n    </Link>\n  );\n}\n","import { RefObject, useEffect } from 'react';\n\nimport arePassiveEventsSupported from 'are-passive-events-supported';\nimport useLatest from 'use-latest';\n\nconst MOUSEDOWN = 'mousedown';\nconst TOUCHSTART = 'touchstart';\n\ntype HandledEvents = [typeof MOUSEDOWN, typeof TOUCHSTART];\ntype HandledEventsType = HandledEvents[number];\ntype PossibleEvent = {\n  [Type in HandledEventsType]: HTMLElementEventMap[Type];\n}[HandledEventsType];\ntype Handler = (event: PossibleEvent) => void;\n\nconst events: HandledEvents = [MOUSEDOWN, TOUCHSTART];\n\nconst getOptions = (event: HandledEventsType) => {\n  if (event !== TOUCHSTART) {\n    return;\n  }\n\n  if (arePassiveEventsSupported()) {\n    return { passive: true };\n  }\n\n  return;\n};\n\nexport function useOnClickOutside(\n  ref: RefObject<HTMLElement>,\n  handler: Handler | null,\n  exceptionIds: string[] = []\n) {\n  const noHandler = !handler;\n  const handlerRef = useLatest(handler);\n\n  useEffect(() => {\n    if (noHandler) {\n      return;\n    }\n\n    const listener = (event: PossibleEvent) => {\n      if (!ref.current || !handlerRef.current || ref.current.contains(event.target as Node)) {\n        return;\n      }\n\n      const clickedElementIsAnException = exceptionIds\n        .map(el => document.getElementById(el))\n        .some(el => el?.contains(event.target as Node));\n\n      if (clickedElementIsAnException) {\n        return;\n      }\n\n      handlerRef.current(event);\n    };\n\n    events.forEach(event => {\n      document.addEventListener(event, listener, getOptions(event));\n    });\n\n    return () => {\n      events.forEach(event => {\n        document.removeEventListener(event, listener, getOptions(event) as EventListenerOptions);\n      });\n    };\n  }, [ref, handlerRef, noHandler, exceptionIds]);\n}\n","import { ReactNode, useRef } from 'react';\n\nimport { SharedComponentsSelectors } from '@tests/selectors/shared-component.selectors';\nimport { Stack } from 'leather-styles/jsx';\n\nimport { FeeTypes } from '@leather.io/models';\n\nimport { useOnClickOutside } from '@app/common/hooks/use-onclickoutside';\n\nimport { FeeEstimateItem } from './fee-estimate-item';\n\ninterface FeeEstimateSelectLayoutProps {\n  children: ReactNode;\n  onSetIsSelectVisible(value: boolean): void;\n  selectedItem: number;\n  disableFeeSelection?: boolean;\n  isVisible?: boolean;\n}\nexport function FeeEstimateSelectLayout({\n  children,\n  onSetIsSelectVisible,\n  selectedItem,\n  disableFeeSelection,\n  isVisible,\n}: FeeEstimateSelectLayoutProps) {\n  const ref = useRef<HTMLDivElement | null>(null);\n\n  useOnClickOutside(ref, () => onSetIsSelectVisible(false));\n\n  return (\n    <>\n      <Stack _hover={{ cursor: disableFeeSelection ? 'default' : 'pointer' }}>\n        <FeeEstimateItem\n          disableFeeSelection={disableFeeSelection}\n          index={selectedItem}\n          isVisible={isVisible}\n          onSelectItem={() => onSetIsSelectVisible(true)}\n          selectedItem={FeeTypes.Middle}\n        />\n        {isVisible ? (\n          <Stack\n            bg=\"ink.background-primary\"\n            borderRadius=\"xs\"\n            boxShadow=\"0px 8px 16px rgba(27, 39, 51, 0.08)\"\n            data-testid={SharedComponentsSelectors.FeeEstimateSelect}\n            flexDirection=\"column\"\n            gap=\"0px\"\n            minHeight=\"96px\"\n            minWidth=\"100px\"\n            overflow=\"hidden\"\n            p=\"space.01\"\n            position=\"absolute\"\n            ref={ref}\n            top=\"-45px\"\n            zIndex={9999}\n          >\n            {children}\n          </Stack>\n        ) : null}\n      </Stack>\n    </>\n  );\n}\n","import { FeeTypes, type StacksFeeEstimate } from '@leather.io/models';\n\nimport { FeeEstimateItem } from './fee-estimate-item';\nimport { FeeEstimateSelectLayout } from './fee-estimate-select.layout';\n\ninterface FeeEstimateSelectProps {\n  isVisible: boolean;\n  estimate: StacksFeeEstimate[];\n  onSelectItem(index: number): void;\n  onSetIsSelectVisible(value: boolean): void;\n  selectedItem: number;\n  allowCustom: boolean;\n  disableFeeSelection?: boolean;\n}\nexport function FeeEstimateSelect({\n  isVisible,\n  estimate,\n  onSelectItem,\n  onSetIsSelectVisible,\n  selectedItem,\n  allowCustom,\n  disableFeeSelection,\n}: FeeEstimateSelectProps) {\n  return (\n    <FeeEstimateSelectLayout\n      disableFeeSelection={disableFeeSelection}\n      isVisible={isVisible}\n      onSetIsSelectVisible={onSetIsSelectVisible}\n      selectedItem={selectedItem}\n    >\n      {estimate.map((estimate, index) => (\n        <FeeEstimateItem\n          index={index}\n          isVisible={isVisible}\n          key={estimate.fee.amount.toNumber()}\n          onSelectItem={onSelectItem}\n          selectedItem={selectedItem}\n        />\n      ))}\n      {allowCustom && (\n        <FeeEstimateItem\n          index={FeeTypes.Custom}\n          isVisible={isVisible}\n          onSelectItem={onSelectItem}\n          selectedItem={selectedItem}\n        />\n      )}\n    </FeeEstimateSelectLayout>\n  );\n}\n","import { HStack, Stack, styled } from 'leather-styles/jsx';\n\nimport { ErrorCircleIcon } from '@leather.io/ui';\n\n// #4476 TODO - visually inspect this\nexport function SponsoredLabel(): React.JSX.Element {\n  return (\n    <Stack width=\"100%\">\n      <HStack\n        alignItems=\"center\"\n        bg=\"ink.component-background-hover\"\n        borderRadius=\"sm\"\n        height=\"48px\"\n        pl=\"space.04\"\n      >\n        <ErrorCircleIcon color=\"stacks\" />\n\n        <styled.span color=\"ink.text-primary\">\n          This transaction is sponsored, so no fee is charged\n        </styled.span>\n      </HStack>\n    </Stack>\n  );\n}\n","import { useField } from 'formik';\nimport { HStack, HstackProps, styled } from 'leather-styles/jsx';\n\nimport { Callout, InfoCircleIcon } from '@leather.io/ui';\n\nimport { openInNewTab } from '@app/common/utils/open-in-new-tab';\nimport { SponsoredLabel } from '@app/components/sponsored-label';\nimport { BasicTooltip } from '@app/ui/components/tooltip/basic-tooltip';\n\nconst feesInfo =\n  'Higher fees increase the likelihood of your transaction getting confirmed before others. Click to learn more.';\nconst url = 'https://leather.gitbook.io/guides/transactions/fees';\n\ninterface FeesRowLayoutProps extends HstackProps {\n  feeField: React.JSX.Element;\n  fieldWarning?: string;\n  isSponsored: boolean;\n  selectInput: React.JSX.Element;\n}\nexport function FeesRowLayout(props: FeesRowLayoutProps) {\n  const { feeField, fieldWarning, isSponsored, selectInput, ...rest } = props;\n  const [_, meta] = useField('fee');\n\n  return (\n    <HStack gap=\"space.04\" width=\"100%\" {...rest} flexWrap=\"wrap\">\n      <HStack alignItems=\"center\" justifyContent=\"space-between\" position=\"relative\" width=\"100%\">\n        <HStack alignItems=\"center\" width=\"100%\">\n          <BasicTooltip label={feesInfo} side=\"bottom\">\n            <HStack gap=\"space.01\">\n              <styled.span color=\"ink.text-subdued\" textStyle=\"label.02\">\n                Fee\n              </styled.span>\n              <InfoCircleIcon\n                color=\"ink.text-subdued\"\n                onClick={() => openInNewTab(url)}\n                variant=\"small\"\n              />\n            </HStack>\n          </BasicTooltip>\n          {!isSponsored ? selectInput : null}\n        </HStack>\n        {feeField}\n      </HStack>\n      {isSponsored && <SponsoredLabel />}\n      {!meta.error && fieldWarning && (\n        <Callout variant=\"warning\" width=\"100%\">\n          {fieldWarning}\n        </Callout>\n      )}\n    </HStack>\n  );\n}\n","import { SharedComponentsSelectors } from '@tests/selectors/shared-component.selectors';\nimport { styled } from 'leather-styles/jsx';\n\nimport type { CryptoCurrency, Money } from '@leather.io/models';\nimport { formatDustUsdAmounts, i18nFormatCurrency } from '@leather.io/utils';\n\nimport { BasicTooltip } from '@app/ui/components/tooltip/basic-tooltip';\n\ninterface TransactionFeeProps {\n  fee: string | number;\n  feeCurrencySymbol: CryptoCurrency;\n  usdAmount: Money | null;\n}\nexport function TransactionFee({ fee, feeCurrencySymbol, usdAmount }: TransactionFeeProps) {\n  const feeLabel = (\n    <styled.span\n      color=\"ink.text-subdued\"\n      data-testid={SharedComponentsSelectors.FeeToBePaidLabel}\n      textStyle=\"label.02\"\n    >\n      {fee} {feeCurrencySymbol}\n    </styled.span>\n  );\n  if (!usdAmount || usdAmount.amount.isNaN()) return feeLabel;\n  return (\n    <BasicTooltip label={formatDustUsdAmounts(i18nFormatCurrency(usdAmount))}>\n      {feeLabel}\n    </BasicTooltip>\n  );\n}\n","import { useCallback, useEffect, useMemo, useState } from 'react';\n\nimport { SharedComponentsSelectors } from '@tests/selectors/shared-component.selectors';\nimport BigNumber from 'bignumber.js';\nimport { useField } from 'formik';\nimport { Box } from 'leather-styles/jsx';\n\nimport { STX_DECIMALS } from '@leather.io/constants';\nimport { FeeTypes, type Fees } from '@leather.io/models';\nimport { convertAmountToBaseUnit, createMoney, isNumber, isString } from '@leather.io/utils';\n\nimport { useConvertCryptoCurrencyToFiatAmount } from '@app/common/hooks/use-convert-to-fiat-amount';\nimport { LoadingRectangle } from '@app/components/loading-rectangle';\n\nimport { CustomFeeField } from './components/custom-fee-field';\nimport { FeeEstimateSelect } from './components/fee-estimate-select';\nimport { FeesRowLayout } from './components/fees-row.layout';\nimport { TransactionFee } from './components/transaction-fee';\n\ninterface FeeRowProps {\n  fees?: Fees;\n  allowCustom?: boolean;\n  isSponsored: boolean;\n  defaultFeeValue?: number;\n  disableFeeSelection?: boolean;\n}\nexport function FeesRow({\n  fees,\n  isSponsored,\n  allowCustom = true,\n  defaultFeeValue,\n  disableFeeSelection,\n}: FeeRowProps) {\n  const [feeField, _, feeHelper] = useField('fee');\n  const [feeCurrencyField] = useField('feeCurrency');\n  const [feeTypeField, __, feeTypeHelper] = useField('feeType');\n  const [fieldWarning, setFieldWarning] = useState<string | undefined>(undefined);\n  const [isSelectVisible, setIsSelectVisible] = useState(false);\n\n  const isCustom = feeTypeField.value === FeeTypes[FeeTypes.Custom];\n  const selectedItem = Number(FeeTypes[feeTypeField.value]);\n\n  const hasFeeEstimates = fees?.estimates.length;\n  const feeCurrencySymbol = feeCurrencyField.value;\n\n  const convertCryptoCurrencyToUsd = useConvertCryptoCurrencyToFiatAmount(feeCurrencySymbol);\n\n  const feeInUsd = useMemo(() => {\n    if ((!isNumber(feeField.value) && !isString(feeField.value)) || !feeCurrencySymbol) return null;\n    const feeAsMoney = createMoney(new BigNumber(feeField.value), feeCurrencySymbol);\n    return convertCryptoCurrencyToUsd(feeAsMoney);\n  }, [convertCryptoCurrencyToUsd, feeCurrencySymbol, feeField.value]);\n\n  useEffect(() => {\n    if (defaultFeeValue) {\n      void feeHelper.setValue(\n        convertAmountToBaseUnit(new BigNumber(Number(defaultFeeValue)), STX_DECIMALS).toString()\n      );\n      void feeTypeHelper.setValue(FeeTypes[FeeTypes.Custom]);\n    }\n  }, [feeHelper, defaultFeeValue, feeTypeHelper]);\n\n  useEffect(() => {\n    if (isSponsored) {\n      void feeHelper.setValue(0);\n      return;\n    }\n\n    if (!defaultFeeValue && hasFeeEstimates && !feeField.value && !isCustom) {\n      void feeHelper.setValue(\n        convertAmountToBaseUnit(fees.estimates[FeeTypes.Middle].fee).toString()\n      );\n      void feeTypeHelper.setValue(FeeTypes[FeeTypes.Middle]);\n      return;\n    }\n  }, [\n    defaultFeeValue,\n    feeField.value,\n    feeHelper,\n    feeTypeHelper,\n    fees?.estimates,\n    hasFeeEstimates,\n    isCustom,\n    isSponsored,\n  ]);\n\n  const handleSelectFeeEstimateOrCustomField = useCallback(\n    (index: number) => {\n      void feeTypeHelper.setValue(FeeTypes[index]);\n      if (index === FeeTypes.Custom)\n        void feeHelper.setValue(\n          defaultFeeValue\n            ? convertAmountToBaseUnit(new BigNumber(Number(defaultFeeValue)), STX_DECIMALS)\n            : ''\n        );\n      else\n        fees &&\n          void feeHelper.setValue(convertAmountToBaseUnit(fees.estimates[index].fee).toString());\n      setFieldWarning('');\n      setIsSelectVisible(false);\n    },\n    [feeTypeHelper, feeHelper, fees, defaultFeeValue]\n  );\n\n  if (!hasFeeEstimates) return <LoadingRectangle height=\"32px\" width=\"100%\" />;\n\n  return (\n    <FeesRowLayout\n      data-testid={SharedComponentsSelectors.FeeRow}\n      feeField={\n        isCustom ? (\n          <CustomFeeField\n            disableFeeSelection={disableFeeSelection}\n            feeCurrencySymbol={feeCurrencySymbol}\n            lowFeeEstimate={fees.estimates[FeeTypes.Low]}\n            setFieldWarning={(value: string) => setFieldWarning(value)}\n          />\n        ) : (\n          <Box\n            onClick={() => handleSelectFeeEstimateOrCustomField(FeeTypes.Custom)}\n            textAlign=\"right\"\n            width=\"100%\"\n          >\n            <TransactionFee\n              fee={feeField.value}\n              feeCurrencySymbol={feeCurrencySymbol}\n              usdAmount={feeInUsd}\n            />\n          </Box>\n        )\n      }\n      fieldWarning={fieldWarning}\n      isSponsored={isSponsored}\n      selectInput={\n        <FeeEstimateSelect\n          disableFeeSelection={disableFeeSelection}\n          allowCustom={allowCustom}\n          isVisible={isSelectVisible}\n          estimate={fees.estimates}\n          onSelectItem={(index: number) => handleSelectFeeEstimateOrCustomField(index)}\n          onSetIsSelectVisible={(value: boolean) => setIsSelectVisible(value)}\n          selectedItem={selectedItem}\n        />\n      }\n    />\n  );\n}\n","import { useAsync } from 'react-async-hook';\n\nimport { useFormikContext } from 'formik';\n\nimport { useNextNonce } from '@leather.io/query';\n\nimport { StacksSendFormValues, StacksTransactionFormValues } from '@shared/models/form.model';\n\nimport { useCurrentStacksAccountAddress } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\nexport function NonceSetter() {\n  const { setFieldValue, touched, values } = useFormikContext<\n    StacksSendFormValues | StacksTransactionFormValues\n  >();\n  const stxAddress = useCurrentStacksAccountAddress();\n  const { data: nextNonce } = useNextNonce(stxAddress);\n\n  useAsync(async () => {\n    if (nextNonce?.nonce && !touched.nonce && values.nonce !== nextNonce.nonce) {\n      return await setFieldValue('nonce', nextNonce?.nonce);\n    }\n    return;\n  }, [nextNonce?.nonce]);\n\n  return <></>;\n}\n","import { SendCryptoAssetSelectors } from '@tests/selectors/send.selectors';\nimport { useFormikContext } from 'formik';\nimport { HStack, Stack } from 'leather-styles/jsx';\n\nimport {\n  Button,\n  Caption,\n  ErrorTriangleIcon,\n  Link,\n  Sheet,\n  SheetHeader,\n  Title,\n} from '@leather.io/ui';\n\nimport { StacksSendFormValues } from '@shared/models/form.model';\n\nimport { openInNewTab } from '@app/common/utils/open-in-new-tab';\nimport { ButtonRow } from '@app/components/layout';\n\nimport { useStacksHighFeeWarningContext } from './stacks-high-fee-warning-container';\n\ninterface HighFeeSheetProps {\n  learnMoreUrl: string;\n}\nexport function HighFeeSheet({ learnMoreUrl }: HighFeeSheetProps) {\n  const { handleSubmit, values } = useFormikContext<StacksSendFormValues>();\n  const { showHighFeeWarningSheet, setHasBypassedFeeWarning, setShowHighFeeWarningSheet } =\n    useStacksHighFeeWarningContext();\n\n  return (\n    <Sheet\n      data-testid={SendCryptoAssetSelectors.HighFeeWarningSheet}\n      header={<SheetHeader />}\n      isShowing={showHighFeeWarningSheet}\n      onClose={() => setShowHighFeeWarningSheet(false)}\n      footer={\n        <ButtonRow flexDirection=\"row\">\n          <Button onClick={() => setShowHighFeeWarningSheet(false)} variant=\"outline\" flexGrow={1}>\n            Edit fee\n          </Button>\n          <Button\n            onClick={() => {\n              setHasBypassedFeeWarning(true);\n              handleSubmit();\n            }}\n            data-testid={SendCryptoAssetSelectors.HighFeeWarningSheetSubmit}\n            type=\"submit\"\n            flexGrow={1}\n          >\n            Yes, I'm sure\n          </Button>\n        </ButtonRow>\n      }\n    >\n      <Stack px=\"space.05\" gap=\"space.05\" pb=\"space.06\">\n        <HStack>\n          <ErrorTriangleIcon color=\"red.action-primary-default\" />\n          <Title>\n            Are you sure you want to pay {values.fee} {values.feeCurrency} in fees for this\n            transaction?\n          </Title>\n        </HStack>\n        <Caption>\n          This action cannot be undone. The fees won't be returned, even if the transaction fails.\n          <Link onClick={() => openInNewTab(learnMoreUrl)} size=\"sm\" ml=\"space.01\">\n            Learn more\n          </Link>\n        </Caption>\n      </Stack>\n    </Sheet>\n  );\n}\n","import { SendCryptoAssetSelectors } from '@tests/selectors/send.selectors';\nimport { useField } from 'formik';\nimport { Box } from 'leather-styles/jsx';\n\nimport { Input } from '@leather.io/ui';\n\nimport { useShowFieldError } from '@app/common/form-utils';\nimport { TextInputFieldError } from '@app/components/field-error';\n\nconst name = 'memo';\n\nexport function MemoField() {\n  const [field] = useField(name);\n\n  const showError = useShowFieldError(name);\n\n  return (\n    <Box width=\"100%\" mt=\"space.04\">\n      <Input.Root hasError={!!showError}>\n        <Input.Label>Memo</Input.Label>\n        <Input.Field data-testid={SendCryptoAssetSelectors.MemoFieldInput} {...field} />\n      </Input.Root>\n      <Box mt=\"space.02\">\n        <TextInputFieldError name={name} />\n      </Box>\n    </Box>\n  );\n}\n","import { fetchNameOwner } from '@leather.io/query';\n\nimport { RecipientField } from '../../../components/recipient-fields/recipient-field';\n\nexport function StacksRecipientField() {\n  return <RecipientField bnsLookupFn={fetchNameOwner} />;\n}\n","import { Outlet, useNavigate } from 'react-router-dom';\n\nimport { SendCryptoAssetSelectors } from '@tests/selectors/send.selectors';\nimport { Form, Formik, FormikHelpers } from 'formik';\nimport { Box, Flex } from 'leather-styles/jsx';\nimport { ObjectSchema } from 'yup';\n\nimport { HIGH_FEE_WARNING_LEARN_MORE_URL_STX } from '@leather.io/constants';\nimport type { Fees, Money } from '@leather.io/models';\nimport { Button, Link } from '@leather.io/ui';\nimport { formatMoney } from '@leather.io/utils';\n\nimport { StacksSendFormValues } from '@shared/models/form.model';\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { FeesRow } from '@app/components/fees-row/fees-row';\nimport { AvailableBalance, ButtonRow, Card, Page } from '@app/components/layout';\nimport { NonceSetter } from '@app/components/nonce-setter';\nimport { useUpdatePersistedSendFormValues } from '@app/features/popup-send-form-restoration/use-update-persisted-send-form-values';\nimport { HighFeeSheet } from '@app/features/stacks-high-fee-warning/stacks-high-fee-dialog';\nimport { useIsPrivateMode } from '@app/store/settings/settings.selectors';\n\nimport { MemoField } from '../../components/memo-field';\nimport { StacksRecipientField } from '../../family/stacks/components/stacks-recipient-field';\nimport { defaultSendFormFormikProps } from '../../send-form.utils';\n\ninterface StacksCommonSendFormProps {\n  onSubmit(\n    values: StacksSendFormValues,\n    formikHelpers: FormikHelpers<StacksSendFormValues>\n  ): Promise<void>;\n  initialValues: StacksSendFormValues;\n  validationSchema: ObjectSchema<any>;\n  amountField: React.JSX.Element;\n  selectedAssetField: React.JSX.Element;\n  availableTokenBalance: Money;\n  fees?: Fees;\n}\n\nexport function StacksCommonSendForm({\n  onSubmit,\n  initialValues,\n  validationSchema,\n  amountField,\n  selectedAssetField,\n  fees,\n\n  availableTokenBalance,\n}: StacksCommonSendFormProps) {\n  const navigate = useNavigate();\n  const { onFormStateChange } = useUpdatePersistedSendFormValues();\n  const isPrivate = useIsPrivateMode();\n  return (\n    <Page>\n      <Formik\n        initialValues={initialValues}\n        onSubmit={onSubmit}\n        validationSchema={validationSchema}\n        {...defaultSendFormFormikProps}\n      >\n        {props => {\n          onFormStateChange(props.values);\n          return (\n            <>\n              <NonceSetter />\n              <Form>\n                <Card\n                  dataTestId={SendCryptoAssetSelectors.SendForm}\n                  footer={\n                    <ButtonRow>\n                      <Button\n                        aria-busy={props.isValidating}\n                        data-testid={SendCryptoAssetSelectors.PreviewSendTxBtn}\n                        onClick={() => props.handleSubmit()}\n                        type=\"submit\"\n                        fullWidth\n                      >\n                        Continue\n                      </Button>\n                      <AvailableBalance\n                        balance={formatMoney(availableTokenBalance)}\n                        isPrivate={isPrivate}\n                      />\n                    </ButtonRow>\n                  }\n                >\n                  <Flex\n                    width=\"100%\"\n                    flexDirection=\"column\"\n                    marginBottom={{ base: 'unset', sm: '33px' }}\n                  >\n                    {amountField}\n                    {selectedAssetField}\n                    <StacksRecipientField />\n                    <MemoField />\n                    <Box mt=\"space.04\" width=\"100%\">\n                      <FeesRow fees={fees} isSponsored={false} />\n                    </Box>\n                    <Link\n                      alignSelf=\"flex-end\"\n                      mt=\"space.04\"\n                      onClick={() => navigate(RouteUrls.EditNonce)}\n                    >\n                      Edit nonce\n                    </Link>\n                  </Flex>\n                </Card>\n                <HighFeeSheet learnMoreUrl={HIGH_FEE_WARNING_LEARN_MORE_URL_STX} />\n                <Outlet />\n              </Form>\n            </>\n          );\n        }}\n      </Formik>\n    </Page>\n  );\n}\n","import { useCallback } from 'react';\nimport { useAsync } from 'react-async-hook';\n\nimport { bytesToHex } from '@stacks/common';\nimport { TransactionTypes } from '@stacks/connect';\nimport {\n  ClarityValue,\n  PostConditionMode,\n  bufferCVFromString,\n  createAddress,\n  createEmptyAddress,\n  noneCV,\n  serializeCV,\n  someCV,\n  standardPrincipalCVFromAddress,\n  uintCV,\n} from '@stacks/transactions';\n\nimport type { Sip10CryptoAssetInfo } from '@leather.io/models';\nimport { useNextNonce } from '@leather.io/query';\nimport { stxToMicroStx } from '@leather.io/utils';\n\nimport { logger } from '@shared/logger';\nimport type { StacksSendFormValues, StacksTransactionFormValues } from '@shared/models/form.model';\n\nimport { ftUnshiftDecimals, getStacksContractIdStringParts } from '@app/common/stacks-utils';\nimport {\n  GenerateUnsignedTransactionOptions,\n  generateUnsignedTransaction,\n} from '@app/common/transactions/stacks/generate-unsigned-txs';\nimport { useCurrentStacksNetworkState } from '@app/store/networks/networks.hooks';\nimport { makePostCondition } from '@app/store/transactions/transaction.hooks';\n\nimport { useCurrentStacksAccount } from '../accounts/blockchain/stacks/stacks-account.hooks';\n\nexport function useGenerateStxTokenTransferUnsignedTx() {\n  const account = useCurrentStacksAccount();\n  const { data: nextNonce } = useNextNonce(account?.address ?? '');\n  const network = useCurrentStacksNetworkState();\n\n  return useCallback(\n    async (values?: StacksSendFormValues) => {\n      if (!account) return;\n\n      const options: GenerateUnsignedTransactionOptions = {\n        publicKey: account.stxPublicKey,\n        nonce: Number(values?.nonce) ?? nextNonce?.nonce,\n        fee: stxToMicroStx(values?.fee || 0).toNumber(),\n        txData: {\n          txType: TransactionTypes.STXTransfer,\n          // Using account address here as a fallback for a fee estimation\n          recipient: values?.recipient ?? account.address,\n          amount: values?.amount ? stxToMicroStx(values?.amount).toString(10) : '0',\n          memo: values?.memo || undefined,\n          network: network,\n          // Coercing type here as we don't have the public key\n          // as expected by STXTransferPayload type.\n          // This code will likely need to change soon with Ledger\n          // work, and coercion allows us to remove lots of type mangling\n          // and types are out of sync with @stacks/connect\n        } as any,\n      };\n      return generateUnsignedTransaction(options);\n    },\n    [account, nextNonce, network]\n  );\n}\n\nexport function useStxTokenTransferUnsignedTxState(values?: StacksSendFormValues) {\n  const generateTx = useGenerateStxTokenTransferUnsignedTx();\n  const account = useCurrentStacksAccount();\n  const { data: nextNonce } = useNextNonce(account?.address ?? '');\n  const network = useCurrentStacksNetworkState();\n\n  const tx = useAsync(\n    async () => generateTx(values ?? undefined),\n    [values, network, account, nextNonce]\n  );\n\n  return tx.result;\n}\n\nexport function useGenerateFtTokenTransferUnsignedTx(info: Sip10CryptoAssetInfo) {\n  const account = useCurrentStacksAccount();\n  const { data: nextNonce } = useNextNonce(account?.address ?? '');\n  const network = useCurrentStacksNetworkState();\n  const { contractId } = info;\n  const { contractAddress, contractAssetName, contractName } =\n    getStacksContractIdStringParts(contractId);\n  return useCallback(\n    async (values?: StacksSendFormValues | StacksTransactionFormValues) => {\n      try {\n        if (!account) return;\n\n        const functionName = 'transfer';\n        const recipient =\n          values && 'recipient' in values\n            ? createAddress(values.recipient || '')\n            : createEmptyAddress();\n        const amount = values && 'amount' in values ? values.amount : 0;\n        const memo =\n          values && 'memo' in values && values.memo !== ''\n            ? someCV(bufferCVFromString(values.memo || ''))\n            : noneCV();\n\n        const amountAsFractionalUnit = ftUnshiftDecimals(amount, info.decimals || 0);\n        const postConditionOptions = {\n          amount: amountAsFractionalUnit,\n          contractAddress,\n          contractAssetName,\n          contractName,\n          stxAddress: account.address,\n        };\n\n        const postConditions = [makePostCondition(postConditionOptions)];\n\n        // (transfer (uint principal principal) (response bool uint))\n        const functionArgs: ClarityValue[] = [\n          uintCV(amountAsFractionalUnit),\n          standardPrincipalCVFromAddress(createAddress(account.address)),\n          standardPrincipalCVFromAddress(recipient),\n        ];\n\n        functionArgs.push(memo);\n\n        const options = {\n          txData: {\n            txType: TransactionTypes.ContractCall,\n            contractAddress,\n            contractName,\n            functionName,\n            functionArgs: functionArgs.map(serializeCV).map(arg => bytesToHex(arg)),\n            postConditions,\n            postConditionMode: PostConditionMode.Deny,\n            network,\n            publicKey: account.stxPublicKey,\n          },\n          fee: stxToMicroStx(values?.fee || 0).toNumber(),\n          publicKey: account.stxPublicKey,\n          nonce: Number(values?.nonce) ?? nextNonce?.nonce,\n        } as const;\n\n        return generateUnsignedTransaction(options);\n      } catch (error) {\n        logger.error('Failed to generate unsigned transaction', error);\n        return;\n      }\n    },\n    [\n      account,\n      info.decimals,\n      network,\n      nextNonce?.nonce,\n      contractName,\n      contractAssetName,\n      contractAddress,\n    ]\n  );\n}\n\nexport function useFtTokenTransferUnsignedTx(info: Sip10CryptoAssetInfo) {\n  const account = useCurrentStacksAccount();\n  const generateTx = useGenerateFtTokenTransferUnsignedTx(info);\n\n  const tx = useAsync(async () => generateTx(), [account]);\n  return tx.result;\n}\n","import { MEMO_MAX_LENGTH_BYTES } from '@stacks/transactions';\nimport * as yup from 'yup';\n\nimport { isString } from '@leather.io/utils';\n\nconst exceedsMaxLengthBytes = (string: string, maxLengthBytes: number): boolean =>\n  string ? Buffer.from(string).length > maxLengthBytes : false;\n\nfunction isTxMemoValid(memo: string) {\n  return !exceedsMaxLengthBytes(memo, MEMO_MAX_LENGTH_BYTES);\n}\n\nexport function stxMemoValidator(errorMsg: string) {\n  return yup.string().test({\n    message: errorMsg,\n    test(value: unknown) {\n      if (!isString(value)) return true;\n      return isTxMemoValid(value);\n    },\n  });\n}\n","import * as yup from 'yup';\n\nimport type { NetworkConfiguration } from '@leather.io/models';\nimport { stacksChainIdToCoreNetworkMode } from '@leather.io/stacks';\n\nimport { FormErrorMessages } from '@shared/error-messages';\n\nimport {\n  notCurrentAddressValidator,\n  stxAddressNetworkValidator,\n  stxAddressValidator,\n} from './address-validators';\nimport { complianceValidator } from './compliance-validators';\n\nexport function stxRecipientValidator(\n  currentAddress: string,\n  currentNetwork: NetworkConfiguration\n) {\n  return yup\n    .string()\n    .defined(FormErrorMessages.AddressRequired)\n    .concat(stxAddressValidator(FormErrorMessages.InvalidAddress))\n    .concat(stxAddressNetworkValidator(currentNetwork))\n    .concat(notCurrentAddressValidator(currentAddress))\n    .concat(\n      complianceValidator(\n        stxAddressValidator(FormErrorMessages.InvalidAddress),\n        stacksChainIdToCoreNetworkMode(currentNetwork.chain.stacks.chainId)\n      )\n    );\n}\n","import * as yup from 'yup';\n\nexport const nonceValidator = yup\n  .number()\n  .integer()\n  .min(0, 'Nonce must be zero or more')\n  .typeError('Nonce must be a positive integer or 0');\n","import { FormikHelpers } from 'formik';\n\nimport { FeeTypes, type Money } from '@leather.io/models';\nimport { useNextNonce } from '@leather.io/query';\n\nimport { FormErrorMessages } from '@shared/error-messages';\nimport { StacksSendFormValues } from '@shared/models/form.model';\n\nimport { stxMemoValidator } from '@app/common/validation/forms/memo-validators';\nimport { stxRecipientValidator } from '@app/common/validation/forms/recipient-validators';\nimport { nonceValidator } from '@app/common/validation/nonce-validators';\nimport { useStacksHighFeeWarningContext } from '@app/features/stacks-high-fee-warning/stacks-high-fee-warning-container';\nimport { useCurrentStacksAccountAddress } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { useCurrentNetworkState } from '@app/store/networks/networks.hooks';\n\nimport { useSendFormRouteState } from '../../hooks/use-send-form-route-state';\nimport { createDefaultInitialFormValues } from '../../send-form.utils';\n\ninterface UseStacksCommonSendFormArgs {\n  symbol: string;\n  availableTokenBalance: Money;\n}\nexport function useStacksCommonSendForm({\n  symbol,\n  availableTokenBalance,\n}: UseStacksCommonSendFormArgs) {\n  const routeState = useSendFormRouteState();\n  const stxAddress = useCurrentStacksAccountAddress();\n  const { data: nextNonce } = useNextNonce(stxAddress);\n  const currentNetwork = useCurrentNetworkState();\n  const { isHighFeeWithNoFormErrors, setShowHighFeeWarningSheet } =\n    useStacksHighFeeWarningContext();\n\n  const initialValues: StacksSendFormValues = createDefaultInitialFormValues({\n    hasDismissedHighFeeWarning: false,\n    isShowingHighFeeDiaglog: false,\n    fee: '',\n    feeCurrency: 'STX',\n    feeType: FeeTypes[FeeTypes.Unknown],\n    memo: '',\n    nonce: nextNonce?.nonce,\n    recipientBnsName: '',\n    symbol,\n    ...routeState,\n  });\n\n  async function checkFormValidation(\n    values: StacksSendFormValues,\n    formikHelpers: FormikHelpers<StacksSendFormValues>\n  ) {\n    const formErrors = await formikHelpers.validateForm();\n\n    if (isHighFeeWithNoFormErrors(formErrors, values.fee)) {\n      setShowHighFeeWarningSheet(true);\n      return false;\n    }\n    return true;\n  }\n\n  return {\n    initialValues,\n    availableTokenBalance,\n    checkFormValidation,\n    recipient: stxRecipientValidator(stxAddress, currentNetwork),\n    memo: stxMemoValidator(FormErrorMessages.MemoExceedsLimit),\n    nonce: nonceValidator,\n  };\n}\n","import { useMemo } from 'react';\n\nimport { FormikHelpers } from 'formik';\nimport * as yup from 'yup';\n\nimport type { CryptoAssetBalance, Sip10CryptoAssetInfo } from '@leather.io/models';\nimport { useCalculateStacksTxFees } from '@leather.io/query';\nimport { convertAmountToBaseUnit } from '@leather.io/utils';\n\nimport { logger } from '@shared/logger';\nimport { StacksSendFormValues } from '@shared/models/form.model';\n\nimport { getSafeImageCanonicalUri } from '@app/common/stacks-utils';\nimport { stacksFungibleTokenAmountValidator } from '@app/common/validation/forms/amount-validators';\nimport {\n  useFtTokenTransferUnsignedTx,\n  useGenerateFtTokenTransferUnsignedTx,\n} from '@app/store/transactions/token-transfer.hooks';\n\nimport { useStacksCommonSendForm } from '../../family/stacks/use-stacks-common-send-form';\nimport { useSendFormNavigate } from '../../hooks/use-send-form-navigate';\n\ninterface UseSip10SendFormArgs {\n  balance: CryptoAssetBalance;\n  info: Sip10CryptoAssetInfo;\n}\nexport function useSip10SendForm({ balance, info }: UseSip10SendFormArgs) {\n  const generateTx = useGenerateFtTokenTransferUnsignedTx(info);\n\n  const sendFormNavigate = useSendFormNavigate();\n\n  const unsignedTx = useFtTokenTransferUnsignedTx(info);\n  const { data: stacksFtFees } = useCalculateStacksTxFees(unsignedTx);\n\n  const availableTokenBalance = balance.availableBalance;\n  const sendMaxBalance = useMemo(\n    () => convertAmountToBaseUnit(availableTokenBalance),\n    [availableTokenBalance]\n  );\n\n  const { initialValues, checkFormValidation, recipient, memo, nonce } = useStacksCommonSendForm({\n    symbol: info.symbol,\n    availableTokenBalance,\n  });\n\n  function createFtAvatar() {\n    return {\n      avatar: info.contractId,\n      imageCanonicalUri: getSafeImageCanonicalUri(info.imageCanonicalUri, info.name),\n    };\n  }\n\n  return {\n    availableTokenBalance,\n    initialValues,\n    sendMaxBalance,\n    stacksFtFees,\n    symbol: info.symbol,\n    decimals: info.decimals,\n    avatar: createFtAvatar(),\n    validationSchema: yup.object({\n      amount: stacksFungibleTokenAmountValidator(availableTokenBalance),\n      recipient,\n      memo,\n      nonce,\n    }),\n\n    async previewTransaction(\n      values: StacksSendFormValues,\n      formikHelpers: FormikHelpers<StacksSendFormValues>\n    ) {\n      const isFormValid = await checkFormValidation(values, formikHelpers);\n      if (!isFormValid) return;\n\n      const tx = await generateTx(values);\n      if (!tx) return logger.error('Attempted to generate unsigned tx, but tx is undefined');\n\n      sendFormNavigate.toConfirmAndSignStacksSip10Transaction({\n        decimals: info.decimals,\n        name: info.name,\n        tx,\n      });\n    },\n  };\n}\n","import type { CryptoAssetBalance, MarketData, Sip10CryptoAssetInfo } from '@leather.io/models';\nimport { StxAvatarIcon } from '@leather.io/ui';\n\nimport { StacksAssetAvatar } from '@app/components/stacks-asset-avatar';\n\nimport { AmountField } from '../../components/amount-field';\nimport { SelectedAssetField } from '../../components/selected-asset-field';\nimport { SendFiatValue } from '../../components/send-fiat-value';\nimport { SendMaxButton } from '../../components/send-max-button';\nimport { StacksCommonSendForm } from '../stacks/stacks-common-send-form';\nimport { useSip10SendForm } from './use-sip10-send-form';\n\ninterface Sip10TokenSendFormContainerProps {\n  info: Sip10CryptoAssetInfo;\n  balance: CryptoAssetBalance;\n  marketData: MarketData;\n}\nexport function Sip10TokenSendFormContainer({\n  info,\n  balance,\n  marketData,\n}: Sip10TokenSendFormContainerProps) {\n  const {\n    availableTokenBalance,\n    initialValues,\n    previewTransaction,\n    sendMaxBalance,\n    stacksFtFees: fees,\n    validationSchema,\n    avatar,\n    decimals,\n    symbol,\n  } = useSip10SendForm({ info, balance });\n\n  const amountField = (\n    <AmountField\n      balance={availableTokenBalance}\n      bottomInputOverlay={\n        <SendMaxButton balance={availableTokenBalance} sendMaxBalance={sendMaxBalance.toString()} />\n      }\n      tokenSymbol={symbol}\n      autoComplete=\"off\"\n      switchableAmount={\n        marketData ? (\n          <SendFiatValue marketData={marketData} assetSymbol={symbol} assetDecimals={decimals} />\n        ) : undefined\n      }\n    />\n  );\n  const selectedAssetField = (\n    <SelectedAssetField\n      icon={\n        avatar ? (\n          <StacksAssetAvatar\n            gradientString={avatar.avatar}\n            imageCanonicalUri={avatar.imageCanonicalUri}\n          />\n        ) : (\n          <StxAvatarIcon />\n        )\n      }\n      name={symbol}\n      symbol={symbol}\n    />\n  );\n\n  return (\n    <StacksCommonSendForm\n      onSubmit={previewTransaction}\n      initialValues={initialValues}\n      validationSchema={validationSchema}\n      amountField={amountField}\n      selectedAssetField={selectedAssetField}\n      fees={fees}\n      availableTokenBalance={availableTokenBalance}\n    />\n  );\n}\n","import { useNavigate, useParams } from 'react-router-dom';\n\nimport type { CryptoAssetBalance, MarketData, Sip10CryptoAssetInfo } from '@leather.io/models';\nimport { useAlexCurrencyPriceAsMarketData, useSip10Token } from '@leather.io/query';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { Content } from '@app/components/layout';\nimport { PageHeader } from '@app/features/container/headers/page.header';\nimport { useToast } from '@app/features/toasts/use-toast';\nimport { useCurrentStacksAccountAddress } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\nimport { Sip10TokenSendFormContainer } from './sip10-token-send-form-container';\n\ninterface Sip10TokenSendFormLoaderProps {\n  children(token: {\n    balance: CryptoAssetBalance;\n    info: Sip10CryptoAssetInfo;\n    marketData: MarketData;\n  }): React.ReactNode;\n}\nfunction Sip10TokenSendFormLoader({ children }: Sip10TokenSendFormLoaderProps) {\n  const { contractId } = useParams();\n  const stxAddress = useCurrentStacksAccountAddress();\n  const token = useSip10Token(stxAddress, contractId ?? '');\n  const priceAsMarketData = useAlexCurrencyPriceAsMarketData();\n  const toast = useToast();\n  const navigate = useNavigate();\n\n  if (!contractId) return;\n\n  if (!token) {\n    toast.error('Token not found');\n    navigate(RouteUrls.SendCryptoAsset);\n    return;\n  }\n\n  return children({\n    ...token,\n    marketData: priceAsMarketData(token.info.contractId, token.balance.availableBalance.symbol),\n  });\n}\n\nexport function Sip10TokenSendForm() {\n  return (\n    <>\n      <PageHeader title=\"Send\" />\n      <Content>\n        <Sip10TokenSendFormLoader>\n          {token => (\n            <Sip10TokenSendFormContainer\n              balance={token.balance}\n              info={token.info}\n              marketData={token.marketData}\n            />\n          )}\n        </Sip10TokenSendFormLoader>\n      </Content>\n    </>\n  );\n}\n","import { SendCryptoAssetSelectors } from '@tests/selectors/send.selectors';\nimport { Stack } from 'leather-styles/jsx';\n\nimport { Button, Callout } from '@leather.io/ui';\n\nimport { FormAddressDisplayer } from '@app/components/address-displayer/form-address-displayer';\nimport {\n  InfoCardAssetValue,\n  InfoCardRow,\n  InfoCardSeparator,\n} from '@app/components/info-card/info-card';\nimport { Card } from '@app/components/layout';\n\ninterface SendFormConfirmationProps {\n  recipient: string;\n  fee?: string;\n  totalSpend: string;\n  arrivesIn: string;\n  symbol: string;\n  txValue: string | number;\n  sendingValue: string;\n  txFiatValue?: string;\n  txFiatValueSymbol?: string;\n  nonce: string;\n  memoDisplayText: string;\n  isLoading: boolean;\n  feeWarningTooltip?: React.ReactNode;\n  onBroadcastTransaction(): void;\n}\nexport function SendFormConfirmation({\n  txValue,\n  txFiatValue,\n  txFiatValueSymbol,\n  recipient,\n  fee,\n  totalSpend,\n  sendingValue,\n  arrivesIn,\n  isLoading,\n  onBroadcastTransaction,\n  nonce,\n  memoDisplayText,\n  symbol,\n  feeWarningTooltip,\n}: SendFormConfirmationProps) {\n  return (\n    <Card\n      dataTestId={SendCryptoAssetSelectors.ConfirmationDetails}\n      contentStyle={{\n        p: 'space.00',\n      }}\n      footer={\n        <Button\n          aria-busy={isLoading}\n          data-testid={SendCryptoAssetSelectors.ConfirmSendTxBtn}\n          onClick={onBroadcastTransaction}\n          width=\"100%\"\n        >\n          Confirm and send transaction\n        </Button>\n      }\n    >\n      <InfoCardAssetValue\n        data-testid={SendCryptoAssetSelectors.ConfirmationDetailsAssetValue}\n        fiatSymbol={txFiatValueSymbol}\n        fiatValue={txFiatValue}\n        mb=\"space.05\"\n        mt={['unset', 'space.05']}\n        px=\"space.05\"\n        symbol={symbol}\n        value={Number(txValue)}\n      />\n\n      <Callout variant=\"info\" title=\"Sending to an exchange?\" px=\"space.03\" mb=\"space.05\">\n        {`Make sure you include the memo so the exchange can credit the ${symbol} to your account`}\n      </Callout>\n\n      <Stack pb=\"space.06\" px=\"space.06\" width=\"100%\">\n        <InfoCardRow\n          title=\"To\"\n          value={<FormAddressDisplayer address={recipient} />}\n          data-testid={SendCryptoAssetSelectors.ConfirmationDetailsRecipient}\n        />\n        <InfoCardSeparator />\n        <InfoCardRow title=\"Total spend\" value={totalSpend} />\n        <InfoCardRow title=\"Sending\" value={sendingValue} />\n        <InfoCardRow\n          title=\"Fee\"\n          value={fee}\n          titleAdditionalElement={feeWarningTooltip}\n          data-testid={SendCryptoAssetSelectors.ConfirmationDetailsFee}\n        />\n        <InfoCardRow\n          title=\"Memo\"\n          value={memoDisplayText}\n          data-testid={SendCryptoAssetSelectors.ConfirmationDetailsMemo}\n        />\n        <InfoCardRow title=\"Nonce\" value={nonce} />\n        <InfoCardRow title=\"Estimated confirmation time\" value={arrivesIn} />\n      </Stack>\n    </Card>\n  );\n}\n","import { Outlet, useParams } from 'react-router-dom';\n\nimport { deserializeTransaction } from '@stacks/transactions';\nimport { Box, Stack } from 'leather-styles/jsx';\n\nimport type { CryptoCurrency } from '@leather.io/models';\nimport { InfoCircleIcon } from '@leather.io/ui';\n\nimport { useLocationStateWithCache } from '@app/common/hooks/use-location-state';\nimport { Content, Page } from '@app/components/layout';\nimport { PageHeader } from '@app/features/container/headers/page.header';\nimport { useStacksBroadcastTransaction } from '@app/features/stacks-transaction-request/hooks/use-stacks-broadcast-transaction';\nimport { useStacksTransactionSummary } from '@app/features/stacks-transaction-request/hooks/use-stacks-transaction-summary';\nimport { BasicTooltip } from '@app/ui/components/tooltip/basic-tooltip';\n\nimport { SendFormConfirmation } from '../send-form-confirmation';\n\nfunction useStacksSendFormConfirmationState() {\n  return {\n    tx: useLocationStateWithCache('tx') as string,\n    decimals: useLocationStateWithCache('decimals') as number,\n    showFeeChangeWarning: useLocationStateWithCache('showFeeChangeWarning') as boolean,\n  };\n}\n\nexport function StacksSendFormConfirmation() {\n  const { tx, decimals, showFeeChangeWarning } = useStacksSendFormConfirmationState();\n\n  const { symbol = 'STX' } = useParams();\n\n  const { stacksBroadcastTransaction, isBroadcasting } = useStacksBroadcastTransaction({\n    token: symbol.toUpperCase() as CryptoCurrency,\n    decimals,\n  });\n\n  const stacksDeserializedTransaction = deserializeTransaction(tx);\n\n  const { formReviewTxSummary } = useStacksTransactionSummary(\n    symbol.toUpperCase() as CryptoCurrency\n  );\n  const {\n    txValue,\n    txFiatValue,\n    txFiatValueSymbol,\n    recipient,\n    fee,\n    totalSpend,\n    sendingValue,\n    arrivesIn,\n    nonce,\n    memoDisplayText,\n  } = formReviewTxSummary(stacksDeserializedTransaction, symbol, decimals);\n\n  const feeWarningTooltip = showFeeChangeWarning ? (\n    <BasicTooltip\n      label={\n        'You are using a nonce for this transaction that is already pending. The fee has been increased so that it is exactly high enough to replace the pending transaction with the same nonce.'\n      }\n      side=\"bottom\"\n    >\n      <Stack>\n        <Box>\n          <InfoCircleIcon color=\"ink.text-subdued\" variant=\"small\" />\n        </Box>\n      </Stack>\n    </BasicTooltip>\n  ) : null;\n\n  return (\n    <>\n      <PageHeader title=\"Review\" />\n      <Content>\n        <Page>\n          <Outlet />\n          <SendFormConfirmation\n            txValue={txValue}\n            txFiatValue={txFiatValue}\n            txFiatValueSymbol={txFiatValueSymbol}\n            recipient={recipient}\n            fee={fee}\n            totalSpend={totalSpend}\n            sendingValue={sendingValue}\n            arrivesIn={arrivesIn}\n            nonce={nonce}\n            memoDisplayText={memoDisplayText}\n            symbol={symbol.toUpperCase()}\n            isLoading={isBroadcasting}\n            feeWarningTooltip={feeWarningTooltip}\n            onBroadcastTransaction={() => stacksBroadcastTransaction(stacksDeserializedTransaction)}\n          />\n        </Page>\n      </Content>\n    </>\n  );\n}\n","import { useMemo } from 'react';\n\nimport { FormikHelpers } from 'formik';\nimport * as yup from 'yup';\n\nimport { STX_DECIMALS } from '@leather.io/constants';\nimport {\n  useCalculateStacksTxFees,\n  useStacksValidateFeeByNonce,\n  useStxAvailableUnlockedBalance,\n} from '@leather.io/query';\nimport { convertAmountToBaseUnit } from '@leather.io/utils';\n\nimport { logger } from '@shared/logger';\nimport { StacksSendFormValues } from '@shared/models/form.model';\n\nimport {\n  stxAmountValidator,\n  stxAvailableBalanceValidator,\n} from '@app/common/validation/forms/amount-validators';\nimport { stxFeeValidator } from '@app/common/validation/forms/fee-validators';\nimport { useUpdatePersistedSendFormValues } from '@app/features/popup-send-form-restoration/use-update-persisted-send-form-values';\nimport { useCurrentStacksAccountAddress } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport {\n  useGenerateStxTokenTransferUnsignedTx,\n  useStxTokenTransferUnsignedTxState,\n} from '@app/store/transactions/token-transfer.hooks';\n\nimport { useStacksCommonSendForm } from '../../family/stacks/use-stacks-common-send-form';\nimport { useSendFormNavigate } from '../../hooks/use-send-form-navigate';\n\nexport function useStxSendForm() {\n  const unsignedTx = useStxTokenTransferUnsignedTxState();\n  const { data: stxFees } = useCalculateStacksTxFees(unsignedTx);\n  const generateTx = useGenerateStxTokenTransferUnsignedTx();\n  const { onFormStateChange } = useUpdatePersistedSendFormValues();\n  const sendFormNavigate = useSendFormNavigate();\n  const address = useCurrentStacksAccountAddress();\n  const { changeFeeByNonce } = useStacksValidateFeeByNonce(address);\n  const availableUnlockedBalance = useStxAvailableUnlockedBalance(address);\n\n  const sendMaxBalance = useMemo(\n    () =>\n      convertAmountToBaseUnit(\n        availableUnlockedBalance.amount.minus(stxFees?.estimates[1].fee.amount || 0),\n        STX_DECIMALS\n      ),\n    [availableUnlockedBalance.amount, stxFees?.estimates]\n  );\n\n  const { initialValues, checkFormValidation, recipient, memo, nonce } = useStacksCommonSendForm({\n    symbol: 'STX',\n    availableTokenBalance: availableUnlockedBalance,\n  });\n\n  return {\n    availableUnlockedBalance,\n    initialValues,\n    onFormStateChange,\n    sendMaxBalance,\n    stxFees,\n\n    validationSchema: yup.object({\n      amount: stxAmountValidator(availableUnlockedBalance).concat(\n        stxAvailableBalanceValidator(availableUnlockedBalance)\n      ),\n      fee: stxFeeValidator(availableUnlockedBalance),\n      recipient,\n      memo,\n      nonce,\n    }),\n\n    async previewTransaction(\n      values: StacksSendFormValues,\n      formikHelpers: FormikHelpers<StacksSendFormValues>\n    ) {\n      const isFormValid = await checkFormValidation(values, formikHelpers);\n\n      if (!isFormValid) return;\n      const initialFee = values.fee;\n      values.fee = changeFeeByNonce({\n        nonce: Number(values.nonce),\n        fee: Number(values.fee),\n      });\n\n      // if fee has changed, show info message\n      const showFeeChangeWarning = initialFee !== values.fee;\n\n      const tx = await generateTx(values);\n      if (!tx) return logger.error('Attempted to generate unsigned tx, but tx is undefined');\n      sendFormNavigate.toConfirmAndSignStxTransaction(tx, showFeeChangeWarning);\n    },\n  };\n}\n","import type { CryptoCurrency } from '@leather.io/models';\nimport { useCryptoCurrencyMarketDataMeanAverage } from '@leather.io/query';\nimport { StxAvatarIcon } from '@leather.io/ui';\n\nimport { Content } from '@app/components/layout';\nimport { PageHeader } from '@app/features/container/headers/page.header';\n\nimport { AmountField } from '../../components/amount-field';\nimport { SelectedAssetField } from '../../components/selected-asset-field';\nimport { SendFiatValue } from '../../components/send-fiat-value';\nimport { SendMaxButton } from '../../components/send-max-button';\nimport { StacksCommonSendForm } from '../stacks/stacks-common-send-form';\nimport { useStxSendForm } from './use-stx-send-form';\n\nconst symbol = 'STX' satisfies CryptoCurrency;\n\nexport function StxSendForm() {\n  const stxMarketData = useCryptoCurrencyMarketDataMeanAverage(symbol);\n  const {\n    availableUnlockedBalance,\n    initialValues,\n    previewTransaction,\n    sendMaxBalance,\n    stxFees: fees,\n    validationSchema,\n  } = useStxSendForm();\n\n  const amountField = (\n    <AmountField\n      balance={availableUnlockedBalance}\n      switchableAmount={<SendFiatValue marketData={stxMarketData} assetSymbol={symbol} />}\n      bottomInputOverlay={\n        <SendMaxButton\n          balance={availableUnlockedBalance}\n          sendMaxBalance={sendMaxBalance.toString()}\n        />\n      }\n    />\n  );\n\n  const selectedAssetField = (\n    <SelectedAssetField icon={<StxAvatarIcon />} name=\"Stacks\" symbol={symbol} />\n  );\n\n  return (\n    <>\n      <PageHeader title=\"Send\" />\n      <Content>\n        <StacksCommonSendForm\n          onSubmit={previewTransaction}\n          initialValues={initialValues}\n          validationSchema={validationSchema}\n          amountField={amountField}\n          selectedAssetField={selectedAssetField}\n          fees={fees}\n          availableTokenBalance={availableUnlockedBalance}\n        />\n      </Content>\n    </>\n  );\n}\n","import { Suspense } from 'react';\nimport { Route } from 'react-router-dom';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { BroadcastErrorSheet } from '@app/components/broadcast-error-dialog/broadcast-error-dialog';\nimport { FullPageWithHeaderLoadingSpinner } from '@app/components/loading-spinner';\nimport { EditNonceSheet } from '@app/features/dialogs/edit-nonce-dialog/edit-nonce-dialog';\nimport { ledgerBitcoinTxSigningRoutes } from '@app/features/ledger/flows/bitcoin-tx-signing/ledger-bitcoin-sign-tx-container';\nimport { ledgerStacksTxSigningRoutes } from '@app/features/ledger/flows/stacks-tx-signing/ledger-sign-stacks-tx-container';\nimport { StacksHighFeeWarningContainer } from '@app/features/stacks-high-fee-warning/stacks-high-fee-warning-container';\nimport { SendBtcDisabled } from '@app/pages/send/choose-crypto-asset/send-btc-disabled';\nimport { AccountGate } from '@app/routes/account-gate';\n\nimport { BroadcastError } from '../broadcast-error/broadcast-error';\nimport { ChooseCryptoAsset } from '../choose-crypto-asset/choose-crypto-asset';\nimport { BtcSentSummary } from '../sent-summary/btc-sent-summary';\nimport { StxSentSummary } from '../sent-summary/stx-sent-summary';\nimport { RecipientAccountsSheet } from './components/recipient-accounts-dialog/recipient-accounts-dialog';\nimport { SendBitcoinAssetContainer } from './family/bitcoin/components/send-bitcoin-asset-container';\nimport { BtcChooseFee } from './form/btc/btc-choose-fee';\nimport { BtcSendForm } from './form/btc/btc-send-form';\nimport { BtcSendFormConfirmation } from './form/btc/btc-send-form-confirmation';\nimport { Sip10TokenSendForm } from './form/sip10/sip10-token-send-form';\nimport { StacksSendFormConfirmation } from './form/stacks/stacks-send-form-confirmation';\nimport { StxSendForm } from './form/stx/stx-send-form';\n\nconst recipientAccountsSheetRoute = (\n  <Route\n    path={RouteUrls.SendCryptoAssetFormRecipientAccounts}\n    element={<RecipientAccountsSheet />}\n  />\n);\n\nconst editNonceSheetRoute = <Route path={RouteUrls.EditNonce} element={<EditNonceSheet />} />;\nconst broadcastErrorSheetRoute = (\n  <Route path={'confirm/broadcast-error'} element={<BroadcastErrorSheet />} />\n);\n\nexport const sendCryptoAssetFormRoutes = (\n  <Route>\n    <Route\n      path={RouteUrls.SendCryptoAsset}\n      element={\n        <AccountGate>\n          <Suspense fallback={<FullPageWithHeaderLoadingSpinner />}>\n            <ChooseCryptoAsset />\n          </Suspense>\n        </AccountGate>\n      }\n    />\n\n    <Route element={<SendBitcoinAssetContainer />}>\n      <Route\n        path={RouteUrls.SendCryptoAssetForm.replace(':symbol', 'btc')}\n        element={<BtcSendForm />}\n      >\n        {ledgerBitcoinTxSigningRoutes}\n        {recipientAccountsSheetRoute}\n      </Route>\n      <Route path={RouteUrls.SendBtcDisabled} element={<SendBtcDisabled />} />\n      <Route path={RouteUrls.SendBtcError} element={<BroadcastError />} />\n\n      <Route path={RouteUrls.SendBtcConfirmation} element={<BtcSendFormConfirmation />} />\n      <Route path={RouteUrls.SendBtcChooseFee} element={<BtcChooseFee />}>\n        {ledgerBitcoinTxSigningRoutes}\n      </Route>\n      <Route path={RouteUrls.SentBtcTxSummary} element={<BtcSentSummary />} />\n    </Route>\n    <Route\n      path={RouteUrls.SendCryptoAssetForm.replace(':symbol', 'stx')}\n      element={\n        <StacksHighFeeWarningContainer>\n          <StxSendForm />\n        </StacksHighFeeWarningContainer>\n      }\n    >\n      {broadcastErrorSheetRoute}\n      {editNonceSheetRoute}\n      {recipientAccountsSheetRoute}\n    </Route>\n    <Route\n      path={`${RouteUrls.SendCryptoAssetForm.replace(':symbol', 'stx')}/confirm`}\n      element={<StacksSendFormConfirmation />}\n    >\n      {ledgerStacksTxSigningRoutes}\n    </Route>\n    <Route\n      path={RouteUrls.SendSip10Form}\n      element={\n        <StacksHighFeeWarningContainer>\n          <Sip10TokenSendForm />\n        </StacksHighFeeWarningContainer>\n      }\n    >\n      {broadcastErrorSheetRoute}\n      {editNonceSheetRoute}\n      {recipientAccountsSheetRoute}\n    </Route>\n    <Route path=\"/send/:symbol/:contractId/confirm\" element={<StacksSendFormConfirmation />}>\n      {ledgerStacksTxSigningRoutes}\n    </Route>\n    <Route path={RouteUrls.SentStxTxSummary} element={<StxSentSummary />} />\n  </Route>\n);\n","import { useCallback } from 'react';\n\nimport { ContractCallPayload } from '@stacks/connect';\n\nimport { useNextNonce } from '@leather.io/query';\n\nimport { StacksTransactionFormValues } from '@shared/models/form.model';\n\nimport {\n  GenerateUnsignedTransactionOptions,\n  generateUnsignedTransaction,\n} from '@app/common/transactions/stacks/generate-unsigned-txs';\n\nimport { useCurrentStacksAccount } from '../accounts/blockchain/stacks/stacks-account.hooks';\nimport { useCurrentStacksNetworkState } from '../networks/networks.hooks';\n\nexport function useGenerateStacksContractCallUnsignedTx() {\n  const account = useCurrentStacksAccount();\n\n  const { data: nextNonce } = useNextNonce(account?.address ?? '');\n  const network = useCurrentStacksNetworkState();\n\n  return useCallback(\n    async (payload: ContractCallPayload, values: StacksTransactionFormValues) => {\n      if (!account) return;\n\n      const options: GenerateUnsignedTransactionOptions = {\n        publicKey: account.stxPublicKey,\n        nonce: Number(values?.nonce) ?? nextNonce?.nonce,\n        fee: values.fee ?? 0,\n        txData: { ...payload, network },\n      };\n      return generateUnsignedTransaction(options);\n    },\n    [account, network, nextNonce?.nonce]\n  );\n}\n","import BigNumber from 'bignumber.js';\n\nimport { capitalize } from '@leather.io/utils';\n\nexport function estimateLiquidityFee(dexPath: string[]) {\n  return new BigNumber(dexPath.length).times(0.3).toNumber();\n}\n\nexport function formatDexPathItem(dex: string) {\n  const name = dex.split('_')[0];\n  return name === 'ALEX' ? name : capitalize(name.toLowerCase());\n}\n","import { createContext, useContext } from 'react';\n\nimport type { SwapAsset } from '@leather.io/query';\n\nimport { SwapFormValues } from './hooks/use-swap-form';\n\nexport interface SwapSubmissionData extends SwapFormValues {\n  liquidityFee: number;\n  protocol: string;\n  router: SwapAsset[];\n  dexPath: string[];\n  slippage: number;\n  sponsored: boolean;\n  timestamp: string;\n}\n\nexport interface SwapContext {\n  fetchQuoteAmount(from: SwapAsset, to: SwapAsset, fromAmount: string): Promise<string | undefined>;\n  isFetchingExchangeRate: boolean;\n  isSendingMax: boolean;\n  isPreparingSwapReview: boolean;\n  onSetIsFetchingExchangeRate(value: boolean): void;\n  onSetIsSendingMax(value: boolean): void;\n  onSubmitSwapForReview(values: SwapFormValues): Promise<void> | void;\n  onSubmitSwap(): Promise<void> | void;\n  swappableAssetsBase: SwapAsset[];\n  swappableAssetsQuote: SwapAsset[];\n  swapSubmissionData?: SwapSubmissionData;\n}\n\nconst swapContext = createContext<SwapContext | null>(null);\n\nexport function useSwapContext() {\n  const context = useContext(swapContext);\n  if (!context) throw new Error('No SwapContext found');\n  return context;\n}\n\nexport const SwapProvider = swapContext.Provider;\n","import BigNumber from 'bignumber.js';\nimport * as yup from 'yup';\n\nimport { FeeTypes } from '@leather.io/models';\nimport { type SwapAsset, useNextNonce } from '@leather.io/query';\nimport { convertAmountToFractionalUnit, createMoney } from '@leather.io/utils';\n\nimport { FormErrorMessages } from '@shared/error-messages';\nimport { StacksTransactionFormValues } from '@shared/models/form.model';\n\nimport { useCurrentStacksAccountAddress } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\nimport { useSwapContext } from '../swap.context';\n\nexport interface SwapFormValues extends StacksTransactionFormValues {\n  swapAmountBase: string;\n  swapAmountQuote: string;\n  swapAssetBase?: SwapAsset;\n  swapAssetQuote?: SwapAsset;\n}\n\nexport function useSwapForm() {\n  const { isFetchingExchangeRate } = useSwapContext();\n  const stxAddress = useCurrentStacksAccountAddress();\n  const { data: nextNonce } = useNextNonce(stxAddress);\n\n  const initialValues: SwapFormValues = {\n    fee: '0',\n    feeCurrency: 'STX',\n    feeType: FeeTypes[FeeTypes.Middle],\n    nonce: nextNonce?.nonce,\n    swapAmountBase: '',\n    swapAmountQuote: '',\n    swapAssetBase: undefined,\n    swapAssetQuote: undefined,\n  };\n\n  const validationSchema = yup.object({\n    swapAssetBase: yup.object<SwapAsset>().required(),\n    swapAssetQuote: yup.object<SwapAsset>().required(),\n    swapAmountBase: yup\n      .number()\n      .test({\n        message: 'Insufficient balance',\n        test(value) {\n          if (isFetchingExchangeRate) return true;\n          const { swapAssetBase } = this.parent;\n          const valueInFractionalUnit = convertAmountToFractionalUnit(\n            createMoney(\n              new BigNumber(Number(value)),\n              swapAssetBase.balance.symbol,\n              swapAssetBase.balance.decimals\n            )\n          );\n          if (swapAssetBase.balance.amount.isLessThan(valueInFractionalUnit)) return false;\n          return true;\n        },\n      })\n      .required(FormErrorMessages.AmountRequired)\n      .typeError(FormErrorMessages.MustBeNumber)\n      .positive(FormErrorMessages.MustBePositive),\n    swapAmountQuote: yup\n      .number()\n      .required(FormErrorMessages.AmountRequired)\n      .typeError(FormErrorMessages.MustBeNumber)\n      .positive(FormErrorMessages.MustBePositive),\n  });\n\n  return {\n    initialValues,\n    validationSchema,\n  };\n}\n","import { Form, Formik } from 'formik';\nimport { Box } from 'leather-styles/jsx';\n\nimport { HasChildren } from '@app/common/has-children';\nimport { NonceSetter } from '@app/components/nonce-setter';\n\nimport { useSwapForm } from '../hooks/use-swap-form';\nimport { useSwapContext } from '../swap.context';\n\nexport function SwapForm({ children }: HasChildren) {\n  const { initialValues, validationSchema } = useSwapForm();\n  const { onSubmitSwapForReview } = useSwapContext();\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      onSubmit={onSubmitSwapForReview}\n      validateOnChange={false}\n      validateOnMount\n      validationSchema={validationSchema}\n    >\n      <Box width=\"100%\">\n        <NonceSetter />\n        <Form>{children}</Form>\n      </Box>\n    </Formik>\n  );\n}\n","import { useCallback } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\n\nexport function useSwapNavigate() {\n  const navigate = useNavigate();\n  const { base, quote } = useParams();\n  return useCallback(\n    (route: string) => {\n      navigate(route.replace(':base', base ?? '').replace(':quote', quote ?? ''));\n    },\n    [base, navigate, quote]\n  );\n}\n","export enum SwapSelectors {\n  SwapAssetList = 'swap-asset-list',\n  SwapAssetListItem = 'swap-asset-list-item',\n  SelectAssetTriggerBtn = 'select-asset-trigger-btn',\n  SwapAmountInput = 'swap-amount-input',\n  SwapDetailsAmount = 'swap-details-amount',\n  SwapDetailsProtocol = 'swap-details-protocol',\n  SwapDetailsSymbol = 'swap-details-symbol',\n  SwapPageReady = 'swap-page-ready',\n  SwapReviewBtn = 'swap-review-btn',\n  SwapSubmitBtn = 'swap-submit-btn',\n}\n","import { SwapSelectors } from '@tests/selectors/swap.selectors';\n\nimport { type SwapAsset, isFtAsset, useGetFungibleTokenMetadataQuery } from '@leather.io/query';\nimport {\n  Avatar,\n  ItemLayout,\n  Pressable,\n  defaultFallbackDelay,\n  getAvatarFallback,\n} from '@leather.io/ui';\nimport { formatMoneyWithoutSymbol } from '@leather.io/utils';\n\nimport { convertSwapAssetBalanceToFiat } from '@app/pages/swap/swap.utils';\n\ninterface SwapAssetItemProps {\n  asset: SwapAsset;\n  onClick(): void;\n}\nexport function SwapAssetItem({ asset, onClick }: SwapAssetItemProps) {\n  const { data: ftMetadata } = useGetFungibleTokenMetadataQuery(asset.principal);\n\n  const ftMetadataName = ftMetadata && isFtAsset(ftMetadata) ? ftMetadata.name : asset.name;\n  const displayName = asset.displayName ?? ftMetadataName;\n  const fallback = getAvatarFallback(asset.name);\n  const fiatBalance = convertSwapAssetBalanceToFiat(asset);\n\n  return (\n    <Pressable data-testid={SwapSelectors.SwapAssetListItem} onClick={onClick} my=\"space.02\">\n      <ItemLayout\n        img={\n          <Avatar.Root>\n            <Avatar.Image alt={fallback} src={asset.icon} />\n            <Avatar.Fallback delayMs={defaultFallbackDelay}>{fallback}</Avatar.Fallback>\n          </Avatar.Root>\n        }\n        titleLeft={displayName}\n        captionLeft={asset.name}\n        titleRight={formatMoneyWithoutSymbol(asset.balance)}\n        captionRight={fiatBalance}\n      />\n    </Pressable>\n  );\n}\n","import { useNavigate, useParams } from 'react-router-dom';\n\nimport { SwapSelectors } from '@tests/selectors/swap.selectors';\nimport BigNumber from 'bignumber.js';\nimport { useFormikContext } from 'formik';\nimport { Stack } from 'leather-styles/jsx';\n\nimport type { SwapAsset } from '@leather.io/query';\nimport {\n  convertAmountToFractionalUnit,\n  createMoney,\n  formatMoneyWithoutSymbol,\n  isUndefined,\n} from '@leather.io/utils';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { useSwapContext } from '@app/pages/swap/swap.context';\n\nimport { SwapFormValues } from '../../../hooks/use-swap-form';\nimport { SwapAssetItem } from './swap-asset-item';\n\ninterface SwapAssetList {\n  assets: SwapAsset[];\n  type: string;\n}\nexport function SwapAssetList({ assets, type }: SwapAssetList) {\n  const { fetchQuoteAmount } = useSwapContext();\n  const { setFieldError, setFieldValue, values } = useFormikContext<SwapFormValues>();\n  const navigate = useNavigate();\n  const { base, quote } = useParams();\n  const isBaseList = type === 'base';\n  const isQuoteList = type === 'quote';\n\n  const selectableAssets = assets.filter(\n    asset =>\n      (isBaseList && asset.name !== values.swapAssetQuote?.name) ||\n      (isQuoteList && asset.name !== values.swapAssetBase?.name)\n  );\n\n  async function onSelectAsset(asset: SwapAsset) {\n    let baseAsset: SwapAsset | undefined;\n    let quoteAsset: SwapAsset | undefined;\n    if (isBaseList) {\n      baseAsset = asset;\n      quoteAsset = values.swapAssetQuote;\n      await setFieldValue('swapAssetBase', asset);\n      navigate(RouteUrls.Swap.replace(':base', baseAsset.name).replace(':quote', quote ?? ''));\n    } else if (isQuoteList) {\n      baseAsset = values.swapAssetBase;\n      quoteAsset = asset;\n      await setFieldValue('swapAssetQuote', asset);\n      setFieldError('swapAssetQuote', undefined);\n      navigate(RouteUrls.Swap.replace(':base', base ?? '').replace(':quote', quoteAsset.name));\n    }\n\n    if (baseAsset && quoteAsset && values.swapAmountBase) {\n      const quoteAmount = await fetchQuoteAmount(baseAsset, quoteAsset, values.swapAmountBase);\n      if (isUndefined(quoteAmount)) {\n        await setFieldValue('swapAmountQuote', '');\n        return;\n      }\n      const quoteAmountAsMoney = createMoney(\n        convertAmountToFractionalUnit(new BigNumber(quoteAmount), quoteAsset?.balance.decimals),\n        quoteAsset?.balance.symbol ?? '',\n        quoteAsset?.balance.decimals\n      );\n      await setFieldValue('swapAmountQuote', formatMoneyWithoutSymbol(quoteAmountAsMoney));\n      setFieldError('swapAmountQuote', undefined);\n    }\n  }\n\n  return (\n    <Stack mb=\"space.05\" p=\"space.05\" width=\"100%\" data-testid={SwapSelectors.SwapAssetList}>\n      {selectableAssets.map(asset => (\n        <SwapAssetItem asset={asset} key={asset.currency} onClick={() => onSelectAsset(asset)} />\n      ))}\n    </Stack>\n  );\n}\n","import { Sheet, SheetHeader } from '@leather.io/ui';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { useSwapNavigate } from '../../hooks/use-swap-navigate';\nimport { useSwapContext } from '../../swap.context';\nimport { SwapAssetList } from './components/swap-asset-list';\n\nexport function SwapAssetSheetBase() {\n  const { swappableAssetsBase } = useSwapContext();\n  const navigate = useSwapNavigate();\n\n  return (\n    <Sheet\n      isShowing\n      onClose={() => navigate(RouteUrls.Swap)}\n      header={\n        <SheetHeader\n          title={\n            <>\n              Choose asset <br /> to swap\n            </>\n          }\n          variant=\"large\"\n          onClose={() => navigate(RouteUrls.Swap)}\n        />\n      }\n    >\n      <SwapAssetList assets={swappableAssetsBase} type=\"base\" />\n    </Sheet>\n  );\n}\n","import { Sheet, SheetHeader } from '@leather.io/ui';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { useSwapNavigate } from '../../hooks/use-swap-navigate';\nimport { useSwapContext } from '../../swap.context';\nimport { SwapAssetList } from './components/swap-asset-list';\n\nexport function SwapAssetSheetQuote() {\n  const { swappableAssetsQuote } = useSwapContext();\n  const navigate = useSwapNavigate();\n\n  return (\n    <Sheet\n      isShowing\n      onClose={() => navigate(RouteUrls.Swap)}\n      header={\n        <SheetHeader\n          title={\n            <>\n              Choose asset <br /> to receive\n            </>\n          }\n          variant=\"large\"\n          onClose={() => navigate(RouteUrls.Swap)}\n        />\n      }\n    >\n      <SwapAssetList assets={swappableAssetsQuote} type=\"quote\" />\n    </Sheet>\n  );\n}\n","import { useLocation, useNavigate } from 'react-router-dom';\n\nimport { styled } from 'leather-styles/jsx';\nimport get from 'lodash.get';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { GenericError, GenericErrorListItem } from '@app/components/generic-error/generic-error';\n\nconst helpTextList = [\n  <GenericErrorListItem\n    key={1}\n    text={<styled.span textStyle=\"label.02\">Please report issue to swap protocol</styled.span>}\n  />,\n];\n\nexport function SwapError() {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const message = get(location.state, 'message') as string;\n  const title = get(location.state, 'title') as string;\n\n  return (\n    <GenericError\n      body={message}\n      helpTextList={helpTextList}\n      mb=\"space.06\"\n      onClose={() => navigate(RouteUrls.Home)}\n      title={title}\n    />\n  );\n}\n","import { SwapSelectors } from '@tests/selectors/swap.selectors';\nimport { HStack, styled } from 'leather-styles/jsx';\n\nimport { Flag } from '@leather.io/ui';\n\ninterface SwapAssetItemLayoutProps {\n  caption: string;\n  icon: string;\n  symbol: string;\n  value: string;\n}\nexport function SwapAssetItemLayout({ caption, icon, symbol, value }: SwapAssetItemLayoutProps) {\n  return (\n    <Flag\n      img={<styled.img src={icon} borderRadius=\"50%\" width=\"48px\" height=\"48px\" alt=\"Swap asset\" />}\n      spacing=\"space.03\"\n      width=\"100%\"\n    >\n      <styled.span color=\"ink.text-subdued\" textStyle=\"caption.01\">\n        {caption}\n      </styled.span>\n      <HStack alignItems=\"center\" justifyContent=\"space-between\">\n        <styled.span data-testid={SwapSelectors.SwapDetailsSymbol} textStyle=\"heading.05\">\n          {symbol}\n        </styled.span>\n        <styled.span data-testid={SwapSelectors.SwapDetailsAmount} textStyle=\"heading.05\">\n          {value}\n        </styled.span>\n      </HStack>\n    </Flag>\n  );\n}\n","import { Box, Stack } from 'leather-styles/jsx';\n\nimport { ArrowDownIcon } from '@leather.io/ui';\n\ninterface SwapAssetsPairLayoutProps {\n  swapAssetBase: React.JSX.Element;\n  swapAssetQuote: React.JSX.Element;\n}\nexport function SwapAssetsPairLayout({ swapAssetBase, swapAssetQuote }: SwapAssetsPairLayoutProps) {\n  return (\n    <Stack\n      border=\"default\"\n      borderRadius=\"sm\"\n      gap=\"space.01\"\n      mb=\"space.05\"\n      mt=\"space.04\"\n      p=\"space.04\"\n      width=\"100%\"\n    >\n      {swapAssetBase}\n      <Box height=\"24px\" px=\"space.04\" py=\"space.01\" width=\"48px\">\n        <ArrowDownIcon variant=\"small\" />\n      </Box>\n      {swapAssetQuote}\n    </Stack>\n  );\n}\n","import { useNavigate } from 'react-router-dom';\n\nimport { useFormikContext } from 'formik';\n\nimport { isUndefined } from '@leather.io/utils';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { SwapFormValues } from '../../hooks/use-swap-form';\nimport { SwapAssetItemLayout } from './swap-asset-item.layout';\nimport { SwapAssetsPairLayout } from './swap-assets-pair.layout';\n\nexport function SwapAssetsPair() {\n  const {\n    values: { swapAmountBase, swapAmountQuote, swapAssetBase, swapAssetQuote },\n  } = useFormikContext<SwapFormValues>();\n  const navigate = useNavigate();\n\n  if (isUndefined(swapAssetBase) || isUndefined(swapAssetQuote)) {\n    navigate(RouteUrls.Swap, { replace: true });\n    return null;\n  }\n\n  return (\n    <SwapAssetsPairLayout\n      swapAssetBase={\n        <SwapAssetItemLayout\n          caption=\"You will swap\"\n          icon={swapAssetBase.icon}\n          symbol={swapAssetBase.name}\n          value={swapAmountBase}\n        />\n      }\n      swapAssetQuote={\n        <SwapAssetItemLayout\n          caption=\"You will receive\"\n          icon={swapAssetQuote.icon}\n          symbol={swapAssetQuote.name}\n          value={swapAmountQuote}\n        />\n      }\n    />\n  );\n}\n","import { ReactNode } from 'react';\n\nimport { Box, HStack, styled } from 'leather-styles/jsx';\n\nimport { InfoCircleIcon } from '@leather.io/ui';\n\nimport { BasicTooltip } from '@app/ui/components/tooltip/basic-tooltip';\n\ninterface SwapDetailLayoutProps {\n  dataTestId?: string;\n  title: string;\n  tooltipLabel?: string;\n  value: ReactNode;\n}\nexport function SwapDetailLayout({\n  dataTestId,\n  title,\n  tooltipLabel,\n  value,\n}: SwapDetailLayoutProps) {\n  return (\n    <HStack alignItems=\"center\" justifyContent=\"space-between\" width=\"100%\">\n      <HStack alignItems=\"center\" gap=\"space.01\">\n        <styled.span color=\"ink.text-subdued\" textStyle=\"body.02\">\n          {title}\n        </styled.span>\n        {tooltipLabel ? (\n          <BasicTooltip label={tooltipLabel} side=\"bottom\">\n            <Box _hover={{ cursor: 'pointer' }} color=\"ink.text-subdued\">\n              <InfoCircleIcon variant=\"small\" />\n            </Box>\n          </BasicTooltip>\n        ) : null}\n      </HStack>\n      <styled.span data-testid={dataTestId} textStyle=\"label.02\">\n        {value}\n      </styled.span>\n    </HStack>\n  );\n}\n","import { Stack } from 'leather-styles/jsx';\n\nimport { HasChildren } from '@app/common/has-children';\n\nexport function SwapDetailsLayout({ children }: HasChildren) {\n  return (\n    <Stack alignItems=\"center\" gap=\"space.03\" px=\"space.04\" width=\"100%\">\n      {children}\n    </Stack>\n  );\n}\n","import { SwapSelectors } from '@tests/selectors/swap.selectors';\nimport BigNumber from 'bignumber.js';\nimport { HStack, styled } from 'leather-styles/jsx';\n\nimport { useGetStacksNetworkBlockTimeQuery } from '@leather.io/query';\nimport { ChevronRightIcon } from '@leather.io/ui';\nimport {\n  createMoneyFromDecimal,\n  formatMoneyPadded,\n  isDefined,\n  isUndefined,\n  microStxToStx,\n} from '@leather.io/utils';\n\nimport { getEstimatedConfirmationTime } from '@app/common/transactions/stacks/transaction.utils';\nimport { SwapSubmissionData, useSwapContext } from '@app/pages/swap/swap.context';\nimport { useCurrentNetworkState } from '@app/store/networks/networks.hooks';\n\nimport { toCommaSeparatedWithAnd } from '../../swap.utils';\nimport { SwapDetailLayout } from './swap-detail.layout';\nimport { SwapDetailsLayout } from './swap-details.layout';\n\nfunction RouteNames(props: { swapSubmissionData: SwapSubmissionData }) {\n  return props.swapSubmissionData.router.map((route, i) => {\n    const insertIcon = isDefined(props.swapSubmissionData.router[i + 1]);\n    return (\n      <HStack gap=\"space.01\" key={route.name}>\n        <styled.span>{route.name}</styled.span>\n        {insertIcon && <ChevronRightIcon variant=\"small\" />}\n      </HStack>\n    );\n  });\n}\n\nconst sponsoredFeeLabel =\n  'Sponsorship may not apply when you have pending transactions. In such cases, if you choose to proceed, the associated costs will be deducted from your balance.';\n\nexport function SwapDetails() {\n  const { swapSubmissionData } = useSwapContext();\n  const { isTestnet } = useCurrentNetworkState();\n  const { data: blockTime } = useGetStacksNetworkBlockTimeQuery();\n\n  if (\n    isUndefined(swapSubmissionData) ||\n    isUndefined(swapSubmissionData.swapAssetBase) ||\n    isUndefined(swapSubmissionData.swapAssetQuote)\n  )\n    return null;\n\n  const formattedMinToReceive = formatMoneyPadded(\n    createMoneyFromDecimal(\n      new BigNumber(swapSubmissionData.swapAmountQuote).times(1 - swapSubmissionData.slippage),\n      swapSubmissionData.swapAssetQuote.balance.symbol,\n      swapSubmissionData.swapAssetQuote.balance.decimals\n    )\n  );\n\n  const getFormattedPoweredBy = () => {\n    const uniqueDexList = Array.from(new Set(swapSubmissionData.dexPath));\n    const isOnlySwapProtocol =\n      uniqueDexList.length === 1 && uniqueDexList[0] === swapSubmissionData.protocol;\n    return isOnlySwapProtocol || !uniqueDexList.length\n      ? swapSubmissionData.protocol\n      : `${toCommaSeparatedWithAnd(uniqueDexList)} via ${swapSubmissionData.protocol}`;\n  };\n\n  return (\n    <SwapDetailsLayout>\n      <SwapDetailLayout\n        dataTestId={SwapSelectors.SwapDetailsProtocol}\n        title=\"Powered by\"\n        value={getFormattedPoweredBy()}\n      />\n      <SwapDetailLayout\n        title=\"Route\"\n        value={\n          <HStack gap=\"space.01\">\n            <RouteNames swapSubmissionData={swapSubmissionData} />\n          </HStack>\n        }\n      />\n      <SwapDetailLayout title=\"Min to receive\" value={formattedMinToReceive} />\n      <SwapDetailLayout\n        title=\"Slippage tolerance\"\n        value={`${swapSubmissionData.slippage * 100}%`}\n      />\n      <SwapDetailLayout\n        title=\"Liquidity provider fee\"\n        value={`${swapSubmissionData.liquidityFee.toFixed(1)}%`}\n      />\n      <SwapDetailLayout\n        title=\"Transaction fees\"\n        tooltipLabel={swapSubmissionData.sponsored ? sponsoredFeeLabel : undefined}\n        value={\n          swapSubmissionData.sponsored\n            ? 'Sponsored'\n            : `${microStxToStx(swapSubmissionData.fee).toString()} STX`\n        }\n      />\n      <SwapDetailLayout\n        title=\"Estimated confirmation time\"\n        value={getEstimatedConfirmationTime(isTestnet, blockTime)}\n      />\n      <SwapDetailLayout title=\"Nonce\" value={swapSubmissionData.nonce?.toString() ?? 'Unknown'} />\n    </SwapDetailsLayout>\n  );\n}\n","import { Outlet } from 'react-router-dom';\n\nimport { SwapSelectors } from '@tests/selectors/swap.selectors';\n\nimport { Button } from '@leather.io/ui';\n\nimport { LoadingKeys, useLoading } from '@app/common/hooks/use-loading';\nimport { Card } from '@app/components/layout';\n\nimport { useSwapContext } from '../swap.context';\nimport { SwapAssetsPair } from './swap-assets-pair/swap-assets-pair';\nimport { SwapDetails } from './swap-details/swap-details';\n\nexport function SwapReview() {\n  const { onSubmitSwap } = useSwapContext();\n  const { isLoading } = useLoading(LoadingKeys.SUBMIT_SWAP_TRANSACTION);\n\n  return (\n    <>\n      <Card\n        dataTestId={SwapSelectors.SwapPageReady}\n        footer={\n          <Button\n            aria-busy={isLoading}\n            disabled={isLoading}\n            data-testid={SwapSelectors.SwapSubmitBtn}\n            type=\"button\"\n            onClick={onSubmitSwap}\n            fullWidth\n          >\n            Swap\n          </Button>\n        }\n      >\n        <SwapAssetsPair />\n        <SwapDetails />\n      </Card>\n      <Outlet />\n    </>\n  );\n}\n","import { ChangeEvent } from 'react';\n\nimport { SwapSelectors } from '@tests/selectors/swap.selectors';\nimport BigNumber from 'bignumber.js';\nimport { useField, useFormikContext } from 'formik';\nimport { Stack, styled } from 'leather-styles/jsx';\n\nimport {\n  convertAmountToFractionalUnit,\n  createMoney,\n  formatMoneyWithoutSymbol,\n  isDefined,\n  isUndefined,\n} from '@leather.io/utils';\n\nimport { useShowFieldError } from '@app/common/form-utils';\n\nimport { SwapFormValues } from '../../../hooks/use-swap-form';\nimport { useSwapContext } from '../../../swap.context';\n\nfunction getPlaceholderValue(name: string, values: SwapFormValues) {\n  if (name === 'swapAmountBase' && isDefined(values.swapAssetBase)) return '0';\n  if (name === 'swapAmountQuote' && isDefined(values.swapAssetQuote)) return '0';\n  return '-';\n}\n\ninterface SwapAmountFieldProps {\n  amountAsFiat?: string;\n  isDisabled?: boolean;\n  name: string;\n}\nexport function SwapAmountField({ amountAsFiat, isDisabled, name }: SwapAmountFieldProps) {\n  const { fetchQuoteAmount, isFetchingExchangeRate, onSetIsSendingMax } = useSwapContext();\n  const { setFieldError, setFieldValue, values } = useFormikContext<SwapFormValues>();\n  const [field] = useField(name);\n  const showError = useShowFieldError(name) && name === 'swapAmountBase' && values.swapAssetQuote;\n\n  async function onBlur(event: ChangeEvent<HTMLInputElement>) {\n    const { swapAssetBase, swapAssetQuote } = values;\n    if (isUndefined(swapAssetBase) || isUndefined(swapAssetQuote)) return;\n    onSetIsSendingMax(false);\n    const value = event.currentTarget.value;\n    const toAmount = await fetchQuoteAmount(swapAssetBase, swapAssetQuote, value);\n    if (isUndefined(toAmount)) {\n      await setFieldValue('swapAmountQuote', '');\n      return;\n    }\n    const toAmountAsMoney = createMoney(\n      convertAmountToFractionalUnit(\n        new BigNumber(toAmount),\n        values.swapAssetQuote?.balance.decimals\n      ),\n      values.swapAssetQuote?.balance.symbol ?? '',\n      values.swapAssetQuote?.balance.decimals\n    );\n    await setFieldValue('swapAmountQuote', formatMoneyWithoutSymbol(toAmountAsMoney));\n    setFieldError('swapAmountQuote', undefined);\n  }\n\n  return (\n    <Stack alignItems=\"flex-end\" gap=\"space.01\" width={['50%', '60%']}>\n      <styled.input\n        _disabled={{\n          color: 'ink.text-subdued',\n        }}\n        autoComplete=\"off\"\n        bg=\"ink.background-primary\"\n        border=\"none\"\n        color={showError ? 'red.action-primary-default' : 'ink.text-primary'}\n        data-testid={SwapSelectors.SwapAmountInput}\n        display=\"block\"\n        disabled={isDisabled || isFetchingExchangeRate}\n        id={name}\n        maxLength={15}\n        p=\"0px\"\n        placeholder={getPlaceholderValue(name, values)}\n        ring=\"none\"\n        textAlign=\"right\"\n        textStyle=\"heading.05\"\n        width=\"100%\"\n        {...field}\n        onBlur={async e => {\n          field.onBlur(e);\n          await onBlur(e);\n        }}\n      />\n      {amountAsFiat ? (\n        <styled.span color={showError ? 'error' : 'ink.text-subdued'} textStyle=\"caption.01\">\n          {amountAsFiat}\n        </styled.span>\n      ) : null}\n    </Stack>\n  );\n}\n","import { SwapSelectors } from '@tests/selectors/swap.selectors';\nimport { useField } from 'formik';\nimport { HStack, styled } from 'leather-styles/jsx';\n\nimport {\n  Avatar,\n  Button,\n  ChevronDownIcon,\n  defaultFallbackDelay,\n  getAvatarFallback,\n} from '@leather.io/ui';\n\ninterface SelectAssetTriggerButtonProps {\n  icon?: string;\n  name: string;\n  onSelectAsset(): void;\n  symbol: string;\n}\nexport function SelectAssetTriggerButton({\n  icon,\n  name,\n  onSelectAsset,\n  symbol,\n}: SelectAssetTriggerButtonProps) {\n  const [field] = useField(name);\n  const fallback = getAvatarFallback(symbol);\n\n  return (\n    <Button\n      data-testid={SwapSelectors.SelectAssetTriggerBtn}\n      onClick={onSelectAsset}\n      p=\"space.02\"\n      variant=\"ghost\"\n      {...field}\n    >\n      <HStack>\n        {icon && (\n          <Avatar.Root>\n            <Avatar.Image alt={fallback} src={icon} />\n            <Avatar.Fallback delayMs={defaultFallbackDelay}>{fallback}</Avatar.Fallback>\n          </Avatar.Root>\n        )}\n        <styled.span textStyle=\"label.01\">{symbol}</styled.span>\n        <ChevronDownIcon variant=\"small\" />\n      </HStack>\n    </Button>\n  );\n}\n","import { Box, HStack, styled } from 'leather-styles/jsx';\n\ninterface SwapAssetSelectedProps {\n  contentLeft: React.JSX.Element;\n  contentRight: React.JSX.Element;\n  name: string;\n  showError?: boolean;\n}\nexport function SwapAssetSelected({\n  contentLeft,\n  contentRight,\n  name,\n  showError,\n}: SwapAssetSelectedProps) {\n  return (\n    <styled.label\n      _focusWithin={{ border: 'action' }}\n      alignItems=\"center\"\n      border={showError ? 'error' : 'default'}\n      borderRadius=\"sm\"\n      display=\"flex\"\n      height=\"76px\"\n      htmlFor={name}\n      mb=\"space.02\"\n      minHeight=\"64px\"\n      px=\"space.04\"\n      width=\"100%\"\n    >\n      <Box width=\"100%\">\n        <HStack alignItems=\"center\" justifyContent=\"space-between\">\n          {contentLeft}\n          {contentRight}\n        </HStack>\n      </Box>\n    </styled.label>\n  );\n}\n","import { useNavigate } from 'react-router-dom';\n\nimport { useFormikContext } from 'formik';\nimport { styled } from 'leather-styles/jsx';\n\nimport { ArrowsRepeatLeftRightIcon } from '@leather.io/ui';\nimport { isDefined, isUndefined } from '@leather.io/utils';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { SwapFormValues } from '../../../hooks/use-swap-form';\nimport { useSwapContext } from '../../../swap.context';\n\nexport function SwapToggleButton() {\n  const { fetchQuoteAmount, isFetchingExchangeRate, onSetIsSendingMax } = useSwapContext();\n  const { setFieldValue, values } = useFormikContext<SwapFormValues>();\n  const navigate = useNavigate();\n\n  async function onToggleSwapAssets() {\n    onSetIsSendingMax(false);\n\n    const prevAmountBase = values.swapAmountBase;\n    const prevAmountQuote = values.swapAmountQuote;\n    const prevAssetBase = values.swapAssetBase;\n    const prevAssetQuote = values.swapAssetQuote;\n\n    void setFieldValue('swapAssetBase', prevAssetQuote);\n    void setFieldValue('swapAssetQuote', prevAssetBase);\n    void setFieldValue('swapAmountBase', prevAmountQuote);\n\n    if (isDefined(prevAssetBase) && isDefined(prevAssetQuote)) {\n      const quoteAmount = await fetchQuoteAmount(prevAssetQuote, prevAssetBase, prevAmountQuote);\n      if (isUndefined(quoteAmount)) {\n        void setFieldValue('swapAmountQuote', '');\n        return;\n      }\n      void setFieldValue('swapAmountQuote', Number(quoteAmount));\n    } else {\n      void setFieldValue('swapAmountQuote', Number(prevAmountBase));\n    }\n    navigate(\n      RouteUrls.Swap.replace(':base', prevAssetQuote?.name ?? '').replace(\n        ':quote',\n        prevAssetBase?.name ?? ''\n      )\n    );\n  }\n\n  return (\n    <styled.button\n      alignSelf=\"flex-start\"\n      disabled={isUndefined(values.swapAssetQuote) || isFetchingExchangeRate}\n      onClick={onToggleSwapAssets}\n      type=\"button\"\n    >\n      <ArrowsRepeatLeftRightIcon transform=\"rotate(90)\" variant=\"small\" />\n    </styled.button>\n  );\n}\n","import { Box, HStack, styled } from 'leather-styles/jsx';\n\nimport { Link } from '@leather.io/ui';\nimport { noop } from '@leather.io/utils';\n\nimport { BasicTooltip } from '@app/ui/components/tooltip/basic-tooltip';\n\nimport { SelectAssetTriggerButton } from './select-asset-trigger-button';\nimport { SwapAssetSelected } from './swap-asset-selected';\nimport { SwapToggleButton } from './swap-toggle-button';\n\nfunction getTextColor(showError?: boolean, onClickHandler?: boolean) {\n  if (showError) return 'red.action-primary-default';\n  if (onClickHandler) return 'ink.text-primary';\n  return 'ink.text-subdued';\n}\n\ninterface SwapAssetSelectLayoutProps {\n  caption?: string;\n  error?: string;\n  icon?: string;\n  name: string;\n  onSelectAsset(): void;\n  onClickHandler?(): void;\n  showError?: boolean;\n  showToggle?: boolean;\n  swapAmountInput: React.JSX.Element;\n  symbol: string;\n  title: string;\n  tooltipLabel?: string;\n  value: string;\n}\nexport function SwapAssetSelectLayout({\n  caption,\n  error,\n  icon,\n  name,\n  onSelectAsset,\n  onClickHandler,\n  showError,\n  showToggle,\n  swapAmountInput,\n  symbol,\n  title,\n  tooltipLabel,\n  value,\n}: SwapAssetSelectLayoutProps) {\n  const captionTextColor = getTextColor(showError);\n\n  return (\n    <Box width=\"100%\">\n      <HStack\n        alignItems=\"center\"\n        justifyContent=\"space-between\"\n        mb=\"space.02\"\n        mt={showToggle ? 'space.06' : 'space.04'}\n      >\n        <styled.span textStyle=\"label.01\">{title}</styled.span>\n        {showToggle && <SwapToggleButton />}\n      </HStack>\n      <SwapAssetSelected\n        contentLeft={\n          <SelectAssetTriggerButton\n            icon={icon}\n            name={name}\n            onSelectAsset={onSelectAsset}\n            symbol={symbol}\n          />\n        }\n        contentRight={swapAmountInput}\n        name={name}\n        showError={showError}\n      />\n      {caption ? (\n        <HStack alignItems=\"center\" justifyContent=\"space-between\">\n          <BasicTooltip label={tooltipLabel} side=\"bottom\">\n            <styled.span\n              color={captionTextColor}\n              cursor={tooltipLabel ? 'pointer' : 'unset'}\n              textStyle=\"caption.01\"\n            >\n              {showError ? error : caption}\n            </styled.span>\n          </BasicTooltip>\n          <Link\n            _focus={{ _before: { color: 'unset' } }}\n            cursor={onClickHandler ? 'pointer' : 'unset'}\n            onClick={onClickHandler ? onClickHandler : noop}\n            variant={onClickHandler ? 'underlined' : 'text'}\n          >\n            <styled.span textStyle=\"caption.01\">{value}</styled.span>\n          </Link>\n        </HStack>\n      ) : null}\n    </Box>\n  );\n}\n","import BigNumber from 'bignumber.js';\nimport { useField, useFormikContext } from 'formik';\n\nimport {\n  convertAmountToFractionalUnit,\n  createMoney,\n  formatMoneyWithoutSymbol,\n  i18nFormatCurrency,\n  isDefined,\n  isMoneyGreaterThanZero,\n  isUndefined,\n} from '@leather.io/utils';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { useShowFieldError } from '@app/common/form-utils';\n\nimport { SwapFormValues } from '../../hooks/use-swap-form';\nimport { useSwapNavigate } from '../../hooks/use-swap-navigate';\nimport { useSwapContext } from '../../swap.context';\nimport { convertInputAmountValueToFiat } from '../../swap.utils';\nimport { SwapAmountField } from './components/swap-amount-field';\nimport { SwapAssetSelectLayout } from './components/swap-asset-select.layout';\n\nconst availableBalanceCaption = 'Available balance';\nconst maxAvailableTooltip =\n  'Amount of funds that are immediately available for use, after taking into account any pending transactions or holds placed on your account by the protocol.';\nconst sendingMaxTooltip = 'When sending max, this amount is affected by the fee you choose.';\n\nexport function SwapAssetSelectBase() {\n  const { fetchQuoteAmount, isFetchingExchangeRate, isSendingMax, onSetIsSendingMax } =\n    useSwapContext();\n  const { setFieldValue, setFieldError, values } = useFormikContext<SwapFormValues>();\n  const [amountField, amountFieldMeta, amountFieldHelpers] = useField('swapAmountBase');\n  const showError = useShowFieldError('swapAmountBase');\n  const [assetField] = useField('swapAssetBase');\n  const navigate = useSwapNavigate();\n\n  const amountAsFiat =\n    isDefined(assetField.value && amountField.value) &&\n    convertInputAmountValueToFiat(\n      assetField.value.balance,\n      assetField.value.marketData,\n      amountField.value\n    );\n  const formattedBalance = formatMoneyWithoutSymbol(assetField.value.balance);\n  const isSwapAssetBaseBalanceGreaterThanZero =\n    values.swapAssetBase?.balance.amount.isGreaterThan(0);\n\n  async function onSetMaxBalanceAsAmountToSwap() {\n    const { swapAssetBase, swapAssetQuote } = values;\n    if (isFetchingExchangeRate || isUndefined(swapAssetBase)) return;\n    onSetIsSendingMax(!isSendingMax);\n    await amountFieldHelpers.setValue(Number(formattedBalance));\n    await amountFieldHelpers.setTouched(true);\n    if (isUndefined(swapAssetQuote)) return;\n    const toAmount = await fetchQuoteAmount(swapAssetBase, swapAssetQuote, formattedBalance);\n    if (isUndefined(toAmount)) {\n      await setFieldValue('swapAmountQuote', '');\n      return;\n    }\n    const toAmountAsMoney = createMoney(\n      convertAmountToFractionalUnit(\n        new BigNumber(toAmount),\n        values.swapAssetQuote?.balance.decimals\n      ),\n      values.swapAssetQuote?.balance.symbol ?? '',\n      values.swapAssetQuote?.balance.decimals\n    );\n    await setFieldValue('swapAmountQuote', formatMoneyWithoutSymbol(toAmountAsMoney));\n    setFieldError('swapAmountQuote', undefined);\n  }\n\n  return (\n    <SwapAssetSelectLayout\n      caption={availableBalanceCaption}\n      error={amountFieldMeta.error}\n      icon={assetField.value.icon}\n      name=\"swapAmountBase\"\n      onSelectAsset={() => navigate(RouteUrls.SwapAssetSelectBase)}\n      onClickHandler={onSetMaxBalanceAsAmountToSwap}\n      showError={!!(showError && values.swapAssetQuote)}\n      swapAmountInput={\n        <SwapAmountField\n          amountAsFiat={\n            amountAsFiat && isMoneyGreaterThanZero(amountAsFiat)\n              ? i18nFormatCurrency(amountAsFiat)\n              : ''\n          }\n          isDisabled={!isSwapAssetBaseBalanceGreaterThanZero}\n          name=\"swapAmountBase\"\n        />\n      }\n      symbol={assetField.value.name}\n      title=\"You pay\"\n      tooltipLabel={isSendingMax ? sendingMaxTooltip : maxAvailableTooltip}\n      value={formattedBalance}\n    />\n  );\n}\n","import { useField } from 'formik';\n\nimport {\n  formatMoneyWithoutSymbol,\n  i18nFormatCurrency,\n  isDefined,\n  isMoneyGreaterThanZero,\n} from '@leather.io/utils';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { LoadingSpinner } from '@app/components/loading-spinner';\n\nimport { useSwapNavigate } from '../../hooks/use-swap-navigate';\nimport { useSwapContext } from '../../swap.context';\nimport { convertInputAmountValueToFiat } from '../../swap.utils';\nimport { SwapAmountField } from './components/swap-amount-field';\nimport { SwapAssetSelectLayout } from './components/swap-asset-select.layout';\n\nexport function SwapAssetSelectQuote() {\n  const { isFetchingExchangeRate } = useSwapContext();\n  const [amountField] = useField('swapAmountQuote');\n  const [assetField] = useField('swapAssetQuote');\n  const navigate = useSwapNavigate();\n\n  const amountAsFiat =\n    isDefined(assetField.value && amountField.value) &&\n    convertInputAmountValueToFiat(\n      assetField.value.balance,\n      assetField.value.marketData,\n      amountField.value\n    );\n\n  return (\n    <SwapAssetSelectLayout\n      caption=\"You have\"\n      icon={assetField.value?.icon}\n      name=\"swapAmountQuote\"\n      onSelectAsset={() => navigate(RouteUrls.SwapAssetSelectQuote)}\n      showToggle\n      swapAmountInput={\n        isFetchingExchangeRate ? (\n          <LoadingSpinner justifyContent=\"flex-end\" size=\"sm\" />\n        ) : (\n          <SwapAmountField\n            amountAsFiat={\n              amountAsFiat && isMoneyGreaterThanZero(amountAsFiat)\n                ? i18nFormatCurrency(amountAsFiat)\n                : ''\n            }\n            isDisabled\n            name=\"swapAmountQuote\"\n          />\n        )\n      }\n      symbol={assetField.value?.name ?? 'Select asset'}\n      title=\"You receive\"\n      value={assetField.value?.balance ? formatMoneyWithoutSymbol(assetField.value?.balance) : '0'}\n    />\n  );\n}\n","import { useEffect } from 'react';\nimport { Outlet, useParams } from 'react-router-dom';\n\nimport { SwapSelectors } from '@tests/selectors/swap.selectors';\nimport { useFormikContext } from 'formik';\n\nimport { Button } from '@leather.io/ui';\nimport { isUndefined } from '@leather.io/utils';\n\nimport { Card } from '@app/components/layout';\nimport { LoadingSpinner } from '@app/components/loading-spinner';\n\nimport { SwapAssetSelectBase } from './components/swap-asset-select/swap-asset-select-base';\nimport { SwapAssetSelectQuote } from './components/swap-asset-select/swap-asset-select-quote';\nimport { SwapFormValues } from './hooks/use-swap-form';\nimport { useSwapContext } from './swap.context';\n\nexport function Swap() {\n  const {\n    isFetchingExchangeRate,\n    isPreparingSwapReview,\n    swappableAssetsBase,\n    swappableAssetsQuote,\n  } = useSwapContext();\n  const { dirty, isValid, setFieldValue, values, validateForm } =\n    useFormikContext<SwapFormValues>();\n  const { base, quote } = useParams();\n\n  useEffect(() => {\n    if (base)\n      void setFieldValue(\n        'swapAssetBase',\n        swappableAssetsBase.find(asset => asset.name === base)\n      );\n    if (quote)\n      void setFieldValue(\n        'swapAssetQuote',\n        swappableAssetsQuote.find(asset => asset.name === quote)\n      );\n    void validateForm();\n  }, [\n    base,\n    quote,\n    setFieldValue,\n    swappableAssetsBase,\n    swappableAssetsQuote,\n    validateForm,\n    values.swapAssetBase,\n  ]);\n\n  if (isUndefined(values.swapAssetBase)) return <LoadingSpinner height=\"300px\" />;\n\n  return (\n    <Card\n      dataTestId={SwapSelectors.SwapPageReady}\n      footer={\n        <Button\n          data-testid={SwapSelectors.SwapReviewBtn}\n          aria-busy={isPreparingSwapReview}\n          disabled={!(dirty && isValid) || isFetchingExchangeRate || isPreparingSwapReview}\n          type=\"submit\"\n          fullWidth\n        >\n          Review and swap\n        </Button>\n      }\n    >\n      <SwapAssetSelectBase />\n      <SwapAssetSelectQuote />\n\n      <Outlet />\n    </Card>\n  );\n}\n","import { Route } from 'react-router-dom';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { ledgerStacksTxSigningRoutes } from '@app/features/ledger/flows/stacks-tx-signing/ledger-sign-stacks-tx-container';\nimport { AccountGate } from '@app/routes/account-gate';\n\nimport { SwapAssetSheetBase } from './components/swap-asset-dialog/swap-asset-dialog-base';\nimport { SwapAssetSheetQuote } from './components/swap-asset-dialog/swap-asset-dialog-quote';\nimport { SwapError } from './components/swap-error';\nimport { SwapReview } from './components/swap-review';\nimport { Swap } from './swap';\n\nexport function generateSwapRoutes(container: React.ReactNode) {\n  return (\n    <Route element={<AccountGate>{container}</AccountGate>}>\n      <Route path={RouteUrls.Swap} element={<Swap />}>\n        <Route path={RouteUrls.SwapAssetSelectBase} element={<SwapAssetSheetBase />} />\n        <Route path={RouteUrls.SwapAssetSelectQuote} element={<SwapAssetSheetQuote />} />\n      </Route>\n      <Route path={RouteUrls.SwapError} element={<SwapError />} />\n      <Route path={RouteUrls.SwapReview} element={<SwapReview />}>\n        {ledgerStacksTxSigningRoutes}\n      </Route>\n    </Route>\n  );\n}\n","import { useState } from 'react';\n\nimport type { RouteQuote } from 'bitflow-sdk';\n\nimport { type SwapAsset } from '@leather.io/query';\n\nimport { logger } from '@shared/logger';\nimport { bitflow } from '@shared/utils/bitflow-sdk';\n\nimport { useCurrentStacksAccountAddress } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\nimport { SwapSubmissionData } from '../swap.context';\nimport { useBitflowSwappableAssets } from './use-bitflow-swappable-assets';\n\nexport function useBitflowSwap() {\n  const [swapSubmissionData, setSwapSubmissionData] = useState<SwapSubmissionData>();\n  const [slippage, _setSlippage] = useState(0.04);\n  const [isFetchingExchangeRate, setIsFetchingExchangeRate] = useState(false);\n  const address = useCurrentStacksAccountAddress();\n  const { data: swapAssets = [] } = useBitflowSwappableAssets(address);\n\n  async function fetchRouteQuote(\n    base: SwapAsset,\n    quote: SwapAsset,\n    baseAmount: string\n  ): Promise<RouteQuote | undefined> {\n    if (!baseAmount || !base || !quote) return;\n    try {\n      const result = await bitflow.getQuoteForRoute(\n        base.currency,\n        quote.currency,\n        Number(baseAmount)\n      );\n      if (!result.bestRoute) {\n        logger.error('No swap route found');\n        return;\n      }\n      return result.bestRoute;\n    } catch (e) {\n      logger.error('Error fetching exchange rate from Bitflow', e);\n      return;\n    }\n  }\n\n  async function fetchQuoteAmount(\n    base: SwapAsset,\n    quote: SwapAsset,\n    baseAmount: string\n  ): Promise<string | undefined> {\n    setIsFetchingExchangeRate(true);\n    const routeQuote = await fetchRouteQuote(base, quote, baseAmount);\n    setIsFetchingExchangeRate(false);\n    if (!routeQuote) return;\n    return String(routeQuote.quote);\n  }\n\n  return {\n    fetchRouteQuote,\n    fetchQuoteAmount,\n    isFetchingExchangeRate,\n    onSetIsFetchingExchangeRate: (value: boolean) => setIsFetchingExchangeRate(value),\n    onSetSwapSubmissionData: (value: SwapSubmissionData) => setSwapSubmissionData(value),\n    slippage,\n    swapAssets,\n    swapSubmissionData,\n  };\n}\n","import { useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { StacksTransaction } from '@stacks/transactions';\n\nimport { isError, isString } from '@leather.io/utils';\n\nimport { logger } from '@shared/logger';\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { LoadingKeys, useLoading } from '@app/common/hooks/use-loading';\nimport { useSubmitTransactionCallback } from '@app/common/hooks/use-submit-stx-transaction';\nimport { useToast } from '@app/features/toasts/use-toast';\n\nexport function useStacksBroadcastSwap() {\n  const { setIsIdle } = useLoading(LoadingKeys.SUBMIT_SWAP_TRANSACTION);\n  const navigate = useNavigate();\n  const toast = useToast();\n\n  const broadcastTransactionFn = useSubmitTransactionCallback({\n    loadingKey: LoadingKeys.SUBMIT_SWAP_TRANSACTION,\n  });\n\n  return useCallback(\n    async (signedTx: StacksTransaction) => {\n      if (!signedTx) {\n        logger.error('Cannot broadcast transaction, no tx in state');\n        toast.error('Unable to broadcast transaction');\n        return;\n      }\n      try {\n        await broadcastTransactionFn({\n          onError(e: Error | string) {\n            setIsIdle();\n            const message = isString(e) ? e : e.message;\n            navigate(RouteUrls.TransactionBroadcastError, { state: { message } });\n          },\n          onSuccess() {\n            toast.success('Transaction submitted!');\n            setIsIdle();\n            navigate(RouteUrls.Activity);\n          },\n          replaceByFee: false,\n        })(signedTx);\n      } catch (e) {\n        setIsIdle();\n        navigate(RouteUrls.TransactionBroadcastError, {\n          state: { message: isError(e) ? e.message : 'Unknown error' },\n        });\n      } finally {\n        setIsIdle();\n      }\n    },\n    [toast, broadcastTransactionFn, setIsIdle, navigate]\n  );\n}\n","import { useState } from 'react';\nimport { Outlet, useNavigate } from 'react-router-dom';\n\nimport { bytesToHex } from '@stacks/common';\nimport { type ContractCallPayload, TransactionTypes } from '@stacks/connect';\nimport {\n  AnchorMode,\n  PostConditionMode,\n  serializeCV,\n  serializePostCondition,\n} from '@stacks/transactions';\n\nimport { defaultSwapFee } from '@leather.io/query';\nimport { isDefined, isError, isUndefined } from '@leather.io/utils';\n\nimport { logger } from '@shared/logger';\nimport { RouteUrls } from '@shared/route-urls';\nimport { bitflow } from '@shared/utils/bitflow-sdk';\n\nimport { migratePositiveAssetBalancesToTop } from '@app/common/asset-utils';\nimport { LoadingKeys, useLoading } from '@app/common/hooks/use-loading';\nimport { Content, Page } from '@app/components/layout';\nimport { PageHeader } from '@app/features/container/headers/page.header';\nimport { useCurrentStacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { useGenerateStacksContractCallUnsignedTx } from '@app/store/transactions/contract-call.hooks';\nimport { useSignStacksTransaction } from '@app/store/transactions/transaction.hooks';\n\nimport { estimateLiquidityFee, formatDexPathItem } from './bitflow-swap.utils';\nimport { SwapForm } from './components/swap-form';\nimport { generateSwapRoutes } from './generate-swap-routes';\nimport { useBitflowSwap } from './hooks/use-bitflow-swap';\nimport { useStacksBroadcastSwap } from './hooks/use-stacks-broadcast-swap';\nimport { SwapFormValues } from './hooks/use-swap-form';\nimport { useSwapNavigate } from './hooks/use-swap-navigate';\nimport { SwapContext, SwapProvider } from './swap.context';\n\nexport const bitflowSwapRoutes = generateSwapRoutes(<BitflowSwapContainer />);\n\nfunction BitflowSwapContainer() {\n  const [isSendingMax, setIsSendingMax] = useState(false);\n  const navigate = useNavigate();\n  const swapNavigate = useSwapNavigate();\n  const { setIsLoading, setIsIdle, isLoading } = useLoading(LoadingKeys.SUBMIT_SWAP_TRANSACTION);\n  const currentAccount = useCurrentStacksAccount();\n  const generateUnsignedTx = useGenerateStacksContractCallUnsignedTx();\n  const signTx = useSignStacksTransaction();\n  const broadcastStacksSwap = useStacksBroadcastSwap();\n  const [isPreparingSwapReview, setIsPreparingSwapReview] = useState(false);\n  const {\n    fetchRouteQuote,\n    fetchQuoteAmount,\n    isFetchingExchangeRate,\n    onSetIsFetchingExchangeRate,\n    onSetSwapSubmissionData,\n    slippage,\n    swapAssets,\n    swapSubmissionData,\n  } = useBitflowSwap();\n\n  async function onSubmitSwapForReview(values: SwapFormValues) {\n    try {\n      setIsPreparingSwapReview(true);\n      if (isUndefined(values.swapAssetBase) || isUndefined(values.swapAssetQuote)) {\n        logger.error('Error submitting swap for review');\n        return;\n      }\n\n      const routeQuote = await fetchRouteQuote(\n        values.swapAssetBase,\n        values.swapAssetQuote,\n        values.swapAmountBase\n      );\n      if (!routeQuote) return;\n\n      onSetSwapSubmissionData({\n        fee: defaultSwapFee.amount.toString(),\n        feeCurrency: values.feeCurrency,\n        feeType: values.feeType,\n        liquidityFee: estimateLiquidityFee(routeQuote.route.dex_path),\n        nonce: values.nonce,\n        protocol: 'Bitflow',\n        dexPath: routeQuote.route.dex_path.map(formatDexPathItem),\n        router: routeQuote.route.token_path\n          .map(x => swapAssets.find(asset => asset.currency === x))\n          .filter(isDefined),\n        slippage,\n        sponsored: false,\n        swapAmountBase: values.swapAmountBase,\n        swapAmountQuote: values.swapAmountQuote,\n        swapAssetBase: values.swapAssetBase,\n        swapAssetQuote: values.swapAssetQuote,\n        timestamp: new Date().toISOString(),\n      });\n      swapNavigate(RouteUrls.SwapReview);\n    } finally {\n      setIsPreparingSwapReview(false);\n    }\n  }\n\n  async function onSubmitSwap() {\n    if (isLoading) return;\n\n    if (isUndefined(currentAccount) || isUndefined(swapSubmissionData)) {\n      logger.error('Error submitting swap data to sign');\n      return;\n    }\n\n    if (\n      isUndefined(swapSubmissionData.swapAssetBase) ||\n      isUndefined(swapSubmissionData.swapAssetQuote)\n    ) {\n      logger.error('No assets selected to perform swap');\n      return;\n    }\n\n    setIsLoading();\n\n    try {\n      const routeQuote = await fetchRouteQuote(\n        swapSubmissionData.swapAssetBase,\n        swapSubmissionData.swapAssetQuote,\n        swapSubmissionData.swapAmountBase\n      );\n      if (!routeQuote) return;\n\n      const swapExecutionData = {\n        route: routeQuote.route,\n        amount: Number(swapSubmissionData.swapAmountBase),\n        tokenXDecimals: routeQuote.tokenXDecimals,\n        tokenYDecimals: routeQuote.tokenYDecimals,\n      };\n\n      const swapParams = await bitflow.getSwapParams(\n        swapExecutionData,\n        currentAccount.address,\n        swapSubmissionData.slippage\n      );\n\n      const tempFormValues = {\n        fee: swapSubmissionData.fee,\n        feeCurrency: swapSubmissionData.feeCurrency,\n        feeType: swapSubmissionData.feeType,\n        nonce: swapSubmissionData.nonce,\n      };\n\n      const payload: ContractCallPayload = {\n        anchorMode: AnchorMode.Any,\n        contractAddress: swapParams.contractAddress,\n        contractName: swapParams.contractName,\n        functionName: swapParams.functionName,\n        functionArgs: swapParams.functionArgs.map(x => bytesToHex(serializeCV(x))),\n        postConditionMode: PostConditionMode.Deny,\n        postConditions: swapParams.postConditions.map(pc => bytesToHex(serializePostCondition(pc))),\n        publicKey: currentAccount?.stxPublicKey,\n        sponsored: swapSubmissionData.sponsored,\n        txType: TransactionTypes.ContractCall,\n      };\n\n      const unsignedTx = await generateUnsignedTx(payload, tempFormValues);\n      if (!unsignedTx)\n        return logger.error('Attempted to generate unsigned tx, but tx is undefined');\n\n      const signedTx = await signTx(unsignedTx);\n      if (!signedTx)\n        return logger.error('Attempted to generate raw tx, but signed tx is undefined');\n      return await broadcastStacksSwap(signedTx);\n    } catch (e) {\n      navigate(RouteUrls.SwapError, {\n        state: {\n          message: isError(e) ? e.message : '',\n          title: 'Swap Error',\n        },\n      });\n    } finally {\n      setIsIdle();\n    }\n  }\n\n  const swapContextValue: SwapContext = {\n    fetchQuoteAmount,\n    isFetchingExchangeRate,\n    isSendingMax,\n    isPreparingSwapReview,\n    onSetIsFetchingExchangeRate,\n    onSetIsSendingMax: value => setIsSendingMax(value),\n    onSubmitSwapForReview,\n    onSubmitSwap,\n    swappableAssetsBase: migratePositiveAssetBalancesToTop(swapAssets),\n    swappableAssetsQuote: swapAssets,\n    swapSubmissionData,\n  };\n\n  return (\n    <SwapProvider value={swapContextValue}>\n      {/* Swap uses routed dialogs to choose assets so needs onBackLocation to go Home */}\n      <PageHeader title=\"Swap\" onBackLocation={RouteUrls.Home} />\n      <Content>\n        <Page>\n          <SwapForm>\n            <Outlet />\n          </SwapForm>\n        </Page>\n      </Content>\n    </SwapProvider>\n  );\n}\n","import { GenericError, GenericErrorListItem } from '@app/components/generic-error/generic-error';\n\nconst body = `The transaction request was not properly authorized by any of your Leather accounts. This typically happens if you've logged into this app before using another account.`;\n\nconst helpTextList = [\n  <GenericErrorListItem\n    key={1}\n    text=\" Sign out of the app and sign back in to re-authenticate into the application. This should help\n    you successfully sign your transaction with Leather.\"\n  />,\n];\n\nconst title = 'Unauthorized request';\n\nexport function UnauthorizedRequest() {\n  return <GenericError body={body} helpTextList={helpTextList} title={title} />;\n}\n","import { useEffect, useRef } from 'react';\n\nimport { noop } from '@leather.io/utils';\n\nexport function useInterval(callback: () => void, delay: number | null) {\n  const savedCallback = useRef(noop);\n\n  // Remember the latest callback.\n  useEffect(() => {\n    if (savedCallback) {\n      savedCallback.current = callback;\n    }\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      const id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n    return;\n  }, [delay]);\n}\n","import { useMemo, useRef, useState } from 'react';\n\nimport { useInterval } from './use-interval';\n\n// Keys are the seconds to wait before showing the message\nexport type WaitingMessages = Record<number, string>;\n\nfunction messageForSecondsPassed(waitingMessages: WaitingMessages, seconds: number) {\n  return waitingMessages[seconds as keyof typeof waitingMessages];\n}\n\nexport const useWaitingMessage = (\n  waitingMessages: WaitingMessages,\n  { waitingMessageInterval } = {\n    waitingMessageInterval: 1000,\n  }\n): [boolean, string, () => void, () => void] => {\n  const [isRunning, setIsRunning] = useState(false);\n  const [waitingMessage, setWaitingMessage] = useState(messageForSecondsPassed(waitingMessages, 0));\n  const handlers = useMemo(\n    () => ({\n      startWaitingMessage: () => setIsRunning(true),\n      stopWaitingMessage: () => setIsRunning(false),\n    }),\n    []\n  );\n  const secondsPassed = useRef(0);\n\n  useInterval(\n    () => {\n      secondsPassed.current += waitingMessageInterval / 1000;\n      const newMessage = messageForSecondsPassed(waitingMessages, secondsPassed.current);\n      if (newMessage) setWaitingMessage(newMessage);\n    },\n    isRunning ? waitingMessageInterval : null\n  );\n\n  return [isRunning, waitingMessage, handlers.startWaitingMessage, handlers.stopWaitingMessage];\n};\n","import { FormEvent, useCallback, useState } from 'react';\n\nimport { SettingsSelectors } from '@tests/selectors/settings.selectors';\nimport { Box, Stack, styled } from 'leather-styles/jsx';\n\nimport { Button, Logo } from '@leather.io/ui';\n\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useKeyActions } from '@app/common/hooks/use-key-actions';\nimport { buildEnterKeyEvent } from '@app/common/hooks/use-modifier-key';\nimport { WaitingMessages, useWaitingMessage } from '@app/common/hooks/use-waiting-message';\nimport { Card, Page } from '@app/components/layout';\n\nimport { ErrorLabel } from './error-label';\n\nconst waitingMessages: WaitingMessages = {\n  '2': 'Verifying password',\n  '10': 'Still working',\n  '20': 'Almost there',\n};\n\nconst caption =\n  'Your password is used to secure your Secret Key and is only used locally on your device.';\n\ninterface RequestPasswordProps {\n  onSuccess(): void;\n}\nexport function RequestPassword({ onSuccess }: RequestPasswordProps) {\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const { unlockWallet } = useKeyActions();\n\n  const [isRunning, waitingMessage, startWaitingMessage, stopWaitingMessage] =\n    useWaitingMessage(waitingMessages);\n\n  const submit = useCallback(async () => {\n    const startUnlockTimeMs = performance.now();\n    void analytics.track('start_unlock');\n    startWaitingMessage();\n    setError('');\n    try {\n      await unlockWallet(password);\n      onSuccess?.();\n    } catch (error) {\n      setError('The password you entered is invalid');\n    }\n    stopWaitingMessage();\n    const unlockSuccessTimeMs = performance.now();\n    void analytics.track('complete_unlock', {\n      durationMs: unlockSuccessTimeMs - startUnlockTimeMs,\n    });\n  }, [startWaitingMessage, stopWaitingMessage, unlockWallet, password, onSuccess]);\n\n  return (\n    <Page>\n      <Card\n        contentStyle={{\n          p: 'space.00',\n        }}\n        header={\n          <styled.h1 p=\"space.04\" hideBelow=\"sm\">\n            <Box px=\"space.02\">\n              <Logo />\n            </Box>\n          </styled.h1>\n        }\n        footer={\n          <Button\n            data-testid={SettingsSelectors.UnlockWalletBtn}\n            disabled={isRunning || !!error}\n            aria-busy={isRunning}\n            onClick={submit}\n            variant=\"solid\"\n            fullWidth\n          >\n            Continue\n          </Button>\n        }\n      >\n        <Stack gap=\"space.05\" px=\"space.05\" minHeight=\"330px\">\n          <styled.h3 textStyle=\"heading.03\">Enter your password</styled.h3>\n          <styled.p textStyle=\"label.02\">{(isRunning && waitingMessage) || caption}</styled.p>\n          <styled.input\n            _focus={{ border: 'focus' }}\n            autoCapitalize=\"off\"\n            autoComplete=\"off\"\n            autoFocus\n            border=\"active\"\n            borderRadius=\"sm\"\n            data-testid={SettingsSelectors.EnterPasswordInput}\n            height=\"inputHeight\"\n            onChange={(e: FormEvent<HTMLInputElement>) => {\n              setError('');\n              setPassword(e.currentTarget.value);\n            }}\n            onKeyUp={buildEnterKeyEvent(submit)}\n            p=\"space.04\"\n            placeholder=\"Enter your password\"\n            ring=\"none\"\n            type=\"password\"\n            textStyle=\"body.02\"\n            value={password}\n            width=\"100%\"\n          />\n          {error && <ErrorLabel width=\"100%\">{error}</ErrorLabel>}\n        </Stack>\n      </Card>\n    </Page>\n  );\n}\n","import { useNavigate } from 'react-router-dom';\n\nimport { SettingsSelectors } from '@tests/selectors/settings.selectors';\n\nimport { BarsTwoIcon } from '@leather.io/ui';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { Header } from '@app/components/layout/headers/header';\nimport { HeaderGrid, HeaderGridRightCol } from '@app/components/layout/headers/header-grid';\nimport { LogoBox } from '@app/components/layout/headers/logo-box';\nimport { Settings } from '@app/features/settings/settings';\n\nexport function UnlockHeader() {\n  const navigate = useNavigate();\n\n  return (\n    <Header>\n      <HeaderGrid\n        leftCol={\n          <LogoBox onClick={() => navigate(RouteUrls.Home)} hideBelow={undefined} hideFrom=\"sm\" />\n        }\n        rightCol={\n          <HeaderGridRightCol>\n            <Settings\n              canLockWallet={false}\n              triggerButton={<BarsTwoIcon data-testid={SettingsSelectors.SettingsMenuBtn} />}\n            />\n          </HeaderGridRightCol>\n        }\n      />\n    </Header>\n  );\n}\n","import { Outlet, useNavigate } from 'react-router-dom';\n\nimport { Content } from '@app/components/layout';\nimport { RequestPassword } from '@app/components/request-password';\nimport { UnlockHeader } from '@app/features/container/headers/unlock.header';\n\nexport function Unlock() {\n  const navigate = useNavigate();\n  // Here we want to return to the previous route. The user could land on any\n  // page when the wallet is locked, so we can't assume as single route.\n  const returnToPreviousRoute = () => navigate(-1);\n\n  return (\n    <>\n      <UnlockHeader />\n      <Content>\n        <RequestPassword onSuccess={returnToPreviousRoute} />\n        <Outlet />\n      </Content>\n    </>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport { Outlet } from 'react-router-dom';\n\nimport { analytics } from '@shared/utils/analytics';\n\nimport { Content, TwoColumnLayout } from '@app/components/layout';\nimport { RequestPassword } from '@app/components/request-password';\nimport { OnboardingHeader } from '@app/features/container/headers/onboarding.header';\nimport { SecretKey } from '@app/features/secret-key-displayer/secret-key-displayer';\nimport { useDefaultWalletSecretKey } from '@app/store/in-memory-key/in-memory-key.selectors';\n\nexport function ViewSecretKey() {\n  const defaultWalletSecretKey = useDefaultWalletSecretKey();\n  const [showSecretKey, setShowSecretKey] = useState(false);\n\n  useEffect(() => {\n    void analytics.page('view', '/save-secret-key');\n  }, []);\n\n  if (showSecretKey) {\n    return (\n      <>\n        <OnboardingHeader />\n        <Content>\n          <TwoColumnLayout\n            title={\n              <>\n                Your <br /> Secret Key\n              </>\n            }\n            content={\n              <>\n                These 24 words are your Secret Key. They create your account, and you sign in on\n                different devices with them. Make sure to save these somewhere safe.\n                <br />\n                If you lose these words, you lose your account.\n              </>\n            }\n          >\n            <SecretKey secretKey={defaultWalletSecretKey ?? ''} />\n          </TwoColumnLayout>\n        </Content>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <OnboardingHeader hideLogo />\n      <Content>\n        <RequestPassword onSuccess={() => setShowSecretKey(true)} />\n        <Outlet />\n      </Content>\n    </>\n  );\n}\n","import { CopyIcon, IconButton, ItemLayoutWithButtons, Pressable, QrCodeIcon } from '@leather.io/ui';\nimport { truncateMiddle } from '@leather.io/utils';\n\ninterface ReceiveItemProps {\n  address?: string;\n  dataTestId?: string;\n  icon: React.JSX.Element;\n  onCopyAddress(): void;\n  onClickQrCode?(): void;\n  title: string;\n}\nexport function ReceiveItem({\n  address,\n  dataTestId,\n  icon,\n  onCopyAddress,\n  onClickQrCode,\n  title,\n}: ReceiveItemProps) {\n  if (!address) return null;\n  return (\n    <Pressable my=\"space.02\">\n      <ItemLayoutWithButtons\n        img={icon}\n        title={title}\n        caption={truncateMiddle(address, 6)}\n        buttons={\n          <>\n            <IconButton icon={<CopyIcon />} onClick={onCopyAddress} />\n            {onClickQrCode && (\n              <IconButton\n                data-testid={dataTestId}\n                icon={<QrCodeIcon />}\n                ml=\"space.02\"\n                onClick={onClickQrCode}\n              />\n            )}\n          </>\n        }\n      />\n    </Pressable>\n  );\n}\n","import { HomePageSelectors } from '@tests/selectors/home.selectors';\nimport { css } from 'leather-styles/css';\nimport { Stack } from 'leather-styles/jsx';\n\nimport { OrdinalAvatarIcon, StxAvatarIcon } from '@leather.io/ui';\n\nimport { copyToClipboard } from '@app/common/utils/copy-to-clipboard';\nimport { useToast } from '@app/features/toasts/use-toast';\nimport { StampsAvatarIcon } from '@app/ui/components/avatar/stamps-avatar-icon';\n\nimport { receiveTabStyle } from '../receive-dialog';\nimport { ReceiveItem } from './receive-item';\n\ninterface ReceiveCollectiblesProps {\n  btcAddressNativeSegwit: string;\n  btcAddressTaproot: string;\n  stxAddress: string;\n  onClickQrOrdinal(): void;\n  onClickQrStacksNft(): void;\n  onClickQrStamp(): void;\n}\nexport function ReceiveCollectibles({\n  btcAddressNativeSegwit,\n  btcAddressTaproot,\n  stxAddress,\n  onClickQrOrdinal,\n  onClickQrStacksNft,\n  onClickQrStamp,\n}: ReceiveCollectiblesProps) {\n  const toast = useToast();\n  return (\n    <Stack className={css(receiveTabStyle)}>\n      <ReceiveItem\n        address={btcAddressTaproot}\n        icon={<OrdinalAvatarIcon />}\n        dataTestId={HomePageSelectors.ReceiveBtcTaprootQrCodeBtn}\n        onCopyAddress={async () => {\n          await copyToClipboard(btcAddressTaproot);\n          toast.success('Copied to clipboard!');\n        }}\n        onClickQrCode={onClickQrOrdinal}\n        title=\"Ordinal inscription\"\n      />\n      <ReceiveItem\n        address={btcAddressNativeSegwit}\n        icon={<StampsAvatarIcon />}\n        onClickQrCode={onClickQrStamp}\n        onCopyAddress={async () => {\n          await copyToClipboard(btcAddressNativeSegwit);\n          toast.success('Copied to clipboard!');\n        }}\n        title=\"Bitcoin Stamp\"\n      />\n      <ReceiveItem\n        address={stxAddress}\n        icon={<StxAvatarIcon />}\n        onCopyAddress={async () => {\n          await copyToClipboard(stxAddress);\n          toast.success('Copied to clipboard!');\n        }}\n        onClickQrCode={onClickQrStacksNft}\n        title=\"Stacks NFT\"\n      />\n    </Stack>\n  );\n}\n","import { useMemo } from 'react';\n\nimport { HomePageSelectors } from '@tests/selectors/home.selectors';\nimport { css } from 'leather-styles/css';\nimport { Stack } from 'leather-styles/jsx';\n\nimport { useAlexSwappableAssets } from '@leather.io/query';\nimport {\n  Avatar,\n  Brc20AvatarIcon,\n  BtcAvatarIcon,\n  RunesAvatarIcon,\n  Src20AvatarIcon,\n  StxAvatarIcon,\n  defaultFallbackDelay,\n} from '@leather.io/ui';\n\nimport { copyToClipboard } from '@app/common/utils/copy-to-clipboard';\nimport { useToast } from '@app/features/toasts/use-toast';\nimport { useConfigRunesEnabled } from '@app/query/common/remote-config/remote-config.query';\nimport { useCurrentNetwork } from '@app/store/networks/networks.selectors';\n\nimport { receiveTabStyle } from '../receive-dialog';\nimport { ReceiveItem } from './receive-item';\n\ninterface ReceiveTokensProps {\n  btcAddressNativeSegwit: string;\n  btcAddressTaproot: string;\n  stxAddress: string;\n  onClickQrBtc(): void;\n  onClickQrStx(): void;\n}\nexport function ReceiveTokens({\n  btcAddressNativeSegwit,\n  btcAddressTaproot,\n  stxAddress,\n  onClickQrBtc,\n  onClickQrStx,\n}: ReceiveTokensProps) {\n  const toast = useToast();\n  const network = useCurrentNetwork();\n  const runesEnabled = useConfigRunesEnabled();\n  const { data: swapAssets = [] } = useAlexSwappableAssets(stxAddress);\n\n  const receivableAssets = useMemo(\n    () =>\n      swapAssets\n        .filter(asset => asset.name !== 'STX')\n        .map(asset => ({\n          ...asset,\n          address: stxAddress,\n        })),\n    [stxAddress, swapAssets]\n  );\n\n  return (\n    <Stack className={css(receiveTabStyle)}>\n      <ReceiveItem\n        address={btcAddressNativeSegwit}\n        icon={<BtcAvatarIcon />}\n        dataTestId={HomePageSelectors.ReceiveBtcNativeSegwitQrCodeBtn}\n        onCopyAddress={async () => {\n          await copyToClipboard(btcAddressNativeSegwit);\n          toast.success('Copied to clipboard!');\n        }}\n        onClickQrCode={onClickQrBtc}\n        title=\"Bitcoin (BTC)\"\n      />\n      <ReceiveItem\n        address={stxAddress}\n        icon={<StxAvatarIcon />}\n        dataTestId={HomePageSelectors.ReceiveStxQrCodeBtn}\n        onCopyAddress={async () => {\n          await copyToClipboard(stxAddress);\n          toast.success('Copied to clipboard!');\n        }}\n        onClickQrCode={onClickQrStx}\n        title=\"Stacks (STX)\"\n      />\n      <ReceiveItem\n        address={btcAddressTaproot}\n        icon={<Brc20AvatarIcon />}\n        dataTestId={HomePageSelectors.ReceiveBtcTaprootQrCodeBtn}\n        onCopyAddress={async () => {\n          await copyToClipboard(btcAddressTaproot);\n          toast.success('Copied to clipboard!');\n        }}\n        // onClickQrCode={onClickQrOrdinal}\n        title=\"BRC-20\"\n      />\n      <ReceiveItem\n        address={btcAddressNativeSegwit}\n        icon={<Src20AvatarIcon />}\n        // onClickQrCode={onClickQrStamp}\n        onCopyAddress={async () => {\n          await copyToClipboard(btcAddressNativeSegwit);\n          toast.success('Copied to clipboard!');\n        }}\n        title=\"SRC-20\"\n      />\n      {(network.chain.bitcoin.mode === 'testnet' || runesEnabled) && (\n        <ReceiveItem\n          address={btcAddressTaproot}\n          icon={<RunesAvatarIcon />}\n          // onClickQrCode={onClickQrStamp}\n          onCopyAddress={async () => {\n            await copyToClipboard(btcAddressTaproot);\n            toast.success('Copied to clipboard!');\n          }}\n          title=\"Runes\"\n        />\n      )}\n\n      {receivableAssets.map(asset => (\n        <ReceiveItem\n          key={asset.name}\n          address={asset.address}\n          icon={\n            <Avatar.Root>\n              <Avatar.Image alt={asset.fallback} src={asset.icon} />\n              <Avatar.Fallback delayMs={defaultFallbackDelay}>{asset.fallback}</Avatar.Fallback>\n            </Avatar.Root>\n          }\n          // onClickQrCode={() => null}\n          onCopyAddress={async () => {\n            await copyToClipboard(asset.address);\n            toast.success('Copied to clipboard!');\n          }}\n          title={asset.name}\n        />\n      ))}\n    </Stack>\n  );\n}\n","import { useLocation, useNavigate } from 'react-router-dom';\n\nimport { HomePageSelectors } from '@tests/selectors/home.selectors';\nimport { Box } from 'leather-styles/jsx';\nimport get from 'lodash.get';\n\nimport { Sheet, SheetHeader, Tabs } from '@leather.io/ui';\n\nimport { RouteUrls } from '@shared/route-urls';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useLocationState } from '@app/common/hooks/use-location-state';\nimport { useBackgroundLocationRedirect } from '@app/routes/hooks/use-background-location-redirect';\nimport { useZeroIndexTaprootAddress } from '@app/store/accounts/blockchain/bitcoin/bitcoin.hooks';\nimport { useCurrentAccountNativeSegwitAddressIndexZero } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useCurrentStacksAccountAddress } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\nimport { ReceiveCollectibles } from './components/receive-collectibles';\nimport { ReceiveTokens } from './components/receive-tokens';\n\ntype ReceiveSheet = 'full' | 'collectible';\n\nexport const receiveTabStyle = {\n  mt: 'space.03',\n  paddingX: 'space.05',\n  pb: 'space.05',\n  minHeight: '260px',\n};\n\ninterface ReceiveSheetProps {\n  type?: 'full' | 'collectible';\n}\n\nexport function ReceiveSheet({ type = 'full' }: ReceiveSheetProps) {\n  useBackgroundLocationRedirect();\n\n  const backgroundLocation = useLocationState<Location>('backgroundLocation');\n  const navigate = useNavigate();\n  const location = useLocation();\n  const btcAddressNativeSegwit = useCurrentAccountNativeSegwitAddressIndexZero();\n  const stxAddress = useCurrentStacksAccountAddress();\n  const accountIndex = get(location.state, 'accountIndex', undefined);\n  const btcAddressTaproot = useZeroIndexTaprootAddress(accountIndex);\n\n  const title =\n    type === 'full' ? (\n      <>\n        Choose asset <br /> to receive\n      </>\n    ) : (\n      <>\n        Receive <br /> collectible\n      </>\n    );\n\n  function Collectibles() {\n    return (\n      <ReceiveCollectibles\n        btcAddressTaproot={btcAddressTaproot}\n        btcAddressNativeSegwit={btcAddressNativeSegwit}\n        stxAddress={stxAddress}\n        onClickQrOrdinal={() => {\n          void analytics.track('select_inscription_to_add_new_collectible');\n          navigate(`${RouteUrls.Home}${RouteUrls.ReceiveCollectibleOrdinal}`, {\n            state: {\n              btcAddressTaproot,\n              backgroundLocation,\n            },\n          });\n        }}\n        onClickQrStamp={() =>\n          navigate(`${RouteUrls.Home}${RouteUrls.ReceiveBtcStamp}`, {\n            state: { backgroundLocation },\n          })\n        }\n        onClickQrStacksNft={() =>\n          navigate(`${RouteUrls.Home}${RouteUrls.ReceiveStx}`, {\n            state: { backgroundLocation },\n          })\n        }\n      />\n    );\n  }\n\n  return (\n    <Sheet\n      header={\n        <SheetHeader\n          variant=\"large\"\n          title={title}\n          onClose={() => navigate(backgroundLocation ?? '..')}\n        />\n      }\n      onClose={() => navigate(backgroundLocation ?? '..')}\n      isShowing\n    >\n      {type === 'collectible' && <Collectibles />}\n      {type === 'full' && (\n        <Tabs.Root defaultValue=\"tokens\">\n          <Tabs.List>\n            <Tabs.Trigger value=\"tokens\" data-testid={HomePageSelectors.ReceiveAssetsTab}>\n              Tokens\n            </Tabs.Trigger>\n            <Tabs.Trigger\n              value=\"collectibles\"\n              data-testid={HomePageSelectors.ReceiveCollectiblesTab}\n            >\n              Collectibles\n            </Tabs.Trigger>\n          </Tabs.List>\n          <Tabs.Content value=\"tokens\">\n            {/* FIXME 96px should be sizes.footerHeight */}\n            <Box mb={{ base: '96px', md: 'unset' }}>\n              <ReceiveTokens\n                btcAddressNativeSegwit={btcAddressNativeSegwit}\n                stxAddress={stxAddress}\n                btcAddressTaproot={btcAddressTaproot}\n                onClickQrBtc={() =>\n                  navigate(`${RouteUrls.Home}${RouteUrls.ReceiveBtc}`, {\n                    state: { backgroundLocation },\n                  })\n                }\n                onClickQrStx={() =>\n                  navigate(`${RouteUrls.Home}${RouteUrls.ReceiveStx}`, {\n                    state: { backgroundLocation, btcAddressTaproot },\n                  })\n                }\n              />\n            </Box>\n          </Tabs.Content>\n          <Tabs.Content value=\"collectibles\">\n            <Collectibles />\n          </Tabs.Content>\n        </Tabs.Root>\n      )}\n    </Sheet>\n  );\n}\n","import { Flex, styled } from 'leather-styles/jsx';\n\nexport function ReceiveBtcModalWarning({ message }: { message: string }) {\n  return (\n    <Flex\n      justifyContent=\"center\"\n      bg=\"blue.background-secondary\"\n      minHeight=\"48px\"\n      p=\"space.05\"\n      width=\"100%\"\n    >\n      <styled.span textStyle=\"label.02\">{message}</styled.span>\n    </Flex>\n  );\n}\n","import { useLocation } from 'react-router-dom';\n\nimport { analytics } from '@shared/utils/analytics';\n\nimport { copyToClipboard } from '@app/common/utils/copy-to-clipboard';\nimport { useToast } from '@app/features/toasts/use-toast';\nimport { useBackgroundLocationRedirect } from '@app/routes/hooks/use-background-location-redirect';\n\nimport { ReceiveBtcModalWarning } from './components/receive-btc-warning';\nimport { ReceiveTokensLayout } from './components/receive-tokens.layout';\n\nexport function ReceiveOrdinalModal() {\n  useBackgroundLocationRedirect();\n  const toast = useToast();\n\n  const { state } = useLocation();\n\n  // #4028 FIXME - this doesn't open in new tab as it loses btcAddressTaproot amd crashes btcStamp and Stx are OK?\n  return (\n    <ReceiveTokensLayout\n      address={state.btcAddressTaproot}\n      onCopyAddressToClipboard={async () => {\n        void analytics.track('copy_address_to_add_new_inscription');\n        await copyToClipboard(state.btcAddressTaproot);\n        toast.success('Copied to clipboard!');\n      }}\n      title=\"ORD. INSCRIPTION\"\n      warning={<ReceiveBtcModalWarning message=\"Deposit only Ordinal inscriptions here\" />}\n    />\n  );\n}\n","import { Route } from 'react-router-dom';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { ReceiveBtcModal } from '@app/pages/receive/receive-btc';\nimport { ReceiveSheet } from '@app/pages/receive/receive-dialog';\nimport { ReceiveOrdinalModal } from '@app/pages/receive/receive-ordinal';\nimport { ReceiveStxModal } from '@app/pages/receive/receive-stx';\n\nexport const receiveRoutes = (\n  <Route>\n    <Route path={RouteUrls.Receive} element={<ReceiveSheet />} />\n    <Route path={RouteUrls.ReceiveStx} element={<ReceiveStxModal />} />\n    <Route path={RouteUrls.ReceiveBtc} element={<ReceiveBtcModal />} />\n    <Route path={RouteUrls.ReceiveBtcStamp} element={<ReceiveBtcModal type=\"btc-stamp\" />} />\n    <Route path={RouteUrls.ReceiveCollectible} element={<ReceiveSheet type=\"collectible\" />} />\n    <Route path={RouteUrls.ReceiveCollectibleOrdinal} element={<ReceiveOrdinalModal />} />\n  </Route>\n);\n","import { createContext } from 'react';\n\nimport { noop } from '@leather.io/utils';\n\nimport { UnsignedMessage } from '@shared/signature/signature-types';\n\nimport { BaseLedgerOperationContext } from '../../utils/generic-ledger-utils';\n\nexport interface LedgerMessageSigningContext extends BaseLedgerOperationContext {\n  message: UnsignedMessage | undefined;\n  signMessage(): Promise<void> | void;\n}\n\nexport const ledgerMsgSigningContext = createContext<LedgerMessageSigningContext>({\n  message: undefined,\n  latestDeviceResponse: null,\n  awaitingDeviceConnection: false,\n  signMessage: noop,\n});\n\nexport const LedgerMsgSigningProvider = ledgerMsgSigningContext.Provider;\n","import { isString } from '@leather.io/utils';\n\nimport {\n  type SignedMessageType,\n  UnsignedMessage,\n  deserializeUnsignedMessage,\n} from '@shared/signature/signature-types';\n\nimport { useLocationStateWithCache } from '@app/common/hooks/use-location-state';\n\nexport function useUnsignedMessageType(): UnsignedMessage | null {\n  const messageType = useLocationStateWithCache<SignedMessageType>('messageType');\n  const message = useLocationStateWithCache<string | Uint8Array>('message');\n  const domain = useLocationStateWithCache<Uint8Array>('domain');\n\n  if (messageType === 'utf8' && isString(message)) return { messageType, message };\n\n  if (messageType === 'structured' && message && !isString(message) && domain)\n    return deserializeUnsignedMessage({ messageType, message, domain });\n\n  return null;\n}\n","import { useState } from 'react';\nimport { Outlet } from 'react-router-dom';\n\nimport { bytesToHex, signatureVrsToRsv } from '@stacks/common';\nimport { serializeCV } from '@stacks/transactions';\nimport { LedgerError } from '@zondax/ledger-stacks';\n\nimport { Sheet, SheetHeader } from '@leather.io/ui';\nimport { delay, isError } from '@leather.io/utils';\n\nimport { UnsignedMessage, whenSignableMessageOfType } from '@shared/signature/signature-types';\n\nimport { useScrollLock } from '@app/common/hooks/use-scroll-lock';\nimport { appEvents } from '@app/common/publish-subscribe';\nimport { useCancelLedgerAction } from '@app/features/ledger/utils/generic-ledger-utils';\nimport {\n  getStacksAppVersion,\n  prepareLedgerDeviceStacksAppConnection,\n  signLedgerStacksStructuredMessage,\n  signLedgerStacksUtf8Message,\n} from '@app/features/ledger/utils/stacks-ledger-utils';\nimport { useCurrentStacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { StacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.models';\n\nimport { useLedgerAnalytics } from '../../hooks/use-ledger-analytics.hook';\nimport { useLedgerNavigate } from '../../hooks/use-ledger-navigate';\nimport { useVerifyMatchingLedgerStacksPublicKey } from '../../hooks/use-verify-matching-stacks-public-key';\nimport { checkLockedDeviceError, useLedgerResponseState } from '../../utils/generic-ledger-utils';\nimport {\n  LedgerMessageSigningContext,\n  LedgerMsgSigningProvider,\n} from './ledger-stacks-sign-msg.context';\nimport { useUnsignedMessageType } from './use-message-type';\n\ninterface LedgerSignMsgData {\n  account: StacksAccount;\n  unsignedMessage: UnsignedMessage;\n}\ninterface LedgerSignMsgDataProps {\n  children({ account, unsignedMessage }: LedgerSignMsgData): React.JSX.Element;\n}\nfunction LedgerSignMsgData({ children }: LedgerSignMsgDataProps) {\n  const account = useCurrentStacksAccount();\n  const unsignedMessage = useUnsignedMessageType();\n  if (!unsignedMessage || !account) return null;\n  return children({ account, unsignedMessage });\n}\n\ntype LedgerSignMsgProps = LedgerSignMsgData;\nfunction LedgerSignStacksMsg({ account, unsignedMessage }: LedgerSignMsgProps) {\n  useScrollLock(true);\n  const ledgerNavigate = useLedgerNavigate();\n  const ledgerAnalytics = useLedgerAnalytics();\n  const verifyLedgerPublicKey = useVerifyMatchingLedgerStacksPublicKey();\n\n  const [latestDeviceResponse, setLatestDeviceResponse] = useLedgerResponseState();\n\n  const [awaitingDeviceConnection, setAwaitingDeviceConnection] = useState(false);\n\n  const chain = 'stacks';\n\n  async function signMessage() {\n    const stacksApp = await prepareLedgerDeviceStacksAppConnection({\n      setLoadingState: setAwaitingDeviceConnection,\n      onError(e) {\n        if (isError(e) && checkLockedDeviceError(e)) {\n          setLatestDeviceResponse({ deviceLocked: true } as any);\n          return;\n        }\n        ledgerNavigate.toErrorStep(chain);\n      },\n    });\n\n    const versionInfo = await getStacksAppVersion(stacksApp);\n    ledgerAnalytics.trackDeviceVersionInfo(versionInfo);\n    setLatestDeviceResponse(versionInfo);\n    if (versionInfo.deviceLocked) {\n      setAwaitingDeviceConnection(false);\n      return;\n    }\n\n    ledgerNavigate.toDeviceBusyStep(`Verifying public key on Ledger`);\n    await verifyLedgerPublicKey(stacksApp);\n\n    try {\n      ledgerNavigate.toConnectionSuccessStep('stacks');\n      await delay(1000);\n      ledgerNavigate.toAwaitingDeviceOperation({ hasApprovedOperation: false });\n\n      const resp = await whenSignableMessageOfType(unsignedMessage)({\n        async utf8(msg) {\n          return signLedgerStacksUtf8Message(stacksApp)(msg, account.index);\n        },\n        async structured(domain, msg) {\n          return signLedgerStacksStructuredMessage(stacksApp)(\n            bytesToHex(serializeCV(domain)),\n            bytesToHex(serializeCV(msg)),\n            account.index\n          );\n        },\n      });\n\n      // Assuming here that public keys are wrong. Alternatively, we may want\n      // to proactively check the key before signing\n      if (resp.returnCode === LedgerError.DataIsInvalid) {\n        ledgerNavigate.toDevicePayloadInvalid();\n        return;\n      }\n\n      if (resp.returnCode === LedgerError.TransactionRejected) {\n        ledgerNavigate.toOperationRejectedStep(`Message signing operation rejected`);\n        ledgerAnalytics.messageSignedOnLedgerRejected();\n        appEvents.publish('ledgerStacksMessageSigningCancelled', { unsignedMessage });\n        return;\n      }\n      if (resp.returnCode !== LedgerError.NoErrors) {\n        throw new Error('Some other error');\n      }\n      ledgerNavigate.toAwaitingDeviceOperation({ hasApprovedOperation: true });\n      await delay(1000);\n\n      ledgerAnalytics.messageSignedOnLedgerSuccessfully();\n\n      appEvents.publish('ledgerStacksMessageSigned', {\n        messageSignatures: {\n          signature: signatureVrsToRsv(resp.signatureVRS.toString('hex')),\n          publicKey: account.stxPublicKey,\n        },\n        unsignedMessage,\n      });\n\n      await stacksApp.transport.close();\n    } catch (e) {\n      ledgerNavigate.toDeviceDisconnectStep();\n    }\n  }\n\n  const ledgerContextValue: LedgerMessageSigningContext = {\n    message: unsignedMessage,\n    signMessage,\n    latestDeviceResponse,\n    awaitingDeviceConnection,\n  };\n  const canCancelLedgerAction = useCancelLedgerAction(awaitingDeviceConnection);\n\n  return (\n    <LedgerMsgSigningProvider value={ledgerContextValue}>\n      <Sheet\n        isShowing\n        header={<SheetHeader />}\n        onClose={canCancelLedgerAction ? () => ledgerNavigate.cancelLedgerAction() : undefined}\n      >\n        <Outlet />\n      </Sheet>\n    </LedgerMsgSigningProvider>\n  );\n}\n\nexport function LedgerSignMsgContainer() {\n  return <LedgerSignMsgData>{props => <LedgerSignStacksMsg {...props} />}</LedgerSignMsgData>;\n}\n","import { useContext } from 'react';\n\nimport { CommonLedgerDeviceInlineWarnings } from '@app/features/ledger/components/ledger-inline-warnings';\nimport { ConnectLedger } from '@app/features/ledger/generic-steps/connect-device/connect-ledger';\nimport { useWhenReattemptingLedgerConnection } from '@app/features/ledger/hooks/use-when-reattempt-ledger-connection';\n\nimport { ledgerMsgSigningContext } from '../ledger-stacks-sign-msg.context';\n\nexport function ConnectLedgerSignMsg() {\n  const { signMessage, latestDeviceResponse, awaitingDeviceConnection } =\n    useContext(ledgerMsgSigningContext);\n\n  useWhenReattemptingLedgerConnection(() => signMessage());\n\n  return (\n    <ConnectLedger\n      chain=\"stacks\"\n      awaitingLedgerConnection={awaitingDeviceConnection}\n      warning={\n        <CommonLedgerDeviceInlineWarnings\n          chain=\"stacks\"\n          latestDeviceResponse={latestDeviceResponse}\n        />\n      }\n      onConnectLedger={signMessage}\n      showInstructions={false}\n    />\n  );\n}\n","import { sha256 } from '@noble/hashes/sha256';\nimport { bytesToHex } from '@stacks/common';\nimport {\n  ChainID,\n  ClarityType,\n  ClarityValue,\n  cvToString,\n  encodeStructuredData,\n} from '@stacks/transactions';\n\nimport { stacksChainIdToCoreNetworkMode } from '@leather.io/stacks';\n\nimport { UnsignedMessageStructured } from '@shared/signature/signature-types';\n\nimport { capitalize } from '@app/common/utils';\n\nexport function cvToDisplay(cv: ClarityValue): string {\n  return cvToString(cv).replaceAll('\"', '');\n}\n\nexport function chainIdToDisplay(chainIdCv: ClarityValue): string {\n  if (chainIdCv.type !== ClarityType.UInt) return '';\n  const chainIdString = cvToString(chainIdCv);\n  const chainId = parseInt(chainIdString.replace('u', ''));\n  if (!Object.values(ChainID).includes(chainId)) return '';\n  return capitalize(stacksChainIdToCoreNetworkMode(chainId));\n}\n\nexport function deriveStructuredMessageHash({\n  domain,\n  message,\n}: Omit<UnsignedMessageStructured, 'messageType'>) {\n  return bytesToHex(sha256(encodeStructuredData({ message, domain })));\n}\n","import { useContext } from 'react';\n\nimport { logger } from '@shared/logger';\nimport { whenSignableMessageOfType } from '@shared/signature/signature-types';\n\nimport { ApproveLedgerOperationLayout } from '../../../generic-steps';\nimport { useHasApprovedOperation } from '../../../hooks/use-has-approved-transaction';\nimport { ledgerMsgSigningContext } from '../ledger-stacks-sign-msg.context';\nimport { cvToDisplay, deriveStructuredMessageHash } from '../message-signing.utils';\n\nexport function SignLedgerMessage() {\n  const { message } = useContext(ledgerMsgSigningContext);\n  const hasApprovedOperation = useHasApprovedOperation();\n\n  if (!message) {\n    logger.error(`${SignLedgerMessage.name} must not render without a \"message\" defined`);\n    return null;\n  }\n\n  return whenSignableMessageOfType(message)({\n    utf8: msg => (\n      <ApproveLedgerOperationLayout\n        description=\"Sign message on your Ledger\"\n        details={[['Message', msg]]}\n        status={hasApprovedOperation ? 'approved' : 'awaiting-approval'}\n      />\n    ),\n    structured: (domain, message) => {\n      const ledgerFirstHashPageInView = 34;\n      const hash = deriveStructuredMessageHash({ domain, message });\n      const [hashPart1, hashPart2] = [\n        hash.slice(0, ledgerFirstHashPageInView),\n        hash.slice(ledgerFirstHashPageInView),\n      ];\n      return (\n        <ApproveLedgerOperationLayout\n          description=\"Sign structured data on your Ledger\"\n          details={[\n            ['Chain ID', cvToDisplay(domain.data['chain-id'])],\n            ['Name', cvToDisplay(domain.data.name)],\n            ['Version', cvToDisplay(domain.data.version)],\n            ['Message hash [1/2]', hashPart1],\n            ['Message hash [2/2]', hashPart2],\n          ]}\n          status={hasApprovedOperation ? 'approved' : 'awaiting-approval'}\n        />\n      );\n    },\n  });\n}\n","import { Route } from 'react-router-dom';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport {\n  ConnectLedgerError,\n  ConnectLedgerSuccess,\n  DeviceBusy,\n  LedgerDeviceInvalidPayload,\n  LedgerDisconnected,\n  LedgerPublicKeyMismatch,\n  OperationRejected,\n  UnsupportedBrowserLayout,\n} from '../../generic-steps';\nimport { LedgerSignMsgContainer } from './ledger-stacks-sign-msg-container';\nimport { ConnectLedgerSignMsg } from './steps/connect-ledger-sign-msg';\nimport { SignLedgerMessage } from './steps/sign-stacks-ledger-message';\n\nexport const ledgerStacksMessageSigningRoutes = (\n  <Route element={<LedgerSignMsgContainer />}>\n    <Route path={RouteUrls.ConnectLedger} element={<ConnectLedgerSignMsg />} />\n    <Route path={RouteUrls.DeviceBusy} element={<DeviceBusy />} />\n    <Route path={RouteUrls.ConnectLedgerError} element={<ConnectLedgerError />} />\n    <Route path={RouteUrls.ConnectLedgerSuccess} element={<ConnectLedgerSuccess />} />\n    <Route path={RouteUrls.AwaitingDeviceUserAction} element={<SignLedgerMessage />} />\n    <Route path={RouteUrls.LedgerDisconnected} element={<LedgerDisconnected />} />\n    <Route path={RouteUrls.LedgerOperationRejected} element={<OperationRejected />} />\n    <Route path={RouteUrls.LedgerPublicKeyMismatch} element={<LedgerPublicKeyMismatch />} />\n    <Route path={RouteUrls.LedgerUnsupportedBrowser} element={<UnsupportedBrowserLayout />} />\n    <Route path={RouteUrls.LedgerDevicePayloadInvalid} element={<LedgerDeviceInvalidPayload />} />\n  </Route>\n);\n","export enum TransactionRequestSelectors {\n  BtnConfirmTransaction = 'btn-confirm-transaction',\n  ErrorMessage = 'transaction-request-error-message',\n  TransactionRequestPage = 'transaction-signing-page',\n}\n\nexport enum UpdateProfileRequestSelectors {\n  BtnUpdateProfile = 'btn-update-profile',\n  ErrorMessage = 'update-profile-request-error-message',\n}\n\nexport enum PsbtSelectors {\n  PsbtSignerCard = 'psbt-signer-card',\n}\n\nexport enum DlcSelectors {\n  DlcSelectorsCard = 'dlc-signer-card',\n}\n","import { createContext, useContext } from 'react';\n\nimport type { Inscription, Money } from '@leather.io/models';\n\nimport { PsbtInput } from './hooks/use-parsed-inputs';\nimport { PsbtOutput } from './hooks/use-parsed-outputs';\n\nexport interface PsbtSignerContext {\n  accountInscriptionsBeingTransferred: Inscription[];\n  accountInscriptionsBeingReceived: Inscription[];\n  addressNativeSegwit: string;\n  addressTaproot: string;\n  addressNativeSegwitTotal: Money;\n  addressTaprootTotal: Money;\n  fee: Money;\n  isPsbtMutable: boolean;\n  psbtInputs: PsbtInput[];\n  psbtOutputs: PsbtOutput[];\n  shouldDefaultToAdvancedView: boolean;\n}\n\nconst psbtSignerContext = createContext<PsbtSignerContext | null>(null);\n\nexport function usePsbtSignerContext() {\n  const context = useContext(psbtSignerContext);\n  if (!context) throw new Error('No PsbtSignerContext found');\n  return context;\n}\n\nexport const PsbtSignerProvider = psbtSignerContext.Provider;\n","import { HStack, styled } from 'leather-styles/jsx';\n\nimport { ArrowUpIcon, Link } from '@leather.io/ui';\n\ninterface PsbtRequestDetailsSectionHeaderProps {\n  hasDetails?: boolean;\n  onSetShowDetails?(value: boolean): void;\n  showDetails?: boolean;\n  title: string;\n}\nexport function PsbtRequestDetailsSectionHeader({\n  hasDetails,\n  onSetShowDetails,\n  showDetails,\n  title,\n}: PsbtRequestDetailsSectionHeaderProps) {\n  return (\n    <HStack alignItems=\"center\" justifyContent=\"space-between\">\n      <styled.span textStyle=\"label.01\">{title}</styled.span>\n      {hasDetails && onSetShowDetails ? (\n        <Link onClick={() => onSetShowDetails(!showDetails)} variant=\"text\">\n          {showDetails ? (\n            <HStack gap=\"space.01\">\n              See less <ArrowUpIcon />\n            </HStack>\n          ) : (\n            'See details'\n          )}\n        </Link>\n      ) : null}\n    </HStack>\n  );\n}\n","import { Stack, StackProps } from 'leather-styles/jsx';\n\nimport { HasChildren } from '@app/common/has-children';\n\nexport function PsbtRequestDetailsSectionLayout({ children, ...props }: HasChildren & StackProps) {\n  return (\n    <Stack\n      border=\"default\"\n      borderRadius=\"sm\"\n      gap=\"space.01\"\n      p=\"space.05\"\n      width=\"100%\"\n      bg=\"ink.background-primary\"\n      {...props}\n    >\n      {children}\n    </Stack>\n  );\n}\n","import { Tag, type TagProps, type TagVariants } from '@leather.io/ui';\n\nimport { BasicTooltip } from '../tooltip/basic-tooltip';\n\ntype TooltipSideType = 'bottom' | 'left' | 'right' | 'top';\n\ninterface TagWithTooltipProps extends TagProps {\n  hoverLabel: string;\n  side?: TooltipSideType;\n}\nexport function TagWithTooltip({\n  hoverLabel,\n  side = 'bottom',\n  ...props\n}: TagWithTooltipProps & TagVariants) {\n  return (\n    <BasicTooltip label={hoverLabel} side={side}>\n      <Tag {...props} />\n    </BasicTooltip>\n  );\n}\n","import { Box, Flex, HStack, styled } from 'leather-styles/jsx';\n\nimport { CopyIcon, Flag, Link } from '@leather.io/ui';\n\nimport { useBitcoinExplorerLink } from '@app/common/hooks/use-bitcoin-explorer-link';\nimport { useClipboard } from '@app/common/hooks/use-copy-to-clipboard';\nimport { BasicTooltip } from '@app/ui/components/tooltip/basic-tooltip';\n\ninterface PsbtInputOutputItemLayoutProps {\n  address: string;\n  addressHoverLabel?: string;\n  amount: string;\n  label?: React.JSX.Element;\n  txId?: string;\n  txIdHoverLabel?: string;\n}\nexport function PsbtInputOutputItemLayout({\n  address,\n  addressHoverLabel,\n  amount,\n  label,\n  txId,\n  txIdHoverLabel,\n}: PsbtInputOutputItemLayoutProps) {\n  const { onCopy, hasCopied } = useClipboard(addressHoverLabel ?? '');\n  const { handleOpenBitcoinTxLink: handleOpenTxLink } = useBitcoinExplorerLink();\n\n  return (\n    <Flag img={<></>} mt=\"space.05\" spacing=\"space.04\">\n      <HStack alignItems=\"center\" justifyContent=\"space-between\">\n        <Flex alignItems=\"center\">\n          <styled.span mr=\"space.02\" textStyle=\"caption.01\">\n            {address}\n          </styled.span>\n          <BasicTooltip\n            disabled={!addressHoverLabel}\n            label={hasCopied ? 'Copied!' : addressHoverLabel}\n            side=\"bottom\"\n          >\n            <Box display=\"flex\">\n              <styled.button _hover={{ bg: 'ink.component-background-hover' }} onClick={onCopy}>\n                {addressHoverLabel ? <CopyIcon variant=\"small\" /> : null}\n              </styled.button>\n            </Box>\n          </BasicTooltip>\n          {label}\n        </Flex>\n        <styled.span textStyle=\"caption.01\">{amount}</styled.span>\n      </HStack>\n      <Box mt=\"space.01\">\n        {txId && txIdHoverLabel ? (\n          <Link\n            onClick={() =>\n              handleOpenTxLink({\n                txid: txIdHoverLabel ?? '',\n              })\n            }\n            variant=\"text\"\n          >\n            <BasicTooltip disabled={!txIdHoverLabel} label={txIdHoverLabel} side=\"bottom\">\n              <styled.span textStyle=\"caption.01\">{txId}</styled.span>\n            </BasicTooltip>\n          </Link>\n        ) : null}\n      </Box>\n    </Flag>\n  );\n}\n","import { createMoney, formatMoney, truncateMiddle } from '@leather.io/utils';\n\nimport { PsbtInput } from '@app/features/psbt-signer/hooks/use-parsed-inputs';\nimport { TagWithTooltip } from '@app/ui/components/tag/tag-with-tooltip';\n\nimport { PsbtInputOutputItemLayout } from '../../psbt-input-output-item.layout';\n\nconst hoverLabel = `Value you're approving as contribution to transaction.`;\n\nexport function PsbtInputItem({ utxo }: { utxo: PsbtInput }) {\n  return (\n    <PsbtInputOutputItemLayout\n      address={truncateMiddle(utxo.address)}\n      addressHoverLabel={utxo.address}\n      amount={formatMoney(createMoney(utxo.value, 'BTC'))}\n      label={\n        utxo.toSign ? (\n          <TagWithTooltip hoverLabel={hoverLabel} label=\"Approve\" transparent />\n        ) : undefined\n      }\n      txId={truncateMiddle(utxo.txid)}\n      txIdHoverLabel={utxo.txid}\n    />\n  );\n}\n","import { Box } from 'leather-styles/jsx';\n\nimport { HasChildren } from '@app/common/has-children';\n\nexport function PsbtInputListLayout({ children }: HasChildren) {\n  return (\n    <Box pb=\"space.06\">\n      <Box borderLeft=\"1px solid #DCDDE2\">{children}</Box>\n    </Box>\n  );\n}\n","import { PsbtInput } from '@app/features/psbt-signer/hooks/use-parsed-inputs';\n\nimport { PsbtInputItem } from './components/psbt-input-item';\nimport { PsbtInputListLayout } from './components/psbt-input-list.layout';\n\nexport function PsbtInputList({ inputs }: { inputs: PsbtInput[] }) {\n  return (\n    <PsbtInputListLayout>\n      {inputs.map((input, i) => (\n        <PsbtInputItem key={i} utxo={input} />\n      ))}\n    </PsbtInputListLayout>\n  );\n}\n","import { createMoney, formatMoney, truncateMiddle } from '@leather.io/utils';\n\nimport { PsbtOutput } from '@app/features/psbt-signer/hooks/use-parsed-outputs';\nimport { TagWithTooltip } from '@app/ui/components/tag/tag-with-tooltip';\n\nimport { PsbtInputOutputItemLayout } from '../../psbt-input-output-item.layout';\n\nconst hoverLabel = 'Value youll receive after this transaction is complete.';\n\nexport function PsbtOutputItem({ output }: { output: PsbtOutput }) {\n  const isUnknownAddress = output.address === 'unknown';\n\n  if (isUnknownAddress) return null;\n\n  return (\n    <PsbtInputOutputItemLayout\n      address={truncateMiddle(output.address)}\n      addressHoverLabel={output.address}\n      amount={formatMoney(createMoney(Number(output.value), 'BTC'))}\n      label={\n        output.toSign ? (\n          <TagWithTooltip transparent hoverLabel={hoverLabel} label=\"You\" />\n        ) : undefined\n      }\n    />\n  );\n}\n","import { Box } from 'leather-styles/jsx';\n\nimport { HasChildren } from '@app/common/has-children';\n\nexport function PsbtOutputListLayout({ children }: HasChildren) {\n  return (\n    <Box>\n      <Box borderLeft=\"1px solid #DCDDE2\">{children}</Box>\n    </Box>\n  );\n}\n","import { PsbtOutput } from '@app/features/psbt-signer/hooks/use-parsed-outputs';\n\nimport { PsbtOutputItem } from './components/psbt-output-item';\nimport { PsbtOutputListLayout } from './components/psbt-output-list.layout';\n\nexport function PsbtOutputList({ outputs }: { outputs: PsbtOutput[] }) {\n  return (\n    <PsbtOutputListLayout>\n      {outputs.map((output, i) => (\n        <PsbtOutputItem key={i} output={output} />\n      ))}\n    </PsbtOutputListLayout>\n  );\n}\n","import { useState } from 'react';\n\nimport { usePsbtSignerContext } from '@app/features/psbt-signer/psbt-signer.context';\n\nimport { PsbtRequestDetailsSectionHeader } from '../psbt-request-details-section-header';\nimport { PsbtRequestDetailsSectionLayout } from '../psbt-request-details-section.layout';\nimport { PsbtInputList } from './components/psbt-input-list/psbt-input-list';\nimport { PsbtOutputList } from './components/psbt-output-list/psbt-output-list';\n\nexport function PsbtInputsAndOutputs() {\n  const { psbtInputs, psbtOutputs } = usePsbtSignerContext();\n  const [showDetails, setShowDetails] = useState(false);\n\n  if (!psbtInputs.length || !psbtOutputs.length) return null;\n\n  return (\n    <PsbtRequestDetailsSectionLayout>\n      <PsbtRequestDetailsSectionHeader\n        hasDetails\n        onSetShowDetails={(value: boolean) => setShowDetails(value)}\n        showDetails={showDetails}\n        title={showDetails ? 'Inputs' : 'Inputs and Outputs'}\n      />\n      {showDetails ? (\n        <>\n          <PsbtInputList inputs={psbtInputs} />\n          <PsbtRequestDetailsSectionHeader title=\"Outputs\" />\n          <PsbtOutputList outputs={psbtOutputs} />\n        </>\n      ) : null}\n    </PsbtRequestDetailsSectionLayout>\n  );\n}\n","import { Box, HStack, styled } from 'leather-styles/jsx';\n\nimport { BtcAvatarIcon, CopyIcon, Flag, Link } from '@leather.io/ui';\n\nimport { useClipboard } from '@app/common/hooks/use-copy-to-clipboard';\nimport { BasicTooltip } from '@app/ui/components/tooltip/basic-tooltip';\n\ninterface PsbtAddressTotalItemProps {\n  hoverLabel?: string;\n  image?: React.JSX.Element;\n  subtitle?: string;\n  subValue?: string;\n  title?: string;\n  value: string;\n  valueAction?(): void;\n}\nexport function PsbtAddressTotalItem({\n  hoverLabel,\n  image,\n  subtitle,\n  subValue,\n  title,\n  value,\n  valueAction,\n}: PsbtAddressTotalItemProps) {\n  const { onCopy, hasCopied } = useClipboard(hoverLabel ?? '');\n\n  return (\n    <Flag img={image ? image : <BtcAvatarIcon />} mt=\"space.05\" spacing=\"space.04\">\n      <HStack alignItems=\"center\" justifyContent=\"space-between\">\n        <styled.span textStyle=\"label.01\">{title ? title : 'Bitcoin'}</styled.span>\n        {valueAction ? (\n          <Link onClick={valueAction}>{value}</Link>\n        ) : (\n          <styled.span textStyle=\"label.01\">{value}</styled.span>\n        )}\n      </HStack>\n      <HStack alignItems=\"center\" justifyContent=\"space-between\">\n        {subtitle ? (\n          <HStack gap=\"space.01\">\n            <styled.span mr=\"space.01\" textStyle=\"caption.01\">\n              {subtitle}\n            </styled.span>\n            <BasicTooltip\n              disabled={!hoverLabel}\n              label={hasCopied ? 'Copied!' : hoverLabel}\n              side=\"bottom\"\n            >\n              <Box display=\"flex\">\n                <Link onClick={onCopy} variant=\"text\">\n                  {hoverLabel ? <CopyIcon /> : null}\n                </Link>\n              </Box>\n            </BasicTooltip>\n          </HStack>\n        ) : null}\n        {subValue ? (\n          <styled.span mr=\"space.01\" textStyle=\"caption.01\">\n            {subValue}\n          </styled.span>\n        ) : null}\n      </HStack>\n    </Flag>\n  );\n}\n","import type { Inscription } from '@leather.io/models';\nimport { useInscription } from '@leather.io/query';\nimport { OrdinalAvatarIcon } from '@leather.io/ui';\nimport { isUndefined } from '@leather.io/utils';\n\nimport { openInNewTab } from '@app/common/utils/open-in-new-tab';\nimport { InscriptionPreview } from '@app/components/inscription-preview-card/components/inscription-preview';\n\nimport { PsbtAddressTotalItem } from './psbt-address-total-item';\n\ninterface PsbtInscriptionProps {\n  inscription: Inscription;\n}\nexport function PsbtInscription({ inscription }: PsbtInscriptionProps) {\n  const { isLoading, isError, data: supportedInscription } = useInscription(inscription?.id ?? '');\n\n  if (isLoading) return null;\n  if (isError || isUndefined(supportedInscription))\n    return (\n      <PsbtAddressTotalItem\n        image={<OrdinalAvatarIcon />}\n        title=\"Inscription not found\"\n        value=\"# Unknown\"\n      />\n    );\n\n  return (\n    <PsbtAddressTotalItem\n      image={<InscriptionPreview inscription={supportedInscription} height=\"40px\" width=\"40px\" />}\n      title=\"Inscription\"\n      value={`#${inscription?.number}`}\n      valueAction={() => openInNewTab(inscription.preview)}\n    />\n  );\n}\n","import { useCalculateBitcoinFiatValue } from '@leather.io/query';\nimport { formatMoney, i18nFormatCurrency, truncateMiddle } from '@leather.io/utils';\n\nimport { removeMinusSign } from '@app/common/utils';\nimport { usePsbtSignerContext } from '@app/features/psbt-signer/psbt-signer.context';\n\nimport { PsbtAddressTotalItem } from './psbt-address-total-item';\nimport { PsbtInscription } from './psbt-inscription';\n\ninterface PsbtAddressTotalsProps {\n  showNativeSegwitTotal: boolean;\n  showTaprootTotal: boolean;\n}\nexport function PsbtAddressReceiveTotals({\n  showNativeSegwitTotal,\n  showTaprootTotal,\n}: PsbtAddressTotalsProps) {\n  const {\n    accountInscriptionsBeingReceived,\n    addressNativeSegwit,\n    addressNativeSegwitTotal,\n    addressTaproot,\n    addressTaprootTotal,\n  } = usePsbtSignerContext();\n  const calculateBitcoinFiatValue = useCalculateBitcoinFiatValue();\n\n  const isReceivingInscriptions = accountInscriptionsBeingReceived?.length > 0;\n\n  return (\n    <>\n      {!isReceivingInscriptions && showNativeSegwitTotal ? (\n        <PsbtAddressTotalItem\n          hoverLabel={addressNativeSegwit}\n          subtitle={truncateMiddle(addressNativeSegwit)}\n          subValue={removeMinusSign(\n            i18nFormatCurrency(calculateBitcoinFiatValue(addressNativeSegwitTotal))\n          )}\n          value={removeMinusSign(formatMoney(addressNativeSegwitTotal))}\n        />\n      ) : null}\n      {!isReceivingInscriptions && showTaprootTotal ? (\n        <PsbtAddressTotalItem\n          hoverLabel={addressTaproot}\n          subtitle={truncateMiddle(addressTaproot)}\n          subValue={removeMinusSign(\n            i18nFormatCurrency(calculateBitcoinFiatValue(addressTaprootTotal))\n          )}\n          value={removeMinusSign(formatMoney(addressTaprootTotal))}\n        />\n      ) : null}\n      {isReceivingInscriptions\n        ? accountInscriptionsBeingReceived.map(inscription => (\n            <PsbtInscription key={inscription.id} inscription={inscription} />\n          ))\n        : null}\n    </>\n  );\n}\n","import { useCalculateBitcoinFiatValue } from '@leather.io/query';\nimport { formatMoney, i18nFormatCurrency, truncateMiddle } from '@leather.io/utils';\n\nimport { usePsbtSignerContext } from '@app/features/psbt-signer/psbt-signer.context';\n\nimport { PsbtAddressTotalItem } from './psbt-address-total-item';\nimport { PsbtInscription } from './psbt-inscription';\n\ninterface PsbtAddressTotalsProps {\n  showNativeSegwitTotal: boolean;\n}\nexport function PsbtAddressTransferTotals({ showNativeSegwitTotal }: PsbtAddressTotalsProps) {\n  const { accountInscriptionsBeingTransferred, addressNativeSegwit, addressNativeSegwitTotal } =\n    usePsbtSignerContext();\n  const calculateBitcoinFiatValue = useCalculateBitcoinFiatValue();\n\n  const isTransferringInscriptions = accountInscriptionsBeingTransferred?.length > 0;\n\n  return (\n    <>\n      {showNativeSegwitTotal ? (\n        <PsbtAddressTotalItem\n          hoverLabel={addressNativeSegwit}\n          subtitle={truncateMiddle(addressNativeSegwit)}\n          subValue={i18nFormatCurrency(calculateBitcoinFiatValue(addressNativeSegwitTotal))}\n          value={formatMoney(addressNativeSegwitTotal)}\n        />\n      ) : null}\n      {isTransferringInscriptions\n        ? accountInscriptionsBeingTransferred.map(inscription => (\n            <PsbtInscription key={inscription.id} inscription={inscription} />\n          ))\n        : null}\n    </>\n  );\n}\n","import { Box, styled } from 'leather-styles/jsx';\n\nimport { usePsbtSignerContext } from '@app/features/psbt-signer/psbt-signer.context';\n\nimport { PsbtRequestDetailsSectionHeader } from '../psbt-request-details-section-header';\nimport { PsbtRequestDetailsSectionLayout } from '../psbt-request-details-section.layout';\nimport { PsbtAddressReceiveTotals } from './components/psbt-address-receive-totals';\nimport { PsbtAddressTransferTotals } from './components/psbt-address-transfer-totals';\n\nexport function PsbtInputsOutputsTotals() {\n  const { addressNativeSegwitTotal, addressTaprootTotal } = usePsbtSignerContext();\n  // Transferring (+)\n  const isNativeSegwitTotalGreaterThanZero = addressNativeSegwitTotal.amount.isGreaterThan(0);\n  const isTaprootTotalGreaterThanZero = addressTaprootTotal.amount.isGreaterThan(0);\n  // Receiving (-)\n  const isNativeSegwitTotalLessThanZero = addressNativeSegwitTotal.amount.isLessThan(0);\n  const isTaprootTotalLessThanZero = addressTaprootTotal.amount.isLessThan(0);\n  const isTotalZero =\n    addressNativeSegwitTotal.amount.isEqualTo(0) && addressTaprootTotal.amount.isEqualTo(0);\n\n  const isTransferring = isNativeSegwitTotalGreaterThanZero || isTaprootTotalGreaterThanZero;\n  const isReceiving = isNativeSegwitTotalLessThanZero || isTaprootTotalLessThanZero;\n  const showDivider = isTransferring && isReceiving;\n\n  if (isTotalZero) return null;\n\n  return (\n    <PsbtRequestDetailsSectionLayout p=\"unset\">\n      {isTransferring ? (\n        <Box p=\"space.05\">\n          <PsbtRequestDetailsSectionHeader title=\"You'll transfer\" />\n          <PsbtAddressTransferTotals showNativeSegwitTotal={isNativeSegwitTotalGreaterThanZero} />\n        </Box>\n      ) : null}\n      {showDivider ? <styled.hr border=\"default\" /> : null}\n      {isReceiving ? (\n        <Box p=\"space.05\">\n          <PsbtRequestDetailsSectionHeader title=\"You'll receive\" />\n          <PsbtAddressReceiveTotals\n            showNativeSegwitTotal={isNativeSegwitTotalLessThanZero}\n            showTaprootTotal={isTaprootTotalLessThanZero}\n          />\n        </Box>\n      ) : null}\n    </PsbtRequestDetailsSectionLayout>\n  );\n}\n","import { HStack, styled } from 'leather-styles/jsx';\n\nimport { LockIcon, UnlockIcon } from '@leather.io/ui';\n\nimport { usePsbtSignerContext } from '@app/features/psbt-signer/psbt-signer.context';\nimport { TagWithTooltip } from '@app/ui/components/tag/tag-with-tooltip';\n\nconst immutableLabel =\n  'Any modification to the transaction, including the fee amount or other inputs/outputs, will invalidate the signature.';\nconst uncertainLabel =\n  'The transaction details can be altered by other participants. This means the final outcome of the transaction might be different than initially agreed upon.';\n\nexport function PsbtRequestDetailsHeader() {\n  const { isPsbtMutable } = usePsbtSignerContext();\n\n  return (\n    <HStack alignItems=\"center\" gap=\"space.02\">\n      <styled.h2 textStyle=\"heading.05\">Transaction</styled.h2>\n      <TagWithTooltip\n        hoverLabel={isPsbtMutable ? uncertainLabel : immutableLabel}\n        icon={isPsbtMutable ? <UnlockIcon variant=\"small\" /> : <LockIcon variant=\"small\" />}\n        label={isPsbtMutable ? 'Uncertain' : 'Certain'}\n        transparent\n        variant={isPsbtMutable ? 'warning' : 'default'}\n      />\n    </HStack>\n  );\n}\n","import { Stack } from 'leather-styles/jsx';\n\nimport { HasChildren } from '@app/common/has-children';\n\nexport function PsbtRequestDetailsLayout({ children }: HasChildren) {\n  return (\n    <Stack gap=\"space.05\" width=\"100%\">\n      {children}\n    </Stack>\n  );\n}\n","import { HStack, Stack, styled } from 'leather-styles/jsx';\n\nimport type { Money } from '@leather.io/models';\nimport { useCalculateBitcoinFiatValue } from '@leather.io/query';\nimport { formatMoney, i18nFormatCurrency } from '@leather.io/utils';\n\nimport { PsbtRequestDetailsSectionLayout } from './psbt-request-details-section.layout';\n\nexport function PsbtRequestFee(props: { fee: Money }) {\n  const { fee } = props;\n  const calculateBitcoinFiatValue = useCalculateBitcoinFiatValue();\n\n  return (\n    <PsbtRequestDetailsSectionLayout>\n      <HStack alignItems=\"center\" justifyContent=\"space-between\">\n        <styled.span textStyle=\"label.01\">Transaction fee</styled.span>\n        <Stack alignItems=\"flex-end\" gap=\"space.01\">\n          <styled.span textStyle=\"label.01\">{formatMoney(fee)}</styled.span>\n          <styled.span textStyle=\"caption.01\">\n            {i18nFormatCurrency(calculateBitcoinFiatValue(fee))}\n          </styled.span>\n        </Stack>\n      </HStack>\n    </PsbtRequestDetailsSectionLayout>\n  );\n}\n","import { Flex, styled } from 'leather-styles/jsx';\n\nimport { Flag } from '@leather.io/ui';\n\nimport { Favicon } from '@app/components/favicon';\n\ninterface PsbtRequestHeaderProps {\n  name?: string;\n  origin: string;\n}\nexport function PsbtRequestHeader({ name, origin }: PsbtRequestHeaderProps) {\n  const displayName = name ?? origin;\n  const caption = displayName ? `Requested by ${displayName}` : null;\n\n  return (\n    <Flex flexDirection=\"column\" mb=\"space.05\" width=\"100%\">\n      <styled.h1 mb=\"space.04\" textStyle=\"heading.03\">\n        Approve\n        <br />\n        transaction\n      </styled.h1>\n      <styled.p mb=\"space.04\" textStyle=\"label.01\">\n        Please review the recipient address, amount, and associated fees. Authorize only\n        transactions you fully understand.\n      </styled.p>\n      {caption && (\n        <Flag img={<Favicon origin={origin} />} pl=\"space.02\">\n          <styled.span textStyle=\"label.02\" wordBreak=\"break-word\">\n            {caption}\n          </styled.span>\n        </Flag>\n      )}\n    </Flex>\n  );\n}\n","import { useState } from 'react';\n\nimport { Json } from '@app/components/json';\nimport { RawPsbt } from '@app/features/psbt-signer/hooks/use-psbt-signer';\n\nimport { PsbtRequestDetailsSectionHeader } from './psbt-request-details-section-header';\nimport { PsbtRequestDetailsSectionLayout } from './psbt-request-details-section.layout';\n\nexport function PsbtRequestRaw({ psbt }: { psbt: RawPsbt }) {\n  const [showDetails, setShowDetails] = useState(false);\n\n  return (\n    <PsbtRequestDetailsSectionLayout>\n      <PsbtRequestDetailsSectionHeader\n        hasDetails\n        onSetShowDetails={(value: boolean) => setShowDetails(value)}\n        showDetails={showDetails}\n        title=\"Raw transaction\"\n      />\n      {showDetails ? <Json value={psbt} /> : null}\n    </PsbtRequestDetailsSectionLayout>\n  );\n}\n","import { Callout } from '@leather.io/ui';\n\ninterface PsbtRequestSighashWarningLabelProps {\n  origin: string;\n}\nexport function PsbtRequestSighashWarningLabel({ origin }: PsbtRequestSighashWarningLabelProps) {\n  return (\n    <Callout variant=\"warning\" title=\"Be careful with this transaction\">\n      The details of this transaction are not guaranteed and could be modified later. Continue only\n      if you trust {origin}\n    </Callout>\n  );\n}\n","export { PsbtInputsAndOutputs } from './psbt-inputs-and-outputs/psbt-inputs-and-outputs';\nexport { PsbtInputsOutputsTotals } from './psbt-inputs-outputs-totals/psbt-inputs-outputs-totals';\nexport { PsbtRequestDetailsHeader } from './psbt-request-details-header';\nexport { PsbtRequestDetailsLayout } from './psbt-request-details.layout';\nexport { PsbtRequestFee } from './psbt-request-fee';\nexport { PsbtRequestHeader } from './psbt-request-header';\nexport { PsbtRequestRaw } from './psbt-request-raw';\nexport { PsbtRequestSighashWarningLabel } from './psbt-request-sighash-warning-label';\n","import { useMemo } from 'react';\n\nimport type { TransactionInput } from '@scure/btc-signer/psbt';\nimport { bytesToHex } from '@stacks/common';\n\nimport { getBitcoinInputAddress, getBtcSignerLibNetworkConfigByMode } from '@leather.io/bitcoin';\nimport type { Inscription } from '@leather.io/models';\nimport { useInscriptionsByOutputs } from '@leather.io/query';\nimport { isDefined, isUndefined } from '@leather.io/utils';\n\nimport { getBitcoinInputValue } from '@shared/crypto/bitcoin/bitcoin.utils';\n\nimport { useCurrentAccountNativeSegwitIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useCurrentAccountTaprootIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/taproot-account.hooks';\nimport { useCurrentNetwork } from '@app/store/networks/networks.selectors';\n\nexport interface PsbtInput {\n  address: string;\n  index?: number;\n  inscription?: Inscription;\n  isMutable: boolean;\n  toSign: boolean;\n  txid: string;\n  value: number;\n}\n\ninterface UseParsedInputsArgs {\n  inputs: TransactionInput[];\n  indexesToSign?: number[];\n}\nexport function useParsedInputs({ inputs, indexesToSign }: UseParsedInputsArgs) {\n  const network = useCurrentNetwork();\n  const bitcoinNetwork = getBtcSignerLibNetworkConfigByMode(network.chain.bitcoin.mode);\n  const bitcoinAddressNativeSegwit = useCurrentAccountNativeSegwitIndexZeroSigner().address;\n  const { address: bitcoinAddressTaproot } = useCurrentAccountTaprootIndexZeroSigner();\n  const inscriptions = useInscriptionsByOutputs(inputs);\n  const signAll = isUndefined(indexesToSign);\n\n  const psbtInputs = useMemo(\n    () =>\n      inputs.map((input, i) => {\n        const inputAddress = isDefined(input.index)\n          ? getBitcoinInputAddress(input, bitcoinNetwork)\n          : '';\n        const isCurrentAddress =\n          inputAddress === bitcoinAddressNativeSegwit || inputAddress === bitcoinAddressTaproot;\n        // Flags when not signing ALL inputs/outputs (NONE, SINGLE, and ANYONECANPAY)\n        const canChange =\n          isCurrentAddress &&\n          !(!input.sighashType || input.sighashType === 0 || input.sighashType === 1);\n        // Should we check the sighashType here before it gets to the signing lib?\n        const toSignAll = isCurrentAddress && signAll;\n        const toSignIndex = isCurrentAddress && !signAll && indexesToSign.includes(i);\n\n        return {\n          address: inputAddress,\n          index: input.index,\n          inscription: inscriptions[i],\n          isMutable: canChange,\n          toSign: toSignAll || toSignIndex,\n          txid: input.txid ? bytesToHex(input.txid) : '',\n          value: isDefined(input.index) ? getBitcoinInputValue(input) : 0,\n        };\n      }),\n    [\n      bitcoinAddressNativeSegwit,\n      bitcoinAddressTaproot,\n      bitcoinNetwork,\n      indexesToSign,\n      inputs,\n      inscriptions,\n      signAll,\n    ]\n  );\n\n  const isPsbtMutable = useMemo(() => psbtInputs.some(input => input.isMutable), [psbtInputs]);\n\n  return { isPsbtMutable, parsedInputs: psbtInputs };\n}\n","import { useMemo } from 'react';\n\nimport type { TransactionOutput } from '@scure/btc-signer/psbt';\n\nimport { getAddressFromOutScript, getBtcSignerLibNetworkConfigByMode } from '@leather.io/bitcoin';\nimport type { NetworkConfiguration } from '@leather.io/models';\nimport { isDefined, isUndefined } from '@leather.io/utils';\n\nimport { logger } from '@shared/logger';\n\nimport { useCurrentAccountNativeSegwitIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useCurrentAccountTaprootIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/taproot-account.hooks';\n\nexport interface PsbtOutput {\n  address: string;\n  isMutable: boolean;\n  toSign: boolean;\n  value: number;\n}\n\ninterface UseParsedOutputsArgs {\n  isPsbtMutable: boolean;\n  outputs: TransactionOutput[];\n  network: NetworkConfiguration;\n}\nexport function useParsedOutputs({ isPsbtMutable, outputs, network }: UseParsedOutputsArgs) {\n  const bitcoinAddressNativeSegwit = useCurrentAccountNativeSegwitIndexZeroSigner().address;\n  const { address: bitcoinAddressTaproot } = useCurrentAccountTaprootIndexZeroSigner();\n  const bitcoinNetwork = getBtcSignerLibNetworkConfigByMode(network.chain.bitcoin.mode);\n\n  return useMemo(\n    () =>\n      outputs\n        .map(output => {\n          if (isUndefined(output.script)) {\n            logger.error('Output has no script');\n            return;\n          }\n          const outputAddress = getAddressFromOutScript(output.script, bitcoinNetwork);\n\n          const isCurrentAddress =\n            outputAddress === bitcoinAddressNativeSegwit || outputAddress === bitcoinAddressTaproot;\n\n          return {\n            address: outputAddress,\n            isMutable: isPsbtMutable,\n            toSign: isCurrentAddress,\n            value: Number(output.amount),\n          };\n        })\n        .filter(isDefined),\n    [bitcoinAddressNativeSegwit, bitcoinAddressTaproot, bitcoinNetwork, isPsbtMutable, outputs]\n  );\n}\n","import BigNumber from 'bignumber.js';\n\nimport { isDefined } from '@leather.io/utils';\n\nimport { PsbtInput } from './use-parsed-inputs';\nimport { PsbtOutput } from './use-parsed-outputs';\n\ninterface FindOutputsReceivingInscriptionsArgs {\n  psbtInputs: PsbtInput[];\n  psbtOutputs: PsbtOutput[];\n}\n// If an input has an inscription, we use the offset to determine where it matches\n// up from total input sats position to total output sats position. By doing this,\n// we can predict where the inscription will be sent.\nexport function findOutputsReceivingInscriptions({\n  psbtInputs,\n  psbtOutputs,\n}: FindOutputsReceivingInscriptionsArgs) {\n  let inputsSatsTotal = new BigNumber(0);\n\n  return psbtInputs\n    .flatMap(input => {\n      if (isDefined(input.inscription)) {\n        // Offset is zero indexed, so 1 is added here to match the sats total\n        const inscriptionTotalOffset = inputsSatsTotal.plus(Number(input.inscription.offset) + 1);\n\n        let outputsSatsTotal = new BigNumber(0);\n\n        // Add up all the output sats until the inscription is included in the output total.\n        // This should also detect if an inscription is being lost to fees bc the outputs will\n        // never add up to include the inscription, therefore it won't be shown.\n        for (let output = 0; output < psbtOutputs.length; output++) {\n          outputsSatsTotal = outputsSatsTotal.plus(psbtOutputs[output].value);\n          if (inscriptionTotalOffset.isLessThanOrEqualTo(outputsSatsTotal))\n            return { address: psbtOutputs[output].address, inscription: input.inscription };\n        }\n      }\n      inputsSatsTotal = inputsSatsTotal.plus(input.value);\n      return;\n    })\n    .filter(isDefined);\n}\n","import { useMemo } from 'react';\n\nimport { isDefined } from '@leather.io/utils';\n\nimport { useCurrentAccountNativeSegwitIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useCurrentAccountTaprootIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/taproot-account.hooks';\n\nimport { findOutputsReceivingInscriptions } from './find-outputs-receiving-inscriptions';\nimport { PsbtInput } from './use-parsed-inputs';\nimport { PsbtOutput } from './use-parsed-outputs';\n\nexport function usePsbtInscriptions(psbtInputs: PsbtInput[], psbtOutputs: PsbtOutput[]) {\n  const bitcoinAddressNativeSegwit = useCurrentAccountNativeSegwitIndexZeroSigner().address;\n  const { address: bitcoinAddressTaproot } = useCurrentAccountTaprootIndexZeroSigner();\n\n  const outputsReceivingInscriptions = useMemo(\n    () =>\n      findOutputsReceivingInscriptions({\n        psbtInputs,\n        psbtOutputs,\n      }),\n    [psbtInputs, psbtOutputs]\n  );\n\n  return useMemo(() => {\n    const accountInscriptionsBeingTransferred = psbtInputs\n      .filter(\n        input =>\n          input.address === bitcoinAddressNativeSegwit || input.address === bitcoinAddressTaproot\n      )\n      .map(input => input.inscription)\n      .filter(isDefined);\n\n    const accountInscriptionsBeingReceived = outputsReceivingInscriptions\n      .filter(\n        outputWithInscription =>\n          outputWithInscription.address === bitcoinAddressNativeSegwit ||\n          outputWithInscription.address === bitcoinAddressTaproot\n      )\n      .map(input => input.inscription)\n      .filter(\n        inscription =>\n          !accountInscriptionsBeingTransferred.find(\n            transferInscription => inscription.id === transferInscription.id\n          )\n      )\n      .filter(isDefined);\n\n    return {\n      accountInscriptionsBeingTransferred,\n      accountInscriptionsBeingReceived,\n    };\n  }, [bitcoinAddressNativeSegwit, bitcoinAddressTaproot, outputsReceivingInscriptions, psbtInputs]);\n}\n","import { useMemo } from 'react';\n\nimport { createMoney, sumNumbers } from '@leather.io/utils';\n\nimport { PsbtInput } from './use-parsed-inputs';\nimport { PsbtOutput } from './use-parsed-outputs';\n\nfunction calculateAddressInputsTotal(address: string, inputs: PsbtInput[]) {\n  return createMoney(\n    sumNumbers(inputs.filter(input => input.address === address).map(input => input.value)),\n    'BTC'\n  );\n}\n\nfunction calculateAddressOutputsTotal(address: string, outputs: PsbtOutput[]) {\n  return createMoney(\n    sumNumbers(\n      outputs.filter(output => output.address === address).map(output => Number(output.value))\n    ),\n    'BTC'\n  );\n}\n\nfunction calculatePsbtInputsTotal(inputs: PsbtInput[]) {\n  return createMoney(sumNumbers(inputs.map(input => input.value)), 'BTC');\n}\n\nfunction calculatePsbtOutputsTotal(outputs: PsbtOutput[]) {\n  return createMoney(sumNumbers(outputs.map(output => output.value)), 'BTC');\n}\n\ninterface UsePsbtTotalsProps {\n  bitcoinAddressNativeSegwit: string;\n  bitcoinAddressTaproot: string;\n  parsedInputs: PsbtInput[];\n  parsedOutputs: PsbtOutput[];\n}\nexport function usePsbtTotals({\n  bitcoinAddressNativeSegwit,\n  bitcoinAddressTaproot,\n  parsedInputs,\n  parsedOutputs,\n}: UsePsbtTotalsProps) {\n  return useMemo(\n    () => ({\n      inputsTotalNativeSegwit: calculateAddressInputsTotal(\n        bitcoinAddressNativeSegwit,\n        parsedInputs\n      ),\n      inputsTotalTaproot: calculateAddressInputsTotal(bitcoinAddressTaproot, parsedInputs),\n      outputsTotalNativeSegwit: calculateAddressOutputsTotal(\n        bitcoinAddressNativeSegwit,\n        parsedOutputs\n      ),\n      outputsTotalTaproot: calculateAddressOutputsTotal(bitcoinAddressTaproot, parsedOutputs),\n      psbtInputsTotal: calculatePsbtInputsTotal(parsedInputs),\n      psbtOutputsTotal: calculatePsbtOutputsTotal(parsedOutputs),\n    }),\n    [bitcoinAddressNativeSegwit, bitcoinAddressTaproot, parsedInputs, parsedOutputs]\n  );\n}\n","import { useCallback, useMemo } from 'react';\n\nimport type { TransactionInput, TransactionOutput } from '@scure/btc-signer/psbt';\n\nimport { createMoney, subtractMoney } from '@leather.io/utils';\n\nimport { useCurrentAccountNativeSegwitIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useCurrentAccountTaprootIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/taproot-account.hooks';\nimport { useCurrentNetwork } from '@app/store/networks/networks.selectors';\n\nimport { useParsedInputs } from './use-parsed-inputs';\nimport { useParsedOutputs } from './use-parsed-outputs';\nimport { usePsbtInscriptions } from './use-psbt-inscriptions';\nimport { usePsbtTotals } from './use-psbt-totals';\n\ninterface UsePsbtDetailsArgs {\n  inputs: TransactionInput[];\n  indexesToSign?: number[];\n  outputs: TransactionOutput[];\n}\nexport function usePsbtDetails({ inputs, indexesToSign, outputs }: UsePsbtDetailsArgs) {\n  const network = useCurrentNetwork();\n  const bitcoinAddressNativeSegwit = useCurrentAccountNativeSegwitIndexZeroSigner().address;\n  const { address: bitcoinAddressTaproot } = useCurrentAccountTaprootIndexZeroSigner();\n  const { isPsbtMutable, parsedInputs } = useParsedInputs({\n    inputs,\n    indexesToSign,\n  });\n  const parsedOutputs = useParsedOutputs({ isPsbtMutable, outputs, network });\n\n  const {\n    inputsTotalNativeSegwit,\n    inputsTotalTaproot,\n    outputsTotalNativeSegwit,\n    outputsTotalTaproot,\n    psbtInputsTotal,\n    psbtOutputsTotal,\n  } = usePsbtTotals({\n    bitcoinAddressNativeSegwit,\n    bitcoinAddressTaproot,\n    parsedInputs,\n    parsedOutputs,\n  });\n\n  const { accountInscriptionsBeingTransferred, accountInscriptionsBeingReceived } =\n    usePsbtInscriptions(parsedInputs, parsedOutputs);\n\n  const defaultToAdvancedView = useCallback(() => {\n    const noInputs = !inputs.length;\n    const noOutputs = !outputs.length;\n    return noInputs || noOutputs;\n  }, [inputs.length, outputs.length]);\n\n  const fee = useMemo(() => {\n    if (psbtInputsTotal.amount.isGreaterThan(psbtOutputsTotal.amount))\n      return subtractMoney(psbtInputsTotal, psbtOutputsTotal);\n    return createMoney(0, 'BTC');\n  }, [psbtInputsTotal, psbtOutputsTotal]);\n\n  return {\n    accountInscriptionsBeingTransferred,\n    accountInscriptionsBeingReceived,\n    addressNativeSegwitTotal: subtractMoney(inputsTotalNativeSegwit, outputsTotalNativeSegwit),\n    addressTaprootTotal: subtractMoney(inputsTotalTaproot, outputsTotalTaproot),\n    fee,\n    isPsbtMutable,\n    psbtInputs: parsedInputs,\n    psbtOutputs: parsedOutputs,\n    shouldDefaultToAdvancedView: defaultToAdvancedView(),\n  };\n}\n","import { useMemo } from 'react';\n\nimport { hexToBytes } from '@noble/hashes/utils';\nimport * as btc from '@scure/btc-signer';\nimport { RawPSBTV0, RawPSBTV2 } from '@scure/btc-signer/psbt';\n\nimport { isString } from '@leather.io/utils';\n\nimport { BitcoinInputSigningConfig } from '@shared/crypto/bitcoin/signer-config';\nimport { logger } from '@shared/logger';\n\nimport {\n  useAddTapInternalKeysIfMissing,\n  useSignBitcoinTx,\n} from '@app/store/accounts/blockchain/bitcoin/bitcoin.hooks';\n\nexport type RawPsbt = ReturnType<typeof RawPSBTV0.decode>;\n\ninterface SignPsbtArgs {\n  signingConfig: BitcoinInputSigningConfig[];\n  tx: btc.Transaction;\n}\nexport function usePsbtSigner() {\n  const addMissingTapInteralKeys = useAddTapInternalKeysIfMissing();\n  const signBitcoinTx = useSignBitcoinTx();\n\n  return useMemo(\n    () => ({\n      async signPsbt({ signingConfig, tx }: SignPsbtArgs) {\n        addMissingTapInteralKeys(tx, signingConfig);\n        return signBitcoinTx(tx.toPSBT(), signingConfig);\n      },\n      getPsbtAsTransaction(psbt: string | Uint8Array) {\n        const bytes = isString(psbt) ? hexToBytes(psbt) : psbt;\n        return btc.Transaction.fromPSBT(bytes);\n      },\n      getRawPsbt(psbt: string | Uint8Array) {\n        const bytes = isString(psbt) ? hexToBytes(psbt) : psbt;\n        try {\n          return RawPSBTV0.decode(bytes);\n        } catch (e1) {\n          logger.error(`Unable to decode PSBT as v0, trying v2, ${e1}`);\n          try {\n            return RawPSBTV2.decode(bytes);\n          } catch (e2) {\n            throw new Error(`Unable to decode PSBT, ${e1 ?? e2}`);\n          }\n        }\n      },\n    }),\n    [addMissingTapInteralKeys, signBitcoinTx]\n  );\n}\n","import { useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { PsbtSelectors } from '@tests/selectors/requests.selectors';\n\nimport { getPsbtTxInputs, getPsbtTxOutputs } from '@leather.io/bitcoin';\nimport { Button } from '@leather.io/ui';\nimport { isError } from '@leather.io/utils';\n\nimport { RouteUrls } from '@shared/route-urls';\nimport { closeWindow } from '@shared/utils';\n\nimport { SignPsbtArgs } from '@app/common/psbt/requests';\nimport { ButtonRow, Card } from '@app/components/layout';\nimport { PopupHeader } from '@app/features/container/headers/popup.header';\nimport { useBreakOnNonCompliantEntity } from '@app/query/common/compliance-checker/compliance-checker.query';\nimport { useOnOriginTabClose } from '@app/routes/hooks/use-on-tab-closed';\nimport { useCurrentAccountNativeSegwitIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useCurrentAccountTaprootIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/taproot-account.hooks';\n\nimport * as Psbt from './components';\nimport { usePsbtDetails } from './hooks/use-psbt-details';\nimport { usePsbtSigner } from './hooks/use-psbt-signer';\nimport { PsbtSignerContext, PsbtSignerProvider } from './psbt-signer.context';\n\ninterface PsbtSignerProps {\n  indexesToSign?: number[];\n  isBroadcasting?: boolean;\n  name?: string;\n  origin: string;\n  onCancel(): void;\n  onSignPsbt({ addressNativeSegwitTotal, addressTaprootTotal, fee, inputs }: SignPsbtArgs): void;\n  psbtHex: string;\n}\nexport function PsbtSigner(props: PsbtSignerProps) {\n  const { indexesToSign, isBroadcasting, name, origin, onCancel, onSignPsbt, psbtHex } = props;\n  const navigate = useNavigate();\n  const { address: addressNativeSegwit } = useCurrentAccountNativeSegwitIndexZeroSigner();\n  const { address: addressTaproot } = useCurrentAccountTaprootIndexZeroSigner();\n  const { getRawPsbt, getPsbtAsTransaction } = usePsbtSigner();\n\n  useOnOriginTabClose(() => closeWindow());\n\n  const psbtRaw = useMemo(() => {\n    try {\n      return getRawPsbt(psbtHex);\n    } catch (e) {\n      navigate(RouteUrls.RequestError, {\n        state: { message: isError(e) ? e.message : '', title: 'Failed request' },\n      });\n      return;\n    }\n  }, [getRawPsbt, navigate, psbtHex]);\n\n  const psbtTx = useMemo(() => getPsbtAsTransaction(psbtHex), [getPsbtAsTransaction, psbtHex]);\n  const psbtTxInputs = useMemo(() => getPsbtTxInputs(psbtTx), [psbtTx]);\n  const psbtTxOutputs = useMemo(() => getPsbtTxOutputs(psbtTx), [psbtTx]);\n\n  const {\n    accountInscriptionsBeingTransferred,\n    accountInscriptionsBeingReceived,\n    addressNativeSegwitTotal,\n    addressTaprootTotal,\n    fee,\n    isPsbtMutable,\n    psbtInputs,\n    psbtOutputs,\n    shouldDefaultToAdvancedView,\n  } = usePsbtDetails({\n    inputs: psbtTxInputs,\n    indexesToSign,\n    outputs: psbtTxOutputs,\n  });\n\n  useBreakOnNonCompliantEntity(psbtOutputs.map(output => output.address));\n\n  const psbtSignerContext: PsbtSignerContext = {\n    accountInscriptionsBeingTransferred,\n    accountInscriptionsBeingReceived,\n    addressNativeSegwit,\n    addressTaproot,\n    addressNativeSegwitTotal,\n    addressTaprootTotal,\n    fee,\n    isPsbtMutable,\n    psbtInputs,\n    psbtOutputs,\n    shouldDefaultToAdvancedView,\n  };\n\n  if (shouldDefaultToAdvancedView && psbtRaw) return <Psbt.PsbtRequestRaw psbt={psbtRaw} />;\n\n  return (\n    <PsbtSignerProvider value={psbtSignerContext}>\n      <PopupHeader showSwitchAccount balance=\"all\" />\n      <Card\n        dataTestId={PsbtSelectors.PsbtSignerCard}\n        contentStyle={{\n          maxHeight: '80vh',\n        }}\n        overflow=\"hidden\"\n        footerBorder\n        footer={\n          <ButtonRow flexDirection=\"row\">\n            <Button flexGrow={1} onClick={onCancel} variant=\"outline\">\n              Cancel\n            </Button>\n            <Button\n              flexGrow={1}\n              aria-busy={isBroadcasting}\n              onClick={() =>\n                onSignPsbt({\n                  addressNativeSegwitTotal,\n                  addressTaprootTotal,\n                  fee,\n                  inputs: psbtTxInputs,\n                })\n              }\n            >\n              Confirm\n            </Button>\n          </ButtonRow>\n        }\n      >\n        <Psbt.PsbtRequestHeader name={name} origin={origin} />\n        <Psbt.PsbtRequestDetailsLayout>\n          {isPsbtMutable ? <Psbt.PsbtRequestSighashWarningLabel origin={origin} /> : null}\n          <Psbt.PsbtRequestDetailsHeader />\n          <Psbt.PsbtInputsOutputsTotals />\n          <Psbt.PsbtInputsAndOutputs />\n          {psbtRaw ? <Psbt.PsbtRequestRaw psbt={psbtRaw} /> : null}\n          <Psbt.PsbtRequestFee fee={fee} />\n        </Psbt.PsbtRequestDetailsLayout>\n      </Card>\n    </PsbtSignerProvider>\n  );\n}\n","import { PsbtData } from '@stacks/connect';\n\nimport { ExternalMethods, MESSAGE_SOURCE, PsbtResponseMessage } from '@shared/message-types';\nimport { closeWindow } from '@shared/utils';\n\ninterface FormatPsbtResponseArgs {\n  request: string;\n  response: PsbtData | string;\n}\nexport function formatPsbtResponse({\n  request,\n  response,\n}: FormatPsbtResponseArgs): PsbtResponseMessage {\n  return {\n    source: MESSAGE_SOURCE,\n    method: ExternalMethods.psbtResponse,\n    payload: {\n      psbtRequest: request,\n      psbtResponse: response,\n    },\n  };\n}\n\ninterface FinalizePsbtArgs {\n  data: PsbtData | string;\n  requestPayload: string;\n  tabId: number;\n}\nexport function finalizePsbt({ data, requestPayload, tabId }: FinalizePsbtArgs) {\n  const responseMessage = formatPsbtResponse({ request: requestPayload, response: data });\n  chrome.tabs.sendMessage(tabId, responseMessage);\n  closeWindow();\n}\n","import type { TransactionInput } from '@scure/btc-signer/psbt';\nimport { PsbtPayload } from '@stacks/connect';\nimport { decodeToken } from 'jsontokens';\n\nimport type { Money } from '@leather.io/models';\nimport { isString } from '@leather.io/utils';\n\nexport interface SignPsbtArgs {\n  addressNativeSegwitTotal?: Money;\n  addressTaprootTotal?: Money;\n  fee?: Money;\n  inputs: TransactionInput[];\n}\n\nexport function getPsbtPayloadFromToken(requestToken: string): PsbtPayload {\n  const token = decodeToken(requestToken);\n  if (isString(token.payload)) throw new Error('Error decoding json token');\n  return token.payload as unknown as PsbtPayload;\n}\n","import { useMemo } from 'react';\n\nimport { ensureArray, isDefined, undefinedIfLengthZero } from '@leather.io/utils';\n\nimport { useDefaultRequestParams } from '../hooks/use-default-request-search-params';\nimport { initialSearchParams } from '../initial-search-params';\nimport { getPsbtPayloadFromToken } from './requests';\n\nexport function usePsbtRequestSearchParams() {\n  const { origin, tabId } = useDefaultRequestParams();\n  const requestToken = initialSearchParams.get('request');\n\n  if (!requestToken) throw new Error('Cannot decode psbt without request token');\n\n  const payload = getPsbtPayloadFromToken(requestToken);\n\n  return useMemo(\n    () => ({\n      appName: payload?.appDetails?.name,\n      origin,\n      payload,\n      requestToken,\n      signAtIndex: isDefined(payload?.signAtIndex)\n        ? undefinedIfLengthZero(ensureArray(payload?.signAtIndex).map(h => Number(h)))\n        : undefined,\n      tabId: tabId ?? 1,\n    }),\n    [origin, payload, requestToken, tabId]\n  );\n}\n\nexport function useRpcSignPsbtParams() {\n  const { origin, tabId } = useDefaultRequestParams();\n  const broadcast = initialSearchParams.get('broadcast');\n  const psbtHex = initialSearchParams.get('hex');\n  const requestId = initialSearchParams.get('requestId');\n  const signAtIndex = initialSearchParams.getAll('signAtIndex');\n\n  return useMemo(\n    () => ({\n      broadcast: broadcast === 'true',\n      origin,\n      psbtHex,\n      requestId,\n      signAtIndex: undefinedIfLengthZero(ensureArray(signAtIndex).map(h => Number(h))),\n      tabId: tabId ?? 0,\n    }),\n    [broadcast, origin, psbtHex, requestId, signAtIndex, tabId]\n  );\n}\n","import { useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport { bytesToHex, hexToBytes } from '@noble/hashes/utils';\n\nimport { isError } from '@leather.io/utils';\n\nimport { finalizePsbt } from '@shared/actions/finalize-psbt';\nimport { RouteUrls } from '@shared/route-urls';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { usePsbtRequestSearchParams } from '@app/common/psbt/use-psbt-request-params';\nimport { usePsbtSigner } from '@app/features/psbt-signer/hooks/use-psbt-signer';\nimport { useGetAssumedZeroIndexSigningConfig } from '@app/store/accounts/blockchain/bitcoin/bitcoin.hooks';\n\nexport function usePsbtRequest() {\n  const [isLoading, setIsLoading] = useState(false);\n\n  const navigate = useNavigate();\n  const { appName, origin, payload, requestToken, signAtIndex, tabId } =\n    usePsbtRequestSearchParams();\n  const { signPsbt, getRawPsbt, getPsbtAsTransaction } = usePsbtSigner();\n  const getDefaultSigningConfig = useGetAssumedZeroIndexSigningConfig();\n\n  return useMemo(() => {\n    return {\n      appName,\n      indexesToSign: signAtIndex,\n      isLoading,\n      getRawPsbt,\n      origin,\n      psbtHex: payload.hex,\n      onDenyPsbtSigning() {\n        void analytics.track('request_psbt_cancel');\n        finalizePsbt({\n          data: 'PSBT request was canceled',\n          requestPayload: requestToken,\n          tabId,\n        });\n      },\n      async onSignPsbt() {\n        setIsLoading(true);\n        void analytics.track('request_sign_psbt_submit');\n\n        const tx = getPsbtAsTransaction(payload.hex);\n\n        try {\n          const signingConfig = getDefaultSigningConfig(hexToBytes(payload.hex), signAtIndex);\n          const signedTx = await signPsbt({ tx, signingConfig });\n\n          const signedPsbt = signedTx.toPSBT();\n\n          setIsLoading(false);\n\n          finalizePsbt({\n            data: { hex: bytesToHex(signedPsbt) },\n            requestPayload: requestToken,\n            tabId,\n          });\n        } catch (e) {\n          return navigate(RouteUrls.RequestError, {\n            state: { message: isError(e) ? e.message : '', title: 'Failed to sign' },\n          });\n        }\n      },\n    };\n  }, [\n    appName,\n    signAtIndex,\n    isLoading,\n    getRawPsbt,\n    origin,\n    payload.hex,\n    requestToken,\n    tabId,\n    getPsbtAsTransaction,\n    signPsbt,\n    getDefaultSigningConfig,\n    navigate,\n  ]);\n}\n","import { LoadingSpinner } from '@app/components/loading-spinner';\nimport { PsbtSigner } from '@app/features/psbt-signer/psbt-signer';\n\nimport { usePsbtRequest } from './use-psbt-request';\n\nexport function PsbtRequest() {\n  const { appName, indexesToSign, isLoading, onSignPsbt, onDenyPsbtSigning, origin, psbtHex } =\n    usePsbtRequest();\n\n  if (isLoading) return <LoadingSpinner height=\"600px\" />;\n\n  return (\n    <PsbtSigner\n      name={appName ?? ''}\n      indexesToSign={indexesToSign}\n      origin={origin ?? ''}\n      onSignPsbt={onSignPsbt}\n      onCancel={onDenyPsbtSigning}\n      psbtHex={psbtHex}\n    />\n  );\n}\n","import { Disclaimer } from '@app/components/disclaimer';\n\ninterface DisclaimerProps {\n  appName?: string | null;\n}\nexport function StacksMessageSigningDisclaimer({ appName }: DisclaimerProps) {\n  return (\n    <Disclaimer\n      disclaimerText={`By signing this message, you are authorizing ${\n        appName ?? 'the app'\n      } to do something specific\n    on your behalf. Only sign messages that you understand from apps that you trust.\n`}\n      learnMoreUrl=\"https://docs.hiro.so/build-apps/message-signing\"\n      mb=\"space.05\"\n    />\n  );\n}\n","import { ChainID, bytesToHex } from '@stacks/common';\nimport { hashMessage } from '@stacks/encryption';\n\nimport { UnsignedMessage } from '@shared/signature/signature-types';\n\nimport { NoFeesWarningRow } from '@app/components/no-fees-warning-row';\n\nimport { MessagePreviewBox } from '../../../features/message-signer/message-preview-box';\nimport { SignMessageActions } from '../../../features/message-signer/stacks-sign-message-action';\nimport { Utf8Payload } from '../stacks-message-signing';\nimport { StacksMessageSigningDisclaimer } from './message-signing-disclaimer';\n\ninterface SignatureRequestMessageContentProps {\n  isLoading: boolean;\n  onSignMessage(unsignedMessage: UnsignedMessage): Promise<void>;\n  onCancelMessageSigning(): void;\n  payload: Utf8Payload;\n}\nexport function StacksSignatureRequestMessageContent({\n  isLoading,\n  onSignMessage,\n  onCancelMessageSigning,\n  payload,\n}: SignatureRequestMessageContentProps) {\n  return (\n    <>\n      <MessagePreviewBox\n        message={payload.message}\n        hash={bytesToHex(hashMessage(payload.message))}\n      />\n      <NoFeesWarningRow chainId={payload.network?.chainId ?? ChainID.Testnet} />\n      <SignMessageActions\n        isLoading={isLoading}\n        onSignMessageCancel={onCancelMessageSigning}\n        onSignMessage={() => onSignMessage({ messageType: 'utf8', message: payload.message })}\n      />\n      <hr />\n      <StacksMessageSigningDisclaimer appName={payload.appName} />\n    </>\n  );\n}\n","import { ClarityType } from '@stacks/transactions';\nimport { Box, BoxProps, Flex, FlexProps } from 'leather-styles/jsx';\n\ninterface TupleDisplayerProps extends BoxProps {\n  isRoot: boolean;\n}\nexport function TupleDisplayer({ isRoot, ...rest }: TupleDisplayerProps) {\n  const rootStyles = isRoot\n    ? {\n        flex: '1 100%',\n        pt: '12px',\n        marginLeft: 0,\n        fontFamily: 'Fira Code',\n      }\n    : {};\n  return <Box ml=\"space.04\" overflow=\"visible\" {...rest} style={{ ...rootStyles }} />;\n}\n\ninterface TupleNodeDisplayerProps {\n  clarityType: ClarityType;\n  children: React.ReactNode;\n}\nexport function TupleNodeDisplayer({ clarityType, ...props }: TupleNodeDisplayerProps) {\n  return clarityType === ClarityType.Tuple ? <Box {...props} /> : <Flex {...props} />;\n}\nexport function TupleNodeLabelDisplayer(props: BoxProps) {\n  return <Box mr=\"space.04\" color=\"ink.text-subdued\" {...props} />;\n}\n\nexport function TupleNodeValueDisplayer(props: FlexProps) {\n  return <Flex wordWrap=\"break-word\" whiteSpace=\"pre-line\" {...props} />;\n}\n","import { bytesToAscii, bytesToHex } from '@stacks/common';\nimport { ClarityType, ClarityValue, cvToString, principalToString } from '@stacks/transactions';\n\nimport {\n  TupleDisplayer,\n  TupleNodeDisplayer,\n  TupleNodeLabelDisplayer,\n  TupleNodeValueDisplayer,\n} from './nested-tuple-displayer';\n\nfunction wrapText(text: string): React.JSX.Element {\n  return <>{text}</>;\n}\n\ninterface ClarityValueListDisplayerProps {\n  val: ClarityValue;\n  encoding?: 'tryAscii' | 'hex';\n  isRoot?: boolean;\n}\nexport function ClarityValueListDisplayer(props: ClarityValueListDisplayerProps) {\n  const { val, encoding, isRoot = true } = props;\n\n  switch (val.type) {\n    case ClarityType.BoolTrue:\n      return wrapText('true');\n    case ClarityType.BoolFalse:\n      return wrapText('false');\n    case ClarityType.Int:\n      return wrapText(val.value.toString());\n    case ClarityType.UInt:\n      return wrapText(`u${val.value.toString()}`);\n    case ClarityType.Buffer:\n      if (encoding === 'tryAscii') {\n        const str = bytesToAscii(val.buffer);\n        if (/[ -~]/.test(str)) return wrapText(JSON.stringify(str));\n      }\n      return wrapText(`0x${bytesToHex(val.buffer)}`);\n    case ClarityType.OptionalNone:\n      return wrapText('none');\n    case ClarityType.OptionalSome:\n      return wrapText(`some ${cvToString(val.value, encoding)}`);\n    case ClarityType.ResponseErr:\n      return wrapText(`err ${cvToString(val.value, encoding)}`);\n    case ClarityType.ResponseOk:\n      return wrapText(`ok ${cvToString(val.value, encoding)}`);\n    case ClarityType.PrincipalStandard:\n    case ClarityType.PrincipalContract:\n      return wrapText(principalToString(val));\n    case ClarityType.List:\n      return wrapText(`[${val.list.map(v => cvToString(v, encoding)).join(', ')}]`);\n    case ClarityType.Tuple:\n      return (\n        <TupleDisplayer isRoot={isRoot}>\n          {Object.entries(val.data).map(([key, value]) => (\n            <TupleNodeDisplayer clarityType={value.type} key={key}>\n              <TupleNodeLabelDisplayer>{key}:</TupleNodeLabelDisplayer>\n              <TupleNodeValueDisplayer>\n                <ClarityValueListDisplayer val={value} encoding=\"tryAscii\" isRoot={false} />\n              </TupleNodeValueDisplayer>\n            </TupleNodeDisplayer>\n          ))}\n        </TupleDisplayer>\n      );\n    case ClarityType.StringASCII:\n      return wrapText(`\"${val.data}\"`);\n    case ClarityType.StringUTF8:\n      return wrapText(`u\"${val.data}\"`);\n  }\n}\n","import { useEffect, useState } from 'react';\n\nimport { ClarityValue } from '@stacks/transactions';\nimport { Box, Divider, HStack, Stack, styled } from 'leather-styles/jsx';\n\nimport { StructuredMessageDataDomain } from '@shared/signature/signature-types';\n\nimport {\n  chainIdToDisplay,\n  cvToDisplay,\n  deriveStructuredMessageHash,\n} from '@app/features/ledger/flows/stacks-message-signing/message-signing.utils';\nimport { HashDrawer } from '@app/features/message-signer/hash-drawer';\n\nimport { ClarityValueListDisplayer } from './clarity-value-list';\n\nexport function StructuredDataBox(props: {\n  message: ClarityValue;\n  domain: StructuredMessageDataDomain;\n}) {\n  const { message, domain } = props;\n\n  const [hash, setHash] = useState<string | undefined>();\n  const [domainName, setDomainName] = useState<string | undefined>();\n  const [domainVersion, setDomainVersion] = useState<string | undefined>();\n  const [domainChainName, setDomainChainName] = useState<string | undefined>();\n\n  useEffect(() => {\n    setHash(deriveStructuredMessageHash({ message, domain }));\n  }, [message, domain]);\n\n  useEffect(() => {\n    setDomainName(cvToDisplay(domain.data.name));\n    setDomainVersion(cvToDisplay(domain.data.version));\n    setDomainChainName(chainIdToDisplay(domain.data['chain-id']));\n  }, [domain]);\n\n  if (!message) return null;\n\n  return (\n    <Box minHeight=\"260px\">\n      <Stack\n        border=\"active\"\n        paddingBottom=\"space.02\"\n        borderColor=\"ink.border-default\"\n        borderRadius=\"sm\"\n      >\n        <Box background=\"ink.background-primary\" overflowX=\"scroll\" py=\"space.05\">\n          <Box fontSize=\"14px\" lineHeight=\"1.7\" px=\"space.05\">\n            <HStack alignItems=\"center\" justifyContent=\"space-between\">\n              <styled.h2 textStyle=\"label.01\">{domainName}</styled.h2>\n              <styled.span lineHeight=\"1.5\" textStyle=\"caption.01\">\n                {domainVersion} {domainChainName}\n              </styled.span>\n            </HStack>\n            <Divider py=\"space.01\" />\n            <Box>\n              <ClarityValueListDisplayer val={message} encoding={'tryAscii'} />\n            </Box>\n          </Box>\n        </Box>\n        {hash ? <HashDrawer hash={hash} /> : null}\n      </Stack>\n    </Box>\n  );\n}\n","import { ChainID } from '@stacks/common';\n\nimport { UnsignedMessage } from '@shared/signature/signature-types';\n\nimport { NoFeesWarningRow } from '@app/components/no-fees-warning-row';\nimport { SignMessageActions } from '@app/features/message-signer/stacks-sign-message-action';\n\nimport { StructuredPayload } from '../stacks-message-signing';\nimport { StacksMessageSigningDisclaimer } from './message-signing-disclaimer';\nimport { StructuredDataBox } from './structured-data-box';\n\ninterface SignatureRequestStructuredDataContentProps {\n  isLoading: boolean;\n  onSignMessage(unsignedMessage: UnsignedMessage): Promise<void>;\n  onCancelMessageSigning(): void;\n  payload: StructuredPayload;\n}\nexport function SignatureRequestStructuredDataContent({\n  isLoading,\n  onSignMessage,\n  onCancelMessageSigning,\n  payload,\n}: SignatureRequestStructuredDataContentProps) {\n  return (\n    <>\n      <StructuredDataBox message={payload.message} domain={payload.domain} />\n      <NoFeesWarningRow chainId={payload.network?.chainId ?? ChainID.Testnet} />\n      <SignMessageActions\n        isLoading={isLoading}\n        onSignMessageCancel={onCancelMessageSigning}\n        onSignMessage={() =>\n          onSignMessage({\n            messageType: 'structured',\n            message: payload.message,\n            domain: payload.domain,\n          })\n        }\n      />\n      <hr />\n      <StacksMessageSigningDisclaimer appName={payload.appName} />\n    </>\n  );\n}\n","import { Outlet } from 'react-router-dom';\n\nimport { StacksNetwork } from '@stacks/network';\nimport { ClarityValue } from '@stacks/transactions/dist/esm/clarity';\n\nimport {\n  SignedMessageType,\n  StructuredMessageDataDomain,\n  UnsignedMessage,\n  isSignableMessageType,\n  isStructuredMessageType,\n  isUtf8MessageType,\n} from '@shared/signature/signature-types';\nimport { closeWindow } from '@shared/utils';\n\nimport { MessageSigningHeader } from '@app/features/message-signer/message-signing-header';\nimport { useOnOriginTabClose } from '@app/routes/hooks/use-on-tab-closed';\n\nimport { MessageSigningRequestLayout } from '../message-signer/message-signing-request.layout';\nimport { StacksSignatureRequestMessageContent } from './components/stacks-signature-message-content';\nimport { SignatureRequestStructuredDataContent } from './components/structured-data-content';\n\nexport interface Utf8Payload {\n  messageType: 'utf8';\n  message: string;\n  network: StacksNetwork | undefined;\n  appName: string | undefined | null;\n}\n\nexport interface StructuredPayload {\n  messageType: 'structured';\n  message: ClarityValue;\n  network: StacksNetwork | undefined;\n  appName: string | undefined | null;\n  domain: StructuredMessageDataDomain;\n}\n\ninterface StacksMessageSigningProps {\n  messageType: SignedMessageType;\n  tabId: number | null;\n  origin: string | null;\n  isLoading: boolean;\n  onSignMessage(unsignedMessage: UnsignedMessage): Promise<void>;\n  onCancelMessageSigning(): void;\n  payload: Utf8Payload | StructuredPayload;\n}\n\nexport function StacksMessageSigning({\n  messageType,\n  tabId,\n  origin,\n  isLoading,\n  onSignMessage,\n  onCancelMessageSigning,\n  payload,\n}: StacksMessageSigningProps) {\n  useOnOriginTabClose(() => closeWindow());\n\n  if (!tabId) return null;\n  if (!isSignableMessageType(messageType)) return null;\n  if (!origin) return null;\n\n  return (\n    <MessageSigningRequestLayout>\n      <MessageSigningHeader name={origin} origin={origin} />\n\n      {isUtf8MessageType(messageType) && payload.messageType === 'utf8' && (\n        <StacksSignatureRequestMessageContent\n          isLoading={isLoading}\n          onSignMessage={onSignMessage}\n          onCancelMessageSigning={onCancelMessageSigning}\n          payload={payload}\n        />\n      )}\n      {isStructuredMessageType(messageType) && payload.messageType === 'structured' && (\n        <SignatureRequestStructuredDataContent\n          isLoading={isLoading}\n          onSignMessage={onSignMessage}\n          onCancelMessageSigning={onCancelMessageSigning}\n          payload={payload}\n        />\n      )}\n      <Outlet />\n    </MessageSigningRequestLayout>\n  );\n}\n","import { SignatureData } from '@stacks/connect';\n\nimport { ExternalMethods, MESSAGE_SOURCE, SignatureResponseMessage } from '@shared/message-types';\n\ninterface FormatMessageSigningResponseArgs {\n  request: string;\n  response: SignatureData | string;\n}\nexport function formatMessageSigningResponse({\n  request,\n  response,\n}: FormatMessageSigningResponseArgs): SignatureResponseMessage {\n  return {\n    source: MESSAGE_SOURCE,\n    method: ExternalMethods.signatureResponse,\n    payload: { signatureRequest: request, signatureResponse: response },\n  };\n}\n","import { SignatureData } from '@stacks/connect';\n\nimport { closeWindow } from '@shared/utils';\n\nimport { formatMessageSigningResponse } from './finalize-message-signature-format';\n\ninterface FinalizeMessageSignatureArgs {\n  requestPayload: string;\n  tabId: number;\n  data: SignatureData | string;\n}\nexport function finalizeMessageSignature({\n  requestPayload,\n  data,\n  tabId,\n}: FinalizeMessageSignatureArgs) {\n  const responseMessage = formatMessageSigningResponse({ request: requestPayload, response: data });\n  chrome.tabs.sendMessage(tabId, responseMessage);\n  closeWindow();\n}\n","import { bytesToHex } from '@stacks/common';\nimport { SignatureData } from '@stacks/connect';\nimport { hashMessage } from '@stacks/encryption';\nimport {\n  ClarityValue,\n  StacksPrivateKey,\n  getPublicKey,\n  publicKeyToString,\n  signMessageHashRsv,\n  signStructuredData,\n} from '@stacks/transactions';\n\nexport function signMessage(message: string, privateKey: StacksPrivateKey): SignatureData {\n  const hash = hashMessage(message);\n  return {\n    signature: signMessageHashRsv({ privateKey, messageHash: bytesToHex(hash) }).data,\n    publicKey: publicKeyToString(getPublicKey(privateKey)),\n  };\n}\n\nexport function signStructuredDataMessage(\n  message: ClarityValue,\n  domain: ClarityValue,\n  privateKey: StacksPrivateKey\n): SignatureData {\n  const signature = signStructuredData({\n    message,\n    domain,\n    privateKey,\n  }).data;\n\n  return {\n    signature,\n    publicKey: publicKeyToString(getPublicKey(privateKey)),\n  };\n}\n","import { useCallback } from 'react';\n\nimport { ClarityValue, TupleCV, createStacksPrivateKey } from '@stacks/transactions';\n\nimport { isString } from '@leather.io/utils';\n\nimport { signMessage, signStructuredDataMessage } from '@shared/crypto/sign-message';\nimport { createDelay } from '@shared/utils';\n\nimport { useCurrentStacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\nexport const improveUxWithShortDelayAsStacksSigningIsSoFast = createDelay(1000);\n\nexport function useMessageSignerStacksSoftwareWallet() {\n  const account = useCurrentStacksAccount();\n  return useCallback(\n    ({ message, domain }: { message: string | ClarityValue; domain?: TupleCV }) => {\n      if (!account || account.type === 'ledger') return null;\n\n      const privateKey = createStacksPrivateKey(account.stxPrivateKey);\n\n      if (isString(message)) {\n        return signMessage(message, privateKey);\n      } else {\n        if (!domain) throw new Error('Domain is required for structured messages');\n\n        // returns signature in RSV format\n        return signStructuredDataMessage(message, domain, privateKey);\n      }\n    },\n    [account]\n  );\n}\n","import isEqual from 'lodash.isequal';\n\nimport type { UnsignedMessage } from '@shared/signature/signature-types';\n\nimport { GlobalAppEvents, appEvents } from '@app/common/publish-subscribe';\n\nexport async function listenForStacksMessageSigning(\n  unsignedMessage: UnsignedMessage\n): Promise<any> {\n  return new Promise((resolve, reject) => {\n    function stacksMessageSignedHandler(msg: GlobalAppEvents['ledgerStacksMessageSigned']) {\n      if (isEqual(msg.unsignedMessage, unsignedMessage)) {\n        appEvents.unsubscribe('ledgerStacksMessageSigned', stacksMessageSignedHandler);\n        appEvents.unsubscribe('ledgerStacksMessageSigningCancelled', signingAbortedHandler);\n        resolve(msg.messageSignatures);\n      }\n    }\n    appEvents.subscribe('ledgerStacksMessageSigned', stacksMessageSignedHandler);\n\n    function signingAbortedHandler(msg: GlobalAppEvents['ledgerStacksMessageSigningCancelled']) {\n      if (isEqual(msg.unsignedMessage, unsignedMessage)) {\n        appEvents.unsubscribe('ledgerStacksMessageSigningCancelled', signingAbortedHandler);\n        appEvents.unsubscribe('ledgerStacksMessageSigned', stacksMessageSignedHandler);\n        reject(new Error('User cancelled the signing operation'));\n      }\n    }\n    appEvents.subscribe('ledgerStacksMessageSigningCancelled', signingAbortedHandler);\n  });\n}\n","import { useState } from 'react';\n\nimport { SignatureData } from '@stacks/connect';\n\nimport { logger } from '@shared/logger';\nimport { UnsignedMessage } from '@shared/signature/signature-types';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useWalletType } from '@app/common/use-wallet-type';\nimport { useLedgerNavigate } from '@app/features/ledger/hooks/use-ledger-navigate';\nimport {\n  improveUxWithShortDelayAsStacksSigningIsSoFast,\n  useMessageSignerStacksSoftwareWallet,\n} from '@app/features/stacks-message-signer/stacks-message-signing.utils';\n\nimport { listenForStacksMessageSigning } from '../ledger/flows/stacks-message-signing/stacks-message-signing-event-listeners';\n\ninterface SignStacksMessageProps {\n  onSignMessageCompleted(messageSignature: SignatureData): void;\n  onSignMessageCancelled(): void;\n}\nexport function useSignStacksMessage({\n  onSignMessageCompleted,\n  onSignMessageCancelled,\n}: SignStacksMessageProps) {\n  const signSoftwareWalletMessage = useMessageSignerStacksSoftwareWallet();\n\n  const { whenWallet } = useWalletType();\n  const ledgerNavigate = useLedgerNavigate();\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const signMessage = whenWallet({\n    async software(unsignedMessage: UnsignedMessage) {\n      setIsLoading(true);\n      void analytics.track('request_signature_sign', { type: 'software' });\n\n      const messageSignature = signSoftwareWalletMessage(unsignedMessage);\n\n      if (!messageSignature) {\n        logger.error('Cannot sign message, no account in state');\n        void analytics.track('request_signature_cannot_sign_message_no_account');\n        return;\n      }\n      await improveUxWithShortDelayAsStacksSigningIsSoFast();\n      setIsLoading(false);\n\n      onSignMessageCompleted(messageSignature);\n    },\n\n    async ledger(unsignedMessage: UnsignedMessage) {\n      void analytics.track('request_signature_sign', { type: 'ledger' });\n      ledgerNavigate.toConnectAndSignMessageStep(unsignedMessage);\n      try {\n        const messageSignature = await listenForStacksMessageSigning(unsignedMessage);\n        onSignMessageCompleted(messageSignature);\n      } catch (e) {\n        onSignMessageCancelled();\n      }\n    },\n  });\n\n  return { isLoading, signMessage };\n}\n","import { finalizeMessageSignature } from '@shared/actions/finalize-message-signature';\nimport { isStructuredMessageType, isUtf8MessageType } from '@shared/signature/signature-types';\nimport { analytics } from '@shared/utils/analytics';\n\nimport {\n  getSignaturePayloadFromToken,\n  getStructuredDataPayloadFromToken,\n} from '@app/common/signature/requests';\nimport {\n  StructuredPayload,\n  Utf8Payload,\n} from '@app/features/stacks-message-signer/stacks-message-signing';\nimport { useSignStacksMessage } from '@app/features/stacks-message-signer/use-sign-stacks-message';\nimport { useSignatureRequestSearchParams } from '@app/store/signatures/requests.hooks';\n\nexport function useStacksMessageRequestPayload() {\n  const { requestToken, messageType } = useSignatureRequestSearchParams();\n\n  if (!requestToken) return null;\n\n  if (isUtf8MessageType(messageType)) {\n    const signatureRequest = getSignaturePayloadFromToken(requestToken);\n    const { message, network } = signatureRequest;\n    const appName = signatureRequest.appDetails?.name;\n    return {\n      messageType: 'utf8' as const,\n      message,\n      network,\n      appName,\n    } satisfies Utf8Payload;\n  }\n  if (isStructuredMessageType(messageType)) {\n    const signatureRequest = getStructuredDataPayloadFromToken(requestToken);\n    const { message, network, domain } = signatureRequest;\n    const appName = signatureRequest.appDetails?.name;\n    return {\n      messageType: 'structured' as const,\n      message,\n      network,\n      appName,\n      domain,\n    } satisfies StructuredPayload;\n  }\n  return null;\n}\n\nexport function useSignStacksMessageRequest() {\n  const { requestToken, tabId } = useSignatureRequestSearchParams();\n  if (!tabId) throw new Error('Requests can only be made with corresponding tab');\n  if (!requestToken) throw new Error('Missing request token');\n\n  const { isLoading, signMessage } = useSignStacksMessage({\n    onSignMessageCompleted: messageSignature => {\n      finalizeMessageSignature({ requestPayload: requestToken, tabId, data: messageSignature });\n    },\n    onSignMessageCancelled: onCancelMessageSigning,\n  });\n\n  function onCancelMessageSigning() {\n    if (!requestToken || !tabId) return;\n    void analytics.track('request_signature_cancel');\n    finalizeMessageSignature({ requestPayload: requestToken, tabId, data: 'cancel' });\n  }\n\n  return { isLoading, signMessage, onCancelMessageSigning };\n}\n","import { isSignableMessageType } from '@shared/signature/signature-types';\n\nimport { PopupHeader } from '@app/features/container/headers/popup.header';\nimport { StacksMessageSigning } from '@app/features/stacks-message-signer/stacks-message-signing';\nimport {\n  useSignStacksMessageRequest,\n  useStacksMessageRequestPayload,\n} from '@app/pages/sign-stacks-message-request/use-sign-stacks-message-request';\nimport { useSignatureRequestSearchParams } from '@app/store/signatures/requests.hooks';\n\nexport function SignStacksMessageRequest() {\n  const { requestToken, messageType, tabId, origin } = useSignatureRequestSearchParams();\n  const { isLoading, signMessage, onCancelMessageSigning } = useSignStacksMessageRequest();\n  const payload = useStacksMessageRequestPayload();\n\n  if (!requestToken || !tabId) return null;\n  if (!isSignableMessageType(messageType)) return null;\n  if (!origin) return null;\n  if (!payload) return null;\n\n  return (\n    <>\n      {/* TODO check this route for '/signature' as it seems STX specific but we don't show balance */}\n      <PopupHeader showSwitchAccount />\n      <StacksMessageSigning\n        payload={payload}\n        isLoading={isLoading}\n        onSignMessage={signMessage}\n        onCancelMessageSigning={onCancelMessageSigning}\n        messageType={messageType}\n        tabId={tabId}\n        origin={origin}\n      />\n    </>\n  );\n}\n","import { useState } from 'react';\n\nimport { Callout } from '@leather.io/ui';\n\nimport { useOnOriginTabClose } from '@app/routes/hooks/use-on-tab-closed';\n\nexport function RequestingTabClosedWarningMessage() {\n  const [hasTabClosed, setHasTabClosed] = useState(false);\n\n  useOnOriginTabClose(() => {\n    setHasTabClosed(true);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  });\n\n  if (!hasTabClosed) return null;\n\n  return (\n    <Callout variant=\"warning\" mb=\"space.05\" title=\"Requesting window closed\" width=\"100%\">\n      The window making this request closed, but you can still broadcast the transaction\n    </Callout>\n  );\n}\n","import { Link } from '@leather.io/ui';\n\nimport { makeStacksAddressExplorerLink } from '@app/common/utils';\nimport { openInNewTab } from '@app/common/utils/open-in-new-tab';\nimport { useCurrentNetworkState } from '@app/store/networks/networks.hooks';\n\ninterface PrincipalValueProps {\n  address: string;\n}\nexport function PrincipalValue(props: PrincipalValueProps) {\n  const { address } = props;\n  const { mode, isNakamotoTestnet } = useCurrentNetworkState();\n\n  return (\n    <Link\n      onClick={() =>\n        openInNewTab(\n          makeStacksAddressExplorerLink({ mode, address, isNakamoto: isNakamotoTestnet })\n        )\n      }\n      size=\"sm\"\n      variant=\"text\"\n      wordBreak=\"break-all\"\n    >\n      {address}\n    </Link>\n  );\n}\n","import { HStack, Stack, styled } from 'leather-styles/jsx';\n\nimport { Caption } from '@leather.io/ui';\n\nimport { PrincipalValue } from './principal-value';\n\ninterface RowProps {\n  name?: string | React.JSX.Element | null;\n  type?: string;\n  value: string;\n}\n\nexport function Row({ name, type, value }: RowProps): React.JSX.Element {\n  return (\n    <Stack gap=\"space.03\">\n      <HStack alignItems=\"center\" justifyContent=\"space-between\" flexShrink={0}>\n        {name && <Caption>{name}</Caption>}\n        {type && <Caption>{type}</Caption>}\n      </HStack>\n\n      {type?.toLowerCase() === 'principal' ? (\n        <PrincipalValue address={value} />\n      ) : (\n        <styled.span display=\"block\" textStyle=\"body.02\" wordBreak=\"break-all\">\n          {value}\n        </styled.span>\n      )}\n    </Stack>\n  );\n}\n","import { hexToHumanReadable } from '@app/common/utils';\nimport { useTransactionRequestState } from '@app/store/transactions/requests.hooks';\n\nimport { Row } from './row';\n\nexport function AttachmentRow(): React.JSX.Element | null {\n  const pendingTransaction = useTransactionRequestState();\n  return pendingTransaction?.attachment ? (\n    <Row name=\"Attachment\" value={hexToHumanReadable(pendingTransaction.attachment)} />\n  ) : null;\n}\n","import { HStack, Stack } from 'leather-styles/jsx';\n\nimport { Caption, DynamicColorCircle, Title } from '@leather.io/ui';\nimport { truncateMiddle } from '@leather.io/utils';\n\nimport { formatContractId } from '@app/common/utils';\n\ninterface ContractPreviewLayoutProps {\n  contractAddress: string;\n  contractName: string;\n  functionName?: string;\n  onClick?(): void;\n}\n\nexport function ContractPreviewLayout({\n  contractAddress,\n  contractName,\n  functionName,\n  onClick,\n}: ContractPreviewLayoutProps) {\n  return (\n    <HStack\n      p=\"space.04\"\n      borderRadius=\"sm\"\n      gap=\"space.04\"\n      alignItems=\"center\"\n      border=\"default\"\n      _hover={\n        onClick\n          ? {\n              cursor: 'pointer',\n            }\n          : undefined\n      }\n    >\n      <DynamicColorCircle\n        size=\"42px\"\n        position=\"relative\"\n        value={`${formatContractId(contractAddress, contractName)}${\n          functionName ? `::${functionName}` : ''\n        }`}\n        backgroundSize=\"100%\"\n      />\n      <Stack gap=\"space.03\">\n        <Title>{functionName || contractName}</Title>\n        <Caption>\n          {truncateMiddle(contractAddress, functionName ? 4 : 6)}\n          {functionName ? `.${contractName}` : ''}\n        </Caption>\n      </Stack>\n    </HStack>\n  );\n}\n","import { cvToString, deserializeCV, getCVTypeString } from '@stacks/transactions';\n\nimport { useContractFunction } from '@leather.io/query';\nimport { formatContractId } from '@leather.io/utils';\n\nimport { logger } from '@shared/logger';\n\nimport { Row } from '@app/features/stacks-transaction-request/row';\nimport { useTransactionRequestState } from '@app/store/transactions/requests.hooks';\n\ninterface FunctionArgumentProps {\n  arg: string;\n  index: number;\n}\n\nexport function FunctionArgumentItem(props: FunctionArgumentProps) {\n  const { arg, index, ...rest } = props;\n  const transactionRequest = useTransactionRequestState();\n  const { data: contractFunction } = useContractFunction(transactionRequest);\n  const argCV = deserializeCV(Buffer.from(arg, 'hex'));\n  const strValue = cvToString(argCV);\n\n  if (!transactionRequest || transactionRequest.txType !== 'contract_call') return null;\n\n  if (!contractFunction) {\n    logger.error(\n      `Attempting to call a function (\\`${transactionRequest.functionName}\\`) that ` +\n        `does not exist on contract ${formatContractId(\n          transactionRequest.contractAddress,\n          transactionRequest.contractName\n        )}`\n    );\n  }\n\n  return (\n    <Row\n      name={<>{contractFunction?.args[index].name || 'unknown'}</>}\n      type={getCVTypeString(argCV)}\n      value={strValue}\n      {...rest}\n    />\n  );\n}\n","import { Suspense, memo } from 'react';\n\nimport { Stack, StackProps } from 'leather-styles/jsx';\n\nimport { Caption } from '@leather.io/ui';\n\nimport { useTransactionRequestState } from '@app/store/transactions/requests.hooks';\n\nimport { FunctionArgumentItem } from './function-argument-item';\n\nfunction FunctionArgumentsListBase(props: StackProps): React.JSX.Element | null {\n  const transactionRequest = useTransactionRequestState();\n\n  if (!transactionRequest || transactionRequest.txType !== 'contract_call') {\n    return null;\n  }\n  const hasArgs = transactionRequest.functionArgs.length > 0;\n\n  return (\n    <>\n      {hasArgs ? (\n        <Stack gap=\"space.04\" {...props}>\n          {transactionRequest.functionArgs.map((arg, index) => {\n            return (\n              <Suspense fallback={<>loading</>} key={`${arg}-${index}`}>\n                <FunctionArgumentItem arg={arg} index={index} />\n              </Suspense>\n            );\n          })}\n        </Stack>\n      ) : (\n        <Caption>There are no additional arguments passed for this function call.</Caption>\n      )}\n    </>\n  );\n}\n\nexport const FunctionArgumentsList = memo(FunctionArgumentsListBase);\n","import { Suspense } from 'react';\n\nimport { Stack } from 'leather-styles/jsx';\n\nimport { Title } from '@leather.io/ui';\n\nimport { useStacksExplorerLink } from '@app/common/hooks/use-stacks-explorer-link';\nimport { formatContractId } from '@app/common/utils';\nimport { AttachmentRow } from '@app/features/stacks-transaction-request/attachment-row';\nimport { ContractPreviewLayout } from '@app/features/stacks-transaction-request/contract-preview';\nimport { useTransactionRequestState } from '@app/store/transactions/requests.hooks';\n\nimport { FunctionArgumentsList } from './function-arguments-list';\n\nfunction ContractCallDetailsSuspense() {\n  const transactionRequest = useTransactionRequestState();\n  const { handleOpenStacksTxLink } = useStacksExplorerLink();\n\n  if (!transactionRequest || transactionRequest.txType !== 'contract_call') return null;\n  const { contractAddress, contractName, functionName, attachment } = transactionRequest;\n\n  return (\n    <Stack\n      border=\"active\"\n      borderRadius=\"sm\"\n      mb=\"space.05\"\n      px=\"space.04\"\n      py=\"32px\"\n      gap=\"space.05\"\n      width=\"100%\"\n      background=\"ink.background-primary\"\n    >\n      <Title>Function and arguments</Title>\n\n      <ContractPreviewLayout\n        onClick={() =>\n          handleOpenStacksTxLink({\n            txid: formatContractId(contractAddress, contractName),\n          })\n        }\n        contractAddress={contractAddress}\n        contractName={contractName}\n        functionName={functionName}\n      />\n      <Stack gap=\"space.04\">\n        <FunctionArgumentsList />\n        {attachment && <AttachmentRow />}\n      </Stack>\n    </Stack>\n  );\n}\n\nexport function ContractCallDetails() {\n  return (\n    <Suspense fallback={<></>}>\n      <ContractCallDetailsSuspense />\n    </Suspense>\n  );\n}\n","import { useState } from 'react';\n\nimport { HStack, HTMLStyledProps, Stack, styled } from 'leather-styles/jsx';\n\nimport { Title } from '@leather.io/ui';\n\nimport { Prism } from '@app/common/clarity-prism';\nimport { AttachmentRow } from '@app/features/stacks-transaction-request/attachment-row';\nimport { ContractPreviewLayout } from '@app/features/stacks-transaction-request/contract-preview';\nimport { Row } from '@app/features/stacks-transaction-request/row';\nimport {\n  useCurrentStacksAccount,\n  useCurrentStacksAccountAddress,\n} from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { useTransactionRequestState } from '@app/store/transactions/requests.hooks';\nimport { CodeBlock } from '@app/ui/components/codeblock';\n\nfunction ContractCodeSection() {\n  const transactionRequest = useTransactionRequestState();\n\n  const currentAccount = useCurrentStacksAccount();\n  const currentAccountStxAddress = useCurrentStacksAccountAddress();\n\n  if (\n    !transactionRequest ||\n    transactionRequest.txType !== 'smart_contract' ||\n    !currentAccount ||\n    !currentAccountStxAddress\n  ) {\n    return null;\n  }\n\n  return (\n    <CodeBlock\n      color=\"#fff\"\n      border=\"default\"\n      code={transactionRequest.codeBody}\n      maxWidth=\"100vw\"\n      prism={Prism as any}\n    />\n  );\n}\n\ninterface TabButtonProps extends HTMLStyledProps<'button'> {\n  isActive: boolean;\n}\n\nfunction TabButton(props: TabButtonProps) {\n  const { isActive, ...rest } = props;\n\n  return (\n    <styled.button\n      bg={isActive ? 'ink.component-background-hover' : 'transparent'}\n      borderRadius=\"xs\"\n      color={isActive ? 'ink.text-primary' : 'ink.text-subdued'}\n      px=\"space.04\"\n      py=\"space.03\"\n      textStyle=\"label.01\"\n      type=\"button\"\n      {...rest}\n    />\n  );\n}\n\nexport function ContractDeployDetails() {\n  const transactionRequest = useTransactionRequestState();\n  const currentAccount = useCurrentStacksAccount();\n  const currentAccountStxAddress = useCurrentStacksAccountAddress();\n  const [tab, setTab] = useState<'details' | 'code'>('details');\n\n  if (\n    !transactionRequest ||\n    transactionRequest.txType !== 'smart_contract' ||\n    !currentAccount ||\n    !currentAccountStxAddress\n  ) {\n    return null;\n  }\n\n  return (\n    <Stack mb=\"space.05\" gap=\"space.05\" width=\"100%\">\n      <HStack gap=\"0\">\n        <TabButton onClick={() => setTab('details')} isActive={tab === 'details'}>\n          Details\n        </TabButton>\n        <TabButton onClick={() => setTab('code')} isActive={tab === 'code'}>\n          Code\n        </TabButton>\n      </HStack>\n      {tab === 'details' ? (\n        <Stack gap=\"space.05\" border=\"active\" borderRadius=\"sm\" py=\"space.06\" px=\"space.04\">\n          <Title>Contract deploy details</Title>\n          <ContractPreviewLayout\n            contractAddress={currentAccountStxAddress}\n            contractName={transactionRequest.contractName}\n          />\n          <Stack gap=\"space.04\">\n            {currentAccountStxAddress && (\n              <Row name=\"Contract address\" value={currentAccountStxAddress} type=\"Principal\" />\n            )}\n            <Row name=\"Contract name\" value={transactionRequest.contractName} type=\"String\" />\n            {transactionRequest.attachment && <AttachmentRow />}\n          </Stack>\n        </Stack>\n      ) : (\n        <ContractCodeSection />\n      )}\n    </Stack>\n  );\n}\n","import { useFormikContext } from 'formik';\n\nimport type { Fees } from '@leather.io/models';\n\nimport { StacksTransactionFormValues } from '@shared/models/form.model';\n\nimport { isTxSponsored } from '@app/common/transactions/stacks/transaction.utils';\nimport { FeesRow } from '@app/components/fees-row/fees-row';\nimport { LoadingRectangle } from '@app/components/loading-rectangle';\nimport { useUnsignedPrepareTransactionDetails } from '@app/store/transactions/transaction.hooks';\n\ninterface FeeFormProps {\n  fees?: Fees;\n  disableFeeSelection?: boolean;\n  defaultFeeValue?: number;\n}\n\nexport function FeeForm({ fees, disableFeeSelection, defaultFeeValue }: FeeFormProps) {\n  const { values } = useFormikContext<StacksTransactionFormValues>();\n  const transaction = useUnsignedPrepareTransactionDetails(values);\n\n  const isSponsored = transaction ? isTxSponsored(transaction) : false;\n\n  return (\n    <>\n      {fees?.estimates.length ? (\n        <FeesRow\n          disableFeeSelection={disableFeeSelection}\n          defaultFeeValue={defaultFeeValue}\n          fees={fees}\n          isSponsored={isSponsored}\n        />\n      ) : (\n        <LoadingRectangle height=\"32px\" width=\"100%\" />\n      )}\n    </>\n  );\n}\n","import { memo } from 'react';\n\nimport { HStack, Stack, styled } from 'leather-styles/jsx';\n\nimport { ErrorTriangleIcon } from '@leather.io/ui';\n\ninterface ErrorMessageProps {\n  title: string;\n  body: string | React.JSX.Element;\n  actions?: React.JSX.Element;\n  border?: string;\n  borderColor?: string;\n}\nexport const ErrorMessage = memo(({ border, title, body, actions }: ErrorMessageProps) => {\n  return (\n    <Stack\n      bg=\"ink.background-primary\"\n      border={border ? border : 'active'}\n      borderRadius=\"sm\"\n      gap=\"space.06\"\n      mb=\"space.05\"\n      p=\"space.05\"\n    >\n      <Stack gap=\"space.04\">\n        <HStack alignItems=\"center\" color=\"red.action-primary-default\">\n          <ErrorTriangleIcon />\n          <styled.h1 textStyle=\"label.01\">{title}</styled.h1>\n        </HStack>\n        <styled.span textStyle=\"caption.01\">{body}</styled.span>\n      </Stack>\n      {actions && <Stack gap=\"space.03\">{actions}</Stack>}\n    </Stack>\n  );\n});\n","import { memo, useState } from 'react';\nimport { Navigate } from 'react-router-dom';\n\nimport { STXTransferPayload, TransactionTypes } from '@stacks/connect';\nimport { Flex, HStack, Stack } from 'leather-styles/jsx';\n\nimport { useStxAvailableUnlockedBalance } from '@leather.io/query';\nimport { Button, Caption } from '@leather.io/ui';\nimport { truncateMiddle } from '@leather.io/utils';\n\nimport { RouteUrls } from '@shared/route-urls';\nimport { closeWindow } from '@shared/utils';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useScrollLock } from '@app/common/hooks/use-scroll-lock';\nimport { stacksValue } from '@app/common/stacks-utils';\nimport { SwitchAccountSheet } from '@app/features/dialogs/switch-account-dialog/switch-account-dialog';\nimport { ErrorMessage } from '@app/features/stacks-transaction-request/transaction-error/error-message';\nimport { useCurrentStacksAccountAddress } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { useCurrentNetworkState } from '@app/store/networks/networks.hooks';\nimport { useTransactionRequestState } from '@app/store/transactions/requests.hooks';\n\ninterface InsufficientFundsActionButtonsProps {\n  eventName: string;\n}\nfunction InsufficientFundsActionButtons({ eventName }: InsufficientFundsActionButtonsProps) {\n  const [isShowingSwitchAccount, setIsShowingSwitchAccount] = useState(false);\n\n  const onGetStx = () => {\n    void analytics.track(eventName);\n    closeWindow();\n    void chrome.tabs.create({ url: 'index.html#/fund' });\n  };\n\n  return (\n    <>\n      <SwitchAccountSheet\n        isShowing={isShowingSwitchAccount}\n        onClose={() => setIsShowingSwitchAccount(false)}\n      />\n      <Button onClick={onGetStx}>Get STX</Button>\n      <Button onClick={() => setIsShowingSwitchAccount(true)} variant=\"outline\">\n        Switch account\n      </Button>\n    </>\n  );\n}\n\nexport const FeeInsufficientFundsErrorMessage = memo(props => {\n  return (\n    <ErrorMessage\n      title=\"Insufficient balance\"\n      body={`You do not have enough STX to cover the network fees for this transaction.`}\n      actions={<InsufficientFundsActionButtons eventName=\"get_stx_for_tx_fees\" />}\n      {...props}\n    />\n  );\n});\n\nexport const StxTransferInsufficientFundsErrorMessage = memo(props => {\n  const pendingTransaction = useTransactionRequestState();\n  const stxAddress = useCurrentStacksAccountAddress();\n  const availableUnlockedBalance = useStxAvailableUnlockedBalance(stxAddress);\n\n  return (\n    <ErrorMessage\n      title=\"Insufficient balance\"\n      body={\n        <Stack gap=\"space.05\">\n          <Caption color=\"ink.text-primary\">\n            You don't have enough STX to make this transfer. Send some STX to this address, or\n            switch to another account.\n          </Caption>\n          <Stack gap=\"space.04\" justifyContent=\"flex-end\" textAlign=\"right\">\n            <HStack alignItems=\"center\" justifyContent=\"space-between\">\n              <Caption>Current balance</Caption>\n              <Caption>\n                {availableUnlockedBalance\n                  ? stacksValue({\n                      value: availableUnlockedBalance.amount,\n                      withTicker: true,\n                    })\n                  : '--'}\n              </Caption>\n            </HStack>\n            <HStack alignItems=\"center\" justifyContent=\"space-between\">\n              <Caption>Transfer amount</Caption>\n              <Caption>\n                {stacksValue({\n                  value: (pendingTransaction as STXTransferPayload).amount,\n                  withTicker: true,\n                })}\n              </Caption>\n            </HStack>\n          </Stack>\n        </Stack>\n      }\n      actions={<InsufficientFundsActionButtons eventName=\"get_stx_for_stx_transfer\" />}\n      {...props}\n    />\n  );\n});\n\nexport const NoContractErrorMessage = memo(props => {\n  const network = useCurrentNetworkState();\n  const pendingTransaction = useTransactionRequestState();\n\n  if (!pendingTransaction || pendingTransaction.txType !== TransactionTypes.ContractCall)\n    return null;\n  return (\n    <ErrorMessage\n      title=\"Contract not found\"\n      body={`The contract (${truncateMiddle(pendingTransaction.contractAddress)}.${\n        pendingTransaction.contractName\n      }) that you are trying to call cannot be found on ${network.mode}.`}\n      {...props}\n    />\n  );\n});\n\nexport const IncorrectContractAddressMessage = memo(props => {\n  const pendingTransaction = useTransactionRequestState();\n\n  if (!pendingTransaction || pendingTransaction.txType !== TransactionTypes.ContractCall)\n    return null;\n  return (\n    <ErrorMessage\n      title=\"Invalid contract address\"\n      body={`The contract address (${truncateMiddle(\n        pendingTransaction.contractAddress\n      )}) that you are trying to call is not a valid Stacks address.`}\n      {...props}\n    />\n  );\n});\n\nexport const UnauthorizedRequestRedirect = memo(() => {\n  return <Navigate to={RouteUrls.UnauthorizedRequest} />;\n});\n\n// TODO: Change this to new Error component?\n// #4476 TODO: maybe we can do the above now?\nexport const ExpiredRequestErrorMessage = memo(props => {\n  useScrollLock(true);\n  return (\n    <Flex\n      position=\"fixed\"\n      width=\"100%\"\n      height=\"100vh\"\n      zIndex={99}\n      left={0}\n      top={0}\n      alignItems=\"center\"\n      justifyContent=\"center\"\n      p=\"space.05\"\n      bg=\"rgba(0,0,0,0.35)\"\n      backdropFilter=\"blur(10px)\"\n    >\n      <ErrorMessage\n        title=\"Expired request\"\n        body=\"This transaction request has expired or cannot be validated, try to re-initiate this transaction request from the original app.\"\n        border=\"1px solid\"\n        borderColor=\"ink.border-default\"\n        // #4476 TODO - move this to new error component\n        // #4476 TODO check this is OK to remove boxShadow=\"high\"\n        // boxShadow=\"high\"\n        // css={{\n        //   '& > *': {\n        //     pointerEvents: 'all',\n        //   },\n        // }}\n        {...props}\n      />\n    </Flex>\n  );\n});\n","import { Suspense, memo, useEffect } from 'react';\n\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useTransactionError } from '@app/features/stacks-transaction-request/hooks/use-transaction-error';\n\nimport {\n  ExpiredRequestErrorMessage,\n  FeeInsufficientFundsErrorMessage,\n  IncorrectContractAddressMessage,\n  NoContractErrorMessage,\n  StxTransferInsufficientFundsErrorMessage,\n  UnauthorizedRequestRedirect,\n} from './error-messages';\n\nexport enum TransactionErrorReason {\n  StxTransferInsufficientFunds = 1,\n  FeeInsufficientFunds = 2,\n  Generic = 3,\n  BroadcastError = 4,\n  Unauthorized = 5,\n  NoContract = 6,\n  ExpiredRequest = 7,\n  InvalidContractAddress = 8,\n}\n\nconst TransactionErrorSuspense = memo(() => {\n  const reason = useTransactionError();\n\n  useEffect(() => {\n    if (!reason) return;\n    void analytics.track('view_transaction_signing_error', {\n      reason: TransactionErrorReason[reason].toLowerCase(),\n    });\n  }, [reason]);\n\n  if (!reason) return null;\n\n  switch (reason) {\n    case TransactionErrorReason.NoContract:\n      return <NoContractErrorMessage />;\n    case TransactionErrorReason.InvalidContractAddress:\n      return <IncorrectContractAddressMessage />;\n    case TransactionErrorReason.StxTransferInsufficientFunds:\n      return <StxTransferInsufficientFundsErrorMessage />;\n    case TransactionErrorReason.FeeInsufficientFunds:\n      return <FeeInsufficientFundsErrorMessage />;\n    case TransactionErrorReason.Unauthorized:\n      return <UnauthorizedRequestRedirect />;\n    case TransactionErrorReason.ExpiredRequest:\n      return <ExpiredRequestErrorMessage />;\n    default:\n      return null;\n  }\n});\n\nexport function TransactionError() {\n  return (\n    <Suspense fallback={<></>}>\n      <TransactionErrorSuspense />\n    </Suspense>\n  );\n}\n","import { useMemo } from 'react';\n\nimport { TransactionTypes } from '@stacks/connect';\nimport BigNumber from 'bignumber.js';\nimport { useFormikContext } from 'formik';\n\nimport { useGetContractInterfaceQuery, useStxCryptoAssetBalance } from '@leather.io/query';\nimport { stxToMicroStx } from '@leather.io/utils';\n\nimport { StacksTransactionFormValues } from '@shared/models/form.model';\n\nimport { useDefaultRequestParams } from '@app/common/hooks/use-default-request-search-params';\nimport { initialSearchParams } from '@app/common/initial-search-params';\nimport { validateStacksAddress } from '@app/common/stacks-utils';\nimport { TransactionErrorReason } from '@app/features/stacks-transaction-request/transaction-error/transaction-error';\nimport { useCurrentStacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { useTransactionRequestState } from '@app/store/transactions/requests.hooks';\n\nfunction getIsMultisig() {\n  return initialSearchParams.get('isMultisig') === 'true';\n}\n\nexport function useTransactionError() {\n  const transactionRequest = useTransactionRequestState();\n  const contractInterface = useGetContractInterfaceQuery(transactionRequest);\n  const { origin } = useDefaultRequestParams();\n  const { values } = useFormikContext<StacksTransactionFormValues>();\n\n  const currentAccount = useCurrentStacksAccount();\n  const { filteredBalanceQuery } = useStxCryptoAssetBalance(currentAccount?.address ?? '');\n  const availableUnlockedBalance = filteredBalanceQuery.data?.unlockedBalance;\n\n  return useMemo<TransactionErrorReason | void>(() => {\n    if (!origin) return TransactionErrorReason.ExpiredRequest;\n\n    if (filteredBalanceQuery.isLoading) return;\n\n    if (!transactionRequest || !availableUnlockedBalance || !currentAccount) {\n      return TransactionErrorReason.Generic;\n    }\n\n    if (transactionRequest.txType === TransactionTypes.ContractCall) {\n      if (!validateStacksAddress(transactionRequest.contractAddress))\n        return TransactionErrorReason.InvalidContractAddress;\n      if ((contractInterface as any)?.isError) return TransactionErrorReason.NoContract;\n    }\n\n    if (availableUnlockedBalance && !getIsMultisig()) {\n      const zeroBalance = availableUnlockedBalance.amount.toNumber() === 0;\n\n      if (transactionRequest.txType === TransactionTypes.STXTransfer) {\n        if (zeroBalance) return TransactionErrorReason.StxTransferInsufficientFunds;\n\n        const transferAmount = new BigNumber(transactionRequest.amount);\n        if (transferAmount.gte(availableUnlockedBalance.amount))\n          return TransactionErrorReason.StxTransferInsufficientFunds;\n      }\n\n      if (!transactionRequest.sponsored) {\n        if (zeroBalance) return TransactionErrorReason.FeeInsufficientFunds;\n\n        const feeValue = stxToMicroStx(values.fee);\n        if (feeValue.gte(availableUnlockedBalance.amount))\n          return TransactionErrorReason.FeeInsufficientFunds;\n      }\n    }\n    return;\n  }, [\n    filteredBalanceQuery.isLoading,\n    origin,\n    transactionRequest,\n    contractInterface,\n    availableUnlockedBalance,\n    currentAccount,\n    values.fee,\n  ]);\n}\n","import { Suspense, memo } from 'react';\n\nimport { TransactionRequestSelectors } from '@tests/selectors/requests.selectors';\nimport { HStack, HstackProps, styled } from 'leather-styles/jsx';\n\nimport { ErrorTriangleIcon } from '@leather.io/ui';\n\nimport { useTransactionError } from '@app/features/stacks-transaction-request/hooks/use-transaction-error';\nimport { TransactionErrorReason } from '@app/features/stacks-transaction-request/transaction-error/transaction-error';\n\nfunction MinimalErrorMessageSuspense(props: HstackProps) {\n  const error = useTransactionError();\n\n  if (!error) return null;\n\n  const getTitle = () => {\n    if (error) {\n      switch (error) {\n        case TransactionErrorReason.Unauthorized:\n          return 'Unauthorized request';\n        case TransactionErrorReason.NoContract:\n          return 'Contract not found';\n        case TransactionErrorReason.InvalidContractAddress:\n          return 'Invalid contract address';\n        case TransactionErrorReason.StxTransferInsufficientFunds:\n        case TransactionErrorReason.FeeInsufficientFunds:\n          return 'Insufficient balance';\n        case TransactionErrorReason.Generic:\n          return 'Something went wrong';\n      }\n    }\n    return null;\n  };\n\n  return (\n    <HStack\n      alignItems=\"center\"\n      bg=\"ink.background-primary\"\n      borderRadius=\"md\"\n      color=\"red.action-primary-default\"\n      p=\"space.04\"\n      width=\"100%\"\n      {...props}\n    >\n      <ErrorTriangleIcon />\n      <styled.span data-testid={TransactionRequestSelectors.ErrorMessage} textStyle=\"caption.01\">\n        {getTitle()}\n      </styled.span>\n    </HStack>\n  );\n}\n\nfunction MinimalErrorMessageBase(props: HstackProps) {\n  return (\n    <Suspense fallback={<></>}>\n      <MinimalErrorMessageSuspense {...props} />\n    </Suspense>\n  );\n}\n\nexport const MinimalErrorMessage = memo(MinimalErrorMessageBase);\n","import { useMemo } from 'react';\n\nimport { TransactionTypes } from '@stacks/connect';\n\nimport { useTransactionRequestState } from '@app/store/transactions/requests.hooks';\n\nexport function useStacksTxPageTitle() {\n  const transactionRequest = useTransactionRequestState();\n  const txType = transactionRequest?.txType;\n  return useMemo(() => {\n    if (!transactionRequest) return '';\n    if (txType === TransactionTypes.STXTransfer) return 'Confirm transfer';\n    if (txType === TransactionTypes.ContractDeploy) return 'Deploy contract';\n    if (txType === TransactionTypes.ContractCall && 'functionName' in transactionRequest)\n      return transactionRequest.functionName || 'Sign transaction';\n    return 'Sign transaction';\n  }, [transactionRequest, txType]);\n}\n","import { memo } from 'react';\n\nimport { TransactionRequestSelectors } from '@tests/selectors/requests.selectors';\nimport { Stack, styled } from 'leather-styles/jsx';\n\nimport { Flag } from '@leather.io/ui';\n\nimport { useDefaultRequestParams } from '@app/common/hooks/use-default-request-search-params';\nimport { addPortSuffix, getUrlHostname } from '@app/common/utils';\nimport { Favicon } from '@app/components/favicon';\nimport { useStacksTxPageTitle } from '@app/features/stacks-transaction-request/hooks/use-stacks-tx-page-title';\nimport { useCurrentNetworkState } from '@app/store/networks/networks.hooks';\nimport { useTransactionRequestState } from '@app/store/transactions/requests.hooks';\n\nfunction PageTopBase() {\n  const transactionRequest = useTransactionRequestState();\n  const { origin } = useDefaultRequestParams();\n  const pageTitle = useStacksTxPageTitle();\n  const { isTestnet, chain } = useCurrentNetworkState();\n\n  if (!transactionRequest) return null;\n\n  const appName = transactionRequest?.appDetails?.name;\n  const originAddition = origin ? ` (${getUrlHostname(origin)})` : '';\n  const testnetAddition = isTestnet\n    ? ` using ${getUrlHostname(chain.stacks.url)}${addPortSuffix(chain.stacks.url)}`\n    : '';\n  const caption = appName ? `Requested by \"${appName}\"${originAddition}${testnetAddition}` : null;\n\n  return (\n    <Stack\n      data-testid={TransactionRequestSelectors.TransactionRequestPage}\n      mb=\"space.05\"\n      gap=\"space.04\"\n      width=\"100%\"\n    >\n      <styled.h1 mb=\"space.04\" textStyle=\"heading.03\">\n        {pageTitle}\n      </styled.h1>\n      {caption && (\n        <Flag img={<Favicon origin={origin ?? ''} />} pl=\"space.02\">\n          <styled.span textStyle=\"label.02\" wordBreak=\"break-word\">\n            {caption}\n          </styled.span>\n        </Flag>\n      )}\n    </Stack>\n  );\n}\n\nexport const PageTop = memo(PageTopBase);\n","import { PostConditionMode } from '@stacks/transactions';\n\nimport { Callout } from '@leather.io/ui';\n\nimport { usePostConditionModeState } from '@app/store/transactions/post-conditions.hooks';\n\nexport function PostConditionModeWarning(): React.JSX.Element | null {\n  const mode = usePostConditionModeState();\n\n  if (mode !== PostConditionMode.Allow) return null;\n\n  return (\n    <Callout\n      variant=\"warning\"\n      mb=\"space.05\"\n      title=\"This transaction can transfer any of your assets\"\n    >\n      If you confirm, you allow it to transfer any of your tokens. Only confirm if you trust and\n      have verified the contract.\n    </Callout>\n  );\n}\n","import { Box, Circle, HStack, styled } from 'leather-styles/jsx';\n\nimport { LockIcon } from '@leather.io/ui';\n\nexport function NoPostConditions(): React.JSX.Element {\n  return (\n    <HStack alignItems=\"center\" gap=\"space.04\" p=\"space.04\">\n      <Circle bg=\"ink.component-background-hover\" flexShrink={0}>\n        <LockIcon />\n      </Circle>\n      <Box flexGrow={1}>\n        <styled.span textStyle=\"body.02\">\n          No transfers (besides fees) will be made from your account or the transaction will abort.\n        </styled.span>\n      </Box>\n    </HStack>\n  );\n}\n","import { HStack, HstackProps, styled } from 'leather-styles/jsx';\n\nimport { isValidUrl } from '@shared/utils/validate-url';\n\nimport { StacksAssetAvatar } from '@app/components/stacks-asset-avatar';\n\ninterface TxAssetItemProps extends HstackProps {\n  iconString: string;\n  amount: string | number;\n  ticker: string;\n}\nexport function TxAssetItem(props: TxAssetItemProps) {\n  const { iconString, amount, ticker, ...rest } = props;\n  const imageCanonicalUri = isValidUrl(iconString) ? iconString : undefined;\n\n  return (\n    <HStack alignItems=\"center\" flexGrow={1} justifyContent=\"space-between\" width=\"100%\" {...rest}>\n      <HStack>\n        <StacksAssetAvatar\n          gradientString={iconString}\n          imageCanonicalUri={imageCanonicalUri}\n          isStx={iconString === 'STX'}\n          size=\"32\"\n        />\n        <styled.span textStyle=\"heading.04\">{ticker}</styled.span>\n      </HStack>\n      <styled.span textStyle=\"heading.04\">{amount}</styled.span>\n    </HStack>\n  );\n}\n","import { Box, HStack, Stack, styled } from 'leather-styles/jsx';\n\nimport { Caption } from '@leather.io/ui';\n\nimport { TxAssetItem } from './tx-asset-item';\n\ninterface EventCardProps {\n  actions?: string;\n  amount: number | string;\n  icon: string;\n  isLast?: boolean;\n  left?: string;\n  message?: string;\n  right?: string;\n  ticker: string;\n  title: string;\n}\nexport function EventCard(props: EventCardProps): React.JSX.Element {\n  const { amount, icon, isLast, left, message, right, ticker, title } = props;\n\n  return (\n    <>\n      <Stack gap=\"space.05\" p=\"space.05\">\n        <HStack alignItems=\"center\" justifyContent=\"space-between\" position=\"relative\">\n          <styled.span textStyle=\"label.01\">{title}</styled.span>\n        </HStack>\n        <TxAssetItem iconString={icon} amount={amount} ticker={ticker} />\n        {left || right ? (\n          <HStack alignItems=\"center\" justifyContent=\"space-between\">\n            {left ? <Caption>{left}</Caption> : <Box />}\n            {right && <Caption>{right}</Caption>}\n          </HStack>\n        ) : null}\n      </Stack>\n      {message && (\n        <Box p=\"space.05\" borderTop=\"default\" borderBottom={!isLast ? 'active' : 'unset'}>\n          <Caption>{message}</Caption>\n        </Box>\n      )}\n    </>\n  );\n}\n","import { Suspense } from 'react';\n\nimport { TransactionTypes } from '@stacks/connect';\nimport { FungiblePostCondition, addressToString } from '@stacks/transactions';\n\nimport { truncateMiddle } from '@leather.io/utils';\n\nimport { ftDecimals, getSafeImageCanonicalUri } from '@app/common/stacks-utils';\nimport {\n  getAmountFromPostCondition,\n  getIconStringFromPostCondition,\n  getNameFromPostCondition,\n  getPostConditionCodeMessage,\n  getPostConditionTitle,\n  getSymbolFromPostCondition,\n} from '@app/common/transactions/stacks/post-condition.utils';\nimport { EventCard } from '@app/components/event-card';\nimport { LoadingSpinner } from '@app/components/loading-spinner';\nimport { useCurrentStacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { useAssetFromFungiblePostCondition } from '@app/store/transactions/post-conditions.hooks';\nimport { useTransactionRequestState } from '@app/store/transactions/requests.hooks';\n\ninterface FungiblePostConditionItemProps {\n  isLast?: boolean;\n  pc: FungiblePostCondition;\n}\n\nfunction FungiblePostConditionItemSuspense(\n  props: FungiblePostConditionItemProps\n): React.JSX.Element | null {\n  const { isLast, pc } = props;\n  const currentAccount = useCurrentStacksAccount();\n  const pendingTransaction = useTransactionRequestState();\n  // Use token meta data if available\n  const asset = useAssetFromFungiblePostCondition(pc);\n  const imageCanonicalUri =\n    asset?.image_canonical_uri &&\n    asset.name &&\n    getSafeImageCanonicalUri(asset.image_canonical_uri, asset.name);\n\n  const title = getPostConditionTitle(pc);\n  const iconString = imageCanonicalUri ?? getIconStringFromPostCondition(pc);\n  const pcTicker = getSymbolFromPostCondition(pc);\n  const pcAmount = getAmountFromPostCondition(pc);\n  const name = getNameFromPostCondition(pc);\n\n  const contractName = 'contractName' in pc.principal && pc.principal.contractName.content;\n  const address = addressToString(pc.principal.address);\n  const isSending = address === currentAccount?.address;\n\n  const amount = asset?.decimals ? ftDecimals(pcAmount, asset.decimals) : pcAmount;\n  const ticker = asset?.symbol || pcTicker;\n\n  const isContractPrincipal =\n    !!contractName ||\n    (pendingTransaction?.txType == TransactionTypes.ContractCall &&\n      pendingTransaction.contractAddress === address) ||\n    address.includes('.');\n\n  if (!pendingTransaction) return null;\n\n  const message = pc.conditionCode\n    ? `${getPostConditionCodeMessage(\n        pc.conditionCode,\n        isSending\n      )} ${amount} ${ticker} or the transaction will abort.`\n    : undefined;\n\n  return (\n    <EventCard\n      title={`${\n        isContractPrincipal ? 'The contract ' : isSending ? 'You ' : 'Another address '\n      } ${title}`}\n      left={asset?.name || name}\n      right={`${truncateMiddle(addressToString(pc.principal.address), 4)}${\n        contractName ? `.${contractName}` : ''\n      }`}\n      amount={amount}\n      ticker={ticker}\n      icon={iconString}\n      message={message}\n      isLast={isLast}\n    />\n  );\n}\n\nexport function FungiblePostConditionItem(\n  props: FungiblePostConditionItemProps\n): React.JSX.Element {\n  return (\n    <Suspense fallback={<LoadingSpinner height=\"190px\" />}>\n      <FungiblePostConditionItemSuspense {...props} />\n    </Suspense>\n  );\n}\n","import { Suspense } from 'react';\n\nimport { TransactionTypes } from '@stacks/connect';\nimport { NonFungiblePostCondition, STXPostCondition, addressToString } from '@stacks/transactions';\n\nimport { truncateMiddle } from '@leather.io/utils';\n\nimport {\n  getAmountFromPostCondition,\n  getIconStringFromPostCondition,\n  getNameFromPostCondition,\n  getPostConditionCodeMessage,\n  getPostConditionTitle,\n  getSymbolFromPostCondition,\n} from '@app/common/transactions/stacks/post-condition.utils';\nimport { EventCard } from '@app/components/event-card';\nimport { LoadingSpinner } from '@app/components/loading-spinner';\nimport { useCurrentStacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { useTransactionRequestState } from '@app/store/transactions/requests.hooks';\n\ninterface PostConditionItemProps {\n  isLast?: boolean;\n  pc: STXPostCondition | NonFungiblePostCondition;\n}\n\nfunction PostConditionItemSuspense(props: PostConditionItemProps): React.JSX.Element | null {\n  const { pc, isLast } = props;\n  const currentAccount = useCurrentStacksAccount();\n  const pendingTransaction = useTransactionRequestState();\n\n  const title = getPostConditionTitle(pc);\n  const iconString = getIconStringFromPostCondition(pc);\n  const ticker = getSymbolFromPostCondition(pc);\n  const amount = getAmountFromPostCondition(pc);\n  const name = getNameFromPostCondition(pc);\n\n  const contractName = 'contractName' in pc.principal && pc.principal.contractName.content;\n  const address = addressToString(pc.principal.address);\n  const isSending = address === currentAccount?.address;\n\n  const isContractPrincipal =\n    !!contractName ||\n    (pendingTransaction?.txType == TransactionTypes.ContractCall &&\n      pendingTransaction.contractAddress === address) ||\n    address.includes('.');\n\n  if (!pendingTransaction) return null;\n\n  const message = pc.conditionCode\n    ? `${getPostConditionCodeMessage(\n        pc.conditionCode,\n        isSending\n      )} ${amount} ${ticker} or the transaction will abort.`\n    : undefined;\n\n  return (\n    <EventCard\n      title={`${\n        isContractPrincipal ? 'The contract ' : isSending ? 'You ' : 'Another address '\n      } ${title}`}\n      left={name}\n      right={`${truncateMiddle(addressToString(pc.principal.address), 4)}${\n        contractName ? `.${contractName}` : ''\n      }`}\n      amount={amount}\n      ticker={ticker}\n      icon={iconString}\n      message={message}\n      isLast={isLast}\n    />\n  );\n}\n\nexport function PostConditionItem(props: PostConditionItemProps): React.JSX.Element {\n  return (\n    <Suspense fallback={<LoadingSpinner height=\"190px\" />}>\n      <PostConditionItemSuspense {...props} />\n    </Suspense>\n  );\n}\n","import { PostConditionType } from '@stacks/transactions';\n\nimport { useTransactionPostConditions } from '@app/store/transactions/transaction.hooks';\n\nimport { FungiblePostConditionItem } from './fungible-post-condition-item';\nimport { PostConditionItem } from './post-condition-item';\n\nexport function PostConditionsList(): React.JSX.Element {\n  const postConditions = useTransactionPostConditions();\n\n  return (\n    <>\n      {postConditions?.map((pc, index) => {\n        if (pc.conditionType === PostConditionType.Fungible) {\n          return (\n            <FungiblePostConditionItem\n              pc={pc}\n              isLast={index === postConditions.length - 1}\n              key={`${pc.type}-${pc.conditionCode}`}\n            />\n          );\n        }\n        if (\n          pc.conditionType === PostConditionType.STX ||\n          pc.conditionType === PostConditionType.NonFungible\n        ) {\n          return (\n            <PostConditionItem\n              pc={pc}\n              isLast={index === postConditions.length - 1}\n              key={`${pc.type}-${pc.conditionCode}`}\n            />\n          );\n        }\n        return;\n      })}\n    </>\n  );\n}\n","import { TransactionTypes } from '@stacks/connect';\n\nimport { truncateMiddle } from '@leather.io/utils';\n\nimport { stacksValue } from '@app/common/stacks-utils';\nimport { EventCard } from '@app/components/event-card';\nimport { useTransactionRequestState } from '@app/store/transactions/requests.hooks';\n\nexport function StxPostCondition(): React.JSX.Element | null {\n  const pendingTransaction = useTransactionRequestState();\n\n  if (!pendingTransaction || pendingTransaction.txType !== TransactionTypes.STXTransfer)\n    return null;\n\n  return (\n    <EventCard\n      title=\"You'll send exactly\"\n      icon=\"STX\"\n      amount={stacksValue({ value: pendingTransaction.amount, withTicker: false })}\n      ticker=\"STX\"\n      left=\"Stacks Token\"\n      right={\n        pendingTransaction.txType === TransactionTypes.STXTransfer\n          ? `To ${truncateMiddle(pendingTransaction.recipient, 4)}`\n          : undefined\n      }\n    />\n  );\n}\n","import { Suspense, useMemo } from 'react';\n\nimport { TransactionTypes } from '@stacks/connect';\nimport { PostConditionMode } from '@stacks/transactions';\nimport { Flex } from 'leather-styles/jsx';\n\nimport { IS_TEST_ENV } from '@shared/environment';\n\nimport { usePostConditionModeState } from '@app/store/transactions/post-conditions.hooks';\nimport { useTransactionRequestState } from '@app/store/transactions/requests.hooks';\nimport { useTransactionPostConditions } from '@app/store/transactions/transaction.hooks';\n\nimport { NoPostConditions } from './no-post-conditions';\nimport { PostConditionsList } from './post-conditions-list';\nimport { StxPostCondition } from './stx-post-condition';\n\nfunction PostConditionsSuspense(): React.JSX.Element | null {\n  const postConditions = useTransactionPostConditions();\n  const mode = usePostConditionModeState();\n  const pendingTransaction = useTransactionRequestState();\n  const hasPostConditions = useMemo(\n    () => postConditions && postConditions?.length > 0,\n    [postConditions]\n  );\n  const isStxTransfer =\n    pendingTransaction?.txType === TransactionTypes.STXTransfer && !hasPostConditions;\n\n  if (!postConditions || !pendingTransaction) return <></>;\n  if (!IS_TEST_ENV && mode === PostConditionMode.Allow) return null;\n\n  return (\n    <Flex border=\"active\" borderRadius=\"sm\" flexDirection=\"column\" mb=\"space.05\" width=\"100%\">\n      {hasPostConditions ? (\n        <PostConditionsList />\n      ) : isStxTransfer ? (\n        <StxPostCondition />\n      ) : (\n        <NoPostConditions />\n      )}\n    </Flex>\n  );\n}\n\nexport function PostConditions(): React.JSX.Element {\n  return (\n    <Suspense fallback={<></>}>\n      <PostConditionsSuspense />\n    </Suspense>\n  );\n}\n","import { Stack } from 'leather-styles/jsx';\n\nimport { Title } from '@leather.io/ui';\n\nimport { AttachmentRow } from '@app/features/stacks-transaction-request/attachment-row';\nimport { Row } from '@app/features/stacks-transaction-request/row';\nimport { useTransactionRequestState } from '@app/store/transactions/requests.hooks';\n\nexport function StxTransferDetails(): React.JSX.Element | null {\n  const pendingTransaction = useTransactionRequestState();\n\n  if (!pendingTransaction || pendingTransaction.txType !== 'token_transfer') {\n    return null;\n  }\n\n  return (\n    <Stack\n      border=\"active\"\n      borderRadius=\"sm\"\n      mb=\"space.05\"\n      px=\"space.04\"\n      py=\"space.06\"\n      gap=\"space.05\"\n    >\n      <Title>Transfer details</Title>\n      <Stack gap=\"space.04\">\n        <Row name=\"Recipient\" type=\"Principal\" value={pendingTransaction.recipient} />\n        <Row name=\"Amount\" type=\"uSTX\" value={pendingTransaction.amount} />\n        {pendingTransaction.memo && (\n          <Row name=\"Memo\" type=\"string\" value={pendingTransaction.memo} />\n        )}\n        {pendingTransaction.attachment && <AttachmentRow />}\n      </Stack>\n    </Stack>\n  );\n}\n","import { TransactionRequestSelectors } from '@tests/selectors/requests.selectors';\nimport { useFormikContext } from 'formik';\n\nimport { Button } from '@leather.io/ui';\n\nimport { StacksTransactionFormValues } from '@shared/models/form.model';\n\nimport { useTransactionError } from '@app/features/stacks-transaction-request/hooks/use-transaction-error';\n\nimport { useStacksHighFeeWarningContext } from '../stacks-high-fee-warning/stacks-high-fee-warning-container';\n\ninterface Props {\n  canSubmit: boolean;\n}\n\nexport function StacksTxSubmitAction({ canSubmit }: Props) {\n  const { handleSubmit, values, validateForm, isSubmitting } =\n    useFormikContext<StacksTransactionFormValues>();\n\n  const context = useStacksHighFeeWarningContext();\n\n  const error = useTransactionError();\n\n  const isDisabled = !!error || Number(values.fee) < 0 || !canSubmit;\n\n  async function onConfirmTransaction() {\n    const formErrors = await validateForm();\n\n    if (context.isHighFeeWithNoFormErrors(formErrors, values.fee))\n      return context.setShowHighFeeWarningSheet(true);\n\n    handleSubmit();\n  }\n\n  return (\n    <Button\n      aria-busy={isSubmitting}\n      data-testid={TransactionRequestSelectors.BtnConfirmTransaction}\n      disabled={isDisabled}\n      fullWidth\n      mt=\"space.04\"\n      onClick={onConfirmTransaction}\n      type=\"submit\"\n    >\n      Confirm\n    </Button>\n  );\n}\n","import { memo } from 'react';\nimport { Outlet, useNavigate } from 'react-router-dom';\n\nimport { Formik, FormikHelpers } from 'formik';\nimport { Flex } from 'leather-styles/jsx';\nimport * as yup from 'yup';\n\nimport { HIGH_FEE_WARNING_LEARN_MORE_URL_STX } from '@leather.io/constants';\nimport { FeeTypes } from '@leather.io/models';\nimport {\n  useCalculateStacksTxFees,\n  useNextNonce,\n  useStxCryptoAssetBalance,\n} from '@leather.io/query';\nimport { Link } from '@leather.io/ui';\n\nimport { logger } from '@shared/logger';\nimport { StacksTransactionFormValues } from '@shared/models/form.model';\nimport { RouteUrls } from '@shared/route-urls';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useOnMount } from '@app/common/hooks/use-on-mount';\nimport { stxFeeValidator } from '@app/common/validation/forms/fee-validators';\nimport { nonceValidator } from '@app/common/validation/nonce-validators';\nimport { NonceSetter } from '@app/components/nonce-setter';\nimport { PopupHeader } from '@app/features/container/headers/popup.header';\nimport { RequestingTabClosedWarningMessage } from '@app/features/errors/requesting-tab-closed-error-msg';\nimport { HighFeeSheet } from '@app/features/stacks-high-fee-warning/stacks-high-fee-dialog';\nimport { ContractCallDetails } from '@app/features/stacks-transaction-request/contract-call-details/contract-call-details';\nimport { ContractDeployDetails } from '@app/features/stacks-transaction-request/contract-deploy-details/contract-deploy-details';\nimport { FeeForm } from '@app/features/stacks-transaction-request/fee-form';\nimport { useStacksBroadcastTransaction } from '@app/features/stacks-transaction-request/hooks/use-stacks-broadcast-transaction';\nimport { MinimalErrorMessage } from '@app/features/stacks-transaction-request/minimal-error-message';\nimport { PageTop } from '@app/features/stacks-transaction-request/page-top';\nimport { PostConditionModeWarning } from '@app/features/stacks-transaction-request/post-condition-mode-warning';\nimport { PostConditions } from '@app/features/stacks-transaction-request/post-conditions/post-conditions';\nimport { StxTransferDetails } from '@app/features/stacks-transaction-request/stx-transfer-details/stx-transfer-details';\nimport { StacksTxSubmitAction } from '@app/features/stacks-transaction-request/submit-action';\nimport { TransactionError } from '@app/features/stacks-transaction-request/transaction-error/transaction-error';\nimport { useCurrentStacksAccountAddress } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { useTransactionRequestState } from '@app/store/transactions/requests.hooks';\nimport {\n  useGenerateUnsignedStacksTransaction,\n  useUnsignedStacksTransactionBaseState,\n} from '@app/store/transactions/transaction.hooks';\n\nfunction TransactionRequestBase() {\n  const transactionRequest = useTransactionRequestState();\n  const unsignedTx = useUnsignedStacksTransactionBaseState();\n  const { data: stxFees } = useCalculateStacksTxFees(unsignedTx.transaction);\n\n  const generateUnsignedTx = useGenerateUnsignedStacksTransaction();\n  const stxAddress = useCurrentStacksAccountAddress();\n  const { filteredBalanceQuery } = useStxCryptoAssetBalance(stxAddress);\n  const availableUnlockedBalance = filteredBalanceQuery.data?.availableUnlockedBalance;\n\n  const { data: nextNonce, status: nonceQueryStatus } = useNextNonce(stxAddress);\n  const canSubmit = filteredBalanceQuery.status === 'success' && nonceQueryStatus === 'success';\n\n  const navigate = useNavigate();\n  const { stacksBroadcastTransaction } = useStacksBroadcastTransaction({ token: 'STX' });\n\n  useOnMount(() => void analytics.track('view_transaction_signing'));\n\n  async function onSubmit(\n    values: StacksTransactionFormValues,\n    formikHelpers: FormikHelpers<StacksTransactionFormValues>\n  ) {\n    formikHelpers.setSubmitting(true);\n    const unsignedTx = await generateUnsignedTx(values);\n\n    if (!unsignedTx)\n      return logger.error('Failed to generate unsigned transaction in transaction-request');\n\n    await stacksBroadcastTransaction(unsignedTx);\n\n    void analytics.track('submit_fee_for_transaction', {\n      calculation: stxFees?.calculation,\n      fee: values.fee,\n      type: values.feeType,\n    });\n    formikHelpers.setSubmitting(false);\n  }\n\n  if (!transactionRequest) return null;\n\n  const validationSchema = !transactionRequest.sponsored\n    ? yup.object({\n        fee: stxFeeValidator(availableUnlockedBalance),\n        nonce: nonceValidator,\n      })\n    : null;\n\n  const initialValues: StacksTransactionFormValues = {\n    fee: '',\n    feeCurrency: 'STX',\n    feeType: FeeTypes[FeeTypes.Middle],\n    nonce: nextNonce?.nonce,\n  };\n\n  return (\n    <>\n      <PopupHeader showSwitchAccount balance=\"stx\" />\n      <Flex\n        alignItems=\"center\"\n        background=\"ink.background-primary\"\n        flexDirection=\"column\"\n        p=\"space.05\"\n        width=\"100%\"\n      >\n        <Formik\n          initialValues={initialValues}\n          onSubmit={onSubmit}\n          validateOnChange={false}\n          validateOnMount={false}\n          validateOnBlur={false}\n          validationSchema={validationSchema}\n        >\n          {() => (\n            <>\n              <PageTop />\n              <RequestingTabClosedWarningMessage />\n              <PostConditionModeWarning />\n              <TransactionError />\n              <PostConditions />\n              {transactionRequest.txType === 'contract_call' && <ContractCallDetails />}\n              {transactionRequest.txType === 'token_transfer' && <StxTransferDetails />}\n              {transactionRequest.txType === 'smart_contract' && <ContractDeployDetails />}\n\n              <NonceSetter />\n              <FeeForm fees={stxFees} />\n              <Link\n                alignSelf=\"flex-end\"\n                my=\"space.04\"\n                onClick={() => navigate(RouteUrls.EditNonce)}\n              >\n                Edit nonce\n              </Link>\n              <MinimalErrorMessage />\n              <StacksTxSubmitAction canSubmit={canSubmit} />\n\n              <HighFeeSheet learnMoreUrl={HIGH_FEE_WARNING_LEARN_MORE_URL_STX} />\n              <Outlet />\n            </>\n          )}\n        </Formik>\n      </Flex>\n    </>\n  );\n}\n\nexport const TransactionRequest = memo(TransactionRequestBase);\n","import { ProfileUpdatePayload } from '@stacks/connect';\nimport { getPublicKeyFromPrivate } from '@stacks/encryption';\nimport { Person } from '@stacks/profile';\nimport { getAppPrivateKey } from '@stacks/wallet-sdk';\nimport { TokenVerifier, decodeToken } from 'jsontokens';\n\nimport { isString } from '@leather.io/utils';\n\nimport { StacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.models';\n\nexport function getProfileDataContentFromToken(requestToken: string): ProfileUpdatePayload {\n  const token = decodeToken(requestToken);\n  if (isString(token.payload)) throw new Error('error decoding json token');\n  return token.payload as unknown as ProfileUpdatePayload;\n}\n\nconst UNAUTHORIZED_PROFILE_UPDATE_REQUEST =\n  'The profile update request provided is not signed by this wallet.';\n\n/**\n * Verify a profile update request.\n * A profile request is a signed JWT that is created on an app,\n * via `@stacks/connect`. The private key used to sign this JWT is an\n * `appPrivateKey`, which an app can get from authentication.\n *\n * The payload in this JWT can include an `stxAddress`. This indicates the\n * 'default' STX address that should be used to sign this transaction. This allows\n * the wallet to use the same account to update the profile for the account that was\n * used to sign in to the app.\n *\n * This JWT is invalidated if:\n * - The JWT is not signed properly\n * - The public key used to sign this profile update request does not match an `appPrivateKey`\n * for any of the accounts in this wallet.\n * - The `stxAddress` provided in the payload does not match an STX address\n * for any of the accounts in this wallet.\n *\n * @returns The decoded and validated `ProfileUpdatePayload`\n * @throws if the profile update request is invalid\n */\ninterface VerifyProfileUpdateRequestArgs {\n  requestToken: string;\n  accounts: StacksAccount[];\n  appDomain: string;\n}\nexport async function verifyProfileUpdateRequest({\n  requestToken,\n  accounts,\n  appDomain,\n}: VerifyProfileUpdateRequestArgs): Promise<ProfileUpdatePayload> {\n  const token = decodeToken(requestToken);\n  const payload = token.payload as unknown as ProfileUpdatePayload;\n  const validationResult = Person.validateSchema(payload.profile, false);\n  if (!validationResult.valid) {\n    throw new Error('Profile update payload not following PublicPersonProfile schema');\n  }\n  const { publicKey, stxAddress } = payload as unknown as { publicKey: string; stxAddress: string };\n  const verifier = new TokenVerifier('ES256k', publicKey);\n  const isSigned = await verifier.verifyAsync(requestToken);\n  if (!isSigned) {\n    throw new Error('Profile update request is not signed');\n  }\n  const foundAccount = accounts.find(account => {\n    if (account.type === 'ledger') {\n      throw new Error('Invalid account type');\n    }\n    const appPrivateKey = getAppPrivateKey({\n      account,\n      appDomain,\n    });\n    const appPublicKey = getPublicKeyFromPrivate(appPrivateKey);\n    if (appPublicKey !== publicKey) return false;\n    if (!stxAddress) return true;\n\n    if (stxAddress !== account.address) return false;\n    return true;\n  });\n\n  if (!foundAccount) {\n    throw new Error(UNAUTHORIZED_PROFILE_UPDATE_REQUEST);\n  }\n  return payload;\n}\n","import { useMemo } from 'react';\nimport { useAsync } from 'react-async-hook';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { useDefaultRequestParams } from '@app/common/hooks/use-default-request-search-params';\nimport { verifyProfileUpdateRequest } from '@app/common/profiles/requests';\n\nimport { useStacksAccounts } from '../accounts/blockchain/stacks/stacks-account.hooks';\n\nexport function useIsProfileUpdateRequestValid() {\n  const accounts = useStacksAccounts();\n  const { origin, requestToken } = useProfileUpdateRequestSearchParams();\n\n  return useAsync(async () => {\n    if (typeof accounts === 'undefined') return;\n    if (!origin || !accounts || !requestToken) return;\n    try {\n      const payload = await verifyProfileUpdateRequest({\n        requestToken,\n        accounts,\n        appDomain: origin,\n      });\n      return !!payload;\n    } catch (e) {\n      return false;\n    }\n  }, [accounts, requestToken, origin]).result;\n}\n\nexport function useProfileUpdateRequestSearchParams() {\n  const [searchParams] = useSearchParams();\n  const { origin, tabId } = useDefaultRequestParams();\n  const requestToken = searchParams.get('request');\n  return useMemo(\n    () => ({\n      origin,\n      tabId: tabId || 1,\n      requestToken,\n    }),\n    [origin, requestToken, tabId]\n  );\n}\n","import { Profile } from '@stacks/profile';\nimport { Box, Stack, styled } from 'leather-styles/jsx';\n\nfunction Value({ v }: { v: any }) {\n  if (typeof v === 'string' || typeof v === 'number' || typeof v === 'boolean') {\n    return (\n      <styled.span textStyle=\"caption.01\" wordBreak=\"break-all\">\n        {v}\n      </styled.span>\n    );\n  } else if (v instanceof Array) {\n    return (\n      <>\n        [\n        <div style={{ textIndent: '0em' }}>\n          {v.map((entry, index) => {\n            return (\n              <div key={index}>\n                <Value v={entry} />\n                {index < v.length - 1 && <>,</>}\n              </div>\n            );\n          })}\n        </div>\n        ]\n      </>\n    );\n  } else if (typeof v === 'object') {\n    return <Properties p={v} />;\n  } else {\n    return <>{JSON.stringify(v)}</>;\n  }\n}\n\nfunction Properties({ p }: { p: any }) {\n  return (\n    <>\n      {Object.keys(p)\n        .filter(k => !k.startsWith('@'))\n        .map(k => {\n          return (\n            <Box key={k} textIndent=\"-1em\" ml=\"space.05\">\n              <styled.span textStyle=\"caption.01\">{k}:</styled.span> <Value v={p[k]} />\n            </Box>\n          );\n        })}\n    </>\n  );\n}\n\nexport function ProfileBox({ profile }: { profile: Profile }): React.JSX.Element | null {\n  return (\n    <Box minHeight=\"260px\">\n      <Box\n        bg=\"ink.background-primary\"\n        border=\"active\"\n        borderRadius=\"sm\"\n        px=\"space.05\"\n        py=\"space.05\"\n      >\n        <Stack gap=\"space.03\">\n          <Properties p={profile._profile} />\n        </Stack>\n      </Box>\n    </Box>\n  );\n}\n","import { PublicProfile } from '@stacks/profile';\n\nimport {\n  ExternalMethods,\n  MESSAGE_SOURCE,\n  ProfileUpdateResponseMessage,\n} from '@shared/message-types';\nimport { closeWindow } from '@shared/utils';\n\ninterface FormatProfileUpdateResponseArgs {\n  request: string;\n  response: PublicProfile | string;\n}\nexport function formatProfileUpdateResponse({\n  request,\n  response,\n}: FormatProfileUpdateResponseArgs): ProfileUpdateResponseMessage {\n  return {\n    source: MESSAGE_SOURCE,\n    method: ExternalMethods.profileUpdateResponse,\n    payload: {\n      profileUpdateRequest: request,\n      profileUpdateResponse: response,\n    },\n  };\n}\n\ninterface FinalizeProfileUpdateArgs {\n  requestPayload: string;\n  tabId: number;\n  data: PublicProfile | string;\n}\nexport function finalizeProfileUpdate({ requestPayload, data, tabId }: FinalizeProfileUpdateArgs) {\n  const responseMessage = formatProfileUpdateResponse({ request: requestPayload, response: data });\n  chrome.tabs.sendMessage(tabId, responseMessage);\n  closeWindow();\n}\n","import { UpdateProfileRequestSelectors } from '@tests/selectors/requests.selectors';\nimport { HStack } from 'leather-styles/jsx';\n\nimport { Button } from '@leather.io/ui';\n\ninterface UpdateActionLayoutProps {\n  onUpdateProfile(): Promise<void>;\n  onCancel(): void;\n  isLoading: boolean;\n}\nexport function UpdateActionLayout({\n  onUpdateProfile,\n  onCancel,\n  isLoading,\n}: UpdateActionLayoutProps) {\n  return (\n    <HStack>\n      <Button onClick={onCancel} flexGrow={1} variant=\"outline\">\n        Cancel\n      </Button>\n      <Button\n        aria-busy={isLoading}\n        data-testid={UpdateProfileRequestSelectors.BtnUpdateProfile}\n        type=\"submit\"\n        flexGrow={1}\n        onClick={onUpdateProfile}\n      >\n        Update\n      </Button>\n    </HStack>\n  );\n}\n","import { useCallback, useState } from 'react';\n\nimport { ProfileUpdatePayload } from '@stacks/connect';\nimport { createFetchFn } from '@stacks/network';\nimport { PublicPersonProfile, PublicProfileBase } from '@stacks/profile';\nimport {\n  DEFAULT_PROFILE,\n  fetchAccountProfileUrl,\n  fetchProfileFromUrl,\n  signAndUploadProfile,\n} from '@stacks/wallet-sdk';\n\nimport { gaiaUrl } from '@leather.io/constants';\n\nimport { finalizeProfileUpdate } from '@shared/actions/finalize-profile-update';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useCurrentStacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { useProfileUpdateRequestSearchParams } from '@app/store/profiles/requests.hooks';\n\nimport { UpdateActionLayout } from './update-action.layout';\n\nfunction useUpdateProfileSoftwareWallet() {\n  const account = useCurrentStacksAccount();\n\n  return useCallback(\n    async (publicProfile: PublicPersonProfile) => {\n      const fetchFn = createFetchFn();\n\n      if (!account || account.type === 'ledger') return null;\n\n      const response = await fetchFn(`${gaiaUrl}/hub_info`);\n      const { read_url_prefix }: { read_url_prefix: string } = await response.json();\n      const profileUrl = await fetchAccountProfileUrl({\n        account,\n        gaiaHubUrl: read_url_prefix,\n      });\n      const profile = (await fetchProfileFromUrl(profileUrl, fetchFn)) || DEFAULT_PROFILE;\n      const updatedProfile = {\n        ...profile,\n        ...publicProfile,\n        // apps and appsMeta must not be overwritten by user\n        apps: profile.apps,\n        appsMeta: profile.appsMeta,\n      };\n      await signAndUploadProfile({\n        profile: updatedProfile as unknown as PublicProfileBase,\n        account,\n        gaiaHubUrl: gaiaUrl,\n      });\n      return updatedProfile as PublicPersonProfile;\n    },\n    [account]\n  );\n}\n\nexport function UpdateAction({\n  profileUpdaterPayload,\n}: {\n  profileUpdaterPayload: ProfileUpdatePayload;\n}): React.JSX.Element | null {\n  const { profile: publicProfile } = profileUpdaterPayload;\n\n  const { tabId, requestToken } = useProfileUpdateRequestSearchParams();\n  const updateProfileSoftwareWallet = useUpdateProfileSoftwareWallet();\n  const [isLoading, setIsLoading] = useState(false);\n\n  if (!requestToken || !tabId) return null;\n\n  const onUpdateProfile = async () => {\n    setIsLoading(true);\n    void analytics.track('request_update_profile_submit');\n    const result = await updateProfileSoftwareWallet(publicProfile);\n    setIsLoading(false);\n\n    finalizeProfileUpdate({\n      requestPayload: requestToken,\n      tabId,\n      data: result === null ? 'cancel' : result, // result is null for hardware wallets\n    });\n  };\n\n  const onCancel = async () => {\n    void analytics.track('request_update_profile_cancel');\n    finalizeProfileUpdate({ requestPayload: requestToken, tabId, data: 'cancel' });\n  };\n\n  return (\n    <UpdateActionLayout\n      onUpdateProfile={onUpdateProfile}\n      onCancel={onCancel}\n      isLoading={isLoading}\n    />\n  );\n}\n","import { ChainID } from '@stacks/common';\nimport { Person } from '@stacks/profile';\n\nimport { getProfileDataContentFromToken } from '@app/common/profiles/requests';\nimport { Disclaimer } from '@app/components/disclaimer';\nimport { NoFeesWarningRow } from '@app/components/no-fees-warning-row';\n\nimport { ProfileBox } from './profile-box';\nimport { UpdateAction } from './update-action';\n\ninterface ProfileDataContentProps {\n  requestToken: string;\n}\n\nexport function ProfileDataContent(props: ProfileDataContentProps) {\n  const { requestToken } = props;\n  const profileUpdateRequest = getProfileDataContentFromToken(requestToken);\n  const person = new Person(profileUpdateRequest.profile);\n  const { network } = profileUpdateRequest;\n  return (\n    <>\n      <ProfileBox profile={person} />\n      <NoFeesWarningRow chainId={network?.chainId ?? ChainID.Testnet} />\n      <UpdateAction profileUpdaterPayload={profileUpdateRequest} />\n      <hr />\n      <Disclaimer\n        disclaimerText=\"This update will overwrite any values in your public profile with the included property names.\"\n        learnMoreUrl=\"https://docs.hiro.so/build-apps/transaction-signing#get-the-users-stacks-address\"\n      />\n    </>\n  );\n}\n","import { HStack } from 'leather-styles/jsx';\n\nimport { Caption, ErrorTriangleIcon } from '@leather.io/ui';\n\ninterface ErrorMessageProps {\n  errorMessage: string;\n}\nexport function ErrorMessage(props: ErrorMessageProps) {\n  const { errorMessage } = props;\n  if (!errorMessage) return null;\n\n  return (\n    <HStack alignItems=\"center\" bg=\"#FCEEED\" p=\"space.04\" borderRadius=\"md\">\n      <ErrorTriangleIcon />\n      <Caption color=\"red.action-primary-default\">{errorMessage}</Caption>\n    </HStack>\n  );\n}\n","import { memo } from 'react';\n\nimport { Flex, Stack } from 'leather-styles/jsx';\n\nimport { Caption, Title } from '@leather.io/ui';\n\nimport { getProfileDataContentFromToken } from '@app/common/profiles/requests';\nimport { addPortSuffix, getUrlHostname } from '@app/common/utils';\nimport { useCurrentNetworkState } from '@app/store/networks/networks.hooks';\nimport { useProfileUpdateRequestSearchParams } from '@app/store/profiles/requests.hooks';\n\nfunction PageTopBase() {\n  const { isTestnet, chain } = useCurrentNetworkState();\n  const { origin, requestToken } = useProfileUpdateRequestSearchParams();\n  if (!requestToken) return null;\n  const profileUpdaterPayload = getProfileDataContentFromToken(requestToken);\n  if (!profileUpdaterPayload) return null;\n  const appName = profileUpdaterPayload?.appDetails?.name;\n  const originAddition = origin ? ` (${getUrlHostname(origin)})` : '';\n  const testnetAddition = isTestnet\n    ? ` using ${getUrlHostname(chain.stacks.url)}${addPortSuffix(chain.stacks.url)}`\n    : '';\n  const caption = appName\n    ? `Requested by \"${appName}\"${originAddition}${testnetAddition}`\n    : 'Request by an unknown app';\n  const avatarUrl = profileUpdaterPayload?.profile?.image?.[0]?.contentUrl;\n  return (\n    <Flex justify=\"space-between\" align=\"center\">\n      <Stack pt=\"space.06\" gap=\"space.04\">\n        <Title>Update Profile</Title>\n        {caption && <Caption wordBreak=\"break-word\">{caption}</Caption>}\n      </Stack>\n      {avatarUrl && (\n        <img\n          style={{\n            borderRadius: '100%',\n            width: '50px',\n            height: '50px',\n            alignItems: 'center',\n            marginTop: '32px',\n          }}\n          src={avatarUrl}\n        />\n      )}\n    </Flex>\n  );\n}\n\nexport const PageTop = memo(PageTopBase);\n","import { Stack } from 'leather-styles/jsx';\n\nimport { PopupHeader } from '@app/features/container/headers/popup.header';\n\nimport { PageTop } from './page-top';\n\ninterface ProfileUpdateRequestLayoutProps {\n  children: React.ReactNode;\n}\nexport function ProfileUpdateRequestLayout({ children }: ProfileUpdateRequestLayoutProps) {\n  return (\n    <>\n      <PopupHeader showSwitchAccount balance=\"all\" />\n      <Stack\n        bg=\"ink.background-primary\"\n        px={['space.05', 'space.05', 'unset']}\n        gap=\"space.05\"\n        width=\"100%\"\n      >\n        <PageTop />\n        {children}\n      </Stack>\n    </>\n  );\n}\n","import { memo } from 'react';\n\nimport { isUndefined } from '@leather.io/utils';\n\nimport { closeWindow } from '@shared/utils';\n\nimport { useOnOriginTabClose } from '@app/routes/hooks/use-on-tab-closed';\nimport {\n  useIsProfileUpdateRequestValid,\n  useProfileUpdateRequestSearchParams,\n} from '@app/store/profiles/requests.hooks';\n\nimport { ProfileDataContent } from './components/profile-data-content';\nimport { ErrorMessage } from './components/update-profile-error-msg';\nimport { ProfileUpdateRequestLayout } from './components/update-profile-request.layout';\n\nfunction ProfileUpdateRequestBase() {\n  const validProfileUpdateRequest = useIsProfileUpdateRequestValid();\n  const { requestToken } = useProfileUpdateRequestSearchParams();\n\n  useOnOriginTabClose(() => closeWindow());\n  if (isUndefined(validProfileUpdateRequest) || !validProfileUpdateRequest || !requestToken)\n    return (\n      <ProfileUpdateRequestLayout>\n        <ErrorMessage\n          errorMessage={`Invalid profile update request${\n            !validProfileUpdateRequest && ' (Profile must follow Person schema).'\n          }`}\n        />\n      </ProfileUpdateRequestLayout>\n    );\n\n  return (\n    <ProfileUpdateRequestLayout>\n      <ProfileDataContent requestToken={requestToken} />\n    </ProfileUpdateRequestLayout>\n  );\n}\n\nexport const ProfileUpdateRequest = memo(ProfileUpdateRequestBase);\n","import { Suspense } from 'react';\nimport { Route } from 'react-router-dom';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { BroadcastErrorSheet } from '@app/components/broadcast-error-dialog/broadcast-error-dialog';\nimport { EditNonceSheet } from '@app/features/dialogs/edit-nonce-dialog/edit-nonce-dialog';\nimport { ledgerStacksMessageSigningRoutes } from '@app/features/ledger/flows/stacks-message-signing/ledger-stacks-sign-msg.routes';\nimport { ledgerStacksTxSigningRoutes } from '@app/features/ledger/flows/stacks-tx-signing/ledger-sign-stacks-tx-container';\nimport { StacksHighFeeWarningContainer } from '@app/features/stacks-high-fee-warning/stacks-high-fee-warning-container';\nimport { PsbtRequest } from '@app/pages/psbt-request/psbt-request';\nimport { SignStacksMessageRequest } from '@app/pages/sign-stacks-message-request/sign-stacks-message-request';\nimport { TransactionRequest } from '@app/pages/transaction-request/transaction-request';\nimport { ProfileUpdateRequest } from '@app/pages/update-profile-request/update-profile-request';\nimport { AccountGate } from '@app/routes/account-gate';\nimport { SuspenseLoadingSpinner } from '@app/routes/app-routes';\n\nexport const legacyRequestRoutes = (\n  <>\n    <Route\n      path={RouteUrls.TransactionRequest}\n      element={\n        <AccountGate>\n          <Suspense fallback={<SuspenseLoadingSpinner />}>\n            <StacksHighFeeWarningContainer>\n              <TransactionRequest />\n            </StacksHighFeeWarningContainer>\n          </Suspense>\n        </AccountGate>\n      }\n    >\n      {ledgerStacksTxSigningRoutes}\n      <Route path={RouteUrls.EditNonce} element={<EditNonceSheet />} />\n      <Route path={RouteUrls.TransactionBroadcastError} element={<BroadcastErrorSheet />} />\n    </Route>\n    <Route\n      path={RouteUrls.SignatureRequest}\n      element={\n        <AccountGate>\n          <Suspense fallback={<SuspenseLoadingSpinner />}>\n            <SignStacksMessageRequest />\n          </Suspense>\n        </AccountGate>\n      }\n    >\n      {ledgerStacksMessageSigningRoutes}\n    </Route>\n    <Route\n      path={RouteUrls.ProfileUpdateRequest}\n      element={\n        <AccountGate>\n          <Suspense fallback={<SuspenseLoadingSpinner />}>\n            <ProfileUpdateRequest />\n          </Suspense>\n        </AccountGate>\n      }\n    />\n    <Route\n      path={RouteUrls.PsbtRequest}\n      element={\n        <AccountGate>\n          <Suspense fallback={<SuspenseLoadingSpinner />}>\n            <PsbtRequest />\n          </Suspense>\n        </AccountGate>\n      }\n    />\n  </>\n);\n","import { css } from 'leather-styles/css';\nimport { Box } from 'leather-styles/jsx';\n\nimport { Favicon } from '@leather.io/ui';\n\ninterface FaviconDisplayerProps {\n  requester: string;\n}\n\nexport function FaviconDisplayer({ requester }: FaviconDisplayerProps) {\n  return (\n    <Box\n      bg=\"ink.background-primary\"\n      p=\"space.04\"\n      borderRadius=\"lg\"\n      display=\"inline-block\"\n      borderColor=\"ink.border-default\"\n      borderWidth=\"1px\"\n      width=\"72px\"\n      height=\"72px\"\n    >\n      {/* Remove as any when setting prop as number in mono */}\n      <Box className={css({ transform: 'scale(0.9)' })}>\n        <Favicon origin={requester} size={64 as any} />\n      </Box>\n    </Box>\n  );\n}\n","import type { ReactNode } from 'react';\n\nimport { motion, useAnimationControls } from 'framer-motion';\nimport { Box, Flex, VStack, styled } from 'leather-styles/jsx';\n\nimport {\n  Approver,\n  Button,\n  CheckmarkIcon,\n  Flag,\n  LeatherLogomarkIcon,\n  QuestionCircleIcon,\n} from '@leather.io/ui';\nimport { delay } from '@leather.io/utils';\n\nimport { closeWindow } from '@shared/utils';\n\nimport { useOnMount } from '@app/common/hooks/use-on-mount';\nimport { FaviconDisplayer } from '@app/components/favicon-displayer/favicon-displayer';\n\ninterface GetAddressesLayoutProps {\n  requester: string;\n  switchAccount: ReactNode;\n  onBeforeAnimation?(): void;\n  onUserApprovesGetAddresses(): void;\n  onClickRequestedByLink(): void;\n}\nexport function GetAddressesLayout({\n  requester,\n  switchAccount,\n  onBeforeAnimation,\n  onUserApprovesGetAddresses,\n  onClickRequestedByLink,\n}: GetAddressesLayoutProps) {\n  const originLogoAnimation = useAnimationControls();\n  const contentDisappears = useAnimationControls();\n  const checkmarkEnters = useAnimationControls();\n\n  useOnMount(() => {\n    // Force background, only visible when resized\n    if (document.body && document.body.parentElement) {\n      document.body.parentElement.style.background =\n        'var(--leather-colors-ink-background-secondary)';\n    }\n  });\n\n  async function userApprovesGetAddresses() {\n    onBeforeAnimation?.();\n    const yPos = window.innerHeight / 2 - 100;\n    const xPos = Math.min(window.innerWidth / 2, 320) - 84;\n    await contentDisappears.start({\n      opacity: 0,\n      transition: { duration: 0.4 },\n      pointerEvents: 'none',\n    });\n    await originLogoAnimation.start({\n      x: xPos,\n      y: yPos,\n      scale: 1.4,\n      rotate: -20,\n    });\n    await checkmarkEnters.start({ scale: 0.5, dur: 0.32 });\n    await delay(280);\n    onUserApprovesGetAddresses();\n    await delay(280);\n    await originLogoAnimation.start({\n      scale: 0,\n      opacity: 0,\n      dur: 0.004,\n    });\n    closeWindow();\n  }\n\n  return (\n    <Flex\n      flexDir=\"column\"\n      minH=\"100vh\"\n      background=\"ink.background-secondary\"\n      boxShadow=\"0px 0px 2px 0px rgba(18, 16, 15, 0.08), 0px 4px 8px 0px rgba(18, 16, 15, 0.08), 0px 12px 24px 0px rgba(18, 16, 15, 0.08)\"\n    >\n      <Box mx=\"space.05\" mt=\"space.05\" height={18} width={86}>\n        <LeatherLogomarkIcon height={18} width={86} />\n      </Box>\n      <Flex zIndex={0}>\n        <motion.div style={{ display: 'inline-block', zIndex: 1 }} animate={originLogoAnimation}>\n          <Box mx=\"space.05\" mt=\"space.05\">\n            <FaviconDisplayer requester={requester} />\n          </Box>\n          <motion.img\n            animate={checkmarkEnters}\n            style={{ position: 'absolute', zIndex: 1, top: '50%', left: '50%' }}\n            initial={{ scale: 0 }}\n            src=\"assets/illustrations/black-circle-checkmark.svg\"\n          />\n        </motion.div>\n      </Flex>\n      <motion.div animate={contentDisappears} style={{ display: 'flex', flex: 1 }}>\n        <Approver requester={requester} width=\"100%\" mt=\"space.01\">\n          <Approver.Header\n            title=\"Connect app\"\n            info={\n              <styled.a\n                display=\"block\"\n                p=\"space.01\"\n                target=\"_blank\"\n                href=\"https://leather.io/guides/connect-dapps\"\n              >\n                <QuestionCircleIcon variant=\"small\" />\n              </styled.a>\n            }\n            onPressRequestedByLink={e => {\n              e.preventDefault();\n              onClickRequestedByLink();\n            }}\n          />\n          <Approver.Section>\n            <Approver.Subheader>With account</Approver.Subheader>\n            <Box mb=\"space.03\">{switchAccount}</Box>\n          </Approver.Section>\n          <Approver.Section>\n            <Approver.Subheader>This app would like to</Approver.Subheader>\n            <VStack gap=\"space.03\" pb=\"space.03\">\n              {['View your balances and activity', 'Request approval for transactions'].map(\n                text => (\n                  <Flag key={text} img={<CheckmarkIcon variant=\"small\" />}>\n                    <styled.p textStyle=\"caption.01\">{text}</styled.p>\n                  </Flag>\n                )\n              )}\n            </VStack>\n          </Approver.Section>\n          <Approver.Actions\n            actions={[\n              <Button key=\"cancel\" variant=\"outline\" onClick={() => closeWindow()}>\n                Deny\n              </Button>,\n              <Button\n                key=\"confirm\"\n                onClick={userApprovesGetAddresses}\n                data-testid=\"get-addresses-approve-button\"\n              >\n                Confirm\n              </Button>,\n            ]}\n          />\n        </Approver>\n      </motion.div>\n    </Flex>\n  );\n}\n","import { useMemo } from 'react';\n\nimport { useDefaultRequestParams } from './hooks/use-default-request-search-params';\nimport { initialSearchParams } from './initial-search-params';\n\nexport function useRpcRequestParams() {\n  const defaultParams = useDefaultRequestParams();\n  return useMemo(\n    () => ({\n      ...defaultParams,\n      requestId: initialSearchParams.get('requestId') ?? '',\n    }),\n    [defaultParams]\n  );\n}\n","import { BtcAddress } from '@btckit/types';\nimport { bytesToHex } from '@stacks/common';\n\nimport { ecdsaPublicKeyToSchnorr } from '@leather.io/bitcoin';\n\nimport { logger } from '@shared/logger';\nimport { makeRpcSuccessResponse } from '@shared/rpc/rpc-methods';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useRpcRequestParams } from '@app/common/rpc-helpers';\nimport { useCurrentAccountNativeSegwitSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useCurrentAccountTaprootSigner } from '@app/store/accounts/blockchain/bitcoin/taproot-account.hooks';\nimport { useCurrentStacksAccount } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { useAppPermissions } from '@app/store/app-permissions/app-permissions.slice';\n\nexport function useGetAddresses() {\n  const permissions = useAppPermissions();\n  const { tabId, origin, requestId } = useRpcRequestParams();\n\n  const createNativeSegwitSigner = useCurrentAccountNativeSegwitSigner();\n  const createTaprootSigner = useCurrentAccountTaprootSigner();\n  const stacksAccount = useCurrentStacksAccount();\n\n  function focusInitatingTab() {\n    void analytics.track('user_clicked_requested_by_link', { endpoint: 'getAddresses' });\n    chrome.tabs.update(tabId ?? 0, { active: true }, tab => {\n      if (!tab) return;\n      chrome.windows.update(tab.windowId, { focused: true });\n    });\n  }\n\n  return {\n    origin,\n    focusInitatingTab,\n    onUserApproveGetAddresses() {\n      if (!tabId || !origin) {\n        logger.error('Cannot give app accounts: missing tabId, origin');\n        return;\n      }\n\n      void analytics.track('user_approved_get_addresses', { origin });\n\n      permissions.hasRequestedAccounts(origin);\n\n      const keysToIncludeInResponse = [];\n\n      if (createNativeSegwitSigner) {\n        const nativeSegwitSigner = createNativeSegwitSigner(0);\n\n        const nativeSegwitAddressResponse: BtcAddress = {\n          symbol: 'BTC',\n          type: 'p2wpkh',\n          address: nativeSegwitSigner.address,\n          publicKey: bytesToHex(nativeSegwitSigner.publicKey),\n          derivationPath: nativeSegwitSigner.derivationPath,\n        };\n\n        keysToIncludeInResponse.push(nativeSegwitAddressResponse);\n      }\n\n      if (createTaprootSigner) {\n        const taprootSigner = createTaprootSigner(0);\n        const taprootAddressResponse: BtcAddress = {\n          symbol: 'BTC',\n          type: 'p2tr',\n          address: taprootSigner.address,\n          publicKey: bytesToHex(taprootSigner.publicKey),\n          tweakedPublicKey: bytesToHex(ecdsaPublicKeyToSchnorr(taprootSigner.publicKey)),\n          derivationPath: taprootSigner.derivationPath,\n        };\n        keysToIncludeInResponse.push(taprootAddressResponse);\n      }\n\n      if (stacksAccount) {\n        const stacksAddressResponse = {\n          symbol: 'STX',\n          address: stacksAccount.address ?? '',\n          publicKey: stacksAccount.stxPublicKey ?? '',\n        };\n\n        keysToIncludeInResponse.push(stacksAddressResponse);\n      }\n\n      chrome.tabs.sendMessage(\n        tabId,\n        makeRpcSuccessResponse('getAddresses', {\n          id: requestId,\n          result: { addresses: keysToIncludeInResponse as any },\n        })\n      );\n    },\n  };\n}\n","import { Box } from 'leather-styles/jsx';\n\nimport { closeWindow } from '@shared/utils';\n\nimport { useAccountDisplayName } from '@app/common/hooks/account/use-account-names';\nimport { useSwitchAccountSheet } from '@app/common/switch-account/use-switch-account-sheet-context';\nimport { AccountTotalBalance } from '@app/components/account-total-balance';\nimport { AcccountAddresses } from '@app/components/account/account-addresses';\nimport { AccountListItemLayout } from '@app/components/account/account-list-item.layout';\nimport { AccountNameLayout } from '@app/components/account/account-name';\nimport { useOnOriginTabClose } from '@app/routes/hooks/use-on-tab-closed';\nimport { useCurrentAccountIndex } from '@app/store/accounts/account';\nimport { useNativeSegwitSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { useStacksAccounts } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { AccountAvatarItem } from '@app/ui/components/account/account-avatar/account-avatar-item';\n\nimport { GetAddressesLayout } from './components/get-addresses.layout';\nimport { useGetAddresses } from './use-get-addresses';\n\nexport function RpcGetAddresses() {\n  const { focusInitatingTab, origin, onUserApproveGetAddresses } = useGetAddresses();\n  const index = useCurrentAccountIndex();\n  const stacksAccounts = useStacksAccounts();\n  const stxAddress = stacksAccounts[index]?.address || '';\n  const { data: name = '' } = useAccountDisplayName({ address: stxAddress, index });\n  const bitcoinSigner = useNativeSegwitSigner(index);\n  const bitcoinAddress = bitcoinSigner?.(0).address || '';\n\n  useOnOriginTabClose(() => closeWindow());\n\n  const { toggleSwitchAccount } = useSwitchAccountSheet();\n\n  if (origin === null) {\n    closeWindow();\n    throw new Error('Origin is null');\n  }\n\n  return (\n    <GetAddressesLayout\n      requester={origin}\n      onClickRequestedByLink={focusInitatingTab}\n      switchAccount={\n        <AccountListItemLayout\n          withChevron\n          accountAddresses={<AcccountAddresses index={index} />}\n          accountName={<AccountNameLayout isLoading={false}>{name}</AccountNameLayout>}\n          avatar={\n            <AccountAvatarItem\n              index={index}\n              publicKey={stacksAccounts[index]?.stxPublicKey || ''}\n              name={name}\n            />\n          }\n          balanceLabel={\n            // Hack to center element without adjusting AccountListItemLayout\n            <Box pos=\"relative\" top={12}>\n              <AccountTotalBalance stxAddress={stxAddress} btcAddress={bitcoinAddress} />\n            </Box>\n          }\n          index={0}\n          isLoading={false}\n          isSelected={false}\n          onSelectAccount={() => toggleSwitchAccount()}\n        />\n      }\n      onUserApprovesGetAddresses={onUserApproveGetAddresses}\n    />\n  );\n}\n","import { HStack, Stack, styled } from 'leather-styles/jsx';\n\nimport { formatMoney, truncateMiddle } from '@leather.io/utils';\n\nimport type { TransferRecipient } from '@shared/models/form.model';\n\ninterface SendTransferDetailsProps {\n  recipients: TransferRecipient[];\n  currentAddress: string;\n}\n\nexport function SendTransferDetails({ recipients, currentAddress }: SendTransferDetailsProps) {\n  return (\n    <Stack width=\"100%\">\n      {recipients.map(({ address, amount }, index) => (\n        <Stack\n          key={address + index}\n          border=\"active\"\n          borderRadius=\"sm\"\n          gap=\"space.04\"\n          p=\"space.05\"\n          width=\"100%\"\n        >\n          <HStack alignItems=\"center\" gap=\"space.04\" justifyContent=\"space-between\">\n            <styled.span textStyle=\"caption.01\">From</styled.span>\n            <styled.span textStyle=\"label.01\">{truncateMiddle(currentAddress)}</styled.span>\n          </HStack>\n          <HStack alignItems=\"center\" gap=\"space.04\" justifyContent=\"space-between\">\n            <styled.span textStyle=\"caption.01\">To</styled.span>\n            <styled.span textStyle=\"label.01\">{truncateMiddle(address)}</styled.span>\n          </HStack>\n          <HStack alignItems=\"center\" gap=\"space.04\" justifyContent=\"space-between\">\n            <styled.span textStyle=\"caption.01\">Amount</styled.span>\n            <styled.span textStyle=\"label.01\">{formatMoney(amount)}</styled.span>\n          </HStack>\n        </Stack>\n      ))}\n    </Stack>\n  );\n}\n","import { Flex, styled } from 'leather-styles/jsx';\n\nimport { Flag } from '@leather.io/ui';\n\nimport { Favicon } from '@app/components/favicon';\n\ninterface SendTransferHeaderProps {\n  amount: string;\n  origin: string;\n}\nexport function SendTransferHeader({ amount, origin }: SendTransferHeaderProps) {\n  const title = `Send ${amount}`;\n  const caption = origin ? `Requested by ${origin}` : null;\n\n  return (\n    <Flex flexDirection=\"column\" mb=\"space.05\" width=\"100%\">\n      <styled.h1 mb=\"space.04\" textStyle=\"heading.03\">\n        {title}\n      </styled.h1>\n      {caption && (\n        <Flag img={<Favicon origin={origin} />} pl=\"space.02\">\n          <styled.span textStyle=\"label.02\" wordBreak=\"break-word\">\n            {caption}\n          </styled.span>\n        </Flag>\n      )}\n    </Flex>\n  );\n}\n","import { useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nimport BigNumber from 'bignumber.js';\n\nimport { createMoney, sumNumbers } from '@leather.io/utils';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { useDefaultRequestParams } from '@app/common/hooks/use-default-request-search-params';\nimport { useOnMount } from '@app/common/hooks/use-on-mount';\nimport { initialSearchParams } from '@app/common/initial-search-params';\nimport { useCurrentNativeSegwitUtxos } from '@app/query/bitcoin/address/utxos-by-address.hooks';\n\nexport function useRpcSendTransferRequestParams() {\n  const defaultParams = useDefaultRequestParams();\n  return useMemo(\n    () => ({\n      ...defaultParams,\n      requestId: initialSearchParams.get('requestId') ?? '',\n      recipientsAddresses: initialSearchParams.getAll('recipient') ?? [],\n      amounts: initialSearchParams.getAll('amount') ?? [],\n    }),\n    [defaultParams]\n  );\n}\n\nexport function useRpcSendTransfer() {\n  const navigate = useNavigate();\n  const { origin, recipientsAddresses, amounts } = useRpcSendTransferRequestParams();\n  const { data: utxos = [], filteredUtxosQuery } = useCurrentNativeSegwitUtxos();\n  const totalAmount = sumNumbers(amounts.map(Number));\n  const amountAsMoney = createMoney(new BigNumber(totalAmount), 'BTC');\n\n  // Forcing a refetch to ensure UTXOs are fresh\n  useOnMount(() => filteredUtxosQuery.refetch());\n\n  if (!origin) throw new Error('Invalid params');\n\n  const recipients = recipientsAddresses.map((address, index) => ({\n    address,\n    amount: createMoney(Number(amounts[index]), 'BTC'),\n  }));\n\n  return {\n    recipients,\n    origin,\n    utxos,\n    totalAmount,\n    amountAsMoney,\n    recipientsAddresses,\n    async onChooseTransferFee() {\n      navigate(RouteUrls.RpcSendTransferChooseFee, {\n        state: { recipients, utxos, amountAsMoney },\n      });\n    },\n  };\n}\n","import BigNumber from 'bignumber.js';\n\nimport { Button } from '@leather.io/ui';\nimport { createMoney, formatMoneyPadded } from '@leather.io/utils';\n\nimport { InfoCardFooter } from '@app/components/info-card/info-card';\nimport { useBreakOnNonCompliantEntity } from '@app/query/common/compliance-checker/compliance-checker.query';\nimport { useCurrentAccountNativeSegwitIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\n\nimport { SendTransferDetails } from './components/send-transfer-details';\nimport { SendTransferHeader } from './components/send-transfer-header';\nimport { useRpcSendTransfer } from './use-rpc-send-transfer';\n\nexport function RpcSendTransfer() {\n  const nativeSegwitSigner = useCurrentAccountNativeSegwitIndexZeroSigner();\n  const { recipients, recipientsAddresses, totalAmount, onChooseTransferFee, origin } =\n    useRpcSendTransfer();\n  const amountAsMoney = createMoney(new BigNumber(totalAmount), 'BTC');\n  const formattedMoney = formatMoneyPadded(amountAsMoney);\n\n  useBreakOnNonCompliantEntity(recipientsAddresses);\n\n  return (\n    <>\n      <SendTransferHeader amount={formattedMoney} origin={origin} />\n      <SendTransferDetails recipients={recipients} currentAddress={nativeSegwitSigner.address} />\n      <InfoCardFooter>\n        <Button borderRadius=\"sm\" flexGrow={1} onClick={onChooseTransferFee}>\n          Continue\n        </Button>\n      </InfoCardFooter>\n    </>\n  );\n}\n","import { useMemo } from 'react';\n\nimport { BtcFeeType, Money, btcTxTimeMap } from '@leather.io/models';\nimport {\n  type UtxoResponseItem,\n  useAverageBitcoinFeeRates,\n  useCryptoCurrencyMarketDataMeanAverage,\n} from '@leather.io/query';\nimport {\n  baseCurrencyAmountInQuote,\n  createMoney,\n  formatMoneyPadded,\n  i18nFormatCurrency,\n} from '@leather.io/utils';\n\nimport type { TransferRecipient } from '@shared/models/form.model';\n\nimport {\n  type DetermineUtxosForSpendArgs,\n  determineUtxosForSpend,\n  determineUtxosForSpendAll,\n} from '@app/common/transactions/bitcoin/coinselect/local-coin-selection';\n\nimport { FeesListItem } from './bitcoin-fees-list';\n\nfunction getFeeForList(\n  determineUtxosForFeeArgs: DetermineUtxosForSpendArgs,\n  isSendingMax?: boolean\n) {\n  try {\n    const { fee } = isSendingMax\n      ? determineUtxosForSpendAll(determineUtxosForFeeArgs)\n      : determineUtxosForSpend(determineUtxosForFeeArgs);\n    return fee;\n  } catch (error) {\n    return null;\n  }\n}\n\ninterface UseBitcoinFeesListArgs {\n  amount: Money;\n  recipients: TransferRecipient[];\n  utxos: UtxoResponseItem[];\n}\nexport function useBitcoinFeesList({ amount, recipients, utxos }: UseBitcoinFeesListArgs) {\n  const btcMarketData = useCryptoCurrencyMarketDataMeanAverage('BTC');\n  const { data: feeRates, isLoading } = useAverageBitcoinFeeRates();\n\n  const feesList: FeesListItem[] = useMemo(() => {\n    function getFiatFeeValue(fee: number) {\n      return `~ ${i18nFormatCurrency(\n        baseCurrencyAmountInQuote(createMoney(Math.ceil(fee), 'BTC'), btcMarketData)\n      )}`;\n    }\n\n    if (!feeRates || !utxos.length) return [];\n\n    const satAmount = amount.amount.toNumber();\n\n    const determineUtxosDefaultArgs = {\n      amount: satAmount,\n      recipients,\n      utxos,\n    };\n\n    const determineUtxosForHighFeeArgs = {\n      ...determineUtxosDefaultArgs,\n      feeRate: feeRates.fastestFee.toNumber(),\n    };\n\n    const determineUtxosForStandardFeeArgs = {\n      ...determineUtxosDefaultArgs,\n      feeRate: feeRates.halfHourFee.toNumber(),\n    };\n\n    const determineUtxosForLowFeeArgs = {\n      ...determineUtxosDefaultArgs,\n      feeRate: feeRates.hourFee.toNumber(),\n    };\n\n    const feesArr = [];\n\n    const highFeeValue = getFeeForList(determineUtxosForHighFeeArgs);\n    const standardFeeValue = getFeeForList(determineUtxosForStandardFeeArgs);\n    const lowFeeValue = getFeeForList(determineUtxosForLowFeeArgs);\n\n    if (highFeeValue) {\n      feesArr.push({\n        label: BtcFeeType.High,\n        value: highFeeValue,\n        btcValue: formatMoneyPadded(createMoney(highFeeValue, 'BTC')),\n        time: btcTxTimeMap.fastestFee,\n        fiatValue: getFiatFeeValue(highFeeValue),\n        feeRate: feeRates.fastestFee.toNumber(),\n      });\n    }\n\n    if (standardFeeValue) {\n      feesArr.push({\n        label: BtcFeeType.Standard,\n        value: standardFeeValue,\n        btcValue: formatMoneyPadded(createMoney(standardFeeValue, 'BTC')),\n        time: btcTxTimeMap.halfHourFee,\n        fiatValue: getFiatFeeValue(standardFeeValue),\n        feeRate: feeRates.halfHourFee.toNumber(),\n      });\n    }\n\n    if (lowFeeValue) {\n      feesArr.push({\n        label: BtcFeeType.Low,\n        value: lowFeeValue,\n        btcValue: formatMoneyPadded(createMoney(lowFeeValue, 'BTC')),\n        time: btcTxTimeMap.hourFee,\n        fiatValue: getFiatFeeValue(lowFeeValue),\n        feeRate: feeRates.hourFee.toNumber(),\n      });\n    }\n\n    return feesArr;\n  }, [amount.amount, btcMarketData, feeRates, recipients, utxos]);\n\n  return {\n    feesList,\n    isLoading,\n  };\n}\n","import { useState } from 'react';\nimport { Outlet, useOutletContext } from 'react-router-dom';\n\nimport { Flex } from 'leather-styles/jsx';\n\nimport type { BtcFeeType } from '@leather.io/models';\n\nimport { closeWindow } from '@shared/utils';\n\nimport { PopupHeader } from '@app/features/container/headers/popup.header';\n\nimport { useRpcSendTransfer } from './use-rpc-send-transfer';\n\ninterface RpcSendTransferContextState {\n  selectedFeeType: BtcFeeType;\n  setSelectedFeeType(value: BtcFeeType | null): void;\n}\nexport function useRpcSendTransferState() {\n  const context = useOutletContext<RpcSendTransferContextState>();\n  return { ...context };\n}\n\nexport function RpcSendTransferContainer() {\n  const [selectedFeeType, setSelectedFeeType] = useState<BtcFeeType | null>(null);\n  const { origin } = useRpcSendTransfer();\n\n  if (origin === null) {\n    closeWindow();\n    throw new Error('Origin is null');\n  }\n\n  return (\n    <>\n      <PopupHeader showSwitchAccount balance=\"all\" />\n      <Flex alignItems=\"center\" flexDirection=\"column\" p=\"space.05\" width=\"100%\">\n        <Outlet context={{ selectedFeeType, setSelectedFeeType }} />\n      </Flex>\n    </>\n  );\n}\n","import { Outlet, useNavigate } from 'react-router-dom';\n\nimport type { BtcFeeType, Money } from '@leather.io/models';\nimport type { UtxoResponseItem } from '@leather.io/query';\n\nimport { logger } from '@shared/logger';\nimport type { TransferRecipient } from '@shared/models/form.model';\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { useLocationStateWithCache } from '@app/common/hooks/use-location-state';\nimport { useGenerateUnsignedNativeSegwitTx } from '@app/common/transactions/bitcoin/use-generate-bitcoin-tx';\nimport {\n  BitcoinFeesList,\n  OnChooseFeeArgs,\n} from '@app/components/bitcoin-fees-list/bitcoin-fees-list';\nimport { useBitcoinFeesList } from '@app/components/bitcoin-fees-list/use-bitcoin-fees-list-multiple-recipients';\nimport { BitcoinChooseFee } from '@app/features/bitcoin-choose-fee/bitcoin-choose-fee';\nimport { useValidateBitcoinSpend } from '@app/features/bitcoin-choose-fee/hooks/use-validate-bitcoin-spend';\nimport { useSignBitcoinTx } from '@app/store/accounts/blockchain/bitcoin/bitcoin.hooks';\n\nimport { formFeeRowValue } from '../../common/send/utils';\nimport { useRpcSendTransferState } from './rpc-send-transfer-container';\n\nfunction useRpcSendTransferFeeState() {\n  const amountAsMoney = useLocationStateWithCache('amountAsMoney') as Money;\n  const recipients = useLocationStateWithCache('recipients') as TransferRecipient[];\n  const utxos = useLocationStateWithCache('utxos') as UtxoResponseItem[];\n\n  return { amountAsMoney, utxos, recipients };\n}\n\nexport function RpcSendTransferChooseFee() {\n  const { selectedFeeType, setSelectedFeeType } = useRpcSendTransferState();\n  const { amountAsMoney, utxos, recipients } = useRpcSendTransferFeeState();\n\n  const navigate = useNavigate();\n\n  const generateTx = useGenerateUnsignedNativeSegwitTx();\n  const signTransaction = useSignBitcoinTx();\n  const { feesList, isLoading } = useBitcoinFeesList({\n    amount: amountAsMoney,\n    recipients,\n    utxos,\n  });\n  const recommendedFeeRate = feesList[1]?.feeRate.toString() || '';\n\n  const { showInsufficientBalanceError, onValidateBitcoinFeeSpend } = useValidateBitcoinSpend();\n\n  async function previewTransfer({ feeRate, feeValue, time, isCustomFee }: OnChooseFeeArgs) {\n    const resp = await generateTx({ amount: amountAsMoney, recipients }, feeRate, utxos);\n\n    if (!resp) return logger.error('Attempted to generate raw tx, but no tx exists');\n\n    const tx = await signTransaction(resp.psbt);\n\n    tx.finalize();\n\n    const feeRowValue = formFeeRowValue(feeRate, isCustomFee);\n\n    navigate(RouteUrls.RpcSendTransferConfirmation, {\n      state: {\n        fee: feeValue,\n        recipients,\n        time,\n        tx: tx.hex,\n        feeRowValue,\n      },\n    });\n  }\n\n  return (\n    <>\n      <Outlet />\n      <BitcoinChooseFee\n        amount={amountAsMoney}\n        defaultToCustomFee={!feesList.length}\n        feesList={\n          <BitcoinFeesList\n            feesList={feesList}\n            isLoading={isLoading}\n            onChooseFee={previewTransfer}\n            onValidateBitcoinSpend={onValidateBitcoinFeeSpend}\n            onSetSelectedFeeType={(value: BtcFeeType | null) => setSelectedFeeType(value)}\n            selectedFeeType={selectedFeeType}\n          />\n        }\n        isLoading={isLoading}\n        isSendingMax={false}\n        onChooseFee={previewTransfer}\n        onSetSelectedFeeType={(value: BtcFeeType | null) => setSelectedFeeType(value)}\n        onValidateBitcoinSpend={onValidateBitcoinFeeSpend}\n        recipients={recipients}\n        recommendedFeeRate={recommendedFeeRate}\n        showError={showInsufficientBalanceError}\n        maxRecommendedFeeRate={feesList[0]?.feeRate}\n        px=\"0\"\n      />\n    </>\n  );\n}\n","import { HStack, Stack, styled } from 'leather-styles/jsx';\n\nimport type { Money } from '@leather.io/models';\nimport { formatMoney } from '@leather.io/utils';\n\ninterface SendTransferConfirmationDetailsProps {\n  currentAddress: string;\n  recipient: string;\n  amount: Money;\n}\nexport function SendTransferConfirmationDetails({\n  currentAddress,\n  recipient,\n  amount,\n}: SendTransferConfirmationDetailsProps) {\n  return (\n    <Stack border=\"active\" borderRadius=\"sm\" p=\"space.05\" gap=\"space.04\" width=\"100%\">\n      <HStack alignItems=\"center\" gap=\"space.04\" justifyContent=\"space-between\">\n        <styled.span color=\"ink.text-subdued\">From</styled.span>\n        <styled.span>{currentAddress}</styled.span>\n      </HStack>\n      <HStack alignItems=\"center\" gap=\"space.04\" justifyContent=\"space-between\">\n        <styled.span color=\"ink.text-subdued\">To</styled.span>\n        <styled.span>{recipient}</styled.span>\n      </HStack>\n      <HStack alignItems=\"center\" gap=\"space.04\" justifyContent=\"space-between\">\n        <styled.span color=\"ink.text-subdued\">Amount</styled.span>\n        <styled.span>{formatMoney(amount)}</styled.span>\n      </HStack>\n    </Stack>\n  );\n}\n","import { useLocation, useNavigate } from 'react-router-dom';\n\nimport { HStack, Stack, styled } from 'leather-styles/jsx';\nimport get from 'lodash.get';\n\nimport { decodeBitcoinTx } from '@leather.io/bitcoin';\nimport type { CryptoCurrency } from '@leather.io/models';\nimport {\n  useBitcoinBroadcastTransaction,\n  useCryptoCurrencyMarketDataMeanAverage,\n} from '@leather.io/query';\nimport { Button } from '@leather.io/ui';\nimport {\n  baseCurrencyAmountInQuote,\n  createMoney,\n  formatMoney,\n  formatMoneyPadded,\n  formatMoneyWithoutSymbol,\n  i18nFormatCurrency,\n  sumMoney,\n  truncateMiddle,\n} from '@leather.io/utils';\n\nimport { logger } from '@shared/logger';\nimport type { TransferRecipient } from '@shared/models/form.model';\nimport { RouteUrls } from '@shared/route-urls';\nimport { makeRpcSuccessResponse } from '@shared/rpc/rpc-methods';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { InfoCardFooter } from '@app/components/info-card/info-card';\nimport { useCurrentNativeSegwitUtxos } from '@app/query/bitcoin/address/utxos-by-address.hooks';\nimport { useCurrentAccountNativeSegwitAddressIndexZero } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\n\nimport { SendTransferConfirmationDetails } from './components/send-transfer-confirmation-details';\nimport { useRpcSendTransferRequestParams } from './use-rpc-send-transfer';\n\nconst symbol: CryptoCurrency = 'BTC';\n\nfunction useRpcSendTransferConfirmationState() {\n  const location = useLocation();\n  return {\n    fee: get(location.state, 'fee') as string,\n    recipients: get(location.state, 'recipients') as TransferRecipient[],\n    time: get(location.state, 'time') as string,\n    tx: get(location.state, 'tx') as string,\n    feeRowValue: get(location.state, 'feeRowValue') as string,\n  };\n}\n\nexport function RpcSendTransferConfirmation() {\n  const navigate = useNavigate();\n  const { origin, requestId, tabId } = useRpcSendTransferRequestParams();\n  const { fee, recipients, time, tx, feeRowValue } = useRpcSendTransferConfirmationState();\n  const bitcoinAddress = useCurrentAccountNativeSegwitAddressIndexZero();\n  const { broadcastTx, isBroadcasting } = useBitcoinBroadcastTransaction();\n  const { filteredUtxosQuery } = useCurrentNativeSegwitUtxos();\n  const btcMarketData = useCryptoCurrencyMarketDataMeanAverage('BTC');\n\n  const psbt = decodeBitcoinTx(tx);\n  const transferAmount = sumMoney(recipients.map(r => r.amount));\n  const txFiatValue = i18nFormatCurrency(baseCurrencyAmountInQuote(transferAmount, btcMarketData));\n  const txFiatValueSymbol = btcMarketData.price.symbol;\n  const feeMoney = createMoney(Number(fee), symbol);\n  const summaryFee = formatMoneyPadded(feeMoney);\n  const totalSpend = sumMoney([transferAmount, feeMoney]);\n\n  function formBtcTxSummaryState(txId: string) {\n    return {\n      txLink: {\n        blockchain: 'bitcoin',\n        txid: txId || '',\n      },\n      txId,\n      recipients,\n      fee: summaryFee,\n      txValue: formatMoneyWithoutSymbol(transferAmount),\n      arrivesIn: time,\n      totalSpend: formatMoney(totalSpend),\n      symbol,\n      sendingValue: formatMoney(transferAmount),\n      txFiatValue,\n      txFiatValueSymbol,\n      feeRowValue,\n    };\n  }\n\n  async function onUserApproveSendTransferRequest() {\n    if (!tabId || !origin) {\n      logger.error('Cannot send transfer: missing tabId, origin');\n      return;\n    }\n    void analytics.track('user_approved_send_transfer', { origin });\n\n    await broadcastTx({\n      tx,\n      async onSuccess(txid) {\n        void analytics.track('broadcast_transaction', {\n          symbol: 'btc',\n          amount: transferAmount,\n          fee,\n          inputs: psbt.inputs.length,\n          outputs: psbt.inputs.length,\n        });\n        await filteredUtxosQuery.refetch();\n\n        chrome.tabs.sendMessage(\n          tabId,\n          makeRpcSuccessResponse('sendTransfer', {\n            id: requestId,\n            result: { txid },\n          })\n        );\n\n        navigate(RouteUrls.RpcSendTransferSummary, {\n          state: formBtcTxSummaryState(txid),\n        });\n      },\n      onError(e) {\n        logger.error('Error broadcasting tx', e);\n      },\n    });\n  }\n\n  return (\n    <>\n      <Stack width=\"100%\" gap={4} height=\"100%\" pb=\"100px\">\n        {recipients.map((recipient, index) => (\n          <SendTransferConfirmationDetails\n            key={index}\n            currentAddress={truncateMiddle(bitcoinAddress)}\n            recipient={truncateMiddle(recipient.address)}\n            amount={recipient.amount}\n          />\n        ))}\n        <Stack border=\"active\" borderRadius=\"sm\" p=\"space.05\" gap=\"space.04\" width=\"100%\">\n          <HStack alignItems=\"center\" gap=\"space.04\" justifyContent=\"space-between\">\n            <styled.span color=\"ink.text-subdued\">Fee</styled.span>\n            <styled.span>{feeRowValue}</styled.span>\n          </HStack>\n          <HStack alignItems=\"center\" gap=\"space.04\" justifyContent=\"space-between\">\n            <styled.span color=\"ink.text-subdued\">Total amount</styled.span>\n            <styled.span>{formatMoney(totalSpend)}</styled.span>\n          </HStack>\n          {time && (\n            <HStack alignItems=\"center\" gap=\"space.04\" justifyContent=\"space-between\">\n              <styled.span color=\"ink.text-subdued\">Estimated time</styled.span>\n              <styled.span>{time}</styled.span>\n            </HStack>\n          )}\n        </Stack>\n      </Stack>\n\n      <InfoCardFooter>\n        <Button\n          borderRadius=\"sm\"\n          flexGrow={1}\n          aria-busy={isBroadcasting}\n          onClick={onUserApproveSendTransferRequest}\n        >\n          Send\n        </Button>\n      </InfoCardFooter>\n    </>\n  );\n}\n","import { useLocation } from 'react-router-dom';\n\nimport { HStack, Stack } from 'leather-styles/jsx';\n\nimport { CheckmarkIcon, CopyIcon, ExternalLinkIcon } from '@leather.io/ui';\n\nimport type { TransferRecipient } from '@shared/models/form.model';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useBitcoinExplorerLink } from '@app/common/hooks/use-bitcoin-explorer-link';\nimport { useClipboard } from '@app/common/hooks/use-copy-to-clipboard';\nimport { FormAddressDisplayer } from '@app/components/address-displayer/form-address-displayer';\nimport {\n  InfoCardAssetValue,\n  InfoCardBtn,\n  InfoCardFooter,\n  InfoCardRow,\n  InfoCardSeparator,\n} from '@app/components/info-card/info-card';\nimport { Card } from '@app/components/layout';\nimport { useToast } from '@app/features/toasts/use-toast';\n\nexport function RpcSendTransferSummary() {\n  const { state } = useLocation();\n  const { handleOpenBitcoinTxLink: handleOpenTxLink } = useBitcoinExplorerLink();\n\n  const toast = useToast();\n\n  const {\n    txId,\n    txValue,\n    txFiatValue,\n    txFiatValueSymbol,\n    symbol,\n    txLink,\n    arrivesIn,\n    sendingValue,\n    recipients,\n    feeRowValue,\n    totalSpend,\n  } = state;\n\n  const { onCopy } = useClipboard(txId);\n\n  function onClickLink() {\n    void analytics.track('view_rpc_send_transfer_confirmation', { symbol: 'BTC' });\n    handleOpenTxLink(txLink);\n  }\n\n  function onClickCopy() {\n    onCopy();\n    toast.success('ID copied!');\n  }\n\n  return (\n    <>\n      <Card>\n        <InfoCardAssetValue\n          fiatSymbol={txFiatValueSymbol}\n          fiatValue={txFiatValue}\n          icon={<CheckmarkIcon height={36} width={36} />}\n          mb=\"space.05\"\n          symbol={symbol}\n          value={txValue}\n        />\n        <Stack pb=\"space.06\" width=\"100%\">\n          <Stack>\n            {recipients.map((recipient: TransferRecipient, index: number) => (\n              <InfoCardRow\n                key={index}\n                title=\"To\"\n                value={<FormAddressDisplayer address={recipient.address} />}\n              />\n            ))}\n          </Stack>\n          <InfoCardSeparator />\n          <InfoCardRow title=\"Total spend\" value={totalSpend} />\n          <InfoCardRow title=\"Sending\" value={sendingValue} />\n          <InfoCardRow title=\"Fee\" value={feeRowValue} />\n          {arrivesIn && <InfoCardRow title=\"Estimated confirmation time\" value={arrivesIn} />}\n        </Stack>\n      </Card>\n      <InfoCardFooter>\n        <HStack gap=\"space.04\" width=\"100%\">\n          <InfoCardBtn\n            icon={<ExternalLinkIcon color=\"ink.background-primary\" />}\n            label=\"View details\"\n            onClick={onClickLink}\n          />\n          <InfoCardBtn\n            icon={<CopyIcon color=\"ink.background-primary\" />}\n            label=\"Copy ID\"\n            onClick={onClickCopy}\n          />\n        </HStack>\n      </InfoCardFooter>\n    </>\n  );\n}\n","import { Route } from 'react-router-dom';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { ledgerBitcoinTxSigningRoutes } from '@app/features/ledger/flows/bitcoin-tx-signing/ledger-bitcoin-sign-tx-container';\nimport { AccountGate } from '@app/routes/account-gate';\n\nimport { RpcSendTransfer } from './rpc-send-transfer';\nimport { RpcSendTransferChooseFee } from './rpc-send-transfer-choose-fee';\nimport { RpcSendTransferConfirmation } from './rpc-send-transfer-confirmation';\nimport { RpcSendTransferContainer } from './rpc-send-transfer-container';\nimport { RpcSendTransferSummary } from './rpc-send-transfer-summary';\n\nexport const rpcSendTransferRoutes = (\n  <Route\n    element={\n      <AccountGate>\n        <RpcSendTransferContainer />\n      </AccountGate>\n    }\n  >\n    <Route path={RouteUrls.RpcSendTransfer} element={<RpcSendTransfer />} />\n    <Route path={RouteUrls.RpcSendTransferChooseFee} element={<RpcSendTransferChooseFee />}>\n      {ledgerBitcoinTxSigningRoutes}\n    </Route>\n    <Route path={RouteUrls.RpcSendTransferConfirmation} element={<RpcSendTransferConfirmation />} />\n    <Route path={RouteUrls.RpcSendTransferSummary} element={<RpcSendTransferSummary />} />\n  </Route>\n);\n","import { useNavigate } from 'react-router-dom';\n\nimport { RpcErrorCode } from '@btckit/types';\nimport { hexToBytes } from '@noble/hashes/utils';\nimport { bytesToHex } from '@stacks/common';\n\nimport type { Money } from '@leather.io/models';\nimport {\n  useBitcoinBroadcastTransaction,\n  useCalculateBitcoinFiatValue,\n  useCryptoCurrencyMarketDataMeanAverage,\n} from '@leather.io/query';\nimport {\n  formatMoney,\n  formatMoneyPadded,\n  i18nFormatCurrency,\n  isError,\n  sumMoney,\n} from '@leather.io/utils';\n\nimport { RouteUrls } from '@shared/route-urls';\nimport { makeRpcErrorResponse, makeRpcSuccessResponse } from '@shared/rpc/rpc-methods';\nimport { closeWindow } from '@shared/utils';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { SignPsbtArgs } from '@app/common/psbt/requests';\nimport { useRpcSignPsbtParams } from '@app/common/psbt/use-psbt-request-params';\nimport { usePsbtSigner } from '@app/features/psbt-signer/hooks/use-psbt-signer';\nimport { useCurrentNativeSegwitUtxos } from '@app/query/bitcoin/address/utxos-by-address.hooks';\nimport { useGetAssumedZeroIndexSigningConfig } from '@app/store/accounts/blockchain/bitcoin/bitcoin.hooks';\n\ninterface BroadcastSignedPsbtTxArgs {\n  addressNativeSegwitTotal: Money;\n  addressTaprootTotal: Money;\n  fee: Money;\n  tx: string;\n}\nexport function useRpcSignPsbt() {\n  const navigate = useNavigate();\n  const { broadcast, origin, psbtHex, requestId, signAtIndex, tabId } = useRpcSignPsbtParams();\n  const { signPsbt, getPsbtAsTransaction } = usePsbtSigner();\n  const { broadcastTx, isBroadcasting } = useBitcoinBroadcastTransaction();\n  const { filteredUtxosQuery } = useCurrentNativeSegwitUtxos();\n  const btcMarketData = useCryptoCurrencyMarketDataMeanAverage('BTC');\n  const calculateBitcoinFiatValue = useCalculateBitcoinFiatValue();\n  const getDefaultSigningConfig = useGetAssumedZeroIndexSigningConfig();\n\n  if (!requestId || !psbtHex || !origin) throw new Error('Invalid params in useRpcSignPsbt');\n\n  async function broadcastSignedPsbtTx({\n    addressNativeSegwitTotal,\n    addressTaprootTotal,\n    fee,\n    tx,\n  }: BroadcastSignedPsbtTxArgs) {\n    void analytics.track('user_approved_sign_and_broadcast_psbt', { origin });\n\n    const transferTotalAsMoney = sumMoney([addressNativeSegwitTotal, addressTaprootTotal]);\n\n    await broadcastTx({\n      tx,\n      // skip utxos check for psbt txs\n      skipSpendableCheckUtxoIds: 'all',\n      async onSuccess(txid) {\n        await filteredUtxosQuery.refetch();\n\n        const psbtTxSummaryState = {\n          fee: formatMoneyPadded(fee),\n          sendingValue: formatMoney(transferTotalAsMoney),\n          totalSpend: formatMoney(sumMoney([transferTotalAsMoney, fee])),\n          txFiatValue: i18nFormatCurrency(calculateBitcoinFiatValue(transferTotalAsMoney)),\n          txFiatValueSymbol: btcMarketData.price.symbol,\n          txId: txid,\n          txLink: {\n            blockchain: 'bitcoin',\n            txId: txid || '',\n          },\n          txValue: formatMoney(transferTotalAsMoney),\n        };\n\n        navigate(RouteUrls.RpcSignPsbtSummary, { state: psbtTxSummaryState });\n      },\n      onError(e) {\n        navigate(RouteUrls.RequestError, {\n          state: { message: isError(e) ? e.message : '', title: 'Failed to broadcast' },\n        });\n      },\n    });\n  }\n\n  return {\n    indexesToSign: signAtIndex,\n    isBroadcasting,\n    origin,\n    psbtHex,\n    async onSignPsbt({ addressNativeSegwitTotal, addressTaprootTotal, fee }: SignPsbtArgs) {\n      const tx = getPsbtAsTransaction(psbtHex);\n\n      try {\n        const signedTx = await signPsbt({\n          tx,\n          signingConfig: getDefaultSigningConfig(hexToBytes(psbtHex), signAtIndex),\n        });\n\n        const psbt = signedTx.toPSBT();\n\n        chrome.tabs.sendMessage(\n          tabId,\n          makeRpcSuccessResponse('signPsbt', { id: requestId, result: { hex: bytesToHex(psbt) } })\n        );\n\n        // Optional args are handled here bc we support two request apis,\n        // but we only support broadcasting using the rpc request method\n        if (broadcast && addressNativeSegwitTotal && addressTaprootTotal && fee) {\n          try {\n            signedTx.finalize();\n          } catch (e) {\n            return navigate(RouteUrls.RequestError, {\n              state: {\n                message: isError(e) ? e.message : '',\n                title: 'Failed to finalize tx',\n              },\n            });\n          }\n\n          await broadcastSignedPsbtTx({\n            addressNativeSegwitTotal,\n            addressTaprootTotal,\n            fee,\n            tx: signedTx.hex,\n          });\n          return;\n        }\n        closeWindow();\n      } catch (e) {\n        return navigate(RouteUrls.RequestError, {\n          state: { message: isError(e) ? e.message : '', title: 'Failed to sign' },\n        });\n      }\n    },\n    onCancel() {\n      chrome.tabs.sendMessage(\n        tabId,\n        makeRpcErrorResponse('signPsbt', {\n          id: requestId,\n          error: {\n            code: RpcErrorCode.USER_REJECTION,\n            message: 'User rejected signing PSBT request',\n          },\n        })\n      );\n      closeWindow();\n    },\n  };\n}\n","import { Outlet } from 'react-router-dom';\n\nimport { PsbtSigner } from '@app/features/psbt-signer/psbt-signer';\n\nimport { useRpcSignPsbt } from './use-rpc-sign-psbt';\n\nexport function RpcSignPsbt() {\n  const { indexesToSign, isBroadcasting, onSignPsbt, onCancel, origin, psbtHex } = useRpcSignPsbt();\n\n  return (\n    <>\n      <PsbtSigner\n        indexesToSign={indexesToSign}\n        isBroadcasting={isBroadcasting}\n        origin={origin}\n        onSignPsbt={onSignPsbt}\n        onCancel={onCancel}\n        psbtHex={psbtHex}\n      />\n      <Outlet />\n    </>\n  );\n}\n","import { useLocation } from 'react-router-dom';\n\nimport { Flex, HStack, Stack } from 'leather-styles/jsx';\n\nimport { CheckmarkIcon, CopyIcon, ExternalLinkIcon } from '@leather.io/ui';\n\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useBitcoinExplorerLink } from '@app/common/hooks/use-bitcoin-explorer-link';\nimport { useClipboard } from '@app/common/hooks/use-copy-to-clipboard';\nimport {\n  InfoCardAssetValue,\n  InfoCardBtn,\n  InfoCardFooter,\n  InfoCardRow,\n} from '@app/components/info-card/info-card';\nimport { Card } from '@app/components/layout';\nimport { useToast } from '@app/features/toasts/use-toast';\n\nexport function RpcSignPsbtSummary() {\n  const { state } = useLocation();\n  const { handleOpenBitcoinTxLink: handleOpenTxLink } = useBitcoinExplorerLink();\n\n  const toast = useToast();\n\n  const { fee, sendingValue, totalSpend, txId, txFiatValue, txFiatValueSymbol, txLink, txValue } =\n    state;\n\n  const { onCopy } = useClipboard(txId);\n\n  function onClickLink() {\n    void analytics.track('view_rpc_sign_and_broadcast_psbt_confirmation', { symbol: 'BTC' });\n    handleOpenTxLink(txLink);\n  }\n\n  function onClickCopy() {\n    onCopy();\n    toast.success('ID copied!');\n  }\n\n  return (\n    <Flex alignItems=\"center\" flexDirection=\"column\" p=\"space.05\" width=\"100%\">\n      <Card>\n        <InfoCardAssetValue\n          fiatSymbol={txFiatValueSymbol}\n          fiatValue={txFiatValue}\n          icon={<CheckmarkIcon height={36} width={36} />}\n          mb=\"space.05\"\n          value={txValue}\n        />\n        <Stack pb=\"space.06\" width=\"100%\">\n          <InfoCardRow title=\"Total spend\" value={totalSpend} />\n          <InfoCardRow title=\"Sending\" value={sendingValue} />\n          <InfoCardRow title=\"Fee\" value={fee} />\n        </Stack>\n        <InfoCardFooter>\n          <HStack gap=\"space.04\" width=\"100%\">\n            <InfoCardBtn\n              icon={<ExternalLinkIcon color=\"ink.background-primary\" />}\n              label=\"View details\"\n              onClick={onClickLink}\n            />\n            <InfoCardBtn\n              icon={<CopyIcon color=\"ink.background-primary\" />}\n              label=\"Copy ID\"\n              onClick={onClickCopy}\n            />\n          </HStack>\n        </InfoCardFooter>\n      </Card>\n    </Flex>\n  );\n}\n","import { useMemo } from 'react';\n\nimport { RpcErrorCode } from '@btckit/types';\nimport { StacksNetwork } from '@stacks/network';\nimport { deserializeCV } from '@stacks/transactions';\n\nimport { makeRpcErrorResponse, makeRpcSuccessResponse } from '@shared/rpc/rpc-methods';\nimport {\n  isSignableMessageType,\n  isStructuredMessageType,\n  isUtf8MessageType,\n} from '@shared/signature/signature-types';\nimport { closeWindow } from '@shared/utils';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useDefaultRequestParams } from '@app/common/hooks/use-default-request-search-params';\nimport { initialSearchParams } from '@app/common/initial-search-params';\nimport {\n  StructuredPayload,\n  Utf8Payload,\n} from '@app/features/stacks-message-signer/stacks-message-signing';\nimport { useSignStacksMessage } from '@app/features/stacks-message-signer/use-sign-stacks-message';\n\nfunction getNetwork(networkName: string | null) {\n  if (\n    networkName === 'mainnet' ||\n    networkName === 'testnet' ||\n    networkName === 'devnet' ||\n    networkName === 'mocknet'\n  ) {\n    return StacksNetwork.fromName(networkName);\n  }\n  return;\n}\n\nexport function useRpcStacksMessagePayload() {\n  const { messageType, message, network, appName, domain } = useRpcSignStacksMessageParams();\n\n  if (isUtf8MessageType(messageType)) {\n    return {\n      messageType: 'utf8' as const,\n      message,\n      network: getNetwork(network),\n      appName,\n    } satisfies Utf8Payload;\n  }\n  if (isStructuredMessageType(messageType)) {\n    if (!domain) return null;\n\n    return {\n      messageType: 'structured' as const,\n      message: deserializeCV(Buffer.from(message, 'hex')),\n      domain: deserializeCV(Buffer.from(domain, 'hex')),\n      network: getNetwork(network),\n      appName,\n    } satisfies StructuredPayload;\n  }\n  return null;\n}\n\nexport function useRpcSignStacksMessageParams() {\n  const { origin, tabId } = useDefaultRequestParams();\n  const requestId = initialSearchParams.get('requestId');\n  const network = initialSearchParams.get('network');\n  const appName = initialSearchParams.get('appName');\n  const message = initialSearchParams.get('message');\n  const messageType = initialSearchParams.get('messageType');\n  const domain = initialSearchParams.get('domain');\n\n  if (!requestId || !message || !origin || !isSignableMessageType(messageType))\n    throw new Error('Missing required parameters for Stacks signing message request');\n\n  return useMemo(\n    () => ({\n      origin,\n      tabId: tabId ?? 0,\n      requestId,\n      network,\n      message,\n      messageType,\n      appName,\n      domain,\n    }),\n    [origin, requestId, network, message, messageType, tabId, appName, domain]\n  );\n}\n\nexport function useRpcSignStacksMessage() {\n  const { tabId, requestId } = useRpcSignStacksMessageParams();\n  if (!tabId) throw new Error('Requests can only be made with corresponding tab');\n\n  const { isLoading, signMessage } = useSignStacksMessage({\n    onSignMessageCompleted(messageSignature) {\n      chrome.tabs.sendMessage(\n        tabId,\n        makeRpcSuccessResponse('stx_signMessage', {\n          id: requestId,\n          result: { signature: messageSignature.signature },\n        })\n      );\n      closeWindow();\n    },\n    onSignMessageCancelled: onCancelMessageSigning,\n  });\n\n  function onCancelMessageSigning() {\n    if (!requestId || !tabId) return;\n    void analytics.track('request_signature_cancel');\n    chrome.tabs.sendMessage(\n      tabId,\n      makeRpcErrorResponse('stx_signMessage', {\n        id: requestId,\n        error: {\n          message: 'User denied signing',\n          code: RpcErrorCode.USER_REJECTION,\n        },\n      })\n    );\n    closeWindow();\n  }\n\n  return { isLoading, signMessage, onCancelMessageSigning };\n}\n","import { isSignableMessageType } from '@shared/signature/signature-types';\n\nimport { PopupHeader } from '@app/features/container/headers/popup.header';\nimport { StacksMessageSigning } from '@app/features/stacks-message-signer/stacks-message-signing';\n\nimport {\n  useRpcSignStacksMessage,\n  useRpcSignStacksMessageParams,\n  useRpcStacksMessagePayload,\n} from './use-rpc-sign-stacks-message';\n\nexport function RpcStacksMessageSigning() {\n  const { requestId, messageType, tabId, origin } = useRpcSignStacksMessageParams();\n  const { isLoading, signMessage, onCancelMessageSigning } = useRpcSignStacksMessage();\n  const payload = useRpcStacksMessagePayload();\n\n  if (!requestId || !tabId) return null;\n  if (!isSignableMessageType(messageType)) return null;\n  if (!origin) return null;\n  if (!payload) return null;\n\n  return (\n    <>\n      <PopupHeader showSwitchAccount balance=\"stx\" />\n      <StacksMessageSigning\n        payload={payload}\n        isLoading={isLoading}\n        onSignMessage={signMessage}\n        onCancelMessageSigning={onCancelMessageSigning}\n        messageType={messageType}\n        tabId={tabId}\n        origin={origin}\n      />\n    </>\n  );\n}\n","import { Outlet, useLocation, useNavigate } from 'react-router-dom';\n\nimport { StacksTransaction } from '@stacks/transactions';\nimport { Formik, FormikHelpers } from 'formik';\nimport { Flex } from 'leather-styles/jsx';\nimport * as yup from 'yup';\n\nimport { HIGH_FEE_WARNING_LEARN_MORE_URL_STX } from '@leather.io/constants';\nimport { FeeTypes } from '@leather.io/models';\nimport {\n  useCalculateStacksTxFees,\n  useNextNonce,\n  useStxCryptoAssetBalance,\n} from '@leather.io/query';\nimport { Link } from '@leather.io/ui';\nimport { stxToMicroStx } from '@leather.io/utils';\n\nimport { StacksTransactionFormValues } from '@shared/models/form.model';\nimport { RouteUrls } from '@shared/route-urls';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useOnMount } from '@app/common/hooks/use-on-mount';\nimport { stxFeeValidator } from '@app/common/validation/forms/fee-validators';\nimport { nonceValidator } from '@app/common/validation/nonce-validators';\nimport { NonceSetter } from '@app/components/nonce-setter';\nimport { RequestingTabClosedWarningMessage } from '@app/features/errors/requesting-tab-closed-error-msg';\nimport { ContractCallDetails } from '@app/features/stacks-transaction-request/contract-call-details/contract-call-details';\nimport { ContractDeployDetails } from '@app/features/stacks-transaction-request/contract-deploy-details/contract-deploy-details';\nimport { PageTop } from '@app/features/stacks-transaction-request/page-top';\nimport { PostConditionModeWarning } from '@app/features/stacks-transaction-request/post-condition-mode-warning';\nimport { PostConditions } from '@app/features/stacks-transaction-request/post-conditions/post-conditions';\nimport { StxTransferDetails } from '@app/features/stacks-transaction-request/stx-transfer-details/stx-transfer-details';\nimport { TransactionError } from '@app/features/stacks-transaction-request/transaction-error/transaction-error';\nimport { useCurrentStacksAccountAddress } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\nimport { useTransactionRequestState } from '@app/store/transactions/requests.hooks';\n\nimport { HighFeeSheet } from '../stacks-high-fee-warning/stacks-high-fee-dialog';\nimport { FeeForm } from './fee-form';\nimport { MinimalErrorMessage } from './minimal-error-message';\nimport { StacksTxSubmitAction } from './submit-action';\n\ninterface StacksTransactionSignerProps {\n  stacksTransaction: StacksTransaction;\n  disableFeeSelection?: boolean;\n  disableNonceSelection?: boolean;\n  isMultisig: boolean;\n  onCancel(): void;\n  onSignStacksTransaction(fee: number, nonce: number): Promise<void>;\n}\nexport function StacksTransactionSigner({\n  stacksTransaction,\n  disableFeeSelection,\n  disableNonceSelection,\n  onSignStacksTransaction,\n  isMultisig,\n}: StacksTransactionSignerProps) {\n  const transactionRequest = useTransactionRequestState();\n  const { data: stxFees } = useCalculateStacksTxFees(stacksTransaction);\n\n  const stxAddress = useCurrentStacksAccountAddress();\n  const { filteredBalanceQuery } = useStxCryptoAssetBalance(stxAddress);\n  const availableUnlockedBalance = filteredBalanceQuery.data?.availableUnlockedBalance;\n  const navigate = useNavigate();\n  const { data: nextNonce, status: nonceQueryStatus } = useNextNonce(stxAddress);\n  const canSubmit = filteredBalanceQuery.status === 'success' && nonceQueryStatus === 'success';\n\n  const { search } = useLocation();\n\n  useOnMount(() => {\n    void analytics.track('view_transaction_signing'), [];\n  });\n\n  async function onSubmit(\n    values: StacksTransactionFormValues,\n    formikHelpers: FormikHelpers<StacksTransactionFormValues>\n  ) {\n    formikHelpers.setSubmitting(true);\n    await onSignStacksTransaction(stxToMicroStx(values.fee).toNumber(), Number(values.nonce));\n    formikHelpers.setSubmitting(false);\n  }\n\n  if (!transactionRequest) return null;\n\n  const validationSchema =\n    !transactionRequest.sponsored && !disableFeeSelection && !isMultisig\n      ? yup.object({\n          fee: stxFeeValidator(availableUnlockedBalance),\n          nonce: nonceValidator,\n        })\n      : yup.object({\n          nonce: nonceValidator,\n        });\n\n  const isNonceAlreadySet = !Number.isNaN(transactionRequest.nonce);\n\n  const initialValues: StacksTransactionFormValues = {\n    fee: '',\n    feeCurrency: 'STX',\n    feeType: FeeTypes[FeeTypes.Middle],\n    nonce: isNonceAlreadySet ? transactionRequest.nonce : nextNonce?.nonce,\n  };\n\n  return (\n    <Flex alignItems=\"center\" flexDirection=\"column\" p=\"space.05\" width=\"100%\">\n      <Formik\n        initialValues={initialValues}\n        onSubmit={onSubmit}\n        validateOnChange={false}\n        validateOnBlur={false}\n        validateOnMount={false}\n        validationSchema={validationSchema}\n      >\n        {() => (\n          <>\n            <PageTop />\n            <RequestingTabClosedWarningMessage />\n            <PostConditionModeWarning />\n            <TransactionError />\n            <PostConditions />\n            {transactionRequest.txType === 'contract_call' && <ContractCallDetails />}\n            {transactionRequest.txType === 'token_transfer' && <StxTransferDetails />}\n            {transactionRequest.txType === 'smart_contract' && <ContractDeployDetails />}\n\n            {!isNonceAlreadySet && <NonceSetter />}\n            <FeeForm\n              fees={stxFees}\n              defaultFeeValue={Number(transactionRequest?.fee || 0)}\n              disableFeeSelection={disableFeeSelection}\n            />\n            {!disableNonceSelection && (\n              <Link\n                alignSelf=\"flex-end\"\n                my=\"space.04\"\n                onClick={() => navigate(RouteUrls.EditNonce + search)}\n              >\n                Edit nonce\n              </Link>\n            )}\n            <MinimalErrorMessage />\n            <StacksTxSubmitAction canSubmit={canSubmit} />\n            <HighFeeSheet learnMoreUrl={HIGH_FEE_WARNING_LEARN_MORE_URL_STX} />\n            <Outlet />\n          </>\n        )}\n      </Formik>\n    </Flex>\n  );\n}\n","import { useMemo } from 'react';\n\nimport { RpcErrorCode } from '@btckit/types';\nimport { bytesToHex } from '@stacks/common';\nimport { MultiSigSpendingCondition, deserializeTransaction } from '@stacks/transactions';\n\nimport { makeRpcErrorResponse, makeRpcSuccessResponse } from '@shared/rpc/rpc-methods';\nimport { closeWindow } from '@shared/utils';\n\nimport { useDefaultRequestParams } from '@app/common/hooks/use-default-request-search-params';\nimport { initialSearchParams } from '@app/common/initial-search-params';\nimport { getTxSenderAddress } from '@app/common/transactions/stacks/transaction.utils';\nimport { useSignStacksTransaction } from '@app/store/transactions/transaction.hooks';\n\nfunction useRpcSignStacksTransactionParams() {\n  const { origin, tabId } = useDefaultRequestParams();\n  const requestId = initialSearchParams.get('requestId');\n  const txHex = initialSearchParams.get('txHex');\n  const isMultisig = initialSearchParams.get('isMultisig');\n\n  if (!requestId || !txHex || !origin) throw new Error('Invalid params');\n\n  return useMemo(\n    () => ({\n      origin,\n      tabId: tabId ?? 0,\n      requestId,\n      isMultisig: isMultisig === 'true',\n      stacksTransaction: deserializeTransaction(txHex),\n      txSender: getTxSenderAddress(deserializeTransaction(txHex)) ?? '',\n    }),\n    [origin, txHex, requestId, isMultisig, tabId]\n  );\n}\n\nexport function useRpcSignStacksTransaction() {\n  const { origin, requestId, tabId, stacksTransaction, isMultisig, txSender } =\n    useRpcSignStacksTransactionParams();\n  const signStacksTx = useSignStacksTransaction();\n  const wasSignedByOtherOwners =\n    isMultisig &&\n    (stacksTransaction.auth.spendingCondition as MultiSigSpendingCondition).fields?.length > 0;\n\n  return {\n    origin,\n    disableFeeSelection: wasSignedByOtherOwners,\n    disableNonceSelection: wasSignedByOtherOwners,\n    stacksTransaction,\n    isMultisig,\n    txSender,\n    async onSignStacksTransaction(fee: number, nonce: number) {\n      stacksTransaction.setFee(fee);\n      stacksTransaction.setNonce(nonce);\n\n      const signedTransaction = await signStacksTx(stacksTransaction);\n      if (!signedTransaction) {\n        throw new Error('Error signing stacks transaction');\n      }\n\n      chrome.tabs.sendMessage(\n        tabId,\n        makeRpcSuccessResponse('stx_signTransaction', {\n          id: requestId,\n          result: {\n            txHex: bytesToHex(signedTransaction.serialize()),\n          },\n        })\n      );\n      closeWindow();\n    },\n    onCancel() {\n      chrome.tabs.sendMessage(\n        tabId,\n        makeRpcErrorResponse('stx_signTransaction', {\n          id: requestId,\n          error: {\n            message: 'User denied signing stacks transaction',\n            code: RpcErrorCode.USER_REJECTION,\n          },\n        })\n      );\n    },\n  };\n}\n","import { StacksHighFeeWarningContainer } from '@app/features/stacks-high-fee-warning/stacks-high-fee-warning-container';\nimport { StacksTransactionSigner } from '@app/features/stacks-transaction-request/stacks-transaction-signer';\nimport { useRpcSignStacksTransaction } from '@app/pages/rpc-sign-stacks-transaction/use-rpc-sign-stacks-transaction';\nimport { useBreakOnNonCompliantEntity } from '@app/query/common/compliance-checker/compliance-checker.query';\n\nexport function RpcSignStacksTransaction() {\n  const {\n    onSignStacksTransaction,\n    onCancel,\n    disableFeeSelection,\n    stacksTransaction,\n    disableNonceSelection,\n    isMultisig,\n    txSender,\n  } = useRpcSignStacksTransaction();\n\n  useBreakOnNonCompliantEntity(txSender);\n\n  return (\n    <StacksHighFeeWarningContainer>\n      <StacksTransactionSigner\n        onSignStacksTransaction={onSignStacksTransaction}\n        onCancel={onCancel}\n        isMultisig={isMultisig}\n        stacksTransaction={stacksTransaction}\n        disableFeeSelection={disableFeeSelection}\n        disableNonceSelection={disableNonceSelection}\n      />\n    </StacksHighFeeWarningContainer>\n  );\n}\n","import { Suspense } from 'react';\nimport { Route } from 'react-router-dom';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { EditNonceSheet } from '@app/features/dialogs/edit-nonce-dialog/edit-nonce-dialog';\nimport { ledgerBitcoinTxSigningRoutes } from '@app/features/ledger/flows/bitcoin-tx-signing/ledger-bitcoin-sign-tx-container';\nimport { ledgerStacksMessageSigningRoutes } from '@app/features/ledger/flows/stacks-message-signing/ledger-stacks-sign-msg.routes';\nimport { ledgerStacksTxSigningRoutes } from '@app/features/ledger/flows/stacks-tx-signing/ledger-sign-stacks-tx-container';\nimport { RpcGetAddresses } from '@app/pages/rpc-get-addresses/rpc-get-addresses';\nimport { rpcSendTransferRoutes } from '@app/pages/rpc-send-transfer/rpc-send-transfer.routes';\nimport { RpcSignPsbt } from '@app/pages/rpc-sign-psbt/rpc-sign-psbt';\nimport { RpcSignPsbtSummary } from '@app/pages/rpc-sign-psbt/rpc-sign-psbt-summary';\nimport { RpcStacksMessageSigning } from '@app/pages/rpc-sign-stacks-message/rpc-sign-stacks-message';\nimport { RpcSignStacksTransaction } from '@app/pages/rpc-sign-stacks-transaction/rpc-sign-stacks-transaction';\nimport { AccountGate } from '@app/routes/account-gate';\n\nimport { SuspenseLoadingSpinner } from './app-routes';\n\nexport const rpcRequestRoutes = (\n  <>\n    <Route\n      path={RouteUrls.RpcGetAddresses}\n      element={\n        <AccountGate>\n          <RpcGetAddresses />\n        </AccountGate>\n      }\n    />\n    {rpcSendTransferRoutes}\n    <Route\n      path={RouteUrls.RpcSignBip322Message}\n      lazy={async () => {\n        const { RpcSignBip322MessageRoute } = await import(\n          '@app/pages/rpc-sign-bip322-message/rpc-sign-bip322-message'\n        );\n        return { Component: RpcSignBip322MessageRoute };\n      }}\n    >\n      {ledgerBitcoinTxSigningRoutes}\n    </Route>\n    <Route\n      path={RouteUrls.RpcSignPsbt}\n      element={\n        <AccountGate>\n          <RpcSignPsbt />\n        </AccountGate>\n      }\n    >\n      {ledgerBitcoinTxSigningRoutes}\n    </Route>\n    <Route\n      path={RouteUrls.RpcSignPsbtSummary}\n      element={\n        <AccountGate>\n          <RpcSignPsbtSummary />\n        </AccountGate>\n      }\n    />\n    <Route\n      path={RouteUrls.RpcStacksSignature}\n      element={\n        <AccountGate>\n          <Suspense fallback={<SuspenseLoadingSpinner />}>\n            <RpcStacksMessageSigning />\n          </Suspense>\n        </AccountGate>\n      }\n    >\n      {ledgerStacksMessageSigningRoutes}\n    </Route>\n\n    <Route\n      path={RouteUrls.RpcSignStacksTransaction}\n      element={\n        <AccountGate>\n          <RpcSignStacksTransaction />\n        </AccountGate>\n      }\n    >\n      {ledgerStacksTxSigningRoutes}\n      <Route path={RouteUrls.EditNonce} element={<EditNonceSheet />} />\n    </Route>\n  </>\n);\n","import {\n  Navigate,\n  Route,\n  RouterProvider,\n  createHashRouter,\n  createRoutesFromElements,\n} from 'react-router-dom';\n\nimport * as Sentry from '@sentry/react';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { Content } from '@app/components/layout/layouts/content.layout';\nimport { SwitchAccountLayout } from '@app/components/layout/layouts/switch-account.layout';\nimport { LoadingSpinner } from '@app/components/loading-spinner';\nimport { AddNetwork } from '@app/features/add-network/add-network';\nimport { EditNetwork } from '@app/features/add-network/edit-network';\nimport { Container } from '@app/features/container/container';\nimport { HomeHeader } from '@app/features/container/headers/home.header';\nimport { IncreaseBtcFeeSheet } from '@app/features/dialogs/increase-fee-dialog/increase-btc-fee-dialog';\nimport { IncreaseStxFeeSheet } from '@app/features/dialogs/increase-fee-dialog/increase-stx-fee-dialog';\nimport { leatherIntroSheetRoutes } from '@app/features/dialogs/leather-intro-dialog/leather-intro-dialog';\nimport { RouterErrorBoundary } from '@app/features/errors/app-error-boundary';\nimport { ledgerBitcoinTxSigningRoutes } from '@app/features/ledger/flows/bitcoin-tx-signing/ledger-bitcoin-sign-tx-container';\nimport { ledgerJwtSigningRoutes } from '@app/features/ledger/flows/jwt-signing/ledger-sign-jwt.routes';\nimport { requestBitcoinKeysRoutes } from '@app/features/ledger/flows/request-bitcoin-keys/ledger-request-bitcoin-keys';\nimport { requestStacksKeysRoutes } from '@app/features/ledger/flows/request-stacks-keys/ledger-request-stacks-keys';\nimport { ledgerStacksTxSigningRoutes } from '@app/features/ledger/flows/stacks-tx-signing/ledger-sign-stacks-tx-container';\nimport { UnsupportedBrowserLayout } from '@app/features/ledger/generic-steps';\nimport { ConnectLedgerStart } from '@app/features/ledger/generic-steps/connect-device/connect-ledger-start';\nimport { RetrieveTaprootToNativeSegwit } from '@app/features/retrieve-taproot-to-native-segwit/retrieve-taproot-to-native-segwit';\nimport { ChooseAccount } from '@app/pages/choose-account/choose-account';\nimport { ChooseCryptoAssetToFund } from '@app/pages/fund/choose-asset-to-fund/choose-asset-to-fund';\nimport { FundPage } from '@app/pages/fund/fund';\nimport { Home } from '@app/pages/home/home';\nimport { BackUpSecretKeyPage } from '@app/pages/onboarding/back-up-secret-key/back-up-secret-key';\nimport { SignIn } from '@app/pages/onboarding/sign-in/sign-in';\nimport { WelcomePage } from '@app/pages/onboarding/welcome/welcome';\nimport { ReceiveBtcModal } from '@app/pages/receive/receive-btc';\nimport { ReceiveStxModal } from '@app/pages/receive/receive-stx';\nimport { RequestError } from '@app/pages/request-error/request-error';\nimport { BroadcastError } from '@app/pages/send/broadcast-error/broadcast-error';\nimport { sendOrdinalRoutes } from '@app/pages/send/ordinal-inscription/ordinal-routes';\nimport { sendCryptoAssetFormRoutes } from '@app/pages/send/send-crypto-asset-form/send-crypto-asset-form.routes';\nimport { bitflowSwapRoutes } from '@app/pages/swap/bitflow-swap-container';\nimport { UnauthorizedRequest } from '@app/pages/unauthorized-request/unauthorized-request';\nimport { Unlock } from '@app/pages/unlock';\nimport { ViewSecretKey } from '@app/pages/view-secret-key/view-secret-key';\nimport { AccountGate } from '@app/routes/account-gate';\nimport { receiveRoutes } from '@app/routes/receive-routes';\nimport { legacyRequestRoutes } from '@app/routes/request-routes';\nimport { rpcRequestRoutes } from '@app/routes/rpc-routes';\n\nimport { OnboardingGate } from './onboarding-gate';\n\nexport function SuspenseLoadingSpinner() {\n  return <LoadingSpinner height=\"600px\" />;\n}\n\nexport function AppRoutes() {\n  const routes = useAppRoutes();\n  return <RouterProvider router={routes} />;\n}\n\nconst sentryCreateBrowserRouter = Sentry.wrapCreateBrowserRouter(createHashRouter);\n\nexport const homePageModalRoutes = (\n  <>\n    {receiveRoutes}\n    {ledgerStacksTxSigningRoutes}\n    {ledgerBitcoinTxSigningRoutes}\n    {requestBitcoinKeysRoutes}\n    {requestStacksKeysRoutes}\n    {sendOrdinalRoutes}\n  </>\n);\n\nfunction useAppRoutes() {\n  return sentryCreateBrowserRouter(\n    createRoutesFromElements(\n      <Route element={<Container />}>\n        <Route key=\"error\" errorElement={<RouterErrorBoundary />}>\n          <Route\n            element={\n              <>\n                <HomeHeader />\n                <Content>\n                  <SwitchAccountLayout />\n                </Content>\n              </>\n            }\n          >\n            <Route\n              path=\"/*\"\n              element={\n                <AccountGate>\n                  <Home />\n                </AccountGate>\n              }\n            >\n              {homePageModalRoutes}\n            </Route>\n\n            <Route\n              path={RouteUrls.RetrieveTaprootFunds}\n              element={<RetrieveTaprootToNativeSegwit />}\n            />\n            <Route path={RouteUrls.IncreaseStxFee} element={<IncreaseStxFeeSheet />}>\n              {ledgerStacksTxSigningRoutes}\n            </Route>\n            <Route\n              path={`${RouteUrls.IncreaseStxFee}/${RouteUrls.TransactionBroadcastError}`}\n              element={<BroadcastError />}\n            />\n            <Route path={RouteUrls.IncreaseBtcFee} element={<IncreaseBtcFeeSheet />}>\n              {ledgerBitcoinTxSigningRoutes}\n            </Route>\n\n            {ledgerStacksTxSigningRoutes}\n          </Route>\n          {/* Page Routes */}\n\n          <Route\n            path={RouteUrls.RetrieveTaprootFunds}\n            element={<RetrieveTaprootToNativeSegwit />}\n          />\n          <Route path={RouteUrls.IncreaseStxFee} element={<IncreaseStxFeeSheet />}>\n            {ledgerStacksTxSigningRoutes}\n          </Route>\n          <Route\n            path={`${RouteUrls.IncreaseStxFee}/${RouteUrls.TransactionBroadcastError}`}\n            element={<BroadcastError />}\n          />\n          <Route path={RouteUrls.IncreaseBtcFee} element={<IncreaseBtcFeeSheet />}>\n            {ledgerBitcoinTxSigningRoutes}\n          </Route>\n\n          {ledgerStacksTxSigningRoutes}\n\n          <Route\n            path={RouteUrls.AddNetwork}\n            element={\n              <AccountGate>\n                <AddNetwork />\n              </AccountGate>\n            }\n          />\n\n          <Route\n            path={RouteUrls.EditNetwork}\n            element={\n              <AccountGate>\n                <EditNetwork />\n              </AccountGate>\n            }\n          />\n\n          <Route\n            path={RouteUrls.Fund}\n            element={\n              <AccountGate>\n                <FundPage />\n              </AccountGate>\n            }\n          >\n            <Route path={RouteUrls.ReceiveStx} element={<ReceiveStxModal />} />\n            <Route path={RouteUrls.ReceiveBtc} element={<ReceiveBtcModal />} />\n          </Route>\n          <Route\n            path={RouteUrls.FundChooseCurrency}\n            element={\n              <AccountGate>\n                <ChooseCryptoAssetToFund />\n              </AccountGate>\n            }\n          >\n            <Route path={RouteUrls.ReceiveStx} element={<ReceiveStxModal />} />\n          </Route>\n\n          {sendCryptoAssetFormRoutes}\n\n          <Route path={RouteUrls.Unlock} element={<Unlock />}>\n            {leatherIntroSheetRoutes}\n          </Route>\n          <Route path={RouteUrls.UnauthorizedRequest} element={<UnauthorizedRequest />} />\n          <Route\n            path={RouteUrls.RequestError}\n            element={\n              <AccountGate>\n                <RequestError />\n              </AccountGate>\n            }\n          />\n\n          {bitflowSwapRoutes}\n\n          {/* OnBoarding Routes */}\n          <Route\n            path={RouteUrls.Onboarding}\n            element={\n              <OnboardingGate>\n                <WelcomePage />\n              </OnboardingGate>\n            }\n          >\n            <Route path={RouteUrls.ConnectLedgerStart} element={<ConnectLedgerStart />} />\n            <Route\n              path={RouteUrls.LedgerUnsupportedBrowser}\n              element={<UnsupportedBrowserLayout />}\n            />\n\n            {requestBitcoinKeysRoutes}\n            {requestStacksKeysRoutes}\n          </Route>\n\n          <Route\n            path={RouteUrls.BackUpSecretKey}\n            element={\n              <OnboardingGate>\n                <BackUpSecretKeyPage />\n              </OnboardingGate>\n            }\n          />\n          <Route\n            path={RouteUrls.SetPassword}\n            lazy={async () => {\n              const { SetPasswordRoute } = await import(\n                '@app/pages/onboarding/set-password/set-password'\n              );\n              return { Component: SetPasswordRoute };\n            }}\n          />\n\n          <Route\n            path={RouteUrls.SignIn}\n            element={\n              <OnboardingGate>\n                <SignIn />\n              </OnboardingGate>\n            }\n          />\n          <Route\n            path={RouteUrls.ViewSecretKey}\n            element={\n              <AccountGate>\n                <ViewSecretKey />\n              </AccountGate>\n            }\n          />\n\n          {/* Popup Routes */}\n          {/* ChooseAccount is a popup as shown only in popup when decodedAuthRequest in set-password  */}\n          <Route\n            path={RouteUrls.ChooseAccount}\n            element={\n              <AccountGate>\n                <ChooseAccount />\n              </AccountGate>\n            }\n          >\n            {ledgerJwtSigningRoutes}\n          </Route>\n          {legacyRequestRoutes}\n          {rpcRequestRoutes}\n        </Route>\n\n        {/* Catch-all route redirects to onboarding */}\n        <Route path=\"*\" element={<Navigate replace to={RouteUrls.Onboarding} />} />\n      </Route>\n    )\n  );\n}\n","\n      import API from \"!../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.94.0_@swc+core@1.7.18_esbuild@0.24.0_webpack-cli@5.1.4_webpack-b_mgxsraw35mardbg5xftwawih6e/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.94.0_@swc+core@1.7.18_esbuild@0.24.0_webpack-cli@5.1.4_webpack-b_mgxsraw35mardbg5xftwawih6e/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.94.0_@swc+core@1.7.18_esbuild@0.24.0_webpack-cli@5.1.4_webpack-b_mgxsraw35mardbg5xftwawih6e/node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.94.0_@swc+core@1.7.18_esbuild@0.24.0_webpack-cli@5.1.4_webpack-b_mgxsraw35mardbg5xftwawih6e/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.94.0_@swc+core@1.7.18_esbuild@0.24.0_webpack-cli@5.1.4_webpack-b_mgxsraw35mardbg5xftwawih6e/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.94.0_@swc+core@1.7.18_esbuild@0.24.0_webpack-cli@5.1.4_webpack-b_mgxsraw35mardbg5xftwawih6e/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.94.0_@swc+core@1.7.18_esbuild@0.24.0_webpack-cli@5.1.4_webpack-bun_pmkgp2ksjqwfhthqj2qrdfhw2a/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/postcss-loader@8.1.1_postcss@8.4.47_typescript@5.4.5_webpack@5.94.0_@swc+core@1.7.18_esbuild@_4dscbi2loczejmyghwnzpcglx4/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./index.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/.pnpm/css-loader@7.1.2_webpack@5.94.0_@swc+core@1.7.18_esbuild@0.24.0_webpack-cli@5.1.4_webpack-bun_pmkgp2ksjqwfhthqj2qrdfhw2a/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/postcss-loader@8.1.1_postcss@8.4.47_typescript@5.4.5_webpack@5.94.0_@swc+core@1.7.18_esbuild@_4dscbi2loczejmyghwnzpcglx4/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./index.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { Suspense } from 'react';\nimport { Provider as ReduxProvider } from 'react-redux';\n\nimport { QueryClientProvider } from '@tanstack/react-query';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nimport { LeatherQueryProvider } from '@leather.io/query';\nimport '@leather.io/ui/styles';\n\nimport { GITHUB_ORG, GITHUB_REPO } from '@shared/constants';\nimport { BRANCH_NAME, WALLET_ENVIRONMENT } from '@shared/environment';\n\nimport { queryClient } from '@app/common/persistence';\nimport { ThemeSwitcherProvider } from '@app/common/theme-provider';\nimport { FullPageLoadingSpinner } from '@app/components/loading-spinner';\nimport { Devtools } from '@app/features/devtool/devtools';\nimport { HeadProvider } from '@app/features/html-head/head-provider';\nimport { ToastsProvider } from '@app/features/toasts/toasts-provider';\nimport { AppRoutes } from '@app/routes/app-routes';\nimport { persistor, store } from '@app/store';\n\nimport localConfig from '../../config/wallet-config.json';\nimport './index.css';\nimport { useCurrentNetwork } from './store/networks/networks.selectors';\n\nconst reactQueryDevToolsEnabled = process.env.REACT_QUERY_DEVTOOLS_ENABLED === 'true';\n\nfunction ConnectedApp() {\n  const network = useCurrentNetwork();\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <LeatherQueryProvider\n        client={queryClient}\n        network={network}\n        environment={{\n          env: WALLET_ENVIRONMENT,\n          github: {\n            org: GITHUB_ORG,\n            repo: GITHUB_REPO,\n            branchName: BRANCH_NAME,\n            localConfig: localConfig as any,\n          },\n        }}\n      >\n        <Suspense fallback={<FullPageLoadingSpinner />}>\n          <AppRoutes />\n          {reactQueryDevToolsEnabled && <Devtools />}\n        </Suspense>\n      </LeatherQueryProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport function App() {\n  return (\n    <ReduxProvider store={store}>\n      <PersistGate loading={<FullPageLoadingSpinner />} persistor={persistor}>\n        <HeadProvider />\n        <ToastsProvider>\n          <ThemeSwitcherProvider>\n            <ConnectedApp />\n          </ThemeSwitcherProvider>\n        </ToastsProvider>\n      </PersistGate>\n    </ReduxProvider>\n  );\n}\n","import * as reduxPersist from 'redux-persist';\n\nimport { HIRO_API_BASE_URL_MAINNET } from '@leather.io/models';\nimport { getHiroApiRateLimiter } from '@leather.io/query';\n\nimport { logger } from '@shared/logger';\nimport { getLogsFromBrowserStorage } from '@shared/logger-storage';\nimport { persistConfig } from '@shared/storage/redux-pesist';\n\nimport { queryClient } from './common/persistence';\nimport { store } from './store';\nimport { stxChainSlice } from './store/chains/stx-chain.slice';\nimport { settingsSlice } from './store/settings/settings.slice';\nimport { submittedTransactionsActions } from './store/submitted-transactions/submitted-transactions.actions';\n\ndeclare global {\n  interface Window {\n    debug: typeof debug;\n  }\n}\n\nconst debug = {\n  printDiagnosticInfo() {\n    // eslint-disable-next-line no-console\n    void getLogsFromBrowserStorage().then(logs => console.log(JSON.stringify(logs)));\n  },\n  logStore() {\n    return store.getState();\n  },\n  logHiroLimiter(url = HIRO_API_BASE_URL_MAINNET) {\n    const limiter = getHiroApiRateLimiter(url);\n\n    return {\n      size: limiter.size,\n      pending: limiter.pending,\n      limiter,\n    };\n  },\n  // Utilised in integration tests\n  async logPersistedStore() {\n    return reduxPersist.getStoredState(persistConfig);\n  },\n  setHighestAccountIndex(index: number) {\n    logger.info(`Highest account index set to ${index}`);\n    store.dispatch(stxChainSlice.actions.restoreAccountIndex(index));\n  },\n  resetMessages() {\n    store.dispatch(settingsSlice.actions.resetMessages());\n  },\n  clearSubmittedTransactions() {\n    store.dispatch(submittedTransactionsActions.clearSubmittedTransactions());\n  },\n  clearReactQueryCache() {\n    queryClient.clear();\n  },\n  clearChromeStorage() {\n    chrome.storage.local.clear();\n    chrome.storage.session.clear();\n  },\n};\n\nexport function setDebugOnGlobal() {\n  window.debug = debug;\n}\n","import { createRoot } from 'react-dom/client';\n\nimport ecc from '@bitcoinerlab/secp256k1';\nimport * as bitcoin from 'bitcoinjs-lib';\n\nimport { initSentry } from '@shared/utils/analytics';\nimport { warnUsersAboutDevToolsDangers } from '@shared/utils/dev-tools-warning-log';\n\nimport { persistAndRenderApp } from '@app/common/persistence';\nimport { restoreWalletSession } from '@app/store/session-restore';\n\nimport { App } from './app';\nimport { setDebugOnGlobal } from './debug';\n\n// `bitcoinjs-lib` requires an elliptic curve library to be initialized, here we\n// do it globally for the entire app.\nbitcoin.initEccLib(ecc);\n\ninitSentry();\nwarnUsersAboutDevToolsDangers();\nsetDebugOnGlobal();\n\ndeclare global {\n  interface Window {\n    __APP_VERSION__: string;\n  }\n}\n\nwindow.__APP_VERSION__ = VERSION;\n\nasync function renderApp() {\n  await restoreWalletSession();\n  const container = document.getElementById('app');\n  return createRoot(container!).render(<App />);\n}\n\nvoid persistAndRenderApp(renderApp);\n","import { useMemo } from 'react';\n\nimport BigNumber from 'bignumber.js';\n\nimport type { BtcCryptoAssetBalance, Money } from '@leather.io/models';\nimport { useNativeSegwitUtxosByAddress, useRunesEnabled } from '@leather.io/query';\nimport { createMoney, isUndefined, sumNumbers } from '@leather.io/utils';\n\nimport { useCurrentAccountNativeSegwitIndexZeroSigner } from '@app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks';\n\nfunction createBtcCryptoAssetBalance(balance: Money): BtcCryptoAssetBalance {\n  return {\n    availableBalance: balance,\n    // TODO: Can we determine these here or are they nec?\n    protectedBalance: createMoney(0, 'BTC'),\n    uneconomicalBalance: createMoney(0, 'BTC'),\n  };\n}\n\nexport function useBtcCryptoAssetBalanceNativeSegwit(address: string) {\n  const runesEnabled = useRunesEnabled();\n\n  const query = useNativeSegwitUtxosByAddress({\n    address,\n    filterInscriptionUtxos: true,\n    filterPendingTxsUtxos: true,\n    filterRunesUtxos: runesEnabled,\n  });\n\n  const balance = useMemo(() => {\n    if (isUndefined(query.data))\n      return createBtcCryptoAssetBalance(createMoney(new BigNumber(0), 'BTC'));\n    return createBtcCryptoAssetBalance(\n      createMoney(sumNumbers(query.data.map(utxo => utxo.value)), 'BTC')\n    );\n  }, [query.data]);\n\n  return {\n    ...query,\n    balance,\n  };\n}\n\nexport function useCurrentBtcCryptoAssetBalanceNativeSegwit() {\n  const nativeSegwitSigner = useCurrentAccountNativeSegwitIndexZeroSigner();\n  return useBtcCryptoAssetBalanceNativeSegwit(nativeSegwitSigner.address);\n}\n","import { useRemoteConfig } from '@leather.io/query';\n\nimport { useWalletType } from '@app/common/use-wallet-type';\nimport { useHasCurrentBitcoinAccount } from '@app/store/accounts/blockchain/bitcoin/bitcoin.hooks';\n\nexport {\n  HiroMessage,\n  AvailableRegions,\n  ActiveFiatProvider,\n  useRemoteLeatherMessages,\n  useActiveFiatProviders,\n  useHasFiatProviders,\n  useRecoverUninscribedTaprootUtxosFeatureEnabled,\n  useConfigNftMetadataEnabled,\n  useConfigRunesEnabled,\n  useConfigSwapsEnabled,\n} from '@leather.io/query';\n\nexport function useConfigBitcoinEnabled() {\n  const { whenWallet } = useWalletType();\n  const config = useRemoteConfig();\n  const hasBitcoinAccount = useHasCurrentBitcoinAccount();\n  return whenWallet({\n    ledger: (config?.bitcoinEnabled ?? true) && hasBitcoinAccount,\n    software: config?.bitcoinEnabled ?? true,\n  });\n}\n\nexport function useConfigBitcoinSendEnabled() {\n  const { whenWallet } = useWalletType();\n  const config = useRemoteConfig();\n  const hasBitcoinAccount = useHasCurrentBitcoinAccount();\n  return whenWallet({\n    ledger: config?.bitcoinSendEnabled && hasBitcoinAccount,\n    software: config?.bitcoinSendEnabled ?? true,\n  });\n}\n","import { ReactNode } from 'react';\nimport { Navigate } from 'react-router-dom';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { useHasDefaultInMemoryWalletSecretKey } from '@app/store/in-memory-key/in-memory-key.selectors';\nimport { useHasLedgerKeys } from '@app/store/ledger/ledger.selectors';\nimport { useCurrentKeyDetails } from '@app/store/software-keys/software-key.selectors';\n\nexport function shouldNavigateToOnboardingStartPage(currentKeyDetails?: any) {\n  return !currentKeyDetails;\n}\n\nexport function shouldNavigateToUnlockWalletPage(hasDefaultInMemorySecretKey: boolean) {\n  return !hasDefaultInMemorySecretKey;\n}\n\ninterface AccountGateProps {\n  children?: ReactNode;\n}\nexport function AccountGate({ children }: AccountGateProps) {\n  const currentKeyDetails = useCurrentKeyDetails();\n  const hasDefaultInMemorySecretKey = useHasDefaultInMemoryWalletSecretKey();\n\n  const isLedger = useHasLedgerKeys();\n  if (isLedger) return <>{children}</>;\n\n  if (shouldNavigateToOnboardingStartPage(currentKeyDetails))\n    return <Navigate to={RouteUrls.Onboarding} />;\n\n  if (shouldNavigateToUnlockWalletPage(hasDefaultInMemorySecretKey))\n    return <Navigate to={RouteUrls.Unlock} />;\n\n  return <>{children}</>;\n}\n","import { ReactNode } from 'react';\nimport { Navigate } from 'react-router-dom';\n\nimport { RouteUrls } from '@shared/route-urls';\n\nimport { useHasDefaultInMemoryWalletSecretKey } from '@app/store/in-memory-key/in-memory-key.selectors';\nimport { useHasLedgerKeys } from '@app/store/ledger/ledger.selectors';\nimport { useCurrentKeyDetails } from '@app/store/software-keys/software-key.selectors';\n\nfunction hasAlreadyMadeWalletAndPlaintextKeyInMemory(\n  hasInMemorySecretKey: boolean,\n  encryptedKey?: string\n) {\n  return hasInMemorySecretKey && !!encryptedKey;\n}\n\nfunction keyDetailsExistsWalletAlreadyCreatedSoPreventOnboarding(keyDetails: unknown) {\n  return !!keyDetails;\n}\n\ninterface OnboardingGateProps {\n  children: ReactNode;\n}\nexport function OnboardingGate({ children }: OnboardingGateProps) {\n  const keyDetails = useCurrentKeyDetails();\n  const hasInMemorySecretKey = useHasDefaultInMemoryWalletSecretKey();\n  const isLedger = useHasLedgerKeys();\n\n  if (\n    (keyDetails?.type === 'software' &&\n      hasAlreadyMadeWalletAndPlaintextKeyInMemory(\n        hasInMemorySecretKey,\n        keyDetails.encryptedSecretKey\n      )) ||\n    isLedger\n  ) {\n    return <Navigate to={RouteUrls.Home} />;\n  }\n\n  if (keyDetailsExistsWalletAlreadyCreatedSoPreventOnboarding(keyDetails))\n    return <Navigate to={RouteUrls.Unlock} />;\n\n  return <>{children}</>;\n}\n","import { useSelector } from 'react-redux';\n\nimport { atom, useAtom } from 'jotai';\n\nimport { selectCurrentAccountIndex } from '../software-keys/software-key.selectors';\n\n// This is only used when there is a pending transaction request and\n// the user switches accounts during the signing process\nexport const hasSwitchedAccountsState = atom(false);\n\nexport function useCurrentAccountIndex() {\n  return useSelector(selectCurrentAccountIndex);\n}\n\nexport function useHasSwitchedAccounts() {\n  return useAtom(hasSwitchedAccountsState);\n}\n","import { useMemo } from 'react';\n\nimport { createSelector } from '@reduxjs/toolkit';\nimport { HDKey, Versions } from '@scure/bip32';\n\nimport {\n  BitcoinAccount,\n  bitcoinNetworkModeToCoreNetworkMode,\n  getBtcSignerLibNetworkConfigByMode,\n  getHdKeyVersionsFromNetwork,\n} from '@leather.io/bitcoin';\nimport type { BitcoinNetworkModes } from '@leather.io/models';\n\nimport { useWalletType } from '@app/common/use-wallet-type';\nimport { selectRootKeychain } from '@app/store/in-memory-key/in-memory-key.selectors';\nimport { selectDefaultWalletBitcoinKeyEntities } from '@app/store/ledger/bitcoin/bitcoin-key.slice';\nimport { useCurrentNetwork } from '@app/store/networks/networks.selectors';\nimport { selectDefaultSoftwareKey } from '@app/store/software-keys/software-key.selectors';\n\n// This factory selector extends from the wallet root keychain to derive child\n// keychains. It accepts a curried fn that takes a keychain and returns a fn\n// accepting an account index, to further derive a nested layer of derivation.\n// This approach allow us to reuse code between both native segwit and taproot\n// keychains.\nexport function bitcoinAccountBuilderFactory(\n  softwareKeychainDerivationFn: (\n    key: HDKey,\n    network: BitcoinNetworkModes\n  ) => (accountIndex: number) => BitcoinAccount,\n  ledgerKeychainLookupFn: (\n    keyMap: Record<string, { policy: string } | undefined>,\n    network: BitcoinNetworkModes\n  ) => (accountIndex: number) => BitcoinAccount | undefined\n) {\n  return createSelector(\n    selectDefaultSoftwareKey,\n    selectRootKeychain,\n    selectDefaultWalletBitcoinKeyEntities,\n    (_, rootKeychain, bitcoinLedgerKeys) => {\n      // Mocking types so it's always an object of fns\n      if (Object.keys(bitcoinLedgerKeys).length > 0 || !rootKeychain) {\n        return {\n          mainnet: ledgerKeychainLookupFn(bitcoinLedgerKeys, 'mainnet'),\n          testnet: ledgerKeychainLookupFn(bitcoinLedgerKeys, 'testnet'),\n          signet: ledgerKeychainLookupFn(bitcoinLedgerKeys, 'signet'),\n          regtest: ledgerKeychainLookupFn(bitcoinLedgerKeys, 'regtest'),\n        };\n      }\n      return {\n        mainnet: softwareKeychainDerivationFn(rootKeychain, 'mainnet'),\n        testnet: softwareKeychainDerivationFn(rootKeychain, 'testnet'),\n        signet: softwareKeychainDerivationFn(rootKeychain, 'signet'),\n        regtest: softwareKeychainDerivationFn(rootKeychain, 'regtest'),\n      };\n    }\n  );\n}\n\nexport function useBitcoinScureLibNetworkConfig() {\n  const network = useCurrentNetwork();\n  return getBtcSignerLibNetworkConfigByMode(network.chain.bitcoin.mode);\n}\n\nexport function useBitcoinExtendedPublicKeyVersions(): Versions | undefined {\n  const network = useCurrentNetwork();\n  const { whenWallet } = useWalletType();\n  // Only Ledger in testnet mode do we need to manually declare `Versions`\n  return useMemo(() => {\n    // whenWallet throws if it's neither. As whenWallet is also called on\n    // SetPassword page, we need to catch because it's neither at that point\n    try {\n      return whenWallet({\n        software: undefined,\n        ledger: getHdKeyVersionsFromNetwork(\n          bitcoinNetworkModeToCoreNetworkMode(network.chain.bitcoin.mode)\n        ),\n      });\n    } catch (e) {\n      return undefined;\n    }\n  }, [network, whenWallet]);\n}\n","import { useCallback } from 'react';\n\nimport { HDKey, Versions } from '@scure/bip32';\nimport * as btc from '@scure/btc-signer';\n\nimport {\n  BitcoinAccount,\n  deriveAddressIndexKeychainFromAccount,\n  getNativeSegwitAddressIndexDerivationPath,\n  getTaprootAddressIndexDerivationPath,\n  whenPaymentType,\n} from '@leather.io/bitcoin';\nimport type { BitcoinNetworkModes } from '@leather.io/models';\n\nimport { AllowedSighashTypes } from '@shared/rpc/methods/sign-psbt';\n\nimport { useBitcoinExtendedPublicKeyVersions } from './bitcoin-keychain';\n\nexport interface Signer<Payment> {\n  network: BitcoinNetworkModes;\n  payment: Payment;\n  keychain: HDKey;\n  derivationPath: string;\n  address: string;\n  publicKey: Uint8Array;\n  sign(tx: btc.Transaction): void;\n  signIndex(tx: btc.Transaction, index: number, allowedSighash?: AllowedSighashTypes[]): void;\n}\n\ninterface MakeBitcoinSignerArgs {\n  keychain: HDKey;\n  network: BitcoinNetworkModes;\n  derivationPath: string;\n  paymentFn(keychain: HDKey, network: BitcoinNetworkModes): any;\n  signFn(tx: btc.Transaction): void;\n  signAtIndexFn(tx: btc.Transaction, index: number, allowedSighash?: AllowedSighashTypes[]): void;\n}\nfunction makeBitcoinSigner<T extends MakeBitcoinSignerArgs>(args: T) {\n  const { derivationPath, keychain, network, paymentFn, signFn, signAtIndexFn } = args;\n  const payment = paymentFn(keychain, network) as ReturnType<T['paymentFn']>;\n  return {\n    network,\n    payment,\n    derivationPath,\n    keychain,\n    get address() {\n      if (!payment.address) throw new Error('Unable to get address from payment');\n      return payment.address;\n    },\n    get publicKey() {\n      if (!keychain.publicKey) throw new Error('Unable to get publicKey from keychain');\n      return keychain.publicKey;\n    },\n    sign: signFn as T['signFn'],\n    signIndex: signAtIndexFn as T['signAtIndexFn'],\n  };\n}\n\ninterface BitcoinAddressIndexSignerFactoryArgs {\n  accountIndex: number;\n  accountKeychain: HDKey;\n  paymentFn(keychain: HDKey, network: BitcoinNetworkModes): any;\n  network: BitcoinNetworkModes;\n  extendedPublicKeyVersions?: Versions;\n}\nexport function bitcoinAddressIndexSignerFactory<T extends BitcoinAddressIndexSignerFactoryArgs>(\n  args: T\n) {\n  const { accountIndex, network, paymentFn, accountKeychain, extendedPublicKeyVersions } = args;\n  return (addressIndex: number): Signer<ReturnType<T['paymentFn']>> => {\n    const addressIndexKeychain =\n      deriveAddressIndexKeychainFromAccount(accountKeychain)(addressIndex);\n\n    const payment = paymentFn(addressIndexKeychain, network);\n\n    return makeBitcoinSigner({\n      keychain: HDKey.fromExtendedKey(\n        addressIndexKeychain.publicExtendedKey,\n        extendedPublicKeyVersions\n      ),\n      network,\n      derivationPath: whenPaymentType(payment.type)({\n        p2wpkh: getNativeSegwitAddressIndexDerivationPath(network, accountIndex, addressIndex),\n        p2tr: getTaprootAddressIndexDerivationPath(network, accountIndex, addressIndex),\n        'p2wpkh-p2sh': 'Not supported',\n        p2pkh: 'Not supported',\n        p2sh: 'Not supported',\n      }),\n      paymentFn,\n      signFn(tx: btc.Transaction) {\n        if (!addressIndexKeychain.privateKey)\n          throw new Error('Unable to sign transaction, no private key found');\n\n        tx.sign(addressIndexKeychain.privateKey);\n      },\n      // TODO: Revisit allowedSighash type if/when fixed in btc-signer\n      signAtIndexFn(tx: btc.Transaction, index: number, allowedSighash?: number[]) {\n        if (!addressIndexKeychain.privateKey)\n          throw new Error('Unable to sign transaction, no private key found');\n\n        tx.signIdx(addressIndexKeychain.privateKey, index, allowedSighash);\n      },\n    });\n  };\n}\n\ninterface CreateSignersForAllNetworkTypesArgs {\n  paymentFn(keychain: HDKey, network: BitcoinNetworkModes): unknown;\n  mainnetKeychainFn(accountIndex: number): BitcoinAccount | undefined;\n  testnetKeychainFn(accountIndex: number): BitcoinAccount | undefined;\n  extendedPublicKeyVersions?: Versions;\n}\nfunction createSignersForAllNetworkTypes<T extends CreateSignersForAllNetworkTypesArgs>({\n  mainnetKeychainFn,\n  testnetKeychainFn,\n  paymentFn,\n  extendedPublicKeyVersions,\n}: T) {\n  return ({ accountIndex, addressIndex }: { accountIndex: number; addressIndex: number }) => {\n    const networkMap = new Map();\n\n    function makeNetworkSigner(keychain: HDKey, network: BitcoinNetworkModes) {\n      return bitcoinAddressIndexSignerFactory({\n        accountIndex,\n        accountKeychain: keychain,\n        paymentFn: paymentFn as T['paymentFn'],\n        network,\n        extendedPublicKeyVersions,\n      })(addressIndex);\n    }\n\n    const mainnetAccount = mainnetKeychainFn(accountIndex);\n    if (mainnetAccount) {\n      networkMap.set('mainnet', makeNetworkSigner(mainnetAccount.keychain, 'mainnet'));\n    }\n\n    const testnetAccount = testnetKeychainFn(accountIndex);\n    if (testnetAccount) {\n      networkMap.set('testnet', makeNetworkSigner(testnetAccount.keychain, 'testnet'));\n      networkMap.set('regtest', makeNetworkSigner(testnetAccount.keychain, 'regtest'));\n      networkMap.set('signet', makeNetworkSigner(testnetAccount.keychain, 'signet'));\n    }\n\n    return Object.fromEntries(networkMap);\n  };\n}\n\nexport function useMakeBitcoinNetworkSignersForPaymentType<T>(\n  mainnetKeychainFn: (index: number) => BitcoinAccount | undefined,\n  testnetKeychainFn: (index: number) => BitcoinAccount | undefined,\n  paymentFn: (keychain: HDKey, network: BitcoinNetworkModes) => T\n) {\n  const extendedPublicKeyVersions = useBitcoinExtendedPublicKeyVersions();\n\n  return useCallback(\n    (accountIndex: number) => {\n      const zeroIndex = 0;\n\n      return createSignersForAllNetworkTypes({\n        mainnetKeychainFn,\n        testnetKeychainFn,\n        paymentFn,\n        extendedPublicKeyVersions,\n      })({ accountIndex, addressIndex: zeroIndex });\n    },\n    [extendedPublicKeyVersions, mainnetKeychainFn, paymentFn, testnetKeychainFn]\n  );\n}\n","import * as btc from '@scure/btc-signer';\n\nimport {\n  getInputPaymentType,\n  getNativeSegwitAddressIndexDerivationPath,\n  getTaprootAddressIndexDerivationPath,\n} from '@leather.io/bitcoin';\nimport type { BitcoinNetworkModes } from '@leather.io/models';\nimport { isUndefined, makeNumberRange } from '@leather.io/utils';\n\nimport { logger } from '@shared/logger';\n\n// Used to pass to a signing function, with info needed for determine which key\n// to use to sign a given input\nexport interface BitcoinInputSigningConfig {\n  derivationPath: string;\n  index: number;\n}\n\ninterface GetAssumedZeroIndexSigningConfigArgs {\n  psbt: Uint8Array;\n  network: BitcoinNetworkModes;\n  indexesToSign?: number[];\n}\nexport function getAssumedZeroIndexSigningConfig({\n  psbt,\n  network,\n  indexesToSign,\n}: GetAssumedZeroIndexSigningConfigArgs) {\n  const tx = btc.Transaction.fromPSBT(psbt);\n  const indexes = indexesToSign ?? makeNumberRange(tx.inputsLength);\n  return {\n    forAccountIndex(accountIndex: number): BitcoinInputSigningConfig[] {\n      return indexes.map(inputIndex => {\n        const input = tx.getInput(inputIndex);\n\n        if (isUndefined(input.index)) throw new Error('Input must have an index for payment type');\n        const paymentType = getInputPaymentType(input, network);\n\n        switch (paymentType) {\n          case 'p2wpkh':\n            return {\n              index: inputIndex,\n              derivationPath: getNativeSegwitAddressIndexDerivationPath(network, accountIndex, 0),\n            };\n          case 'p2tr':\n            return {\n              index: inputIndex,\n              derivationPath: getTaprootAddressIndexDerivationPath(network, accountIndex, 0),\n            };\n          default:\n            logger.error('Cannot assume zero index for non-segwit input types');\n            return { index: inputIndex, derivationPath: '' };\n        }\n      });\n    },\n  };\n}\n","import * as yup from 'yup';\n\nimport { isNumber, isUndefined } from '@leather.io/utils';\n\nexport const accountSchema = yup.number().integer();\n\nexport function validateRpcParams(\n  obj: unknown,\n  validator: yup.ObjectSchema<yup.Maybe<yup.AnyObject>>\n) {\n  try {\n    validator.validateSync(obj, { abortEarly: false });\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nexport function getRpcParamErrors(\n  obj: unknown,\n  validator: yup.ObjectSchema<yup.Maybe<yup.AnyObject>>\n) {\n  try {\n    validator.validateSync(obj, { abortEarly: false });\n    return [];\n  } catch (e) {\n    if (e instanceof yup.ValidationError) return e.inner;\n    return [];\n  }\n}\n\nexport function formatValidationErrors(errors: yup.ValidationError[]) {\n  return (\n    'Invalid parameters: ' + errors.map(e => `Error in path ${e.path}, ${e.message}.`).join(' ')\n  );\n}\n\nexport function testIsNumberOrArrayOfNumbers(value: unknown) {\n  if (isUndefined(value)) return true;\n  if (Array.isArray(value)) return value.every(item => isNumber(item));\n  return isNumber(value);\n}\n","import { SigHash } from '@scure/btc-signer/transaction';\nimport * as yup from 'yup';\n\nimport { WalletDefaultNetworkConfigurationIds } from '@leather.io/models';\nimport {\n  SignatureHash as BtcKitSignatureHash,\n  DefineRpcMethod,\n  RpcRequest,\n  RpcResponse,\n} from '@leather.io/rpc';\n\nimport {\n  accountSchema,\n  formatValidationErrors,\n  getRpcParamErrors,\n  testIsNumberOrArrayOfNumbers,\n  validateRpcParams,\n} from './validation.utils';\n\n// TODO: Revisit allowedSighash type if/when fixed in btc-signer\nexport type AllowedSighashTypes = BtcKitSignatureHash | SigHash;\n// Pass all sighashTypes through as allowed to btc-signer\nexport const allSighashTypes = [\n  SigHash.DEFAULT,\n  BtcKitSignatureHash.ALL,\n  BtcKitSignatureHash.NONE,\n  BtcKitSignatureHash.SINGLE,\n  SigHash.ALL_ANYONECANPAY,\n  BtcKitSignatureHash.ALL_ANYONECANPAY,\n  BtcKitSignatureHash.NONE_ANYONECANPAY,\n  BtcKitSignatureHash.SINGLE_ANYONECANPAY,\n];\n\nconst rpcSignPsbtParamsSchema = yup.object().shape({\n  account: accountSchema,\n  allowedSighash: yup.array(),\n  broadcast: yup.boolean(),\n  hex: yup.string().required(),\n  network: yup.string().oneOf(Object.values(WalletDefaultNetworkConfigurationIds)),\n  signAtIndex: yup.mixed<number | number[]>().test(testIsNumberOrArrayOfNumbers),\n});\n\n// TODO: Import param types from btckit when updated\nexport function validateRpcSignPsbtParams(obj: unknown) {\n  return validateRpcParams(obj, rpcSignPsbtParamsSchema);\n}\n\nexport function getRpcSignPsbtParamErrors(obj: unknown) {\n  return formatValidationErrors(getRpcParamErrors(obj, rpcSignPsbtParamsSchema));\n}\n\ntype SignPsbtRequestParams = yup.InferType<typeof rpcSignPsbtParamsSchema>;\n\nexport type SignPsbtRequest = RpcRequest<'signPsbt', SignPsbtRequestParams>;\n\ntype SignPsbtResponse = RpcResponse<{ hex: string }>;\n\nexport type SignPsbt = DefineRpcMethod<SignPsbtRequest, SignPsbtResponse>;\n","import * as btc from '@scure/btc-signer';\n\nimport { GlobalAppEvents, appEvents } from '@app/common/publish-subscribe';\n\nexport async function listenForBitcoinTxLedgerSigning(psbt: string): Promise<btc.Transaction> {\n  return new Promise((resolve, reject) => {\n    function txSignedHandler(msg: GlobalAppEvents['ledgerBitcoinTxSigned']) {\n      if (msg.unsignedPsbt === psbt) {\n        appEvents.unsubscribe('ledgerBitcoinTxSigned', txSignedHandler);\n        appEvents.unsubscribe('ledgerBitcoinTxSigningCancelled', signingAbortedHandler);\n        resolve(msg.signedPsbt);\n      }\n    }\n    appEvents.subscribe('ledgerBitcoinTxSigned', txSignedHandler);\n\n    function signingAbortedHandler(msg: GlobalAppEvents['ledgerBitcoinTxSigningCancelled']) {\n      if (msg.unsignedPsbt === psbt) {\n        appEvents.unsubscribe('ledgerBitcoinTxSigningCancelled', signingAbortedHandler);\n        appEvents.unsubscribe('ledgerBitcoinTxSigned', txSignedHandler);\n        reject(new Error('User cancelled the signing operation'));\n      }\n    }\n    appEvents.subscribe('ledgerBitcoinTxSigningCancelled', signingAbortedHandler);\n  });\n}\n","import { PaymentTypes } from '@btckit/types';\nimport { bytesToHex } from '@noble/hashes/utils';\nimport * as btc from '@scure/btc-signer';\nimport { Psbt } from 'bitcoinjs-lib';\nimport AppClient from 'ledger-bitcoin';\n\nimport {\n  getBitcoinJsLibNetworkConfigByMode,\n  getInputPaymentType,\n  getTaprootAddress,\n  makeNativeSegwitAccountDerivationPath,\n  makeTaprootAccountDerivationPath,\n} from '@leather.io/bitcoin';\nimport { extractAddressIndexFromPath } from '@leather.io/crypto';\nimport { bitcoinNetworkToNetworkMode } from '@leather.io/models';\nimport { isNumber, isUndefined } from '@leather.io/utils';\n\nimport {\n  BitcoinInputSigningConfig,\n  getAssumedZeroIndexSigningConfig,\n} from '@shared/crypto/bitcoin/signer-config';\nimport { allSighashTypes } from '@shared/rpc/methods/sign-psbt';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { useWalletType } from '@app/common/use-wallet-type';\nimport { listenForBitcoinTxLedgerSigning } from '@app/features/ledger/flows/bitcoin-tx-signing/bitcoin-tx-signing-event-listeners';\nimport { useLedgerNavigate } from '@app/features/ledger/hooks/use-ledger-navigate';\nimport {\n  addNativeSegwitSignaturesToPsbt,\n  addTaprootInputSignaturesToPsbt,\n  createNativeSegwitDefaultWalletPolicy,\n  createTaprootDefaultWalletPolicy,\n} from '@app/features/ledger/utils/bitcoin-ledger-utils';\nimport {\n  useCurrentAccountTaprootSigner,\n  useTaprootAccount,\n} from '@app/store/accounts/blockchain/bitcoin/taproot-account.hooks';\nimport { useCurrentNetwork } from '@app/store/networks/networks.selectors';\n\nimport { useCurrentAccountIndex } from '../../account';\nimport {\n  useCurrentAccountNativeSegwitSigner,\n  useCurrentNativeSegwitAccount,\n  useUpdateLedgerSpecificNativeSegwitBip32DerivationForAdddressIndexZero,\n  useUpdateLedgerSpecificNativeSegwitUtxoHexForAdddressIndexZero,\n} from './native-segwit-account.hooks';\nimport {\n  useCurrentTaprootAccount,\n  useUpdateLedgerSpecificTaprootInputPropsForAdddressIndexZero,\n} from './taproot-account.hooks';\n\n// Checks for both TR and NativeSegwit hooks\nexport function useHasCurrentBitcoinAccount() {\n  const nativeSegwit = useCurrentNativeSegwitAccount();\n  const taproot = useCurrentTaprootAccount();\n  return !!nativeSegwit && !!taproot;\n}\n\n// Temporary - remove with privacy mode\nexport function useZeroIndexTaprootAddress(accIndex?: number) {\n  const network = useCurrentNetwork();\n  const currentAccountIndex = useCurrentAccountIndex();\n  const account = useTaprootAccount(accIndex ?? currentAccountIndex);\n\n  if (!account) throw new Error('Expected keychain to be provided');\n\n  const address = getTaprootAddress({\n    index: 0,\n    keychain: account.keychain,\n    network: bitcoinNetworkToNetworkMode(network.chain.bitcoin.bitcoinNetwork),\n  });\n\n  return address;\n}\n\nfunction useSignBitcoinSoftwareTx() {\n  const createNativeSegwitSigner = useCurrentAccountNativeSegwitSigner();\n  const createTaprootSigner = useCurrentAccountTaprootSigner();\n\n  return async (psbt: Uint8Array, inputSigningConfig: BitcoinInputSigningConfig[]) => {\n    const tx = btc.Transaction.fromPSBT(psbt);\n\n    inputSigningConfig.forEach(({ index, derivationPath }) => {\n      const nativeSegwitSigner = createNativeSegwitSigner?.(\n        extractAddressIndexFromPath(derivationPath)\n      );\n      const taprootSigner = createTaprootSigner?.(extractAddressIndexFromPath(derivationPath));\n\n      if (!nativeSegwitSigner || !taprootSigner) throw new Error('Signers not available');\n\n      // See #4628.\n      // Our API doesn't support users specifying which key they want to sign\n      // with. Until we support this, we sign with both, as in some cases, e.g.\n      // Asigna, the Native Segwit key is used to sign a multisig taproot input\n      try {\n        nativeSegwitSigner.signIndex(tx, index, allSighashTypes);\n      } catch (e) {\n        try {\n          taprootSigner.signIndex(tx, index, allSighashTypes);\n        } catch (er) {}\n      }\n    });\n\n    return tx;\n  };\n}\n\nexport function useSignLedgerBitcoinTx() {\n  const accountIndex = useCurrentAccountIndex();\n  const network = useCurrentNetwork();\n\n  const addNativeSegwitUtxoHexLedgerProps =\n    useUpdateLedgerSpecificNativeSegwitUtxoHexForAdddressIndexZero();\n\n  const addNativeSegwitBip32Derivation =\n    useUpdateLedgerSpecificNativeSegwitBip32DerivationForAdddressIndexZero();\n\n  const updateTaprootLedgerInputs = useUpdateLedgerSpecificTaprootInputPropsForAdddressIndexZero();\n\n  const bitcoinNetworkMode = network.chain.bitcoin.mode;\n\n  return async (\n    app: AppClient,\n    rawPsbt: Uint8Array,\n    signingConfig: BitcoinInputSigningConfig[]\n  ) => {\n    const fingerprint = await app.getMasterFingerprint();\n\n    // BtcSigner not compatible with Ledger. Encoded format returns more terse\n    // version. BitcoinJsLib works.\n    const psbt = Psbt.fromBuffer(Buffer.from(rawPsbt), {\n      network: getBitcoinJsLibNetworkConfigByMode(bitcoinNetworkMode),\n    });\n\n    const btcSignerPsbtClone = btc.Transaction.fromPSBT(psbt.toBuffer());\n\n    const inputByPaymentType = signingConfig.map(config => {\n      const inputIndex = btcSignerPsbtClone.getInput(config.index).index;\n      if (isUndefined(inputIndex)) throw new Error('Input must have an index for payment type');\n      return [\n        config,\n        getInputPaymentType(btcSignerPsbtClone.getInput(config.index), bitcoinNetworkMode),\n      ];\n    }) as readonly [BitcoinInputSigningConfig, PaymentTypes][];\n\n    //\n    // Taproot\n    const taprootInputsToSign = inputByPaymentType\n      .filter(([_, paymentType]) => paymentType === 'p2tr')\n      .map(([index]) => index);\n\n    if (taprootInputsToSign.length) {\n      await updateTaprootLedgerInputs(psbt, fingerprint, taprootInputsToSign);\n\n      const taprootExtendedPublicKey = await app.getExtendedPubkey(\n        makeTaprootAccountDerivationPath(bitcoinNetworkMode, accountIndex)\n      );\n\n      const taprootPolicy = createTaprootDefaultWalletPolicy({\n        fingerprint,\n        accountIndex,\n        network: bitcoinNetworkMode,\n        xpub: taprootExtendedPublicKey,\n      });\n\n      const taprootSignatures = await app.signPsbt(psbt.toBase64(), taprootPolicy, null);\n\n      addTaprootInputSignaturesToPsbt(psbt, taprootSignatures);\n    }\n\n    //\n    // Native Segwit\n    const nativeSegwitInputsToSign = inputByPaymentType\n      .filter(([_, paymentType]) => paymentType === 'p2wpkh')\n      .map(([index]) => index);\n\n    if (nativeSegwitInputsToSign.length) {\n      const nativeSegwitExtendedPublicKey = await app.getExtendedPubkey(\n        makeNativeSegwitAccountDerivationPath(bitcoinNetworkMode, accountIndex)\n      );\n\n      // Without adding the full non-witness data, the Ledger will present a\n      // warning. In some cases, e.g. bip322, the original witness data doesn't\n      // exist, and we want the user to proceed, despite the warning.\n      try {\n        await addNativeSegwitUtxoHexLedgerProps(psbt, nativeSegwitInputsToSign);\n        void analytics.track('successfully_added_native_segwit_tx_hex_to_ledger_tx');\n      } catch (e) {\n        void analytics.track('failed_to_add_native_segwit_tx_hex_to_ledger_tx');\n      }\n\n      await addNativeSegwitBip32Derivation(psbt, fingerprint, nativeSegwitInputsToSign);\n\n      const nativeSegwitPolicy = createNativeSegwitDefaultWalletPolicy({\n        fingerprint,\n        accountIndex,\n        network: bitcoinNetworkMode,\n        xpub: nativeSegwitExtendedPublicKey,\n      });\n\n      const nativeSegwitSignatures = await app.signPsbt(psbt.toBase64(), nativeSegwitPolicy, null);\n\n      addNativeSegwitSignaturesToPsbt(psbt, nativeSegwitSignatures);\n    }\n\n    // Turn back into BtcSigner lib format\n    // REMINDER: this tx is not finalized\n    return btc.Transaction.fromPSBT(psbt.toBuffer());\n  };\n}\n\nexport function useAddTapInternalKeysIfMissing() {\n  const createTaprootSigner = useCurrentAccountTaprootSigner();\n\n  return (tx: btc.Transaction, inputIndexes: BitcoinInputSigningConfig[]) =>\n    inputIndexes.forEach(({ index, derivationPath }) => {\n      const taprootSigner = createTaprootSigner?.(extractAddressIndexFromPath(derivationPath));\n      if (!taprootSigner) throw new Error('Taproot signer not found');\n      const input = tx.getInput(index);\n\n      const witnessOutputScript =\n        input.witnessUtxo?.script && btc.OutScript.decode(input.witnessUtxo.script);\n\n      // Original implementation supports auto-adding of tapInternalKey if\n      // missing. This functionality helps some developers who don't form their\n      // tx correctly, however neglects certain alternate use cases, e.g. script\n      // spends. We should consider removing this functionality in the future.\n      function shouldAssumeTxNeedsTaprootInternalKeyAdded() {\n        if (!taprootSigner) return false;\n        if (witnessOutputScript?.type !== 'tr') return false;\n        // Already has it, doesn't need\n        if (input.tapInternalKey) return false;\n        // Is a script spend, doesn't need `tapInternalKey`\n        if (input.tapLeafScript) return false;\n        return true;\n      }\n\n      if (shouldAssumeTxNeedsTaprootInternalKeyAdded()) {\n        void analytics.track('psbt_sign_request_p2tr_missing_taproot_internal_key');\n        tx.updateInput(index, { ...input, tapInternalKey: taprootSigner.payment.tapInternalKey });\n      }\n    });\n}\n\nexport function useGetAssumedZeroIndexSigningConfig() {\n  const network = useCurrentNetwork();\n  const accountIndex = useCurrentAccountIndex();\n\n  return (psbt: Uint8Array, indexesToSign?: number[]) =>\n    getAssumedZeroIndexSigningConfig({\n      psbt,\n      network: bitcoinNetworkToNetworkMode(network.chain.bitcoin.bitcoinNetwork),\n      indexesToSign,\n    }).forAccountIndex(accountIndex);\n}\n\nexport function useSignBitcoinTx() {\n  const { whenWallet } = useWalletType();\n  const ledgerNavigate = useLedgerNavigate();\n  const signSoftwareTx = useSignBitcoinSoftwareTx();\n  const getDefaultSigningConfig = useGetAssumedZeroIndexSigningConfig();\n\n  /**\n   * Bitcoin signing function. Don't forget to finalize the tx once it's\n   * returned. You can broadcast with the hex value from `tx.hex`.\n   */\n  return (psbt: Uint8Array, inputsToSign?: BitcoinInputSigningConfig[] | number[]) => {\n    function getSigningConfig(inputsToSign?: BitcoinInputSigningConfig[] | number[]) {\n      if (!inputsToSign) return getDefaultSigningConfig(psbt);\n      if (inputsToSign.every(isNumber)) return getDefaultSigningConfig(psbt, inputsToSign);\n      return inputsToSign;\n    }\n\n    return whenWallet({\n      async ledger() {\n        // Because Ledger signing is a multi-step process that takes place over\n        // many routes, in order to achieve a consistent API between\n        // Ledger/software, we subscribe to the event that occurs when the\n        // unsigned tx is signed\n        ledgerNavigate.toConnectAndSignBitcoinTransactionStep(psbt, getSigningConfig(inputsToSign));\n        return listenForBitcoinTxLedgerSigning(bytesToHex(psbt));\n      },\n      async software() {\n        return signSoftwareTx(psbt, getSigningConfig(inputsToSign));\n      },\n    })();\n  };\n}\n","import { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { createSelector } from '@reduxjs/toolkit';\nimport { Psbt } from 'bitcoinjs-lib';\n\nimport {\n  deriveAddressIndexZeroFromAccount,\n  deriveNativeSegwitAccountFromRootKeychain,\n  getNativeSegWitPaymentFromAddressIndex,\n  lookUpLedgerKeysByPath,\n  makeNativeSegwitAccountDerivationPath,\n} from '@leather.io/bitcoin';\nimport { extractAddressIndexFromPath } from '@leather.io/crypto';\nimport { bitcoinNetworkToNetworkMode } from '@leather.io/models';\nimport { useBitcoinClient } from '@leather.io/query';\nimport { reverseBytes } from '@leather.io/utils';\n\nimport { BitcoinInputSigningConfig } from '@shared/crypto/bitcoin/signer-config';\nimport { analytics } from '@shared/utils/analytics';\n\nimport { mnemonicToRootNode } from '@app/common/keychain/keychain';\nimport { selectCurrentNetwork } from '@app/store/networks/networks.selectors';\nimport { selectCurrentAccountIndex } from '@app/store/software-keys/software-key.selectors';\n\nimport { useCurrentAccountIndex } from '../../account';\nimport {\n  bitcoinAccountBuilderFactory,\n  useBitcoinExtendedPublicKeyVersions,\n} from './bitcoin-keychain';\nimport {\n  bitcoinAddressIndexSignerFactory,\n  useMakeBitcoinNetworkSignersForPaymentType,\n} from './bitcoin-signer';\n\nconst selectNativeSegwitAccountBuilder = bitcoinAccountBuilderFactory(\n  deriveNativeSegwitAccountFromRootKeychain,\n  lookUpLedgerKeysByPath(makeNativeSegwitAccountDerivationPath)\n);\n\nconst selectCurrentNetworkNativeSegwitAccountBuilder = createSelector(\n  selectNativeSegwitAccountBuilder,\n  selectCurrentNetwork,\n  (nativeSegwitKeychains, network) =>\n    nativeSegwitKeychains[bitcoinNetworkToNetworkMode(network.chain.bitcoin.bitcoinNetwork)]\n);\n\nfunction useNativeSegwitAccountBuilder() {\n  return useSelector(selectCurrentNetworkNativeSegwitAccountBuilder);\n}\n\nconst selectCurrentNativeSegwitAccount = createSelector(\n  selectCurrentNetworkNativeSegwitAccountBuilder,\n  selectCurrentAccountIndex,\n  (generateAccount, accountIndex) => generateAccount(accountIndex)\n);\n\nexport function useCurrentNativeSegwitAccount() {\n  return useSelector(selectCurrentNativeSegwitAccount);\n}\n\nexport function useNativeSegwitNetworkSigners() {\n  const { mainnet: mainnetKeychain, testnet: testnetKeychain } = useSelector(\n    selectNativeSegwitAccountBuilder\n  );\n\n  return useMakeBitcoinNetworkSignersForPaymentType(\n    mainnetKeychain,\n    testnetKeychain,\n    getNativeSegWitPaymentFromAddressIndex\n  );\n}\n\nexport function useNativeSegwitSigner(accountIndex: number) {\n  const account = useNativeSegwitAccountBuilder()(accountIndex);\n  const extendedPublicKeyVersions = useBitcoinExtendedPublicKeyVersions();\n\n  return useMemo(() => {\n    if (!account) return;\n    return bitcoinAddressIndexSignerFactory({\n      accountIndex,\n      accountKeychain: account.keychain,\n      paymentFn: getNativeSegWitPaymentFromAddressIndex,\n      network: account.network,\n      extendedPublicKeyVersions,\n    });\n  }, [account, accountIndex, extendedPublicKeyVersions]);\n}\n\nexport function useCurrentAccountNativeSegwitSigner() {\n  const currentAccountIndex = useCurrentAccountIndex();\n  return useNativeSegwitSigner(currentAccountIndex);\n}\n\n// TODO: as ledger users are able to have only stacks account on their devices, this hook throws an unnecessary error.\n// To alleviate that, use useCurrentAccountNativeSegwitIndexZeroSignerNullable\nexport function useCurrentAccountNativeSegwitIndexZeroSigner() {\n  const signer = useCurrentAccountNativeSegwitSigner();\n  return useMemo(() => {\n    if (!signer) throw new Error('No signer');\n    return signer(0);\n  }, [signer]);\n}\n\nexport function useCurrentAccountNativeSegwitIndexZeroSignerNullable() {\n  const signer = useCurrentAccountNativeSegwitSigner();\n  return useMemo(() => {\n    if (!signer) return undefined;\n    return signer(0);\n  }, [signer]);\n}\n\n/**\n * @deprecated Use signer.address instead\n */\nexport function useCurrentAccountNativeSegwitAddressIndexZero() {\n  const signer = useCurrentAccountNativeSegwitSigner();\n  return useMemo(() => signer?.(0).payment.address, [signer]) as string;\n}\n\n/**\n * @deprecated Use signer.address instead\n */\nexport function useNativeSegwitAccountIndexAddressIndexZero(accountIndex: number) {\n  const signer = useNativeSegwitSigner(accountIndex)?.(0);\n  // could it be this?\n  return signer?.payment.address as string;\n}\n\nexport function getNativeSegwitMainnetAddressFromMnemonic(secretKey: string) {\n  return (accountIndex: number) => {\n    const rootNode = mnemonicToRootNode(secretKey);\n    const account = deriveNativeSegwitAccountFromRootKeychain(rootNode, 'mainnet')(accountIndex);\n    return getNativeSegWitPaymentFromAddressIndex(\n      deriveAddressIndexZeroFromAccount(account.keychain),\n      'mainnet'\n    );\n  };\n}\n\nexport function useUpdateLedgerSpecificNativeSegwitUtxoHexForAdddressIndexZero() {\n  const bitcoinClient = useBitcoinClient();\n\n  return async (tx: Psbt, inputSigningConfig: BitcoinInputSigningConfig[]) => {\n    const inputsTxHex = await Promise.all(\n      tx.txInputs.map(input =>\n        bitcoinClient.transactionsApi.getBitcoinTransactionHex(\n          // txids are encoded onchain in reverse byte order\n          reverseBytes(input.hash).toString('hex')\n        )\n      )\n    );\n\n    inputSigningConfig.forEach(({ index }) => {\n      // decorate input with nonWitnessUtxo unless it already exists\n      if (!tx.data.inputs[index].nonWitnessUtxo) {\n        tx.updateInput(index, {\n          nonWitnessUtxo: Buffer.from(inputsTxHex[index], 'hex'),\n        });\n        void analytics.track('ledger_nativesegwit_add_nonwitnessutxo');\n      } else {\n        void analytics.track('ledger_nativesegwit_skip_add_nonwitnessutxo');\n      }\n    });\n  };\n}\n\nexport function useUpdateLedgerSpecificNativeSegwitBip32DerivationForAdddressIndexZero() {\n  const createNativeSegwitSigner = useCurrentAccountNativeSegwitSigner();\n\n  return async (tx: Psbt, fingerprint: string, inputSigningConfig: BitcoinInputSigningConfig[]) => {\n    inputSigningConfig.forEach(({ index, derivationPath }) => {\n      const nativeSegwitSigner = createNativeSegwitSigner?.(\n        extractAddressIndexFromPath(derivationPath)\n      );\n\n      if (!nativeSegwitSigner)\n        throw new Error(`Unable to update input for path ${derivationPath}}`);\n\n      tx.updateInput(index, {\n        bip32Derivation: [\n          {\n            masterFingerprint: Buffer.from(fingerprint, 'hex'),\n            pubkey: Buffer.from(nativeSegwitSigner.publicKey),\n            path: derivationPath,\n          },\n        ],\n      });\n    });\n  };\n}\n","import { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { createSelector } from '@reduxjs/toolkit';\nimport { Psbt } from 'bitcoinjs-lib';\n\nimport {\n  deriveTaprootAccount,\n  ecdsaPublicKeyToSchnorr,\n  getTaprootAccountDerivationPath,\n  getTaprootPaymentFromAddressIndex,\n  lookUpLedgerKeysByPath,\n} from '@leather.io/bitcoin';\nimport { extractAddressIndexFromPath } from '@leather.io/crypto';\nimport { type BitcoinNetworkModes } from '@leather.io/models';\n\nimport { BitcoinInputSigningConfig } from '@shared/crypto/bitcoin/signer-config';\n\nimport { selectCurrentNetwork, useCurrentNetwork } from '@app/store/networks/networks.selectors';\nimport { selectCurrentAccountIndex } from '@app/store/software-keys/software-key.selectors';\n\nimport { useCurrentAccountIndex } from '../../account';\nimport {\n  bitcoinAccountBuilderFactory,\n  useBitcoinExtendedPublicKeyVersions,\n} from './bitcoin-keychain';\nimport {\n  bitcoinAddressIndexSignerFactory,\n  useMakeBitcoinNetworkSignersForPaymentType,\n} from './bitcoin-signer';\n\nconst selectTaprootAccountBuilder = bitcoinAccountBuilderFactory(\n  deriveTaprootAccount,\n  lookUpLedgerKeysByPath(getTaprootAccountDerivationPath)\n);\n\nconst selectCurrentNetworkTaprootAccountBuilder = createSelector(\n  selectTaprootAccountBuilder,\n  selectCurrentNetwork,\n  (taprootKeychains, network) => taprootKeychains[network.chain.bitcoin.mode]\n);\nconst selectCurrentTaprootAccount = createSelector(\n  selectCurrentNetworkTaprootAccountBuilder,\n  selectCurrentAccountIndex,\n  (taprootKeychain, accountIndex) => taprootKeychain(accountIndex)\n);\n\nexport function useTaprootAccount(accountIndex: number) {\n  const generateTaprootAccount = useSelector(selectCurrentNetworkTaprootAccountBuilder);\n  return useMemo(\n    () => generateTaprootAccount(accountIndex),\n    [generateTaprootAccount, accountIndex]\n  );\n}\n\nexport function useCurrentTaprootAccount() {\n  return useSelector(selectCurrentTaprootAccount);\n}\n\nexport function useTaprootNetworkSigners() {\n  const { mainnet: mainnetKeychain, testnet: testnetKeychain } = useSelector(\n    selectTaprootAccountBuilder\n  );\n  return useMakeBitcoinNetworkSignersForPaymentType(\n    mainnetKeychain,\n    testnetKeychain,\n    getTaprootPaymentFromAddressIndex\n  );\n}\n\nexport function useTaprootSigner(accountIndex: number, network: BitcoinNetworkModes) {\n  const account = useTaprootAccount(accountIndex);\n  const extendedPublicKeyVersions = useBitcoinExtendedPublicKeyVersions();\n\n  return useMemo(() => {\n    if (!account) return; // TODO: Revisit this return early\n    return bitcoinAddressIndexSignerFactory({\n      accountIndex,\n      accountKeychain: account.keychain,\n      paymentFn: getTaprootPaymentFromAddressIndex,\n      network,\n      extendedPublicKeyVersions,\n    });\n  }, [account, accountIndex, extendedPublicKeyVersions, network]);\n}\n\nexport function useCurrentAccountTaprootIndexZeroSigner() {\n  const signer = useCurrentAccountTaprootSigner();\n  return useMemo(() => {\n    if (!signer) throw new Error('No signer');\n    return signer(0);\n  }, [signer]);\n}\n\nexport function useCurrentAccountTaprootSigner() {\n  const currentAccountIndex = useCurrentAccountIndex();\n  const network = useCurrentNetwork();\n  return useTaprootSigner(currentAccountIndex, network.chain.bitcoin.mode);\n}\n\nexport function useUpdateLedgerSpecificTaprootInputPropsForAdddressIndexZero() {\n  const createTaprootSigner = useCurrentAccountTaprootSigner();\n\n  return async (\n    tx: Psbt,\n    fingerprint: string,\n    inputsToUpdate: BitcoinInputSigningConfig[] = []\n  ) => {\n    inputsToUpdate.forEach(({ index, derivationPath }) => {\n      const taprootAddressIndexSigner = createTaprootSigner?.(\n        extractAddressIndexFromPath(derivationPath)\n      );\n\n      if (!taprootAddressIndexSigner)\n        throw new Error(`Unable to update taproot input for path ${derivationPath}}`);\n\n      tx.updateInput(index, {\n        tapBip32Derivation: [\n          {\n            masterFingerprint: Buffer.from(fingerprint, 'hex'),\n            pubkey: Buffer.from(ecdsaPublicKeyToSchnorr(taprootAddressIndexSigner.publicKey)),\n            path: derivationPath,\n            leafHashes: [],\n          },\n        ],\n      });\n    });\n  };\n}\n","import { atom } from 'jotai';\n\nimport { type NetworkConfiguration, defaultCurrentNetwork } from '@leather.io/models';\n\nimport { initialSearchParams } from '@app/common/initial-search-params';\n\nimport { storeAtom } from '..';\nimport { selectCurrentNetworkId, selectNetworks } from './networks.selectors';\nimport { findMatchingNetworkKey } from './networks.utils';\n\n/** @deprecated */\nexport const currentNetworkAtom = atom(get => {\n  const store = get(storeAtom);\n  const coreApiUrl = initialSearchParams.get('coreApiUrl');\n  const networkChainId = initialSearchParams.get('networkChainId');\n  const networkMode = initialSearchParams.get('network');\n\n  const networks: Record<string, NetworkConfiguration> = selectNetworks(store);\n\n  if (networkMode) return networks[networkMode] ?? defaultCurrentNetwork;\n\n  const currentNetworkId = selectCurrentNetworkId(store);\n\n  const requestNetworkId = findMatchingNetworkKey({ coreApiUrl, networkChainId, networks });\n  return networks[requestNetworkId || currentNetworkId] ?? defaultCurrentNetwork;\n});\n","import { bytesToHex } from '@noble/hashes/utils';\nimport { createSelector } from '@reduxjs/toolkit';\nimport { HARDENED_OFFSET, HDKey } from '@scure/bip32';\nimport { ChainID } from '@stacks/common';\nimport {\n  AddressVersion,\n  createStacksPrivateKey,\n  createStacksPublicKey,\n  getPublicKey,\n  pubKeyfromPrivKey,\n  publicKeyToAddress,\n} from '@stacks/transactions';\nimport { deriveStxPrivateKey, generateWallet } from '@stacks/wallet-sdk';\nimport { atom } from 'jotai';\n\nimport { whenStacksChainId } from '@leather.io/stacks';\nimport { createNullArrayOfLength } from '@leather.io/utils';\n\nimport { DATA_DERIVATION_PATH, deriveStacksSalt } from '@shared/crypto/stacks/stacks-address-gen';\nimport { defaultWalletKeyId } from '@shared/utils';\n\nimport { derivePublicKey } from '@app/common/keychain/keychain';\nimport { storeAtom } from '@app/store';\nimport { selectStacksChain } from '@app/store/chains/stx-chain.selectors';\nimport {\n  selectDefaultWalletKey,\n  selectRootKeychain,\n} from '@app/store/in-memory-key/in-memory-key.selectors';\nimport { selectDefaultWalletStacksKeys } from '@app/store/ledger/stacks/stacks-key.slice';\nimport { currentNetworkAtom } from '@app/store/networks/networks';\n\nimport type {\n  HardwareStacksAccount,\n  SoftwareStacksAccount,\n  StacksAccount,\n} from './stacks-account.models';\n\nfunction initalizeStacksAccount(rootKeychain: HDKey, index: number) {\n  const stxPrivateKey = deriveStxPrivateKey({ rootNode: rootKeychain, index } as any);\n  const pubKey = getPublicKey(createStacksPrivateKey(stxPrivateKey));\n\n  const identitiesKeychain = rootKeychain.derive(DATA_DERIVATION_PATH);\n  const identityKeychain = identitiesKeychain.deriveChild(index + HARDENED_OFFSET);\n  if (!identityKeychain.privateKey) throw new Error('Must have private key to derive identities');\n  const dataPrivateKey = bytesToHex(identityKeychain.privateKey);\n\n  const appsKey = identityKeychain.deriveChild(0 + HARDENED_OFFSET).privateExtendedKey;\n\n  const salt = deriveStacksSalt(identitiesKeychain);\n\n  return {\n    index,\n    appsKey,\n    dataPrivateKey,\n    stxPrivateKey,\n    publicKey: pubKey,\n    salt,\n    mainnetAddress: publicKeyToAddress(AddressVersion.MainnetSingleSig, pubKey),\n    testnetAddress: publicKeyToAddress(AddressVersion.TestnetSingleSig, pubKey),\n  };\n}\n\nconst stacksAddressNetworkVersionState = atom(get => {\n  const currentNetwork = get(currentNetworkAtom);\n\n  return whenStacksChainId(currentNetwork.chain.stacks.chainId)({\n    [ChainID.Mainnet]: AddressVersion.MainnetSingleSig,\n    [ChainID.Testnet]: AddressVersion.TestnetSingleSig,\n  });\n});\n\nconst selectStacksWalletState = createSelector(\n  selectRootKeychain,\n  selectStacksChain,\n  (keychain, chain) => {\n    if (!keychain) return;\n    const { highestAccountIndex, currentAccountIndex } = chain[defaultWalletKeyId];\n    const numberOfAccountsToDerive = Math.max(highestAccountIndex, currentAccountIndex) + 1;\n    return createNullArrayOfLength(numberOfAccountsToDerive).map((_, index) =>\n      initalizeStacksAccount(keychain, index)\n    );\n  }\n);\n\nconst softwareAccountsState = atom<SoftwareStacksAccount[] | undefined>(get => {\n  const store = get(storeAtom);\n  const addressVersion = get(stacksAddressNetworkVersionState) || AddressVersion.TestnetSingleSig;\n  const accounts = selectStacksWalletState(store);\n  if (!accounts) return undefined;\n  return accounts.map(account => {\n    const address = publicKeyToAddress(addressVersion, pubKeyfromPrivKey(account.stxPrivateKey));\n    const stxPublicKey = derivePublicKey(account.stxPrivateKey);\n    const dataPublicKey = derivePublicKey(account.dataPrivateKey);\n    return { ...account, type: 'software', address, stxPublicKey, dataPublicKey };\n  });\n});\n\nconst ledgerAccountsState = atom<HardwareStacksAccount[] | undefined>(get => {\n  const addressVersion = get(stacksAddressNetworkVersionState);\n  const ledgerKeys = selectDefaultWalletStacksKeys(get(storeAtom));\n\n  return ledgerKeys.map((publicKeys, index) => {\n    const address = publicKeyToAddress(\n      addressVersion,\n      createStacksPublicKey(publicKeys.stxPublicKey)\n    );\n    return {\n      ...publicKeys,\n      type: 'ledger',\n      address,\n      stxPublicKey: publicKeys.stxPublicKey,\n      dataPublicKey: publicKeys.dataPublicKey,\n      index,\n    };\n  });\n});\n\nexport const stacksAccountState = atom<StacksAccount[]>(get => {\n  const ledgerAccounts = get(ledgerAccountsState);\n  const softwareAccounts = get(softwareAccountsState);\n\n  if (ledgerAccounts?.length) {\n    return ledgerAccounts;\n  }\n\n  return softwareAccounts ?? [];\n});\n\n/**\n * @deprecated\n * This method mocks the `Wallet` type from `@stacks/wallet-sdk`. Internally,\n * this library makes assumptions about how we want to use it. Such as\n * requesting BNS names (1 request per account). If you have many accounts, this\n * adds a huge loading time and stalls the wallet. Some parts of the code rely\n * on the `Wallet` type still, so here we mock it by manipulating it directly\n * (sans unwanted http requests).\n */\nexport const legacyStackWallet = atom(async get => {\n  const store = get(storeAtom);\n  const secretKey = selectDefaultWalletKey(store);\n  const accounts = get(softwareAccountsState);\n  if (!secretKey) return;\n  const wallet = await generateWallet({ secretKey, password: '' });\n  wallet.accounts = accounts ?? [];\n  return wallet;\n});\n","import { ChainID, TransactionVersion } from '@stacks/transactions';\nimport { atom } from 'jotai';\n\nimport { whenStacksChainId } from '@leather.io/stacks';\n\nimport { currentNetworkAtom } from '@app/store/networks/networks';\n\nexport const transactionNetworkVersionState = atom(get => {\n  const currentNetwork = get(currentNetworkAtom);\n\n  if (!currentNetwork.chain.stacks.chainId) return TransactionVersion.Testnet; // default to testnet\n\n  return whenStacksChainId(currentNetwork.chain.stacks.chainId)({\n    [ChainID.Mainnet]: TransactionVersion.Mainnet,\n    [ChainID.Testnet]: TransactionVersion.Testnet,\n  });\n});\n","import { useMemo } from 'react';\n\nimport { useAtomValue } from 'jotai';\n\nimport {\n  legacyStackWallet,\n  stacksAccountState,\n} from '@app/store/accounts/blockchain/stacks/stacks-accounts';\nimport { useSignatureRequestAccountIndex } from '@app/store/signatures/requests.hooks';\nimport { useTransactionRequestState } from '@app/store/transactions/requests.hooks';\nimport { transactionNetworkVersionState } from '@app/store/transactions/transaction';\n\nimport { hasSwitchedAccountsState, useCurrentAccountIndex } from '../../account';\nimport type { StacksAccount } from './stacks-account.models';\n\nexport function useStacksAccounts() {\n  return useAtomValue(stacksAccountState);\n}\n\n// TODO: Refactor, we need to use conditional empty strings everywhere\n// Can we remove these atoms?\n\n// Comment below from original atom. This pattern encourages view level\n// implementation details to leak into the state structure. Do not do this.\n//   This contains the state of the current account:\n//   could be the account associated with an in-process transaction request\n//   or the last selected / first account of the user\nexport function useCurrentStacksAccount() {\n  const accountIndex = useCurrentAccountIndex();\n  const txIndex = useTransactionAccountIndex();\n  const signatureIndex = useSignatureRequestAccountIndex();\n  //  to refactor, we should not just continually add new conditionals here\n  const hasSwitched = useAtomValue(hasSwitchedAccountsState);\n  const accounts = useStacksAccounts();\n\n  return useMemo(() => {\n    const index = txIndex ?? signatureIndex;\n    if (!accounts) return undefined;\n    if (typeof index === 'number' && !hasSwitched) return accounts[index];\n    return accounts[accountIndex] as StacksAccount | undefined;\n  }, [accountIndex, accounts, hasSwitched, signatureIndex, txIndex]);\n}\n\nexport function useCurrentStacksAccountAddress() {\n  return useCurrentStacksAccount()?.address ?? '';\n}\n\nexport function useTransactionAccountIndex() {\n  const accounts = useAtomValue(stacksAccountState);\n  const txPayload = useTransactionRequestState();\n  const txAddress = txPayload?.stxAddress;\n  return useMemo(() => {\n    if (txAddress && accounts) {\n      return accounts.findIndex(account => account.address === txAddress); // selected account\n    }\n    return undefined;\n  }, [accounts, txAddress]);\n}\n\nexport function useTransactionNetworkVersion() {\n  return useAtomValue(transactionNetworkVersionState);\n}\n\n/**\n * @deprecated\n * This exists only to serve the remaining Gaia functionality.\n * Do not perpetuate its use.\n */\nexport function useLegacyStacksWallet() {\n  return useAtomValue(legacyStackWallet);\n}\n","import { useMemo } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport { createEntityAdapter, createSlice } from '@reduxjs/toolkit';\n\ninterface AppPermission {\n  origin: string;\n  // Very simple permission system. If property exists with date, user\n  // has given permission\n  requestedAccounts?: string;\n}\nconst appPermissionsAdapter = createEntityAdapter<AppPermission, string>({\n  selectId: permission => permission.origin,\n});\n\nconst initialState = appPermissionsAdapter.getInitialState();\n\nexport const appPermissionsSlice = createSlice({\n  name: 'appPermissions',\n  initialState,\n  reducers: { updatePermission: appPermissionsAdapter.upsertOne },\n});\n\nexport function useAppPermissions() {\n  const dispatch = useDispatch();\n\n  return useMemo(\n    () => ({\n      hasRequestedAccounts(origin: string) {\n        const url = new URL(origin).hostname;\n        dispatch(\n          appPermissionsSlice.actions.updatePermission({\n            origin: url,\n            requestedAccounts: new Date().toISOString(),\n          })\n        );\n      },\n    }),\n    [dispatch]\n  );\n}\n","import { RootState } from '@app/store';\n\nexport const selectStacksChain = (state: RootState) => state.chains.stx;\n","import { PayloadAction, createSlice } from '@reduxjs/toolkit';\n\nimport { defaultWalletKeyId } from '@shared/utils';\n\nimport { keySlice } from '../software-keys/software-key.slice';\n\ninterface StxChainKeyState {\n  highestAccountIndex: number;\n  currentAccountIndex: number;\n}\n\nconst initialState: Record<string, StxChainKeyState> = {\n  [defaultWalletKeyId]: {\n    highestAccountIndex: 0,\n    currentAccountIndex: 0,\n  },\n};\n\nexport const stxChainSlice = createSlice({\n  name: 'stxChain',\n  initialState,\n\n  reducers: {\n    switchAccount(state, action: PayloadAction<number>) {\n      state.default.currentAccountIndex = action.payload;\n    },\n    createNewAccount(state) {\n      state.default.highestAccountIndex += 1;\n      state.default.currentAccountIndex = state.default.highestAccountIndex;\n    },\n    restoreAccountIndex(state, action: PayloadAction<number>) {\n      state.default.highestAccountIndex = action.payload;\n    },\n  },\n\n  extraReducers: builder => {\n    builder.addCase(keySlice.actions.signOut.toString(), state => {\n      state.default.highestAccountIndex = 0;\n      state.default.currentAccountIndex = 0;\n    });\n  },\n});\n","import { useSelector } from 'react-redux';\n\nimport { createSelector } from '@reduxjs/toolkit';\n\nimport { selectHasLedgerKeys } from '../ledger/ledger.selectors';\nimport { selectHasSecretKey } from '../software-keys/software-key.selectors';\n\nexport enum WalletType {\n  Ledger = 'ledger',\n  Software = 'software',\n}\n\nexport const selectWalletType = createSelector(\n  selectHasLedgerKeys,\n  selectHasSecretKey,\n  (hasLedgerKeys, hasSecretKey) => {\n    if (hasSecretKey) {\n      return WalletType.Software;\n    }\n    if (hasLedgerKeys) {\n      return WalletType.Ledger;\n    }\n    // TODO: better error handling\n    return undefined;\n  }\n);\n\nexport function useWalletTypeSelector() {\n  return useSelector(selectWalletType);\n}\n","import { inMemoryKeySlice } from './in-memory-key.slice';\n\nexport const inMemoryKeyActions = inMemoryKeySlice.actions;\n","import { useSelector } from 'react-redux';\n\nimport { createSelector } from '@reduxjs/toolkit';\n\nimport { defaultWalletKeyId } from '@shared/utils';\nimport { decodeText } from '@shared/utils/text-encoding';\n\nimport { mnemonicToRootNode } from '@app/common/keychain/keychain';\n\nimport { RootState } from '..';\n\nconst selectInMemoryKeys = (state: RootState) => state.inMemoryKeys;\n\nconst selectDefaultInMemoryWalletKeyBytes = createSelector(\n  selectInMemoryKeys,\n  state => state.keys[defaultWalletKeyId]\n);\n\nconst selectHasDefaultInMemoryWalletKey = createSelector(\n  selectDefaultInMemoryWalletKeyBytes,\n  key => !!key\n);\n\nexport function useHasDefaultInMemoryWalletSecretKey() {\n  return useSelector(selectHasDefaultInMemoryWalletKey);\n}\n\n// Not using a memoized \"createSelector\" to avoid storing the decoded key as cleartext in memory\nexport const selectDefaultWalletKey = (state: RootState) => {\n  const defaultWalletBytes = selectDefaultInMemoryWalletKeyBytes(state);\n\n  if (!defaultWalletBytes) return null;\n\n  return decodeText(defaultWalletBytes);\n};\n\nexport const selectRootKeychain = createSelector(\n  selectDefaultInMemoryWalletKeyBytes,\n  defaultKey => {\n    if (!defaultKey) return null;\n\n    return mnemonicToRootNode(decodeText(defaultKey));\n  }\n);\n\nexport function useDefaultWalletSecretKey() {\n  return useSelector(selectDefaultWalletKey);\n}\n","import { PayloadAction, createSlice } from '@reduxjs/toolkit';\n\nimport { logger } from '@shared/logger';\nimport { defaultWalletKeyId } from '@shared/utils';\nimport { encodeText } from '@shared/utils/text-encoding';\n\nimport { keySlice } from '../software-keys/software-key.slice';\n\ninterface InMemoryKeyState {\n  hasRestoredKeys: boolean;\n  keys: Record<string, string>;\n}\n\nconst initialState: InMemoryKeyState = {\n  hasRestoredKeys: false,\n  keys: {},\n};\n\nexport const inMemoryKeySlice = createSlice({\n  name: 'inMemoryKey',\n  initialState,\n\n  reducers: {\n    generateWalletKey(state, action: PayloadAction<string>) {\n      if (state.keys[defaultWalletKeyId]) {\n        logger.warn('Not generating another wallet, already exists.');\n        return;\n      }\n\n      state.keys[defaultWalletKeyId] = encodeText(action.payload);\n    },\n\n    setDefaultKey(state, action: PayloadAction<string>) {\n      state.keys[defaultWalletKeyId] = encodeText(action.payload);\n    },\n\n    lockWallet(state) {\n      state.keys = {};\n    },\n  },\n\n  extraReducers: builder => {\n    builder.addCase(keySlice.actions.signOut.toString(), state => {\n      state.keys = {};\n    });\n  },\n});\n","import { Middleware, isAction } from '@reduxjs/toolkit';\n\nexport const broadcastActionTypeToOtherFramesMiddleware: Middleware = _store => next => action => {\n  if (isAction(action)) chrome.runtime.sendMessage({ method: action.type });\n  return next(action);\n};\n","import { useDispatch, useSelector } from 'react-redux';\n\nimport { devToolsEnhancer } from '@redux-devtools/remote';\nimport {\n  Action,\n  AnyAction,\n  ThunkAction,\n  Tuple,\n  combineReducers,\n  configureStore,\n} from '@reduxjs/toolkit';\nimport { atomWithStore } from 'jotai-redux';\nimport {\n  FLUSH,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n  REHYDRATE,\n  persistReducer,\n  persistStore,\n} from 'redux-persist';\nimport { PersistPartial } from 'redux-persist/es/persistReducer';\n\nimport { persistConfig } from '@shared/storage/redux-pesist';\n\nimport { appPermissionsSlice } from './app-permissions/app-permissions.slice';\nimport { stxChainSlice } from './chains/stx-chain.slice';\nimport { inMemoryKeySlice } from './in-memory-key/in-memory-key.slice';\nimport { bitcoinKeysSlice } from './ledger/bitcoin/bitcoin-key.slice';\nimport { stacksKeysSlice } from './ledger/stacks/stacks-key.slice';\nimport { manageTokensSlice } from './manage-tokens/manage-tokens.slice';\nimport { networksSlice } from './networks/networks.slice';\nimport { settingsSlice } from './settings/settings.slice';\nimport { keySlice } from './software-keys/software-key.slice';\nimport { submittedTransactionsSlice } from './submitted-transactions/submitted-transactions.slice';\nimport { broadcastActionTypeToOtherFramesMiddleware } from './utils/broadcast-action-types';\n\nexport interface RootState {\n  appPermissions: ReturnType<typeof appPermissionsSlice.reducer>;\n  chains: {\n    stx: ReturnType<typeof stxChainSlice.reducer>;\n  };\n  ledger: {\n    bitcoin: ReturnType<typeof bitcoinKeysSlice.reducer>;\n    stacks: ReturnType<typeof stacksKeysSlice.reducer>;\n  };\n  inMemoryKeys: ReturnType<typeof inMemoryKeySlice.reducer>;\n  softwareKeys: ReturnType<typeof keySlice.reducer>;\n  networks: ReturnType<typeof networksSlice.reducer>;\n  submittedTransactions: ReturnType<typeof submittedTransactionsSlice.reducer>;\n  settings: ReturnType<typeof settingsSlice.reducer>;\n  manageTokens: ReturnType<typeof manageTokensSlice.reducer>;\n}\n\nconst appReducer = combineReducers({\n  appPermissions: appPermissionsSlice.reducer,\n  chains: combineReducers({\n    stx: stxChainSlice.reducer,\n  }),\n  ledger: combineReducers({\n    bitcoin: bitcoinKeysSlice.reducer,\n    stacks: stacksKeysSlice.reducer,\n  }),\n  inMemoryKeys: inMemoryKeySlice.reducer,\n  softwareKeys: keySlice.reducer,\n  ordinals: (state = {}) => state,\n  networks: networksSlice.reducer,\n  submittedTransactions: submittedTransactionsSlice.reducer,\n  settings: settingsSlice.reducer,\n  manageTokens: manageTokensSlice.reducer,\n});\n\nfunction rootReducer(state: RootState | undefined, action: Action) {\n  if (action.type === 'keys/signOut') return appReducer(undefined, action);\n  return appReducer(state, action);\n}\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\n\nexport const store = configureStore({\n  reducer: persistedReducer,\n  middleware: getDefaultMiddleware =>\n    getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n      },\n    }).concat(new Tuple(broadcastActionTypeToOtherFramesMiddleware)),\n  enhancers: getDefaultEnhancers =>\n    getDefaultEnhancers().concat(\n      process.env.WALLET_ENVIRONMENT === 'development'\n        ? [\n            devToolsEnhancer({\n              hostname: 'localhost',\n              port: 8000,\n              realtime: true,\n              suppressConnectErrors: false,\n            }),\n          ]\n        : []\n    ),\n});\n\nexport const persistor = persistStore(store);\n\nexport type AppThunk<ReturnType = void> = ThunkAction<ReturnType, RootState, unknown, AnyAction>;\n\ntype AppDispatch = typeof store.dispatch & ((action: AppThunk) => void);\n\nexport const useAppDispatch: () => AppDispatch = useDispatch;\n\nexport const storeAtom = atomWithStore(store);\n\nconst selectHasRehydrated = (state: RootState & PersistPartial) => state._persist.rehydrated;\n\nexport function useHasStateRehydrated() {\n  return useSelector(selectHasRehydrated);\n}\n","import { BitcoinLedgerAccountDetails } from '@app/features/ledger/utils/bitcoin-ledger-utils';\n\nimport { RootState } from '../..';\nimport { generateLedgerChainKeyStorageSlice } from '../ledger-chain-key-storage-generator';\n\nfunction selectBitcoinKeysSlice(state: RootState) {\n  return state.ledger.bitcoin;\n}\n\n// ts-unused-exports:disable-next-line\nexport const { slice: bitcoinKeysSlice, adapter } =\n  generateLedgerChainKeyStorageSlice<BitcoinLedgerAccountDetails>('bitcoin');\n\nconst selectors = adapter.getSelectors(selectBitcoinKeysSlice);\n\nexport const selectDefaultWalletBitcoinKeyEntities = selectors.selectEntities;\nexport const selectDefaultWalletBitcoinKeys = selectors.selectAll;\n","import { PayloadAction, createEntityAdapter, createSlice } from '@reduxjs/toolkit';\n\nimport { defaultWalletKeyId } from '@shared/utils';\n\ninterface RequiresId {\n  id: string;\n  targetId: string;\n}\n\nexport function generateLedgerChainKeyStorageSlice<KeyDetails extends RequiresId>(name: string) {\n  type KeyDetailsWithWalletId = KeyDetails & { walletId: string };\n\n  const adapter = createEntityAdapter<KeyDetailsWithWalletId>();\n\n  const initialState = adapter.getInitialState();\n\n  const slice = createSlice({\n    name: name + 'Keys',\n    initialState,\n    reducers: {\n      addKeys(state, { payload }: PayloadAction<KeyDetails[]>) {\n        adapter.addMany(\n          state as any,\n          // While we only support a single wallet, we default to the `default` walletId\n          payload.map(key => ({ ...key, walletId: defaultWalletKeyId }))\n        );\n      },\n      signOut(state) {\n        adapter.removeAll(state as any);\n      },\n    },\n  });\n\n  return { slice, initialState, adapter };\n}\n","import { useSelector } from 'react-redux';\n\nimport { createSelector } from '@reduxjs/toolkit';\n\nimport { sumNumbers } from '@leather.io/utils';\n\nimport { RootState } from '..';\n\nconst selectLedger = (state: RootState) => state.ledger;\n\nconst selectNumberOfLedgerKeysPersisted = createSelector(selectLedger, ledger =>\n  sumNumbers(Object.values(ledger).map(chain => Object.keys(chain.entities).length))\n);\n\nexport const selectHasLedgerKeys = createSelector(selectNumberOfLedgerKeysPersisted, numOfKeys =>\n  numOfKeys.isGreaterThan(0)\n);\n\nexport function useHasLedgerKeys() {\n  return useSelector(selectHasLedgerKeys);\n}\n\nexport function useLedgerDeviceTargetId() {\n  return useSelector(\n    (state: RootState) =>\n      state.ledger.stacks.entities[0]?.targetId || state.ledger.bitcoin.entities[0]?.targetId || ''\n  );\n}\n","import { StacksAppKeysResponseItem } from '@app/features/ledger/utils/stacks-ledger-utils';\n\nimport { RootState } from '../..';\nimport { generateLedgerChainKeyStorageSlice } from '../ledger-chain-key-storage-generator';\n\nfunction selectStacksKeysSlice(state: RootState) {\n  return state.ledger.stacks;\n}\n\n// ts-unused-exports:disable-next-line\nexport const { slice: stacksKeysSlice, adapter } = generateLedgerChainKeyStorageSlice<\n  StacksAppKeysResponseItem & { id: string; targetId: string }\n>('stacks');\n\nconst selectors = adapter.getSelectors(selectStacksKeysSlice);\n\nexport const selectDefaultWalletStacksKeys = selectors.selectAll;\n","import { useSelector } from 'react-redux';\n\nimport { PayloadAction, createEntityAdapter, createSelector, createSlice } from '@reduxjs/toolkit';\n\nimport type { RootState } from '..';\n\ninterface TokenUserSetting {\n  id: string;\n  enabled: boolean;\n  accountIndex: number;\n}\n\nconst manageTokensAdapter = createEntityAdapter<TokenUserSetting>();\n\nexport const manageTokensSlice = createSlice({\n  name: 'manageTokens',\n  initialState: manageTokensAdapter.getInitialState(),\n  reducers: {\n    userTogglesTokenVisibility(\n      state,\n      action: PayloadAction<{ id: string; enabled: boolean; accountIndex: number }>\n    ) {\n      manageTokensAdapter.setOne(state, {\n        id: action.payload.id,\n        enabled: action.payload.enabled,\n        accountIndex: action.payload.accountIndex,\n      });\n    },\n    removeAllTokens(state) {\n      manageTokensAdapter.removeAll(state);\n    },\n  },\n});\n\nconst selectors = manageTokensAdapter.getSelectors();\n\nfunction selectTokenState(state: RootState) {\n  return state.manageTokens;\n}\n\nconst selectAllTokens = createSelector(selectTokenState, selectors.selectAll);\n\nexport function useUserAllTokens() {\n  return useSelector(selectAllTokens);\n}\n","import { networksSlice } from './networks.slice';\n\nexport const networksActions = networksSlice.actions;\n","import { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { StacksNetwork } from '@stacks/network';\nimport { ChainID, TransactionVersion } from '@stacks/transactions';\n\nimport {\n  type BitcoinNetworkModes,\n  HIRO_API_BASE_URL_NAKAMOTO_TESTNET,\n  bitcoinNetworkToNetworkMode,\n} from '@leather.io/models';\nimport { whenStacksChainId } from '@leather.io/stacks';\n\nimport { useAppDispatch } from '@app/store';\n\nimport { networksActions } from './networks.actions';\nimport { selectAppRequestedNetworkId, useCurrentNetwork } from './networks.selectors';\nimport { PersistedNetworkConfiguration } from './networks.slice';\n\nexport function useCurrentNetworkState() {\n  const currentNetwork = useCurrentNetwork();\n\n  return useMemo(() => {\n    const isTestnet = currentNetwork.chain.stacks.chainId === ChainID.Testnet;\n    const isNakamotoTestnet =\n      currentNetwork.chain.stacks.url === HIRO_API_BASE_URL_NAKAMOTO_TESTNET;\n    const mode = (isTestnet ? 'testnet' : 'mainnet') as BitcoinNetworkModes;\n    return { ...currentNetwork, isTestnet, isNakamotoTestnet, mode };\n  }, [currentNetwork]);\n}\n\nexport function useCurrentStacksNetworkState(): StacksNetwork {\n  const currentNetwork = useCurrentNetwork();\n\n  return useMemo(() => {\n    if (!currentNetwork) throw new Error('No current network');\n\n    // todo: these params could be added to the constructor in stacks.js\n    const stacksNetwork = new StacksNetwork({ url: currentNetwork.chain.stacks.url });\n    stacksNetwork.version = whenStacksChainId(currentNetwork.chain.stacks.chainId)({\n      [ChainID.Mainnet]: TransactionVersion.Mainnet,\n      [ChainID.Testnet]: TransactionVersion.Testnet,\n    });\n\n    // Use actual chainId on network object, since it's used for signing\n    stacksNetwork.chainId =\n      currentNetwork.chain.stacks.subnetChainId ?? currentNetwork.chain.stacks.chainId;\n\n    stacksNetwork.bnsLookupUrl = currentNetwork.chain.stacks.url || '';\n    return stacksNetwork;\n  }, [currentNetwork]);\n}\n\nexport function useNetworksActions() {\n  const dispatch = useAppDispatch();\n\n  return useMemo(\n    () => ({\n      addNetwork({\n        id,\n        name,\n        chainId,\n        subnetChainId,\n        url,\n        bitcoinNetwork,\n        bitcoinUrl,\n      }: PersistedNetworkConfiguration) {\n        dispatch(\n          networksActions.addNetwork({\n            id,\n            name,\n            chainId,\n            subnetChainId,\n            url,\n            bitcoinNetwork,\n            mode: bitcoinNetworkToNetworkMode(bitcoinNetwork),\n            bitcoinUrl,\n          })\n        );\n        dispatch(networksActions.changeNetwork(id));\n        return;\n      },\n      changeNetwork(id: string) {\n        return dispatch(networksActions.changeNetwork(id));\n      },\n      removeNetwork(id: string) {\n        return dispatch(networksActions.removeNetwork(id));\n      },\n    }),\n    [dispatch]\n  );\n}\n\nexport function useAppRequestedNetworkId() {\n  return useSelector(selectAppRequestedNetworkId);\n}\n","import { useSelector } from 'react-redux';\n\nimport { createSelector } from '@reduxjs/toolkit';\n\nimport {\n  type NetworkConfiguration,\n  defaultCurrentNetwork,\n  defaultNetworksKeyedById,\n} from '@leather.io/models';\n\nimport { initialSearchParams } from '@app/common/initial-search-params';\nimport { RootState } from '@app/store';\n\nimport { useAppRequestedNetworkId } from './networks.hooks';\nimport { networksAdapter } from './networks.slice';\nimport {\n  findMatchingNetworkKey,\n  transformNetworkStateToMultichainStucture,\n} from './networks.utils';\n\nconst selectNetworksSlice = (state: RootState) => state.networks;\n\nconst networksSelectors = networksAdapter.getSelectors<RootState>(selectNetworksSlice);\n\nexport const selectNetworks = createSelector(\n  networksSelectors.selectEntities,\n  state =>\n    ({\n      ...defaultNetworksKeyedById,\n      ...transformNetworkStateToMultichainStucture(state),\n    }) as Record<string, NetworkConfiguration>\n);\n\nexport const selectCurrentNetworkId = createSelector(\n  selectNetworksSlice,\n  state => state.currentNetworkId\n);\n\nexport const selectAppRequestedNetworkId = createSelector(selectNetworks, networks => {\n  // CoreAPI URL and networkChainId are from legacy Stacks transactions\n  const coreApiUrl = initialSearchParams.get('coreApiUrl');\n  const networkChainId = initialSearchParams.get('networkChainId');\n  // `network` param is a more generic network selector that doesn't deal with\n  // custom networks\n  const network = initialSearchParams.get('network');\n  if (network && networks[network]?.id) return networks[network]?.id;\n\n  return findMatchingNetworkKey({ coreApiUrl, networkChainId, networks });\n});\n\nexport const selectCurrentNetwork = createSelector(\n  selectNetworks,\n  selectCurrentNetworkId,\n  selectAppRequestedNetworkId,\n  (networks, currentNetworkId, appRequestedNetworkId) =>\n    networks[appRequestedNetworkId || currentNetworkId] ?? defaultCurrentNetwork\n);\n\nexport function useNetworks(): Record<string, NetworkConfiguration> {\n  return useSelector(selectNetworks);\n}\n\nexport function useCurrentNetworkId() {\n  const requestNetworkId = useAppRequestedNetworkId();\n  const currentNetworkId = useSelector(selectCurrentNetworkId);\n  return requestNetworkId ?? currentNetworkId;\n}\n\nexport function useCurrentNetwork(): NetworkConfiguration {\n  return useSelector(selectCurrentNetwork);\n}\n","import { EntityId, PayloadAction, createEntityAdapter, createSlice } from '@reduxjs/toolkit';\n\nimport {\n  type NetworkConfiguration,\n  WalletDefaultNetworkConfigurationIds,\n} from '@leather.io/models';\n\nconst defaultCurrentNetworkId = WalletDefaultNetworkConfigurationIds.mainnet as EntityId;\n\n// Creates type that replicates network store before addition of Bitcoin.\n// Current implementation uses a static btc config, based on stx config, so\n// persisted store changes requiring migration aren't necessary\nexport type PersistedNetworkConfiguration = Omit<\n  Pick<NetworkConfiguration, 'chain'>['chain']['stacks'],\n  'blockchain'\n> &\n  Omit<Pick<NetworkConfiguration, 'chain'>['chain']['bitcoin'], 'blockchain'> &\n  Pick<NetworkConfiguration, 'id' | 'name'>;\n\nexport const networksAdapter = createEntityAdapter<PersistedNetworkConfiguration>();\n\nconst initialNetworksState = networksAdapter.getInitialState({\n  currentNetworkId: defaultCurrentNetworkId,\n});\n\nexport const networksSlice = createSlice({\n  name: 'networks',\n  initialState: initialNetworksState,\n  reducers: {\n    addNetwork(state, action: PayloadAction<PersistedNetworkConfiguration>) {\n      networksAdapter.addOne(state, action.payload);\n    },\n    changeNetwork(state, action: PayloadAction<string>) {\n      state.currentNetworkId = action.payload;\n    },\n    removeNetwork(state, action: PayloadAction<string>) {\n      networksAdapter.removeOne(state, action.payload as any);\n    },\n  },\n});\n","import { ChainID } from '@stacks/transactions';\n\nimport {\n  BITCOIN_API_BASE_URL_MAINNET,\n  BITCOIN_API_BASE_URL_TESTNET3,\n  type NetworkConfiguration,\n  bitcoinNetworkToNetworkMode,\n} from '@leather.io/models';\n\nimport { PersistedNetworkConfiguration } from './networks.slice';\n\ninterface FindMatchingNetworkKeyArgs {\n  coreApiUrl: string | null;\n  networkChainId: string | null;\n  networks: Record<string, NetworkConfiguration>;\n}\nexport function findMatchingNetworkKey({\n  coreApiUrl,\n  networkChainId,\n  networks,\n}: FindMatchingNetworkKeyArgs) {\n  if (!networks || (!coreApiUrl && !networkChainId)) return;\n\n  const keys = Object.keys(networks);\n\n  const exactUrlMatch = keys.find((key: string) => {\n    const network = networks[key];\n    return network.chain.stacks.url === coreApiUrl;\n  });\n  if (exactUrlMatch) return exactUrlMatch;\n\n  const chainIdMatch = keys.find((key: string) => {\n    const network = networks[key];\n    return (\n      network.chain.stacks.url === coreApiUrl ||\n      network.chain.stacks.chainId === (Number(networkChainId) as ChainID)\n    );\n  });\n  if (chainIdMatch) return chainIdMatch;\n\n  return null;\n}\n\nfunction checkBitcoinNetworkProperties(\n  network: PersistedNetworkConfiguration\n): PersistedNetworkConfiguration {\n  if (!network.bitcoinNetwork || !network.bitcoinUrl) {\n    const bitcoinNetwork = network.chainId === ChainID.Mainnet ? 'mainnet' : 'testnet3';\n    return {\n      id: network.id,\n      name: network.name,\n      chainId: network.chainId,\n      subnetChainId: network.subnetChainId,\n      url: network.url,\n      bitcoinNetwork,\n      mode: bitcoinNetworkToNetworkMode(bitcoinNetwork),\n      bitcoinUrl:\n        network.chainId === ChainID.Mainnet\n          ? BITCOIN_API_BASE_URL_MAINNET\n          : BITCOIN_API_BASE_URL_TESTNET3,\n    };\n  } else {\n    return network;\n  }\n}\n\nexport function transformNetworkStateToMultichainStucture(\n  state: Record<string, PersistedNetworkConfiguration>\n) {\n  return Object.fromEntries(\n    Object.entries(state)\n      .map(([key, network]) => {\n        if (!network) return ['', null];\n        const { id, name, chainId, subnetChainId, url, bitcoinNetwork, bitcoinUrl } =\n          checkBitcoinNetworkProperties(network);\n\n        return [\n          key,\n          {\n            id,\n            name,\n            chain: {\n              stacks: {\n                blockchain: 'stacks',\n                url: url,\n                chainId,\n                subnetChainId,\n              },\n              bitcoin: {\n                blockchain: 'bitcoin',\n                bitcoinNetwork: bitcoinNetwork ?? 'testnet',\n                mode: bitcoinNetworkToNetworkMode(bitcoinNetwork ?? 'testnet'),\n                bitcoinUrl: bitcoinUrl ?? BITCOIN_API_BASE_URL_TESTNET3,\n              },\n            },\n          },\n        ];\n      })\n      .filter(([_, value]) => value !== null)\n  ) as Record<string, NetworkConfiguration>;\n}\n","import { atom } from 'jotai';\n\nexport const seedInputErrorState = atom<string | undefined>(undefined);\nexport const secretKeyState = atom(null);\n","import { useAtom, useAtomValue } from 'jotai';\n\nimport { secretKeyState, seedInputErrorState } from './onboarding';\n\nexport function useSeedInputErrorState() {\n  return useAtom(seedInputErrorState);\n}\n\nexport function useSecretKeyState() {\n  return useAtomValue(secretKeyState);\n}\n","import { decrypt } from '@stacks/wallet-sdk';\n\nimport { logger } from '@shared/logger';\n\nimport { store } from '@app/store';\nimport { inMemoryKeyActions } from '@app/store/in-memory-key/in-memory-key.actions';\nimport { selectDefaultSoftwareKey } from '@app/store/software-keys/software-key.selectors';\n\nexport async function initalizeWalletSession(encryptionKey: string) {\n  return chrome.storage.session.set({ encryptionKey });\n}\n\nexport async function clearWalletSession() {\n  return chrome.storage.session.remove('encryptionKey');\n}\n\nexport async function restoreWalletSession() {\n  const key = await chrome.storage.session.get(['encryptionKey']);\n\n  if (!key.encryptionKey) return;\n\n  try {\n    const currentKey = selectDefaultSoftwareKey(store.getState());\n\n    if (currentKey?.type === 'software') {\n      const secretKey = await decrypt(currentKey.encryptedSecretKey, key.encryptionKey);\n      store.dispatch(inMemoryKeyActions.setDefaultKey(secretKey));\n    }\n  } catch (e) {\n    logger.error('Failed to decrypt secret key');\n  }\n}\n","import { useDispatch } from 'react-redux';\n\nimport { settingsSlice } from './settings.slice';\n\nexport const settingsActions = settingsSlice.actions;\n\nexport function useDismissMessage() {\n  const dispatch = useDispatch();\n  return (messageId: string) => dispatch(settingsActions.messageDismissed(messageId));\n}\n\nexport function useTogglePrivateMode() {\n  const dispatch = useDispatch();\n  return () => dispatch(settingsActions.togglePrivateMode());\n}\n","import { useSelector } from 'react-redux';\n\nimport { createSelector } from '@reduxjs/toolkit';\n\nimport { RootState } from '@app/store';\n\nconst selectSettings = (state: RootState) => state.settings;\n\nconst selectUserSelectedTheme = createSelector(selectSettings, state => state.userSelectedTheme);\n\nexport function useUserSelectedTheme() {\n  return useSelector(selectUserSelectedTheme);\n}\n\nconst selectDismissedMessageIds = createSelector(\n  selectSettings,\n  state => state.dismissedMessages ?? []\n);\n\nexport function useDismissedMessageIds() {\n  return useSelector(selectDismissedMessageIds);\n}\n\nconst selectIsPrivateMode = createSelector(selectSettings, state => state.isPrivateMode ?? false);\n\nexport function useIsPrivateMode() {\n  return useSelector(selectIsPrivateMode);\n}\n","import { PayloadAction, createSlice } from '@reduxjs/toolkit';\n\nimport { UserSelectedTheme } from '@app/common/theme-provider';\n\ninterface InitialState {\n  userSelectedTheme: UserSelectedTheme;\n  dismissedMessages: string[];\n  isPrivateMode?: boolean;\n}\n\nconst initialState: InitialState = {\n  userSelectedTheme: 'system',\n  dismissedMessages: [],\n};\n\nexport const settingsSlice = createSlice({\n  name: 'settings',\n  initialState,\n  reducers: {\n    setUserSelectedTheme(state, action: PayloadAction<UserSelectedTheme>) {\n      state.userSelectedTheme = action.payload;\n    },\n    messageDismissed(state, action: PayloadAction<string>) {\n      if (!Array.isArray(state.dismissedMessages)) state.dismissedMessages = [];\n      state.dismissedMessages = [...state.dismissedMessages, action.payload];\n    },\n    resetMessages(state) {\n      state.dismissedMessages = [];\n    },\n    togglePrivateMode(state) {\n      state.isPrivateMode = !state.isPrivateMode;\n    },\n  },\n});\n","import { useMemo } from 'react';\n\nimport { SignedMessageType } from '@shared/signature/signature-types';\n\nimport { useDefaultRequestParams } from '@app/common/hooks/use-default-request-search-params';\nimport { initialSearchParams } from '@app/common/initial-search-params';\nimport { getGenericSignaturePayloadFromToken } from '@app/common/signature/requests';\nimport { useStacksAccounts } from '@app/store/accounts/blockchain/stacks/stacks-account.hooks';\n\nexport function useSignatureRequestSearchParams() {\n  const { origin, tabId } = useDefaultRequestParams();\n\n  return useMemo(() => {\n    const requestToken = initialSearchParams.get('request');\n    const messageType = initialSearchParams.get('messageType') as SignedMessageType;\n\n    return {\n      tabId,\n      requestToken,\n      origin,\n      messageType,\n    };\n  }, [origin, tabId]);\n}\n\nfunction useSignatureRequestState() {\n  const { requestToken } = useSignatureRequestSearchParams();\n  return useMemo(() => {\n    if (!requestToken) return null;\n    return getGenericSignaturePayloadFromToken(requestToken);\n  }, [requestToken]);\n}\n\nexport function useSignatureRequestAccountIndex() {\n  const signaturePayload = useSignatureRequestState();\n  const accounts = useStacksAccounts();\n\n  if (!signaturePayload?.stxAddress) return;\n  const { stxAddress } = signaturePayload;\n\n  if (stxAddress && accounts) {\n    return accounts.findIndex(account => account.address === stxAddress); // selected account\n  }\n  return undefined;\n}\n","import { analytics } from '@shared/utils/analytics';\n\nexport enum WorkerScript {\n  DecryptionWorker = 'decryption-worker.js',\n}\n\nexport function createWorker(scriptName: WorkerScript) {\n  const worker = new Worker(scriptName);\n  worker.addEventListener('error', error => {\n    void analytics?.track(`worker_error_thrown_${scriptName}`, { error });\n  });\n\n  return worker;\n}\n","import { WorkerScript, createWorker } from '../workers';\n\nconst worker = createWorker(WorkerScript.DecryptionWorker);\ninterface DeriveEncryptionKeyArgs {\n  password: string;\n  salt: string;\n}\nexport async function deriveEncryptionKey(args: DeriveEncryptionKeyArgs): Promise<string> {\n  return new Promise(resolve => {\n    const handler = (e: MessageEvent<string>) => resolve(e.data);\n    worker.addEventListener('message', handler);\n    worker.postMessage(args);\n  });\n}\n","export function generateRandomHexString() {\n  const size = 16;\n  const randomValues = [...crypto.getRandomValues(new Uint8Array(size))];\n  return randomValues.map(val => ('00' + val.toString(16)).slice(-2)).join('');\n}\n","import { bytesToHex } from '@stacks/common';\nimport { decrypt, encrypt } from '@stacks/wallet-sdk';\n\nimport { deriveEncryptionKey } from './generate-encryption-key';\nimport { generateRandomHexString } from './generate-random-hex';\n\ninterface EncryptMnemonicArgs {\n  secretKey: string;\n  password: string;\n}\nexport async function encryptMnemonic({ secretKey, password }: EncryptMnemonicArgs) {\n  const salt = generateRandomHexString();\n  const encryptionKey = await deriveEncryptionKey({ password, salt });\n  const encryptedBuffer = await encrypt(secretKey, encryptionKey);\n  return {\n    salt,\n    encryptedSecretKey: bytesToHex(encryptedBuffer),\n    encryptionKey,\n  };\n}\n\n/**\n * Decrypt an encrypted secret key. If no salt is present, then this encrypted key was\n * generated before introducing Argon2 hashing. If that is true, then\n * decrypt the secret key and re-encrypt it using an Argon2 hashed password.\n */\ninterface DecryptionMnemonic {\n  encryptedSecretKey: string;\n  password: string;\n  salt?: string;\n}\nexport async function decryptMnemonic({\n  encryptedSecretKey,\n  password,\n  salt,\n}: DecryptionMnemonic): Promise<{\n  encryptedSecretKey: string;\n  salt: string;\n  secretKey: string;\n  encryptionKey: string;\n}> {\n  if (salt) {\n    const encryptionKey = await deriveEncryptionKey({ password, salt });\n    const secretKey = await decrypt(Buffer.from(encryptedSecretKey, 'hex'), encryptionKey);\n    return {\n      secretKey,\n      encryptedSecretKey,\n      salt,\n      encryptionKey,\n    };\n  } else {\n    // if there is no salt, decrypt the secret key, then re-encrypt with an argon2 hash\n    const secretKey = await decrypt(Buffer.from(encryptedSecretKey, 'hex'), password);\n    const newEncryptedKey = await encryptMnemonic({ secretKey, password });\n    return {\n      secretKey,\n      encryptedSecretKey: newEncryptedKey.encryptedSecretKey,\n      salt: newEncryptedKey.salt,\n      encryptionKey: newEncryptedKey.encryptedSecretKey,\n    };\n  }\n}\n","import { createCounter, fibonacciGenerator } from '@leather.io/utils';\n\nconst numOfEmptyAccountsToCheck = 20;\n\ninterface AccountIndexActivityCheckHistory {\n  index: number;\n  hasActivity: boolean;\n}\n\nfunction minNumberOfAccountsNotChecked(num: number) {\n  return num < numOfEmptyAccountsToCheck;\n}\n\nfunction anyOfLastCheckedAccountsHaveActivity(arr: AccountIndexActivityCheckHistory[]) {\n  return arr.slice(arr.length - numOfEmptyAccountsToCheck).some(check => check.hasActivity);\n}\n\nfunction returnHighestIndex(arr: AccountIndexActivityCheckHistory[]) {\n  return Math.max(0, ...arr.filter(check => check.hasActivity).map(check => check.index));\n}\n\nasync function recurseUntilGeneratorDone(generator: AsyncGenerator): Promise<any> {\n  const result = await generator.next();\n  if (result.done) return result.value;\n  return recurseUntilGeneratorDone(generator);\n}\n\ninterface RecurseAccountsForActivityArgs {\n  doesAddressHaveActivityFn(index: number): Promise<boolean>;\n}\n\n/**\n * Used to recursively look for account activity. The use case is that, when\n * restoring an account, we want to know how many accounts to generate. This\n * function makes no assumption as to what consitutes an active account. It\n * takes a function that returns a boolean. If true, it means that the account\n * at the given index is considered to have activity.\n */\nexport async function recurseAccountsForActivity({\n  doesAddressHaveActivityFn,\n}: RecurseAccountsForActivityArgs): Promise<number> {\n  async function* findHighestAddressIndexExponent() {\n    const fibonacci = fibonacciGenerator(2);\n    const activity: AccountIndexActivityCheckHistory[] = [];\n\n    while (activity.length === 0 || activity[activity.length - 1].hasActivity) {\n      const index = fibonacci.next().value;\n      const hasActivity = await doesAddressHaveActivityFn(index);\n      activity.push({ index, hasActivity });\n      yield;\n    }\n    return returnHighestIndex(activity);\n  }\n\n  const knownActivityAtIndex = await recurseUntilGeneratorDone(findHighestAddressIndexExponent());\n\n  async function* checkForMostRecentAccount() {\n    const indexCounter = createCounter(knownActivityAtIndex + 1);\n    const activity: AccountIndexActivityCheckHistory[] = [];\n\n    while (\n      minNumberOfAccountsNotChecked(activity.length) ||\n      anyOfLastCheckedAccountsHaveActivity(activity)\n    ) {\n      const hasActivity = await doesAddressHaveActivityFn(indexCounter.getValue());\n      activity.push({ index: indexCounter.getValue(), hasActivity });\n      indexCounter.increment();\n      yield;\n    }\n    return returnHighestIndex(activity);\n  }\n\n  return recurseUntilGeneratorDone(checkForMostRecentAccount());\n}\n","import {\n  connectToGaiaHubWithConfig,\n  fetchWalletConfig,\n  generateWallet,\n  getHubInfo,\n} from '@stacks/wallet-sdk';\n\nimport { gaiaUrl as gaiaHubUrl } from '@shared/constants';\n\n// This function replicates behaviour  wrapped in the `restoreWalletAccounts`\n// method of wallet-sdk. It checks for BNS names on Gaia-persisted accounts,\n// resulting in a huge number of requests when called by a wallet with many\n// accounts. Here, we only care to find the number of accounts a user has\n// generated, with no other side effects.\nexport async function checkForLegacyGaiaConfigWithKnownGeneratedAccountIndex(secretKey: string) {\n  try {\n    const wallet = await generateWallet({ secretKey, password: '' });\n    const hubInfo = await getHubInfo(gaiaHubUrl);\n    const currentGaiaConfig = connectToGaiaHubWithConfig({\n      hubInfo,\n      privateKey: wallet.configPrivateKey,\n      gaiaHubUrl,\n    });\n    const resp = await fetchWalletConfig({ wallet, gaiaHubConfig: currentGaiaConfig });\n    return resp?.accounts.length ? resp.accounts.length - 1 : 0;\n  } catch (e) {\n    return 0;\n  }\n}\n","import {\n  AddressVersion,\n  createStacksPrivateKey,\n  getPublicKey,\n  publicKeyToAddress,\n} from '@stacks/transactions';\nimport { deriveStxPrivateKey } from '@stacks/wallet-sdk';\n\nimport { mnemonicToRootNode } from '@app/common/keychain/keychain';\n\nexport function getStacksAddressByIndex(secretKey: string, addressVersion: AddressVersion) {\n  return (index: number) => {\n    const accountPrivateKey = createStacksPrivateKey(\n      deriveStxPrivateKey({ rootNode: mnemonicToRootNode(secretKey) as any, index })\n    );\n    const pubKey = getPublicKey(accountPrivateKey);\n    return publicKeyToAddress(addressVersion, pubKey);\n  };\n}\n","import { AddressVersion } from '@stacks/transactions';\n\nimport {\n  type BitcoinClient,\n  type StacksClient,\n  StacksQueryPrefixes,\n  fetchNamesForAddress,\n} from '@leather.io/query';\n\nimport { decryptMnemonic, encryptMnemonic } from '@shared/crypto/mnemonic-encryption';\nimport { logger } from '@shared/logger';\nimport { defaultWalletKeyId } from '@shared/utils';\nimport { identifyUser } from '@shared/utils/analytics';\n\nimport { recurseAccountsForActivity } from '@app/common/account-restoration/account-restore';\nimport { checkForLegacyGaiaConfigWithKnownGeneratedAccountIndex } from '@app/common/account-restoration/legacy-gaia-config-lookup';\nimport { mnemonicToRootNode } from '@app/common/keychain/keychain';\nimport { queryClient } from '@app/common/persistence';\nimport { AppThunk } from '@app/store';\nimport { initalizeWalletSession } from '@app/store/session-restore';\n\nimport { getNativeSegwitMainnetAddressFromMnemonic } from '../accounts/blockchain/bitcoin/native-segwit-account.hooks';\nimport { getStacksAddressByIndex } from '../accounts/blockchain/stacks/stacks-keychain';\nimport { stxChainSlice } from '../chains/stx-chain.slice';\nimport { selectDefaultWalletKey } from '../in-memory-key/in-memory-key.selectors';\nimport { inMemoryKeySlice } from '../in-memory-key/in-memory-key.slice';\nimport { selectDefaultSoftwareKey } from './software-key.selectors';\nimport { keySlice } from './software-key.slice';\n\nfunction setWalletEncryptionPassword(args: {\n  password: string;\n  stxClient: StacksClient;\n  btcClient: BitcoinClient;\n}): AppThunk {\n  const { password, stxClient, btcClient } = args;\n\n  return async (dispatch, getState) => {\n    const secretKey = selectDefaultWalletKey(getState());\n    if (!secretKey) throw new Error('Cannot generate wallet without first having generated a key');\n\n    const { encryptedSecretKey, salt, encryptionKey } = await encryptMnemonic({\n      secretKey,\n      password,\n    });\n\n    await initalizeWalletSession(encryptionKey);\n\n    const legacyAccountActivityLookup =\n      await checkForLegacyGaiaConfigWithKnownGeneratedAccountIndex(secretKey);\n\n    async function doesStacksAddressHaveBalance(address: string) {\n      const controller = new AbortController();\n      const resp = await stxClient.getAccountBalance(address, controller.signal);\n      return Number(resp.stx.balance) > 0;\n    }\n\n    async function doesStacksAddressHaveBnsName(address: string) {\n      const controller = new AbortController();\n      const resp = await fetchNamesForAddress({\n        client: stxClient,\n        address,\n        isTestnet: false,\n        signal: controller.signal,\n      });\n      queryClient.setQueryData([StacksQueryPrefixes.GetBnsNamesByAddress, address], resp);\n      return resp.names.length > 0;\n    }\n\n    async function doesBitcoinAddressHaveBalance(address: string) {\n      const resp = await btcClient.addressApi.getUtxosByAddress(address);\n      return resp.length > 0;\n    }\n\n    // Performs a recursive check for account activity. When activity is found\n    // at a higher index than what is found on Gaia (long-term wallet users), we\n    // update the highest known account index that the wallet generates. This\n    // action is performed outside this Promise's execution, as it may be slow,\n    // and the user shouldn't have to wait before being directed to homepage.\n    logger.info('Initiating recursive account activity lookup');\n    try {\n      void recurseAccountsForActivity({\n        async doesAddressHaveActivityFn(index) {\n          const stxAddress = getStacksAddressByIndex(\n            secretKey,\n            AddressVersion.MainnetSingleSig\n          )(index);\n          const hasStxBalance = await doesStacksAddressHaveBalance(stxAddress);\n          const hasNames = await doesStacksAddressHaveBnsName(stxAddress);\n\n          const btcAddress = getNativeSegwitMainnetAddressFromMnemonic(secretKey)(index);\n          const hasBtcBalance = await doesBitcoinAddressHaveBalance(btcAddress.address!);\n          // TODO: add inscription check here also?\n          return hasStxBalance || hasNames || hasBtcBalance;\n        },\n      }).then(recursiveActivityIndex => {\n        if (recursiveActivityIndex <= legacyAccountActivityLookup) return;\n        logger.info('Found account activity at higher index', { recursiveActivityIndex });\n        dispatch(stxChainSlice.actions.restoreAccountIndex(recursiveActivityIndex));\n      });\n    } catch (e) {\n      // Errors during account restore are non-critical and can fail silently\n    }\n\n    dispatch(\n      keySlice.actions.createSoftwareWalletComplete({\n        type: 'software',\n        id: defaultWalletKeyId,\n        salt,\n        encryptedSecretKey,\n      })\n    );\n    if (legacyAccountActivityLookup !== 0)\n      dispatch(stxChainSlice.actions.restoreAccountIndex(legacyAccountActivityLookup));\n  };\n}\n\nfunction unlockWalletAction(password: string): AppThunk {\n  return async (dispatch, getState) => {\n    const currentKey = selectDefaultSoftwareKey(getState());\n    if (!currentKey) return;\n    if (currentKey.type !== 'software') return;\n    const { secretKey, encryptionKey } = await decryptMnemonic({ password, ...currentKey });\n    await initalizeWalletSession(encryptionKey);\n\n    const rootKey = mnemonicToRootNode(secretKey);\n    if (!rootKey.publicKey) throw new Error('Could not derive root key from mnemonic');\n    void identifyUser(rootKey.publicKey);\n\n    dispatch(inMemoryKeySlice.actions.setDefaultKey(secretKey));\n  };\n}\n\nexport const keyActions = { ...keySlice.actions, setWalletEncryptionPassword, unlockWalletAction };\n","import { useSelector } from 'react-redux';\n\nimport { createSelector } from '@reduxjs/toolkit';\n\nimport { initBigNumber } from '@leather.io/utils';\n\nimport { defaultWalletKeyId } from '@shared/utils';\n\nimport { initialSearchParams } from '@app/common/initial-search-params';\nimport { RootState } from '@app/store';\n\nimport { selectStacksChain } from '../chains/stx-chain.selectors';\n\nconst selectKeysSlice = (state: RootState) => state['softwareKeys'];\n\nexport const selectDefaultSoftwareKey = createSelector(\n  selectKeysSlice,\n  state => state.entities[defaultWalletKeyId]\n);\n\nexport const selectHasSecretKey = createSelector(\n  selectDefaultSoftwareKey,\n  softwareKey => !!softwareKey?.encryptedSecretKey\n);\n\nexport function useCurrentKeyDetails() {\n  return useSelector(selectDefaultSoftwareKey);\n}\n\nexport const selectCurrentAccountIndex = createSelector(selectStacksChain, state => {\n  const customAccountIndex = initialSearchParams.get('accountIndex');\n  if (customAccountIndex && initBigNumber(customAccountIndex).isInteger()) {\n    return initBigNumber(customAccountIndex).toNumber();\n  }\n  return state[defaultWalletKeyId].currentAccountIndex;\n});\n","import deepMerge from 'deepmerge';\n\nimport { logger } from '@shared/logger';\n\nimport type { initialKeysState } from '../software-keys/software-key.slice';\n\nconst hiroWalletSalt = 'stacks-wallet-salt';\nconst hiroWalletEncryptionKey = 'stacks-wallet-encrypted-key';\n\nexport function migrateVaultReducerStoreToNewStateStructure(initialState: typeof initialKeysState) {\n  const salt = localStorage.getItem(hiroWalletSalt);\n  const encryptedSecretKey = localStorage.getItem(hiroWalletEncryptionKey);\n\n  if (salt && encryptedSecretKey) {\n    logger.debug(\n      'VaultReducer generated Leather detected. Running migration to keys store structure'\n    );\n    const migratedState = {\n      ids: ['default'],\n      entities: {\n        default: {\n          type: 'software',\n          id: 'default',\n          encryptedSecretKey,\n          salt,\n        },\n      },\n    };\n    localStorage.removeItem(hiroWalletSalt);\n    localStorage.removeItem(hiroWalletEncryptionKey);\n    return deepMerge(initialState, migratedState);\n  }\n  return initialState;\n}\n","import { PayloadAction, createEntityAdapter, createSlice } from '@reduxjs/toolkit';\n\nimport { defaultWalletKeyId } from '@shared/utils';\n\nimport { migrateVaultReducerStoreToNewStateStructure } from '../utils/vault-reducer-migration';\n\ninterface KeyConfig {\n  type: 'software';\n  id: 'default';\n  encryptedSecretKey: string;\n  salt: string;\n}\nconst keyAdapter = createEntityAdapter<KeyConfig>();\n\nexport const initialKeysState = keyAdapter.getInitialState();\n\nexport const keySlice = createSlice({\n  name: 'softwareKeys',\n  initialState: migrateVaultReducerStoreToNewStateStructure(initialKeysState),\n  reducers: {\n    createSoftwareWalletComplete(state, action: PayloadAction<KeyConfig>) {\n      keyAdapter.addOne(state as any, action.payload);\n    },\n\n    signOut(state) {\n      keyAdapter.removeOne(state as any, defaultWalletKeyId);\n    },\n\n    debugKillStacks() {\n      // if (state.entities.default?.type !== 'ledger') return;\n      // state.entities.default.publicKeys = [];\n    },\n  },\n});\n","import { PayloadAction, createEntityAdapter, createSlice } from '@reduxjs/toolkit';\n\nexport interface SubmittedTransaction {\n  rawTx: string;\n  txid: string;\n}\n\nexport const submittedTransactionsAdapter = createEntityAdapter<SubmittedTransaction, string>({\n  selectId: submittedTransaction => submittedTransaction.txid,\n});\n\nconst initialSubmittedTransactionsState = submittedTransactionsAdapter.getInitialState();\n\nexport const submittedTransactionsSlice = createSlice({\n  name: 'submittedTransactions',\n  initialState: initialSubmittedTransactionsState,\n  reducers: {\n    newTransactionSubmitted(state, action: PayloadAction<SubmittedTransaction>) {\n      submittedTransactionsAdapter.addOne(state, action.payload);\n    },\n    transactionEnteredMempool(state, action: PayloadAction<string>) {\n      submittedTransactionsAdapter.removeOne(state, action.payload);\n    },\n    transactionReplacedByFee(state, action: PayloadAction<string>) {\n      submittedTransactionsAdapter.removeOne(state, action.payload);\n    },\n    clearSubmittedTransactions(state) {\n      submittedTransactionsAdapter.removeAll(state);\n    },\n  },\n});\n","import { TransactionPayload } from '@stacks/connect';\nimport { StacksNetwork } from '@stacks/network';\nimport { decodeToken } from 'jsontokens';\n\n// We need this function because the latest changes\n// to `@stacks/network` had some undesired consequence.\n// As `StacksNetwork` is a class instance, this is auto\n// serialized when being passed across `postMessage`,\n// from the developer's app, to Leather.\n// `coreApiUrl` now uses a getter, rather than a prop,\n// and `_coreApiUrl` is a private value.\n// To support both `@stacks/network` versions a dev may be using\n// we look for both possible networks defined\nexport function getCoreApiUrl(network: Pick<StacksNetwork, 'coreApiUrl'>): string {\n  if (network.coreApiUrl) return network.coreApiUrl;\n  if ((network as any)._coreApiUrl) return (network as any)._coreApiUrl;\n  return '';\n}\n\nexport function getPayloadFromToken(requestToken: string) {\n  const token = decodeToken(requestToken);\n  return token.payload as unknown as TransactionPayload;\n}\n","import { useMemo } from 'react';\n\nimport { getPayloadFromToken } from '@shared/utils/requests';\n\nimport { initialSearchParams } from '@app/common/initial-search-params';\n\nexport function useTransactionRequest() {\n  return initialSearchParams.get('request');\n}\n\nexport function useTransactionRequestState() {\n  const requestToken = useTransactionRequest();\n\n  return useMemo(() => {\n    if (!requestToken) return null;\n    return getPayloadFromToken(requestToken);\n  }, [requestToken]);\n}\n","import { memo } from 'react';\n\nimport { Box, CircleProps } from 'leather-styles/jsx';\n\nimport { DynamicColorCircle } from '@leather.io/ui';\n\nconst getAccountNumber = (index: number) => {\n  // Always return account number in the Account Circle\n  return String(index + 1);\n};\n\ninterface AccountAvatarProps extends CircleProps {\n  name: string;\n  publicKey: string;\n  index: number;\n}\nexport const AccountAvatar = memo(({ name, publicKey, index, ...props }: AccountAvatarProps) => {\n  const gradient = publicKey + index.toString();\n  const text = getAccountNumber(index);\n\n  return (\n    <DynamicColorCircle sizeParam=\"40\" value={gradient} {...props}>\n      <Box position=\"absolute\">{text}</Box>\n    </DynamicColorCircle>\n  );\n});\n","import { forwardRef } from 'react';\n\nimport * as RadixTooltip from '@radix-ui/react-tooltip';\nimport { css } from 'leather-styles/css';\n\nfunction Root(props: RadixTooltip.TooltipProps) {\n  return <RadixTooltip.Root {...props} />;\n}\n\nfunction Portal(props: RadixTooltip.TooltipPortalProps) {\n  return <RadixTooltip.Portal {...props} />;\n}\n\nconst Trigger: typeof RadixTooltip.Trigger = forwardRef((props, ref) => (\n  <RadixTooltip.Trigger ref={ref} {...props} />\n));\n\nconst Content: typeof RadixTooltip.Content = forwardRef(({ className, ...props }, ref) => (\n  <RadixTooltip.Content className={`${defaultContentStyles} ${className}`} ref={ref} {...props} />\n));\n\nconst Arrow: typeof RadixTooltip.Arrow = forwardRef(({ className, ...props }, ref) => (\n  <RadixTooltip.Arrow\n    className={`${defaultTooltipArrowStyles} ${className}`}\n    ref={ref}\n    {...props}\n  />\n));\n\nexport const Tooltip = {\n  Root,\n  Portal,\n  Trigger,\n  Content,\n  Arrow,\n};\n\nconst defaultContentStyles = css({\n  bg: 'ink.action-primary-default',\n  borderRadius: 'xs',\n  px: 'space.03',\n  py: 'space.02',\n  textStyle: 'body.02',\n  animationDuration: '400ms',\n  animationTimingFunction: 'cubic-bezier(0.16, 1, 0.3, 1)',\n  willChange: 'transform, opacity',\n  maxWidth: '250px',\n  textAlign: 'center',\n  wordWrap: 'break-word',\n  color: 'ink.background-primary',\n  zIndex: 4,\n\n  \"&[data-state='delayed-open'][data-side='top']\": {\n    animationName: 'slideDownAndFade',\n  },\n  \"&[data-state='delayed-open'][data-side='right']\": {\n    animationName: 'slideLeftAndFade',\n  },\n  \"&[data-state='delayed-open'][data-side='bottom']\": {\n    animationName: 'slideUpAndFade',\n  },\n  \"&[data-state='delayed-open'][data-side='left']\": {\n    animationName: 'slideRightAndFade',\n  },\n});\n\nconst defaultTooltipArrowStyles = css({\n  fill: 'ink.action-primary-default',\n});\n","import { ReactNode } from 'react';\n\nimport * as RadixTooltip from '@radix-ui/react-tooltip';\n\nimport { Tooltip } from './tooltip';\n\ninterface BasicTooltipProps {\n  children: ReactNode;\n  label?: string | ReactNode;\n  disabled?: boolean;\n  side?: RadixTooltip.TooltipContentProps['side'];\n  asChild?: boolean;\n}\n\nexport function BasicTooltip({ children, label, disabled, side, asChild }: BasicTooltipProps) {\n  const isDisabled = !label || disabled;\n  return (\n    <Tooltip.Root>\n      <Tooltip.Trigger asChild={asChild}>{children}</Tooltip.Trigger>\n      <Tooltip.Portal>\n        <Tooltip.Content hidden={isDisabled} side={side} sideOffset={5}>\n          {label}\n          <Tooltip.Arrow />\n        </Tooltip.Content>\n      </Tooltip.Portal>\n    </Tooltip.Root>\n  );\n}\n","import {\n  AuthenticationResponseMessage,\n  ExternalMethods,\n  MESSAGE_SOURCE,\n} from '@shared/message-types';\n\ninterface FormatAuthResponseArgs {\n  request: string;\n  response: string;\n}\nexport function formatAuthResponse({\n  request,\n  response,\n}: FormatAuthResponseArgs): AuthenticationResponseMessage {\n  return {\n    source: MESSAGE_SOURCE,\n    payload: {\n      authenticationRequest: request,\n      authenticationResponse: response,\n    },\n    method: ExternalMethods.authenticationResponse,\n  };\n}\n","import { DecodedAuthRequest } from '@shared/models/decoded-auth-request';\nimport { closeWindow } from '@shared/utils';\nimport { analytics } from '@shared/utils/analytics';\nimport { isValidUrl } from '@shared/utils/validate-url';\n\nimport { formatAuthResponse } from './finalize-auth-reaponse-format';\n\ninterface FinalizeAuthParams {\n  decodedAuthRequest: DecodedAuthRequest;\n  authResponse: string;\n  authRequest: string;\n  requestingOrigin: string;\n  tabId: number;\n}\n\n/**\n * Call this function at the end of onboarding.\n *\n * We fetch the ID of the tab that originated this request from a data store.\n * Then, we send a message back to that tab, which is handled by the content script\n * of the extension.\n *\n */\nexport function finalizeAuthResponse({\n  decodedAuthRequest,\n  authRequest,\n  authResponse,\n  requestingOrigin,\n  tabId,\n}: FinalizeAuthParams) {\n  const dangerousUri = decodedAuthRequest.redirect_uri;\n  if (!isValidUrl(dangerousUri)) {\n    throw new Error('Cannot proceed with malicious url');\n  }\n  const redirectUri = new URL(dangerousUri);\n  const origin = new URL(requestingOrigin);\n\n  if (redirectUri.hostname !== origin.hostname) {\n    void analytics?.track('auth_response_with_illegal_redirect_uri');\n    throw new Error('Cannot redirect to a different domain than the one requesting');\n  }\n\n  const responseMessage = formatAuthResponse({ request: authRequest, response: authResponse });\n  chrome.tabs.sendMessage(tabId, responseMessage);\n  closeWindow();\n}\n","export const gaiaUrl = 'https://hub.blockstack.org';\n\nexport const ZERO_INDEX = 0;\n\nexport const GITHUB_ORG = 'leather-io';\nexport const GITHUB_REPO = 'extension';\n\nexport const HIRO_EXPLORER_URL = 'https://explorer.hiro.so';\n\nexport const ORD_IO_URL = 'https://ord.io';\n","import { sha256 } from '@noble/hashes/sha256';\nimport { bytesToHex, utf8ToBytes } from '@noble/hashes/utils';\nimport { HDKey } from '@scure/bip32';\n\nimport { makeAccountIndexDerivationPathFactory } from '@leather.io/stacks';\n\nexport const DATA_DERIVATION_PATH = `m/888'/0'`;\n\nexport function deriveStacksSalt(keychain: HDKey) {\n  if (keychain.depth !== 2)\n    throw new Error('Stacks \"salt\" must be derived from the data derivation path');\n  const publicKeyHex = utf8ToBytes(bytesToHex(keychain.publicKey!));\n  return bytesToHex(sha256(publicKeyHex));\n}\n\nconst stxIdentityDerivationWithAccount = `m/888'/0'/{account}'`;\n\nexport const getIdentityDerivationPath = makeAccountIndexDerivationPathFactory(\n  stxIdentityDerivationWithAccount\n);\n","export const BRANCH = process.env.GITHUB_REF;\nexport const BRANCH_NAME = process.env.GITHUB_HEAD_REF ?? process.env.BRANCH_NAME;\nexport const PR_NUMBER = process.env.PR_NUMBER;\nexport const COINBASE_APP_ID = process.env.COINBASE_APP_ID ?? '';\nexport const COMMIT_SHA = process.env.COMMIT_SHA;\n// ts-unused-exports:disable-next-line\nexport const IS_DEV_ENV = process.env.WALLET_ENVIRONMENT === 'development';\nexport const IS_TEST_ENV = process.env.WALLET_ENVIRONMENT === 'testing';\nexport const MOONPAY_API_KEY = process.env.MOONPAY_API_KEY ?? '';\nexport const SEGMENT_WRITE_KEY = process.env.SEGMENT_WRITE_KEY ?? '';\nexport const SENTRY_DSN = process.env.SENTRY_DSN ?? '';\nexport const TRANSAK_API_KEY = process.env.TRANSAK_API_KEY ?? '';\nexport const WALLET_ENVIRONMENT = process.env.WALLET_ENVIRONMENT ?? 'unknown';\n\n// ts-unused-exports:disable-next-line\nexport const SWAP_ENABLED = process.env.SWAP_ENABLED === 'true';\nexport const BITFLOW_API_HOST = process.env.BITFLOW_API_HOST ?? '';\nexport const BITFLOW_API_KEY = process.env.BITFLOW_API_KEY ?? '';\nexport const BITFLOW_STACKS_API_HOST = process.env.BITFLOW_STACKS_API_HOST ?? '';\nexport const BITFLOW_READONLY_CALL_API_HOST = process.env.BITFLOW_READONLY_CALL_API_HOST ?? '';\n","import type pino from 'pino';\n\ntype LogItem = [ts: string, level: string, message: string, ...other: any];\n\nconst maxLogLength = 2_000;\n\nconst logStorageKey = 'logs';\n\nfunction getStorageAdapter() {\n  return chrome.storage.local;\n}\n\nfunction truncateLogToMaxSize(logs: LogItem[]) {\n  if (logs.length <= maxLogLength) return logs;\n  return logs.slice(0, maxLogLength);\n}\n\nexport async function getLogSizeInBytes(): Promise<number> {\n  return new Promise(resolve =>\n    getStorageAdapter().getBytesInUse([logStorageKey], bytes => resolve(bytes))\n  );\n}\n\nexport async function clearBrowserStorageLogs(): Promise<void> {\n  return new Promise(resolve => getStorageAdapter().set({ [logStorageKey]: [] }, () => resolve()));\n}\n\nexport async function getLogsFromBrowserStorage(): Promise<LogItem[]> {\n  return new Promise(resolve =>\n    getStorageAdapter().get([logStorageKey], ({ logs }) => resolve(Array.isArray(logs) ? logs : []))\n  );\n}\n\nexport async function copyLogsToClipboard(): Promise<void> {\n  const logs = await getLogsFromBrowserStorage();\n  await navigator.clipboard.writeText(JSON.stringify(logs, null, 2));\n}\n\nexport async function appendLogToBrowserStorage(logEvent: pino.LogEvent): Promise<LogItem> {\n  const logs = await getLogsFromBrowserStorage();\n  const { ts, level, messages } = logEvent;\n  const formattedLogItem = [new Date(ts).toISOString(), level.label, ...messages] as LogItem;\n  return new Promise(resolve =>\n    getStorageAdapter().set(\n      { [logStorageKey]: truncateLogToMaxSize([formattedLogItem, ...logs]) },\n      () => resolve(formattedLogItem)\n    )\n  );\n}\n","import pino from 'pino';\nimport { Subject, defer, mergeMap } from 'rxjs';\n\nimport { IS_TEST_ENV } from './environment';\nimport { appendLogToBrowserStorage } from './logger-storage';\n\nconst logs$ = new Subject<pino.LogEvent>();\n\nconst maximumConcurrentLogAppends = 1;\n\nlogs$\n  // `chrome.storage` has no append API. Appending logs requires reading the\n  // whole log, and writing it back. This is expensive, but not a problem when\n  // logs are periodic. Though, when multiple logs happen quickly, we need to\n  // queue appends, otherwise one append might get overwritten by the other.\n  // Here we defer the promise, and only handle a single concurrent append at a\n  // given time.\n  .pipe(mergeMap(log => defer(() => appendLogToBrowserStorage(log)), maximumConcurrentLogAppends))\n  .subscribe();\n\nconst pinoLogger = pino({\n  enabled: !IS_TEST_ENV,\n  level: 'info',\n  browser: {\n    asObject: false,\n    transmit: {\n      level: 'info',\n      send(_level, logEvent) {\n        if (!chrome) return;\n        logs$.next(logEvent);\n      },\n    },\n  },\n});\n\ntype LoggerFnApi = (msg: string, ...args: any[]) => void;\n\n// Pino offers a handful of APIs to log messages. Here we enforce a single one,\n// described by `LoggerFnApi`\nexport const logger: Record<'debug' | 'info' | 'warn' | 'error', LoggerFnApi> = {\n  debug(...args) {\n    pinoLogger.debug(...args);\n  },\n  info(...args) {\n    pinoLogger.info(...args);\n  },\n  warn(...args) {\n    pinoLogger.warn(...args);\n  },\n  error(...args) {\n    pinoLogger.error(...args);\n  },\n};\n","import {\n  FinishedTxPayload,\n  PsbtData,\n  SignatureData,\n  SponsoredFinishedTxPayload,\n} from '@stacks/connect';\nimport { PublicProfile } from '@stacks/profile';\n\nexport const MESSAGE_SOURCE = 'stacks-wallet' as const;\n\nexport const CONTENT_SCRIPT_PORT = 'content-script' as const;\n\nexport enum ExternalMethods {\n  transactionRequest = 'hiroWalletTransactionRequest',\n  transactionResponse = 'hiroWalletTransactionResponse',\n  authenticationRequest = 'hiroWalletAuthenticationRequest',\n  authenticationResponse = 'hiroWalletAuthenticationResponse',\n  signatureRequest = 'hiroWalletSignatureRequest',\n  signatureResponse = 'hiroWalletSignatureResponse',\n  structuredDataSignatureRequest = 'hiroWalletStructuredDataSignatureRequest',\n  structuredDataSignatureResponse = 'hiroWalletStructuredDataSignatureResponse',\n  profileUpdateRequest = 'hiroWalletProfileUpdateRequest',\n  profileUpdateResponse = 'hiroWalletProfileUpdateResponse',\n  psbtRequest = 'hiroWalletPsbtRequest',\n  psbtResponse = 'hiroWalletPsbtResponse',\n}\n\nexport enum InternalMethods {\n  RequestDerivedStxAccounts = 'RequestDerivedStxAccounts',\n  OriginatingTabClosed = 'OriginatingTabClosed',\n  AccountChanged = 'AccountChanged',\n}\n\nexport type ExtensionMethods = ExternalMethods | InternalMethods;\n\ninterface BaseMessage {\n  source: typeof MESSAGE_SOURCE;\n  method: ExtensionMethods;\n}\n\n/**\n * Content Script <-> Background Script\n */\nexport interface Message<Methods extends ExtensionMethods, Payload = undefined>\n  extends BaseMessage {\n  method: Methods;\n  payload: Payload;\n}\n\ntype AuthenticationRequestMessage = Message<ExternalMethods.authenticationRequest, string>;\n\nexport type AuthenticationResponseMessage = Message<\n  ExternalMethods.authenticationResponse,\n  {\n    authenticationRequest: string;\n    authenticationResponse: string;\n  }\n>;\n\ntype SignatureRequestMessage = Message<ExternalMethods.signatureRequest, string>;\n\nexport type SignatureResponseMessage = Message<\n  ExternalMethods.signatureResponse,\n  {\n    signatureRequest: string;\n    signatureResponse: SignatureData | string;\n  }\n>;\n\ntype StructuredDataSignatureRequestMessage = Message<\n  ExternalMethods.structuredDataSignatureRequest,\n  string\n>;\n\ntype ProfileUpdateRequestMessage = Message<ExternalMethods.profileUpdateRequest, string>;\n\nexport type ProfileUpdateResponseMessage = Message<\n  ExternalMethods.profileUpdateResponse,\n  {\n    profileUpdateRequest: string;\n    profileUpdateResponse: PublicProfile | string;\n  }\n>;\n\ntype PsbtRequestMessage = Message<ExternalMethods.psbtRequest, string>;\n\nexport type PsbtResponseMessage = Message<\n  ExternalMethods.psbtResponse,\n  {\n    psbtRequest: string;\n    psbtResponse: PsbtData | string;\n  }\n>;\n\ntype TransactionRequestMessage = Message<ExternalMethods.transactionRequest, string>;\n\nexport type TxResult = SponsoredFinishedTxPayload | FinishedTxPayload;\n\nexport type TransactionResponseMessage = Message<\n  ExternalMethods.transactionResponse,\n  {\n    transactionRequest: string;\n    transactionResponse: TxResult | string;\n  }\n>;\n\nexport type LegacyMessageFromContentScript =\n  | AuthenticationRequestMessage\n  | TransactionRequestMessage\n  | SignatureRequestMessage\n  | StructuredDataSignatureRequestMessage\n  | ProfileUpdateRequestMessage\n  | PsbtRequestMessage;\n\nexport type LegacyMessageToContentScript =\n  | AuthenticationResponseMessage\n  | TransactionResponseMessage\n  | SignatureResponseMessage\n  | ProfileUpdateResponseMessage\n  | PsbtResponseMessage;\n","export enum RouteUrls {\n  // Onboarding routes\n  Onboarding = '/get-started',\n  BackUpSecretKey = '/back-up-secret-key',\n  SetPassword = '/set-password',\n  SignIn = '/sign-in',\n\n  // Ledger routes\n  ConnectLedger = 'connect-your-ledger',\n  ConnectLedgerError = 'ledger-connection-error',\n  ConnectLedgerSuccess = 'successfully-connected-your-ledger',\n  DeviceBusy = 'please-wait',\n  AwaitingDeviceUserAction = 'awaiting-approval',\n  LedgerDisconnected = 'your-ledger-disconnected',\n  LedgerOperationRejected = 'action-rejected',\n  LedgerPublicKeyMismatch = 'wrong-ledger-device',\n  LedgerDevicePayloadInvalid = 'ledger-payload-invalid',\n  LedgerUnsupportedBrowser = 'unsupported-browser',\n  LedgerOutdatedAppWarning = 'outdated-app-warning',\n  LedgerBroadcastError = 'transaction-broadcast-error',\n  ConnectLedgerStart = 'connect-ledger',\n\n  // Active wallet routes\n  Home = '/',\n  AddNetwork = '/add-network',\n  EditNetwork = '/edit-network',\n  Fund = '/fund/:currency',\n  FundChooseCurrency = '/fund-choose-currency',\n  IncreaseStxFee = '/increase-fee/stx/:txid',\n  IncreaseBtcFee = '/increase-fee/btc',\n  Send = '/send-transaction',\n  ViewSecretKey = '/view-secret-key',\n\n  // nested routes must have relative paths\n  Activity = '/activity',\n  Receive = 'receive',\n  ReceiveStx = 'receive/stx',\n  ReceiveBtc = 'receive/btc',\n  ReceiveBtcStamp = 'receive/btc-stamp',\n  ReceiveCollectible = 'receive/collectible',\n  ReceiveCollectibleOrdinal = 'receive/collectible/ordinal',\n\n  // Locked wallet route\n  Unlock = '/unlock',\n\n  // Modal routes\n  EditNonce = 'edit-nonce',\n  SignOutConfirm = 'sign-out',\n  RetrieveTaprootFunds = 'retrieve-taproot-funds',\n\n  // Send crypto asset routes\n  SendCryptoAsset = '/send',\n  SendCryptoAssetForm = '/send/:symbol',\n  SendSip10Form = '/send/:symbol/:contractId',\n  SendCryptoAssetFormRecipientAccounts = 'recipient-accounts',\n  SendCryptoAssetFormRecipientBns = 'recipient-bns',\n  SendBtcChooseFee = '/send/btc/choose-fee',\n  SendBtcError = '/send/btc/error',\n  SendBtcConfirmation = '/send/btc/confirm',\n  SendBtcDisabled = '/send/btc/disabled',\n  SendStxConfirmation = '/send/stx/confirm',\n  SendStacksSip10Confirmation = '/send/:symbol/confirm',\n  SentBtcTxSummary = '/sent/btc/:txId',\n  SentStxTxSummary = '/sent/stx/:txId',\n\n  // Send ordinal inscriptions\n  SendOrdinalInscription = 'send/ordinal-inscription',\n  SendOrdinalInscriptionChooseFee = 'choose-fee',\n  SendOrdinalInscriptionReview = 'review',\n  SendOrdinalInscriptionSent = 'sent',\n  SendOrdinalInscriptionError = 'error',\n\n  // Swap routes\n  Swap = '/swap/:base/:quote?',\n  SwapAssetSelectBase = 'select-base',\n  SwapAssetSelectQuote = 'select-quote',\n  SwapError = '/swap/error',\n  SwapReview = '/swap/:base/:quote/review',\n\n  // Legacy request routes\n  ProfileUpdateRequest = '/update-profile',\n  PsbtRequest = '/psbt',\n  SignatureRequest = '/signature',\n  TransactionRequest = '/transaction',\n  TransactionBroadcastError = 'broadcast-error',\n\n  // Request routes bitcoin\n  RpcGetAddresses = '/get-addresses',\n  RpcSignPsbt = '/sign-psbt',\n  RpcSignPsbtSummary = '/sign-psbt/summary',\n  RpcSendTransfer = '/send-transfer',\n  RpcSendTransferChooseFee = '/send-transfer/choose-fee',\n  RpcSendTransferConfirmation = '/send-transfer/confirm',\n  RpcSendTransferSummary = '/send-transfer/summary',\n  RpcSignBip322Message = '/sign-bip322-message',\n  RpcStacksSignature = '/sign-stacks-message',\n\n  // Popup routes\n  ChooseAccount = '/choose-account',\n\n  // Shared legacy and rpc request routes\n  RequestError = '/request-error',\n  UnauthorizedRequest = '/unauthorized-request',\n\n  // Request routes stacks\n  RpcSignStacksTransaction = '/sign-stacks-transaction',\n}\n","import { BtcKitMethodMap, ExtractErrorResponse, ExtractSuccessResponse } from '@btckit/types';\n\nimport type { ValueOf } from '@leather.io/models';\n\nimport { SignStacksTransaction } from '@shared/rpc/methods/sign-stacks-transaction';\n\nimport { Open } from './methods/open';\nimport { SignPsbt } from './methods/sign-psbt';\nimport { SignStacksMessage } from './methods/sign-stacks-message';\nimport { SupportedMethods } from './methods/supported-methods';\n\n// Supports BtcKit methods, as well as custom Leather methods\nexport type WalletMethodMap = BtcKitMethodMap &\n  Open &\n  SupportedMethods &\n  SignPsbt &\n  SignStacksTransaction &\n  SignStacksMessage;\n\nexport type WalletRequests = ValueOf<WalletMethodMap>['request'];\nexport type WalletResponses = ValueOf<WalletMethodMap>['response'];\n\nexport type WalletMethodNames = keyof WalletMethodMap;\n\nexport function makeRpcSuccessResponse<T extends WalletMethodNames>(\n  _method: T,\n  response: Omit<ExtractSuccessResponse<WalletMethodMap[T]['response']>, 'jsonrpc'>\n): WalletMethodMap[T]['response'] {\n  // typecasting as there's a error stating jsonrpc prop is already there\n  return { jsonrpc: '2.0', ...response } as WalletMethodMap[T]['response'];\n}\n\nexport function makeRpcErrorResponse<T extends WalletMethodNames>(\n  _method: T,\n  response: Omit<ExtractErrorResponse<WalletMethodMap[T]['response']>, 'jsonrpc'>\n) {\n  return { jsonrpc: '2.0', ...response } as WalletMethodMap[T]['response'];\n}\n","import {\n  ClarityValue,\n  StringAsciiCV,\n  TupleCV,\n  UIntCV,\n  deserializeCV,\n  serializeCV,\n} from '@stacks/transactions';\n\nexport type SignedMessageType = 'utf8' | 'structured';\n\nexport type StructuredMessageDataDomain = TupleCV<{\n  name: StringAsciiCV;\n  version: StringAsciiCV;\n  'chain-id': UIntCV;\n}>;\n\ninterface AbstractUnsignedMessage {\n  messageType: SignedMessageType;\n}\n\ninterface UnsignedMessageUtf8 extends AbstractUnsignedMessage {\n  messageType: 'utf8';\n  message: string;\n}\n\nexport interface UnsignedMessageStructured extends AbstractUnsignedMessage {\n  messageType: 'structured';\n  message: ClarityValue;\n  domain: StructuredMessageDataDomain;\n}\n\ninterface SerializedUnsignedMessageStructured extends AbstractUnsignedMessage {\n  messageType: 'structured';\n  message: Uint8Array;\n  domain: Uint8Array;\n}\n\nexport type UnsignedMessage = UnsignedMessageUtf8 | UnsignedMessageStructured;\n\nexport function isStructuredMessageType(\n  messageType: SignedMessageType\n): messageType is 'structured' {\n  return messageType === 'structured';\n}\n\nexport function isUtf8MessageType(messageType: SignedMessageType): messageType is 'utf8' {\n  return messageType === 'utf8';\n}\n\nexport function isSignableMessageType(messageType: unknown): messageType is SignedMessageType {\n  return typeof messageType === 'string' && ['utf8', 'structured'].includes(messageType);\n}\n\ninterface WhenSignableMessageOfType<T> {\n  utf8(message: string): T;\n  structured(domain: StructuredMessageDataDomain, message: ClarityValue): T;\n}\nexport function whenSignableMessageOfType(msg: UnsignedMessage) {\n  return <T>({ utf8, structured }: WhenSignableMessageOfType<T>) => {\n    if (msg.messageType === 'utf8') return utf8(msg.message);\n    return structured(msg.domain, msg.message);\n  };\n}\n\nexport function toSerializableUnsignedMessage(\n  unsignedMessage: UnsignedMessage\n): UnsignedMessageUtf8 | SerializedUnsignedMessageStructured {\n  if (unsignedMessage.messageType === 'utf8') return unsignedMessage;\n  return {\n    messageType: 'structured',\n    message: serializeCV(unsignedMessage.message),\n    domain: serializeCV(unsignedMessage.domain),\n  };\n}\n\nexport function deserializeUnsignedMessage(\n  serialisedUnsignedMessage: UnsignedMessageUtf8 | SerializedUnsignedMessageStructured\n): UnsignedMessage {\n  if (serialisedUnsignedMessage.messageType === 'utf8') return serialisedUnsignedMessage;\n  return {\n    messageType: 'structured',\n    message: deserializeCV(serialisedUnsignedMessage.message),\n    domain: deserializeCV(serialisedUnsignedMessage.domain),\n  };\n}\n","import { PersistConfig, createMigrate, getStoredState } from 'redux-persist';\nimport autoMergeLevel2 from 'redux-persist/lib/stateReconciler/autoMergeLevel2';\n\nimport { makeStxDerivationPath } from '@leather.io/stacks';\n\nimport { defaultWalletKeyId } from '@shared/utils';\n\nimport type { RootState } from '@app/store';\n\nimport { analytics } from '../utils/analytics';\n\nexport async function clearChromeStorage(): Promise<void> {\n  return new Promise(resolve => chrome.storage.local.clear(resolve));\n}\n\nconst driverMap = new WeakMap();\nconst runtimeMap = new WeakMap();\n\nclass ExtensionStorage {\n  constructor(driver: any, runtime: any) {\n    driverMap.set(this, driver);\n    runtimeMap.set(this, runtime);\n  }\n\n  getDriver(): chrome.storage.StorageArea {\n    return driverMap.get(this);\n  }\n\n  hasError() {\n    return !!this.getError();\n  }\n\n  getError(): string | undefined {\n    return runtimeMap.get(this).lastError;\n  }\n\n  setItem(key: string, item: any) {\n    return new Promise((resolve, reject) => {\n      this.getDriver().set({ [key]: item }, () => {\n        if (this.hasError()) {\n          return reject(this.getError());\n        }\n        return resolve(true);\n      });\n    });\n  }\n\n  getItem(key: string) {\n    return new Promise((resolve, reject) => {\n      this.getDriver().get(key, (response: any) => {\n        if (this.hasError()) {\n          return reject(this.getError());\n        }\n        return resolve(response[key]);\n      });\n    });\n  }\n\n  removeItem(key: string): Promise<any> {\n    return new Promise((resolve, reject) => {\n      this.getDriver().remove(key, () => {\n        if (this.hasError()) {\n          return reject(this.getError());\n        }\n        return resolve(true);\n      });\n    });\n  }\n}\nconst storage = new ExtensionStorage(chrome.storage.local, chrome.runtime);\n\n// Previously we used redux-persist's serialization feature. As `chrome.storage`\n// doesn't require data to be serialized, we can disable that feature, however\n// it requires a migration.\n// Disabling it has a few benefits:\n// - We rely less on redux-persist's implementation details, such as to parse the store\n// - We can more easily read store data in the background script\n// - We can more easily declare default wallet state for use in tests\nconst legacyPersistConfig: PersistConfig<RootState> = {\n  key: 'root',\n  version: 1,\n  storage,\n  serialize: true,\n  whitelist: ['analytics', 'chains', 'keys', 'networks', 'onboarding', 'settings'],\n};\n\nasync function migrateToUsingNoSerialization() {\n  const storageVal = (await new Promise(resolve =>\n    chrome.storage.local.get(['persist:root'], resolve)\n  )) as any;\n\n  if (!storageVal) return undefined;\n\n  const store = storageVal['persist:root'];\n\n  if (typeof store === 'string') {\n    void analytics.track('redux_persist_migration_to_no_serialization');\n    return getStoredState(legacyPersistConfig);\n  }\n\n  return storage;\n}\n\nfunction processStacksLedgerKeys(stacksKeys: any) {\n  const newStacksKeys = stacksKeys.entities.default.publicKeys.reduce(\n    (acc: { ids: string[]; entities: Record<string, any> }, item: any, index: number) => {\n      const path = makeStxDerivationPath(index);\n      const id = path.replace('m', defaultWalletKeyId);\n\n      acc.ids.push(id);\n      acc.entities[id] = {\n        ...item,\n        path,\n        id,\n        walletId: 'default',\n        targetId: '',\n      };\n\n      return acc;\n    },\n    { ids: [], entities: {} }\n  );\n\n  return newStacksKeys;\n}\n\nasync function migrateToRenameKeysStoreModule(state: Promise<any>) {\n  const resolvedState = await Promise.resolve(state);\n\n  const newStore = {\n    ...resolvedState,\n    softwareKeys: resolvedState.keys,\n    ledger: {\n      ...resolvedState.ledger,\n    },\n  };\n\n  // add stacks ledger keys to new place\n  if (resolvedState.keys?.entities.default?.type === 'ledger') {\n    newStore.ledger = {\n      ...resolvedState.ledger,\n      stacks: processStacksLedgerKeys(resolvedState.keys),\n    };\n  }\n\n  // add default bitcoin ledger state\n  if (!newStore.ledger.bitcoin) {\n    newStore.ledger.bitcoin = {\n      ids: [],\n      entities: {},\n    };\n  }\n\n  // add default stacks ledger state\n  if (!newStore.ledger.stacks) {\n    newStore.ledger.stacks = {\n      ids: [],\n      entities: {},\n    };\n  }\n\n  // remove old keys store\n  Reflect.deleteProperty(newStore, 'keys');\n\n  return newStore;\n}\n\ninterface UntypedDeserializeOption {\n  deserialize?: boolean;\n}\nexport const persistConfig: PersistConfig<RootState> & UntypedDeserializeOption = {\n  key: 'root',\n  stateReconciler: autoMergeLevel2,\n  version: 2,\n  storage,\n  serialize: false,\n  migrate: createMigrate({\n    0: async () => {\n      return migrateToUsingNoSerialization();\n    },\n    2: async (state: any) => {\n      return migrateToRenameKeysStoreModule(state);\n    },\n    debug: true,\n  } as any),\n  deserialize: false,\n  whitelist: [\n    'analytics',\n    'chains',\n    'ordinals',\n    'softwareKeys',\n    'appPermissions',\n    'ledger',\n    'networks',\n    'onboarding',\n    'settings',\n    'manageTokens',\n  ],\n};\n","import { delay } from '@leather.io/utils';\n\nimport { logger } from './logger';\n\nexport const defaultWalletKeyId = 'default';\n\nexport function closeWindow() {\n  if (process.env.DEBUG_PREVENT_WINDOW_CLOSE === 'true') {\n    logger.warn('Prevented window close with flag DEBUG_PREVENT_WINDOW_CLOSE');\n    return;\n  }\n  // We prevent `window.close()` directly as to allow for debugging helper\n  // eslint-disable-next-line no-restricted-properties\n  window.close();\n}\n\nexport function createDelay(ms: number) {\n  return async () => delay(ms);\n}\n","import React from 'react';\nimport {\n  createRoutesFromChildren,\n  matchRoutes,\n  useLocation,\n  useNavigationType,\n} from 'react-router-dom';\n\nimport { ripemd160 } from '@noble/hashes/ripemd160';\nimport { sha256 } from '@noble/hashes/sha256';\nimport { base58 } from '@scure/base';\nimport { AnalyticsBrowser } from '@segment/analytics-next';\nimport { feedbackIntegration } from '@sentry/browser';\nimport * as Sentry from '@sentry/react';\nimport { token } from 'leather-styles/tokens';\n\nimport {\n  IS_TEST_ENV,\n  SEGMENT_WRITE_KEY,\n  SENTRY_DSN,\n  WALLET_ENVIRONMENT,\n} from '@shared/environment';\n\nexport const analytics = new AnalyticsBrowser();\n\nexport function decorateAnalyticsEventsWithContext(\n  getEventContextProperties: () => Record<string, unknown>\n) {\n  void analytics.ready(\n    () =>\n      void analytics.addSourceMiddleware(({ payload, next }) => {\n        Object.entries(getEventContextProperties()).forEach(([key, value]) => {\n          payload.obj.context = payload.obj.context || {};\n          payload.obj.context.ip = '0.0.0.0';\n          payload.obj.properties = payload.obj.properties || {};\n          payload.obj.properties[key] = value;\n        });\n        next(payload);\n      })\n  );\n}\n\nexport function initAnalytics() {\n  return analytics.load(\n    { writeKey: SEGMENT_WRITE_KEY },\n    {\n      integrations: {\n        'Segment.io': {\n          deliveryStrategy: {\n            strategy: 'batching',\n            config: {\n              size: 10,\n              timeout: 5000,\n            },\n          },\n        },\n      },\n    }\n  );\n}\n\n// Used to create a unique identifier for a user's key in base58.\n// K = ripemd160(sha256(publicKey))[:8]\nexport function deriveAnalyticsIdentifier(publicKey: Uint8Array) {\n  return base58.encode(ripemd160(sha256(publicKey)).slice(0, 8));\n}\n\nexport async function identifyUser(publicKey: Uint8Array) {\n  return analytics.identify(deriveAnalyticsIdentifier(publicKey));\n}\n\nconst sentryFeedback = feedbackIntegration({\n  colorScheme: 'system',\n  isEmailRequired: false,\n  buttonLabel: 'Give feedback',\n  formTitle: 'Give feedback',\n  autoInject: false,\n  showEmail: false,\n  showName: false,\n  showBranding: false,\n  messageLabel: 'How can we improve Leather?',\n  enableScreenshot: false,\n  submitButtonLabel: 'Send feedback',\n  messagePlaceholder:\n    'This is not a support tool. To get help, follow the link in the main menu on the homepage.',\n  successMessageText: 'Thanks for helping make Leather better',\n  themeDark: {\n    background: token('colors.ink.background-primary'),\n    inputOutlineFocus: token('colors.ink.border-transparent'),\n    submitBackground: token('colors.ink.component-background-default'),\n    submitBackgroundHover: token('colors.ink.component-background-hover'),\n    submitOutlineFocus: token('colors.ink.border-transparent'),\n    submitBorder: token('colors.ink.component-background-default'),\n    cancelBackground: token('colors.colorPalette.action-primary-default'),\n    cancelBackgroundHover: token('colors.colorPalette.action-primary-hover'),\n  },\n  themeLight: {\n    submitBackground: token('colors.ink.text-primary'),\n    submitBackgroundHover: token('colors.ink.text-primary'),\n    submitOutlineFocus: token('colors.ink.text-primary'),\n  },\n});\n\nexport function initSentry() {\n  if (IS_TEST_ENV || !SENTRY_DSN) return;\n\n  Sentry.init({\n    dsn: SENTRY_DSN,\n    tracesSampleRate: 0.5,\n    profilesSampleRate: 0.25,\n    integrations: [\n      Sentry.browserTracingIntegration({}),\n      Sentry.reactRouterV6BrowserTracingIntegration({\n        useEffect: React.useEffect,\n        useLocation,\n        useNavigationType,\n        createRoutesFromChildren,\n        matchRoutes,\n      }),\n      sentryFeedback,\n    ],\n    ignoreErrors: [\n      // Harmless error\n      'ResizeObserver loop limit exceeded',\n      /ResizeObserver/,\n      // Failed network requests needn't be tracked\n      'Network request failed',\n    ],\n    environment: WALLET_ENVIRONMENT,\n    autoSessionTracking: false,\n    async beforeSend(event) {\n      delete event.user?.ip_address;\n      delete event.extra?.ip_address;\n\n      const values = event.exception?.values?.map(({ value }) => value);\n\n      // @see https://stackoverflow.com/questions/49384120/resizeobserver-loop-limit-exceeded\n      if (values?.includes('ResizeObserver loop limit exceeded')) return null;\n\n      return event;\n    },\n  });\n\n  Sentry.setTag('app_version', VERSION);\n}\n\nexport async function openFeedbackSheet() {\n  void analytics.track('user_clicked_feedback_button');\n  const form = await sentryFeedback.createForm();\n  if (!form) return null;\n  form.appendToDom();\n  form.open();\n  return;\n}\n","/**\n * Encode `text` to a hex string. Accepts text with any characters (like emojis).\n * Does not match ASCII codes for latin-script letters (ie: \"a\" will not be encoded to \"61\").\n * @param text string to encode\n */\nexport function encodeText(text: string) {\n  return Array.from(new TextEncoder().encode(btoa(encodeURIComponent(text))))\n    .map(byte => byte.toString(16).padStart(2, '0'))\n    .join('');\n}\n\n/**\n * Decode `hex` previously encoded with [encodeText]{@link encodeText} to the original text.\n * @param hex string to decode\n */\nexport function decodeText(hex?: string) {\n  if (!hex) return '';\n  const bytes = new Uint8Array((hex.match(/.{1,2}/g) ?? []).map(byte => parseInt(byte, 16)));\n  return decodeURIComponent(atob(new TextDecoder().decode(bytes)));\n}\n","import { isWebUri } from 'valid-url';\n\nexport function isValidUrl(str: string) {\n  return !!isWebUri(str);\n}\n","export enum NetworkSelectors {\n  NetworkListActiveNetwork = 'network-active-network',\n  NetworkPageReady = 'network-page-ready',\n  NetworkName = 'network-name',\n  NetworkStacksAddress = 'network-stacks-address',\n  NetworkBitcoinAddress = 'network-bitcoin-address',\n  NetworkKey = 'network-key',\n  ErrorText = 'error-text',\n  EmptyNameError = 'Enter a name',\n  EmptyStacksAddressError = 'Enter a valid Stacks API URL',\n  EmptyBitcoinURLError = 'Enter a valid Bitcoin API URL',\n  EmptyKeyError = 'Enter a unique key',\n  NoStacksNodeFetch = 'Unable to fetch info from stacks node',\n  NoBitcoinNodeFetch = 'Unable to fetch mempool from bitcoin node',\n\n  // add network form\n  AddNetworkBtn = 'add-network-btn',\n  AddNetworkBitcoinAPISelector = 'add-network-bitcoin-api-selector',\n  BitcoinApiOptionTestnet = 'bitcoin-api-option-testnet3',\n\n  NetworkMenuBtn = 'network-menu-btn',\n  EditNetworkMenuBtn = 'edit-network-menu-btn',\n  DeleteNetworkMenuBtn = 'delete-network-menu-btn',\n}\n","export enum OnboardingSelectors {\n  BackUpSecretKeyBtn = 'back-up-secret-key-btn',\n  LogoRouteToHome = 'logo-route-to-home',\n  NewPasswordInput = 'set-or-enter-password-input',\n  NoAssetsFundAccountLink = 'no-assets-fund-account-link',\n  SecretKey = 'secret-key',\n  SecretKeyInput = 'secret-key-input',\n  SetPasswordBtn = 'set-password-btn',\n  SignInBtn = 'sign-in-btn',\n  SignInLink = 'sign-in-link',\n  SignUpBtn = 'sign-up-btn',\n  StepItemDone = 'step-item-done',\n  StepItemStart = 'step-item-start',\n  StepsList = 'steps-list',\n  SignInSeedError = 'sign-in-seed-error',\n}\n","export enum SettingsSelectors {\n  ToggleTheme = 'change-theme',\n  NetworkListItem = 'network-list-item',\n  MainnetNetworkItem = 'mainnet-network-item',\n  TestNetworkItem = 'test-network-item',\n  DevNetworkItem = 'dev-network-item',\n  ChangeNetworkAction = 'settings-change-network',\n  CurrentNetwork = 'current-network',\n  CurrentAccountDisplayName = 'current-account-display-name',\n  ViewSecretKeyListItem = 'settings-view-secret-key',\n  CopyKeyToClipboardBtn = 'copy-key-to-clipboard-btn',\n  SignOutListItem = 'settings-sign-out',\n  SignOutConfirmHasBackupCheckbox = 'sign-out-confirm-has-backup-checkbox',\n  SignOutConfirmPasswordDisable = 'sign-out-confirm-password-disable',\n  BtnSignOutReturnToHomeScreen = 'btn-sign-out-return-to-home-screen',\n  BtnSignOutActuallyDeleteWallet = 'btn-sign-out-actually-delete-wallet',\n  LockListItem = 'settings-lock',\n  EnterPasswordInput = 'password-input',\n  UnlockWalletBtn = 'unlock-wallet-btn',\n  AddNewNetworkBtn = 'add-new-network-btn',\n  ShowSecretKeyBtn = 'show-secret-key-btn',\n  GetSupportMenuItem = 'get-support-menu-item',\n  SettingsMenuBtn = 'settings-menu-trigger',\n  SwitchAccountTrigger = 'switch-account-trigger',\n  SwitchAccountMenuItem = 'switch-account-menu-item',\n  SwitchAccountItemIndex = 'switch-account-item-[index]',\n  OpenWalletInNewTab = 'open-wallet-in-new-tab',\n  TogglePrivacy = 'toggle-privacy',\n}\n","export enum SharedComponentsSelectors {\n  // AddressDisplayer\n  AddressDisplayer = 'address-displayer',\n  AddressDisplayerPart = 'address-displayer-part',\n\n  // AccountCard\n  AccountCardBalanceText = 'account-card-balance-text',\n\n  // InfoCard\n  InfoCardAssetValue = 'info-card-asset-value',\n  InfoCardRowValue = 'info-card-row-value',\n  InfoCardButton = 'info-card-button',\n\n  // Fees\n  FeeRow = 'fee-row',\n  CustomFeeFieldInput = 'custom-fee-field-input',\n  CustomFeeSelectItem = 'custom-fee',\n  FeeEstimateSelect = 'fee-estimate-select',\n  FeeToBePaidLabel = 'fee-to-be-paid-label',\n  LowFeeEstimateItem = 'low-fee',\n  MiddleFeeEstimateItem = 'standard-fee',\n  FeesListItem = 'fee-list-item',\n  FeesListItemFeeValue = 'fee-list-item-fee-value',\n\n  // Error\n  BroadcastErrorTitle = 'broadcast-error-title',\n  HeaderBackBtn = 'header-back-button',\n  HeaderCloseBtn = 'header-close-button',\n}\n","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","import { withoutSpace } from '../helpers.js';\n\nconst conditionsStr = \"_hover,_focus,_focusWithin,_focusVisible,_disabled,_active,_visited,_target,_readOnly,_readWrite,_empty,_checked,_enabled,_expanded,_highlighted,_before,_after,_firstLetter,_firstLine,_marker,_selection,_file,_backdrop,_first,_last,_only,_even,_odd,_firstOfType,_lastOfType,_onlyOfType,_peerFocus,_peerHover,_peerActive,_peerFocusWithin,_peerFocusVisible,_peerDisabled,_peerChecked,_peerInvalid,_peerExpanded,_peerPlaceholderShown,_groupFocus,_groupHover,_groupActive,_groupFocusWithin,_groupFocusVisible,_groupDisabled,_groupChecked,_groupExpanded,_groupInvalid,_indeterminate,_required,_valid,_invalid,_autofill,_inRange,_outOfRange,_placeholder,_placeholderShown,_pressed,_selected,_default,_optional,_open,_closed,_fullscreen,_loading,_currentPage,_currentStep,_motionReduce,_motionSafe,_print,_landscape,_portrait,_dark,_light,_osDark,_osLight,_highContrast,_lessContrast,_moreContrast,_ltr,_rtl,_scrollbar,_scrollbarThumb,_scrollbarTrack,_horizontal,_vertical,_starting,sm,smOnly,smDown,md,mdOnly,mdDown,lg,lgOnly,lgDown,xl,xlOnly,xlDown,2xl,2xlOnly,2xlDown,smToMd,smToLg,smToXl,smTo2xl,mdToLg,mdToXl,mdTo2xl,lgToXl,lgTo2xl,xlTo2xl,base\"\nconst conditions = new Set(conditionsStr.split(','))\n\nconst conditionRegex = /^@|&|&$/\n\nexport function isCondition(value){\n  return conditions.has(value) || conditionRegex.test(value)\n}\n\nconst underscoreRegex = /^_/\nconst conditionsSelectorRegex = /&|@/\n\nexport function finalizeConditions(paths){\n  return paths.map((path) => {\n    if (conditions.has(path)){\n      return path.replace(underscoreRegex, '')\n    }\n\n    if (conditionsSelectorRegex.test(path)){\n      return `[${withoutSpace(path.trim())}]`\n    }\n\n    return path\n  })}\n\n  export function sortConditions(paths){\n    return paths.sort((a, b) => {\n      const aa = isCondition(a)\n      const bb = isCondition(b)\n      if (aa && !bb) return 1\n      if (!aa && bb) return -1\n      return 0\n    })\n  }","import { createCss, createMergeCss, hypenateProperty, withoutSpace } from '../helpers.js';\nimport { sortConditions, finalizeConditions } from './conditions.js';\n\nconst utilities = \"aspectRatio:asp,boxDecorationBreak:bx-db,zIndex:z,boxSizing:bx-s,objectPosition:obj-p,objectFit:obj-f,overscrollBehavior:ovs-b,overscrollBehaviorX:ovs-bx,overscrollBehaviorY:ovs-by,position:pos/1,top:top,left:left,inset:inset,insetInline:inset-x/insetX,insetBlock:inset-y/insetY,insetBlockEnd:inset-be,insetBlockStart:inset-bs,insetInlineEnd:inset-e/insetEnd/end,insetInlineStart:inset-s/insetStart/start,right:right,bottom:bottom,float:float,visibility:vis,display:d,hideFrom:hide,hideBelow:show,flexBasis:flex-b,flex:flex,flexDirection:flex-d/flexDir,flexGrow:flex-g,flexShrink:flex-sh,gridTemplateColumns:grid-tc,gridTemplateRows:grid-tr,gridColumn:grid-c,gridRow:grid-r,gridColumnStart:grid-cs,gridColumnEnd:grid-ce,gridAutoFlow:grid-af,gridAutoColumns:grid-ac,gridAutoRows:grid-ar,gap:gap,gridGap:grid-g,gridRowGap:grid-rg,gridColumnGap:grid-cg,rowGap:rg,columnGap:cg,justifyContent:jc,alignContent:ac,alignItems:ai,alignSelf:as,padding:p/1,paddingLeft:pl/1,paddingRight:pr/1,paddingTop:pt/1,paddingBottom:pb/1,paddingBlock:py/1/paddingY,paddingBlockEnd:pbe,paddingBlockStart:pbs,paddingInline:px/paddingX/1,paddingInlineEnd:pe/1/paddingEnd,paddingInlineStart:ps/1/paddingStart,marginLeft:ml/1,marginRight:mr/1,marginTop:mt/1,marginBottom:mb/1,margin:m/1,marginBlock:my/1/marginY,marginBlockEnd:mbe,marginBlockStart:mbs,marginInline:mx/1/marginX,marginInlineEnd:me/1/marginEnd,marginInlineStart:ms/1/marginStart,spaceX:sx,spaceY:sy,outlineWidth:ring-w/ringWidth,outlineColor:ring-c/ringColor,outline:ring/1,outlineOffset:ring-o/ringOffset,divideX:dvd-x,divideY:dvd-y,divideColor:dvd-c,divideStyle:dvd-s,width:w/1,inlineSize:w-is,minWidth:min-w/minW,minInlineSize:min-w-is,maxWidth:max-w/maxW,maxInlineSize:max-w-is,height:h/1,blockSize:h-bs,minHeight:min-h/minH,minBlockSize:min-h-bs,maxHeight:max-h/maxH,maxBlockSize:max-b,color:c,fontFamily:ff,fontSize:fs,fontSizeAdjust:fs-a,fontPalette:fp,fontKerning:fk,fontFeatureSettings:ff-s,fontWeight:fw,fontSmoothing:fsmt,fontVariant:fv,fontVariantAlternates:fv-alt,fontVariantCaps:fv-caps,fontVariationSettings:fv-s,fontVariantNumeric:fv-num,letterSpacing:ls,lineHeight:lh,textAlign:ta,textDecoration:td,textDecorationColor:td-c,textEmphasisColor:te-c,textDecorationStyle:td-s,textDecorationThickness:td-t,textUnderlineOffset:tu-o,textTransform:tt,textIndent:ti,textShadow:tsh,textShadowColor:tsh-c/textShadowColor,textOverflow:tov,verticalAlign:va,wordBreak:wb,textWrap:tw,truncate:trunc,lineClamp:lc,listStyleType:li-t,listStylePosition:li-pos,listStyleImage:li-img,listStyle:li-s,backgroundPosition:bg-p/bgPosition,backgroundPositionX:bg-p-x/bgPositionX,backgroundPositionY:bg-p-y/bgPositionY,backgroundAttachment:bg-a/bgAttachment,backgroundClip:bg-cp/bgClip,background:bg/1,backgroundColor:bg-c/bgColor,backgroundOrigin:bg-o/bgOrigin,backgroundImage:bg-i/bgImage,backgroundRepeat:bg-r/bgRepeat,backgroundBlendMode:bg-bm/bgBlendMode,backgroundSize:bg-s/bgSize,backgroundGradient:bg-grad/bgGradient,textGradient:txt-grad,gradientFromPosition:grad-from-pos,gradientToPosition:grad-to-pos,gradientFrom:grad-from,gradientTo:grad-to,gradientVia:grad-via,gradientViaPosition:grad-via-pos,borderRadius:bdr/rounded,borderTopLeftRadius:bdr-tl/roundedTopLeft,borderTopRightRadius:bdr-tr/roundedTopRight,borderBottomRightRadius:bdr-br/roundedBottomRight,borderBottomLeftRadius:bdr-bl/roundedBottomLeft,borderTopRadius:bdr-t/roundedTop,borderRightRadius:bdr-r/roundedRight,borderBottomRadius:bdr-b/roundedBottom,borderLeftRadius:bdr-l/roundedLeft,borderStartStartRadius:bdr-ss/roundedStartStart,borderStartEndRadius:bdr-se/roundedStartEnd,borderStartRadius:bdr-s/roundedStart,borderEndStartRadius:bdr-es/roundedEndStart,borderEndEndRadius:bdr-ee/roundedEndEnd,borderEndRadius:bdr-e/roundedEnd,border:bd,borderWidth:bd-w,borderTopWidth:bd-t-w,borderLeftWidth:bd-l-w,borderRightWidth:bd-r-w,borderBottomWidth:bd-b-w,borderColor:bd-c,borderInline:bd-x/borderX,borderInlineWidth:bd-x-w/borderXWidth,borderInlineColor:bd-x-c/borderXColor,borderBlock:bd-y/borderY,borderBlockWidth:bd-y-w/borderYWidth,borderBlockColor:bd-y-c/borderYColor,borderLeft:bd-l,borderLeftColor:bd-l-c,borderInlineStart:bd-s/borderStart,borderInlineStartWidth:bd-s-w/borderStartWidth,borderInlineStartColor:bd-s-c/borderStartColor,borderRight:bd-r,borderRightColor:bd-r-c,borderInlineEnd:bd-e/borderEnd,borderInlineEndWidth:bd-e-w/borderEndWidth,borderInlineEndColor:bd-e-c/borderEndColor,borderTop:bd-t,borderTopColor:bd-t-c,borderBottom:bd-b,borderBottomColor:bd-b-c,borderBlockEnd:bd-be,borderBlockEndColor:bd-be-c,borderBlockStart:bd-bs,borderBlockStartColor:bd-bs-c,opacity:op,boxShadow:bx-sh/shadow,boxShadowColor:bx-sh-c/shadowColor,mixBlendMode:mix-bm,filter:filter,brightness:brightness,contrast:contrast,grayscale:grayscale,hueRotate:hue-rotate,invert:invert,saturate:saturate,sepia:sepia,dropShadow:drop-shadow,blur:blur,backdropFilter:bkdp,backdropBlur:bkdp-blur,backdropBrightness:bkdp-brightness,backdropContrast:bkdp-contrast,backdropGrayscale:bkdp-grayscale,backdropHueRotate:bkdp-hue-rotate,backdropInvert:bkdp-invert,backdropOpacity:bkdp-opacity,backdropSaturate:bkdp-saturate,backdropSepia:bkdp-sepia,borderCollapse:bd-cl,borderSpacing:bd-sp,borderSpacingX:bd-sx,borderSpacingY:bd-sy,tableLayout:tbl,transitionTimingFunction:trs-tmf,transitionDelay:trs-dly,transitionDuration:trs-dur,transitionProperty:trs-prop,transition:trs,animation:anim,animationName:anim-n,animationTimingFunction:anim-tmf,animationDuration:anim-dur,animationDelay:anim-dly,animationPlayState:anim-ps,animationComposition:anim-comp,animationFillMode:anim-fm,animationDirection:anim-dir,animationIterationCount:anim-ic,animationRange:anim-r,animationState:anim-s,animationRangeStart:anim-rs,animationRangeEnd:anim-re,animationTimeline:anim-tl,transformOrigin:trf-o,transformBox:trf-b,transformStyle:trf-s,transform:trf,rotate:rotate,rotateX:rotate-x,rotateY:rotate-y,rotateZ:rotate-z,scale:scale,scaleX:scale-x,scaleY:scale-y,translate:translate,translateX:translate-x/x,translateY:translate-y/y,translateZ:translate-z/z,accentColor:ac-c,caretColor:ca-c,scrollBehavior:scr-bhv,scrollbar:scr-bar,scrollbarColor:scr-bar-c,scrollbarGutter:scr-bar-g,scrollbarWidth:scr-bar-w,scrollMargin:scr-m,scrollMarginLeft:scr-ml,scrollMarginRight:scr-mr,scrollMarginTop:scr-mt,scrollMarginBottom:scr-mb,scrollMarginBlock:scr-my/scrollMarginY,scrollMarginBlockEnd:scr-mbe,scrollMarginBlockStart:scr-mbt,scrollMarginInline:scr-mx/scrollMarginX,scrollMarginInlineEnd:scr-me,scrollMarginInlineStart:scr-ms,scrollPadding:scr-p,scrollPaddingBlock:scr-py/scrollPaddingY,scrollPaddingBlockStart:scr-pbs,scrollPaddingBlockEnd:scr-pbe,scrollPaddingInline:scr-px/scrollPaddingX,scrollPaddingInlineEnd:scr-pe,scrollPaddingInlineStart:scr-ps,scrollPaddingLeft:scr-pl,scrollPaddingRight:scr-pr,scrollPaddingTop:scr-pt,scrollPaddingBottom:scr-pb,scrollSnapAlign:scr-sa,scrollSnapStop:scrs-s,scrollSnapType:scrs-t,scrollSnapStrictness:scrs-strt,scrollSnapMargin:scrs-m,scrollSnapMarginTop:scrs-mt,scrollSnapMarginBottom:scrs-mb,scrollSnapMarginLeft:scrs-ml,scrollSnapMarginRight:scrs-mr,scrollSnapCoordinate:scrs-c,scrollSnapDestination:scrs-d,scrollSnapPointsX:scrs-px,scrollSnapPointsY:scrs-py,scrollSnapTypeX:scrs-tx,scrollSnapTypeY:scrs-ty,scrollTimeline:scrtl,scrollTimelineAxis:scrtl-a,scrollTimelineName:scrtl-n,touchAction:tch-a,userSelect:us,overflow:ov,overflowWrap:ov-wrap,overflowX:ov-x,overflowY:ov-y,overflowAnchor:ov-a,overflowBlock:ov-b,overflowInline:ov-i,overflowClipBox:ovcp-bx,overflowClipMargin:ovcp-m,overscrollBehaviorBlock:ovs-bb,overscrollBehaviorInline:ovs-bi,fill:fill,stroke:stk,strokeWidth:stk-w,strokeDasharray:stk-dsh,strokeDashoffset:stk-do,strokeLinecap:stk-lc,strokeLinejoin:stk-lj,strokeMiterlimit:stk-ml,strokeOpacity:stk-op,srOnly:sr,debug:debug,appearance:ap,backfaceVisibility:bfv,clipPath:cp-path,hyphens:hy,mask:msk,maskImage:msk-i,maskSize:msk-s,textSizeAdjust:txt-adj,container:cq,containerName:cq-n,containerType:cq-t,textStyle:textStyle\"\n\nconst classNameByProp = new Map()\nconst shorthands = new Map()\nutilities.split(',').forEach((utility) => {\n  const [prop, meta] = utility.split(':')\n  const [className, ...shorthandList] = meta.split('/')\n  classNameByProp.set(prop, className)\n  if (shorthandList.length) {\n    shorthandList.forEach((shorthand) => {\n      shorthands.set(shorthand === '1' ? className : shorthand, prop)\n    })\n  }\n})\n\nconst resolveShorthand = (prop) => shorthands.get(prop) || prop\n\nconst context = {\n  \n  conditions: {\n    shift: sortConditions,\n    finalize: finalizeConditions,\n    breakpoints: { keys: [\"base\",\"sm\",\"md\",\"lg\",\"xl\",\"2xl\"] }\n  },\n  utility: {\n    prefix: \"leather\",\n    transform: (prop, value) => {\n              const key = resolveShorthand(prop)\n              const propKey = classNameByProp.get(key) || hypenateProperty(key)\n              return { className: `${propKey}_${withoutSpace(value)}` }\n            },\n    hasShorthand: true,\n    toHash: (path, hashFn) => hashFn(path.join(\":\")),\n    resolveShorthand: resolveShorthand,\n  }\n}\n\nconst cssFn = createCss(context)\nexport const css = (...styles) => cssFn(mergeCss(...styles))\ncss.raw = (...styles) => mergeCss(...styles)\n\nexport const { mergeCss, assignCss } = createMergeCss(context)","import { compact, mergeProps, memo, splitProps, uniq } from '../helpers.js';\nimport { css, mergeCss } from './css.js';\n\nconst defaults = (conf) => ({\n  base: {},\n  variants: {},\n  defaultVariants: {},\n  compoundVariants: [],\n  ...conf,\n})\n\nexport function cva(config) {\n  const { base, variants, defaultVariants, compoundVariants } = defaults(config)\n  const getVariantProps = (variants) => ({ ...defaultVariants, ...compact(variants) })\n\n  function resolve(props = {}) {\n    const computedVariants = getVariantProps(props)\n    let variantCss = { ...base }\n    for (const [key, value] of Object.entries(computedVariants)) {\n      if (variants[key]?.[value]) {\n        variantCss = mergeCss(variantCss, variants[key][value])\n      }\n    }\n    const compoundVariantCss = getCompoundVariantCss(compoundVariants, computedVariants)\n    return mergeCss(variantCss, compoundVariantCss)\n  }\n\n  function merge(__cva) {\n    const override = defaults(__cva.config)\n    const variantKeys = uniq(__cva.variantKeys, Object.keys(variants))\n    return cva({\n      base: mergeCss(base, override.base),\n      variants: Object.fromEntries(\n        variantKeys.map((key) => [key, mergeCss(variants[key], override.variants[key])]),\n      ),\n      defaultVariants: mergeProps(defaultVariants, override.defaultVariants),\n      compoundVariants: [...compoundVariants, ...override.compoundVariants],\n    })\n  }\n\n  function cvaFn(props) {\n    return css(resolve(props))\n  }\n\n  const variantKeys = Object.keys(variants)\n\n  function splitVariantProps(props) {\n    return splitProps(props, variantKeys)\n  }\n\n  const variantMap = Object.fromEntries(Object.entries(variants).map(([key, value]) => [key, Object.keys(value)]))\n\n  return Object.assign(memo(cvaFn), {\n    __cva__: true,\n    variantMap,\n    variantKeys,\n    raw: resolve,\n    config,\n    merge,\n    splitVariantProps,\n    getVariantProps\n  })\n}\n\nexport function getCompoundVariantCss(compoundVariants, variantMap) {\n  let result = {}\n  compoundVariants.forEach((compoundVariant) => {\n    const isMatching = Object.entries(compoundVariant).every(([key, value]) => {\n      if (key === 'css') return true\n\n      const values = Array.isArray(value) ? value : [value]\n      return values.some((value) => variantMap[key] === value)\n    })\n\n    if (isMatching) {\n      result = mergeCss(result, compoundVariant.css)\n    }\n  })\n\n  return result\n}\n\nexport function assertCompoundVariant(name, compoundVariants, variants, prop) {\n  if (compoundVariants.length > 0 && typeof variants?.[prop] === 'object') {\n    throw new Error(`[recipe:${name}:${prop}] Conditions are not supported when using compound variants.`)\n  }\n}\n","function cx() {\n  let str = '',\n    i = 0,\n    arg\n\n  for (; i < arguments.length; ) {\n    if ((arg = arguments[i++]) && typeof arg === 'string') {\n      str && (str += ' ')\n      str += arg\n    }\n  }\n  return str\n}\n\nexport { cx }","import { compact, getSlotRecipes, memo, splitProps } from '../helpers.js';\nimport { cva } from './cva.js';\nimport { cx } from './cx.js';\n\nconst slotClass = (className, slot) => className + '__' + slot\n\nexport function sva(config) {\n  const slots = Object.entries(getSlotRecipes(config)).map(([slot, slotCva]) => [slot, cva(slotCva)])\n  const defaultVariants = config.defaultVariants ?? {}\n\n  function svaFn(props) {\n    const result = slots.map(([slot, cvaFn]) => [slot, cx(cvaFn(props), config.className && slotClass(config.className, slot))])\n    return Object.fromEntries(result)\n  }\n\n  function raw(props) {\n    const result = slots.map(([slot, cvaFn]) => [slot, cvaFn.raw(props)])\n    return Object.fromEntries(result)\n  }\n\n  const variants = config.variants ?? {};\n  const variantKeys = Object.keys(variants);\n\n  function splitVariantProps(props) {\n    return splitProps(props, variantKeys);\n  }\n  const getVariantProps = (variants) => ({ ...(defaultVariants || {}), ...compact(variants) })\n\n  const variantMap = Object.fromEntries(\n    Object.entries(variants).map(([key, value]) => [key, Object.keys(value)])\n  );\n\n  return Object.assign(memo(svaFn), {\n    __cva__: false,\n    raw,\n    variantMap,\n    variantKeys,\n    splitVariantProps,\n    getVariantProps,\n  })\n}","export * from './css.js';\nexport * from './cx.js';\nexport * from './cva.js';\nexport * from './sva.js';","// src/assert.ts\nfunction isObject(value) {\n  return typeof value === \"object\" && value != null && !Array.isArray(value);\n}\nvar isObjectOrArray = (obj) => typeof obj === \"object\" && obj !== null;\n\n// src/compact.ts\nfunction compact(value) {\n  return Object.fromEntries(Object.entries(value ?? {}).filter(([_, value2]) => value2 !== void 0));\n}\n\n// src/condition.ts\nvar isBaseCondition = (v) => v === \"base\";\nfunction filterBaseConditions(c) {\n  return c.slice().filter((v) => !isBaseCondition(v));\n}\n\n// src/hash.ts\nfunction toChar(code) {\n  return String.fromCharCode(code + (code > 25 ? 39 : 97));\n}\nfunction toName(code) {\n  let name = \"\";\n  let x;\n  for (x = Math.abs(code); x > 52; x = x / 52 | 0)\n    name = toChar(x % 52) + name;\n  return toChar(x % 52) + name;\n}\nfunction toPhash(h, x) {\n  let i = x.length;\n  while (i)\n    h = h * 33 ^ x.charCodeAt(--i);\n  return h;\n}\nfunction toHash(value) {\n  return toName(toPhash(5381, value) >>> 0);\n}\n\n// src/important.ts\nvar importantRegex = /\\s*!(important)?/i;\nfunction isImportant(value) {\n  return typeof value === \"string\" ? importantRegex.test(value) : false;\n}\nfunction withoutImportant(value) {\n  return typeof value === \"string\" ? value.replace(importantRegex, \"\").trim() : value;\n}\nfunction withoutSpace(str) {\n  return typeof str === \"string\" ? str.replaceAll(\" \", \"_\") : str;\n}\n\n// src/memo.ts\nvar memo = (fn) => {\n  const cache = /* @__PURE__ */ new Map();\n  const get = (...args) => {\n    const key = JSON.stringify(args);\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    const result = fn(...args);\n    cache.set(key, result);\n    return result;\n  };\n  return get;\n};\n\n// src/merge-props.ts\nfunction mergeProps(...sources) {\n  return sources.reduce((prev, obj) => {\n    if (!obj)\n      return prev;\n    Object.keys(obj).forEach((key) => {\n      const prevValue = prev[key];\n      const value = obj[key];\n      if (isObject(prevValue) && isObject(value)) {\n        prev[key] = mergeProps(prevValue, value);\n      } else {\n        prev[key] = value;\n      }\n    });\n    return prev;\n  }, {});\n}\n\n// src/walk-object.ts\nvar isNotNullish = (element) => element != null;\nfunction walkObject(target, predicate, options = {}) {\n  const { stop, getKey } = options;\n  function inner(value, path = []) {\n    if (isObjectOrArray(value)) {\n      const result = {};\n      for (const [prop, child] of Object.entries(value)) {\n        const key = getKey?.(prop, child) ?? prop;\n        const childPath = [...path, key];\n        if (stop?.(value, childPath)) {\n          return predicate(value, path);\n        }\n        const next = inner(child, childPath);\n        if (isNotNullish(next)) {\n          result[key] = next;\n        }\n      }\n      return result;\n    }\n    return predicate(value, path);\n  }\n  return inner(target);\n}\nfunction mapObject(obj, fn) {\n  if (Array.isArray(obj))\n    return obj.map((value) => fn(value));\n  if (!isObject(obj))\n    return fn(obj);\n  return walkObject(obj, (value) => fn(value));\n}\n\n// src/normalize-style-object.ts\nfunction toResponsiveObject(values, breakpoints) {\n  return values.reduce(\n    (acc, current, index) => {\n      const key = breakpoints[index];\n      if (current != null) {\n        acc[key] = current;\n      }\n      return acc;\n    },\n    {}\n  );\n}\nfunction normalizeStyleObject(styles, context, shorthand = true) {\n  const { utility, conditions } = context;\n  const { hasShorthand, resolveShorthand } = utility;\n  return walkObject(\n    styles,\n    (value) => {\n      return Array.isArray(value) ? toResponsiveObject(value, conditions.breakpoints.keys) : value;\n    },\n    {\n      stop: (value) => Array.isArray(value),\n      getKey: shorthand ? (prop) => hasShorthand ? resolveShorthand(prop) : prop : void 0\n    }\n  );\n}\n\n// src/classname.ts\nvar fallbackCondition = {\n  shift: (v) => v,\n  finalize: (v) => v,\n  breakpoints: { keys: [] }\n};\nvar sanitize = (value) => typeof value === \"string\" ? value.replaceAll(/[\\n\\s]+/g, \" \") : value;\nfunction createCss(context) {\n  const { utility, hash, conditions: conds = fallbackCondition } = context;\n  const formatClassName = (str) => [utility.prefix, str].filter(Boolean).join(\"-\");\n  const hashFn = (conditions, className) => {\n    let result;\n    if (hash) {\n      const baseArray = [...conds.finalize(conditions), className];\n      result = formatClassName(utility.toHash(baseArray, toHash));\n    } else {\n      const baseArray = [...conds.finalize(conditions), formatClassName(className)];\n      result = baseArray.join(\":\");\n    }\n    return result;\n  };\n  return memo(({ base, ...styles } = {}) => {\n    const styleObject = Object.assign(styles, base);\n    const normalizedObject = normalizeStyleObject(styleObject, context);\n    const classNames = /* @__PURE__ */ new Set();\n    walkObject(normalizedObject, (value, paths) => {\n      if (value == null)\n        return;\n      const important = isImportant(value);\n      const [prop, ...allConditions] = conds.shift(paths);\n      const conditions = filterBaseConditions(allConditions);\n      const transformed = utility.transform(prop, withoutImportant(sanitize(value)));\n      let className = hashFn(conditions, transformed.className);\n      if (important)\n        className = `${className}!`;\n      classNames.add(className);\n    });\n    return Array.from(classNames).join(\" \");\n  });\n}\nfunction compactStyles(...styles) {\n  return styles.flat().filter((style) => isObject(style) && Object.keys(compact(style)).length > 0);\n}\nfunction createMergeCss(context) {\n  function resolve(styles) {\n    const allStyles = compactStyles(...styles);\n    if (allStyles.length === 1)\n      return allStyles;\n    return allStyles.map((style) => normalizeStyleObject(style, context));\n  }\n  function mergeCss(...styles) {\n    return mergeProps(...resolve(styles));\n  }\n  function assignCss(...styles) {\n    return Object.assign({}, ...resolve(styles));\n  }\n  return { mergeCss: memo(mergeCss), assignCss };\n}\n\n// src/hypenate-property.ts\nvar wordRegex = /([A-Z])/g;\nvar msRegex = /^ms-/;\nvar hypenateProperty = memo((property) => {\n  if (property.startsWith(\"--\"))\n    return property;\n  return property.replace(wordRegex, \"-$1\").replace(msRegex, \"-ms-\").toLowerCase();\n});\n\n// src/is-css-function.ts\nvar fns = [\"min\", \"max\", \"clamp\", \"calc\"];\nvar fnRegExp = new RegExp(`^(${fns.join(\"|\")})\\\\(.*\\\\)`);\nvar isCssFunction = (v) => typeof v === \"string\" && fnRegExp.test(v);\n\n// src/is-css-unit.ts\nvar lengthUnits = \"cm,mm,Q,in,pc,pt,px,em,ex,ch,rem,lh,rlh,vw,vh,vmin,vmax,vb,vi,svw,svh,lvw,lvh,dvw,dvh,cqw,cqh,cqi,cqb,cqmin,cqmax,%\";\nvar lengthUnitsPattern = `(?:${lengthUnits.split(\",\").join(\"|\")})`;\nvar lengthRegExp = new RegExp(`^[+-]?[0-9]*.?[0-9]+(?:[eE][+-]?[0-9]+)?${lengthUnitsPattern}$`);\nvar isCssUnit = (v) => typeof v === \"string\" && lengthRegExp.test(v);\n\n// src/is-css-var.ts\nvar isCssVar = (v) => typeof v === \"string\" && /^var\\(--.+\\)$/.test(v);\n\n// src/pattern-fns.ts\nvar patternFns = {\n  map: mapObject,\n  isCssFunction,\n  isCssVar,\n  isCssUnit\n};\nvar getPatternStyles = (pattern, styles) => {\n  if (!pattern?.defaultValues)\n    return styles;\n  const defaults = typeof pattern.defaultValues === \"function\" ? pattern.defaultValues(styles) : pattern.defaultValues;\n  return Object.assign({}, defaults, compact(styles));\n};\n\n// src/slot.ts\nvar getSlotRecipes = (recipe = {}) => {\n  const init = (slot) => ({\n    className: [recipe.className, slot].filter(Boolean).join(\"__\"),\n    base: recipe.base?.[slot] ?? {},\n    variants: {},\n    defaultVariants: recipe.defaultVariants ?? {},\n    compoundVariants: recipe.compoundVariants ? getSlotCompoundVariant(recipe.compoundVariants, slot) : []\n  });\n  const slots = recipe.slots ?? [];\n  const recipeParts = slots.map((slot) => [slot, init(slot)]);\n  for (const [variantsKey, variantsSpec] of Object.entries(recipe.variants ?? {})) {\n    for (const [variantKey, variantSpec] of Object.entries(variantsSpec)) {\n      recipeParts.forEach(([slot, slotRecipe]) => {\n        slotRecipe.variants[variantsKey] ??= {};\n        slotRecipe.variants[variantsKey][variantKey] = variantSpec[slot] ?? {};\n      });\n    }\n  }\n  return Object.fromEntries(recipeParts);\n};\nvar getSlotCompoundVariant = (compoundVariants, slotName) => compoundVariants.filter((compoundVariant) => compoundVariant.css[slotName]).map((compoundVariant) => ({ ...compoundVariant, css: compoundVariant.css[slotName] }));\n\n// src/split-props.ts\nfunction splitProps(props, ...keys) {\n  const descriptors = Object.getOwnPropertyDescriptors(props);\n  const dKeys = Object.keys(descriptors);\n  const split = (k) => {\n    const clone = {};\n    for (let i = 0; i < k.length; i++) {\n      const key = k[i];\n      if (descriptors[key]) {\n        Object.defineProperty(clone, key, descriptors[key]);\n        delete descriptors[key];\n      }\n    }\n    return clone;\n  };\n  const fn = (key) => split(Array.isArray(key) ? key : dKeys.filter(key));\n  return keys.map(fn).concat(split(dKeys));\n}\n\n// src/uniq.ts\nvar uniq = (...items) => {\n  const set = items.reduce((acc, currItems) => {\n    if (currItems) {\n      currItems.forEach((item) => acc.add(item));\n    }\n    return acc;\n  }, /* @__PURE__ */ new Set([]));\n  return Array.from(set);\n};\nexport {\n  compact,\n  createCss,\n  createMergeCss,\n  filterBaseConditions,\n  getPatternStyles,\n  getSlotCompoundVariant,\n  getSlotRecipes,\n  hypenateProperty,\n  isBaseCondition,\n  isObject,\n  mapObject,\n  memo,\n  mergeProps,\n  patternFns,\n  splitProps,\n  toHash,\n  uniq,\n  walkObject,\n  withoutSpace\n};\n\n\n\n// src/normalize-html.ts\nvar htmlProps = [\"htmlSize\", \"htmlTranslate\", \"htmlWidth\", \"htmlHeight\"];\nfunction convert(key) {\n  return htmlProps.includes(key) ? key.replace(\"html\", \"\").toLowerCase() : key;\n}\nfunction normalizeHTMLProps(props) {\n  return Object.fromEntries(Object.entries(props).map(([key, value]) => [convert(key), value]));\n}\nnormalizeHTMLProps.keys = htmlProps;\nexport {\n  normalizeHTMLProps\n};\n\n\nexport function __spreadValues(a, b) {\n  return { ...a, ...b }\n}\n\nexport function __objRest(source, exclude) {\n  return Object.fromEntries(Object.entries(source).filter(([key]) => !exclude.includes(key)))\n}","import { splitProps } from '../helpers.js';\nimport { memo } from '../helpers.js';\n// src/index.ts\nvar userGeneratedStr = \"css,pos,insetX,insetY,insetEnd,end,insetStart,start,flexDir,p,pl,pr,pt,pb,py,paddingY,paddingX,px,pe,paddingEnd,ps,paddingStart,ml,mr,mt,mb,m,my,marginY,mx,marginX,me,marginEnd,ms,marginStart,ringWidth,ringColor,ring,ringOffset,w,minW,maxW,h,minH,maxH,textShadowColor,bgPosition,bgPositionX,bgPositionY,bgAttachment,bgClip,bg,bgColor,bgOrigin,bgImage,bgRepeat,bgBlendMode,bgSize,bgGradient,rounded,roundedTopLeft,roundedTopRight,roundedBottomRight,roundedBottomLeft,roundedTop,roundedRight,roundedBottom,roundedLeft,roundedStartStart,roundedStartEnd,roundedStart,roundedEndStart,roundedEndEnd,roundedEnd,borderX,borderXWidth,borderXColor,borderY,borderYWidth,borderYColor,borderStart,borderStartWidth,borderStartColor,borderEnd,borderEndWidth,borderEndColor,shadow,shadowColor,x,y,z,scrollMarginY,scrollMarginX,scrollPaddingY,scrollPaddingX,aspectRatio,boxDecorationBreak,zIndex,boxSizing,objectPosition,objectFit,overscrollBehavior,overscrollBehaviorX,overscrollBehaviorY,position,top,left,inset,insetInline,insetBlock,insetBlockEnd,insetBlockStart,insetInlineEnd,insetInlineStart,right,bottom,float,visibility,display,hideFrom,hideBelow,flexBasis,flex,flexDirection,flexGrow,flexShrink,gridTemplateColumns,gridTemplateRows,gridColumn,gridRow,gridColumnStart,gridColumnEnd,gridAutoFlow,gridAutoColumns,gridAutoRows,gap,gridGap,gridRowGap,gridColumnGap,rowGap,columnGap,justifyContent,alignContent,alignItems,alignSelf,padding,paddingLeft,paddingRight,paddingTop,paddingBottom,paddingBlock,paddingBlockEnd,paddingBlockStart,paddingInline,paddingInlineEnd,paddingInlineStart,marginLeft,marginRight,marginTop,marginBottom,margin,marginBlock,marginBlockEnd,marginBlockStart,marginInline,marginInlineEnd,marginInlineStart,spaceX,spaceY,outlineWidth,outlineColor,outline,outlineOffset,divideX,divideY,divideColor,divideStyle,width,inlineSize,minWidth,minInlineSize,maxWidth,maxInlineSize,height,blockSize,minHeight,minBlockSize,maxHeight,maxBlockSize,color,fontFamily,fontSize,fontSizeAdjust,fontPalette,fontKerning,fontFeatureSettings,fontWeight,fontSmoothing,fontVariant,fontVariantAlternates,fontVariantCaps,fontVariationSettings,fontVariantNumeric,letterSpacing,lineHeight,textAlign,textDecoration,textDecorationColor,textEmphasisColor,textDecorationStyle,textDecorationThickness,textUnderlineOffset,textTransform,textIndent,textShadow,textOverflow,verticalAlign,wordBreak,textWrap,truncate,lineClamp,listStyleType,listStylePosition,listStyleImage,listStyle,backgroundPosition,backgroundPositionX,backgroundPositionY,backgroundAttachment,backgroundClip,background,backgroundColor,backgroundOrigin,backgroundImage,backgroundRepeat,backgroundBlendMode,backgroundSize,backgroundGradient,textGradient,gradientFromPosition,gradientToPosition,gradientFrom,gradientTo,gradientVia,gradientViaPosition,borderRadius,borderTopLeftRadius,borderTopRightRadius,borderBottomRightRadius,borderBottomLeftRadius,borderTopRadius,borderRightRadius,borderBottomRadius,borderLeftRadius,borderStartStartRadius,borderStartEndRadius,borderStartRadius,borderEndStartRadius,borderEndEndRadius,borderEndRadius,border,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,borderColor,borderInline,borderInlineWidth,borderInlineColor,borderBlock,borderBlockWidth,borderBlockColor,borderLeft,borderLeftColor,borderInlineStart,borderInlineStartWidth,borderInlineStartColor,borderRight,borderRightColor,borderInlineEnd,borderInlineEndWidth,borderInlineEndColor,borderTop,borderTopColor,borderBottom,borderBottomColor,borderBlockEnd,borderBlockEndColor,borderBlockStart,borderBlockStartColor,opacity,boxShadow,boxShadowColor,mixBlendMode,filter,brightness,contrast,grayscale,hueRotate,invert,saturate,sepia,dropShadow,blur,backdropFilter,backdropBlur,backdropBrightness,backdropContrast,backdropGrayscale,backdropHueRotate,backdropInvert,backdropOpacity,backdropSaturate,backdropSepia,borderCollapse,borderSpacing,borderSpacingX,borderSpacingY,tableLayout,transitionTimingFunction,transitionDelay,transitionDuration,transitionProperty,transition,animation,animationName,animationTimingFunction,animationDuration,animationDelay,animationPlayState,animationComposition,animationFillMode,animationDirection,animationIterationCount,animationRange,animationState,animationRangeStart,animationRangeEnd,animationTimeline,transformOrigin,transformBox,transformStyle,transform,rotate,rotateX,rotateY,rotateZ,scale,scaleX,scaleY,translate,translateX,translateY,translateZ,accentColor,caretColor,scrollBehavior,scrollbar,scrollbarColor,scrollbarGutter,scrollbarWidth,scrollMargin,scrollMarginLeft,scrollMarginRight,scrollMarginTop,scrollMarginBottom,scrollMarginBlock,scrollMarginBlockEnd,scrollMarginBlockStart,scrollMarginInline,scrollMarginInlineEnd,scrollMarginInlineStart,scrollPadding,scrollPaddingBlock,scrollPaddingBlockStart,scrollPaddingBlockEnd,scrollPaddingInline,scrollPaddingInlineEnd,scrollPaddingInlineStart,scrollPaddingLeft,scrollPaddingRight,scrollPaddingTop,scrollPaddingBottom,scrollSnapAlign,scrollSnapStop,scrollSnapType,scrollSnapStrictness,scrollSnapMargin,scrollSnapMarginTop,scrollSnapMarginBottom,scrollSnapMarginLeft,scrollSnapMarginRight,scrollSnapCoordinate,scrollSnapDestination,scrollSnapPointsX,scrollSnapPointsY,scrollSnapTypeX,scrollSnapTypeY,scrollTimeline,scrollTimelineAxis,scrollTimelineName,touchAction,userSelect,overflow,overflowWrap,overflowX,overflowY,overflowAnchor,overflowBlock,overflowInline,overflowClipBox,overflowClipMargin,overscrollBehaviorBlock,overscrollBehaviorInline,fill,stroke,strokeWidth,strokeDasharray,strokeDashoffset,strokeLinecap,strokeLinejoin,strokeMiterlimit,strokeOpacity,srOnly,debug,appearance,backfaceVisibility,clipPath,hyphens,mask,maskImage,maskSize,textSizeAdjust,container,containerName,containerType,colorPalette,_hover,_focus,_focusWithin,_focusVisible,_disabled,_active,_visited,_target,_readOnly,_readWrite,_empty,_checked,_enabled,_expanded,_highlighted,_before,_after,_firstLetter,_firstLine,_marker,_selection,_file,_backdrop,_first,_last,_only,_even,_odd,_firstOfType,_lastOfType,_onlyOfType,_peerFocus,_peerHover,_peerActive,_peerFocusWithin,_peerFocusVisible,_peerDisabled,_peerChecked,_peerInvalid,_peerExpanded,_peerPlaceholderShown,_groupFocus,_groupHover,_groupActive,_groupFocusWithin,_groupFocusVisible,_groupDisabled,_groupChecked,_groupExpanded,_groupInvalid,_indeterminate,_required,_valid,_invalid,_autofill,_inRange,_outOfRange,_placeholder,_placeholderShown,_pressed,_selected,_default,_optional,_open,_closed,_fullscreen,_loading,_currentPage,_currentStep,_motionReduce,_motionSafe,_print,_landscape,_portrait,_dark,_light,_osDark,_osLight,_highContrast,_lessContrast,_moreContrast,_ltr,_rtl,_scrollbar,_scrollbarThumb,_scrollbarTrack,_horizontal,_vertical,_starting,sm,smOnly,smDown,md,mdOnly,mdDown,lg,lgOnly,lgDown,xl,xlOnly,xlDown,2xl,2xlOnly,2xlDown,smToMd,smToLg,smToXl,smTo2xl,mdToLg,mdToXl,mdTo2xl,lgToXl,lgTo2xl,xlTo2xl,textStyle\"\nvar userGenerated = userGeneratedStr.split(\",\");\nvar cssPropertiesStr = \"WebkitAppearance,WebkitBorderBefore,WebkitBorderBeforeColor,WebkitBorderBeforeStyle,WebkitBorderBeforeWidth,WebkitBoxReflect,WebkitLineClamp,WebkitMask,WebkitMaskAttachment,WebkitMaskClip,WebkitMaskComposite,WebkitMaskImage,WebkitMaskOrigin,WebkitMaskPosition,WebkitMaskPositionX,WebkitMaskPositionY,WebkitMaskRepeat,WebkitMaskRepeatX,WebkitMaskRepeatY,WebkitMaskSize,WebkitOverflowScrolling,WebkitTapHighlightColor,WebkitTextFillColor,WebkitTextStroke,WebkitTextStrokeColor,WebkitTextStrokeWidth,WebkitTouchCallout,WebkitUserModify,accentColor,alignContent,alignItems,alignSelf,alignTracks,all,animation,animationComposition,animationDelay,animationDirection,animationDuration,animationFillMode,animationIterationCount,animationName,animationPlayState,animationRange,animationRangeEnd,animationRangeStart,animationTimingFunction,animationTimeline,appearance,aspectRatio,azimuth,backdropFilter,backfaceVisibility,background,backgroundAttachment,backgroundBlendMode,backgroundClip,backgroundColor,backgroundImage,backgroundOrigin,backgroundPosition,backgroundPositionX,backgroundPositionY,backgroundRepeat,backgroundSize,blockSize,border,borderBlock,borderBlockColor,borderBlockStyle,borderBlockWidth,borderBlockEnd,borderBlockEndColor,borderBlockEndStyle,borderBlockEndWidth,borderBlockStart,borderBlockStartColor,borderBlockStartStyle,borderBlockStartWidth,borderBottom,borderBottomColor,borderBottomLeftRadius,borderBottomRightRadius,borderBottomStyle,borderBottomWidth,borderCollapse,borderColor,borderEndEndRadius,borderEndStartRadius,borderImage,borderImageOutset,borderImageRepeat,borderImageSlice,borderImageSource,borderImageWidth,borderInline,borderInlineEnd,borderInlineColor,borderInlineStyle,borderInlineWidth,borderInlineEndColor,borderInlineEndStyle,borderInlineEndWidth,borderInlineStart,borderInlineStartColor,borderInlineStartStyle,borderInlineStartWidth,borderLeft,borderLeftColor,borderLeftStyle,borderLeftWidth,borderRadius,borderRight,borderRightColor,borderRightStyle,borderRightWidth,borderSpacing,borderStartEndRadius,borderStartStartRadius,borderStyle,borderTop,borderTopColor,borderTopLeftRadius,borderTopRightRadius,borderTopStyle,borderTopWidth,borderWidth,bottom,boxAlign,boxDecorationBreak,boxDirection,boxFlex,boxFlexGroup,boxLines,boxOrdinalGroup,boxOrient,boxPack,boxShadow,boxSizing,breakAfter,breakBefore,breakInside,captionSide,caret,caretColor,caretShape,clear,clip,clipPath,color,colorScheme,columnCount,columnFill,columnGap,columnRule,columnRuleColor,columnRuleStyle,columnRuleWidth,columnSpan,columnWidth,columns,contain,containIntrinsicSize,containIntrinsicBlockSize,containIntrinsicHeight,containIntrinsicInlineSize,containIntrinsicWidth,container,containerName,containerType,content,contentVisibility,counterIncrement,counterReset,counterSet,cursor,direction,display,emptyCells,filter,flex,flexBasis,flexDirection,flexFlow,flexGrow,flexShrink,flexWrap,float,font,fontFamily,fontFeatureSettings,fontKerning,fontLanguageOverride,fontOpticalSizing,fontPalette,fontVariationSettings,fontSize,fontSizeAdjust,fontSmooth,fontStretch,fontStyle,fontSynthesis,fontSynthesisPosition,fontSynthesisSmallCaps,fontSynthesisStyle,fontSynthesisWeight,fontVariant,fontVariantAlternates,fontVariantCaps,fontVariantEastAsian,fontVariantEmoji,fontVariantLigatures,fontVariantNumeric,fontVariantPosition,fontWeight,forcedColorAdjust,gap,grid,gridArea,gridAutoColumns,gridAutoFlow,gridAutoRows,gridColumn,gridColumnEnd,gridColumnGap,gridColumnStart,gridGap,gridRow,gridRowEnd,gridRowGap,gridRowStart,gridTemplate,gridTemplateAreas,gridTemplateColumns,gridTemplateRows,hangingPunctuation,height,hyphenateCharacter,hyphenateLimitChars,hyphens,imageOrientation,imageRendering,imageResolution,imeMode,initialLetter,initialLetterAlign,inlineSize,inputSecurity,inset,insetBlock,insetBlockEnd,insetBlockStart,insetInline,insetInlineEnd,insetInlineStart,isolation,justifyContent,justifyItems,justifySelf,justifyTracks,left,letterSpacing,lineBreak,lineClamp,lineHeight,lineHeightStep,listStyle,listStyleImage,listStylePosition,listStyleType,margin,marginBlock,marginBlockEnd,marginBlockStart,marginBottom,marginInline,marginInlineEnd,marginInlineStart,marginLeft,marginRight,marginTop,marginTrim,mask,maskBorder,maskBorderMode,maskBorderOutset,maskBorderRepeat,maskBorderSlice,maskBorderSource,maskBorderWidth,maskClip,maskComposite,maskImage,maskMode,maskOrigin,maskPosition,maskRepeat,maskSize,maskType,masonryAutoFlow,mathDepth,mathShift,mathStyle,maxBlockSize,maxHeight,maxInlineSize,maxLines,maxWidth,minBlockSize,minHeight,minInlineSize,minWidth,mixBlendMode,objectFit,objectPosition,offset,offsetAnchor,offsetDistance,offsetPath,offsetPosition,offsetRotate,opacity,order,orphans,outline,outlineColor,outlineOffset,outlineStyle,outlineWidth,overflow,overflowAnchor,overflowBlock,overflowClipBox,overflowClipMargin,overflowInline,overflowWrap,overflowX,overflowY,overlay,overscrollBehavior,overscrollBehaviorBlock,overscrollBehaviorInline,overscrollBehaviorX,overscrollBehaviorY,padding,paddingBlock,paddingBlockEnd,paddingBlockStart,paddingBottom,paddingInline,paddingInlineEnd,paddingInlineStart,paddingLeft,paddingRight,paddingTop,page,pageBreakAfter,pageBreakBefore,pageBreakInside,paintOrder,perspective,perspectiveOrigin,placeContent,placeItems,placeSelf,pointerEvents,position,printColorAdjust,quotes,resize,right,rotate,rowGap,rubyAlign,rubyMerge,rubyPosition,scale,scrollbarColor,scrollbarGutter,scrollbarWidth,scrollBehavior,scrollMargin,scrollMarginBlock,scrollMarginBlockStart,scrollMarginBlockEnd,scrollMarginBottom,scrollMarginInline,scrollMarginInlineStart,scrollMarginInlineEnd,scrollMarginLeft,scrollMarginRight,scrollMarginTop,scrollPadding,scrollPaddingBlock,scrollPaddingBlockStart,scrollPaddingBlockEnd,scrollPaddingBottom,scrollPaddingInline,scrollPaddingInlineStart,scrollPaddingInlineEnd,scrollPaddingLeft,scrollPaddingRight,scrollPaddingTop,scrollSnapAlign,scrollSnapCoordinate,scrollSnapDestination,scrollSnapPointsX,scrollSnapPointsY,scrollSnapStop,scrollSnapType,scrollSnapTypeX,scrollSnapTypeY,scrollTimeline,scrollTimelineAxis,scrollTimelineName,shapeImageThreshold,shapeMargin,shapeOutside,tabSize,tableLayout,textAlign,textAlignLast,textCombineUpright,textDecoration,textDecorationColor,textDecorationLine,textDecorationSkip,textDecorationSkipInk,textDecorationStyle,textDecorationThickness,textEmphasis,textEmphasisColor,textEmphasisPosition,textEmphasisStyle,textIndent,textJustify,textOrientation,textOverflow,textRendering,textShadow,textSizeAdjust,textTransform,textUnderlineOffset,textUnderlinePosition,textWrap,timelineScope,top,touchAction,transform,transformBox,transformOrigin,transformStyle,transition,transitionBehavior,transitionDelay,transitionDuration,transitionProperty,transitionTimingFunction,translate,unicodeBidi,userSelect,verticalAlign,viewTimeline,viewTimelineAxis,viewTimelineInset,viewTimelineName,viewTransitionName,visibility,whiteSpace,whiteSpaceCollapse,widows,width,willChange,wordBreak,wordSpacing,wordWrap,writingMode,zIndex,zoom,alignmentBaseline,baselineShift,clipRule,colorInterpolation,colorRendering,dominantBaseline,fill,fillOpacity,fillRule,floodColor,floodOpacity,glyphOrientationVertical,lightingColor,marker,markerEnd,markerMid,markerStart,shapeRendering,stopColor,stopOpacity,stroke,strokeDasharray,strokeDashoffset,strokeLinecap,strokeLinejoin,strokeMiterlimit,strokeOpacity,strokeWidth,textAnchor,vectorEffect\";\nvar allCssProperties = cssPropertiesStr.split(\",\").concat(userGenerated);\nvar properties = new Map(allCssProperties.map((prop) => [prop, true]));\nvar cssPropertySelectorRegex = /&|@/;\nvar isCssProperty = /* @__PURE__ */ memo((prop) => {\n  return properties.has(prop) || prop.startsWith(\"--\") || cssPropertySelectorRegex.test(prop);\n});\nexport {\n  allCssProperties,\n  isCssProperty\n};\nexport const splitCssProps = (props) =>  splitProps(props, isCssProperty)","import { isCssProperty } from './is-valid-prop.js';\n\nexport const defaultShouldForwardProp = (prop, variantKeys) => !variantKeys.includes(prop) && !isCssProperty(prop)\n\nexport const composeShouldForwardProps = (tag, shouldForwardProp) =>\n  tag.__shouldForwardProps__ && shouldForwardProp\n    ? (propName) => tag.__shouldForwardProps__(propName) && shouldForwardProp(propName)\n    : shouldForwardProp\n\nexport const composeCvaFn = (cvaA, cvaB) => {\n  if (cvaA && !cvaB) return cvaA\n  if (!cvaA && cvaB) return cvaB\n  if ((cvaA.__cva__ && cvaB.__cva__) || (cvaA.__recipe__ && cvaB.__recipe__)) return cvaA.merge(cvaB)\n  const error = new TypeError('Cannot merge cva with recipe. Please use either cva or recipe.')\n  TypeError.captureStackTrace?.(error)\n  throw error\n}\n\nexport const getDisplayName = (Component) => {\n  if (typeof Component === 'string') return Component\n  return Component?.displayName || Component?.name || 'Component'\n}","import { createElement, forwardRef, useMemo } from 'react'\nimport { css, cx, cva } from '../css/index.js';\nimport { defaultShouldForwardProp, composeShouldForwardProps, composeCvaFn, getDisplayName } from './factory-helper.js';\nimport { splitProps, normalizeHTMLProps } from '../helpers.js';\nimport { isCssProperty } from './is-valid-prop.js';\n\nfunction styledFn(Dynamic, configOrCva = {}, options = {}) {\n  const cvaFn = configOrCva.__cva__ || configOrCva.__recipe__ ? configOrCva : cva(configOrCva)\n\n  const forwardFn = options.shouldForwardProp || defaultShouldForwardProp\n  const shouldForwardProp = (prop) => forwardFn(prop, cvaFn.variantKeys)\n\n  const defaultProps = Object.assign(\n    options.dataAttr && configOrCva.__name__ ? { 'data-recipe': configOrCva.__name__ } : {},\n    options.defaultProps,\n  )\n\n  const __cvaFn__ = composeCvaFn(Dynamic.__cva__, cvaFn)\n  const __shouldForwardProps__ = composeShouldForwardProps(Dynamic, shouldForwardProp)\n  const __base__ = Dynamic.__base__ || Dynamic\n\n  const StyledComponent = /* @__PURE__ */ forwardRef(function StyledComponent(props, ref) {\n    const { as: Element = __base__, children, ...restProps } = props\n\n    const combinedProps = useMemo(() => Object.assign({}, defaultProps, restProps), [restProps])\n\n    const [htmlProps, forwardedProps, variantProps, styleProps, elementProps] = useMemo(() => {\n      return splitProps(combinedProps, normalizeHTMLProps.keys, __shouldForwardProps__, __cvaFn__.variantKeys, isCssProperty)\n    }, [combinedProps])\n\n    function recipeClass() {\n      const { css: cssStyles, ...propStyles } = styleProps\n      const compoundVariantStyles = __cvaFn__.__getCompoundVariantCss__?.(variantProps)\n      return cx(__cvaFn__(variantProps, false), css(compoundVariantStyles, propStyles, cssStyles), combinedProps.className)\n    }\n\n    function cvaClass() {\n      const { css: cssStyles, ...propStyles } = styleProps\n      const cvaStyles = __cvaFn__.raw(variantProps)\n      return cx(css(cvaStyles, propStyles, cssStyles), combinedProps.className)\n    }\n\n    const classes = configOrCva.__recipe__ ? recipeClass : cvaClass\n\n    return createElement(Element, {\n      ref,\n      ...forwardedProps,\n      ...elementProps,\n      ...normalizeHTMLProps(htmlProps),\n      className: classes(),\n    }, combinedProps.children ?? children)\n  })\n\n  const name = getDisplayName(__base__)\n\n  StyledComponent.displayName = `styled.${name}`\n  StyledComponent.__cva__ = __cvaFn__\n  StyledComponent.__base__ = __base__\n  StyledComponent.__shouldForwardProps__ = shouldForwardProp\n\n  return StyledComponent\n}\n\nfunction createJsxFactory() {\n  const cache = new Map()\n\n  return new Proxy(styledFn, {\n    apply(_, __, args) {\n      return styledFn(...args)\n    },\n    get(_, el) {\n      if (!cache.has(el)) {\n        cache.set(el, styledFn(el))\n      }\n      return cache.get(el)\n    },\n  })\n}\n\nexport const styled = /* @__PURE__ */ createJsxFactory()\n","import { getPatternStyles, patternFns } from '../helpers.js';\nimport { css } from '../css/index.js';\n\nconst boxConfig = {\ntransform(props) {\n  return props;\n}}\n\nexport const getBoxStyle = (styles = {}) => {\n  const _styles = getPatternStyles(boxConfig, styles)\n  return boxConfig.transform(_styles, patternFns)\n}\n\nexport const box = (styles) => css(getBoxStyle(styles))\nbox.raw = getBoxStyle","import { createElement, forwardRef } from 'react'\n\nimport { splitProps } from '../helpers.js';\nimport { getBoxStyle } from '../patterns/box.js';\nimport { styled } from './factory.js';\n\nexport const Box = /* @__PURE__ */ forwardRef(function Box(props, ref) {\n  const [patternProps, restProps] = splitProps(props, [])\n\nconst styleProps = getBoxStyle(patternProps)\nconst mergedProps = { ref, ...styleProps, ...restProps }\n\nreturn createElement(styled.div, mergedProps)\n  })","import { getPatternStyles, patternFns } from '../helpers.js';\nimport { css } from '../css/index.js';\n\nconst flexConfig = {\ntransform(props) {\n  const { direction, align, justify, wrap: wrap2, basis, grow, shrink, ...rest } = props;\n  return {\n    display: \"flex\",\n    flexDirection: direction,\n    alignItems: align,\n    justifyContent: justify,\n    flexWrap: wrap2,\n    flexBasis: basis,\n    flexGrow: grow,\n    flexShrink: shrink,\n    ...rest\n  };\n}}\n\nexport const getFlexStyle = (styles = {}) => {\n  const _styles = getPatternStyles(flexConfig, styles)\n  return flexConfig.transform(_styles, patternFns)\n}\n\nexport const flex = (styles) => css(getFlexStyle(styles))\nflex.raw = getFlexStyle","import { createElement, forwardRef } from 'react'\n\nimport { splitProps } from '../helpers.js';\nimport { getFlexStyle } from '../patterns/flex.js';\nimport { styled } from './factory.js';\n\nexport const Flex = /* @__PURE__ */ forwardRef(function Flex(props, ref) {\n  const [patternProps, restProps] = splitProps(props, [\"align\",\"justify\",\"direction\",\"wrap\",\"basis\",\"grow\",\"shrink\"])\n\nconst styleProps = getFlexStyle(patternProps)\nconst mergedProps = { ref, ...styleProps, ...restProps }\n\nreturn createElement(styled.div, mergedProps)\n  })","import { getPatternStyles, patternFns } from '../helpers.js';\nimport { css } from '../css/index.js';\n\nconst stackConfig = {\ntransform(props) {\n  const { align, justify, direction, gap, ...rest } = props;\n  return {\n    display: \"flex\",\n    flexDirection: direction,\n    alignItems: align,\n    justifyContent: justify,\n    gap,\n    ...rest\n  };\n},\ndefaultValues:{direction:'column',gap:'10px'}}\n\nexport const getStackStyle = (styles = {}) => {\n  const _styles = getPatternStyles(stackConfig, styles)\n  return stackConfig.transform(_styles, patternFns)\n}\n\nexport const stack = (styles) => css(getStackStyle(styles))\nstack.raw = getStackStyle","import { createElement, forwardRef } from 'react'\n\nimport { splitProps } from '../helpers.js';\nimport { getStackStyle } from '../patterns/stack.js';\nimport { styled } from './factory.js';\n\nexport const Stack = /* @__PURE__ */ forwardRef(function Stack(props, ref) {\n  const [patternProps, restProps] = splitProps(props, [\"align\",\"justify\",\"direction\",\"gap\"])\n\nconst styleProps = getStackStyle(patternProps)\nconst mergedProps = { ref, ...styleProps, ...restProps }\n\nreturn createElement(styled.div, mergedProps)\n  })","import { getPatternStyles, patternFns } from '../helpers.js';\nimport { css } from '../css/index.js';\n\nconst vstackConfig = {\ntransform(props) {\n  const { justify, gap, ...rest } = props;\n  return {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: justify,\n    gap,\n    flexDirection: \"column\",\n    ...rest\n  };\n},\ndefaultValues:{gap:'10px'}}\n\nexport const getVstackStyle = (styles = {}) => {\n  const _styles = getPatternStyles(vstackConfig, styles)\n  return vstackConfig.transform(_styles, patternFns)\n}\n\nexport const vstack = (styles) => css(getVstackStyle(styles))\nvstack.raw = getVstackStyle","import { createElement, forwardRef } from 'react'\n\nimport { splitProps } from '../helpers.js';\nimport { getVstackStyle } from '../patterns/vstack.js';\nimport { styled } from './factory.js';\n\nexport const VStack = /* @__PURE__ */ forwardRef(function VStack(props, ref) {\n  const [patternProps, restProps] = splitProps(props, [\"justify\",\"gap\"])\n\nconst styleProps = getVstackStyle(patternProps)\nconst mergedProps = { ref, ...styleProps, ...restProps }\n\nreturn createElement(styled.div, mergedProps)\n  })","import { getPatternStyles, patternFns } from '../helpers.js';\nimport { css } from '../css/index.js';\n\nconst hstackConfig = {\ntransform(props) {\n  const { justify, gap, ...rest } = props;\n  return {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: justify,\n    gap,\n    flexDirection: \"row\",\n    ...rest\n  };\n},\ndefaultValues:{gap:'10px'}}\n\nexport const getHstackStyle = (styles = {}) => {\n  const _styles = getPatternStyles(hstackConfig, styles)\n  return hstackConfig.transform(_styles, patternFns)\n}\n\nexport const hstack = (styles) => css(getHstackStyle(styles))\nhstack.raw = getHstackStyle","import { createElement, forwardRef } from 'react'\n\nimport { splitProps } from '../helpers.js';\nimport { getHstackStyle } from '../patterns/hstack.js';\nimport { styled } from './factory.js';\n\nexport const HStack = /* @__PURE__ */ forwardRef(function HStack(props, ref) {\n  const [patternProps, restProps] = splitProps(props, [\"justify\",\"gap\"])\n\nconst styleProps = getHstackStyle(patternProps)\nconst mergedProps = { ref, ...styleProps, ...restProps }\n\nreturn createElement(styled.div, mergedProps)\n  })","import { getPatternStyles, patternFns } from '../helpers.js';\nimport { css } from '../css/index.js';\n\nconst spacerConfig = {\ntransform(props, { map }) {\n  const { size, ...rest } = props;\n  return {\n    alignSelf: \"stretch\",\n    justifySelf: \"stretch\",\n    flex: map(size, (v) => v == null ? \"1\" : `0 0 ${v}`),\n    ...rest\n  };\n}}\n\nexport const getSpacerStyle = (styles = {}) => {\n  const _styles = getPatternStyles(spacerConfig, styles)\n  return spacerConfig.transform(_styles, patternFns)\n}\n\nexport const spacer = (styles) => css(getSpacerStyle(styles))\nspacer.raw = getSpacerStyle","import { createElement, forwardRef } from 'react'\n\nimport { splitProps } from '../helpers.js';\nimport { getSpacerStyle } from '../patterns/spacer.js';\nimport { styled } from './factory.js';\n\nexport const Spacer = /* @__PURE__ */ forwardRef(function Spacer(props, ref) {\n  const [patternProps, restProps] = splitProps(props, [\"size\"])\n\nconst styleProps = getSpacerStyle(patternProps)\nconst mergedProps = { ref, ...styleProps, ...restProps }\n\nreturn createElement(styled.div, mergedProps)\n  })","import { getPatternStyles, patternFns } from '../helpers.js';\nimport { css } from '../css/index.js';\n\nconst squareConfig = {\ntransform(props) {\n  const { size, ...rest } = props;\n  return {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: \"0 0 auto\",\n    width: size,\n    height: size,\n    ...rest\n  };\n}}\n\nexport const getSquareStyle = (styles = {}) => {\n  const _styles = getPatternStyles(squareConfig, styles)\n  return squareConfig.transform(_styles, patternFns)\n}\n\nexport const square = (styles) => css(getSquareStyle(styles))\nsquare.raw = getSquareStyle","import { createElement, forwardRef } from 'react'\n\nimport { splitProps } from '../helpers.js';\nimport { getSquareStyle } from '../patterns/square.js';\nimport { styled } from './factory.js';\n\nexport const Square = /* @__PURE__ */ forwardRef(function Square(props, ref) {\n  const [patternProps, restProps] = splitProps(props, [\"size\"])\n\nconst styleProps = getSquareStyle(patternProps)\nconst mergedProps = { ref, ...styleProps, ...restProps }\n\nreturn createElement(styled.div, mergedProps)\n  })","import { getPatternStyles, patternFns } from '../helpers.js';\nimport { css } from '../css/index.js';\n\nconst circleConfig = {\ntransform(props) {\n  const { size, ...rest } = props;\n  return {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: \"0 0 auto\",\n    width: size,\n    height: size,\n    borderRadius: \"9999px\",\n    ...rest\n  };\n}}\n\nexport const getCircleStyle = (styles = {}) => {\n  const _styles = getPatternStyles(circleConfig, styles)\n  return circleConfig.transform(_styles, patternFns)\n}\n\nexport const circle = (styles) => css(getCircleStyle(styles))\ncircle.raw = getCircleStyle","import { createElement, forwardRef } from 'react'\n\nimport { splitProps } from '../helpers.js';\nimport { getCircleStyle } from '../patterns/circle.js';\nimport { styled } from './factory.js';\n\nexport const Circle = /* @__PURE__ */ forwardRef(function Circle(props, ref) {\n  const [patternProps, restProps] = splitProps(props, [\"size\"])\n\nconst styleProps = getCircleStyle(patternProps)\nconst mergedProps = { ref, ...styleProps, ...restProps }\n\nreturn createElement(styled.div, mergedProps)\n  })","import { getPatternStyles, patternFns } from '../helpers.js';\nimport { css } from '../css/index.js';\n\nconst centerConfig = {\ntransform(props) {\n  const { inline, ...rest } = props;\n  return {\n    display: inline ? \"inline-flex\" : \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    ...rest\n  };\n}}\n\nexport const getCenterStyle = (styles = {}) => {\n  const _styles = getPatternStyles(centerConfig, styles)\n  return centerConfig.transform(_styles, patternFns)\n}\n\nexport const center = (styles) => css(getCenterStyle(styles))\ncenter.raw = getCenterStyle","import { createElement, forwardRef } from 'react'\n\nimport { splitProps } from '../helpers.js';\nimport { getCenterStyle } from '../patterns/center.js';\nimport { styled } from './factory.js';\n\nexport const Center = /* @__PURE__ */ forwardRef(function Center(props, ref) {\n  const [patternProps, restProps] = splitProps(props, [\"inline\"])\n\nconst styleProps = getCenterStyle(patternProps)\nconst mergedProps = { ref, ...styleProps, ...restProps }\n\nreturn createElement(styled.div, mergedProps)\n  })","import { getPatternStyles, patternFns } from '../helpers.js';\nimport { css } from '../css/index.js';\n\nconst linkOverlayConfig = {\ntransform(props) {\n  return {\n    _before: {\n      content: '\"\"',\n      position: \"absolute\",\n      inset: \"0\",\n      zIndex: \"0\",\n      ...props[\"_before\"]\n    },\n    ...props\n  };\n}}\n\nexport const getLinkOverlayStyle = (styles = {}) => {\n  const _styles = getPatternStyles(linkOverlayConfig, styles)\n  return linkOverlayConfig.transform(_styles, patternFns)\n}\n\nexport const linkOverlay = (styles) => css(getLinkOverlayStyle(styles))\nlinkOverlay.raw = getLinkOverlayStyle","import { createElement, forwardRef } from 'react'\n\nimport { splitProps } from '../helpers.js';\nimport { getLinkOverlayStyle } from '../patterns/link-overlay.js';\nimport { styled } from './factory.js';\n\nexport const LinkOverlay = /* @__PURE__ */ forwardRef(function LinkOverlay(props, ref) {\n  const [patternProps, restProps] = splitProps(props, [])\n\nconst styleProps = getLinkOverlayStyle(patternProps)\nconst mergedProps = { ref, ...styleProps, ...restProps }\n\nreturn createElement(styled.a, mergedProps)\n  })","import { getPatternStyles, patternFns } from '../helpers.js';\nimport { css } from '../css/index.js';\n\nconst aspectRatioConfig = {\ntransform(props, { map }) {\n  const { ratio = 4 / 3, ...rest } = props;\n  return {\n    position: \"relative\",\n    _before: {\n      content: `\"\"`,\n      display: \"block\",\n      height: \"0\",\n      paddingBottom: map(ratio, (r) => `${1 / r * 100}%`)\n    },\n    \"&>*\": {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      overflow: \"hidden\",\n      position: \"absolute\",\n      inset: \"0\",\n      width: \"100%\",\n      height: \"100%\"\n    },\n    \"&>img, &>video\": {\n      objectFit: \"cover\"\n    },\n    ...rest\n  };\n}}\n\nexport const getAspectRatioStyle = (styles = {}) => {\n  const _styles = getPatternStyles(aspectRatioConfig, styles)\n  return aspectRatioConfig.transform(_styles, patternFns)\n}\n\nexport const aspectRatio = (styles) => css(getAspectRatioStyle(styles))\naspectRatio.raw = getAspectRatioStyle","import { createElement, forwardRef } from 'react'\n\nimport { splitProps } from '../helpers.js';\nimport { getAspectRatioStyle } from '../patterns/aspect-ratio.js';\nimport { styled } from './factory.js';\n\nexport const AspectRatio = /* @__PURE__ */ forwardRef(function AspectRatio(props, ref) {\n  const [patternProps, restProps] = splitProps(props, [\"ratio\"])\n\nconst styleProps = getAspectRatioStyle(patternProps)\nconst mergedProps = { ref, ...styleProps, ...restProps }\n\nreturn createElement(styled.div, mergedProps)\n  })","import { getPatternStyles, patternFns } from '../helpers.js';\nimport { css } from '../css/index.js';\n\nconst gridConfig = {\ntransform(props, { map, isCssUnit }) {\n  const { columnGap, rowGap, gap, columns, minChildWidth, ...rest } = props;\n  const getValue = (v) => isCssUnit(v) ? v : `token(sizes.${v}, ${v})`;\n  return {\n    display: \"grid\",\n    gridTemplateColumns: columns != null ? map(columns, (v) => `repeat(${v}, minmax(0, 1fr))`) : minChildWidth != null ? map(minChildWidth, (v) => `repeat(auto-fit, minmax(${getValue(v)}, 1fr))`) : void 0,\n    gap,\n    columnGap,\n    rowGap,\n    ...rest\n  };\n},\ndefaultValues(props) {\n  return { gap: props.columnGap || props.rowGap ? void 0 : \"10px\" };\n}}\n\nexport const getGridStyle = (styles = {}) => {\n  const _styles = getPatternStyles(gridConfig, styles)\n  return gridConfig.transform(_styles, patternFns)\n}\n\nexport const grid = (styles) => css(getGridStyle(styles))\ngrid.raw = getGridStyle","import { createElement, forwardRef } from 'react'\n\nimport { splitProps } from '../helpers.js';\nimport { getGridStyle } from '../patterns/grid.js';\nimport { styled } from './factory.js';\n\nexport const Grid = /* @__PURE__ */ forwardRef(function Grid(props, ref) {\n  const [patternProps, restProps] = splitProps(props, [\"gap\",\"columnGap\",\"rowGap\",\"columns\",\"minChildWidth\"])\n\nconst styleProps = getGridStyle(patternProps)\nconst mergedProps = { ref, ...styleProps, ...restProps }\n\nreturn createElement(styled.div, mergedProps)\n  })","import { getPatternStyles, patternFns } from '../helpers.js';\nimport { css } from '../css/index.js';\n\nconst gridItemConfig = {\ntransform(props, { map }) {\n  const { colSpan, rowSpan, colStart, rowStart, colEnd, rowEnd, ...rest } = props;\n  const spanFn = (v) => v === \"auto\" ? v : `span ${v}`;\n  return {\n    gridColumn: colSpan != null ? map(colSpan, spanFn) : void 0,\n    gridRow: rowSpan != null ? map(rowSpan, spanFn) : void 0,\n    gridColumnStart: colStart,\n    gridColumnEnd: colEnd,\n    gridRowStart: rowStart,\n    gridRowEnd: rowEnd,\n    ...rest\n  };\n}}\n\nexport const getGridItemStyle = (styles = {}) => {\n  const _styles = getPatternStyles(gridItemConfig, styles)\n  return gridItemConfig.transform(_styles, patternFns)\n}\n\nexport const gridItem = (styles) => css(getGridItemStyle(styles))\ngridItem.raw = getGridItemStyle","import { createElement, forwardRef } from 'react'\n\nimport { splitProps } from '../helpers.js';\nimport { getGridItemStyle } from '../patterns/grid-item.js';\nimport { styled } from './factory.js';\n\nexport const GridItem = /* @__PURE__ */ forwardRef(function GridItem(props, ref) {\n  const [patternProps, restProps] = splitProps(props, [\"colSpan\",\"rowSpan\",\"colStart\",\"rowStart\",\"colEnd\",\"rowEnd\"])\n\nconst styleProps = getGridItemStyle(patternProps)\nconst mergedProps = { ref, ...styleProps, ...restProps }\n\nreturn createElement(styled.div, mergedProps)\n  })","import { getPatternStyles, patternFns } from '../helpers.js';\nimport { css } from '../css/index.js';\n\nconst wrapConfig = {\ntransform(props) {\n  const { columnGap, rowGap, gap = columnGap || rowGap ? void 0 : \"10px\", align, justify, ...rest } = props;\n  return {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: align,\n    justifyContent: justify,\n    gap,\n    columnGap,\n    rowGap,\n    ...rest\n  };\n}}\n\nexport const getWrapStyle = (styles = {}) => {\n  const _styles = getPatternStyles(wrapConfig, styles)\n  return wrapConfig.transform(_styles, patternFns)\n}\n\nexport const wrap = (styles) => css(getWrapStyle(styles))\nwrap.raw = getWrapStyle","import { createElement, forwardRef } from 'react'\n\nimport { splitProps } from '../helpers.js';\nimport { getWrapStyle } from '../patterns/wrap.js';\nimport { styled } from './factory.js';\n\nexport const Wrap = /* @__PURE__ */ forwardRef(function Wrap(props, ref) {\n  const [patternProps, restProps] = splitProps(props, [\"gap\",\"rowGap\",\"columnGap\",\"align\",\"justify\"])\n\nconst styleProps = getWrapStyle(patternProps)\nconst mergedProps = { ref, ...styleProps, ...restProps }\n\nreturn createElement(styled.div, mergedProps)\n  })","import { getPatternStyles, patternFns } from '../helpers.js';\nimport { css } from '../css/index.js';\n\nconst containerConfig = {\ntransform(props) {\n  return {\n    position: \"relative\",\n    maxWidth: \"8xl\",\n    mx: \"auto\",\n    px: { base: \"4\", md: \"6\", lg: \"8\" },\n    ...props\n  };\n}}\n\nexport const getContainerStyle = (styles = {}) => {\n  const _styles = getPatternStyles(containerConfig, styles)\n  return containerConfig.transform(_styles, patternFns)\n}\n\nexport const container = (styles) => css(getContainerStyle(styles))\ncontainer.raw = getContainerStyle","import { createElement, forwardRef } from 'react'\n\nimport { splitProps } from '../helpers.js';\nimport { getContainerStyle } from '../patterns/container.js';\nimport { styled } from './factory.js';\n\nexport const Container = /* @__PURE__ */ forwardRef(function Container(props, ref) {\n  const [patternProps, restProps] = splitProps(props, [])\n\nconst styleProps = getContainerStyle(patternProps)\nconst mergedProps = { ref, ...styleProps, ...restProps }\n\nreturn createElement(styled.div, mergedProps)\n  })","import { getPatternStyles, patternFns } from '../helpers.js';\nimport { css } from '../css/index.js';\n\nconst dividerConfig = {\ntransform(props, { map }) {\n  const { orientation, thickness, color, ...rest } = props;\n  return {\n    \"--thickness\": thickness,\n    width: map(orientation, (v) => v === \"vertical\" ? void 0 : \"100%\"),\n    height: map(orientation, (v) => v === \"horizontal\" ? void 0 : \"100%\"),\n    borderBlockEndWidth: map(orientation, (v) => v === \"horizontal\" ? \"var(--thickness)\" : void 0),\n    borderInlineEndWidth: map(orientation, (v) => v === \"vertical\" ? \"var(--thickness)\" : void 0),\n    borderColor: color,\n    ...rest\n  };\n},\ndefaultValues:{orientation:'horizontal',thickness:'1px'}}\n\nexport const getDividerStyle = (styles = {}) => {\n  const _styles = getPatternStyles(dividerConfig, styles)\n  return dividerConfig.transform(_styles, patternFns)\n}\n\nexport const divider = (styles) => css(getDividerStyle(styles))\ndivider.raw = getDividerStyle","import { createElement, forwardRef } from 'react'\n\nimport { splitProps } from '../helpers.js';\nimport { getDividerStyle } from '../patterns/divider.js';\nimport { styled } from './factory.js';\n\nexport const Divider = /* @__PURE__ */ forwardRef(function Divider(props, ref) {\n  const [patternProps, restProps] = splitProps(props, [\"orientation\",\"thickness\",\"color\"])\n\nconst styleProps = getDividerStyle(patternProps)\nconst mergedProps = { ref, ...styleProps, ...restProps }\n\nreturn createElement(styled.div, mergedProps)\n  })","import { getPatternStyles, patternFns } from '../helpers.js';\nimport { css } from '../css/index.js';\n\nconst floatConfig = {\ntransform(props, { map }) {\n  const { offset, offsetX, offsetY, placement, ...rest } = props;\n  return {\n    display: \"inline-flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    position: \"absolute\",\n    insetBlockStart: map(placement, (v) => {\n      const [side] = v.split(\"-\");\n      const map2 = { top: offsetY, middle: \"50%\", bottom: \"auto\" };\n      return map2[side];\n    }),\n    insetBlockEnd: map(placement, (v) => {\n      const [side] = v.split(\"-\");\n      const map2 = { top: \"auto\", middle: \"50%\", bottom: offsetY };\n      return map2[side];\n    }),\n    insetInlineStart: map(placement, (v) => {\n      const [, align] = v.split(\"-\");\n      const map2 = { start: offsetX, center: \"50%\", end: \"auto\" };\n      return map2[align];\n    }),\n    insetInlineEnd: map(placement, (v) => {\n      const [, align] = v.split(\"-\");\n      const map2 = { start: \"auto\", center: \"50%\", end: offsetX };\n      return map2[align];\n    }),\n    translate: map(placement, (v) => {\n      const [side, align] = v.split(\"-\");\n      const mapX = { start: \"-50%\", center: \"-50%\", end: \"50%\" };\n      const mapY = { top: \"-50%\", middle: \"-50%\", bottom: \"50%\" };\n      return `${mapX[align]} ${mapY[side]}`;\n    }),\n    ...rest\n  };\n},\ndefaultValues(props) {\n  const offset = props.offset || \"0\";\n  return { offset, offsetX: offset, offsetY: offset, placement: \"top-end\" };\n}}\n\nexport const getFloatStyle = (styles = {}) => {\n  const _styles = getPatternStyles(floatConfig, styles)\n  return floatConfig.transform(_styles, patternFns)\n}\n\nexport const float = (styles) => css(getFloatStyle(styles))\nfloat.raw = getFloatStyle","import { createElement, forwardRef } from 'react'\n\nimport { splitProps } from '../helpers.js';\nimport { getFloatStyle } from '../patterns/float.js';\nimport { styled } from './factory.js';\n\nexport const Float = /* @__PURE__ */ forwardRef(function Float(props, ref) {\n  const [patternProps, restProps] = splitProps(props, [\"offsetX\",\"offsetY\",\"offset\",\"placement\"])\n\nconst styleProps = getFloatStyle(patternProps)\nconst mergedProps = { ref, ...styleProps, ...restProps }\n\nreturn createElement(styled.div, mergedProps)\n  })","import { getPatternStyles, patternFns } from '../helpers.js';\nimport { css } from '../css/index.js';\n\nconst bleedConfig = {\ntransform(props, { map, isCssUnit, isCssVar }) {\n  const { inline, block, ...rest } = props;\n  const valueFn = (v) => isCssUnit(v) || isCssVar(v) ? v : `token(spacing.${v}, ${v})`;\n  return {\n    \"--bleed-x\": map(inline, valueFn),\n    \"--bleed-y\": map(block, valueFn),\n    marginInline: \"calc(var(--bleed-x, 0) * -1)\",\n    marginBlock: \"calc(var(--bleed-y, 0) * -1)\",\n    ...rest\n  };\n},\ndefaultValues:{inline:'0',block:'0'}}\n\nexport const getBleedStyle = (styles = {}) => {\n  const _styles = getPatternStyles(bleedConfig, styles)\n  return bleedConfig.transform(_styles, patternFns)\n}\n\nexport const bleed = (styles) => css(getBleedStyle(styles))\nbleed.raw = getBleedStyle","import { createElement, forwardRef } from 'react'\n\nimport { splitProps } from '../helpers.js';\nimport { getBleedStyle } from '../patterns/bleed.js';\nimport { styled } from './factory.js';\n\nexport const Bleed = /* @__PURE__ */ forwardRef(function Bleed(props, ref) {\n  const [patternProps, restProps] = splitProps(props, [\"inline\",\"block\"])\n\nconst styleProps = getBleedStyle(patternProps)\nconst mergedProps = { ref, ...styleProps, ...restProps }\n\nreturn createElement(styled.div, mergedProps)\n  })","import { getPatternStyles, patternFns } from '../helpers.js';\nimport { css } from '../css/index.js';\n\nconst visuallyHiddenConfig = {\ntransform(props) {\n  return {\n    srOnly: true,\n    ...props\n  };\n}}\n\nexport const getVisuallyHiddenStyle = (styles = {}) => {\n  const _styles = getPatternStyles(visuallyHiddenConfig, styles)\n  return visuallyHiddenConfig.transform(_styles, patternFns)\n}\n\nexport const visuallyHidden = (styles) => css(getVisuallyHiddenStyle(styles))\nvisuallyHidden.raw = getVisuallyHiddenStyle","import { createElement, forwardRef } from 'react'\n\nimport { splitProps } from '../helpers.js';\nimport { getVisuallyHiddenStyle } from '../patterns/visually-hidden.js';\nimport { styled } from './factory.js';\n\nexport const VisuallyHidden = /* @__PURE__ */ forwardRef(function VisuallyHidden(props, ref) {\n  const [patternProps, restProps] = splitProps(props, [])\n\nconst styleProps = getVisuallyHiddenStyle(patternProps)\nconst mergedProps = { ref, ...styleProps, ...restProps }\n\nreturn createElement(styled.div, mergedProps)\n  })","import { getPatternStyles, patternFns } from '../helpers.js';\nimport { css } from '../css/index.js';\n\nconst cqConfig = {\ntransform(props) {\n  const { name, type, ...rest } = props;\n  return {\n    containerType: type,\n    containerName: name,\n    ...rest\n  };\n},\ndefaultValues:{type:'inline-size'}}\n\nexport const getCqStyle = (styles = {}) => {\n  const _styles = getPatternStyles(cqConfig, styles)\n  return cqConfig.transform(_styles, patternFns)\n}\n\nexport const cq = (styles) => css(getCqStyle(styles))\ncq.raw = getCqStyle","import { createElement, forwardRef } from 'react'\n\nimport { splitProps } from '../helpers.js';\nimport { getCqStyle } from '../patterns/cq.js';\nimport { styled } from './factory.js';\n\nexport const Cq = /* @__PURE__ */ forwardRef(function Cq(props, ref) {\n  const [patternProps, restProps] = splitProps(props, [\"name\",\"type\"])\n\nconst styleProps = getCqStyle(patternProps)\nconst mergedProps = { ref, ...styleProps, ...restProps }\n\nreturn createElement(styled.div, mergedProps)\n  })","export * from './factory.js';\nexport * from './is-valid-prop.js';\nexport * from './box.js';\nexport * from './flex.js';\nexport * from './stack.js';\nexport * from './vstack.js';\nexport * from './hstack.js';\nexport * from './spacer.js';\nexport * from './square.js';\nexport * from './circle.js';\nexport * from './center.js';\nexport * from './link-overlay.js';\nexport * from './aspect-ratio.js';\nexport * from './grid.js';\nexport * from './grid-item.js';\nexport * from './wrap.js';\nexport * from './container.js';\nexport * from './divider.js';\nexport * from './float.js';\nexport * from './bleed.js';\nexport * from './visually-hidden.js';\nexport * from './cq.js';","import { finalizeConditions, sortConditions } from '../css/conditions.js';\nimport { css } from '../css/css.js';\nimport { assertCompoundVariant, getCompoundVariantCss } from '../css/cva.js';\nimport { cx } from '../css/cx.js';\nimport { compact, createCss, splitProps, uniq, withoutSpace } from '../helpers.js';\n\nexport const createRecipe = (name, defaultVariants, compoundVariants) => {\n const getVariantProps = (variants) => {\n   return {\n     [name]: '__ignore__',\n     ...defaultVariants,\n     ...compact(variants),\n   };\n };\n\n  const recipeFn = (variants, withCompoundVariants = true) => {\n   const transform = (prop, value) => {\n     assertCompoundVariant(name, compoundVariants, variants, prop)\n\n      if (value === '__ignore__') {\n        return { className: name }\n      }\n\n      value = withoutSpace(value)\n      return { className: `${name}--${prop}_${value}` }\n   }\n\n   const recipeCss = createCss({\n     \n     conditions: {\n       shift: sortConditions,\n       finalize: finalizeConditions,\n       breakpoints: { keys: [\"base\",\"sm\",\"md\",\"lg\",\"xl\",\"2xl\"] }\n     },\n     utility: {\n       prefix: \"leather\",\n       toHash: (path, hashFn) => hashFn(path.join(\":\")),\n       transform,\n     }\n   })\n\n   const recipeStyles = getVariantProps(variants)\n\n   if (withCompoundVariants) {\n     const compoundVariantStyles = getCompoundVariantCss(compoundVariants, recipeStyles)\n     return cx(recipeCss(recipeStyles), css(compoundVariantStyles))\n   }\n\n   return recipeCss(recipeStyles)\n  }\n\n   return {\n     recipeFn,\n     getVariantProps,\n     __getCompoundVariantCss__: (variants) => {\n       return getCompoundVariantCss(compoundVariants, getVariantProps(variants));\n     },\n   }\n}\n\nexport const mergeRecipes = (recipeA, recipeB) => {\n if (recipeA && !recipeB) return recipeA\n if (!recipeA && recipeB) return recipeB\n\n const recipeFn = (...args) => cx(recipeA(...args), recipeB(...args))\n const variantKeys = uniq(recipeA.variantKeys, recipeB.variantKeys)\n const variantMap = variantKeys.reduce((acc, key) => {\n   acc[key] = uniq(recipeA.variantMap[key], recipeB.variantMap[key])\n   return acc\n }, {})\n\n return Object.assign(recipeFn, {\n   __recipe__: true,\n   __name__: `${recipeA.__name__} ${recipeB.__name__}`,\n   raw: (props) => props,\n   variantKeys,\n   variantMap,\n   splitVariantProps(props) {\n     return splitProps(props, variantKeys)\n   },\n })\n }\n","import { memo, splitProps } from '../helpers.js';\nimport { createRecipe, mergeRecipes } from './create-recipe.js';\n\nconst buttonFn = /* @__PURE__ */ createRecipe('button', {\n  \"size\": \"md\",\n  \"variant\": \"solid\"\n}, [\n  {\n    \"css\": {\n      \"_active\": {\n        \"bg\": \"ink.component-background-pressed\"\n      },\n      \"_hover\": {\n        \"bg\": \"ink.background-primary\"\n      },\n      \"_loading\": {\n        \"_after\": {\n          \"borderColor\": \"ink.text-primary\"\n        }\n      },\n      \"bg\": \"ink.background-secondary\",\n      \"color\": \"ink.text-primary\"\n    },\n    \"invert\": true,\n    \"variant\": \"solid\"\n  },\n  {\n    \"css\": {\n      \"_active\": {\n        \"bg\": \"ink.text-primary\"\n      },\n      \"_before\": {\n        \"borderColor\": \"ink.background-secondary\"\n      },\n      \"_hover\": {\n        \"bg\": \"ink.action-primary-hover\"\n      },\n      \"_loading\": {\n        \"_after\": {\n          \"borderColor\": \"ink.text-primary\"\n        }\n      },\n      \"border\": \"1px solid {colors.ink.background-secondary}\",\n      \"color\": \"ink.background-secondary\"\n    },\n    \"invert\": true,\n    \"variant\": \"outline\"\n  },\n  {\n    \"css\": {\n      \"p\": \"space.02\"\n    },\n    \"trigger\": true,\n    \"variant\": \"ghost\"\n  }\n])\n\nconst buttonVariantMap = {\n  \"size\": [\n    \"sm\",\n    \"md\"\n  ],\n  \"variant\": [\n    \"solid\",\n    \"outline\",\n    \"ghost\"\n  ],\n  \"invert\": [\n    \"true\"\n  ],\n  \"fullWidth\": [\n    \"true\"\n  ],\n  \"trigger\": [\n    \"true\"\n  ]\n}\n\nconst buttonVariantKeys = Object.keys(buttonVariantMap)\n\nexport const button = /* @__PURE__ */ Object.assign(memo(buttonFn.recipeFn), {\n  __recipe__: true,\n  __name__: 'button',\n  __getCompoundVariantCss__: buttonFn.__getCompoundVariantCss__,\n  raw: (props) => props,\n  variantKeys: buttonVariantKeys,\n  variantMap: buttonVariantMap,\n  merge(recipe) {\n    return mergeRecipes(this, recipe)\n  },\n  splitVariantProps(props) {\n    return splitProps(props, buttonVariantKeys)\n  },\n  getVariantProps: buttonFn.getVariantProps,\n})","import { memo, splitProps } from '../helpers.js';\nimport { createRecipe, mergeRecipes } from './create-recipe.js';\n\nconst linkFn = /* @__PURE__ */ createRecipe('link', {\n  \"size\": \"md\",\n  \"variant\": \"underlined\"\n}, [\n  {\n    \"css\": {\n      \"_focus\": {\n        \"_before\": {\n          \"background\": \"ink.background-primary\",\n          \"visibility\": \"visible\"\n        },\n        \"outline\": 0\n      },\n      \"_hover\": {\n        \"_before\": {\n          \"background\": \"ink.background-primary\",\n          \"visibility\": \"visible\"\n        }\n      },\n      \"color\": \"ink.background-secondary\"\n    },\n    \"invert\": true,\n    \"variant\": \"underlined\"\n  },\n  {\n    \"css\": {\n      \"_before\": {\n        \"content\": \"\\\"\\\"\",\n        \"background\": \"ink.text-non-interactive\",\n        \"bottom\": \"-2px\",\n        \"height\": \"2px\",\n        \"left\": 0,\n        \"position\": \"absolute\",\n        \"right\": 0\n      },\n      \"color\": \"ink.text-non-interactive\",\n      \"cursor\": \"not-allowed\"\n    },\n    \"disabled\": true,\n    \"variant\": \"underlined\"\n  },\n  {\n    \"css\": {\n      \"_before\": {\n        \"content\": \"\\\"\\\"\",\n        \"background\": \"ink.text-non-interactive\",\n        \"bottom\": \"-2px\",\n        \"height\": \"2px\",\n        \"left\": 0,\n        \"position\": \"absolute\",\n        \"right\": 0,\n        \"visibility\": \"visible\"\n      },\n      \"color\": \"ink.text-non-interactive\",\n      \"cursor\": \"not-allowed\"\n    },\n    \"disabled\": true,\n    \"variant\": \"text\"\n  }\n])\n\nconst linkVariantMap = {\n  \"size\": [\n    \"sm\",\n    \"md\",\n    \"lg\"\n  ],\n  \"variant\": [\n    \"underlined\",\n    \"text\"\n  ],\n  \"invert\": [\n    \"true\"\n  ],\n  \"disabled\": [\n    \"true\"\n  ],\n  \"fullWidth\": [\n    \"true\"\n  ]\n}\n\nconst linkVariantKeys = Object.keys(linkVariantMap)\n\nexport const link = /* @__PURE__ */ Object.assign(memo(linkFn.recipeFn), {\n  __recipe__: true,\n  __name__: 'link',\n  __getCompoundVariantCss__: linkFn.__getCompoundVariantCss__,\n  raw: (props) => props,\n  variantKeys: linkVariantKeys,\n  variantMap: linkVariantMap,\n  merge(recipe) {\n    return mergeRecipes(this, recipe)\n  },\n  splitVariantProps(props) {\n    return splitProps(props, linkVariantKeys)\n  },\n  getVariantProps: linkFn.getVariantProps,\n})","export * from './button.js';\nexport * from './link.js';","const tokens = {\n  \"animations.spin\": {\n    \"value\": \"spin 1s linear infinite\",\n    \"variable\": \"var(--leather-animations-spin)\"\n  },\n  \"borders.action\": {\n    \"value\": \"1px solid var(--leather-colors-ink-action-primary-default)\",\n    \"variable\": \"var(--leather-borders-action)\"\n  },\n  \"borders.active\": {\n    \"value\": \"2px solid var(--leather-colors-ink-border-default)\",\n    \"variable\": \"var(--leather-borders-active)\"\n  },\n  \"borders.background\": {\n    \"value\": \"2px solid var(--leather-colors-ink-background-primary)\",\n    \"variable\": \"var(--leather-borders-background)\"\n  },\n  \"borders.dashed\": {\n    \"value\": \"2px dashed var(--leather-colors-ink-component-background-default)\",\n    \"variable\": \"var(--leather-borders-dashed)\"\n  },\n  \"borders.default\": {\n    \"value\": \"1px solid var(--leather-colors-ink-border-default)\",\n    \"variable\": \"var(--leather-borders-default)\"\n  },\n  \"borders.error\": {\n    \"value\": \"1px solid var(--leather-colors-red-border)\",\n    \"variable\": \"var(--leather-borders-error)\"\n  },\n  \"borders.focus\": {\n    \"value\": \"2px solid var(--leather-colors-ink-action-primary-default)\",\n    \"variable\": \"var(--leather-borders-focus)\"\n  },\n  \"borders.invert\": {\n    \"value\": \"1px solid var(--leather-colors-invert)\",\n    \"variable\": \"var(--leather-borders-invert)\"\n  },\n  \"borders.subdued\": {\n    \"value\": \"1px solid var(--leather-colors-ink-text-subdued)\",\n    \"variable\": \"var(--leather-borders-subdued)\"\n  },\n  \"borders.warning\": {\n    \"value\": \"1px solid var(--leather-colors-yellow-border)\",\n    \"variable\": \"var(--leather-borders-warning)\"\n  },\n  \"colors.current\": {\n    \"value\": \"currentColor\",\n    \"variable\": \"var(--leather-colors-current)\"\n  },\n  \"colors.overlay\": {\n    \"value\": \"rgba(0,0,0,0.4)\",\n    \"variable\": \"var(--leather-colors-overlay)\"\n  },\n  \"radii.xs\": {\n    \"value\": \"2px\",\n    \"variable\": \"var(--leather-radii-xs)\"\n  },\n  \"radii.sm\": {\n    \"value\": \"4px\",\n    \"variable\": \"var(--leather-radii-sm)\"\n  },\n  \"radii.md\": {\n    \"value\": \"8px\",\n    \"variable\": \"var(--leather-radii-md)\"\n  },\n  \"radii.lg\": {\n    \"value\": \"12px\",\n    \"variable\": \"var(--leather-radii-lg)\"\n  },\n  \"sizes.xs\": {\n    \"value\": \"12px\",\n    \"variable\": \"var(--leather-sizes-xs)\"\n  },\n  \"sizes.sm\": {\n    \"value\": \"16px\",\n    \"variable\": \"var(--leather-sizes-sm)\"\n  },\n  \"sizes.md\": {\n    \"value\": \"24px\",\n    \"variable\": \"var(--leather-sizes-md)\"\n  },\n  \"sizes.lg\": {\n    \"value\": \"32px\",\n    \"variable\": \"var(--leather-sizes-lg)\"\n  },\n  \"sizes.xl\": {\n    \"value\": \"36px\",\n    \"variable\": \"var(--leather-sizes-xl)\"\n  },\n  \"sizes.xxl\": {\n    \"value\": \"40px\",\n    \"variable\": \"var(--leather-sizes-xxl)\"\n  },\n  \"sizes.pageWidth\": {\n    \"value\": \"500px\",\n    \"variable\": \"var(--leather-sizes-page-width)\"\n  },\n  \"sizes.twoColumnPageWidth\": {\n    \"value\": \"500px\",\n    \"variable\": \"var(--leather-sizes-two-column-page-width)\"\n  },\n  \"sizes.fullPageMaxWidth\": {\n    \"value\": \"882px\",\n    \"variable\": \"var(--leather-sizes-full-page-max-width)\"\n  },\n  \"sizes.dialogHeight\": {\n    \"value\": \"600px\",\n    \"variable\": \"var(--leather-sizes-dialog-height)\"\n  },\n  \"sizes.dialogContentHeight\": {\n    \"value\": \"500px\",\n    \"variable\": \"var(--leather-sizes-dialog-content-height)\"\n  },\n  \"sizes.headerHeight\": {\n    \"value\": \"80px\",\n    \"variable\": \"var(--leather-sizes-header-height)\"\n  },\n  \"sizes.footerHeight\": {\n    \"value\": \"95px\",\n    \"variable\": \"var(--leather-sizes-footer-height)\"\n  },\n  \"sizes.popupWidth\": {\n    \"value\": \"390px\",\n    \"variable\": \"var(--leather-sizes-popup-width)\"\n  },\n  \"sizes.popupMaxWidth\": {\n    \"value\": \"640px\",\n    \"variable\": \"var(--leather-sizes-popup-max-width)\"\n  },\n  \"sizes.popupHeight\": {\n    \"value\": \"756px\",\n    \"variable\": \"var(--leather-sizes-popup-height)\"\n  },\n  \"sizes.popupHeaderHeight\": {\n    \"value\": \"68px\",\n    \"variable\": \"var(--leather-sizes-popup-header-height)\"\n  },\n  \"sizes.headerContainerHeight\": {\n    \"value\": \"40px\",\n    \"variable\": \"var(--leather-sizes-header-container-height)\"\n  },\n  \"sizes.inputHeight\": {\n    \"value\": \"64px\",\n    \"variable\": \"var(--leather-sizes-input-height)\"\n  },\n  \"sizes.iconButtonWithLabelWidth\": {\n    \"value\": \"64px\",\n    \"variable\": \"var(--leather-sizes-icon-button-with-label-width)\"\n  },\n  \"sizes.settingsMenuWidth\": {\n    \"value\": \"240px\",\n    \"variable\": \"var(--leather-sizes-settings-menu-width)\"\n  },\n  \"sizes.breakpoint-sm\": {\n    \"value\": \"398px\",\n    \"variable\": \"var(--leather-sizes-breakpoint-sm)\"\n  },\n  \"sizes.breakpoint-md\": {\n    \"value\": \"768px\",\n    \"variable\": \"var(--leather-sizes-breakpoint-md)\"\n  },\n  \"sizes.breakpoint-lg\": {\n    \"value\": \"1024px\",\n    \"variable\": \"var(--leather-sizes-breakpoint-lg)\"\n  },\n  \"sizes.breakpoint-xl\": {\n    \"value\": \"1280px\",\n    \"variable\": \"var(--leather-sizes-breakpoint-xl)\"\n  },\n  \"sizes.breakpoint-2xl\": {\n    \"value\": \"1536px\",\n    \"variable\": \"var(--leather-sizes-breakpoint-2xl)\"\n  },\n  \"spacing.space.00\": {\n    \"value\": \"0\",\n    \"variable\": \"var(--leather-spacing-space\\\\.00)\"\n  },\n  \"spacing.space.01\": {\n    \"value\": \"4px\",\n    \"variable\": \"var(--leather-spacing-space\\\\.01)\"\n  },\n  \"spacing.space.02\": {\n    \"value\": \"8px\",\n    \"variable\": \"var(--leather-spacing-space\\\\.02)\"\n  },\n  \"spacing.space.03\": {\n    \"value\": \"12px\",\n    \"variable\": \"var(--leather-spacing-space\\\\.03)\"\n  },\n  \"spacing.space.04\": {\n    \"value\": \"16px\",\n    \"variable\": \"var(--leather-spacing-space\\\\.04)\"\n  },\n  \"spacing.space.05\": {\n    \"value\": \"24px\",\n    \"variable\": \"var(--leather-spacing-space\\\\.05)\"\n  },\n  \"spacing.space.06\": {\n    \"value\": \"32px\",\n    \"variable\": \"var(--leather-spacing-space\\\\.06)\"\n  },\n  \"spacing.space.07\": {\n    \"value\": \"40px\",\n    \"variable\": \"var(--leather-spacing-space\\\\.07)\"\n  },\n  \"spacing.space.08\": {\n    \"value\": \"48px\",\n    \"variable\": \"var(--leather-spacing-space\\\\.08)\"\n  },\n  \"spacing.space.09\": {\n    \"value\": \"64px\",\n    \"variable\": \"var(--leather-spacing-space\\\\.09)\"\n  },\n  \"spacing.space.10\": {\n    \"value\": \"72px\",\n    \"variable\": \"var(--leather-spacing-space\\\\.10)\"\n  },\n  \"spacing.space.11\": {\n    \"value\": \"128px\",\n    \"variable\": \"var(--leather-spacing-space\\\\.11)\"\n  },\n  \"transition\": {\n    \"value\": \"all 0.2s cubic-bezier(0.23, 1, 0.32, 1)\",\n    \"variable\": \"var(--leather-transition)\"\n  },\n  \"breakpoints.sm\": {\n    \"value\": \"398px\",\n    \"variable\": \"var(--leather-breakpoints-sm)\"\n  },\n  \"breakpoints.md\": {\n    \"value\": \"768px\",\n    \"variable\": \"var(--leather-breakpoints-md)\"\n  },\n  \"breakpoints.lg\": {\n    \"value\": \"1024px\",\n    \"variable\": \"var(--leather-breakpoints-lg)\"\n  },\n  \"breakpoints.xl\": {\n    \"value\": \"1280px\",\n    \"variable\": \"var(--leather-breakpoints-xl)\"\n  },\n  \"breakpoints.2xl\": {\n    \"value\": \"1536px\",\n    \"variable\": \"var(--leather-breakpoints-2xl)\"\n  },\n  \"colors.ink.text-primary\": {\n    \"value\": \"var(--leather-colors-ink-text-primary)\",\n    \"variable\": \"var(--leather-colors-ink-text-primary)\"\n  },\n  \"colors.ink.text-subdued\": {\n    \"value\": \"var(--leather-colors-ink-text-subdued)\",\n    \"variable\": \"var(--leather-colors-ink-text-subdued)\"\n  },\n  \"colors.ink.action-primary-hover\": {\n    \"value\": \"var(--leather-colors-ink-action-primary-hover)\",\n    \"variable\": \"var(--leather-colors-ink-action-primary-hover)\"\n  },\n  \"colors.ink.action-primary-default\": {\n    \"value\": \"var(--leather-colors-ink-action-primary-default)\",\n    \"variable\": \"var(--leather-colors-ink-action-primary-default)\"\n  },\n  \"colors.ink.border-transparent\": {\n    \"value\": \"var(--leather-colors-ink-border-transparent)\",\n    \"variable\": \"var(--leather-colors-ink-border-transparent)\"\n  },\n  \"colors.ink.border-default\": {\n    \"value\": \"var(--leather-colors-ink-border-default)\",\n    \"variable\": \"var(--leather-colors-ink-border-default)\"\n  },\n  \"colors.ink.text-non-interactive\": {\n    \"value\": \"var(--leather-colors-ink-text-non-interactive)\",\n    \"variable\": \"var(--leather-colors-ink-text-non-interactive)\"\n  },\n  \"colors.ink.component-background-non-interactive\": {\n    \"value\": \"var(--leather-colors-ink-component-background-non-interactive)\",\n    \"variable\": \"var(--leather-colors-ink-component-background-non-interactive)\"\n  },\n  \"colors.ink.component-background-pressed\": {\n    \"value\": \"var(--leather-colors-ink-component-background-pressed)\",\n    \"variable\": \"var(--leather-colors-ink-component-background-pressed)\"\n  },\n  \"colors.ink.component-background-hover\": {\n    \"value\": \"var(--leather-colors-ink-component-background-hover)\",\n    \"variable\": \"var(--leather-colors-ink-component-background-hover)\"\n  },\n  \"colors.ink.component-background-default\": {\n    \"value\": \"var(--leather-colors-ink-component-background-default)\",\n    \"variable\": \"var(--leather-colors-ink-component-background-default)\"\n  },\n  \"colors.ink.background-overlay\": {\n    \"value\": \"var(--leather-colors-ink-background-overlay)\",\n    \"variable\": \"var(--leather-colors-ink-background-overlay)\"\n  },\n  \"colors.ink.background-secondary\": {\n    \"value\": \"var(--leather-colors-ink-background-secondary)\",\n    \"variable\": \"var(--leather-colors-ink-background-secondary)\"\n  },\n  \"colors.ink.background-primary\": {\n    \"value\": \"var(--leather-colors-ink-background-primary)\",\n    \"variable\": \"var(--leather-colors-ink-background-primary)\"\n  },\n  \"colors.red.text-primary\": {\n    \"value\": \"var(--leather-colors-red-text-primary)\",\n    \"variable\": \"var(--leather-colors-red-text-primary)\"\n  },\n  \"colors.red.action-primary-default\": {\n    \"value\": \"var(--leather-colors-red-action-primary-default)\",\n    \"variable\": \"var(--leather-colors-red-action-primary-default)\"\n  },\n  \"colors.red.border\": {\n    \"value\": \"var(--leather-colors-red-border)\",\n    \"variable\": \"var(--leather-colors-red-border)\"\n  },\n  \"colors.red.background-secondary\": {\n    \"value\": \"var(--leather-colors-red-background-secondary)\",\n    \"variable\": \"var(--leather-colors-red-background-secondary)\"\n  },\n  \"colors.red.background-primary\": {\n    \"value\": \"var(--leather-colors-red-background-primary)\",\n    \"variable\": \"var(--leather-colors-red-background-primary)\"\n  },\n  \"colors.blue.text-primary\": {\n    \"value\": \"var(--leather-colors-blue-text-primary)\",\n    \"variable\": \"var(--leather-colors-blue-text-primary)\"\n  },\n  \"colors.blue.action-primary-default\": {\n    \"value\": \"var(--leather-colors-blue-action-primary-default)\",\n    \"variable\": \"var(--leather-colors-blue-action-primary-default)\"\n  },\n  \"colors.blue.border\": {\n    \"value\": \"var(--leather-colors-blue-border)\",\n    \"variable\": \"var(--leather-colors-blue-border)\"\n  },\n  \"colors.blue.background-secondary\": {\n    \"value\": \"var(--leather-colors-blue-background-secondary)\",\n    \"variable\": \"var(--leather-colors-blue-background-secondary)\"\n  },\n  \"colors.blue.background-primary\": {\n    \"value\": \"var(--leather-colors-blue-background-primary)\",\n    \"variable\": \"var(--leather-colors-blue-background-primary)\"\n  },\n  \"colors.yellow.text-primary\": {\n    \"value\": \"var(--leather-colors-yellow-text-primary)\",\n    \"variable\": \"var(--leather-colors-yellow-text-primary)\"\n  },\n  \"colors.yellow.action-primary-default\": {\n    \"value\": \"var(--leather-colors-yellow-action-primary-default)\",\n    \"variable\": \"var(--leather-colors-yellow-action-primary-default)\"\n  },\n  \"colors.yellow.border\": {\n    \"value\": \"var(--leather-colors-yellow-border)\",\n    \"variable\": \"var(--leather-colors-yellow-border)\"\n  },\n  \"colors.yellow.background-secondary\": {\n    \"value\": \"var(--leather-colors-yellow-background-secondary)\",\n    \"variable\": \"var(--leather-colors-yellow-background-secondary)\"\n  },\n  \"colors.yellow.background-primary\": {\n    \"value\": \"var(--leather-colors-yellow-background-primary)\",\n    \"variable\": \"var(--leather-colors-yellow-background-primary)\"\n  },\n  \"colors.green.text-primary\": {\n    \"value\": \"var(--leather-colors-green-text-primary)\",\n    \"variable\": \"var(--leather-colors-green-text-primary)\"\n  },\n  \"colors.green.action-primary-default\": {\n    \"value\": \"var(--leather-colors-green-action-primary-default)\",\n    \"variable\": \"var(--leather-colors-green-action-primary-default)\"\n  },\n  \"colors.green.border\": {\n    \"value\": \"var(--leather-colors-green-border)\",\n    \"variable\": \"var(--leather-colors-green-border)\"\n  },\n  \"colors.green.background-secondary\": {\n    \"value\": \"var(--leather-colors-green-background-secondary)\",\n    \"variable\": \"var(--leather-colors-green-background-secondary)\"\n  },\n  \"colors.green.background-primary\": {\n    \"value\": \"var(--leather-colors-green-background-primary)\",\n    \"variable\": \"var(--leather-colors-green-background-primary)\"\n  },\n  \"colors.invert\": {\n    \"value\": \"var(--leather-colors-invert)\",\n    \"variable\": \"var(--leather-colors-invert)\"\n  },\n  \"colors.stacks\": {\n    \"value\": \"var(--leather-colors-stacks)\",\n    \"variable\": \"var(--leather-colors-stacks)\"\n  },\n  \"spacing.-space.00\": {\n    \"value\": \"calc(var(--leather-spacing-space\\\\.00) * -1)\",\n    \"variable\": \"var(--leather-spacing-space\\\\.00)\"\n  },\n  \"spacing.-space.01\": {\n    \"value\": \"calc(var(--leather-spacing-space\\\\.01) * -1)\",\n    \"variable\": \"var(--leather-spacing-space\\\\.01)\"\n  },\n  \"spacing.-space.02\": {\n    \"value\": \"calc(var(--leather-spacing-space\\\\.02) * -1)\",\n    \"variable\": \"var(--leather-spacing-space\\\\.02)\"\n  },\n  \"spacing.-space.03\": {\n    \"value\": \"calc(var(--leather-spacing-space\\\\.03) * -1)\",\n    \"variable\": \"var(--leather-spacing-space\\\\.03)\"\n  },\n  \"spacing.-space.04\": {\n    \"value\": \"calc(var(--leather-spacing-space\\\\.04) * -1)\",\n    \"variable\": \"var(--leather-spacing-space\\\\.04)\"\n  },\n  \"spacing.-space.05\": {\n    \"value\": \"calc(var(--leather-spacing-space\\\\.05) * -1)\",\n    \"variable\": \"var(--leather-spacing-space\\\\.05)\"\n  },\n  \"spacing.-space.06\": {\n    \"value\": \"calc(var(--leather-spacing-space\\\\.06) * -1)\",\n    \"variable\": \"var(--leather-spacing-space\\\\.06)\"\n  },\n  \"spacing.-space.07\": {\n    \"value\": \"calc(var(--leather-spacing-space\\\\.07) * -1)\",\n    \"variable\": \"var(--leather-spacing-space\\\\.07)\"\n  },\n  \"spacing.-space.08\": {\n    \"value\": \"calc(var(--leather-spacing-space\\\\.08) * -1)\",\n    \"variable\": \"var(--leather-spacing-space\\\\.08)\"\n  },\n  \"spacing.-space.09\": {\n    \"value\": \"calc(var(--leather-spacing-space\\\\.09) * -1)\",\n    \"variable\": \"var(--leather-spacing-space\\\\.09)\"\n  },\n  \"spacing.-space.10\": {\n    \"value\": \"calc(var(--leather-spacing-space\\\\.10) * -1)\",\n    \"variable\": \"var(--leather-spacing-space\\\\.10)\"\n  },\n  \"spacing.-space.11\": {\n    \"value\": \"calc(var(--leather-spacing-space\\\\.11) * -1)\",\n    \"variable\": \"var(--leather-spacing-space\\\\.11)\"\n  },\n  \"colors.colorPalette\": {\n    \"value\": \"var(--leather-colors-color-palette)\",\n    \"variable\": \"var(--leather-colors-color-palette)\"\n  },\n  \"colors.colorPalette.text-primary\": {\n    \"value\": \"var(--leather-colors-color-palette-text-primary)\",\n    \"variable\": \"var(--leather-colors-color-palette-text-primary)\"\n  },\n  \"colors.colorPalette.text-subdued\": {\n    \"value\": \"var(--leather-colors-color-palette-text-subdued)\",\n    \"variable\": \"var(--leather-colors-color-palette-text-subdued)\"\n  },\n  \"colors.colorPalette.action-primary-hover\": {\n    \"value\": \"var(--leather-colors-color-palette-action-primary-hover)\",\n    \"variable\": \"var(--leather-colors-color-palette-action-primary-hover)\"\n  },\n  \"colors.colorPalette.action-primary-default\": {\n    \"value\": \"var(--leather-colors-color-palette-action-primary-default)\",\n    \"variable\": \"var(--leather-colors-color-palette-action-primary-default)\"\n  },\n  \"colors.colorPalette.border-transparent\": {\n    \"value\": \"var(--leather-colors-color-palette-border-transparent)\",\n    \"variable\": \"var(--leather-colors-color-palette-border-transparent)\"\n  },\n  \"colors.colorPalette.border-default\": {\n    \"value\": \"var(--leather-colors-color-palette-border-default)\",\n    \"variable\": \"var(--leather-colors-color-palette-border-default)\"\n  },\n  \"colors.colorPalette.text-non-interactive\": {\n    \"value\": \"var(--leather-colors-color-palette-text-non-interactive)\",\n    \"variable\": \"var(--leather-colors-color-palette-text-non-interactive)\"\n  },\n  \"colors.colorPalette.component-background-non-interactive\": {\n    \"value\": \"var(--leather-colors-color-palette-component-background-non-interactive)\",\n    \"variable\": \"var(--leather-colors-color-palette-component-background-non-interactive)\"\n  },\n  \"colors.colorPalette.component-background-pressed\": {\n    \"value\": \"var(--leather-colors-color-palette-component-background-pressed)\",\n    \"variable\": \"var(--leather-colors-color-palette-component-background-pressed)\"\n  },\n  \"colors.colorPalette.component-background-hover\": {\n    \"value\": \"var(--leather-colors-color-palette-component-background-hover)\",\n    \"variable\": \"var(--leather-colors-color-palette-component-background-hover)\"\n  },\n  \"colors.colorPalette.component-background-default\": {\n    \"value\": \"var(--leather-colors-color-palette-component-background-default)\",\n    \"variable\": \"var(--leather-colors-color-palette-component-background-default)\"\n  },\n  \"colors.colorPalette.background-overlay\": {\n    \"value\": \"var(--leather-colors-color-palette-background-overlay)\",\n    \"variable\": \"var(--leather-colors-color-palette-background-overlay)\"\n  },\n  \"colors.colorPalette.background-secondary\": {\n    \"value\": \"var(--leather-colors-color-palette-background-secondary)\",\n    \"variable\": \"var(--leather-colors-color-palette-background-secondary)\"\n  },\n  \"colors.colorPalette.background-primary\": {\n    \"value\": \"var(--leather-colors-color-palette-background-primary)\",\n    \"variable\": \"var(--leather-colors-color-palette-background-primary)\"\n  },\n  \"colors.colorPalette.border\": {\n    \"value\": \"var(--leather-colors-color-palette-border)\",\n    \"variable\": \"var(--leather-colors-color-palette-border)\"\n  }\n}\n\nexport function token(path, fallback) {\n  return tokens[path]?.value || fallback\n}\n\nfunction tokenVar(path, fallback) {\n  return tokens[path]?.variable || fallback\n}\n\ntoken.var = tokenVar","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + ({\"10\":\"tsub-middleware\",\"50\":\"ajs-destination\",\"104\":\"schemaFilter\",\"248\":\"auto-track\",\"521\":\"remoteMiddleware\",\"538\":\"queryString\",\"694\":\"legacyVideos\"}[chunkId] || chunkId) + \".\" + {\"10\":\"cedcaef4\",\"33\":\"9709feb6\",\"50\":\"ad6ab668\",\"104\":\"e2adc4e0\",\"224\":\"26de5aa9\",\"248\":\"cd90418a\",\"399\":\"88517bd9\",\"521\":\"358d7428\",\"538\":\"31b365fd\",\"694\":\"adfcf205\",\"745\":\"a5a92e9f\",\"826\":\"1e61546d\"}[chunkId] + \".chunk.js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"@leather.io/extension:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t57: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_leather_io_extension\"] = self[\"webpackChunk_leather_io_extension\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [702], () => (__webpack_require__(6310)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["LedgerConnectionErrors","id","PeerNetworkID","error","LoadingKeys","amount","FormErrorMessages","submittedTransactionsActions","tx","rawTx","txid","Prism","fee","FundPageSelectors","ActiveFiatProviders","HomePageSelectors","CryptoAssetSelectors","SendCryptoAssetSelectors","CustomFeeTabs","network","maxFontSize","SendFormWarningMessages","estimate","SwapSelectors","message","TransactionRequestSelectors","UpdateProfileRequestSelectors","PsbtSelectors","DlcSelectors","TransactionErrorReason","unsignedTx","inputsToSign","WalletType","WorkerScript","ExternalMethods","InternalMethods","RouteUrls","NetworkSelectors","OnboardingSelectors","SettingsSelectors","SharedComponentsSelectors"],"sourceRoot":""}