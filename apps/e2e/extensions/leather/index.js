;!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="19dda009-b335-4d13-b768-2cdca6e1efae",e._sentryDebugIdIdentifier="sentry-dbid-19dda009-b335-4d13-b768-2cdca6e1efae")}catch(e){}}();

    var _global =
      typeof window !== 'undefined' ?
        window :
        typeof global !== 'undefined' ?
          global :
          typeof self !== 'undefined' ?
            self :
            {};

    _global.SENTRY_RELEASE={id:"6.51.1"};
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ 96172:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./connect-modal.entry.js": [
		44224,
		224
	]
};
function webpackAsyncContext(req) {
	if(!__webpack_require__.o(map, req)) {
		return Promise.resolve().then(() => {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}

	var ids = map[req], id = ids[0];
	return __webpack_require__.e(ids[1]).then(() => {
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = () => (Object.keys(map));
webpackAsyncContext.id = 96172;
module.exports = webpackAsyncContext;

/***/ }),

/***/ 60174:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_94_0_swc_core_1_7_18_esbuild_0_24_0_webpack_cli_5_1_4_webpack_bun_pmkgp2ksjqwfhthqj2qrdfhw2a_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62282);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_94_0_swc_core_1_7_18_esbuild_0_24_0_webpack_cli_5_1_4_webpack_bun_pmkgp2ksjqwfhthqj2qrdfhw2a_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_94_0_swc_core_1_7_18_esbuild_0_24_0_webpack_cli_5_1_4_webpack_bun_pmkgp2ksjqwfhthqj2qrdfhw2a_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_94_0_swc_core_1_7_18_esbuild_0_24_0_webpack_cli_5_1_4_webpack_bun_pmkgp2ksjqwfhthqj2qrdfhw2a_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(69866);
/* harmony import */ var _node_modules_pnpm_css_loader_7_1_2_webpack_5_94_0_swc_core_1_7_18_esbuild_0_24_0_webpack_cli_5_1_4_webpack_bun_pmkgp2ksjqwfhthqj2qrdfhw2a_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_css_loader_7_1_2_webpack_5_94_0_swc_core_1_7_18_esbuild_0_24_0_webpack_cli_5_1_4_webpack_bun_pmkgp2ksjqwfhthqj2qrdfhw2a_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_pnpm_css_loader_7_1_2_webpack_5_94_0_swc_core_1_7_18_esbuild_0_24_0_webpack_cli_5_1_4_webpack_bun_pmkgp2ksjqwfhthqj2qrdfhw2a_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_pnpm_css_loader_7_1_2_webpack_5_94_0_swc_core_1_7_18_esbuild_0_24_0_webpack_cli_5_1_4_webpack_bun_pmkgp2ksjqwfhthqj2qrdfhw2a_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `@keyframes contentShow{0%{opacity:0;transform:translate(-50%,-48%) scale(0.96)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}@keyframes fadein{0%{opacity:0}to{opacity:1}}@keyframes fadeout{0%{opacity:1}to{opacity:0}}@keyframes shine{0%{background-position:-50px}to{background-position:500px}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(360deg)}}@keyframes animatedTick{0%{stroke-dashoffset:350}to{stroke-dashoffset:0}}@keyframes slideUpAndFade{0%{opacity:0;transform:translateY(2px)}to{opacity:1;transform:translateY(0)}}@keyframes slideRightAndFade{0%{opacity:0;transform:translateX(-2px)}to{opacity:1;transform:translateX(0)}}@keyframes slideDownAndFade{0%{opacity:0;transform:translateY(-2px)}to{opacity:1;transform:translateY(0)}}@keyframes slideLeftAndFade{0%{opacity:0;transform:translateX(2px)}to{opacity:1;transform:translateX(0)}}@keyframes slideDownAndOut{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(4px)}}@keyframes slideDown{0%{max-height:0}to{max-height:1000px}}@keyframes slideUp{0%{max-height:1000px}to{max-height:0}}@keyframes toastAppear{0%{opacity:0;transform:translateY(-12px) scale(0.9)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes shimmer{to{-webkit-mask-position:left;mask-position:left}}:host,html{--font-fallback:ui-sans-serif,system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-tap-highlight-color:transparent;line-height:1.5;font-family:ui-sans-serif,system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';font-family:var(--global-font-body,var(--font-fallback))}*,::backdrop,::file-selector-button,:after,:before{margin:0px;padding:0px;box-sizing:border-box;border-width:0px;border-style:solid;border-color:currentColor;border-color:var(--global-color-border,currentColor)}hr{height:0px;color:inherit;border-top-width:1px}body{height:100%;line-height:inherit}img{border-style:none}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}h1,h2,h3,h4,h5,h6{text-wrap:balance;font-size:inherit;font-weight:inherit}h1,h2,h3,h4,h5,h6,p{word-wrap:break-word}menu,ol,ul{list-style:none}::file-selector-button,button,input:where([type=button],[type=reset],[type=submit]){-moz-appearance:button;appearance:button;-webkit-appearance:button}::file-selector-button,button,input,optgroup,select,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;background:transparent}::-moz-placeholder{opacity:1;--placeholder-fallback:color-mix(in srgb,currentColor 50%,transparent);color:color-mix(in srgb,currentColor 50%,transparent);color:var(--global-color-placeholder,var(--placeholder-fallback))}::placeholder{opacity:1;--placeholder-fallback:color-mix(in srgb,currentColor 50%,transparent);color:color-mix(in srgb,currentColor 50%,transparent);color:var(--global-color-placeholder,var(--placeholder-fallback))}textarea{resize:vertical}table{text-indent:0px;border-collapse:collapse;border-color:inherit}summary{display:list-item}small{font-size:80%}sub,sup{position:relative;vertical-align:baseline;font-size:75%;line-height:0}sub{bottom:-0.25em}sup{top:-0.5em}dialog{padding:0px}a{color:inherit;text-decoration:inherit}abbr:where([title]){text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,pre,samp{--font-mono-fallback:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New';font-feature-settings:normal;font-variation-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New';font-family:var(--global-font-mono,var(--font-mono-fallback));font-size:1em}progress{vertical-align:baseline}::-webkit-search-cancel-button,::-webkit-search-decoration{-webkit-appearance:none}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}:-moz-ui-invalid{box-shadow:none}:-moz-focusring{outline:auto}[hidden]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){display:none!important}:root:not(#\\#){--made-with-panda:'üêº'}button:not(#\\#){cursor:pointer}body:not(#\\#),html:not(#\\#){background-color:var(--leather-colors-ink-background-primary)}html:not(#\\#) ::-webkit-scrollbar{display:none;width:0}body.no-scroll:not(#\\#),body.no-scroll:not(#\\#) .main-content{overflow:hidden}.mode__full-page:not(#\\#),.mode__full-page:not(#\\#) .radix-themes,.mode__full-page:not(#\\#) body,.mode__full-page:not(#\\#) main{height:100%;max-height:none;max-height:initial;width:100%}.mode__full-page:not(#\\#) .main-content{margin:0 auto;flex-grow:1;justify-content:center}.mode__popup:not(#\\#),.mode__popup:not(#\\#) body{height:100%;width:100%;min-height:600px;max-width:640px;margin:0 auto}.mode__action-popup:not(#\\#) body,.mode__action-popup:not(#\\#) html{min-width:390px;max-width:390px;min-height:600px;max-height:600px;margin:0 auto}*:not(#\\#),:not(#\\#)::backdrop,:not(#\\#):after,:not(#\\#):before{--blur: ;--brightness: ;--contrast: ;--grayscale: ;--hue-rotate: ;--invert: ;--saturate: ;--sepia: ;--drop-shadow: ;--backdrop-blur: ;--backdrop-brightness: ;--backdrop-contrast: ;--backdrop-grayscale: ;--backdrop-hue-rotate: ;--backdrop-invert: ;--backdrop-opacity: ;--backdrop-saturate: ;--backdrop-sepia: ;--gradient-from-position: ;--gradient-to-position: ;--gradient-via-position: ;--scroll-snap-strictness:proximity;--border-spacing-x:0;--border-spacing-y:0;--translate-x:0;--translate-y:0;--rotate:0;--rotate-x:0;--rotate-y:0;--skew-x:0;--skew-y:0;--scale-x:1;--scale-y:1}:where(:root,:host):not(#\\#):not(#\\#){--leather-animations-spin:spin 1s linear infinite;--leather-borders-action:1px solid var(--leather-colors-ink-action-primary-default);--leather-borders-active:2px solid var(--leather-colors-ink-border-default);--leather-borders-background:2px solid var(--leather-colors-ink-background-primary);--leather-borders-dashed:2px dashed var(--leather-colors-ink-component-background-default);--leather-borders-default:1px solid var(--leather-colors-ink-border-default);--leather-borders-error:1px solid var(--leather-colors-red-border);--leather-borders-focus:2px solid var(--leather-colors-ink-action-primary-default);--leather-borders-invert:1px solid var(--leather-colors-invert);--leather-borders-subdued:1px solid var(--leather-colors-ink-text-subdued);--leather-borders-warning:1px solid var(--leather-colors-yellow-border);--leather-colors-current:currentColor;--leather-colors-overlay:rgba(0,0,0,0.4);--leather-radii-xs:2px;--leather-radii-sm:4px;--leather-radii-md:8px;--leather-radii-lg:12px;--leather-sizes-xs:12px;--leather-sizes-sm:16px;--leather-sizes-md:24px;--leather-sizes-lg:32px;--leather-sizes-xl:36px;--leather-sizes-xxl:40px;--leather-sizes-page-width:500px;--leather-sizes-two-column-page-width:500px;--leather-sizes-full-page-max-width:882px;--leather-sizes-dialog-height:600px;--leather-sizes-dialog-content-height:500px;--leather-sizes-header-height:80px;--leather-sizes-footer-height:95px;--leather-sizes-popup-width:390px;--leather-sizes-popup-max-width:640px;--leather-sizes-popup-height:756px;--leather-sizes-popup-header-height:68px;--leather-sizes-header-container-height:40px;--leather-sizes-input-height:64px;--leather-sizes-icon-button-with-label-width:64px;--leather-sizes-settings-menu-width:240px;--leather-sizes-breakpoint-sm:398px;--leather-sizes-breakpoint-md:768px;--leather-sizes-breakpoint-lg:1024px;--leather-sizes-breakpoint-xl:1280px;--leather-sizes-breakpoint-2xl:1536px;--leather-spacing-space\\.00:0;--leather-spacing-space\\.01:4px;--leather-spacing-space\\.02:8px;--leather-spacing-space\\.03:12px;--leather-spacing-space\\.04:16px;--leather-spacing-space\\.05:24px;--leather-spacing-space\\.06:32px;--leather-spacing-space\\.07:40px;--leather-spacing-space\\.08:48px;--leather-spacing-space\\.09:64px;--leather-spacing-space\\.10:72px;--leather-spacing-space\\.11:128px;--leather-transition:all 0.2s cubic-bezier(0.23,1,0.32,1);--leather-breakpoints-sm:398px;--leather-breakpoints-md:768px;--leather-breakpoints-lg:1024px;--leather-breakpoints-xl:1280px;--leather-breakpoints-2xl:1536px;--leather-colors-ink-text-primary:#12100F;--leather-colors-ink-text-subdued:#948677;--leather-colors-ink-action-primary-hover:#4A423B;--leather-colors-ink-action-primary-default:#12100F;--leather-colors-ink-border-transparent:rgba(18,16,15,0.10196);--leather-colors-ink-border-default:#EAE5E0;--leather-colors-ink-text-non-interactive:#D8CEC4;--leather-colors-ink-component-background-non-interactive:#F5F1ED;--leather-colors-ink-component-background-pressed:rgba(177,151,123,0.2);--leather-colors-ink-component-background-hover:rgba(177,151,123,0.10196);--leather-colors-ink-component-background-default:#F5F1ED;--leather-colors-ink-background-overlay:rgba(18,16,15,0.4);--leather-colors-ink-background-secondary:#F5F1ED;--leather-colors-ink-background-primary:#FFFFFF;--leather-colors-red-text-primary:#38191A;--leather-colors-red-action-primary-default:#FF2E3C;--leather-colors-red-border:#FAC3C6;--leather-colors-red-background-secondary:#FFABB1;--leather-colors-red-background-primary:#FCEEED;--leather-colors-blue-text-primary:#0C2644;--leather-colors-blue-action-primary-default:#004EA6;--leather-colors-blue-border:#B4D7FF;--leather-colors-blue-background-secondary:#9BCAFF;--leather-colors-blue-background-primary:#E6F2FF;--leather-colors-yellow-text-primary:#473D1C;--leather-colors-yellow-action-primary-default:#A98D29;--leather-colors-yellow-border:#FBE699;--leather-colors-yellow-background-secondary:#F7CD33;--leather-colors-yellow-background-primary:#FEF9E6;--leather-colors-green-text-primary:#1A3124;--leather-colors-green-action-primary-default:#00753A;--leather-colors-green-border:#B2DFC8;--leather-colors-green-background-secondary:#99D8B9;--leather-colors-green-background-primary:#E6F5ED;--leather-colors-invert:#34312A;--leather-colors-stacks:#5546FF}.dark:not(#\\#):not(#\\#){--leather-colors-ink-text-primary:#F5F1ED;--leather-colors-ink-text-subdued:#CFC8BB;--leather-colors-ink-action-primary-hover:#CFC8BB;--leather-colors-ink-action-primary-default:#F5F1ED;--leather-colors-ink-border-transparent:rgba(245,241,237,0.2);--leather-colors-ink-border-default:#554D44;--leather-colors-ink-text-non-interactive:#716A60;--leather-colors-ink-component-background-non-interactive:#34312A;--leather-colors-ink-component-background-pressed:rgba(113,106,96,0.45098);--leather-colors-ink-component-background-hover:rgba(113,106,96,0.30196);--leather-colors-ink-component-background-default:#24231E;--leather-colors-ink-background-overlay:rgba(18,16,15,0.4);--leather-colors-ink-background-secondary:#12100F;--leather-colors-ink-background-primary:#1B1A17;--leather-colors-red-text-primary:#34312A;--leather-colors-red-action-primary-default:#FF2E3C;--leather-colors-red-border:#AB1F29;--leather-colors-red-background-secondary:#4F1A1D;--leather-colors-red-background-primary:#38191A;--leather-colors-blue-text-primary:#E6F2FF;--leather-colors-blue-action-primary-default:#057AFF;--leather-colors-blue-border:#004EA6;--leather-colors-blue-background-secondary:#092F5A;--leather-colors-blue-background-primary:#0C2644;--leather-colors-yellow-text-primary:#FEF9E6;--leather-colors-yellow-action-primary-default:#F5C000;--leather-colors-yellow-border:#D8B021;--leather-colors-yellow-background-secondary:#5C4F21;--leather-colors-yellow-background-primary:#473D1C;--leather-colors-green-text-primary:#E6F5ED;--leather-colors-green-action-primary-default:#009E4F;--leather-colors-green-border:#00753A;--leather-colors-green-background-secondary:#19422C;--leather-colors-green-background-primary:#1A3124;--leather-colors-invert:#FFFFFF;--leather-colors-stacks:#7F80FF }.leather-button:not(#\\#):not(#\\#):not(#\\#){position:relative;border-radius:var(--leather-radii-xs);font-family:Diatype;font-size:0.9375rem;font-weight:500;line-height:1.2500rem}.leather-link:not(#\\#):not(#\\#):not(#\\#){-moz-appearance:none;appearance:none;-webkit-appearance:none;display:inline;padding:0;padding:initial;position:relative;text-align:left;margin-bottom:var(--leather-spacing-space\\.01);padding-top:var(--leather-spacing-space\\.01)}.leather-button--size_md:not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:var(--leather-spacing-space\\.04);padding-right:var(--leather-spacing-space\\.04);padding-top:var(--leather-spacing-space\\.03);padding-bottom:var(--leather-spacing-space\\.03)}.leather-button--variant_solid:not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-action-primary-default);color:var(--leather-colors-ink-background-primary)}.leather-button--variant_solid:disabled:not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-background-secondary);color:var(--leather-colors-ink-text-non-interactive);cursor:not-allowed}.leather-button--variant_solid[disabled]:not(#\\#):not(#\\#):not(#\\#):not(#\\#),.leather-button--variant_solid[data-disabled]:not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-background-secondary);color:var(--leather-colors-ink-text-non-interactive);cursor:not-allowed}.leather-button--variant_solid:disabled:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-background-secondary)}.leather-button--variant_solid[data-hover]:disabled:not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-background-secondary)}.leather-button--variant_solid[disabled]:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#),.leather-button--variant_solid[disabled][data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#),.leather-button--variant_solid[data-disabled]:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#),.leather-button--variant_solid[data-disabled][data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-background-secondary)}.leather-button--variant_solid[data-loading]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.leather-button--variant_solid[aria-busy=true]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:transparent!important}.leather-button--variant_solid[data-loading]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):after{animation:var(--leather-animations-spin);border:2px solid;box-sizing:border-box;display:inline-block;height:20px;position:absolute;border-radius:50%;width:20px;border-color:var(--leather-colors-ink-action-primary-default);border-bottom-color:transparent;content:"";left:calc(50% - 10px);top:calc(50% - 10px)}.leather-button--variant_solid[aria-busy=true]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):after{animation:var(--leather-animations-spin);border:2px solid;box-sizing:border-box;display:inline-block;height:20px;position:absolute;border-radius:50%;width:20px;border-color:var(--leather-colors-ink-action-primary-default);border-bottom-color:transparent;content:"";left:calc(50% - 10px);top:calc(50% - 10px)}.leather-button--variant_solid:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#),.leather-button--variant_solid[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-action-primary-hover)}.leather-button--variant_solid:active:not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-action-primary-default)}.leather-button--variant_solid[data-active]:not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-action-primary-default)}.leather-button--variant_solid:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{border:3px solid var(--leather-colors-blue-border)}.leather-button--variant_solid[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{border:3px solid var(--leather-colors-blue-border)}.leather-button--fullWidth_true:not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:100%}.leather-button--variant_outline:not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:1px solid var(--leather-colors-ink-action-primary-default)}.leather-button--variant_outline:disabled:not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:1px solid var(--leather-colors-ink-text-non-interactive);color:var(--leather-colors-ink-text-non-interactive);cursor:not-allowed}.leather-button--variant_outline[disabled]:not(#\\#):not(#\\#):not(#\\#):not(#\\#),.leather-button--variant_outline[data-disabled]:not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:1px solid var(--leather-colors-ink-text-non-interactive);color:var(--leather-colors-ink-text-non-interactive);cursor:not-allowed}.leather-button--variant_outline:disabled:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.leather-button--variant_outline[data-hover]:disabled:not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.leather-button--variant_outline[disabled]:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#),.leather-button--variant_outline[disabled][data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#),.leather-button--variant_outline[data-disabled]:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#),.leather-button--variant_outline[data-disabled][data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.leather-button--variant_outline[data-loading]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.leather-button--variant_outline[aria-busy=true]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:transparent!important}.leather-button--variant_outline[data-loading]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):after{animation:var(--leather-animations-spin);border:2px solid;box-sizing:border-box;display:inline-block;height:20px;position:absolute;border-radius:50%;width:20px;border-color:var(--leather-colors-ink-action-primary-default);border-bottom-color:transparent;content:"";left:calc(50% - 10px);top:calc(50% - 10px)}.leather-button--variant_outline[aria-busy=true]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):after{animation:var(--leather-animations-spin);border:2px solid;box-sizing:border-box;display:inline-block;height:20px;position:absolute;border-radius:50%;width:20px;border-color:var(--leather-colors-ink-action-primary-default);border-bottom-color:transparent;content:"";left:calc(50% - 10px);top:calc(50% - 10px)}.leather-button--variant_outline:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#),.leather-button--variant_outline[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-component-background-hover)}.leather-button--variant_outline:active:not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-component-background-pressed)}.leather-button--variant_outline[data-active]:not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-component-background-pressed)}.leather-button--variant_outline:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{border:3px solid var(--leather-colors-blue-border)}.leather-button--variant_outline[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{border:3px solid var(--leather-colors-blue-border)}.leather-button--size_sm:not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:var(--leather-spacing-space\\.02);padding-right:var(--leather-spacing-space\\.02);padding-top:var(--leather-spacing-space\\.01);padding-bottom:var(--leather-spacing-space\\.01)}.leather-button--variant_ghost:disabled:not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-non-interactive);cursor:not-allowed}.leather-button--variant_ghost[disabled]:not(#\\#):not(#\\#):not(#\\#):not(#\\#),.leather-button--variant_ghost[data-disabled]:not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-non-interactive);cursor:not-allowed}.leather-button--variant_ghost:disabled:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.leather-button--variant_ghost[data-hover]:disabled:not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.leather-button--variant_ghost[disabled]:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#),.leather-button--variant_ghost[disabled][data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#),.leather-button--variant_ghost[data-disabled]:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#),.leather-button--variant_ghost[data-disabled][data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.leather-button--variant_ghost[data-loading]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.leather-button--variant_ghost[aria-busy=true]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:transparent!important}.leather-button--variant_ghost[data-loading]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):after{animation:var(--leather-animations-spin);border:2px solid;box-sizing:border-box;display:inline-block;height:20px;position:absolute;border-radius:50%;width:20px;border-color:var(--leather-colors-ink-action-primary-default);border-bottom-color:transparent;content:"";left:calc(50% - 10px);top:calc(50% - 10px)}.leather-button--variant_ghost[aria-busy=true]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):after{animation:var(--leather-animations-spin);border:2px solid;box-sizing:border-box;display:inline-block;height:20px;position:absolute;border-radius:50%;width:20px;border-color:var(--leather-colors-ink-action-primary-default);border-bottom-color:transparent;content:"";left:calc(50% - 10px);top:calc(50% - 10px)}.leather-button--variant_ghost:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#),.leather-button--variant_ghost[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-component-background-hover)}.leather-button--variant_ghost:active:not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-component-background-pressed)}.leather-button--variant_ghost[data-active]:not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-component-background-pressed)}.leather-button--variant_ghost:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{border:3px solid var(--leather-colors-blue-border)}.leather-button--variant_ghost[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{border:3px solid var(--leather-colors-blue-border)}.leather-link--size_md:not(#\\#):not(#\\#):not(#\\#):not(#\\#){font-family:Diatype;font-size:0.9375rem;font-weight:500;line-height:1.2500rem}.leather-link--variant_underlined:not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-primary)}.leather-link--variant_underlined:not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:var(--leather-colors-ink-text-non-interactive);height:2px;position:absolute;content:"";bottom:-2px;left:0;right:0}.leather-link--variant_underlined:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#),.leather-link--variant_underlined[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-primary);outline:0}.leather-link--variant_underlined:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:focus}.leather-link--variant_underlined[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:focus}.leather-link--variant_underlined:active:not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-primary)}.leather-link--variant_underlined[data-active]:not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-primary)}.leather-link--variant_underlined:active:not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:var(--leather-colors-ink-text-primary)}.leather-link--variant_underlined[data-active]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:var(--leather-colors-ink-text-primary)}.leather-link--variant_underlined:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:var(--leather-colors-ink-action-primary-hover)}.leather-link--variant_underlined[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:var(--leather-colors-ink-action-primary-hover)}.leather-link--size_sm:not(#\\#):not(#\\#):not(#\\#):not(#\\#){font-family:Diatype;font-size:0.8125rem;font-weight:500;line-height:1.0000rem}.leather-link--variant_text:not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-primary)}.leather-link--variant_text:not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:var(--leather-colors-ink-action-primary-hover);height:2px;position:absolute;visibility:hidden;content:"";bottom:-2px;left:0;right:0}.leather-link--variant_text:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#),.leather-link--variant_text[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-primary);outline:0}.leather-link--variant_text:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:focus;visibility:visible}.leather-link--variant_text[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:focus;visibility:visible}.leather-link--variant_text:active:not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-primary);visibility:visible}.leather-link--variant_text[data-active]:not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-primary);visibility:visible}.leather-link--variant_text:active:not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:var(--leather-colors-ink-text-primary)}.leather-link--variant_text[data-active]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:var(--leather-colors-ink-text-primary)}.leather-link--variant_text:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:var(--leather-colors-ink-action-primary-hover);visibility:visible}.leather-link--variant_text[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:var(--leather-colors-ink-action-primary-hover);visibility:visible}.leather-textStyle_label\\.02:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){font-weight:500}.leather-textStyle_body\\.02:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.leather-textStyle_label\\.02:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){font-family:Diatype;font-size:0.9375rem;line-height:1.2500rem}.leather-textStyle_body\\.02:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){font-weight:400}.leather-textStyle_label\\.01:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){letter-spacing:0.16px;font-family:Diatype;font-size:1.0000rem;font-weight:500;line-height:1.5000rem}.leather-textStyle_label\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){font-family:Diatype;font-size:0.8125rem;font-weight:500;line-height:1.0000rem}.leather-textStyle_code:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){font-family:Fira Code;font-size:0.8125rem;line-height:1.1250rem;font-weight:450}.leather-textStyle_caption\\.01:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){font-family:Diatype;font-size:0.9375rem;font-weight:400;line-height:1.2500rem}.leather-textStyle_heading\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){text-transform:uppercase;letter-spacing:0.64px;font-family:Marche;font-size:2.0000rem;font-weight:800;line-height:2.1875rem}.leather-textStyle_heading\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){font-family:Diatype;font-size:1.6250rem;font-weight:500;line-height:2.2500rem}.leather-textStyle_heading\\.05:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){font-family:Diatype;font-size:1.3125rem;font-weight:500;line-height:1.7500rem}.leather-textStyle_body\\.01:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){font-family:Diatype;font-size:1.0625rem;font-weight:400;line-height:1.5000rem}.leather-textStyle_heading\\.02:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){text-transform:uppercase;font-family:Marche;font-size:2.7500rem;font-weight:800;line-height:2.7500rem}.leather-textStyle_display\\.01:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){text-transform:uppercase;font-family:Marche;font-size:9.3750rem;line-height:7.5000rem}[data-has-value=true]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#) .\\[\\[data-has-value\\=\\"true\\"\\]_\\&\\]\\:leather-textStyle_label\\.03{font-family:Diatype;font-size:0.8125rem;font-weight:500;line-height:1.0000rem}[data-shrink=true]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#) .\\[\\[data-shrink\\=\\"true\\"\\]_\\&\\]\\:leather-textStyle_label\\.03{font-family:Diatype;font-size:0.8125rem;font-weight:500;line-height:1.0000rem}.\\[\\&\\:-moz-placeholder-shown_\\+_label\\]\\:leather-textStyle_label\\.03:-moz-placeholder-shown:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#)+label{font-family:Diatype;font-size:0.8125rem;font-weight:500;line-height:1.0000rem}.\\[\\&\\:placeholder-shown_\\+_label\\]\\:leather-textStyle_label\\.03:placeholder-shown:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#)+label{font-family:Diatype;font-size:0.8125rem;font-weight:500;line-height:1.0000rem}.focusWithin\\:\\[\\&_label\\]\\:leather-textStyle_label\\.03:focus-within:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#) label{font-family:Diatype;font-size:0.8125rem;font-weight:500;line-height:1.0000rem}@media screen and (min-width: 48rem){.md\\:leather-textStyle_display\\.02:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){text-transform:uppercase;font-family:Marche;font-size:4.0000rem;line-height:3.5000rem}.md\\:leather-textStyle_heading\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){font-family:Diatype;font-size:1.6250rem;font-weight:500;line-height:2.2500rem}}.leather-pos_relative:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){position:relative}.leather-d_flex:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){display:flex}.leather-w_100\\%:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:100%}.leather-py_space\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-top:var(--leather-spacing-space\\.04);padding-bottom:var(--leather-spacing-space\\.04)}.leather-trs_all_0\\.2s:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){transition:all 0.2s}.leather-will-change_max-height:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){will-change:max-height}.leather-py_space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-top:var(--leather-spacing-space\\.03);padding-bottom:var(--leather-spacing-space\\.03)}.leather-bg_ink\\.background-secondary:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-background-secondary)}.leather-d_inline-flex:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){display:inline-flex}.leather-ov_hidden:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){overflow:hidden}.leather-us_none:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){-webkit-user-select:none;-moz-user-select:none;user-select:none}.leather-va_middle:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){vertical-align:middle}.leather-w_sm:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:var(--leather-sizes-sm)}.leather-h_sm:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:var(--leather-sizes-sm)}.leather-w_md:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:var(--leather-sizes-md)}.leather-h_md:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:var(--leather-sizes-md)}.leather-w_lg:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:var(--leather-sizes-lg)}.leather-h_lg:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:var(--leather-sizes-lg)}.leather-w_xl:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:var(--leather-sizes-xl)}.leather-h_xl:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:var(--leather-sizes-xl)}.leather-w_xxl:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:var(--leather-sizes-xxl)}.leather-h_xxl:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:var(--leather-sizes-xxl)}.leather-bdr_100\\%:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-radius:100%}.leather-bdr_xs:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-radius:var(--leather-radii-xs)}.leather-asp_1_\\/_1:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){aspect-ratio:1/1}.leather-h_100\\%:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:100%}.leather-obj-f_cover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){-o-object-fit:cover;object-fit:cover}.leather-bdr_inherit:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-radius:inherit}.leather-bg_inherit:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:inherit}.leather-bd_1px_solid:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:1px solid}.leather-c_ink\\.text-primary:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-primary)}.leather-bd_1px_solid_\\{colors\\.ink\\.background-secondary\\}:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:1px solid var(--leather-colors-ink-background-secondary)}.leather-c_ink\\.background-secondary:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-background-secondary)}.leather-p_space\\.02:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding:var(--leather-spacing-space\\.02)}.leather-ta_left:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){text-align:left}.leather-bg_ink\\.text-non-interactive:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-text-non-interactive)}.leather-bg_red\\.background-secondary:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-red-background-secondary)}.leather-bg_blue\\.background-secondary:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-blue-background-secondary)}.leather-bg_green\\.background-secondary:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-green-background-secondary)}.leather-bg_yellow\\.background-secondary:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-yellow-background-secondary)}.leather-bg_ink\\.background-primary:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-background-primary)}.leather-max-w_fit-content:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-width:-moz-fit-content;max-width:fit-content}.leather-max-h_fit-content:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-height:-moz-fit-content;max-height:fit-content}.leather-px_space\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:var(--leather-spacing-space\\.04);padding-right:var(--leather-spacing-space\\.04)}.leather---base-menu-padding_0px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){--base-menu-padding:0px}.leather-bx-sh_0px_12px_24px_0px_rgba\\(18\\,_16\\,_15\\,_0\\.08\\)\\,_0px_4px_8px_0px_rgba\\(18\\,_16\\,_15\\,_0\\.08\\)\\,_0px_0px_2px_0px_rgba\\(18\\,_16\\,_15\\,_0\\.08\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){box-shadow:0px 12px 24px 0px rgba(18,16,15,0.08),0px 4px 8px 0px rgba(18,16,15,0.08),0px 0px 2px 0px rgba(18,16,15,0.08)}.leather-p_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding:0}.leather-will-change_transform\\,_opacity:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){will-change:transform,opacity}.leather-z_999:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){z-index:999}.leather-c_ink\\.text-subdued:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-subdued)}.leather-h_auto:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:auto}.leather-px_space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:var(--leather-spacing-space\\.03);padding-right:var(--leather-spacing-space\\.03)}.leather-py_space\\.02:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-top:var(--leather-spacing-space\\.02);padding-bottom:var(--leather-spacing-space\\.02)}.leather-p_space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding:var(--leather-spacing-space\\.03)}.leather-c_ink\\.border-default:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-border-default)}.leather-mx_0px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-left:0px;margin-right:0px}.leather-my_space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:var(--leather-spacing-space\\.03);margin-bottom:var(--leather-spacing-space\\.03)}.leather-d_block:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){display:block}.leather-min-h_64px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){min-height:64px}.leather-p_space\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding:var(--leather-spacing-space\\.04)}.leather-ring_none:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){outline:2px solid transparent;outline-offset:2px}.leather-z_4:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){z-index:4}.leather-pos_absolute:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){position:absolute}.leather-z_9:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){z-index:9}.leather-c_inherit:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:inherit}.leather-pointer-events_none:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){pointer-events:none}.leather-trs_font-size_100ms_ease-in-out\\,_transform_100ms_ease-in-out:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){transition:font-size 100ms ease-in-out, transform 100ms ease-in-out}.leather-bg_transparent:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:transparent}.leather-ap_none:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){-moz-appearance:none;appearance:none;-webkit-appearance:none}.leather-z_5:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){z-index:5}.leather-c_ink\\.text-non-interactive:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-non-interactive)}.leather-cursor_not-allowed:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){cursor:not-allowed}.leather-cursor_default:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){cursor:default}.leather-cursor_pointer:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){cursor:pointer}.leather-c_ink\\.action-primary-default:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-action-primary-default)}.leather-gap_space\\.02:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){gap:var(--leather-spacing-space\\.02)}.leather-min-w_256px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){min-width:256px}.leather-bg_overlay:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-overlay)}.leather-pos_fixed:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){position:fixed}.leather-inset_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){top:0;right:0;bottom:0;left:0}.leather-anim_overlayShow_150ms_cubic-bezier\\(0\\.16\\,_1\\,_0\\.3\\,_1\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){animation:overlayShow 150ms cubic-bezier(0.16,1,0.3,1)}.leather-bdr_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-radius:0}.leather-bx-sh_hsl\\(206_22\\%_7\\%_\\/_35\\%\\)_0_10px_38px_-10px\\,_hsl\\(206_22\\%_7\\%_\\/_20\\%\\)_0_10px_20px_-15px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){box-shadow:hsla(206, 22%, 7%, 0.35) 0 10px 38px -10px,hsla(206, 22%, 7%, 0.2) 0 10px 20px -15px}.leather-trf_translate\\(-50\\%\\,_-50\\%\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){transform:translate(-50%,-50%)}.leather-w_100vw:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:100vw}.leather-max-w_100vw:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-width:100vw}.leather-max-h_100vh:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-height:100vh}.leather-w_42px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:42px}.leather-h_24px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:24px}.leather-bdr_9999px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-radius:9999px}.leather-w_18px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:18px}.leather-h_18px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:18px}.leather-trs_transform_100ms:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){transition:transform 100ms}.leather-trf_translateX\\(3px\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){transform:translateX(3px)}.leather-will-change_transform:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){will-change:transform}.leather-flex_1:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){flex:1 1 0%}.leather-p_space\\.01:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding:var(--leather-spacing-space\\.01)}.leather-bd_1px_solid_\\{colors\\.ink\\.border-transparent\\}:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:1px solid var(--leather-colors-ink-border-transparent)}.leather-bg_red\\.background-primary:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-red-background-primary)}.leather-bd_1px_solid_\\{colors\\.red\\.border\\}:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:1px solid var(--leather-colors-red-border)}.leather-c_red\\.action-primary-default:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-red-action-primary-default)}.leather-bg_blue\\.background-primary:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-blue-background-primary)}.leather-bd_1px_solid_\\{colors\\.blue\\.border\\}:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:1px solid var(--leather-colors-blue-border)}.leather-c_blue\\.action-primary-default:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-blue-action-primary-default)}.leather-bg_green\\.background-primary:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-green-background-primary)}.leather-bd_1px_solid_\\{colors\\.green\\.border\\}:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:1px solid var(--leather-colors-green-border)}.leather-c_green\\.action-primary-default:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-green-action-primary-default)}.leather-bg_yellow\\.background-primary:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-yellow-background-primary)}.leather-bd_1px_solid_\\{colors\\.yellow\\.border\\}:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:1px solid var(--leather-colors-yellow-border)}.leather-c_yellow\\.action-primary-default:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-yellow-action-primary-default)}.leather-bg_ink\\.text-primary:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-text-primary)}.leather-c_ink\\.background-primary:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-background-primary)}.leather-max-w_452px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-width:452px}.leather-h_fit-content:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:-moz-fit-content;height:fit-content}.leather-m_0_auto:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin:0 auto}.leather-p_space\\.05:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding:var(--leather-spacing-space\\.05)}.leather-trf_translate\\(-50\\%\\,_0\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){transform:translate(-50%,0)}.leather-z_9999:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){z-index:9999}.leather-bg_ink\\.action-primary-default:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-action-primary-default)}.leather-max-w_250px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-width:250px}.leather-ta_center:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){text-align:center}.leather-word-wrap_break-word:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){word-wrap:break-word}.leather-fill_ink\\.action-primary-default:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){fill:var(--leather-colors-ink-action-primary-default)}.leather-h_20px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:20px}.leather-py_space\\.01:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-top:var(--leather-spacing-space\\.01);padding-bottom:var(--leather-spacing-space\\.01)}.leather-td_none:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){-webkit-text-decoration:none;text-decoration:none}.leather-td_line-through:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){-webkit-text-decoration:line-through;text-decoration:line-through}.leather-ov-wrap_break-word:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){word-wrap:break-word}.leather-d_inline:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){display:inline}.leather-gap_space\\.05:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){gap:var(--leather-spacing-space\\.05)}.leather-gap_10px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){gap:10px}.leather-bd-b_active:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-bottom:var(--leather-borders-active)}.leather-bd-b_unset:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-bottom:0;border-bottom:initial}.leather-bd-t_default:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-top:var(--leather-borders-default)}.leather-h_0px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:0px}.leather-flex_0_0_auto:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){flex:0 0 auto}.leather-op_1:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){opacity:1}.leather-op_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){opacity:0}.leather-w_calc\\(100\\%_\\+_24px\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:calc(100% + 24px)}.leather-h_calc\\(100\\%_\\+_24px\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:calc(100% + 24px)}.leather-trs_transition:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){transition:transition}.leather-bg_ink\\.component-background-hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-component-background-hover)}.leather-z_-1:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){z-index:-1}.leather-anim_shine_5s_infinite_linear:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){animation:shine 5s infinite linear}.leather-h_100vh:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:100vh}.leather-h_calc\\(100vh_-_68px\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:calc(100vh - 68px)}.leather-px_space\\.02:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:var(--leather-spacing-space\\.02);padding-right:var(--leather-spacing-space\\.02)}.leather-px_space\\.05:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:var(--leather-spacing-space\\.05);padding-right:var(--leather-spacing-space\\.05)}.leather-min-h_330px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){min-height:330px}.leather-bd_active:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:var(--leather-borders-active)}.leather-bdr_sm:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-radius:var(--leather-radii-sm)}.leather-h_inputHeight:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:var(--leather-sizes-input-height)}.leather-w_fit-content:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:-moz-fit-content;width:fit-content}.leather-h_48px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:48px}.leather-c_stacks:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-stacks)}.leather-h_600px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:600px}.leather-max-w_8xl:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-width:8xl}.leather-mx_auto:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-left:auto;margin-right:auto}.leather-px_4:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:4px;padding-right:4px}.leather-white-space_nowrap:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){white-space:nowrap}.leather-max-w_300px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-width:300px}.leather-gap_space\\.06:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){gap:var(--leather-spacing-space\\.06)}.leather-max-w_21\\.5rem:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-width:21.5rem}.leather-gap_space\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){gap:var(--leather-spacing-space\\.04)}.leather-bg_stacks:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-stacks)}.leather-bg_yellow\\.action-primary-default:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-yellow-action-primary-default)}.leather-w_21px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:21px}.leather-h_21px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:21px}.leather-bd_background:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:var(--leather-borders-background)}.leather-mx_space\\.06:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-left:var(--leather-spacing-space\\.06);margin-right:var(--leather-spacing-space\\.06)}.leather-min-h_30vh:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){min-height:30vh}.leather-w_106px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:106px}.leather-h_72px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:72px}.leather-my_space\\.02:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:var(--leather-spacing-space\\.02);margin-bottom:var(--leather-spacing-space\\.02)}.leather-w_36px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:36px}.leather-h_36px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:36px}.leather-w_126px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:126px}.leather-w_78px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:78px}.leather-bdr_lg:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-radius:var(--leather-radii-lg)}.leather-d_inline-block:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){display:inline-block}.leather-w_72px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:72px}.leather-trf_scale\\(0\\.9\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){transform:scale(0.9)}.leather-h_32px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:32px}.leather-ta_right:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){text-align:right}.leather-bd_default:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:var(--leather-borders-default)}.leather-gap_space\\.01:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){gap:var(--leather-spacing-space\\.01)}.leather-fv_tabular-nums:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){font-feature-settings:"tnum";font-variant:tabular-nums}.leather-mx_space\\.02:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-left:var(--leather-spacing-space\\.02);margin-right:var(--leather-spacing-space\\.02)}.leather-my_space\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:var(--leather-spacing-space\\.04);margin-bottom:var(--leather-spacing-space\\.04)}.leather-py_space\\.05:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-top:var(--leather-spacing-space\\.05);padding-bottom:var(--leather-spacing-space\\.05)}.leather-bd_unset:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:medium none currentcolor;border:initial}.leather-bdr_unset:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-radius:0;border-radius:initial}.leather-p_unset:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding:0;padding:initial}.leather-bg_ink\\.border-default:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-border-default)}.leather-h_1px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:1px}.leather-pointer-events_all:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){pointer-events:all}.leather-tov_ellipsis:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){text-overflow:ellipsis}.leather-max-w_160px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-width:160px}.leather-pos_popper:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){position:popper}.leather-max-w_pageWidth:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-width:var(--leather-sizes-page-width)}.leather-px_space\\.00:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:var(--leather-spacing-space\\.00);padding-right:var(--leather-spacing-space\\.00)}.leather-my_space\\.05:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:var(--leather-spacing-space\\.05);margin-bottom:var(--leather-spacing-space\\.05)}.leather-py_108px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-top:108px;padding-bottom:108px}.leather-mx_space\\.05:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-left:var(--leather-spacing-space\\.05);margin-right:var(--leather-spacing-space\\.05)}.leather-td_underline:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){-webkit-text-decoration:underline;text-decoration:underline}.leather-max-w_500px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-width:500px}.leather-gap_5:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){gap:5px}.leather-bx-sh_0px_12px_24px_0px_rgba\\(18\\,_16\\,_15\\,_0\\.08\\)\\,_0px_4px_8px_0px_rgba\\(18\\,_16\\,_15\\,_0\\.08\\)\\,_0px_0px_2px_0px_rgba\\(18\\,_16\\,_15\\,_0\\.08\\)\\;:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){box-shadow:0px 12px 24px 0px rgba(18,16,15,0.08),0px 4px 8px 0px rgba(18,16,15,0.08),0px 0px 2px 0px rgba(18,16,15,0.08)}.leather-filter_drop-shadow\\(0px_12px_24px_rgba\\(247\\,_245\\,_243\\,_0\\.08\\)\\)_drop-shadow\\(0px_4px_8px_rgba\\(247\\,_245\\,_243\\,_0\\.08\\)\\)_drop-shadow\\(0px_0px_2px_rgba\\(247\\,_245\\,_243\\,_0\\.50\\)\\)\\;:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){filter:drop-shadow(0px 12px 24px rgba(247,245,243,0.08)) drop-shadow(0px 4px 8px rgba(247,245,243,0.08)) drop-shadow(0px 0px 2px rgba(247,245,243,0.50))}.leather-h_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:0}.leather-vis_visible:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){visibility:visible}.leather-vis_hidden:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){visibility:hidden}.leather-wb_break-all:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){word-break:break-all}.leather-max-w_popupMaxWidth:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-width:var(--leather-sizes-popup-max-width)}.leather-wb_break-word:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){word-break:break-word}.leather-w_50\\%:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:50%}.leather-w_settingsMenuWidth:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:var(--leather-sizes-settings-menu-width)}.leather-max-h_var\\(--radix-dropdown-menu-content-available-height\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-height:var(--radix-dropdown-menu-content-available-height)}.leather-gap_space\\.00:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){gap:var(--leather-spacing-space\\.00)}.leather---thickness_1px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){--thickness:1px}.leather-gap_space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){gap:var(--leather-spacing-space\\.03)}.leather-bdr_md:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-radius:var(--leather-radii-md)}.leather-h_14px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:14px}.leather-h_58:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:58px}.leather-w_248:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:248px}.leather-d_grid:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){display:grid}.leather-gap_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){gap:0}.leather-px_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:0;padding-right:0}.leather-py_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-top:0;padding-bottom:0}.leather-bg_ink\\.1:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:ink.1}.leather-anim_fadein:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){animation:fadein}.leather-gap_4:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){gap:4px}.leather-h_36:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:36px}.leather-w_36:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:36px}.leather-h_300px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:300px}.leather-bg_invert:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-invert)}.leather-z_2:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){z-index:2}.leather-w_60:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:60px}.leather-bd-r_1px_solid:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-right:1px solid}.leather-z_1:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){z-index:1}.leather-h_space\\.05:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:space.05}.leather-tt_capitalize:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){text-transform:capitalize}.leather-px_unset:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:0;padding-left:initial;padding-right:0;padding-right:initial}.leather-bd_focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:var(--leather-borders-focus)}.leather-bx-sh_0px_1px_2px_rgba\\(0\\,_0\\,_0\\,_0\\.04\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){box-shadow:0px 1px 2px rgba(0,0,0,0.04)}.leather-py_space\\.06:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-top:var(--leather-spacing-space\\.06);padding-bottom:var(--leather-spacing-space\\.06)}.leather-w_130px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:130px}.leather-h_30px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:30px}.leather-min-w_100px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){min-width:100px}.leather-gap_0px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){gap:0px}.leather-bx-sh_0px_8px_16px_rgba\\(27\\,_39\\,_51\\,_0\\.08\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){box-shadow:0px 8px 16px rgba(27,39,51,0.08)}.leather-min-h_96px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){min-height:96px}.leather-bg_black:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:black}.leather-w_100px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:100px}.leather-h_100px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:100px}.leather-c_white:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:white}.leather-h_40vh:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:40vh}.leather-pos_unset:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){position:static;position:initial}.leather-max-h_70vh:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-height:70vh}.leather-bd-t_unset:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-top:0;border-top:initial}.leather-max-w_100\\%:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-width:100%}.leather-min-h_footerHeight:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){min-height:var(--leather-sizes-footer-height)}.leather-h_headerContainerHeight:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:var(--leather-sizes-header-container-height)}.leather-m_auto:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin:auto}.leather-m_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin:0}.leather-max-w_fullPageMaxWidth:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-width:var(--leather-sizes-full-page-max-width)}.leather-h_dialogHeight:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:var(--leather-sizes-dialog-height)}.leather-bg_red:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:red}.leather-min-w_100\\%:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){min-width:100%}.leather-w_pageWidth:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:var(--leather-sizes-page-width)}.leather-max-w_23ch:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-width:23ch}.leather-py_space\\.11:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-top:var(--leather-spacing-space\\.11);padding-bottom:var(--leather-spacing-space\\.11)}.leather-min-h_dialogContentHeight:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){min-height:var(--leather-sizes-dialog-content-height)}.leather-filter_all:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){filter:all}.leather-c_unset:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:inherit}.leather-min-h_40px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){min-height:40px}.leather-w_30px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:30px}.leather-ta_inherit:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){text-align:inherit}.leather-w_95\\%:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:95%}.leather-cp-path_none:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){clip-path:none;-webkit-clip-path:none}.leather-cp-path_circle\\(0\\%\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){clip-path:circle(0%);-webkit-clip-path:circle(0%)}.leather-op_0\\.5:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){opacity:0.5}.leather-h_headerPopupHeight:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:headerPopupHeight}.leather-p_space\\.06:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding:var(--leather-spacing-space\\.06)}.leather-h_286px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:286px}.leather-filter_invert\\(\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){filter:invert()}.leather-w_270px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:270px}.leather-h_236px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:236px}.leather-gap_16px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){gap:16px}.leather-h_200px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:200px}.leather-w_380:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:380px}.leather-my_space\\.06:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:var(--leather-spacing-space\\.06);margin-bottom:var(--leather-spacing-space\\.06)}.leather-cursor_question:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){cursor:question}.leather-max-h_80vh:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-height:80vh}.leather-mx_space\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-left:var(--leather-spacing-space\\.04);margin-right:var(--leather-spacing-space\\.04)}.leather-c_gray:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:gray}.leather-op_0\\.8:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){opacity:0.8}.leather-c_lightModeInk\\.1:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:lightModeInk.1}.leather-d_none:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){display:none}.leather-ov_visible:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){overflow:visible}.leather-white-space_pre-line:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){white-space:pre-line}.leather-min-h_260px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){min-height:260px}.leather-py_32px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-top:32px;padding-bottom:32px}.leather-c_\\#fff:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:#fff}.leather-h_190px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:190px}.leather-z_99:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){z-index:99}.leather-bg_rgba\\(0\\,0\\,0\\,0\\.35\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:rgba(0,0,0,0.35)}.leather-bkdp_blur\\(10px\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.leather-h_11\\.3rem:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:11.3rem}.leather-bg_white:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:white}.leather-h_40px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:40px}.leather-w_40px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:40px}.leather-min-h_50px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){min-height:50px}.leather-max-w_544px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-width:544px}.leather-filter_enabled:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){filter:enabled}.leather-min-w_100vw:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){min-width:100vw}.leather-min-h_100vh:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){min-height:100vh}.leather-bg_\\#12100F:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:#12100F}.leather-c_\\#F5F1ED:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:#F5F1ED}.leather-flex_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){flex:0}.leather-max-w_880px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-width:880px}.leather-max-w_556px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-width:556px}.leather-min-w_148px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){min-width:148px}.leather-bg_\\#F5F1ED:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:#F5F1ED}.leather-c_\\#12100F:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:#12100F}.leather-bd_1px_solid_\\#F5F1ED:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:1px solid #F5F1ED}.leather-h_34:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:34px}.leather-w_150:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:150px}.leather-min-h_48px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){min-height:48px}.leather-bx-sh_0px_0px_2px_0px_rgba\\(18\\,_16\\,_15\\,_0\\.08\\)\\,_0px_4px_8px_0px_rgba\\(18\\,_16\\,_15\\,_0\\.08\\)\\,_0px_12px_24px_0px_rgba\\(18\\,_16\\,_15\\,_0\\.08\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){box-shadow:0px 0px 2px 0px rgba(18,16,15,0.08),0px 4px 8px 0px rgba(18,16,15,0.08),0px 12px 24px 0px rgba(18,16,15,0.08)}.leather-z_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){z-index:0}.leather-h_18:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:18px}.leather-w_86:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:86px}.leather-px_space\\.06:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:var(--leather-spacing-space\\.06);padding-right:var(--leather-spacing-space\\.06)}.leather-ti_-1em:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){text-indent:-1em}.leather-bg_\\#FCEEED:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:#FCEEED}.leather-w_200px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:200px}.leather-h_38px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:38px}.leather-h_3rem:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:3rem}.leather-bg_ink\\.component-background-default:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-component-background-default)}.leather-p_20px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding:20px}.leather-min-h_120px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){min-height:120px}.leather-mx_space\\.08:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-left:var(--leather-spacing-space\\.08);margin-right:var(--leather-spacing-space\\.08)}.leather-mx_space\\.07:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-left:var(--leather-spacing-space\\.07);margin-right:var(--leather-spacing-space\\.07)}.leather-fill_ink\\.text-primary:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){fill:var(--leather-colors-ink-text-primary)}.leather-w_4px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:4px}.leather-mx_50px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-left:50px;margin-right:50px}.leather-min-h_220px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){min-height:220px}.leather-ta_start:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){text-align:left}.leather-w_242px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:242px}.leather-h_6px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:6px}.leather-mx_0_8px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-left:0;margin-right:8px}.leather-mx_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-left:0;margin-right:0}.leather-w_20px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:20px}.leather-z_10:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){z-index:10}.leather-h_55px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:55px}.leather-ls_-0\\.3px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){letter-spacing:-0.3px}.leather-min-w_1ch:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){min-width:1ch}.leather-ls_0\\.64px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){letter-spacing:0.64px}.leather-bd_none:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:none}.leather-px_none:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:none;padding-right:none}.leather-z_15:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){z-index:15}.leather-w_208px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:208px}.leather-h_181px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:181px}.leather-bdr_50\\%:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-radius:50%}.leather-w_48px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:48px}.leather-p_0px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding:0px}.leather-c_error:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:error}.leather-cursor_unset:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){cursor:inherit}.leather-bd_error:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:var(--leather-borders-error)}.leather-h_76px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:76px}.leather-trf_rotate\\(90\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){transform:rotate(90)}.leather-bd-l_1px_solid_\\#DCDDE2:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-left:1px solid #DCDDE2}.leather-jc_space-between:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){justify-content:space-between}.leather-ai_center:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){align-items:center}.leather-ov-y_hidden:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){overflow-y:hidden}.leather-jc_center:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){justify-content:center}.leather-bd-c_ink\\.border-default:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-color:var(--leather-colors-ink-border-default)}.leather-fw_500:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){font-weight:500}.leather-mr_var\\(--flag-spacing\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-right:var(--flag-spacing)}.leather-ml_var\\(--flag-spacing\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-left:var(--flag-spacing)}.leather-top_38\\%:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){top:38%}.leather-left_space\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){left:var(--leather-spacing-space\\.04)}.leather-top_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){top:0}.leather-left_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){left:0}.leather-right_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){right:0}.leather-bottom_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){bottom:0}.leather-bd-c_ink\\.border-transparent:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-color:var(--leather-colors-ink-border-transparent)}.leather-anim-dur_400ms:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){animation-duration:400ms}.leather-anim-tmf_cubic-bezier\\(0\\.16\\,_1\\,_0\\.3\\,_1\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){animation-timing-function:cubic-bezier(0.16,1,0.3,1)}.leather-top_50\\%:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){top:50%}.leather-left_50\\%:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){left:50%}.leather-bg-c_ink\\.text-subdued:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background-color:var(--leather-colors-ink-text-subdued)}.leather-bg-c_ink\\.background-primary:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background-color:var(--leather-colors-ink-background-primary)}.leather-flex-d_column:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){flex-direction:column}.leather-flex-sh_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){flex-shrink:0}.leather-pl_space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:var(--leather-spacing-space\\.03)}.leather-pr_space\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-right:var(--leather-spacing-space\\.04)}.leather-fs_10px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){font-size:10px}.leather-fs_14px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){font-size:14px}.leather-flex-d_row:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){flex-direction:row}.leather-mb_space\\.02:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-bottom:var(--leather-spacing-space\\.02)}.leather-left_-12px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){left:-12px}.leather-top_-12px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){top:-12px}.leather-mt_space\\.05:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:var(--leather-spacing-space\\.05)}.leather-bg-c_ink\\.background-secondary:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background-color:var(--leather-colors-ink-background-secondary)}.leather-bg-i_linear-gradient\\(90deg\\,_rgba\\(219\\,219\\,219\\,1\\)_0\\%\\,_rgba\\(192\\,192\\,247\\,0\\.5\\)_35\\%\\,_rgba\\(219\\,219\\,219\\,1\\)_100\\%\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background-image:linear-gradient(90deg,rgba(219,219,219,1) 0%,rgba(192,192,247,0.5) 35%,rgba(219,219,219,1) 100%)}.leather-flex-g_1:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){flex-grow:1}.leather-pl_space\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:var(--leather-spacing-space\\.04)}.leather-top_calc\\(50\\%_-_8px\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){top:calc(50% - 8px)}.leather-flex-wrap_wrap:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){flex-wrap:wrap}.leather-jc_end:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){justify-content:end}.leather-mr_-8px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-right:-8px}.leather-mt_space\\.02:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:var(--leather-spacing-space\\.02)}.leather-ml_space\\.01:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-left:var(--leather-spacing-space\\.01)}.leather-bottom_-2px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){bottom:-2px}.leather-right_-9px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){right:-9px}.leather-mt_space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:var(--leather-spacing-space\\.03)}.leather-lh_20px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){line-height:20px}.leather-bg-c_ink\\.text-non-interactive:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background-color:var(--leather-colors-ink-text-non-interactive)}.leather-bd-w_1px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-width:1px}.leather-mt_space\\.06:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:var(--leather-spacing-space\\.06)}.leather-mt_space\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:var(--leather-spacing-space\\.04)}.leather-lh_1\\.6:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){line-height:1.6}.leather-li-t_circle:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){list-style-type:circle}.leather-pb_space\\.05:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-bottom:var(--leather-spacing-space\\.05)}.leather-pl_40px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:40px}.leather-pr_space\\.05:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-right:var(--leather-spacing-space\\.05)}.leather-pt_space\\.02:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-top:var(--leather-spacing-space\\.02)}.leather-ai_start:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){align-items:start}.leather-mr_space\\.01:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-right:var(--leather-spacing-space\\.01)}.leather-mb_space\\.01:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-bottom:var(--leather-spacing-space\\.01)}.leather-pb_0px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-bottom:0px}.leather-pb_16px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-bottom:16px}.leather-mb_space\\.05:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-bottom:var(--leather-spacing-space\\.05)}.leather-bottom_space\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){bottom:var(--leather-spacing-space\\.04)}.leather-right_space\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){right:var(--leather-spacing-space\\.04)}.leather-left_auto:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){left:auto}.leather-top_auto:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){top:auto}.leather-mt_2px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:2px}.leather-mb_auto:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-bottom:auto}.leather-ml_auto:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-left:auto}.leather-mt_auto:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:auto}.leather-pb_space\\.02:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-bottom:var(--leather-spacing-space\\.02)}.leather-pb_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-bottom:0}.leather-ov-x_auto:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){overflow-x:auto}.leather-pt_space\\.05:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-top:var(--leather-spacing-space\\.05)}.leather-pl_space\\.02:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:var(--leather-spacing-space\\.02)}.leather-ov-y_scroll:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){overflow-y:scroll}.leather-border-block-end-width_var\\(--thickness\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-bottom-width:var(--thickness)}.leather-pb_space\\.06:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-bottom:var(--leather-spacing-space\\.06)}.leather-bg-s_100\\%:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background-size:100%}.leather-mb_space\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-bottom:var(--leather-spacing-space\\.04)}.leather-as_flex-end:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){align-self:flex-end}.leather-jc_right:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){justify-content:right}.leather-pt_space\\.07:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-top:var(--leather-spacing-space\\.07)}.leather-grid-tc_repeat\\(1\\,_1fr\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){grid-template-columns:repeat(1,1fr)}.leather-cg_space\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){-moz-column-gap:var(--leather-spacing-space\\.04);column-gap:var(--leather-spacing-space\\.04)}.leather-rg_space\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){row-gap:var(--leather-spacing-space\\.04)}.leather-mt_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:0}.leather-anim-dur_500ms:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){animation-duration:500ms}.leather-mb_96px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-bottom:96px}.leather-top_12:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){top:12px}.leather-pb_100px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-bottom:100px}.leather-ai_baseline:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){align-items:baseline}.leather-bd-r-c_inherit:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-right-color:inherit}.leather-pt_space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-top:var(--leather-spacing-space\\.03)}.leather-mb_space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-bottom:var(--leather-spacing-space\\.03)}.leather-mr_space\\.02:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-right:var(--leather-spacing-space\\.02)}.leather-right_4:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){right:4px}.leather-pr_38px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-right:38px}.leather-pl_unset:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:0;padding-left:initial}.leather-top_-45px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){top:-45px}.leather-ai_flex-start:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){align-items:flex-start}.leather-fs_9px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){font-size:9px}.leather-ov-y_auto:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){overflow-y:auto}.leather-bdr-bl_lg:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-bottom-left-radius:var(--leather-radii-lg)}.leather-bdr-br_lg:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-bottom-right-radius:var(--leather-radii-lg)}.leather-grid-tc_2fr_4fr_2fr:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){grid-template-columns:2fr 4fr 2fr}.leather-grid-tc_auto_auto:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){grid-template-columns:auto auto}.leather-grid-af_column:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){grid-auto-flow:column}.leather-justify-self_start:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){justify-self:start}.leather-jc_flex-end:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){justify-content:flex-end}.leather-pt_space\\.06:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-top:var(--leather-spacing-space\\.06)}.leather-pb_space\\.10:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-bottom:var(--leather-spacing-space\\.10)}.leather-pb_72px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-bottom:72px}.leather-left_0px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){left:0px}.leather-top_0px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){top:0px}.leather-bottom_space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){bottom:var(--leather-spacing-space\\.03)}.leather-left_space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){left:var(--leather-spacing-space\\.03)}.leather-right_12px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){right:12px}.leather-top_12px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){top:12px}.leather-pb_100\\%:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-bottom:100%}.leather-cg_space\\.02:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){-moz-column-gap:var(--leather-spacing-space\\.02);column-gap:var(--leather-spacing-space\\.02)}.leather-grid-tc_repeat\\(auto-fill\\,_minmax\\(156px\\,_1fr\\)\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){grid-template-columns:repeat(auto-fill,minmax(156px,1fr))}.leather-mt_space\\.01:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:var(--leather-spacing-space\\.01)}.leather-top_30\\%:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){top:30%}.leather-mt_48px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:48px}.leather-mt_24px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:24px}.leather-mr_20px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-right:20px}.leather-mt_16px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:16px}.leather-top_-16px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){top:-16px}.leather-right_-space\\.02:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){right:calc(var(--leather-spacing-space\\.02) * -1)}.leather-lh_inherit:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){line-height:inherit}.leather-fs_inherit:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){font-size:inherit}.leather-mr_space\\.07:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-right:var(--leather-spacing-space\\.07)}.leather-mb_space\\.06:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-bottom:var(--leather-spacing-space\\.06)}.leather-ml_space\\.02:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-left:var(--leather-spacing-space\\.02)}.leather-ai_flex-end:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){align-items:flex-end}.leather-fs_12px\\!:not(#\\#):not(#\\#){font-size:12px!important}.leather-mr_space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-right:var(--leather-spacing-space\\.03)}.leather-ml_space\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-left:var(--leather-spacing-space\\.04)}.leather-mr_space\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-right:var(--leather-spacing-space\\.04)}.leather-ov-x_scroll:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){overflow-x:scroll}.leather-lh_1\\.7:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){line-height:1.7}.leather-lh_1\\.5:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){line-height:1.5}.leather-left_Stacks_Token:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){left:Stacks Token}.leather-flex-g_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){flex-grow:0}.leather-pb_space\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-bottom:var(--leather-spacing-space\\.04)}.leather-ai_left:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){align-items:left}.leather-mt_space\\.08:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:var(--leather-spacing-space\\.08)}.leather-content_Speed_things_up_by_pasting_your_entire_Secret_Key_in_one_go\\.:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){content:Speed things up by pasting your entire Secret Key in one go.}.leather-flex-d_column-reverse:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){flex-direction:column-reverse}.leather-mt_space\\.07:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:var(--leather-spacing-space\\.07)}.leather-bd-c_\\#F5F1ED:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-color:#F5F1ED}.leather-pb_space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-bottom:var(--leather-spacing-space\\.03)}.leather-justify-items_center:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){justify-items:center}.leather-mb_36px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-bottom:36px}.leather-ml_space\\.05:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-left:var(--leather-spacing-space\\.05)}.leather-grid-tc_repeat\\(1\\,_minmax\\(160px\\,_1fr\\)\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){grid-template-columns:repeat(1,minmax(160px,1fr))}.leather-cg_space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){-moz-column-gap:var(--leather-spacing-space\\.03);column-gap:var(--leather-spacing-space\\.03)}.leather-rg_space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){row-gap:var(--leather-spacing-space\\.03)}.leather-pr_space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-right:var(--leather-spacing-space\\.03)}.leather-top_-20px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){top:-20px}.leather-justify-items_flex-start:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){justify-items:flex-start}.leather-lh_24px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){line-height:24px}.leather-mb_1:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-bottom:1px}.leather-mb_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-bottom:0}.leather-top_22px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){top:22px}.leather-ff_Marche:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){font-family:Marche}.leather-mt_12px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:12px}.leather-right_space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){right:var(--leather-spacing-space\\.03)}.leather-top_9px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){top:9px}.leather-mt_unset:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:0;margin-top:initial}.leather-mb_unset:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-bottom:0;margin-bottom:initial}.leather-as_flex-start:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){align-self:flex-start}.\\[\\&_\\>_\\.accordion-icon\\]\\:leather-trs_transform_0\\.2s:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#)>.accordion-icon{transition:transform 0.2s}.\\[\\&\\[data-state\\=\\'open\\'\\]\\]\\:leather-anim_slideDown_300ms_ease-in[data-state=open]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){animation:slideDown 300ms ease-in}.\\[\\&\\[data-state\\=\\'closed\\'\\]\\]\\:leather-anim_slideUp_150ms[data-state=closed]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){animation:slideUp 150ms}[data-state=open]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#) .\\[\\[data-state\\=open\\]_\\&\\]\\:leather-bg_ink\\.component-background-pressed{background:var(--leather-colors-ink-component-background-pressed)}.\\[\\&\\[data-state\\=open\\]\\]\\:leather-bg_ink\\.component-background-pressed[data-state=open]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-component-background-pressed)}.before\\:leather-bdr_xs:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{border-radius:var(--leather-radii-xs)}.before\\:leather-pos_absolute:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{position:absolute}.before\\:leather-bd_3px_solid_transparent:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{border:3px solid transparent}.before\\:leather-z_9:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{z-index:9}.before\\:leather-pointer-events_none:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{pointer-events:none}.\\[\\&\\[data-has-error\\=\\"true\\"\\]\\]\\:leather-c_red\\.action-primary-default[data-has-error=true]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-red-action-primary-default)}[data-has-value=true]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#) .\\[\\[data-has-value\\=\\"true\\"\\]_\\&\\]\\:leather-trf_translateY\\(-12px\\){transform:translateY(-12px)}[data-has-value=true]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#) .\\[\\[data-has-value\\=\\"true\\"\\]_\\&\\]\\:leather-pointer-events_all{pointer-events:all}[data-shrink=true]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#) .\\[\\[data-shrink\\=\\"true\\"\\]_\\&\\]\\:leather-trf_translateY\\(-12px\\){transform:translateY(-12px)}[data-shrink=true]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#) .\\[\\[data-shrink\\=\\"true\\"\\]_\\&\\]\\:leather-pointer-events_all{pointer-events:all}.disabled\\:leather-bg_ink\\.component-background-default:disabled:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-component-background-default)}.disabled\\:leather-bg_ink\\.component-background-default[disabled]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.disabled\\:leather-bg_ink\\.component-background-default[data-disabled]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-component-background-default)}.disabled\\:leather-cursor_not-allowed:disabled:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){cursor:not-allowed}.disabled\\:leather-cursor_not-allowed[disabled]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.disabled\\:leather-cursor_not-allowed[data-disabled]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){cursor:not-allowed}.placeholder\\:leather-c_ink\\.text-subdued:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#)::-moz-placeholder{color:var(--leather-colors-ink-text-subdued)}.placeholder\\:leather-c_ink\\.text-subdued:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#)::placeholder,.placeholder\\:leather-c_ink\\.text-subdued[data-placeholder]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-subdued)}.\\[\\&\\:-moz-placeholder-shown_\\+_label\\]\\:leather-trf_translateY\\(-12px\\):-moz-placeholder-shown:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#)+label{transform:translateY(-12px)}.\\[\\&\\:placeholder-shown_\\+_label\\]\\:leather-trf_translateY\\(-12px\\):placeholder-shown:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#)+label{transform:translateY(-12px)}.\\[\\&\\:-moz-placeholder-shown_\\+_label\\]\\:leather-pointer-events_all:-moz-placeholder-shown:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#)+label{pointer-events:all}.\\[\\&\\:placeholder-shown_\\+_label\\]\\:leather-pointer-events_all:placeholder-shown:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#)+label{pointer-events:all}.before\\:leather-bg_ink\\.text-non-interactive:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:var(--leather-colors-ink-text-non-interactive)}.before\\:leather-h_2px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{height:2px}.before\\:leather-vis_visible:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{visibility:visible}.\\[\\&\\:is\\(\\:disabled\\,_\\[data-disabled\\]\\)\\]\\:leather-c_ink\\.text-non-interactive:disabled:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-non-interactive)}.\\[\\&\\:is\\(\\:disabled\\,_\\[data-disabled\\]\\)\\]\\:leather-c_ink\\.text-non-interactive[data-disabled]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-non-interactive)}.\\[\\&\\:is\\(\\:disabled\\,_\\[data-disabled\\]\\)\\]\\:leather-cursor_not-allowed:disabled:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){cursor:not-allowed}.\\[\\&\\:is\\(\\:disabled\\,_\\[data-disabled\\]\\)\\]\\:leather-cursor_not-allowed[data-disabled]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){cursor:not-allowed}.group:disabled:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#) .groupDisabled\\:leather-c_ink\\.text-non-interactive{color:var(--leather-colors-ink-text-non-interactive)}.group[disabled]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#) .groupDisabled\\:leather-c_ink\\.text-non-interactive,.group[data-disabled]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#) .groupDisabled\\:leather-c_ink\\.text-non-interactive{color:var(--leather-colors-ink-text-non-interactive)}.\\[\\&\\[data-state\\=open\\]\\]\\:leather-anim_0[data-state=open]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){animation:0}.\\[\\&\\[data-state\\=loading\\]\\]\\:leather-d_inline-block[data-state=loading]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){display:inline-block}.\\[\\&\\[data-state\\=loading\\]\\]\\:leather--webkit-mask_linear-gradient\\(-60deg\\,_\\#000_30\\%\\,_\\#0005\\,_\\#000_70\\%\\)_right\\/300\\%_100\\%[data-state=loading]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){-webkit-mask:linear-gradient(-60deg,#000 30%,rgba(0,0,0,0.33333),#000 70%) right/300% 100%}.\\[\\&\\[data-state\\=loading\\]\\]\\:leather-anim_shimmer_1\\.5s_infinite[data-state=loading]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){animation:shimmer 1.5s infinite}.\\[\\&\\[data-state\\=loading\\]\\]\\:leather-c_ink\\.text-subdued[data-state=loading]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-subdued)}.\\[\\&\\[data-state\\=\\"checked\\"\\]\\]\\:leather-trf_translateX\\(19px\\)[data-state=checked]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){transform:translateX(19px)}.\\[\\&\\[data-state\\=\\"active\\"\\]\\]\\:leather-c_ink\\.text-primary[data-state=active]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-primary)}.before\\:leather-w_100\\%:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{width:100%}.before\\:leather-bg_ink\\.border-default:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:var(--leather-colors-ink-border-default)}.\\[\\&\\[data-state\\=open\\]\\]\\:leather-anim_toastAppear_160ms_cubic-bezier\\(0\\,_0\\.45\\,_0\\.6\\,_1\\)_forwards[data-state=open]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){animation:toastAppear 160ms cubic-bezier(0,0.45,0.6,1) forwards}.\\[\\&\\[data-state\\=closed\\]\\]\\:leather-anim_fadeout[data-state=closed]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){animation:fadeout}.\\[\\&\\[data-state\\=\\"closed\\"\\]\\]\\:leather-anim_fadeout_0\\.2s_ease-out[data-state=closed]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){animation:fadeout 0.2s ease-out}.\\[\\&_\\>_\\*\\:not\\(\\.skip-animation\\)\\]\\:leather-op_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#)>:not(.skip-animation){opacity:0}.\\[\\&_\\>_\\*\\:not\\(\\.skip-animation\\)\\]\\:leather-trf_translateY\\(-16px\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#)>:not(.skip-animation){transform:translateY(-16px)}.\\[\\&_\\>_\\*\\]\\:leather-flex_1:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#)>*{flex:1 1 0%}.before\\:leather-w_500px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{width:500px}.before\\:leather-h_500px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{height:500px}.before\\:leather-anim_barberpole_40s_linear_infinite:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{animation:barberpole 40s linear infinite}.\\[\\&_pre\\]\\:leather-white-space_pre-wrap:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#) pre{white-space:pre-wrap}.\\[\\&_pre\\]\\:leather-word-wrap_break-word:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#) pre{word-wrap:break-word}.before\\:leather-bg_transparent:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:transparent}.after\\:leather-pos_absolute:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):after{position:absolute}.after\\:leather-h_30px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):after{height:30px}.after\\:leather-w_100\\%:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):after{width:100%}.disabled\\:leather-bg_ink\\.background-primary:disabled:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-background-primary)}.disabled\\:leather-bg_ink\\.background-primary[disabled]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.disabled\\:leather-bg_ink\\.background-primary[data-disabled]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-background-primary)}.disabled\\:leather-c_ink\\.text-subdued:disabled:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-subdued)}.disabled\\:leather-c_ink\\.text-subdued[disabled]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.disabled\\:leather-c_ink\\.text-subdued[data-disabled]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-subdued)}.before\\:leather-bd-c_ink\\.background-secondary:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{border-color:var(--leather-colors-ink-background-secondary)}.\\[\\&\\[data-align\\=\\"top\\"\\]\\]\\:leather-ai_start[data-align=top]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){align-items:start}.\\[\\&\\[data-align\\=\\"middle\\"\\]\\]\\:leather-ai_center[data-align=middle]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){align-items:center}.\\[\\&\\[data-align\\=\\"bottom\\"\\]\\]\\:leather-ai_end[data-align=bottom]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){align-items:end}.before\\:leather-content_\\"\\":not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{content:""}.before\\:leather-top_-1px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{top:-1px}.before\\:leather-left_-1px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{left:-1px}.before\\:leather-right_-1px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{right:-1px}.before\\:leather-bottom_-1px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{bottom:-1px}[data-has-value=true]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#) .\\[\\[data-has-value\\=\\"true\\"\\]_\\&\\]\\:leather-fw_500{font-weight:500}[data-shrink=true]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#) .\\[\\[data-shrink\\=\\"true\\"\\]_\\&\\]\\:leather-fw_500{font-weight:500}.disabled\\:leather-bd-c_ink\\.text-non-interactive:disabled:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-color:var(--leather-colors-ink-text-non-interactive)}.disabled\\:leather-bd-c_ink\\.text-non-interactive[disabled]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.disabled\\:leather-bd-c_ink\\.text-non-interactive[data-disabled]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-color:var(--leather-colors-ink-text-non-interactive)}.\\[\\&\\:-moz-placeholder-shown_\\+_label\\]\\:leather-fw_500:-moz-placeholder-shown:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#)+label{font-weight:500}.\\[\\&\\:placeholder-shown_\\+_label\\]\\:leather-fw_500:placeholder-shown:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#)+label{font-weight:500}[data-has-label=true]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#) .\\[\\[data-has-label\\=\\"true\\"\\]_\\&\\]\\:leather-pt_22px{padding-top:22px}.before\\:leather-bottom_-2px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{bottom:-2px}.before\\:leather-left_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{left:0}.before\\:leather-right_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{right:0}.before\\:leather-top_-space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{top:calc(var(--leather-spacing-space\\.03) * -1)}.before\\:leather-left_-space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{left:calc(var(--leather-spacing-space\\.03) * -1)}.before\\:leather-bottom_-space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{bottom:calc(var(--leather-spacing-space\\.03) * -1)}.before\\:leather-right_-space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{right:calc(var(--leather-spacing-space\\.03) * -1)}.\\[\\&\\[data-side\\=bottom\\]\\]\\:leather-anim-n_slideUpAndFade[data-side=bottom]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){animation-name:slideUpAndFade}.\\[\\&\\[data-state\\=loading\\]\\]\\:leather-bg-r_no-repeat[data-state=loading]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background-repeat:no-repeat}.\\[\\&\\[data-state\\=\\"checked\\"\\]\\]\\:leather-bg-c_ink\\.text-primary[data-state=checked]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background-color:var(--leather-colors-ink-text-primary)}.before\\:leather-bottom_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{bottom:0}.\\[\\&\\[data-state\\=\\'delayed-open\\'\\]\\[data-side\\=\\'top\\'\\]\\]\\:leather-anim-n_slideDownAndFade[data-state=delayed-open][data-side=top]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){animation-name:slideDownAndFade}.\\[\\&\\[data-state\\=\\'delayed-open\\'\\]\\[data-side\\=\\'right\\'\\]\\]\\:leather-anim-n_slideLeftAndFade[data-state=delayed-open][data-side=right]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){animation-name:slideLeftAndFade}.\\[\\&\\[data-state\\=\\'delayed-open\\'\\]\\[data-side\\=\\'bottom\\'\\]\\]\\:leather-anim-n_slideUpAndFade[data-state=delayed-open][data-side=bottom]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){animation-name:slideUpAndFade}.\\[\\&\\[data-state\\=\\'delayed-open\\'\\]\\[data-side\\=\\'left\\'\\]\\]\\:leather-anim-n_slideRightAndFade[data-state=delayed-open][data-side=left]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){animation-name:slideRightAndFade}.\\[\\&_\\.approver-section\\:last-child\\]\\:leather-mb_space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#) .approver-section:last-child{margin-bottom:var(--leather-spacing-space\\.03)}.before\\:leather-bg-i_repeating-linear-gradient\\(45deg\\,_\\#F07D12\\,_\\#F07D12_16px\\,_\\#FFB977_16px\\,_\\#FFB977_32px\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background-image:repeating-linear-gradient(45deg,#F07D12,#F07D12 16px,#FFB977 16px,#FFB977 32px)}.before\\:leather-bg-s_193\\%_100\\%:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background-size:193% 100%}.\\[\\&_pre\\]\\:leather-ov-x_auto:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#) pre{overflow-x:auto}.after\\:leather-content_\\"\\":not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):after{content:""}.after\\:leather-bottom_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):after{bottom:0}.after\\:leather-left_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):after{left:0}.after\\:leather-bg-i_linear-gradient\\(rgba\\(0\\,0\\,0\\,0\\)\\,_rgba\\(0\\,0\\,0\\,1\\)\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):after{background-image:linear-gradient(rgba(0,0,0,0),rgba(0,0,0,1))}.focusWithin\\:leather-op_inherit:focus-within:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){opacity:inherit}.focusWithin\\:leather-bd_action:focus-within:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:var(--leather-borders-action)}.focus\\:leather-ring_none:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.focus\\:leather-ring_none[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){outline:2px solid transparent;outline-offset:2px}.focus\\:leather-ring_0:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.focus\\:leather-ring_0[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){outline:0}.focusVisible\\:leather-ring_0:focus-visible:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){outline:0}.focusVisible\\:leather-ring_0[data-focus-visible]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){outline:0}.focus\\:leather-bd_focus:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.focus\\:leather-bd_focus[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:var(--leather-borders-focus)}.focus\\:leather-td_underline:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.focus\\:leather-td_underline[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){-webkit-text-decoration:underline;text-decoration:underline}.focus\\:leather-ring_focus:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.focus\\:leather-ring_focus[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){outline:var(--leather-borders-focus)}.focus\\:leather-ring_unset:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.focus\\:leather-ring_unset[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){outline:medium none currentcolor;outline:initial}.focus\\:leather-ring-o_-4px:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.focus\\:leather-ring-o_-4px[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){outline-offset:-4px}.focus\\:leather-ring-o_unset:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.focus\\:leather-ring-o_unset[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){outline-offset:initial}.focus\\:leather-cp-path_none:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.focus\\:leather-cp-path_none[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){clip-path:none;-webkit-clip-path:none}.focus\\:leather-ring_1px_solid_white:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.focus\\:leather-ring_1px_solid_white[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){outline:1px solid white}.focus\\:leather-bx-sh_0px_8px_16px_rgba\\(0\\,_0\\,_0\\,_0\\.08\\):focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.focus\\:leather-bx-sh_0px_8px_16px_rgba\\(0\\,_0\\,_0\\,_0\\.08\\)[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){box-shadow:0px 8px 16px rgba(0,0,0,0.08)}.focus\\:leather-m_-2px:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.focus\\:leather-m_-2px[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin:-2px}.focus\\:leather-bg_transparent:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.focus\\:leather-bg_transparent[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:transparent}.focus\\:leather-bd_none:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.focus\\:leather-bd_none[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:none}.focus\\:leather-c_ink\\.text-primary:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.focus\\:leather-c_ink\\.text-primary[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-primary)}.hover\\:leather-c_ink\\.action-primary-hover:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.hover\\:leather-c_ink\\.action-primary-hover[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-action-primary-hover)}.hover\\:leather-bg_ink\\.background-primary:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.hover\\:leather-bg_ink\\.background-primary[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-background-primary)}.hover\\:leather-bg_ink\\.action-primary-hover:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.hover\\:leather-bg_ink\\.action-primary-hover[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-action-primary-hover)}.hover\\:leather-bg_ink\\.component-background-hover:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.hover\\:leather-bg_ink\\.component-background-hover[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-component-background-hover)}.hover\\:leather-c_ink\\.text-subdued:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.hover\\:leather-c_ink\\.text-subdued[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-subdued)}.hover\\:leather-bg_ink\\.background-secondary:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.hover\\:leather-bg_ink\\.background-secondary[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-background-secondary)}.hover\\:leather-cursor_pointer:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.hover\\:leather-cursor_pointer[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){cursor:pointer}.hover\\:leather-bg_unset:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.hover\\:leather-bg_unset[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.hover\\:leather-bdr_xs:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.hover\\:leather-bdr_xs[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-radius:var(--leather-radii-xs)}.hover\\:leather-c_ink\\.text-primary:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.hover\\:leather-c_ink\\.text-primary[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-primary)}.hover\\:leather-cursor_default:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.hover\\:leather-cursor_default[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){cursor:default}.hover\\:leather-bx-sh_0px_8px_16px_rgba\\(0\\,_0\\,_0\\,_0\\.08\\):hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.hover\\:leather-bx-sh_0px_8px_16px_rgba\\(0\\,_0\\,_0\\,_0\\.08\\)[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){box-shadow:0px 8px 16px rgba(0,0,0,0.08)}.hover\\:leather-c_\\#F5F1ED:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.hover\\:leather-c_\\#F5F1ED[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:#F5F1ED}.hover\\:leather-c_\\#12100F:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.hover\\:leather-c_\\#12100F[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:#12100F}.hover\\:leather-c_ink\\.background-secondary:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.hover\\:leather-c_ink\\.background-secondary[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-background-secondary)}.hover\\:leather-bg_transparent:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.hover\\:leather-bg_transparent[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:transparent}.hover\\:leather-ring_none:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.hover\\:leather-ring_none[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){outline:2px solid transparent;outline-offset:2px}.hover\\:leather-bd-c_ink\\.text-primary:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.hover\\:leather-bd-c_ink\\.text-primary[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-color:var(--leather-colors-ink-text-primary)}.active\\:leather-bg_ink\\.component-background-pressed:active:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-component-background-pressed)}.active\\:leather-bg_ink\\.component-background-pressed[data-active]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-component-background-pressed)}.active\\:leather-bg_ink\\.text-primary:active:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-text-primary)}.active\\:leather-bg_ink\\.text-primary[data-active]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-text-primary)}.\\[\\&\\[data-state\\=\\'open\\'\\]\\]\\:\\[\\&_\\>_\\.accordion-icon\\]\\:leather-trf_rotate\\(180deg\\)[data-state=open]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#)>.accordion-icon{transform:rotate(180deg)}.\\[\\&\\:is\\(\\:disabled\\,_\\[data-disabled\\]\\)\\]\\:active\\:leather-bg_unset:disabled:active:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.\\[\\&\\:is\\(\\:disabled\\,_\\[data-disabled\\]\\)\\]\\:active\\:leather-bg_unset[data-active]:disabled:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.\\[\\&\\:is\\(\\:disabled\\,_\\[data-disabled\\]\\)\\]\\:active\\:leather-bg_unset[data-disabled]:active:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.\\[\\&\\:is\\(\\:disabled\\,_\\[data-disabled\\]\\)\\]\\:active\\:leather-bg_unset[data-disabled][data-active]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.\\[\\&\\:is\\(\\:disabled\\,_\\[data-disabled\\]\\)\\]\\:focus\\:leather-bd_unset:disabled:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:medium none currentcolor;border:initial}.\\[\\&\\:is\\(\\:disabled\\,_\\[data-disabled\\]\\)\\]\\:focus\\:leather-bd_unset[data-focus]:disabled:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:medium none currentcolor;border:initial}.\\[\\&\\:is\\(\\:disabled\\,_\\[data-disabled\\]\\)\\]\\:focus\\:leather-bd_unset[data-disabled]:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.\\[\\&\\:is\\(\\:disabled\\,_\\[data-disabled\\]\\)\\]\\:focus\\:leather-bd_unset[data-disabled][data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:medium none currentcolor;border:initial}.\\[\\&\\:is\\(\\:disabled\\,_\\[data-disabled\\]\\)\\]\\:hover\\:leather-bg_unset:disabled:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.\\[\\&\\:is\\(\\:disabled\\,_\\[data-disabled\\]\\)\\]\\:hover\\:leather-bg_unset[data-hover]:disabled:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.\\[\\&\\:is\\(\\:disabled\\,_\\[data-disabled\\]\\)\\]\\:hover\\:leather-bg_unset[data-disabled]:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.\\[\\&\\:is\\(\\:disabled\\,_\\[data-disabled\\]\\)\\]\\:hover\\:leather-bg_unset[data-disabled][data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}.\\[\\&\\[data-state\\=\\"active\\"\\]\\]\\:before\\:leather-pos_absolute[data-state=active]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{position:absolute}.\\[\\&\\[data-state\\=\\"active\\"\\]\\]\\:before\\:leather-h_2px[data-state=active]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{height:2px}.\\[\\&\\[data-state\\=\\"active\\"\\]\\]\\:before\\:leather-w_100\\%[data-state=active]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{width:100%}.\\[\\&\\[data-state\\=\\"active\\"\\]\\]\\:before\\:leather-bg_ink\\.text-subdued[data-state=active]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:var(--leather-colors-ink-text-subdued)}.\\[\\&\\[data-state\\=\\"active\\"\\]\\]\\:before\\:leather-z_10[data-state=active]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{z-index:10}.loading\\:after\\:leather-bd-c_ink\\.text-primary[data-loading]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):after{border-color:var(--leather-colors-ink-text-primary)}.loading\\:after\\:leather-bd-c_ink\\.text-primary[aria-busy=true]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):after{border-color:var(--leather-colors-ink-text-primary)}.\\[\\&\\[data-has-error\\=\\"true\\"\\]\\]\\:before\\:leather-bd-c_red\\.action-primary-default[data-has-error=true]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{border-color:var(--leather-colors-red-action-primary-default)}.\\[\\&\\[data-has-error\\=\\"true\\"\\]\\]\\:before\\:leather-bd-w_2px[data-has-error=true]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{border-width:2px}.\\[\\&\\[data-state\\=\\"active\\"\\]\\]\\:before\\:leather-content_\\"\\"[data-state=active]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{content:""}.\\[\\&\\[data-state\\=\\"active\\"\\]\\]\\:before\\:leather-bottom_0[data-state=active]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{bottom:0}.focusWithin\\:\\[\\&_label\\]\\:leather-c_ink\\.text-primary:focus-within:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#) label{color:var(--leather-colors-ink-text-primary)}.focusWithin\\:\\[\\&_label\\]\\:leather-trf_translateY\\(-12px\\):focus-within:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#) label{transform:translateY(-12px)}.focusWithin\\:\\[\\&_label\\]\\:leather-pointer-events_all:focus-within:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#) label{pointer-events:all}.focusWithin\\:before\\:leather-bd_action:focus-within:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{border:var(--leather-borders-action)}.focusWithin\\:\\[\\&_label\\]\\:leather-fw_500:focus-within:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#) label{font-weight:500}.focusWithin\\:before\\:leather-bd-w_2px:focus-within:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{border-width:2px}.focus\\:before\\:leather-bg_ink\\.background-primary:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:var(--leather-colors-ink-background-primary)}.focus\\:before\\:leather-bg_ink\\.background-primary[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:var(--leather-colors-ink-background-primary)}.focus\\:before\\:leather-vis_visible:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{visibility:visible}.focus\\:before\\:leather-vis_visible[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{visibility:visible}.\\[\\&\\:is\\(\\:focus-visible\\)\\]\\:before\\:leather-bdr_xs:focus-visible:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{border-radius:var(--leather-radii-xs)}.\\[\\&\\:is\\(\\:focus-visible\\)\\]\\:before\\:leather-pos_absolute:focus-visible:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{position:absolute}.\\[\\&\\:is\\(\\:focus-visible\\)\\]\\:before\\:leather-bd_2px_solid:focus-visible:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{border:2px solid}.\\[\\&\\:is\\(\\:focus-visible\\)\\]\\:focusWithin\\:leather-ring_none:focus-visible:focus-within:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){outline:2px solid transparent;outline-offset:2px}.focusVisible\\:before\\:leather-bg_lightModeBlue\\.500:focus-visible:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:lightModeBlue.500}.focusVisible\\:before\\:leather-bg_lightModeBlue\\.500[data-focus-visible]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:lightModeBlue.500}.focus\\:before\\:leather-c_unset:focus:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{color:inherit}.focus\\:before\\:leather-c_unset[data-focus]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{color:inherit}.\\[\\&\\:is\\(\\:focus-visible\\)\\]\\:before\\:leather-content_\\"\\":focus-visible:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{content:""}.\\[\\&\\:is\\(\\:focus-visible\\)\\]\\:before\\:leather-top_-space\\.03:focus-visible:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{top:calc(var(--leather-spacing-space\\.03) * -1)}.\\[\\&\\:is\\(\\:focus-visible\\)\\]\\:before\\:leather-left_-space\\.03:focus-visible:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{left:calc(var(--leather-spacing-space\\.03) * -1)}.\\[\\&\\:is\\(\\:focus-visible\\)\\]\\:before\\:leather-bottom_-space\\.03:focus-visible:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{bottom:calc(var(--leather-spacing-space\\.03) * -1)}.\\[\\&\\:is\\(\\:focus-visible\\)\\]\\:before\\:leather-right_-space\\.03:focus-visible:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{right:calc(var(--leather-spacing-space\\.03) * -1)}.\\[\\&\\:is\\(\\:focus-visible\\)\\]\\:before\\:leather-bd-c_lightModeBlue\\.500:focus-visible:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{border-color:lightModeBlue.500}.hover\\:before\\:leather-bg_ink\\.background-primary:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:var(--leather-colors-ink-background-primary)}.hover\\:before\\:leather-bg_ink\\.background-primary[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:var(--leather-colors-ink-background-primary)}.hover\\:before\\:leather-vis_visible:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{visibility:visible}.hover\\:before\\:leather-vis_visible[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{visibility:visible}.\\[\\&\\:is\\(\\:hover\\,_\\[data-highlighted\\]\\)\\]\\:before\\:leather-bg_ink\\.component-background-hover:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:var(--leather-colors-ink-component-background-hover)}.\\[\\&\\:is\\(\\:hover\\,_\\[data-highlighted\\]\\)\\]\\:before\\:leather-bg_ink\\.component-background-hover[data-highlighted]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:var(--leather-colors-ink-component-background-hover)}.\\[\\&\\:is\\(\\:hover\\,_\\[data-highlighted\\]\\)\\]\\:before\\:leather-bd-c_transparent:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{border-color:transparent}.\\[\\&\\:is\\(\\:hover\\,_\\[data-highlighted\\]\\)\\]\\:before\\:leather-bd-c_transparent[data-highlighted]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{border-color:transparent}.\\[\\&\\:is\\(\\:active\\)\\]\\:before\\:leather-bg_ink\\.component-background-pressed:active:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):before{background:var(--leather-colors-ink-component-background-pressed)}@media screen and (min-width: 24.875rem){.leather-hide_sm:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){display:none}.sm\\:leather-px_space\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:var(--leather-spacing-space\\.04);padding-right:var(--leather-spacing-space\\.04)}.sm\\:leather-px_unset:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:0;padding-left:initial;padding-right:0;padding-right:initial}.sm\\:leather-py_space\\.06:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-top:var(--leather-spacing-space\\.06);padding-bottom:var(--leather-spacing-space\\.06)}.sm\\:leather-px_space\\.05:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:var(--leather-spacing-space\\.05);padding-right:var(--leather-spacing-space\\.05)}.sm\\:leather-bdr_lg:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-radius:var(--leather-radii-lg)}.sm\\:leather-pos_relative:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){position:relative}.sm\\:leather-bd_default:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:var(--leather-borders-default)}.sm\\:leather-h_100\\%:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:100%}.sm\\:leather-px_space\\.00:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:var(--leather-spacing-space\\.00);padding-right:var(--leather-spacing-space\\.00)}.sm\\:leather-w_17\\.5rem:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:17.5rem}.sm\\:leather-bd_unset:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border:medium none currentcolor;border:initial}.sm\\:leather-px_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:0;padding-right:0}.sm\\:leather-gap_space\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){gap:var(--leather-spacing-space\\.04)}.sm\\:leather-gap_48px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){gap:48px}.sm\\:leather-w_60\\%:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:60%}.sm\\:leather-grid-tc_repeat\\(2\\,_1fr\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){grid-template-columns:repeat(2,1fr)}.sm\\:leather-right_space\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){right:var(--leather-spacing-space\\.04)}.sm\\:leather-pb_space\\.08:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-bottom:var(--leather-spacing-space\\.08)}.sm\\:leather-mt_space\\.06:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:var(--leather-spacing-space\\.06)}.sm\\:leather-mt_space\\.07:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:var(--leather-spacing-space\\.07)}.sm\\:leather-mt_space\\.05:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:var(--leather-spacing-space\\.05)}.sm\\:leather-mb_33px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-bottom:33px}}@media screen and (min-width: 24.875rem){.hover\\:sm\\:leather-bg_unset:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.hover\\:sm\\:leather-bg_unset[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:transparent none repeat 0 0 / auto auto padding-box border-box scroll;background:initial}}@media screen and (min-width: 24.875rem){.hover\\:sm\\:leather-bd-c_ink\\.text-primary:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.hover\\:sm\\:leather-bd-c_ink\\.text-primary[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-color:var(--leather-colors-ink-text-primary)}}@media screen and (min-width: 24.875rem) and (max-width: 47.9975rem){.smOnly\\:leather-max-w_342px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-width:342px}}@media screen and (min-width: 48rem){.leather-hide_md:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){display:none}.md\\:leather-bdr_md:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-radius:var(--leather-radii-md)}.md\\:leather-w_90vw:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:90vw}.md\\:leather-h_auto:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:auto}.md\\:leather-max-w_pageWidth:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-width:var(--leather-sizes-page-width)}.md\\:leather-max-h_90vh:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-height:90vh}.md\\:leather-px_6:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:6px;padding-right:6px}.md\\:leather-bg_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:0}.md\\:leather-pos_unset:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){position:static;position:initial}.md\\:leather-max-w_unset:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-width:none;max-width:initial}.md\\:leather-px_space\\.05:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:var(--leather-spacing-space\\.05);padding-right:var(--leather-spacing-space\\.05)}.md\\:leather-px_unset:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:0;padding-left:initial;padding-right:0;padding-right:initial}.md\\:leather-gap_space\\.06:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){gap:var(--leather-spacing-space\\.06)}.md\\:leather-py_space\\.07:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-top:var(--leather-spacing-space\\.07);padding-bottom:var(--leather-spacing-space\\.07)}.md\\:leather-px_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:0;padding-right:0}.md\\:leather-max-h_80vh:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-height:80vh}.md\\:leather-py_space\\.01:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-top:var(--leather-spacing-space\\.01);padding-bottom:var(--leather-spacing-space\\.01)}.md\\:leather-m_auto:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin:auto}.md\\:leather-max-w_fullPageMaxWidth:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){max-width:var(--leather-sizes-full-page-max-width)}.md\\:leather-px_space\\.00:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:var(--leather-spacing-space\\.00);padding-right:var(--leather-spacing-space\\.00)}.md\\:leather-mx_space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-left:var(--leather-spacing-space\\.03);margin-right:var(--leather-spacing-space\\.03)}.md\\:leather-w_unset:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){width:auto;width:initial}.md\\:leather-p_space\\.05:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding:var(--leather-spacing-space\\.05)}.md\\:leather-min-w_400px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){min-width:400px}.md\\:leather-h_fit-content:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){height:-moz-fit-content;height:fit-content}.md\\:leather-trf_translateY\\(-50\\%\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){transform:translateY(-50%)}.md\\:leather-gap_space\\.05:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){gap:var(--leather-spacing-space\\.05)}.md\\:leather-p_unset:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding:0;padding:initial}.md\\:leather-ta_center:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){text-align:center}.md\\:leather-gap_space\\.04:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){gap:var(--leather-spacing-space\\.04)}.md\\:leather-bg_ink\\.text-primary:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-text-primary)}.md\\:leather-flex_2:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){flex:2}.md\\:leather-flex_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){flex:0}.md\\:leather-c_ink\\.background-primary:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-background-primary)}.md\\:leather-bg_ink\\.background-secondary:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-background-secondary)}.md\\:leather-c_ink\\.text-primary:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:var(--leather-colors-ink-text-primary)}.md\\:leather-flex_1:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){flex:1 1 0%}.md\\:leather-bg_\\#F5F1ED:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:#F5F1ED}.md\\:leather-bg_\\#12100F:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:#12100F}.md\\:leather-c_\\#12100F:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:#12100F}.md\\:leather-c_\\#F5F1ED:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){color:#F5F1ED}.md\\:leather-grid-tc_repeat\\(3\\,_1fr\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){grid-template-columns:repeat(3,1fr)}.md\\:leather-mt_space\\.03:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:var(--leather-spacing-space\\.03)}.md\\:leather-pb_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-bottom:0}.md\\:leather-mb_unset:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-bottom:0;margin-bottom:initial}.md\\:leather-flex-d_row:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){flex-direction:row}.md\\:leather-mb_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-bottom:0}.md\\:leather-grid-tc_repeat\\(auto-fill\\,_minmax\\(184px\\,_1fr\\)\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){grid-template-columns:repeat(auto-fill,minmax(184px,1fr))}.md\\:leather-top_50\\%:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){top:50%}.md\\:leather-mt_unset:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:0;margin-top:initial}.md\\:leather-ai_center:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){align-items:center}.md\\:leather-mt_space\\.05:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:var(--leather-spacing-space\\.05)}.md\\:leather-jc_flex-start:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){justify-content:flex-start}.md\\:leather-mt_space\\.07:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:var(--leather-spacing-space\\.07)}.md\\:leather-bd-c_\\#F5F1ED:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-color:#F5F1ED}.md\\:leather-bd-c_\\#12100F:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-color:#12100F}.md\\:leather-mt_100px:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-top:100px}.md\\:leather-pt_0:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-top:0}.md\\:leather-grid-tc_repeat\\(2\\,_minmax\\(170px\\,_1fr\\)\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){grid-template-columns:repeat(2,minmax(170px,1fr))}}@media screen and (min-width: 48rem){.\\[\\&\\[data-state\\=open\\]\\]\\:md\\:leather-anim_contentShow_150ms_cubic-bezier\\(0\\.16\\,_1\\,_0\\.3\\,_1\\)[data-state=open]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){animation:contentShow 150ms cubic-bezier(0.16,1,0.3,1)}}@media screen and (min-width: 48rem){.hover\\:md\\:leather-bg_ink\\.text-primary:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.hover\\:md\\:leather-bg_ink\\.text-primary[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){background:var(--leather-colors-ink-text-primary)}}@media screen and (min-width: 48rem){.hover\\:md\\:leather-bd-c_ink\\.text-subdued:hover:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#),.hover\\:md\\:leather-bd-c_ink\\.text-subdued[data-hover]:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){border-color:var(--leather-colors-ink-text-subdued)}}@media screen and (min-width: 64rem){.lg\\:leather-px_8:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){padding-left:8px;padding-right:8px}.lg\\:leather-mx_space\\.06:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){margin-left:var(--leather-spacing-space\\.06);margin-right:var(--leather-spacing-space\\.06)}.lg\\:leather-min-w_twoColumnPageWidth:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){min-width:var(--leather-sizes-two-column-page-width)}.lg\\:leather-min-w_pageWidth:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){min-width:var(--leather-sizes-page-width)}.lg\\:leather-grid-tc_repeat\\(3\\,_minmax\\(170px\\,_1fr\\)\\):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){grid-template-columns:repeat(3,minmax(170px,1fr))}}@media screen and (max-width: 47.9975rem){.leather-show_md:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){display:none}}@media screen and (max-width: 24.8725rem){.leather-show_sm:not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#):not(#\\#){display:none}}
`, "",{"version":3,"sources":["webpack://./src/app/index.css"],"names":[],"mappings":"AAAA,uBAAA,GAAA,SACA,CADA,0CACA,CADA,GAAA,SACA,CADA,uCACA,CAAA,CADA,kBAAA,GAAA,SACA,CADA,GAAA,SACA,CAAA,CADA,mBAAA,GAAA,SACA,CADA,GAAA,SACA,CAAA,CADA,iBAAA,GAAA,yBACA,CADA,GAAA,yBACA,CAAA,CADA,gBAAA,GAAA,sBACA,CADA,GAAA,wBACA,CAAA,CADA,wBAAA,GAAA,qBACA,CADA,GAAA,mBACA,CAAA,CADA,0BAAA,GAAA,SACA,CADA,yBACA,CADA,GAAA,SACA,CADA,uBACA,CAAA,CADA,6BAAA,GAAA,SACA,CADA,0BACA,CADA,GAAA,SACA,CADA,uBACA,CAAA,CADA,4BAAA,GAAA,SACA,CADA,0BACA,CADA,GAAA,SACA,CADA,uBACA,CAAA,CADA,4BAAA,GAAA,SACA,CADA,yBACA,CADA,GAAA,SACA,CADA,uBACA,CAAA,CADA,2BAAA,GAAA,SACA,CADA,uBACA,CADA,GAAA,SACA,CADA,yBACA,CAAA,CADA,qBAAA,GAAA,YACA,CADA,GAAA,iBACA,CAAA,CADA,mBAAA,GAAA,iBACA,CADA,GAAA,YACA,CAAA,CADA,uBAAA,GAAA,SACA,CADA,sCACA,CADA,GAAA,SACA,CADA,gCACA,CAAA,CADA,mBAAA,GAAA,0BACA,CADA,kBACA,CAAA,CADA,WAAA,+QACA,CADA,6BACA,CADA,kCACA,CADA,iCACA,CADA,eACA,CADA,aACA,CADA,UACA,CADA,uCACA,CADA,eACA,CADA,2QACA,CADA,wDACA,CADA,mDAAA,UACA,CADA,WACA,CADA,qBACA,CADA,gBACA,CADA,kBACA,CADA,yBACA,CADA,oDACA,CADA,GAAA,UACA,CADA,aACA,CADA,oBACA,CADA,KAAA,WACA,CADA,mBACA,CADA,IAAA,iBACA,CADA,+CAAA,aACA,CADA,qBACA,CADA,UAAA,cACA,CADA,WACA,CADA,kBAAA,iBACA,CADA,iBACA,CADA,mBACA,CADA,oBAAA,oBACA,CADA,WAAA,eACA,CADA,oFAAA,sBACA,CADA,iBACA,CADA,yBACA,CADA,6DAAA,YACA,CADA,6BACA,CADA,+BACA,CADA,sBACA,CADA,aACA,CADA,sBACA,CADA,mBAAA,SACA,CADA,sEACA,CADA,qDACA,CADA,iEACA,CADA,cAAA,SACA,CADA,sEACA,CADA,qDACA,CADA,iEACA,CADA,SAAA,eACA,CADA,MAAA,eACA,CADA,wBACA,CADA,oBACA,CADA,QAAA,iBACA,CADA,MAAA,aACA,CADA,QAAA,iBACA,CADA,uBACA,CADA,aACA,CADA,aACA,CADA,IAAA,cACA,CADA,IAAA,UACA,CADA,OAAA,WACA,CADA,EAAA,aACA,CADA,uBACA,CADA,oBAAA,yBACA,CADA,wCACA,CADA,gCACA,CADA,SAAA,kBACA,CADA,kBAAA,sGACA,CADA,4BACA,CADA,8BACA,CADA,6FACA,CADA,6DACA,CADA,aACA,CADA,SAAA,uBACA,CADA,2DAAA,uBACA,CADA,wDAAA,WACA,CADA,iBAAA,eACA,CADA,gBAAA,YACA,CADA,0FAAA,sBACA,CADA,eAAA,sBACA,CADA,gBAAA,cACA,CADA,4BAAA,6DACA,CADA,kCAAA,YACA,CADA,OACA,CADA,8DAAA,eACA,CADA,gIAAA,WACA,CADA,eACA,CADA,kBACA,CADA,UACA,CADA,wCAAA,aACA,CADA,WACA,CADA,sBACA,CADA,iDAAA,WACA,CADA,UACA,CADA,gBACA,CADA,eACA,CADA,aACA,CADA,oEAAA,eACA,CADA,eACA,CADA,gBACA,CADA,gBACA,CADA,aACA,CADA,gEAAA,QACA,CADA,cACA,CADA,YACA,CADA,aACA,CADA,cACA,CADA,UACA,CADA,YACA,CADA,SACA,CADA,eACA,CADA,iBACA,CADA,uBACA,CADA,qBACA,CADA,sBACA,CADA,uBACA,CADA,mBACA,CADA,oBACA,CADA,qBACA,CADA,kBACA,CADA,0BACA,CADA,wBACA,CADA,yBACA,CADA,kCACA,CADA,oBACA,CADA,oBACA,CADA,eACA,CADA,eACA,CADA,UACA,CADA,YACA,CADA,YACA,CADA,UACA,CADA,UACA,CADA,WACA,CADA,WACA,CADA,sCAAA,iDACA,CADA,mFACA,CADA,2EACA,CADA,mFACA,CADA,0FACA,CADA,4EACA,CADA,kEACA,CADA,kFACA,CADA,+DACA,CADA,0EACA,CADA,uEACA,CADA,qCACA,CADA,wCACA,CADA,sBACA,CADA,sBACA,CADA,sBACA,CADA,uBACA,CADA,uBACA,CADA,uBACA,CADA,uBACA,CADA,uBACA,CADA,uBACA,CADA,wBACA,CADA,gCACA,CADA,2CACA,CADA,yCACA,CADA,mCACA,CADA,2CACA,CADA,kCACA,CADA,kCACA,CADA,iCACA,CADA,qCACA,CADA,kCACA,CADA,wCACA,CADA,4CACA,CADA,iCACA,CADA,iDACA,CADA,yCACA,CADA,mCACA,CADA,mCACA,CADA,oCACA,CADA,oCACA,CADA,qCACA,CADA,6BACA,CADA,+BACA,CADA,+BACA,CADA,gCACA,CADA,gCACA,CADA,gCACA,CADA,gCACA,CADA,gCACA,CADA,gCACA,CADA,gCACA,CADA,gCACA,CADA,iCACA,CADA,yDACA,CADA,8BACA,CADA,8BACA,CADA,+BACA,CADA,+BACA,CADA,gCACA,CADA,yCACA,CADA,yCACA,CADA,iDACA,CADA,mDACA,CADA,8DACA,CADA,2CACA,CADA,iDACA,CADA,iEACA,CADA,uEACA,CADA,yEACA,CADA,yDACA,CADA,0DACA,CADA,iDACA,CADA,+CACA,CADA,yCACA,CADA,mDACA,CADA,mCACA,CADA,iDACA,CADA,+CACA,CADA,0CACA,CADA,oDACA,CADA,oCACA,CADA,kDACA,CADA,gDACA,CADA,4CACA,CADA,sDACA,CADA,sCACA,CADA,oDACA,CADA,kDACA,CADA,2CACA,CADA,qDACA,CADA,qCACA,CADA,mDACA,CADA,iDACA,CADA,+BACA,CADA,+BACA,CADA,wBAAA,yCACA,CADA,yCACA,CADA,iDACA,CADA,mDACA,CADA,6DACA,CADA,2CACA,CADA,iDACA,CADA,iEACA,CADA,0EACA,CADA,wEACA,CADA,yDACA,CADA,0DACA,CADA,iDACA,CADA,+CACA,CADA,yCACA,CADA,mDACA,CADA,mCACA,CADA,iDACA,CADA,+CACA,CADA,0CACA,CADA,oDACA,CADA,oCACA,CADA,kDACA,CADA,gDACA,CADA,4CACA,CADA,sDACA,CADA,sCACA,CADA,oDACA,CADA,kDACA,CADA,2CACA,CADA,qDACA,CADA,qCACA,CADA,mDACA,CADA,iDACA,CADA,+BACA,CADA,gCACA,CADA,2CAAA,iBACA,CADA,qCACA,CADA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,yCAAA,oBACA,CADA,eACA,CADA,uBACA,CADA,cACA,CADA,SACA,CADA,eACA,CADA,iBACA,CADA,eACA,CADA,8CACA,CADA,4CACA,CADA,6DAAA,6CACA,CADA,8CACA,CADA,4CACA,CADA,+CACA,CADA,mEAAA,2DACA,CADA,kDACA,CADA,4EAAA,yDACA,CADA,oDACA,CADA,kBACA,CADA,+JAAA,yDACA,CADA,oDACA,CADA,kBACA,CADA,kFAAA,yDACA,CADA,wFAAA,yDACA,CADA,kWAAA,yDACA,CADA,sLAAA,2BACA,CADA,uFAAA,wCACA,CADA,gBACA,CADA,qBACA,CADA,oBACA,CADA,WACA,CADA,iBACA,CADA,iBACA,CADA,UACA,CADA,6DACA,CADA,+BACA,CADA,UACA,CADA,qBACA,CADA,oBACA,CADA,yFAAA,wCACA,CADA,gBACA,CADA,qBACA,CADA,oBACA,CADA,WACA,CADA,iBACA,CADA,iBACA,CADA,UACA,CADA,6DACA,CADA,+BACA,CADA,UACA,CADA,qBACA,CADA,oBACA,CADA,wJAAA,yDACA,CADA,0EAAA,2DACA,CADA,gFAAA,2DACA,CADA,gFAAA,kDACA,CADA,sFAAA,kDACA,CADA,oEAAA,UACA,CADA,qEAAA,iEACA,CADA,8EAAA,+DACA,CADA,oDACA,CADA,kBACA,CADA,mKAAA,+DACA,CADA,oDACA,CADA,kBACA,CADA,oFAAA,gFACA,CADA,kBACA,CADA,0FAAA,gFACA,CADA,kBACA,CADA,0WAAA,gFACA,CADA,kBACA,CADA,0LAAA,2BACA,CADA,yFAAA,wCACA,CADA,gBACA,CADA,qBACA,CADA,oBACA,CADA,WACA,CADA,iBACA,CADA,iBACA,CADA,UACA,CADA,6DACA,CADA,+BACA,CADA,UACA,CADA,qBACA,CADA,oBACA,CADA,2FAAA,wCACA,CADA,gBACA,CADA,qBACA,CADA,oBACA,CADA,WACA,CADA,iBACA,CADA,iBACA,CADA,UACA,CADA,6DACA,CADA,+BACA,CADA,UACA,CADA,qBACA,CADA,oBACA,CADA,4JAAA,+DACA,CADA,4EAAA,iEACA,CADA,kFAAA,iEACA,CADA,kFAAA,kDACA,CADA,wFAAA,kDACA,CADA,6DAAA,6CACA,CADA,8CACA,CADA,4CACA,CADA,+CACA,CADA,4EAAA,oDACA,CADA,kBACA,CADA,+JAAA,oDACA,CADA,kBACA,CADA,kFAAA,gFACA,CADA,kBACA,CADA,wFAAA,gFACA,CADA,kBACA,CADA,kWAAA,gFACA,CADA,kBACA,CADA,sLAAA,2BACA,CADA,uFAAA,wCACA,CADA,gBACA,CADA,qBACA,CADA,oBACA,CADA,WACA,CADA,iBACA,CADA,iBACA,CADA,UACA,CADA,6DACA,CADA,+BACA,CADA,UACA,CADA,qBACA,CADA,oBACA,CADA,yFAAA,wCACA,CADA,gBACA,CADA,qBACA,CADA,oBACA,CADA,WACA,CADA,iBACA,CADA,iBACA,CADA,UACA,CADA,6DACA,CADA,+BACA,CADA,UACA,CADA,qBACA,CADA,oBACA,CADA,wJAAA,+DACA,CADA,0EAAA,iEACA,CADA,gFAAA,iEACA,CADA,gFAAA,kDACA,CADA,sFAAA,kDACA,CADA,2DAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,sEAAA,4CACA,CADA,6EAAA,yDACA,CADA,UACA,CADA,iBACA,CADA,UACA,CADA,WACA,CADA,MACA,CADA,OACA,CADA,8JAAA,4CACA,CADA,SACA,CADA,mFAAA,gBACA,CADA,yFAAA,gBACA,CADA,6EAAA,4CACA,CADA,mFAAA,4CACA,CADA,oFAAA,iDACA,CADA,0FAAA,iDACA,CADA,mFAAA,yDACA,CADA,yFAAA,yDACA,CADA,2DAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,gEAAA,4CACA,CADA,uEAAA,yDACA,CADA,UACA,CADA,iBACA,CADA,iBACA,CADA,UACA,CADA,WACA,CADA,MACA,CADA,OACA,CADA,kJAAA,4CACA,CADA,SACA,CADA,6EAAA,gBACA,CADA,kBACA,CADA,mFAAA,gBACA,CADA,kBACA,CADA,uEAAA,4CACA,CADA,kBACA,CADA,6EAAA,4CACA,CADA,kBACA,CADA,8EAAA,iDACA,CADA,oFAAA,iDACA,CADA,6EAAA,yDACA,CADA,kBACA,CADA,mFAAA,yDACA,CADA,kBACA,CADA,mFAAA,eACA,CADA,qKAAA,mBACA,CADA,mBACA,CADA,qBACA,CADA,kFAAA,eACA,CADA,mFAAA,qBACA,CADA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,mFAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,8EAAA,qBACA,CADA,mBACA,CADA,qBACA,CADA,eACA,CADA,qFAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,qFAAA,wBACA,CADA,qBACA,CADA,kBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,qFAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,qFAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,kFAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,qFAAA,wBACA,CADA,kBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,qFAAA,wBACA,CADA,kBACA,CADA,mBACA,CADA,qBACA,CADA,8IAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,wIAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,yJAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,+IAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,iIAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CADA,qCAAA,yFAAA,wBACA,CADA,kBACA,CADA,mBACA,CADA,qBACA,CADA,yFAAA,mBACA,CADA,mBACA,CADA,eACA,CADA,qBACA,CAAA,CADA,qFAAA,iBACA,CADA,+EAAA,YACA,CADA,gFAAA,UACA,CADA,qFAAA,4CACA,CADA,+CACA,CADA,sFAAA,mBACA,CADA,+FAAA,sBACA,CADA,qFAAA,4CACA,CADA,+CACA,CADA,qGAAA,yDACA,CADA,sFAAA,mBACA,CADA,kFAAA,eACA,CADA,gFAAA,wBACA,CADA,qBACA,CADA,gBACA,CADA,kFAAA,qBACA,CADA,6EAAA,6BACA,CADA,6EAAA,8BACA,CADA,6EAAA,6BACA,CADA,6EAAA,8BACA,CADA,6EAAA,6BACA,CADA,6EAAA,8BACA,CADA,6EAAA,6BACA,CADA,6EAAA,8BACA,CADA,8EAAA,8BACA,CADA,8EAAA,+BACA,CADA,kFAAA,kBACA,CADA,+EAAA,qCACA,CADA,mFAAA,gBACA,CADA,gFAAA,WACA,CADA,oFAAA,mBACA,CADA,gBACA,CADA,oFAAA,qBACA,CADA,mFAAA,kBACA,CADA,qFAAA,gBACA,CADA,4FAAA,4CACA,CADA,2HAAA,+DACA,CADA,oGAAA,oDACA,CADA,oFAAA,wCACA,CADA,gFAAA,eACA,CADA,qGAAA,yDACA,CADA,qGAAA,yDACA,CADA,sGAAA,0DACA,CADA,uGAAA,2DACA,CADA,wGAAA,4DACA,CADA,mGAAA,uDACA,CADA,0FAAA,0BACA,CADA,qBACA,CADA,0FAAA,2BACA,CADA,sBACA,CADA,qFAAA,6CACA,CADA,8CACA,CADA,gGAAA,uBACA,CADA,2NAAA,wHACA,CADA,4EAAA,SACA,CADA,wGAAA,6BACA,CADA,8EAAA,WACA,CADA,4FAAA,4CACA,CADA,+EAAA,WACA,CADA,qFAAA,6CACA,CADA,8CACA,CADA,qFAAA,4CACA,CADA,+CACA,CADA,oFAAA,wCACA,CADA,8FAAA,8CACA,CADA,+EAAA,eACA,CADA,gBACA,CADA,qFAAA,2CACA,CADA,8CACA,CADA,gFAAA,aACA,CADA,mFAAA,eACA,CADA,oFAAA,wCACA,CADA,kFAAA,6BACA,CADA,kBACA,CADA,4EAAA,SACA,CADA,qFAAA,iBACA,CADA,4EAAA,SACA,CADA,kFAAA,aACA,CADA,4FAAA,mBACA,CADA,sIAAA,mEACA,CADA,uFAAA,sBACA,CADA,gFAAA,oBACA,CADA,eACA,CADA,uBACA,CADA,4EAAA,SACA,CADA,oGAAA,oDACA,CADA,2FAAA,kBACA,CADA,uFAAA,cACA,CADA,uFAAA,cACA,CADA,sGAAA,sDACA,CADA,sFAAA,oCACA,CADA,oFAAA,eACA,CADA,mFAAA,wCACA,CADA,kFAAA,cACA,CADA,gFAAA,KACA,CADA,OACA,CADA,QACA,CADA,MACA,CADA,oIAAA,sDACA,CADA,8EAAA,eACA,CADA,4KAAA,+FACA,CADA,uGAAA,8BACA,CADA,gFAAA,WACA,CADA,oFAAA,eACA,CADA,oFAAA,gBACA,CADA,+EAAA,UACA,CADA,+EAAA,WACA,CADA,mFAAA,oBACA,CADA,+EAAA,UACA,CADA,+EAAA,WACA,CADA,4FAAA,0BACA,CADA,8FAAA,yBACA,CADA,8FAAA,qBACA,CADA,+EAAA,WACA,CADA,oFAAA,wCACA,CADA,yHAAA,6DACA,CADA,mGAAA,uDACA,CADA,6GAAA,iDACA,CADA,sGAAA,sDACA,CADA,oGAAA,wDACA,CADA,8GAAA,kDACA,CADA,uGAAA,uDACA,CADA,qGAAA,yDACA,CADA,+GAAA,mDACA,CADA,wGAAA,wDACA,CADA,sGAAA,0DACA,CADA,gHAAA,oDACA,CADA,yGAAA,yDACA,CADA,6FAAA,iDACA,CADA,kGAAA,kDACA,CADA,oFAAA,eACA,CADA,sFAAA,uBACA,CADA,kBACA,CADA,iFAAA,aACA,CADA,oFAAA,wCACA,CADA,mGAAA,2BACA,CADA,+EAAA,YACA,CADA,uGAAA,2DACA,CADA,oFAAA,eACA,CADA,kFAAA,iBACA,CADA,6FAAA,oBACA,CADA,yGAAA,qDACA,CADA,+EAAA,WACA,CADA,qFAAA,4CACA,CADA,+CACA,CADA,gFAAA,4BACA,CADA,oBACA,CADA,wFAAA,oCACA,CADA,4BACA,CADA,2FAAA,oBACA,CADA,iFAAA,cACA,CADA,sFAAA,oCACA,CADA,iFAAA,QACA,CADA,oFAAA,2CACA,CADA,mFAAA,eACA,CADA,qBACA,CADA,qFAAA,yCACA,CADA,8EAAA,UACA,CADA,sFAAA,aACA,CADA,6EAAA,SACA,CADA,6EAAA,SACA,CADA,gGAAA,uBACA,CADA,gGAAA,wBACA,CADA,uFAAA,qBACA,CADA,2GAAA,+DACA,CADA,6EAAA,UACA,CADA,sGAAA,kCACA,CADA,gFAAA,YACA,CADA,+FAAA,yBACA,CADA,qFAAA,6CACA,CADA,8CACA,CADA,qFAAA,6CACA,CADA,8CACA,CADA,oFAAA,gBACA,CADA,kFAAA,oCACA,CADA,+EAAA,qCACA,CADA,sFAAA,wCACA,CADA,sFAAA,sBACA,CADA,iBACA,CADA,+EAAA,WACA,CADA,iFAAA,kCACA,CADA,gFAAA,YACA,CADA,kFAAA,aACA,CADA,gFAAA,gBACA,CADA,iBACA,CADA,6EAAA,gBACA,CADA,iBACA,CADA,2FAAA,kBACA,CADA,oFAAA,eACA,CADA,sFAAA,oCACA,CADA,uFAAA,iBACA,CADA,sFAAA,oCACA,CADA,kFAAA,uCACA,CADA,0GAAA,8DACA,CADA,+EAAA,UACA,CADA,+EAAA,WACA,CADA,sFAAA,wCACA,CADA,qFAAA,4CACA,CADA,6CACA,CADA,mFAAA,eACA,CADA,gFAAA,WACA,CADA,+EAAA,WACA,CADA,qFAAA,2CACA,CADA,8CACA,CADA,+EAAA,UACA,CADA,+EAAA,WACA,CADA,gFAAA,WACA,CADA,+EAAA,UACA,CADA,+EAAA,qCACA,CADA,uFAAA,oBACA,CADA,+EAAA,UACA,CADA,0FAAA,oBACA,CADA,+EAAA,WACA,CADA,iFAAA,gBACA,CADA,mFAAA,qCACA,CADA,sFAAA,oCACA,CADA,wFAAA,4BACA,CADA,yBACA,CADA,qFAAA,4CACA,CADA,6CACA,CADA,qFAAA,2CACA,CADA,8CACA,CADA,qFAAA,4CACA,CADA,+CACA,CADA,iFAAA,+BACA,CADA,cACA,CADA,kFAAA,eACA,CADA,qBACA,CADA,gFAAA,SACA,CADA,eACA,CADA,+FAAA,mDACA,CADA,8EAAA,UACA,CADA,2FAAA,kBACA,CADA,qFAAA,sBACA,CADA,oFAAA,eACA,CADA,mFAAA,eACA,CADA,wFAAA,yCACA,CADA,qFAAA,6CACA,CADA,8CACA,CADA,qFAAA,2CACA,CADA,8CACA,CADA,iFAAA,iBACA,CADA,oBACA,CADA,qFAAA,4CACA,CADA,6CACA,CADA,qFAAA,iCACA,CADA,yBACA,CADA,oFAAA,eACA,CADA,8EAAA,OACA,CADA,6NAAA,wHACA,CADA,oQAAA,wJACA,CADA,4EAAA,QACA,CADA,oFAAA,kBACA,CADA,mFAAA,iBACA,CADA,qFAAA,oBACA,CADA,4FAAA,8CACA,CADA,sFAAA,qBACA,CADA,+EAAA,SACA,CADA,4FAAA,8CACA,CADA,oIAAA,8DACA,CADA,sFAAA,oCACA,CADA,wFAAA,eACA,CADA,sFAAA,oCACA,CADA,+EAAA,qCACA,CADA,+EAAA,WACA,CADA,6EAAA,WACA,CADA,8EAAA,WACA,CADA,+EAAA,YACA,CADA,8EAAA,KACA,CADA,6EAAA,cACA,CADA,eACA,CADA,6EAAA,aACA,CADA,gBACA,CADA,kFAAA,gBACA,CADA,oFAAA,gBACA,CADA,8EAAA,OACA,CADA,6EAAA,WACA,CADA,6EAAA,UACA,CADA,gFAAA,YACA,CADA,kFAAA,uCACA,CADA,4EAAA,SACA,CADA,6EAAA,UACA,CADA,uFAAA,sBACA,CADA,4EAAA,SACA,CADA,oFAAA,eACA,CADA,sFAAA,yBACA,CADA,iFAAA,cACA,CADA,oBACA,CADA,eACA,CADA,qBACA,CADA,iFAAA,mCACA,CADA,oHAAA,uCACA,CADA,qFAAA,4CACA,CADA,+CACA,CADA,gFAAA,WACA,CADA,+EAAA,WACA,CADA,oFAAA,eACA,CADA,gFAAA,OACA,CADA,wHAAA,2CACA,CADA,mFAAA,eACA,CADA,iFAAA,gBACA,CADA,gFAAA,WACA,CADA,gFAAA,YACA,CADA,gFAAA,WACA,CADA,+EAAA,WACA,CADA,kFAAA,eACA,CADA,gBACA,CADA,mFAAA,eACA,CADA,mFAAA,YACA,CADA,kBACA,CADA,oFAAA,cACA,CADA,2FAAA,6CACA,CADA,gGAAA,mDACA,CADA,+EAAA,WACA,CADA,4EAAA,QACA,CADA,+FAAA,kDACA,CADA,uFAAA,yCACA,CADA,+EAAA,cACA,CADA,oFAAA,cACA,CADA,oFAAA,qCACA,CADA,mFAAA,cACA,CADA,qFAAA,4CACA,CADA,+CACA,CADA,kGAAA,qDACA,CADA,mFAAA,UACA,CADA,gFAAA,aACA,CADA,mFAAA,eACA,CADA,+EAAA,UACA,CADA,mFAAA,kBACA,CADA,+EAAA,SACA,CADA,qFAAA,cACA,CADA,sBACA,CADA,8FAAA,oBACA,CADA,4BACA,CADA,gFAAA,WACA,CADA,4FAAA,wBACA,CADA,oFAAA,wCACA,CADA,gFAAA,YACA,CADA,0FAAA,eACA,CADA,gFAAA,WACA,CADA,gFAAA,YACA,CADA,iFAAA,QACA,CADA,gFAAA,YACA,CADA,8EAAA,WACA,CADA,qFAAA,2CACA,CADA,8CACA,CADA,wFAAA,eACA,CADA,mFAAA,eACA,CADA,qFAAA,4CACA,CADA,6CACA,CADA,+EAAA,UACA,CADA,gFAAA,WACA,CADA,0FAAA,oBACA,CADA,+EAAA,YACA,CADA,mFAAA,gBACA,CADA,6FAAA,oBACA,CADA,oFAAA,gBACA,CADA,gFAAA,gBACA,CADA,mBACA,CADA,gFAAA,UACA,CADA,gFAAA,YACA,CADA,6EAAA,UACA,CADA,kGAAA,2BACA,CADA,0FAAA,0BACA,CADA,kCACA,CADA,mFAAA,cACA,CADA,iFAAA,gBACA,CADA,+EAAA,WACA,CADA,+EAAA,UACA,CADA,mFAAA,eACA,CADA,oFAAA,eACA,CADA,uFAAA,cACA,CADA,oFAAA,eACA,CADA,oFAAA,gBACA,CADA,oFAAA,kBACA,CADA,mFAAA,aACA,CADA,+EAAA,MACA,CADA,oFAAA,eACA,CADA,oFAAA,eACA,CADA,oFAAA,eACA,CADA,oFAAA,kBACA,CADA,mFAAA,aACA,CADA,8FAAA,wBACA,CADA,6EAAA,WACA,CADA,8EAAA,WACA,CADA,mFAAA,eACA,CADA,2NAAA,wHACA,CADA,4EAAA,SACA,CADA,6EAAA,WACA,CADA,6EAAA,UACA,CADA,qFAAA,6CACA,CADA,8CACA,CADA,gFAAA,gBACA,CADA,oFAAA,kBACA,CADA,gFAAA,WACA,CADA,+EAAA,WACA,CADA,+EAAA,WACA,CADA,6GAAA,iEACA,CADA,+EAAA,YACA,CADA,oFAAA,gBACA,CADA,qFAAA,4CACA,CADA,6CACA,CADA,qFAAA,4CACA,CADA,6CACA,CADA,+FAAA,2CACA,CADA,8EAAA,SACA,CADA,gFAAA,gBACA,CADA,iBACA,CADA,oFAAA,gBACA,CADA,iFAAA,eACA,CADA,gFAAA,WACA,CADA,8EAAA,UACA,CADA,iFAAA,aACA,CADA,gBACA,CADA,6EAAA,aACA,CADA,cACA,CADA,+EAAA,UACA,CADA,6EAAA,UACA,CADA,+EAAA,WACA,CADA,mFAAA,qBACA,CADA,kFAAA,aACA,CADA,mFAAA,qBACA,CADA,gFAAA,WACA,CADA,gFAAA,iBACA,CADA,kBACA,CADA,6EAAA,UACA,CADA,gFAAA,WACA,CADA,gFAAA,YACA,CADA,iFAAA,iBACA,CADA,+EAAA,UACA,CADA,8EAAA,WACA,CADA,gFAAA,WACA,CADA,qFAAA,cACA,CADA,iFAAA,mCACA,CADA,+EAAA,WACA,CADA,yFAAA,oBACA,CADA,gGAAA,6BACA,CADA,yFAAA,6BACA,CADA,kFAAA,kBACA,CADA,oFAAA,iBACA,CADA,kFAAA,sBACA,CADA,iGAAA,qDACA,CADA,+EAAA,eACA,CADA,iGAAA,gCACA,CADA,iGAAA,+BACA,CADA,iFAAA,OACA,CADA,uFAAA,qCACA,CADA,8EAAA,KACA,CADA,+EAAA,MACA,CADA,gFAAA,OACA,CADA,iFAAA,QACA,CADA,qGAAA,yDACA,CADA,uFAAA,wBACA,CADA,sHAAA,oDACA,CADA,iFAAA,OACA,CADA,kFAAA,QACA,CADA,+FAAA,uDACA,CADA,qGAAA,6DACA,CADA,sFAAA,qBACA,CADA,kFAAA,aACA,CADA,qFAAA,6CACA,CADA,qFAAA,8CACA,CADA,gFAAA,cACA,CADA,gFAAA,cACA,CADA,mFAAA,kBACA,CADA,qFAAA,8CACA,CADA,mFAAA,UACA,CADA,kFAAA,SACA,CADA,qFAAA,2CACA,CADA,uGAAA,+DACA,CADA,yMAAA,iHACA,CADA,iFAAA,WACA,CADA,qFAAA,6CACA,CADA,+FAAA,mBACA,CADA,uFAAA,cACA,CADA,+EAAA,mBACA,CADA,gFAAA,iBACA,CADA,qFAAA,2CACA,CADA,qFAAA,4CACA,CADA,oFAAA,WACA,CADA,mFAAA,UACA,CADA,qFAAA,2CACA,CADA,gFAAA,gBACA,CADA,uGAAA,+DACA,CADA,iFAAA,gBACA,CADA,qFAAA,2CACA,CADA,qFAAA,2CACA,CADA,gFAAA,eACA,CADA,oFAAA,sBACA,CADA,qFAAA,+CACA,CADA,gFAAA,iBACA,CADA,qFAAA,8CACA,CADA,qFAAA,4CACA,CADA,iFAAA,iBACA,CADA,qFAAA,6CACA,CADA,qFAAA,8CACA,CADA,+EAAA,kBACA,CADA,gFAAA,mBACA,CADA,qFAAA,8CACA,CADA,yFAAA,uCACA,CADA,wFAAA,sCACA,CADA,kFAAA,SACA,CADA,iFAAA,QACA,CADA,+EAAA,cACA,CADA,gFAAA,kBACA,CADA,gFAAA,gBACA,CADA,gFAAA,eACA,CADA,qFAAA,+CACA,CADA,6EAAA,gBACA,CADA,kFAAA,eACA,CADA,qFAAA,4CACA,CADA,qFAAA,6CACA,CADA,oFAAA,iBACA,CADA,kHAAA,oCACA,CADA,qFAAA,+CACA,CADA,mFAAA,oBACA,CADA,qFAAA,8CACA,CADA,oFAAA,mBACA,CADA,iFAAA,qBACA,CADA,qFAAA,4CACA,CADA,kGAAA,mCACA,CADA,qFAAA,gDACA,CADA,2CACA,CADA,qFAAA,wCACA,CADA,6EAAA,YACA,CADA,uFAAA,wBACA,CADA,gFAAA,kBACA,CADA,+EAAA,QACA,CADA,iFAAA,oBACA,CADA,oFAAA,oBACA,CADA,uFAAA,0BACA,CADA,qFAAA,4CACA,CADA,qFAAA,8CACA,CADA,qFAAA,6CACA,CADA,gFAAA,SACA,CADA,gFAAA,kBACA,CADA,iFAAA,cACA,CADA,oBACA,CADA,kFAAA,SACA,CADA,sFAAA,sBACA,CADA,+EAAA,aACA,CADA,kFAAA,eACA,CADA,kFAAA,iDACA,CADA,kFAAA,kDACA,CADA,4FAAA,iCACA,CADA,0FAAA,+BACA,CADA,uFAAA,qBACA,CADA,2FAAA,kBACA,CADA,oFAAA,wBACA,CADA,qFAAA,4CACA,CADA,qFAAA,+CACA,CADA,gFAAA,mBACA,CADA,iFAAA,QACA,CADA,gFAAA,OACA,CADA,yFAAA,uCACA,CADA,uFAAA,qCACA,CADA,mFAAA,UACA,CADA,iFAAA,QACA,CADA,iFAAA,mBACA,CADA,qFAAA,gDACA,CADA,2CACA,CADA,4HAAA,yDACA,CADA,qFAAA,2CACA,CADA,iFAAA,OACA,CADA,gFAAA,eACA,CADA,gFAAA,eACA,CADA,gFAAA,iBACA,CADA,gFAAA,eACA,CADA,kFAAA,SACA,CADA,yFAAA,iDACA,CADA,mFAAA,mBACA,CADA,mFAAA,iBACA,CADA,qFAAA,6CACA,CADA,qFAAA,8CACA,CADA,qFAAA,4CACA,CADA,oFAAA,oBACA,CADA,qCAAA,wBACA,CADA,qFAAA,6CACA,CADA,qFAAA,4CACA,CADA,qFAAA,6CACA,CADA,oFAAA,iBACA,CADA,gFAAA,eACA,CADA,gFAAA,eACA,CADA,0FAAA,iBACA,CADA,iFAAA,WACA,CADA,qFAAA,+CACA,CADA,gFAAA,gBACA,CADA,qFAAA,2CACA,CADA,8IAAA,oEACA,CADA,8FAAA,6BACA,CADA,qFAAA,2CACA,CADA,sFAAA,oBACA,CADA,qFAAA,+CACA,CADA,6FAAA,oBACA,CADA,gFAAA,kBACA,CADA,qFAAA,4CACA,CADA,oHAAA,iDACA,CADA,qFAAA,gDACA,CADA,2CACA,CADA,qFAAA,wCACA,CADA,qFAAA,8CACA,CADA,kFAAA,SACA,CADA,iGAAA,wBACA,CADA,gFAAA,gBACA,CADA,6EAAA,iBACA,CADA,6EAAA,eACA,CADA,iFAAA,QACA,CADA,kFAAA,kBACA,CADA,gFAAA,eACA,CADA,wFAAA,sCACA,CADA,gFAAA,OACA,CADA,iFAAA,YACA,CADA,kBACA,CADA,iFAAA,eACA,CADA,qBACA,CADA,sFAAA,qBACA,CADA,wIAAA,yBACA,CADA,sJAAA,iCACA,CADA,gJAAA,uBACA,CADA,4JAAA,iEACA,CADA,0JAAA,iEACA,CADA,8FAAA,qCACA,CADA,oGAAA,iBACA,CADA,gHAAA,4BACA,CADA,2FAAA,SACA,CADA,2GAAA,mBACA,CADA,+JAAA,sDACA,CADA,2JAAA,2BACA,CADA,sJAAA,kBACA,CADA,qJAAA,2BACA,CADA,gJAAA,kBACA,CADA,gIAAA,iEACA,CADA,uQAAA,iEACA,CADA,8GAAA,kBACA,CADA,mOAAA,kBACA,CADA,2HAAA,4CACA,CADA,iPAAA,4CACA,CADA,sKAAA,2BACA,CADA,4JAAA,2BACA,CADA,iKAAA,kBACA,CADA,uJAAA,kBACA,CADA,oHAAA,yDACA,CADA,6FAAA,UACA,CADA,mGAAA,kBACA,CADA,2JAAA,oDACA,CADA,iKAAA,oDACA,CADA,kJAAA,kBACA,CADA,wJAAA,kBACA,CADA,mIAAA,oDACA,CADA,6QAAA,oDACA,CADA,4HAAA,WACA,CADA,0IAAA,oBACA,CADA,wNAAA,0FACA,CADA,uJAAA,+BACA,CADA,+IAAA,4CACA,CADA,sJAAA,0BACA,CADA,iJAAA,4CACA,CADA,+FAAA,UACA,CADA,8GAAA,mDACA,CADA,0LAAA,+DACA,CADA,sIAAA,iBACA,CADA,yJAAA,+BACA,CADA,0IAAA,SACA,CADA,6JAAA,2BACA,CADA,+FAAA,WACA,CADA,+FAAA,WACA,CADA,+FAAA,YACA,CADA,2HAAA,wCACA,CADA,6GAAA,oBACA,CADA,6GAAA,oBACA,CADA,sGAAA,sBACA,CADA,kGAAA,iBACA,CADA,4FAAA,WACA,CADA,6FAAA,UACA,CADA,sHAAA,uDACA,CADA,mPAAA,uDACA,CADA,+GAAA,4CACA,CADA,qOAAA,4CACA,CADA,sHAAA,2DACA,CADA,gIAAA,iBACA,CADA,uIAAA,kBACA,CADA,oIAAA,eACA,CADA,oGAAA,UACA,CADA,gGAAA,QACA,CADA,iGAAA,SACA,CADA,kGAAA,UACA,CADA,mGAAA,WACA,CADA,0IAAA,eACA,CADA,oIAAA,eACA,CADA,0HAAA,2DACA,CADA,2PAAA,2DACA,CADA,qJAAA,eACA,CADA,2IAAA,eACA,CADA,2IAAA,gBACA,CADA,mGAAA,WACA,CADA,8FAAA,MACA,CADA,+FAAA,OACA,CADA,sGAAA,+CACA,CADA,uGAAA,gDACA,CADA,yGAAA,kDACA,CADA,wGAAA,iDACA,CADA,6IAAA,6BACA,CADA,0IAAA,2BACA,CADA,sJAAA,uDACA,CADA,gGAAA,QACA,CADA,sMAAA,+BACA,CADA,0MAAA,+BACA,CADA,0MAAA,6BACA,CADA,yMAAA,gCACA,CADA,yJAAA,8CACA,CADA,0LAAA,gGACA,CADA,wGAAA,yBACA,CADA,kGAAA,eACA,CADA,kGAAA,UACA,CADA,8FAAA,QACA,CADA,4FAAA,MACA,CADA,qJAAA,6DACA,CADA,6GAAA,eACA,CADA,4GAAA,oCACA,CADA,oMAAA,6BACA,CADA,kBACA,CADA,8LAAA,SACA,CADA,2GAAA,SACA,CADA,iHAAA,SACA,CADA,kMAAA,mCACA,CADA,0MAAA,iCACA,CADA,yBACA,CADA,sMAAA,oCACA,CADA,sMAAA,gCACA,CADA,eACA,CADA,wMAAA,mBACA,CADA,0MAAA,sBACA,CADA,0MAAA,cACA,CADA,sBACA,CADA,0NAAA,uBACA,CADA,0QAAA,wCACA,CADA,8LAAA,WACA,CADA,8MAAA,sBACA,CADA,gMAAA,WACA,CADA,wNAAA,4CACA,CADA,wOAAA,oDACA,CADA,sOAAA,uDACA,CADA,0OAAA,yDACA,CADA,sPAAA,+DACA,CADA,wNAAA,4CACA,CADA,0OAAA,yDACA,CADA,8MAAA,cACA,CADA,kMAAA,gFACA,CADA,kBACA,CADA,8LAAA,qCACA,CADA,wNAAA,4CACA,CADA,8MAAA,cACA,CADA,0QAAA,wCACA,CADA,sMAAA,aACA,CADA,sMAAA,aACA,CADA,wOAAA,oDACA,CADA,8MAAA,sBACA,CADA,oMAAA,6BACA,CADA,kBACA,CADA,8NAAA,mDACA,CADA,4HAAA,iEACA,CADA,kIAAA,iEACA,CADA,4GAAA,iDACA,CADA,kHAAA,iDACA,CADA,0LAAA,wBACA,CADA,uJAAA,gFACA,CADA,kBACA,CADA,6JAAA,gFACA,CADA,kBACA,CADA,6JAAA,gFACA,CADA,kBACA,CADA,mKAAA,gFACA,CADA,kBACA,CADA,qJAAA,+BACA,CADA,cACA,CADA,2JAAA,+BACA,CADA,cACA,CADA,4TAAA,+BACA,CADA,cACA,CADA,qJAAA,gFACA,CADA,kBACA,CADA,2JAAA,gFACA,CADA,kBACA,CADA,4TAAA,gFACA,CADA,kBACA,CADA,yJAAA,iBACA,CADA,kJAAA,UACA,CADA,oJAAA,UACA,CADA,iKAAA,iDACA,CADA,iJAAA,UACA,CADA,mIAAA,mDACA,CADA,qIAAA,mDACA,CADA,iLAAA,6DACA,CADA,yJAAA,gBACA,CADA,yJAAA,UACA,CADA,qJAAA,QACA,CADA,0IAAA,4CACA,CADA,8IAAA,2BACA,CADA,yIAAA,kBACA,CADA,2HAAA,oCACA,CADA,6HAAA,eACA,CADA,0HAAA,gBACA,CADA,+HAAA,uDACA,CADA,qIAAA,uDACA,CADA,gHAAA,kBACA,CADA,sHAAA,kBACA,CADA,2IAAA,qCACA,CADA,iJAAA,iBACA,CADA,iJAAA,gBACA,CADA,yJAAA,6BACA,CADA,kBACA,CADA,yIAAA,4BACA,CADA,+IAAA,4BACA,CADA,4GAAA,aACA,CADA,kHAAA,aACA,CADA,iJAAA,UACA,CADA,mJAAA,+CACA,CADA,oJAAA,gDACA,CADA,sJAAA,kDACA,CADA,qJAAA,iDACA,CADA,4JAAA,8BACA,CADA,+HAAA,uDACA,CADA,qIAAA,uDACA,CADA,gHAAA,kBACA,CADA,sHAAA,kBACA,CADA,8KAAA,+DACA,CADA,0LAAA,+DACA,CADA,4JAAA,wBACA,CADA,wKAAA,wBACA,CADA,2JAAA,iEACA,CADA,yCAAA,gFAAA,YACA,CADA,yFAAA,6CACA,CADA,8CACA,CADA,qFAAA,cACA,CADA,oBACA,CADA,eACA,CADA,qBACA,CADA,yFAAA,4CACA,CADA,+CACA,CADA,yFAAA,6CACA,CADA,8CACA,CADA,mFAAA,qCACA,CADA,yFAAA,iBACA,CADA,uFAAA,qCACA,CADA,oFAAA,WACA,CADA,yFAAA,6CACA,CADA,8CACA,CADA,uFAAA,aACA,CADA,qFAAA,+BACA,CADA,cACA,CADA,iFAAA,cACA,CADA,eACA,CADA,0FAAA,oCACA,CADA,qFAAA,QACA,CADA,mFAAA,SACA,CADA,sGAAA,mCACA,CADA,4FAAA,sCACA,CADA,yFAAA,+CACA,CADA,yFAAA,2CACA,CADA,yFAAA,2CACA,CADA,yFAAA,2CACA,CADA,oFAAA,kBACA,CAAA,CADA,yCAAA,0MAAA,gFACA,CADA,kBACA,CAAA,CADA,yCAAA,sOAAA,mDACA,CAAA,CADA,qEAAA,4FAAA,eACA,CAAA,CADA,qCAAA,gFAAA,YACA,CADA,mFAAA,qCACA,CADA,mFAAA,UACA,CADA,mFAAA,WACA,CADA,4FAAA,yCACA,CADA,uFAAA,eACA,CADA,iFAAA,gBACA,CADA,iBACA,CADA,iFAAA,YACA,CADA,sFAAA,eACA,CADA,gBACA,CADA,wFAAA,cACA,CADA,iBACA,CADA,yFAAA,6CACA,CADA,8CACA,CADA,qFAAA,cACA,CADA,oBACA,CADA,eACA,CADA,qBACA,CADA,0FAAA,oCACA,CADA,yFAAA,4CACA,CADA,+CACA,CADA,iFAAA,cACA,CADA,eACA,CADA,uFAAA,eACA,CADA,yFAAA,4CACA,CADA,+CACA,CADA,mFAAA,WACA,CADA,mGAAA,kDACA,CADA,yFAAA,6CACA,CADA,8CACA,CADA,yFAAA,4CACA,CADA,6CACA,CADA,oFAAA,UACA,CADA,aACA,CADA,wFAAA,wCACA,CADA,wFAAA,eACA,CADA,0FAAA,uBACA,CADA,kBACA,CADA,oGAAA,0BACA,CADA,0FAAA,oCACA,CADA,oFAAA,SACA,CADA,eACA,CADA,sFAAA,iBACA,CADA,0FAAA,oCACA,CADA,iGAAA,iDACA,CADA,mFAAA,MACA,CADA,mFAAA,MACA,CADA,sGAAA,kDACA,CADA,yGAAA,yDACA,CADA,gGAAA,4CACA,CADA,mFAAA,WACA,CADA,wFAAA,kBACA,CADA,wFAAA,kBACA,CADA,uFAAA,aACA,CADA,uFAAA,aACA,CADA,sGAAA,mCACA,CADA,yFAAA,2CACA,CADA,iFAAA,gBACA,CADA,qFAAA,eACA,CADA,qBACA,CADA,uFAAA,kBACA,CADA,iFAAA,eACA,CADA,gIAAA,yDACA,CADA,qFAAA,OACA,CADA,qFAAA,YACA,CADA,kBACA,CADA,sFAAA,kBACA,CADA,yFAAA,2CACA,CADA,0FAAA,0BACA,CADA,yFAAA,2CACA,CADA,0FAAA,oBACA,CADA,0FAAA,oBACA,CADA,qFAAA,gBACA,CADA,iFAAA,aACA,CADA,wHAAA,iDACA,CAAA,CADA,qCAAA,qLAAA,sDACA,CAAA,CADA,qCAAA,kOAAA,iDACA,CAAA,CADA,qCAAA,sOAAA,mDACA,CAAA,CADA,qCAAA,iFAAA,gBACA,CADA,iBACA,CADA,yFAAA,4CACA,CADA,6CACA,CADA,qGAAA,oDACA,CADA,4FAAA,yCACA,CADA,wHAAA,iDACA,CAAA,CADA,0CAAA,gFAAA,YACA,CAAA,CADA,0CAAA,gFAAA,YACA,CAAA","sourcesContent":["@layer reset, base, tokens, recipes, utilities;\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 92586:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ useFinishAuthRequest)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30758);
/* harmony import */ var _stacks_wallet_sdk__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(50776);
/* harmony import */ var _stacks_wallet_sdk__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(52267);
/* harmony import */ var _leather_io_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(87521);
/* harmony import */ var _leather_io_query__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(4264);
/* harmony import */ var _shared_actions_finalize_auth_response__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17395);
/* harmony import */ var _shared_logger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(41303);
/* harmony import */ var _app_common_hooks_auth_use_auth_request_params__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(17854);
/* harmony import */ var _app_common_hooks_auth_use_onboarding_state__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(92520);
/* harmony import */ var _app_common_hooks_use_key_actions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(1479);
/* harmony import */ var _app_common_use_wallet_type__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(71977);
/* harmony import */ var _app_store_accounts_blockchain_stacks_stacks_account_hooks__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(14461);
/* harmony import */ var _use_legacy_auth_bitcoin_addresses__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(28532);













function useFinishAuthRequest() {
  const { decodedAuthRequest, authRequest, appIcon, appName } = (0,_app_common_hooks_auth_use_onboarding_state__WEBPACK_IMPORTED_MODULE_6__/* .useOnboardingState */ .E)();
  const keyActions = (0,_app_common_hooks_use_key_actions__WEBPACK_IMPORTED_MODULE_7__/* .useKeyActions */ .M)();
  const stacksAccounts = (0,_app_store_accounts_blockchain_stacks_stacks_account_hooks__WEBPACK_IMPORTED_MODULE_9__/* .useStacksAccounts */ .Lh)();
  const { walletType } = (0,_app_common_use_wallet_type__WEBPACK_IMPORTED_MODULE_8__/* .useWalletType */ .t)();
  const accounts = (0,_app_store_accounts_blockchain_stacks_stacks_account_hooks__WEBPACK_IMPORTED_MODULE_9__/* .useStacksAccounts */ .Lh)();
  const { origin, tabId } = (0,_app_common_hooks_auth_use_auth_request_params__WEBPACK_IMPORTED_MODULE_5__/* .useAuthRequestParams */ .N)();
  const wallet = (0,_app_store_accounts_blockchain_stacks_stacks_account_hooks__WEBPACK_IMPORTED_MODULE_9__/* .useLegacyStacksWallet */ .FN)();
  const hiroLimiter = (0,_leather_io_query__WEBPACK_IMPORTED_MODULE_2__/* .useHiroApiRateLimiter */ .q9Q)();
  const getLegacyAuthBitcoinData = (0,_use_legacy_auth_bitcoin_addresses__WEBPACK_IMPORTED_MODULE_10__/* .useGetLegacyAuthBitcoinAddresses */ .p)();
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(
    async (accountIndex) => {
      const account = accounts?.[accountIndex];
      if (!decodedAuthRequest || !authRequest || !account || !stacksAccounts || !origin || !tabId) {
        _shared_logger__WEBPACK_IMPORTED_MODULE_4__/* .logger */ .v.error("Uh oh! Finished onboarding without auth info.");
        return;
      }
      const appURL = new URL(origin);
      if (walletType === "software" && account.type === "software") {
        if (!wallet) return;
        try {
          const gaiaHubConfig = await hiroLimiter.add(
            () => (0,_stacks_wallet_sdk__WEBPACK_IMPORTED_MODULE_11__/* .createWalletGaiaConfig */ .QX)({ gaiaHubUrl: _leather_io_constants__WEBPACK_IMPORTED_MODULE_1__/* .gaiaUrl */ .Ss, wallet }),
            {
              priority: _leather_io_query__WEBPACK_IMPORTED_MODULE_2__/* .hiroApiRequestsPriorityLevels */ .ij0.createWalletGaiaConfig,
              throwOnTimeout: true
            }
          );
          const walletConfig = await (0,_stacks_wallet_sdk__WEBPACK_IMPORTED_MODULE_11__/* .getOrCreateWalletConfig */ .bd)({
            wallet,
            gaiaHubConfig,
            skipUpload: true
          });
          await (0,_stacks_wallet_sdk__WEBPACK_IMPORTED_MODULE_11__/* .updateWalletConfigWithApp */ .wE)({
            wallet,
            walletConfig,
            gaiaHubConfig,
            account,
            app: {
              origin: appURL.origin,
              lastLoginAt: (/* @__PURE__ */ new Date()).getTime(),
              scopes: decodedAuthRequest.scopes,
              appIcon,
              name: appName
            }
          });
          const authResponse = await hiroLimiter.add(
            () => {
              return (0,_stacks_wallet_sdk__WEBPACK_IMPORTED_MODULE_12__/* .makeAuthResponse */ .Kt)({
                gaiaHubUrl: _leather_io_constants__WEBPACK_IMPORTED_MODULE_1__/* .gaiaUrl */ .Ss,
                appDomain: appURL.origin,
                transitPublicKey: decodedAuthRequest.public_keys[0],
                scopes: decodedAuthRequest.scopes,
                account,
                additionalData: {
                  ...getLegacyAuthBitcoinData(accountIndex),
                  walletProvider: "leather"
                }
              });
            },
            { priority: _leather_io_query__WEBPACK_IMPORTED_MODULE_2__/* .hiroApiRequestsPriorityLevels */ .ij0.makeAuthResponse, throwOnTimeout: true }
          );
          keyActions.switchAccount(accountIndex);
          (0,_shared_actions_finalize_auth_response__WEBPACK_IMPORTED_MODULE_3__/* .finalizeAuthResponse */ .o)({
            decodedAuthRequest,
            authRequest,
            authResponse,
            requestingOrigin: origin,
            tabId
          });
        } catch (e) {
          _shared_logger__WEBPACK_IMPORTED_MODULE_4__/* .logger */ .v.error("Error finishing auth request", e);
        }
      }
    },
    [
      accounts,
      decodedAuthRequest,
      authRequest,
      stacksAccounts,
      origin,
      tabId,
      walletType,
      wallet,
      appIcon,
      appName,
      getLegacyAuthBitcoinData,
      keyActions,
      hiroLimiter
    ]
  );
}


/***/ }),

/***/ 28532:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   p: () => (/* binding */ useGetLegacyAuthBitcoinAddresses)
/* harmony export */ });
/* harmony import */ var _noble_hashes_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(19251);
/* harmony import */ var _app_store_accounts_blockchain_bitcoin_native_segwit_account_hooks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(98775);
/* harmony import */ var _app_store_accounts_blockchain_bitcoin_taproot_account_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3559);




function useGetLegacyAuthBitcoinAddresses() {
  const deriveAllNativeSegWitNetworkSigners = (0,_app_store_accounts_blockchain_bitcoin_native_segwit_account_hooks__WEBPACK_IMPORTED_MODULE_0__/* .useNativeSegwitNetworkSigners */ .F0)();
  const deriveAllTaprootNetworkSigners = (0,_app_store_accounts_blockchain_bitcoin_taproot_account_hooks__WEBPACK_IMPORTED_MODULE_1__/* .useTaprootNetworkSigners */ .kh)();
  return (accountIndex) => {
    const taprootAccount = deriveAllTaprootNetworkSigners(accountIndex);
    const nativeSegwitAccount = deriveAllNativeSegWitNetworkSigners(accountIndex);
    return {
      btcAddress: {
        p2tr: {
          mainnet: taprootAccount?.mainnet?.payment.address,
          testnet: taprootAccount?.testnet?.payment.address,
          regtest: taprootAccount?.regtest?.payment.address,
          signet: taprootAccount?.signet?.payment.address
        },
        p2wpkh: {
          mainnet: nativeSegwitAccount?.mainnet?.payment.address,
          testnet: nativeSegwitAccount?.testnet?.payment.address,
          regtest: nativeSegwitAccount?.regtest?.payment.address,
          signet: nativeSegwitAccount?.signet?.payment.address
        }
      },
      btcPublicKey: {
        p2tr: (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_2__/* .bytesToHex */ .My)(taprootAccount?.mainnet?.keychain.publicKey),
        p2wpkh: (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_2__/* .bytesToHex */ .My)(nativeSegwitAccount?.mainnet?.keychain.publicKey)
      },
      btcPublicKeyTestnet: {
        p2tr: (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_2__/* .bytesToHex */ .My)(taprootAccount?.testnet?.keychain.publicKey),
        p2wpkh: (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_2__/* .bytesToHex */ .My)(nativeSegwitAccount?.testnet?.keychain.publicKey)
      }
    };
  };
}


/***/ }),

/***/ 90963:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  o: () => (/* binding */ useAccountDisplayName),
  b: () => (/* binding */ useCurrentAccountDisplayName)
});

// EXTERNAL MODULE: ./node_modules/.pnpm/@tanstack+react-query@5.51.23_react@18.3.1/node_modules/@tanstack/react-query/build/modern/useQuery.js
var useQuery = __webpack_require__(2569);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+query@2.17.0_@stacks+network@6.13.0_encoding@0.1.13__encoding@0.1.13_react@18.3.1/node_modules/@leather.io/query/dist/index.js + 9 modules
var dist = __webpack_require__(4264);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+utils@0.16.6/node_modules/@leather.io/utils/dist/index.js
var utils_dist = __webpack_require__(62684);
// EXTERNAL MODULE: ./src/app/common/utils.ts
var utils = __webpack_require__(81398);
;// CONCATENATED MODULE: ./src/app/common/utils/format-account-name.ts


function formatAccountName(input, maxLength = 20, offset = 4) {
  if (!input) return "";
  if (input.length > maxLength) {
    return (0,utils_dist/* truncateMiddle */.kU)(input, offset);
  }
  return input;
}

;// CONCATENATED MODULE: ./src/app/common/utils/get-account-display-name.ts

function getAutogeneratedAccountDisplayName(index) {
  return `Account ${index + 1}`;
}

// EXTERNAL MODULE: ./src/app/store/accounts/blockchain/stacks/stacks-account.hooks.ts + 3 modules
var stacks_account_hooks = __webpack_require__(14461);
// EXTERNAL MODULE: ./src/app/store/networks/networks.hooks.ts + 1 modules
var networks_hooks = __webpack_require__(54667);
;// CONCATENATED MODULE: ./src/app/common/hooks/account/use-account-names.ts









function useCurrentAccountDisplayName() {
  const account = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const address = (0,stacks_account_hooks/* useCurrentStacksAccountAddress */.$3)();
  const client = (0,dist/* useStacksClient */.mri)();
  const { isTestnet } = (0,networks_hooks/* useCurrentNetworkState */.uZ)();
  return (0,useQuery/* useQuery */.I)({
    ...(0,dist/* createGetBnsNamesOwnedByAddressQueryOptions */.WHt)({ address, client, isTestnet }),
    select: (resp) => {
      if ((0,utils_dist/* isUndefined */.b0)(account?.index) && (!account || typeof account?.index !== "number"))
        return "Account";
      const names = resp.names ?? [];
      if (names.length && names[0]) return (0,utils/* parseIfValidPunycode */.AH)(names[0]);
      return getAutogeneratedAccountDisplayName(account?.index);
    }
  });
}
function useAccountDisplayName({ address, index }) {
  const client = (0,dist/* useStacksClient */.mri)();
  const { isTestnet } = (0,networks_hooks/* useCurrentNetworkState */.uZ)();
  const query = (0,useQuery/* useQuery */.I)({
    ...(0,dist/* createGetBnsNamesOwnedByAddressQueryOptions */.WHt)({ address, client, isTestnet }),
    select: (resp) => {
      const names = resp.names ?? [];
      return formatAccountName(names[0]) || getAutogeneratedAccountDisplayName(index);
    }
  });
  return {
    ...query,
    data: query.data || getAutogeneratedAccountDisplayName(index)
  };
}


/***/ }),

/***/ 17854:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   N: () => (/* binding */ useAuthRequestParams)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30758);
/* harmony import */ var jsontokens__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(67814);
/* harmony import */ var jsontokens__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsontokens__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _app_common_initial_search_params__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21975);
/* harmony import */ var _use_default_request_search_params__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(62195);





function parseAuthRequestValues(authRequest, origin) {
  if (!authRequest || !origin) return;
  const { payload } = (0,jsontokens__WEBPACK_IMPORTED_MODULE_1__.decodeToken)(authRequest);
  const decodedAuthRequest = payload;
  const appName = decodedAuthRequest.appDetails?.name;
  const appIcon = decodedAuthRequest.appDetails?.icon;
  if (!appIcon) throw new Error("Missing `appIcon` from auth request");
  if (!appName) throw new Error("Missing `appName` from auth request");
  return {
    decodedAuthRequest,
    authRequest,
    appName,
    appIcon,
    appURL: new URL(origin)
  };
}
function useAuthRequestParams() {
  const { origin, tabId } = (0,_use_default_request_search_params__WEBPACK_IMPORTED_MODULE_3__/* .useDefaultRequestParams */ .Y)();
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const authRequest = _app_common_initial_search_params__WEBPACK_IMPORTED_MODULE_2__/* .initialSearchParams */ .VM.get("authRequest");
    const authDetails = parseAuthRequestValues(authRequest, origin);
    return { origin, tabId, authRequest, authDetails };
  }, [origin, tabId]);
}


/***/ }),

/***/ 92520:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   E: () => (/* binding */ useOnboardingState)
/* harmony export */ });
/* harmony import */ var _app_store_onboarding_onboarding_hooks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(93611);
/* harmony import */ var _use_auth_request_params__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(17854);



function useOnboardingState() {
  const secretKey = (0,_app_store_onboarding_onboarding_hooks__WEBPACK_IMPORTED_MODULE_0__/* .useSecretKeyState */ .S)();
  const { authDetails } = (0,_use_auth_request_params__WEBPACK_IMPORTED_MODULE_1__/* .useAuthRequestParams */ .N)();
  const { authRequest, decodedAuthRequest, appName, appIcon, appURL } = authDetails ?? {};
  return {
    secretKey,
    authRequest,
    decodedAuthRequest,
    appIcon,
    appName,
    appURL
  };
}


/***/ }),

/***/ 62195:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Y: () => (/* binding */ useDefaultRequestParams)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30758);
/* harmony import */ var _leather_io_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62684);
/* harmony import */ var _app_common_initial_search_params__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21975);




function useDefaultRequestParams() {
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const origin = _app_common_initial_search_params__WEBPACK_IMPORTED_MODULE_2__/* .initialSearchParams */ .VM.get("origin");
    const tabId = _app_common_initial_search_params__WEBPACK_IMPORTED_MODULE_2__/* .initialSearchParams */ .VM.get("tabId");
    const flow = _app_common_initial_search_params__WEBPACK_IMPORTED_MODULE_2__/* .initialSearchParams */ .VM.get("flow");
    return {
      origin,
      flow,
      tabId: (0,_leather_io_utils__WEBPACK_IMPORTED_MODULE_1__/* .isString */ .Kg)(tabId) ? parseInt(tabId) : tabId
    };
  }, []);
}


/***/ }),

/***/ 1479:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  M: () => (/* binding */ useKeyActions)
});

// EXTERNAL MODULE: ./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js
var react = __webpack_require__(30758);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+wallet-sdk@6.15.0_encoding@0.1.13/node_modules/@stacks/wallet-sdk/dist/esm/generate.js
var generate = __webpack_require__(52816);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+query@2.17.0_@stacks+network@6.13.0_encoding@0.1.13__encoding@0.1.13_react@18.3.1/node_modules/@leather.io/query/dist/index.js + 9 modules
var dist = __webpack_require__(4264);
// EXTERNAL MODULE: ./src/shared/logger.ts
var logger = __webpack_require__(41303);
// EXTERNAL MODULE: ./src/shared/message-types.ts
var message_types = __webpack_require__(43852);
;// CONCATENATED MODULE: ./src/shared/messages.ts

function sendMessage(message) {
  return chrome.runtime.sendMessage(message);
}

// EXTERNAL MODULE: ./src/shared/storage/redux-pesist.ts
var redux_pesist = __webpack_require__(25980);
// EXTERNAL MODULE: ./src/shared/utils/analytics.ts
var analytics = __webpack_require__(84137);
// EXTERNAL MODULE: ./src/app/common/persistence.ts
var persistence = __webpack_require__(71976);
;// CONCATENATED MODULE: ./src/app/common/store-utils.ts

const PERSISTENT_LOCAL_DATA = [];
function partiallyClearLocalStorage() {
  const backup = PERSISTENT_LOCAL_DATA.map((key) => [key, localStorage.getItem(key)]);
  localStorage.clear();
  backup.forEach(([key, value]) => {
    if (key === null || value === null) return;
    localStorage.setItem(key, value);
  });
  return localStorage;
}

// EXTERNAL MODULE: ./src/app/store/index.ts + 1 modules
var store = __webpack_require__(62461);
// EXTERNAL MODULE: ./src/app/store/in-memory-key/in-memory-key.selectors.ts
var in_memory_key_selectors = __webpack_require__(90236);
// EXTERNAL MODULE: ./src/app/store/chains/stx-chain.slice.ts
var stx_chain_slice = __webpack_require__(61803);
;// CONCATENATED MODULE: ./src/app/store/chains/stx-chain.actions.ts



function createNewAccount() {
  return async (dispatch, getState) => {
    const secretKey = (0,in_memory_key_selectors/* selectDefaultWalletKey */.se)(getState());
    if (!secretKey) {
      throw new Error("Unable to create a new account. Wallet not signed in");
    }
    dispatch(stx_chain_slice/* stxChainSlice */.B.actions.createNewAccount());
  };
}
const stxChainActions = stx_chain_slice/* stxChainSlice */.B.actions;

// EXTERNAL MODULE: ./src/app/store/networks/networks.hooks.ts + 1 modules
var networks_hooks = __webpack_require__(54667);
;// CONCATENATED MODULE: ./src/app/store/common/api-clients.hooks.ts




function useStacksClient() {
  const network = (0,networks_hooks/* useCurrentNetworkState */.uZ)();
  return (0,react.useMemo)(() => {
    return (0,dist/* stacksClient */.bKn)(network.chain.stacks.url);
  }, [network.chain.stacks.url]);
}

// EXTERNAL MODULE: ./src/app/store/in-memory-key/in-memory-key.actions.ts
var in_memory_key_actions = __webpack_require__(74285);
// EXTERNAL MODULE: ./src/app/store/ledger/bitcoin/bitcoin-key.slice.ts
var bitcoin_key_slice = __webpack_require__(528);
// EXTERNAL MODULE: ./src/app/store/ledger/stacks/stacks-key.slice.ts
var stacks_key_slice = __webpack_require__(23564);
// EXTERNAL MODULE: ./src/app/store/manage-tokens/manage-tokens.slice.ts
var manage_tokens_slice = __webpack_require__(76800);
// EXTERNAL MODULE: ./src/app/store/networks/networks.slice.ts
var networks_slice = __webpack_require__(34096);
// EXTERNAL MODULE: ./src/app/store/session-restore.ts
var session_restore = __webpack_require__(26580);
// EXTERNAL MODULE: ./src/app/store/software-keys/software-key.actions.ts + 7 modules
var software_key_actions = __webpack_require__(83102);
// EXTERNAL MODULE: ./src/app/store/software-keys/software-key.selectors.ts
var software_key_selectors = __webpack_require__(27977);
;// CONCATENATED MODULE: ./src/app/common/hooks/use-key-actions.ts






















function useKeyActions() {
  const dispatch = (0,store/* useAppDispatch */.jL)();
  const defaultKeyDetails = (0,software_key_selectors/* useCurrentKeyDetails */.sK)();
  const btcClient = (0,dist/* useBitcoinClient */.PV$)();
  const stxClient = useStacksClient();
  return (0,react.useMemo)(
    () => ({
      async setPassword(password) {
        return dispatch(software_key_actions/* keyActions */.d.setWalletEncryptionPassword({ password, stxClient, btcClient }));
      },
      generateWalletKey() {
        if (!!defaultKeyDetails) {
          logger/* logger */.v.warn("Cannot generate new wallet when wallet already exists");
          return;
        }
        const secretKey = (0,generate/* generateSecretKey */.Bq)(256);
        return dispatch(in_memory_key_actions/* inMemoryKeyActions */.b.generateWalletKey(secretKey));
      },
      async unlockWallet(password) {
        return dispatch(software_key_actions/* keyActions */.d.unlockWalletAction(password));
      },
      switchAccount(accountIndex) {
        sendMessage({ method: message_types/* InternalMethods */.gc.AccountChanged, payload: { accountIndex } });
        return dispatch(stxChainActions.switchAccount(accountIndex));
      },
      async createNewAccount() {
        return dispatch(createNewAccount());
      },
      async signOut() {
        await (0,session_restore/* clearWalletSession */.r9)();
        dispatch(networks_slice/* networksSlice */.A.actions.changeNetwork("mainnet"));
        dispatch(software_key_actions/* keyActions */.d.signOut());
        dispatch(bitcoin_key_slice/* bitcoinKeysSlice */.F_.actions.signOut());
        dispatch(stacks_key_slice/* stacksKeysSlice */.mh.actions.signOut());
        dispatch(manage_tokens_slice/* manageTokensSlice */.G.actions.removeAllTokens());
        await (0,redux_pesist/* clearChromeStorage */.v)();
        partiallyClearLocalStorage();
        void analytics/* analytics */.zS.track("sign_out");
        persistence/* queryClient */.q.clear();
      },
      async lockWallet() {
        await (0,session_restore/* clearWalletSession */.r9)();
        return dispatch(in_memory_key_actions/* inMemoryKeyActions */.b.lockWallet());
      }
    }),
    [btcClient, defaultKeyDetails, dispatch, stxClient]
  );
}


/***/ }),

/***/ 15739:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ useModifierKey),
/* harmony export */   m: () => (/* binding */ buildEnterKeyEvent)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30758);


function buildEnterKeyEvent(onClick) {
  return (event) => {
    if (event.key === "Enter" && onClick) {
      onClick();
    }
  };
}
let timer = 0;
function useModifierKey(key, delay = 0) {
  const [isPressed, setIsPressed] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const keydownFn = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(
    (event) => {
      if (key === "alt" && event.altKey) {
        timer = window.setTimeout(() => setIsPressed(true), delay);
      }
      if (key === "control" && event.ctrlKey) {
        timer = window.setTimeout(() => setIsPressed(true), delay);
      }
    },
    [delay, key]
  );
  const keyupFn = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(
    (event) => {
      if (key === "alt" && !event.altKey) {
        clearTimeout(timer);
        setIsPressed(false);
      }
      if (key === "control" && !event.ctrlKey) {
        clearTimeout(timer);
        setIsPressed(false);
      }
    },
    [key]
  );
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    document.addEventListener("keydown", keydownFn);
    document.addEventListener("keyup", keyupFn);
    return () => {
      clearTimeout(timer);
      document.removeEventListener("keydown", keydownFn);
      document.removeEventListener("keyup", keyupFn);
    };
  }, [keydownFn, keyupFn]);
  return { isPressed };
}


/***/ }),

/***/ 53645:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   y: () => (/* binding */ useOnMount)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30758);
/* harmony import */ var _leather_io_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62684);



function useOnMount(effect) {
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const fn = effect();
    return () => (0,_leather_io_utils__WEBPACK_IMPORTED_MODULE_1__/* .isFunction */ .Tn)(fn) ? fn() : void 0;
  }, []);
}


/***/ }),

/***/ 21975:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L3: () => (/* binding */ flow),
/* harmony export */   TG: () => (/* binding */ origin),
/* harmony export */   VM: () => (/* binding */ initialSearchParams)
/* harmony export */ });

const initialSearchParams = new URLSearchParams(window.location.href.split("?")[1]);
const flow = initialSearchParams.get("flow");
const origin = initialSearchParams.get("origin");


/***/ }),

/***/ 4618:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   C: () => (/* binding */ derivePublicKey),
/* harmony export */   G: () => (/* binding */ mnemonicToRootNode)
/* harmony export */ });
/* harmony import */ var _scure_bip32__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(58924);
/* harmony import */ var _scure_bip39__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(14560);
/* harmony import */ var _stacks_transactions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(80725);




function derivePublicKey(key) {
  return (0,_stacks_transactions__WEBPACK_IMPORTED_MODULE_0__/* .publicKeyToString */ .BT)((0,_stacks_transactions__WEBPACK_IMPORTED_MODULE_0__/* .getPublicKey */ .lG)((0,_stacks_transactions__WEBPACK_IMPORTED_MODULE_0__/* .createStacksPrivateKey */ .wE)(key)));
}
function mnemonicToRootNode(secretKey) {
  const seed = (0,_scure_bip39__WEBPACK_IMPORTED_MODULE_1__/* .mnemonicToSeedSync */ .kw)(secretKey);
  return _scure_bip32__WEBPACK_IMPORTED_MODULE_2__/* .HDKey */ .c.fromMasterSeed(seed);
}


/***/ }),

/***/ 71976:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   N: () => (/* binding */ persistAndRenderApp),
/* harmony export */   q: () => (/* binding */ queryClient)
/* harmony export */ });
/* harmony import */ var _tanstack_query_async_storage_persister__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(56182);
/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(26448);
/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(21241);
/* harmony import */ var _tanstack_react_query_persist_client__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(8177);
/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(28075);
/* harmony import */ var _leather_io_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87521);
/* harmony import */ var _shared_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(19590);
/* harmony import */ var _shared_logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(41303);
/* harmony import */ var _shared_utils_analytics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(84137);









const storage = {
  getItem: async (key) => {
    const storageVal = await chrome.storage.local.get(key);
    return storageVal[key];
  },
  setItem: (key, value) => chrome.storage.local.set({ [key]: value }),
  removeItem: (key) => chrome.storage.local.remove([key])
};
const chromeStorageLocalPersister = (0,_tanstack_query_async_storage_persister__WEBPACK_IMPORTED_MODULE_4__/* .createAsyncStoragePersister */ .$)({ storage });
function isZodError(error) {
  return error instanceof zod__WEBPACK_IMPORTED_MODULE_5__/* .ZodError */ .G || error.name === "ZodError";
}
const queryClient = new _tanstack_react_query__WEBPACK_IMPORTED_MODULE_6__/* .QueryClient */ .E({
  queryCache: new _tanstack_react_query__WEBPACK_IMPORTED_MODULE_7__/* .QueryCache */ .$({
    onError(error, query) {
      if (isZodError(error)) {
        const zodErrorReport = {
          query: query.queryKey[0],
          hash: query.queryHash,
          error: JSON.stringify(error.issues)
        };
        _shared_logger__WEBPACK_IMPORTED_MODULE_2__/* .logger */ .v.error("schema_fail", zodErrorReport);
        void _shared_utils_analytics__WEBPACK_IMPORTED_MODULE_3__/* .analytics */ .zS.track("schema_fail", zodErrorReport);
      }
    }
  }),
  defaultOptions: {
    queries: {
      gcTime: _leather_io_constants__WEBPACK_IMPORTED_MODULE_0__/* .PERSISTENCE_CACHE_TIME */ .n4,
      // https://tanstack.com/query/v4/docs/guides/testing#turn-off-retries
      retry: _shared_environment__WEBPACK_IMPORTED_MODULE_1__/* .IS_TEST_ENV */ .Ay ? false : 3
    }
  }
});
async function persistAndRenderApp(renderApp) {
  if (!_shared_environment__WEBPACK_IMPORTED_MODULE_1__/* .IS_TEST_ENV */ .Ay) {
    void (0,_tanstack_react_query_persist_client__WEBPACK_IMPORTED_MODULE_8__/* .persistQueryClient */ .eh)({
      queryClient,
      persister: chromeStorageLocalPersister,
      buster: "6.51.1"
    });
  }
  renderApp();
}


/***/ }),

/***/ 9965:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   l: () => (/* binding */ appEvents)
/* harmony export */ });

function createPublishSubscribe() {
  const handlers = {};
  return {
    publish(event, msg) {
      handlers[event].forEach((h) => h(msg));
    },
    subscribe(event, callback) {
      const list = handlers[event] ?? [];
      list.push(callback);
      handlers[event] = list;
    },
    unsubscribe(event, callback) {
      let list = handlers[event] ?? [];
      list = list.filter((h) => h !== callback);
      handlers[event] = list;
    }
  };
}
const appEvents = createPublishSubscribe();


/***/ }),

/***/ 11258:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   K4: () => (/* binding */ getSignaturePayloadFromToken),
/* harmony export */   Rd: () => (/* binding */ getStructuredDataPayloadFromToken),
/* harmony export */   v7: () => (/* binding */ getGenericSignaturePayloadFromToken)
/* harmony export */ });
/* harmony import */ var _stacks_transactions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(42073);
/* harmony import */ var jsontokens__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67814);
/* harmony import */ var jsontokens__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsontokens__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _leather_io_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62684);
/* provided dependency */ var Buffer = __webpack_require__(84686)["Buffer"];




function getGenericSignaturePayloadFromToken(requestToken) {
  const token = (0,jsontokens__WEBPACK_IMPORTED_MODULE_0__.decodeToken)(requestToken);
  return token.payload;
}
function getSignaturePayloadFromToken(requestToken) {
  const token = (0,jsontokens__WEBPACK_IMPORTED_MODULE_0__.decodeToken)(requestToken);
  return token.payload;
}
function getStructuredDataPayloadFromToken(requestToken) {
  const token = (0,jsontokens__WEBPACK_IMPORTED_MODULE_0__.decodeToken)(requestToken);
  if ((0,_leather_io_utils__WEBPACK_IMPORTED_MODULE_1__/* .isString */ .Kg)(token.payload)) throw new Error("error decoding json token");
  const result = token.payload;
  return {
    ...result,
    message: (0,_stacks_transactions__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)(Buffer.from(result.message, "hex")),
    domain: (0,_stacks_transactions__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)(Buffer.from(result.domain, "hex"))
  };
}


/***/ }),

/***/ 40926:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  PE: () => (/* binding */ ftDecimals),
  qm: () => (/* binding */ ftUnshiftDecimals),
  VD: () => (/* binding */ getSafeImageCanonicalUri),
  _H: () => (/* binding */ getStacksContractIdStringParts),
  ZJ: () => (/* binding */ getStacksContractName),
  jL: () => (/* binding */ stacksValue),
  wS: () => (/* binding */ validateAddressChain),
  cU: () => (/* binding */ validateStacksAddress)
});

// UNUSED EXPORTS: isFtNameLikeStx

// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/constants.js
var constants = __webpack_require__(89108);
// EXTERNAL MODULE: ./node_modules/.pnpm/c32check@2.0.0/node_modules/c32check/lib/index.js
var lib = __webpack_require__(63631);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+constants@0.12.5/node_modules/@leather.io/constants/dist/index.js
var dist = __webpack_require__(87521);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+utils@0.16.6/node_modules/@leather.io/utils/dist/index.js
var utils_dist = __webpack_require__(62684);
// EXTERNAL MODULE: ./src/shared/logger.ts
var logger = __webpack_require__(41303);
// EXTERNAL MODULE: ./src/shared/utils/validate-url.ts
var validate_url = __webpack_require__(70235);
// EXTERNAL MODULE: ./src/app/common/utils.ts
var utils = __webpack_require__(81398);
;// CONCATENATED MODULE: ./src/app/common/string-utils.ts

function convertUnicodeToAscii(str) {
  return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
}

;// CONCATENATED MODULE: ./src/app/common/stacks-utils.ts









const stacksValue = ({
  value,
  fixedDecimals = true,
  withTicker = true,
  abbreviate = false
}) => {
  const stacks = (0,utils_dist/* microStxToStx */.Am)(value);
  const stxAmount = stacks.toNumber();
  return `${abbreviate && stxAmount > 1e4 ? (0,utils/* abbreviateNumber */.$t)(stxAmount) : stxAmount.toLocaleString("en-US", {
    maximumFractionDigits: fixedDecimals ? dist/* STX_DECIMALS */.vI : 3
  })}${withTicker ? " STX" : ""}`;
};
const ftDecimals = (value, decimals) => {
  const amount = (0,utils_dist/* initBigNumber */.IA)(value);
  return amount.shiftedBy(-decimals).toNumber().toLocaleString("en-US", { maximumFractionDigits: decimals });
};
const ftUnshiftDecimals = (value, decimals) => {
  const amount = (0,utils_dist/* initBigNumber */.IA)(value);
  return amount.shiftedBy(decimals).toString(10);
};
const validateStacksAddress = (stacksAddress) => {
  try {
    (0,lib/* c32addressDecode */.ns)(stacksAddress);
    return true;
  } catch (e) {
    return false;
  }
};
function validateAddressChain(address, currentNetwork) {
  const prefix = address.slice(0, 2);
  switch (currentNetwork.chain.stacks.chainId) {
    case constants/* ChainID */.n_.Mainnet:
      return prefix === "SM" || prefix === "SP";
    case constants/* ChainID */.n_.Testnet:
      return prefix === "SN" || prefix === "ST";
    default:
      return false;
  }
}
function isFtNameLikeStx(name) {
  return ["stx", "stack", "stacks"].includes(convertUnicodeToAscii(name).toLocaleLowerCase());
}
function getSafeImageCanonicalUri(imageCanonicalUri, name) {
  return imageCanonicalUri && (0,validate_url/* isValidUrl */.A)(imageCanonicalUri) && !isFtNameLikeStx(name) ? imageCanonicalUri : "";
}
const getStacksContractName = (contractId) => {
  if (contractId.includes(".")) {
    const parts = contractId?.split(".");
    if (contractId.includes("::")) {
      return parts[1].split("::")[0];
    }
    return parts[1];
  }
  logger/* logger */.v.warn(
    "getStacksContractName: does not contain a period, does not appear to be a contractId.",
    contractId
  );
  return contractId;
};
const getStacksContractAssetName = (contractId) => {
  if (!contractId.includes("::")) {
    logger/* logger */.v.warn(
      'getStacksContractAssetName: does not contain "::", does not appear to be a fully qualified name of an asset.',
      contractId
    );
    return contractId;
  }
  return contractId.split("::")[1];
};
const getStacksContractIdStringParts = (contractId) => {
  if (!contractId.includes(".") || !contractId.includes("::")) {
    logger/* logger */.v.warn(
      'getStacksContractIdStringParts: does not contain a period or "::", does not appear to be a fully qualified name of an asset.',
      contractId
    );
    return {
      contractAddress: contractId,
      contractAssetName: contractId,
      contractName: contractId
    };
  }
  const contractAddress = contractId.split(".")[0];
  const contractAssetName = getStacksContractAssetName(contractId);
  const contractName = getStacksContractName(contractId);
  return {
    contractAddress,
    contractAssetName,
    contractName
  };
};


/***/ }),

/***/ 80128:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ useSwitchAccountSheet)
/* harmony export */ });
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(90543);


function useSwitchAccountSheet() {
  const { isShowingSwitchAccount, setIsShowingSwitchAccount } = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_0__/* .useOutletContext */ .KC)();
  return {
    isShowingSwitchAccount,
    setIsShowingSwitchAccount,
    toggleSwitchAccount() {
      setIsShowingSwitchAccount(!isShowingSwitchAccount);
    }
  };
}


/***/ }),

/***/ 24690:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   E2: () => (/* binding */ getThemeLabel),
/* harmony export */   a6: () => (/* binding */ ThemeSwitcherProvider),
/* harmony export */   kW: () => (/* binding */ useThemeSwitcher),
/* harmony export */   oA: () => (/* binding */ themeLabelMap)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(30758);
/* harmony import */ var _radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(59716);
/* harmony import */ var _radix_ui_themes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(94996);
/* harmony import */ var _leather_io_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(62684);
/* harmony import */ var _app_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(62461);
/* harmony import */ var _app_store_settings_settings_actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18025);
/* harmony import */ var _app_store_settings_settings_selectors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(73448);
/* harmony import */ var _hooks_use_on_mount__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(53645);










const themeLabelMap = {
  light: "Light",
  dark: "Dark",
  system: "System"
};
const getThemeLabel = (theme) => {
  return themeLabelMap[theme];
};
const ThemeContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({
  // These values are not used, but are set to satisfy the context's value type.
  theme: "light",
  userSelectedTheme: "system",
  setUserSelectedTheme: _leather_io_utils__WEBPACK_IMPORTED_MODULE_2__/* .noop */ .lQ
});
const getSystemTheme = () => window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
function getComputedTheme(userSelectedTheme) {
  if (userSelectedTheme === "system") return getSystemTheme();
  return userSelectedTheme;
}
function setUserSelectedTheme(theme) {
  _app_store__WEBPACK_IMPORTED_MODULE_3__/* .store */ .M_.dispatch(_app_store_settings_settings_actions__WEBPACK_IMPORTED_MODULE_4__/* .settingsActions */ .dr.setUserSelectedTheme(theme));
}
function removeSplashScreen() {
  document.getElementById("splash-screen")?.remove();
}
function ThemeSwitcherProvider({ children }) {
  const userSelectedTheme = (0,_app_store_settings_settings_selectors__WEBPACK_IMPORTED_MODULE_5__/* .useUserSelectedTheme */ .h5)();
  const [theme, setTheme] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => getComputedTheme(userSelectedTheme));
  (0,_hooks_use_on_mount__WEBPACK_IMPORTED_MODULE_6__/* .useOnMount */ .y)(() => {
    removeSplashScreen();
  });
  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    switch (userSelectedTheme) {
      case "system": {
        setTheme(getSystemTheme());
        const listener = ({ matches }) => {
          if (matches) {
            setTheme("dark");
          } else {
            setTheme("light");
          }
        };
        window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", listener);
        return () => {
          window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change", listener);
        };
      }
      case "dark": {
        setTheme("dark");
        return;
      }
      case "light": {
        setTheme("light");
        return;
      }
    }
  }, [setTheme, userSelectedTheme]);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ThemeContext.Provider, { value: { theme, userSelectedTheme, setUserSelectedTheme }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_themes__WEBPACK_IMPORTED_MODULE_7__/* .Theme */ .Sx, { appearance: theme, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_8__/* .Provider */ .Kq, { delayDuration: 300, children }) }) });
}
const useThemeSwitcher = () => (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ThemeContext);


/***/ }),

/***/ 71977:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   t: () => (/* binding */ useWalletType)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30758);
/* harmony import */ var _app_store_common_wallet_type_selectors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(52225);



function isLedgerWallet(walletType) {
  return walletType === "ledger";
}
function isSoftwareWallet(walletType) {
  return walletType === "software";
}
function whenWallet(walletType) {
  return (walletTypeMap) => {
    if (isLedgerWallet(walletType)) return walletTypeMap.ledger;
    if (isSoftwareWallet(walletType)) return walletTypeMap.software;
    throw new Error("Wallet is neither of type `ledger` nor `software`");
  };
}
function useWalletType() {
  const walletType = (0,_app_store_common_wallet_type_selectors__WEBPACK_IMPORTED_MODULE_1__/* .useWalletTypeSelector */ .iq)();
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(
    () => ({
      walletType,
      whenWallet: whenWallet(walletType)
    }),
    [walletType]
  );
}


/***/ }),

/***/ 81398:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $P: () => (/* binding */ makeStacksTxExplorerLink),
/* harmony export */   $t: () => (/* binding */ abbreviateNumber),
/* harmony export */   AH: () => (/* binding */ parseIfValidPunycode),
/* harmony export */   D3: () => (/* binding */ makeStacksAddressExplorerLink),
/* harmony export */   E8: () => (/* binding */ hexToBuff),
/* harmony export */   GD: () => (/* binding */ isPopupMode),
/* harmony export */   JY: () => (/* binding */ doesBrowserSupportWebUsbApi),
/* harmony export */   Q8: () => (/* binding */ linearInterpolation),
/* harmony export */   SE: () => (/* binding */ removeTrailingNullCharacters),
/* harmony export */   Sg: () => (/* binding */ hexToHumanReadable),
/* harmony export */   W5: () => (/* binding */ truncateString),
/* harmony export */   Wn: () => (/* binding */ addPortSuffix),
/* harmony export */   Yv: () => (/* binding */ slugify),
/* harmony export */   ZH: () => (/* binding */ capitalize),
/* harmony export */   bH: () => (/* binding */ formatContractId),
/* harmony export */   gd: () => (/* binding */ makeBitcoinTxExplorerLink),
/* harmony export */   nD: () => (/* binding */ postConditionFromString),
/* harmony export */   ty: () => (/* binding */ whenPageMode),
/* harmony export */   uq: () => (/* binding */ getPrincipalFromContractId),
/* harmony export */   yT: () => (/* binding */ removeMinusSign),
/* harmony export */   zd: () => (/* binding */ getUrlHostname)
/* harmony export */ });
/* unused harmony exports getTicker, with0x */
/* harmony import */ var _stacks_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(68137);
/* harmony import */ var _stacks_transactions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(57881);
/* harmony import */ var _stacks_transactions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(69220);
/* harmony import */ var punycode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(80186);
/* harmony import */ var _leather_io_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(87521);
/* harmony import */ var _leather_io_models__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(89840);
/* harmony import */ var _shared_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(61258);
/* provided dependency */ var Buffer = __webpack_require__(84686)["Buffer"];







function kebabCase(str) {
  return str.replace(KEBAB_REGEX, (match) => "-" + match.toLowerCase());
}
function makeStacksTxExplorerLink({
  mode,
  searchParams = new URLSearchParams(),
  txid,
  isNakamoto = false
}) {
  searchParams.append("chain", mode);
  if (isNakamoto) {
    searchParams.append("api", _leather_io_models__WEBPACK_IMPORTED_MODULE_2__/* .HIRO_API_BASE_URL_NAKAMOTO_TESTNET */ .DB);
  }
  return `${_shared_constants__WEBPACK_IMPORTED_MODULE_3__/* .HIRO_EXPLORER_URL */ .$I}/txid/${txid}?${searchParams.toString()}`;
}
function makeStacksAddressExplorerLink({
  mode,
  searchParams = new URLSearchParams(),
  address,
  isNakamoto = false
}) {
  searchParams.append("chain", mode);
  if (isNakamoto) {
    searchParams.append("api", _leather_io_models__WEBPACK_IMPORTED_MODULE_2__/* .HIRO_API_BASE_URL_NAKAMOTO_TESTNET */ .DB);
  }
  return `${_shared_constants__WEBPACK_IMPORTED_MODULE_3__/* .HIRO_EXPLORER_URL */ .$I}/address/${address}?${searchParams.toString()}`;
}
function makeBitcoinTxExplorerLink({
  txid,
  bitcoin: { bitcoinUrl, bitcoinNetwork }
}) {
  const mempoolBaseUrl = "https://mempool.space";
  switch (bitcoinNetwork) {
    case "mainnet":
      return `${mempoolBaseUrl}/tx/${txid}`;
    case "testnet3":
      return `${mempoolBaseUrl}/testnet/tx/${txid}`;
    case "testnet4":
      return `${mempoolBaseUrl}/testnet4/tx/${txid}`;
    case "signet":
      return `${mempoolBaseUrl}/signet/tx/${txid}`;
    case "regtest":
      return `${bitcoinUrl}/tx/${txid}`;
  }
}
function truncateString(str, maxLength) {
  if (str.length <= maxLength) {
    return str;
  }
  return str.slice(0, maxLength) + "\u2026";
}
function getLetters(string, offset = 1) {
  return string.slice(0, offset);
}
function getTicker(value) {
  let name = kebabCase(value);
  if (name.includes("-")) {
    const words = name.split("-");
    if (words.length >= 3) {
      name = `${getLetters(words[0])}${getLetters(words[1])}${getLetters(words[2])}`;
    } else {
      name = `${getLetters(words[0])}${getLetters(words[1], 2)}`;
    }
  } else if (name.length >= 3) {
    name = `${getLetters(name, 3)}`;
  }
  return name.toUpperCase();
}
function postConditionFromString(postCondition) {
  const reader = new _stacks_transactions__WEBPACK_IMPORTED_MODULE_4__/* .BytesReader */ .H((0,_stacks_common__WEBPACK_IMPORTED_MODULE_5__/* .hexToBytes */ .aT)(postCondition));
  return (0,_stacks_transactions__WEBPACK_IMPORTED_MODULE_6__/* .deserializePostCondition */ .nW)(reader);
}
function isUtf8(buf) {
  if (!buf) {
    return false;
  }
  let i = 0;
  const len = buf.length;
  while (i < len) {
    if (buf[i] <= 127) {
      i++;
      continue;
    }
    if (buf[i] >= 194 && buf[i] <= 223) {
      if (buf[i + 1] >> 6 === 2) {
        i += 2;
        continue;
      } else {
        return false;
      }
    }
    if ((buf[i] === 224 && buf[i + 1] >= 160 && buf[i + 1] <= 191 || buf[i] === 237 && buf[i + 1] >= 128 && buf[i + 1] <= 159) && buf[i + 2] >> 6 === 2) {
      i += 3;
      continue;
    }
    if ((buf[i] >= 225 && buf[i] <= 236 || buf[i] >= 238 && buf[i] <= 239) && buf[i + 1] >> 6 === 2 && buf[i + 2] >> 6 === 2) {
      i += 3;
      continue;
    }
    if ((buf[i] === 240 && buf[i + 1] >= 144 && buf[i + 1] <= 191 || buf[i] >= 241 && buf[i] <= 243 && buf[i + 1] >> 6 === 2 || buf[i] === 244 && buf[i + 1] >= 128 && buf[i + 1] <= 143) && buf[i + 2] >> 6 === 2 && buf[i + 3] >> 6 === 2) {
      i += 4;
      continue;
    }
    return false;
  }
  return true;
}
const abbreviateNumber = (n) => {
  if (n < 1e3) return n.toString();
  if (n >= 1e3 && n < 1e6) return +(n / 1e3).toFixed(2) + "K";
  if (n >= 1e6 && n < 1e9) return +(n / 1e6).toFixed(2) + "M";
  if (n >= 1e9 && n < 1e12) return +(n / 1e9).toFixed(2) + "B";
  if (n >= 1e12) return +(n / 1e12).toFixed(2) + "T";
  return n.toString();
};
function isHex(hex) {
  const regexp = /^[0-9a-fA-F]+$/;
  return regexp.test(hex);
}
function cleanHex(hexWithMaybePrefix) {
  if (hexWithMaybePrefix !== "string") return hexWithMaybePrefix;
  return hexWithMaybePrefix.startsWith("0x") ? hexWithMaybePrefix.replace("0x", "") : hexWithMaybePrefix;
}
function hexToBuff(hex) {
  return Buffer.from(cleanHex(hex), "hex");
}
function hexToHumanReadable(hex) {
  if (!isHex(hex)) return hex;
  const buff = hexToBuff(hex);
  if (isUtf8(buff)) return buff.toString("utf8");
  return `0x${hex}`;
}
const slugify = (...args) => {
  const value = args.join(" ");
  return value.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase().trim().replace(/[^a-z0-9 ]/g, "").replace(/\s+/g, "-");
};
function getUrlHostname(url) {
  return new URL(url).hostname;
}
function getUrlPort(url) {
  return new URL(url).port;
}
function addPortSuffix(url) {
  const port = getUrlPort(url);
  return port ? `:${port}` : "";
}
function with0x(value) {
  return !value.startsWith("0x") ? `0x${value}` : value;
}
function getPrincipalFromContractId(identifier) {
  return identifier.split("::")[0];
}
function formatContractId(address, name) {
  return `${address}.${name}`;
}
function doesBrowserSupportWebUsbApi() {
  return Boolean(navigator.usb);
}
function isFullPage() {
  return document.location.pathname.startsWith("/index.html");
}
const pageMode = isFullPage() ? "full" : "popup";
function whenPageMode(pageModeMap) {
  return pageModeMap[pageMode];
}
function isPopupMode() {
  return pageMode === "popup";
}
const parseIfValidPunycode = (s) => {
  try {
    return (0,punycode__WEBPACK_IMPORTED_MODULE_0__/* .toUnicode */ .Pk)(s);
  } catch {
    return s;
  }
};
function capitalize(val) {
  return val.charAt(0).toUpperCase() + val.slice(1);
}
function linearInterpolation({ start, end, t }) {
  return (1 - t) * start + t * end;
}
function removeTrailingNullCharacters(s) {
  return s.replace(/\0*$/g, "");
}
function removeMinusSign(value) {
  return value.replace("-", "");
}


/***/ }),

/***/ 23432:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   V: () => (/* binding */ openInNewTab),
/* harmony export */   W: () => (/* binding */ openIndexPageInNewTab)
/* harmony export */ });
/* harmony import */ var _shared_utils_validate_url__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(70235);


function openInNewTab(url) {
  if (!(0,_shared_utils_validate_url__WEBPACK_IMPORTED_MODULE_0__/* .isValidUrl */ .A)(url)) return;
  const newWindow = window.open(url, "_blank", "noopener,noreferrer");
  if (newWindow) newWindow.opener = null;
}
function openIndexPageInNewTab(path, searchParams) {
  const paramsString = searchParams ? searchParams : "";
  return chrome.tabs.create({
    url: chrome.runtime.getURL(`index.html#${path}` + paramsString)
  });
}


/***/ }),

/***/ 2222:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   l: () => (/* binding */ CryptoAssetItemError)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80200);
/* harmony import */ var _leather_io_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(52213);




function CryptoAssetItemError({
  caption,
  icon,
  onRefetch,
  title
}) {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .Box */ .az, { my: "space.02", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
    _leather_io_ui__WEBPACK_IMPORTED_MODULE_2__/* .ItemLayout */ .E7,
    {
      img: icon,
      titleLeft: title,
      captionLeft: caption,
      titleRight: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .styled */ .I4.span, { color: "ink.text-subdued", textStyle: "label.02", children: "Unable to load" }),
      captionRight: onRefetch && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .styled */ .I4.button, { lineHeight: "20px", onClick: onRefetch, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .styled */ .I4.span, { textStyle: "caption.01", children: "Retry" }) })
    }
  ) });
}


/***/ }),

/***/ 70475:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   U: () => (/* binding */ CryptoAssetItemPlaceholder)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80200);
/* harmony import */ var _leather_io_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(52213);




function CryptoAssetItemPlaceholder() {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .Box */ .az, { my: "space.02", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
    _leather_io_ui__WEBPACK_IMPORTED_MODULE_2__/* .ItemLayout */ .E7,
    {
      img: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .Circle */ .jl, { bgColor: "ink.text-non-interactive", size: "36px" }),
      titleLeft: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_leather_io_ui__WEBPACK_IMPORTED_MODULE_2__/* .SkeletonLoader */ .jt, { isLoading: true, height: "20px", width: "126px" }),
      captionLeft: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_leather_io_ui__WEBPACK_IMPORTED_MODULE_2__/* .SkeletonLoader */ .jt, { isLoading: true, height: "20px", width: "78px" }),
      titleRight: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_leather_io_ui__WEBPACK_IMPORTED_MODULE_2__/* .SkeletonLoader */ .jt, { isLoading: true, width: "126px" }),
      captionRight: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_leather_io_ui__WEBPACK_IMPORTED_MODULE_2__/* .SkeletonLoader */ .jt, { isLoading: true, width: "78px" })
    }
  ) });
}


/***/ }),

/***/ 71069:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   M: () => (/* binding */ Disclaimer)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80200);
/* harmony import */ var _leather_io_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(52213);
/* harmony import */ var _app_common_utils_open_in_new_tab__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(23432);





function Disclaimer({ disclaimerText, learnMoreUrl, ...props }) {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .Box */ .az, { ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .styled */ .I4.span, { textStyle: "caption.01", children: [
    disclaimerText,
    learnMoreUrl ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_leather_io_ui__WEBPACK_IMPORTED_MODULE_2__/* .Link */ .N_, { display: "inline", fontSize: "14px", onClick: () => (0,_app_common_utils_open_in_new_tab__WEBPACK_IMPORTED_MODULE_3__/* .openInNewTab */ .V)(learnMoreUrl), children: [
      " ",
      "Learn more"
    ] }) : null,
    learnMoreUrl ? "." : null
  ] }) });
}


/***/ }),

/***/ 87230:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   d: () => (/* binding */ Favicon)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(30758);



function Favicon({ origin }) {
  const [hasError, setHasError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
  if (hasError) return null;
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
    "img",
    {
      src: `https://www.google.com/s2/favicons?domain=${origin}`,
      onError: () => setHasError(true)
    }
  );
}


/***/ }),

/***/ 41115:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Pn: () => (/* binding */ InfoCardRow),
/* harmony export */   Ur: () => (/* binding */ InfoCardFooter),
/* harmony export */   eT: () => (/* binding */ InfoCardAssetValue),
/* harmony export */   ko: () => (/* binding */ InfoCardSeparator),
/* harmony export */   nJ: () => (/* binding */ InfoCardBtn)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var _tests_selectors_shared_component_selectors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5319);
/* harmony import */ var leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(80200);
/* harmony import */ var _leather_io_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(52213);
/* harmony import */ var _leather_io_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(62684);






function InfoCardRow({ title, value, titleAdditionalElement, ...props }) {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__/* .HStack */ .zt, { alignItems: "start", fontSize: "14px", justifyContent: "space-between", ...props, children: [
    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__/* .Flex */ .so, { alignItems: "center", gap: "space.01", children: [
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__/* .styled */ .I4.span, { color: "ink.text-subdued", mr: "space.01", textStyle: "body.02", children: title }),
      titleAdditionalElement && titleAdditionalElement
    ] }),
    (0,_leather_io_utils__WEBPACK_IMPORTED_MODULE_4__/* .isString */ .Kg)(value) ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__/* .styled */ .I4.span,
      {
        color: "ink.text-primary",
        textStyle: "label.02",
        fontVariant: "tabular-nums",
        "data-testid": _tests_selectors_shared_component_selectors__WEBPACK_IMPORTED_MODULE_1__/* .SharedComponentsSelectors */ .s.InfoCardRowValue,
        children: value
      }
    ) : value
  ] });
}
function InfoCardSeparator() {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_leather_io_ui__WEBPACK_IMPORTED_MODULE_3__/* .DashedHr */ .qn, { my: "space.04" });
}
function InfoCardAssetValue({
  value,
  fiatValue,
  fiatSymbol,
  symbol,
  icon,
  ...props
}) {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__/* .Box */ .az, { width: "100%", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__/* .Stack */ .BJ, { alignItems: "center", width: "100%", py: "space.05", children: [
    icon && icon,
    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__/* .Flex */ .so, { alignItems: "center", flexDirection: "column", children: [
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
        leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__/* .styled */ .I4.h1,
        {
          "data-testid": _tests_selectors_shared_component_selectors__WEBPACK_IMPORTED_MODULE_1__/* .SharedComponentsSelectors */ .s.InfoCardAssetValue,
          mb: "space.01",
          textStyle: "heading.03",
          children: [
            value,
            " ",
            symbol
          ]
        }
      ),
      fiatValue && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__/* .styled */ .I4.span, { textStyle: "label.01", children: [
        "~ ",
        fiatValue,
        " ",
        fiatSymbol
      ] })
    ] })
  ] }) });
}
function InfoCardBtn({ icon, label, onClick }) {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_leather_io_ui__WEBPACK_IMPORTED_MODULE_3__/* .Button */ .$n, { onClick, flex: "1", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__/* .Flex */ .so, { alignItems: "center", justifyContent: "center", children: [
    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__/* .styled */ .I4.span, { mx: "space.02", textStyle: "label.02", children: label }),
    icon
  ] }) });
}
function InfoCardFooter({ children }) {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
    leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__/* .Flex */ .so,
    {
      alignItems: "center",
      bg: { base: "ink.background-primary", md: "" },
      bottom: "0",
      justifyContent: "center",
      p: "space.05",
      position: { base: "fixed", md: "unset" },
      width: "100%",
      zIndex: 999,
      children
    }
  );
}


/***/ }),

/***/ 25132:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ Divider)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80200);



function Divider(props) {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .Box */ .az, { bg: "ink.border-default", height: "1px", width: "100%", ...props });
}


/***/ }),

/***/ 80877:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   O: () => (/* binding */ HeaderActionButton)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var _leather_io_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(52213);



function HeaderActionButton({ icon, onAction, dataTestId }) {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
    _leather_io_ui__WEBPACK_IMPORTED_MODULE_1__/* .IconButton */ .K0,
    {
      height: "headerContainerHeight",
      _hover: {
        bg: "ink.component-background-hover",
        cursor: "pointer"
      },
      color: "ink.action-primary-default",
      "data-testid": dataTestId,
      icon,
      onClick: onAction,
      transition: "transition",
      userSelect: "none",
      zIndex: 999
    }
  );
}


/***/ }),

/***/ 98952:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   O: () => (/* binding */ HeaderGrid),
/* harmony export */   g: () => (/* binding */ HeaderGridRightCol)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var _stacks_transactions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(89108);
/* harmony import */ var leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80200);
/* harmony import */ var _leather_io_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(52213);
/* harmony import */ var _app_store_networks_networks_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(54667);






function HeaderGrid({ leftCol, centerCol, rightCol, ...props }) {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
    leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .Grid */ .xA,
    {
      alignItems: "center",
      gridTemplateColumns: centerCol ? "2fr 4fr 2fr" : "auto auto",
      gridAutoFlow: "column",
      width: "100%",
      ...props,
      children: [
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .GridItem */ .Ei, { justifySelf: "start", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .Flex */ .so, { py: { base: 0, md: "space.01" }, children: leftCol }) }),
        centerCol && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .GridItem */ .Ei, { margin: "auto", children: centerCol }),
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .GridItem */ .Ei, { children: rightCol })
      ]
    }
  );
}
function HeaderGridRightCol({ children }) {
  const { chain, name: chainName } = (0,_app_store_networks_networks_hooks__WEBPACK_IMPORTED_MODULE_3__/* .useCurrentNetworkState */ .uZ)();
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .HStack */ .zt, { alignItems: "center", justifyContent: "flex-end", children: [
    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _leather_io_ui__WEBPACK_IMPORTED_MODULE_2__/* .NetworkModeBadge */ .XN,
      {
        isTestnetChain: chain.stacks.chainId === _stacks_transactions__WEBPACK_IMPORTED_MODULE_4__/* .ChainID */ .n_.Testnet,
        name: chainName
      }
    ),
    children
  ] });
}


/***/ }),

/***/ 31001:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Y: () => (/* binding */ Header)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80200);



function Header({ children, ...props }) {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
    leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .styled */ .I4.header,
    {
      justifyContent: "center",
      margin: { base: 0, md: "auto" },
      p: "space.04",
      bg: "transparent",
      maxWidth: { base: "100vw", md: "fullPageMaxWidth" },
      width: "100%",
      ...props,
      children
    }
  );
}


/***/ }),

/***/ 8655:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L: () => (/* binding */ LogoBox)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var _tests_selectors_onboarding_selectors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(52422);
/* harmony import */ var leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(80200);
/* harmony import */ var _leather_io_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(52213);





function LogoBox({ onClick, ...props }) {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__/* .Box */ .az, { height: "headerContainerHeight", margin: "auto", px: "space.02", hideBelow: "sm", ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_leather_io_ui__WEBPACK_IMPORTED_MODULE_3__/* .Logo */ .gu, { "data-testid": _tests_selectors_onboarding_selectors__WEBPACK_IMPORTED_MODULE_1__/* .OnboardingSelectors */ .I.LogoRouteToHome, onClick }) });
}


/***/ }),

/***/ 37461:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Yd: () => (/* reexport */ AvailableBalance),
  zE: () => (/* reexport */ ButtonRow),
  Zp: () => (/* reexport */ Card),
  wg: () => (/* reexport */ ContainerLayout),
  UC: () => (/* reexport */ content_layout/* Content */.U),
  YW: () => (/* reexport */ Page),
  Kw: () => (/* reexport */ SummaryFooter),
  Jm: () => (/* reexport */ TwoColumnLayout)
});

// EXTERNAL MODULE: ./node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(86070);
// EXTERNAL MODULE: ./leather-styles/jsx/index.js + 43 modules
var jsx = __webpack_require__(80200);
;// CONCATENATED MODULE: ./src/app/components/layout/page/page.layout.tsx



function Page({ children }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { width: "pageWidth", margin: "auto", height: { base: "100%", md: "fit-content" }, children });
}

// EXTERNAL MODULE: ./leather-styles/tokens/index.js
var tokens = __webpack_require__(65174);
;// CONCATENATED MODULE: ./src/app/components/layout/card/card.tsx




function Card({
  children,
  dataTestId,
  header,
  footer,
  contentStyle,
  footerBorder = false,
  ...props
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Flex */.so,
    {
      "data-testid": dataTestId,
      direction: "column",
      position: { base: "unset", sm: "relative" },
      border: { base: "unset", sm: "default" },
      rounded: "lg",
      ...props,
      children: [
        header,
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          jsx/* Flex */.so,
          {
            flexDirection: "column",
            width: "100%",
            overflowY: "auto",
            style: { marginBottom: footer ? (0,tokens/* token */.S)("sizes.footerHeight") : 0 },
            p: "space.05",
            maxHeight: { base: "70vh", md: "80vh" },
            ...contentStyle,
            children
          }
        ),
        footer && /* @__PURE__ */ (0,jsx_runtime.jsx)(
          jsx/* Flex */.so,
          {
            bottom: 0,
            position: "absolute",
            gap: "space.05",
            p: "space.05",
            width: "100vw",
            maxWidth: "100%",
            zIndex: 1,
            minHeight: "footerHeight",
            bg: "ink.background-primary",
            borderTop: footerBorder ? "default" : "unset",
            borderBottomLeftRadius: "lg",
            borderBottomRightRadius: "lg",
            children: footer
          }
        )
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/components/layout/card/components/button-row.tsx



function ButtonRow({ children, ...props }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { flexDirection: "column", gap: "space.04", width: "100%", ...props, children });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+ui@1.30.0_@babel+core@7.25.8_@babel+preset-env@7.25.4_@babel+core@7.25.8__@emotio_22oxxq3iiyvjwg37rra3ozwamu/node_modules/@leather.io/ui/dist-web/exports.web.js + 585 modules
var exports_web = __webpack_require__(52213);
// EXTERNAL MODULE: ./src/app/components/info-card/info-card.tsx
var info_card = __webpack_require__(41115);
;// CONCATENATED MODULE: ./src/app/components/layout/card/components/summary-footer.tsx





function SummaryFooter({ onClickLink, onClickCopy }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { gap: "space.04", width: "100%", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      info_card/* InfoCardBtn */.nJ,
      {
        icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ExternalLinkIcon */.pT, { color: "ink.background-primary" }),
        label: "View details",
        onClick: onClickLink
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      info_card/* InfoCardBtn */.nJ,
      {
        icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CopyIcon */.Td, { color: "ink.background-primary" }),
        label: "Copy ID",
        onClick: onClickCopy
      }
    )
  ] });
}

// EXTERNAL MODULE: ./src/app/components/privacy/private-text.layout.tsx
var private_text_layout = __webpack_require__(76094);
// EXTERNAL MODULE: ./src/app/ui/components/tooltip/basic-tooltip.tsx + 1 modules
var basic_tooltip = __webpack_require__(50452);
;// CONCATENATED MODULE: ./src/app/components/layout/card/components/available-balance.tsx






function AvailableBalance({
  balance,
  isPrivate,
  balanceTooltipLabel = "Amount that is immediately available for use after taking into account any pending transactions or holds placed on your account by the protocol."
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { alignItems: "center", justifyContent: "space-between", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { gap: "space.01", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { color: "ink.text-subdued", textStyle: "caption.01", children: "Available balance" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(basic_tooltip/* BasicTooltip */.G, { asChild: true, label: balanceTooltipLabel, side: "top", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* InfoCircleIcon */.ee, { color: "ink.text-subdued", variant: "small" }) }) })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { color: "ink.text-subdued", mr: "space.02", textStyle: "caption.01", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(private_text_layout/* PrivateTextLayout */.h, { isPrivate, children: balance }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/components/layout/card/index.ts






// EXTERNAL MODULE: ./src/app/components/layout/layouts/content.layout.tsx
var content_layout = __webpack_require__(11746);
;// CONCATENATED MODULE: ./src/app/components/layout/layouts/two-column.layout.tsx



function TwoColumnLayout({
  title,
  content,
  action,
  children,
  wideChild
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Flex */.so,
    {
      flexDirection: { base: "column", md: "row" },
      pt: "space.06",
      px: { base: "space.05", md: "space.00" },
      mx: { base: "auto", md: "space.03", lg: "space.06" },
      gap: "space.05",
      width: { base: "100vw", md: "unset" },
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { flexDirection: "column", gap: "space.04", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.04", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.h1, { textStyle: "heading.03", children: title }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.p, { textStyle: "label.02", children: content }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mt: "space.04", children: action })
        ] }) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { gap: "space.05", flexDirection: "column", mb: { base: "space.05", md: "0" }, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          jsx/* Stack */.BJ,
          {
            p: { base: "space.02", md: "space.05" },
            gap: "space.04",
            bg: "ink.background-primary",
            border: "default",
            borderRadius: "lg",
            width: "100%",
            minWidth: {
              base: "100%",
              md: "400px",
              lg: wideChild ? "twoColumnPageWidth" : "pageWidth"
            },
            flex: "1",
            children
          }
        ) })
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/components/layout/layouts/container.layout.tsx



function ContainerLayout({ children }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { flexDirection: "column", flexGrow: 1, width: "100%", height: { base: "100vh", sm: "100%" }, children });
}

;// CONCATENATED MODULE: ./src/app/components/layout/index.ts









/***/ }),

/***/ 11746:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   U: () => (/* binding */ Content)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80200);



function Content({ children }) {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
    leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .Flex */ .so,
    {
      className: "main-content",
      flexGrow: 1,
      position: "relative",
      width: "100%",
      maxWidth: "fullPageMaxWidth",
      children
    }
  );
}


/***/ }),

/***/ 4023:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   V: () => (/* binding */ BitcoinNativeSegwitAccountLoader),
/* harmony export */   g: () => (/* binding */ BitcoinTaprootAccountLoader)
/* harmony export */ });
/* harmony import */ var _app_query_common_remote_config_remote_config_query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(94967);
/* harmony import */ var _app_store_accounts_account__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80763);
/* harmony import */ var _app_store_accounts_blockchain_bitcoin_native_segwit_account_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(98775);
/* harmony import */ var _app_store_accounts_blockchain_bitcoin_taproot_account_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3559);
/* harmony import */ var _app_store_networks_networks_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(13468);






function BitcoinNativeSegwitAccountLoader({
  children,
  fallback,
  ...props
}) {
  const isBitcoinEnabled = (0,_app_query_common_remote_config_remote_config_query__WEBPACK_IMPORTED_MODULE_0__/* .useConfigBitcoinEnabled */ .jX)();
  const currentAccountIndex = (0,_app_store_accounts_account__WEBPACK_IMPORTED_MODULE_1__/* .useCurrentAccountIndex */ .IR)();
  const properIndex = "current" in props ? currentAccountIndex : props.index;
  const signer = (0,_app_store_accounts_blockchain_bitcoin_native_segwit_account_hooks__WEBPACK_IMPORTED_MODULE_2__/* .useNativeSegwitSigner */ .KL)(properIndex);
  if (!signer || !isBitcoinEnabled) return fallback;
  return children(signer(0));
}
function BitcoinTaprootAccountLoader({ children, ...props }) {
  const isBitcoinEnabled = (0,_app_query_common_remote_config_remote_config_query__WEBPACK_IMPORTED_MODULE_0__/* .useConfigBitcoinEnabled */ .jX)();
  const network = (0,_app_store_networks_networks_selectors__WEBPACK_IMPORTED_MODULE_4__/* .useCurrentNetwork */ .Rm)();
  const currentAccountIndex = (0,_app_store_accounts_account__WEBPACK_IMPORTED_MODULE_1__/* .useCurrentAccountIndex */ .IR)();
  const properIndex = "current" in props ? currentAccountIndex : props.index;
  const signer = (0,_app_store_accounts_blockchain_bitcoin_taproot_account_hooks__WEBPACK_IMPORTED_MODULE_3__/* .useTaprootSigner */ .Nf)(properIndex, network.chain.bitcoin.mode);
  if (!signer || !isBitcoinEnabled) return null;
  return children(signer(0));
}


/***/ }),

/***/ 3521:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Y: () => (/* binding */ BtcAssetItemBalanceLoader),
/* harmony export */   j: () => (/* binding */ BtcBalanceLoader)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var _leather_io_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(52213);
/* harmony import */ var _app_query_bitcoin_balance_btc_balance_native_segwit_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(56524);
/* harmony import */ var _crypto_asset_item_crypto_asset_item_error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(2222);
/* harmony import */ var _crypto_asset_item_crypto_asset_item_placeholder__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(70475);






function BtcBalanceLoader({ address, children }) {
  const { balance } = (0,_app_query_bitcoin_balance_btc_balance_native_segwit_hooks__WEBPACK_IMPORTED_MODULE_2__/* .useBtcCryptoAssetBalanceNativeSegwit */ .o)(address);
  return children(balance);
}
function BtcAssetItemBalanceLoader({ address, children }) {
  const { balance, filteredUtxosQuery, isLoading, isLoadingAdditionalData } = (0,_app_query_bitcoin_balance_btc_balance_native_segwit_hooks__WEBPACK_IMPORTED_MODULE_2__/* .useBtcCryptoAssetBalanceNativeSegwit */ .o)(address);
  if (isLoading) return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_crypto_asset_item_crypto_asset_item_placeholder__WEBPACK_IMPORTED_MODULE_4__/* .CryptoAssetItemPlaceholder */ .U, {});
  if (filteredUtxosQuery.isError)
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_crypto_asset_item_crypto_asset_item_error__WEBPACK_IMPORTED_MODULE_3__/* .CryptoAssetItemError */ .l, { caption: "BTC", icon: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_leather_io_ui__WEBPACK_IMPORTED_MODULE_1__/* .BtcAvatarIcon */ .Ev, {}), title: "Bitcoin" });
  return children(balance, isLoading, isLoadingAdditionalData);
}


/***/ }),

/***/ 1806:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   K: () => (/* binding */ LoadingRectangle)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80200);



function LoadingRectangle(props) {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
    leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .Box */ .az,
    {
      animation: "shine 5s infinite linear",
      backgroundColor: "ink.background-secondary",
      backgroundImage: "linear-gradient(90deg, rgba(219,219,219,1) 0%, rgba(192,192,247,0.5) 35%, rgba(219,219,219,1) 100%)",
      ...props
    }
  );
}


/***/ }),

/***/ 84183:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $: () => (/* binding */ NoFeesWarningRow)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80200);
/* harmony import */ var _leather_io_stacks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(97786);
/* harmony import */ var _app_common_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(81398);





function NoFeesWarningRow({ chainId }) {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .HStack */ .zt, { alignItems: "center", justifyContent: "space-between", children: [
    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .styled */ .I4.span, { textStyle: "caption.01", children: "No fees are incurred" }),
    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .styled */ .I4.span, { textStyle: "caption.01", children: (0,_app_common_utils__WEBPACK_IMPORTED_MODULE_3__/* .capitalize */ .ZH)((0,_leather_io_stacks__WEBPACK_IMPORTED_MODULE_2__/* .stacksChainIdToCoreNetworkMode */ .pt)(chainId)) })
  ] });
}


/***/ }),

/***/ 76094:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   h: () => (/* binding */ PrivateTextLayout)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80200);
/* harmony import */ var _app_ui_components_tooltip_basic_tooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(50452);




function PrivateTextLayout({
  isPrivate,
  onShowValue,
  children,
  style = {},
  ...rest
}) {
  const canShowValue = isPrivate && onShowValue;
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_app_ui_components_tooltip_basic_tooltip__WEBPACK_IMPORTED_MODULE_2__/* .BasicTooltip */ .G, { label: "Show value", disabled: !canShowValue, asChild: true, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
    leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .styled */ .I4.span,
    {
      ...rest,
      onClick: canShowValue ? onShowValue : void 0,
      cursor: canShowValue ? "pointer" : void 0,
      style: {
        ...style,
        fontFamily: isPrivate ? "Fira Code, Consolata, monospace" : style?.fontFamily,
        letterSpacing: isPrivate ? "0.05em" : style?.letterSpacing
      },
      children: isPrivate ? "***" : children
    }
  ) });
}


/***/ }),

/***/ 68140:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   F: () => (/* binding */ PrivateText)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var _app_components_privacy_private_text_layout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(76094);
/* harmony import */ var _app_store_settings_settings_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(18025);
/* harmony import */ var _app_store_settings_settings_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(73448);





function PrivateText({ children, canClickToShow, ...rest }) {
  const isPrivateMode = (0,_app_store_settings_settings_selectors__WEBPACK_IMPORTED_MODULE_3__/* .useIsPrivateMode */ .cT)();
  const togglePrivateMode = (0,_app_store_settings_settings_actions__WEBPACK_IMPORTED_MODULE_2__/* .useTogglePrivateMode */ .Mz)();
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
    _app_components_privacy_private_text_layout__WEBPACK_IMPORTED_MODULE_1__/* .PrivateTextLayout */ .h,
    {
      ...rest,
      isPrivate: isPrivateMode,
      onShowValue: canClickToShow ? togglePrivateMode : void 0,
      children
    }
  );
}


/***/ }),

/***/ 78924:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   r: () => (/* binding */ OnboardingHeader)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(90543);
/* harmony import */ var _tests_selectors_settings_selectors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15590);
/* harmony import */ var _tests_selectors_shared_component_selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(5319);
/* harmony import */ var _leather_io_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(52213);
/* harmony import */ var _shared_route_urls__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(31009);
/* harmony import */ var _app_common_switch_account_use_switch_account_sheet_context__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(80128);
/* harmony import */ var _app_components_layout_headers_header__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(31001);
/* harmony import */ var _app_components_layout_headers_header_action_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(80877);
/* harmony import */ var _app_components_layout_headers_header_grid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(98952);
/* harmony import */ var _app_components_layout_headers_logo_box__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(8655);
/* harmony import */ var _app_features_settings_settings__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(6146);













function OnboardingHeader({ hideLogo = false }) {
  const { isShowingSwitchAccount, setIsShowingSwitchAccount } = (0,_app_common_switch_account_use_switch_account_sheet_context__WEBPACK_IMPORTED_MODULE_10__/* .useSwitchAccountSheet */ .A)();
  const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_11__/* .useNavigate */ .Zp)();
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_app_components_layout_headers_header__WEBPACK_IMPORTED_MODULE_5__/* .Header */ .Y, { px: "space.05", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
    _app_components_layout_headers_header_grid__WEBPACK_IMPORTED_MODULE_7__/* .HeaderGrid */ .O,
    {
      leftCol: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
          _app_components_layout_headers_header_action_button__WEBPACK_IMPORTED_MODULE_6__/* .HeaderActionButton */ .O,
          {
            icon: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_leather_io_ui__WEBPACK_IMPORTED_MODULE_3__/* .ArrowLeftIcon */ .A6, {}),
            onAction: () => navigate(-1),
            dataTestId: _tests_selectors_shared_component_selectors__WEBPACK_IMPORTED_MODULE_2__/* .SharedComponentsSelectors */ .s.HeaderBackBtn
          }
        ),
        !hideLogo && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_app_components_layout_headers_logo_box__WEBPACK_IMPORTED_MODULE_8__/* .LogoBox */ .L, { onClick: () => navigate(_shared_route_urls__WEBPACK_IMPORTED_MODULE_4__/* .RouteUrls */ .W.Home) })
      ] }),
      rightCol: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_app_components_layout_headers_header_grid__WEBPACK_IMPORTED_MODULE_7__/* .HeaderGridRightCol */ .g, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        _app_features_settings_settings__WEBPACK_IMPORTED_MODULE_9__/* .Settings */ .w,
        {
          triggerButton: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_leather_io_ui__WEBPACK_IMPORTED_MODULE_3__/* .BarsTwoIcon */ .MW, { "data-testid": _tests_selectors_settings_selectors__WEBPACK_IMPORTED_MODULE_1__/* .SettingsSelectors */ .i.SettingsMenuBtn }),
          toggleSwitchAccount: () => setIsShowingSwitchAccount(!isShowingSwitchAccount)
        }
      ) })
    }
  ) });
}


/***/ }),

/***/ 50102:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  s: () => (/* binding */ PopupHeader)
});

// EXTERNAL MODULE: ./node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(86070);
// EXTERNAL MODULE: ./leather-styles/jsx/index.js + 43 modules
var jsx = __webpack_require__(80200);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+ui@1.30.0_@babel+core@7.25.8_@babel+preset-env@7.25.4_@babel+core@7.25.8__@emotio_22oxxq3iiyvjwg37rra3ozwamu/node_modules/@leather.io/ui/dist-web/exports.web.js + 585 modules
var exports_web = __webpack_require__(52213);
// EXTERNAL MODULE: ./src/app/common/switch-account/use-switch-account-sheet-context.ts
var use_switch_account_sheet_context = __webpack_require__(80128);
// EXTERNAL MODULE: ./src/app/components/layout/headers/header.tsx
var header = __webpack_require__(31001);
// EXTERNAL MODULE: ./src/app/components/layout/headers/header-grid.tsx
var header_grid = __webpack_require__(98952);
// EXTERNAL MODULE: ./src/app/common/hooks/account/use-account-names.ts + 2 modules
var use_account_names = __webpack_require__(90963);
// EXTERNAL MODULE: ./src/app/store/accounts/blockchain/stacks/stacks-account.hooks.ts + 3 modules
var stacks_account_hooks = __webpack_require__(14461);
// EXTERNAL MODULE: ./src/app/ui/components/account/account-avatar/account-avatar.tsx
var account_avatar = __webpack_require__(74014);
;// CONCATENATED MODULE: ./src/app/features/current-account/current-account-avatar.tsx





function CurrentAccountAvatar() {
  const stacksAccount = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const { data: name = "Account" } = (0,use_account_names/* useCurrentAccountDisplayName */.b)();
  if (!stacksAccount) return /* @__PURE__ */ (0,jsx_runtime.jsx)(account_avatar/* AccountAvatar */.h, { index: 0, name, publicKey: "" });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(account_avatar/* AccountAvatar */.h, { index: stacksAccount.index, name, publicKey: stacksAccount.stxPublicKey });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js
var react = __webpack_require__(30758);
// EXTERNAL MODULE: ./tests/selectors/settings.selectors.ts
var settings_selectors = __webpack_require__(15590);
// EXTERNAL MODULE: ./src/app/common/utils.ts
var utils = __webpack_require__(81398);
// EXTERNAL MODULE: ./src/app/ui/components/tooltip/basic-tooltip.tsx + 1 modules
var basic_tooltip = __webpack_require__(50452);
;// CONCATENATED MODULE: ./src/app/features/current-account/current-account-name.tsx








function AccountNameTitle({ children, ...props }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { ...props, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { "data-testid": settings_selectors/* SettingsSelectors */.i.CurrentAccountDisplayName, textStyle: "label.01", children }) });
}
const AccountNameSuspense = (0,react.memo)((props) => {
  const { data: name = "Account" } = (0,use_account_names/* useCurrentAccountDisplayName */.b)();
  const nameCharLimit = 18;
  const isLong = name.length > nameCharLimit;
  const displayName = (0,utils/* truncateString */.W5)(name, nameCharLimit);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(basic_tooltip/* BasicTooltip */.G, { label: isLong ? name : void 0, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(AccountNameTitle, { ...props, children: displayName }) });
});
function CurrentAccountName() {
  const { data: defaultName = "Account" } = (0,use_account_names/* useCurrentAccountDisplayName */.b)();
  const fallback = /* @__PURE__ */ (0,jsx_runtime.jsx)(AccountNameTitle, { children: defaultName });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Suspense, { fallback, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(AccountNameSuspense, {}) });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+utils@0.16.6/node_modules/@leather.io/utils/dist/index.js
var dist = __webpack_require__(62684);
// EXTERNAL MODULE: ./src/app/components/loaders/bitcoin-account-loader.tsx
var bitcoin_account_loader = __webpack_require__(4023);
// EXTERNAL MODULE: ./src/app/components/loaders/btc-balance-loader.tsx
var btc_balance_loader = __webpack_require__(3521);
// EXTERNAL MODULE: ./src/app/components/privacy/private-text.tsx
var private_text = __webpack_require__(68140);
;// CONCATENATED MODULE: ./src/app/components/balance/btc-balance.tsx







function BtcBalance() {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(bitcoin_account_loader/* BitcoinNativeSegwitAccountLoader */.V, { current: true, children: (signer) => /* @__PURE__ */ (0,jsx_runtime.jsx)(btc_balance_loader/* BtcBalanceLoader */.j, { address: signer.address, children: (balance) => /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(private_text/* PrivateText */.F, { canClickToShow: true, children: (0,dist/* formatMoney */.up)(balance.availableBalance) }) }) }) });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+query@2.17.0_@stacks+network@6.13.0_encoding@0.1.13__encoding@0.1.13_react@18.3.1/node_modules/@leather.io/query/dist/index.js + 9 modules
var query_dist = __webpack_require__(4264);
// EXTERNAL MODULE: ./src/app/common/stacks-utils.ts + 1 modules
var stacks_utils = __webpack_require__(40926);
;// CONCATENATED MODULE: ./src/app/components/balance/stx-balance.tsx







function StxBalance(props) {
  const { address } = props;
  const { filteredBalanceQuery } = (0,query_dist/* useStxCryptoAssetBalance */.szK)(address);
  const stxBalance = (0,react.useMemo)(
    () => (0,stacks_utils/* stacksValue */.jL)({
      value: filteredBalanceQuery.data?.unlockedBalance.amount ?? 0,
      withTicker: true
    }),
    [filteredBalanceQuery.data?.unlockedBalance.amount]
  );
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(private_text/* PrivateText */.F, { canClickToShow: true, children: stxBalance }) });
}

// EXTERNAL MODULE: ./src/app/components/loading-rectangle.tsx
var loading_rectangle = __webpack_require__(1806);
// EXTERNAL MODULE: ./src/app/query/common/remote-config/remote-config.query.ts
var remote_config_query = __webpack_require__(94967);
;// CONCATENATED MODULE: ./src/app/features/total-balance/total-balance.tsx









function TotalBalanceLayout({ children }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { p: "space.04", width: "100%", children });
}
function TotalBalanceSuspense({ displayAddresssBalanceOf }) {
  const account = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const isBitcoinEnabled = (0,remote_config_query/* useConfigBitcoinEnabled */.jX)();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(TotalBalanceLayout, { children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", justifyContent: "right", children: [
    displayAddresssBalanceOf === "stx" && /* @__PURE__ */ (0,jsx_runtime.jsx)(StxBalance, { address: account?.address || "" }),
    isBitcoinEnabled && displayAddresssBalanceOf === "all" && /* @__PURE__ */ (0,jsx_runtime.jsx)(BtcBalance, {})
  ] }) });
}
function TotalBalanceFallback() {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(TotalBalanceLayout, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(loading_rectangle/* LoadingRectangle */.K, { width: "72px", height: "14px" }) });
}
function TotalBalance(props) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Suspense, { fallback: /* @__PURE__ */ (0,jsx_runtime.jsx)(TotalBalanceFallback, {}), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(TotalBalanceSuspense, { ...props }) });
}

;// CONCATENATED MODULE: ./src/app/features/container/headers/popup.header.tsx










function PopupHeader({ showSwitchAccount, balance }) {
  const { isShowingSwitchAccount, setIsShowingSwitchAccount } = (0,use_switch_account_sheet_context/* useSwitchAccountSheet */.A)();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(header/* Header */.Y, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    header_grid/* HeaderGrid */.O,
    {
      gridTemplateColumns: "auto auto",
      leftCol: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: showSwitchAccount ? /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* Flag */.lN,
        {
          align: "middle",
          img: /* @__PURE__ */ (0,jsx_runtime.jsx)(CurrentAccountAvatar, {}),
          onClick: () => setIsShowingSwitchAccount(!isShowingSwitchAccount),
          cursor: "pointer",
          children: /* @__PURE__ */ (0,jsx_runtime.jsx)(CurrentAccountName, {})
        }
      ) : /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { height: "headerPopupHeight", margin: "auto", px: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Logo */.gu, {}) }) }),
      rightCol: /* @__PURE__ */ (0,jsx_runtime.jsx)(header_grid/* HeaderGridRightCol */.g, { children: balance && /* @__PURE__ */ (0,jsx_runtime.jsx)(TotalBalance, { displayAddresssBalanceOf: balance }) })
    }
  ) });
}


/***/ }),

/***/ 12917:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   W: () => (/* binding */ useLedgerNavigate)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30758);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(90543);
/* harmony import */ var _stacks_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(68137);
/* harmony import */ var _shared_route_urls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(31009);
/* harmony import */ var _shared_signature_signature_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(32680);
/* harmony import */ var _use_when_reattempt_ledger_connection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(79938);







function useLedgerNavigate() {
  const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_3__/* .useNavigate */ .Zp)();
  const location = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_3__/* .useLocation */ .zy)();
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(
    () => ({
      toConnectStepAndTryAgain() {
        return navigate(`../${_shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.ConnectLedger}`, {
          replace: true,
          state: { [_use_when_reattempt_ledger_connection__WEBPACK_IMPORTED_MODULE_2__/* .immediatelyAttemptLedgerConnection */ .J]: true }
        });
      },
      toConnectAndSignStacksTransactionStep(transaction) {
        return navigate(_shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.ConnectLedger, {
          replace: true,
          relative: "path",
          state: { tx: (0,_stacks_common__WEBPACK_IMPORTED_MODULE_4__/* .bytesToHex */ .My)(transaction.serialize()) }
        });
      },
      toConnectAndSignBitcoinTransactionStep(psbt, inputsToSign) {
        return navigate(_shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.ConnectLedger, {
          replace: true,
          relative: "route",
          state: {
            tx: (0,_stacks_common__WEBPACK_IMPORTED_MODULE_4__/* .bytesToHex */ .My)(psbt),
            inputsToSign,
            backgroundLocation: { pathname: _shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.Home }
          }
        });
      },
      toConnectAndSignMessageStep(message) {
        return navigate(_shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.ConnectLedger, {
          replace: true,
          // Unsigned messages may contain unserializable data, such as bigint
          state: { ...(0,_shared_signature_signature_types__WEBPACK_IMPORTED_MODULE_5__/* .toSerializableUnsignedMessage */ .Te)(message) }
        });
      },
      toDeviceBusyStep(description) {
        return navigate(_shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.DeviceBusy, {
          replace: true,
          state: { description, backgroundLocation: { pathname: _shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.Home } }
        });
      },
      toConnectionSuccessStep(chain) {
        return navigate(_shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.ConnectLedgerSuccess, {
          replace: true,
          state: {
            chain,
            backgroundLocation: { pathname: _shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.Home }
          }
        });
      },
      toErrorStep(chain, errorMessage) {
        return navigate(_shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.ConnectLedgerError, {
          replace: true,
          state: {
            latestLedgerError: errorMessage,
            chain,
            backgroundLocation: { pathname: _shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.Home }
          }
        });
      },
      toAwaitingDeviceOperation({ hasApprovedOperation }) {
        return navigate(_shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.AwaitingDeviceUserAction, {
          replace: true,
          state: {
            hasApprovedOperation,
            backgroundLocation: { pathname: _shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.Home }
          }
        });
      },
      toPublicKeyMismatchStep() {
        return navigate(_shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.LedgerPublicKeyMismatch, {
          replace: true,
          state: {
            backgroundLocation: { pathname: _shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.Home }
          }
        });
      },
      toDevicePayloadInvalid() {
        return navigate(_shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.LedgerDevicePayloadInvalid, {
          replace: true,
          state: {
            backgroundLocation: { pathname: _shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.Home }
          }
        });
      },
      toOperationRejectedStep(description) {
        return navigate(_shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.LedgerOperationRejected, {
          replace: true,
          state: {
            backgroundLocation: { pathname: _shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.Home },
            description
          }
        });
      },
      toDeviceDisconnectStep() {
        return navigate(_shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.LedgerDisconnected, {
          replace: true,
          state: {
            backgroundLocation: { pathname: _shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.Home }
          }
        });
      },
      toBroadcastErrorStep(error) {
        return navigate(_shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.LedgerBroadcastError, {
          replace: true,
          state: {
            backgroundLocation: { pathname: _shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.Home },
            error
          }
        });
      },
      cancelLedgerAction() {
        const baseUrl = `/${location.pathname.split("/")[1]}`;
        return navigate(baseUrl, {
          relative: "path",
          replace: true,
          state: { ...location.state, wentBack: true }
        });
      },
      cancelLedgerActionAndReturnHome() {
        return navigate(_shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.Home);
      }
    }),
    [location, navigate]
  );
}


/***/ }),

/***/ 79938:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   J: () => (/* binding */ immediatelyAttemptLedgerConnection),
/* harmony export */   z: () => (/* binding */ useWhenReattemptingLedgerConnection)
/* harmony export */ });
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(90543);
/* harmony import */ var _app_common_hooks_use_on_mount__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(53645);



const immediatelyAttemptLedgerConnection = "immediatelyAttemptLedgerConnection";
function useWhenReattemptingLedgerConnection(fn) {
  const location = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_1__/* .useLocation */ .zy)();
  (0,_app_common_hooks_use_on_mount__WEBPACK_IMPORTED_MODULE_0__/* .useOnMount */ .y)(() => {
    const state = location.state;
    if (typeof state !== "object" || state === null) return;
    if (state[immediatelyAttemptLedgerConnection]) {
      setTimeout(fn);
    }
  });
}


/***/ }),

/***/ 63449:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Ge: () => (/* binding */ createTaprootDefaultWalletPolicy),
/* harmony export */   Ke: () => (/* binding */ isBitcoinAppOpen),
/* harmony export */   RA: () => (/* binding */ connectLedgerBitcoinApp),
/* harmony export */   V2: () => (/* binding */ createNativeSegwitDefaultWalletPolicy),
/* harmony export */   mX: () => (/* binding */ addTaprootInputSignaturesToPsbt),
/* harmony export */   wW: () => (/* binding */ getBitcoinAppVersion),
/* harmony export */   xw: () => (/* binding */ addNativeSegwitSignaturesToPsbt)
/* harmony export */ });
/* harmony import */ var _ledgerhq_hw_transport_webusb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(55461);
/* harmony import */ var ledger_bitcoin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6067);
/* harmony import */ var ledger_bitcoin__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(ledger_bitcoin__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(94627);
/* harmony import */ var _generic_ledger_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(67242);





function connectLedgerBitcoinApp(network) {
  return async function connectLedgerBitcoinAppImpl() {
    if (network === "mainnet") {
      await (0,_generic_ledger_utils__WEBPACK_IMPORTED_MODULE_3__/* .promptOpenAppOnDevice */ .xA)(_generic_ledger_utils__WEBPACK_IMPORTED_MODULE_3__/* .LEDGER_APPS_MAP */ .mG.BITCOIN_MAINNET);
    } else if (network === "testnet") {
      await (0,_generic_ledger_utils__WEBPACK_IMPORTED_MODULE_3__/* .promptOpenAppOnDevice */ .xA)(_generic_ledger_utils__WEBPACK_IMPORTED_MODULE_3__/* .LEDGER_APPS_MAP */ .mG.BITCOIN_TESTNET);
    }
    const transport = await _ledgerhq_hw_transport_webusb__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.create();
    return new (ledger_bitcoin__WEBPACK_IMPORTED_MODULE_1___default())(transport);
  };
}
async function getBitcoinAppVersion(app) {
  const appVersion = await app.getAppAndVersion();
  return { chain: "bitcoin", ...appVersion };
}
function derivationPathToWalletPolicy(makePath) {
  return ({ network, accountIndex, fingerprint, xpub }) => "[" + makePath(network, accountIndex).replace("m", fingerprint) + "]" + xpub;
}
function createNativeSegwitDefaultWalletPolicy(policyDetails) {
  return new ledger_bitcoin__WEBPACK_IMPORTED_MODULE_1__.DefaultWalletPolicy(
    "wpkh(@0/**)",
    derivationPathToWalletPolicy(_leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_2__/* .getNativeSegwitAccountDerivationPath */ .c3)(policyDetails)
  );
}
function createTaprootDefaultWalletPolicy(policyDetails) {
  return new ledger_bitcoin__WEBPACK_IMPORTED_MODULE_1__.DefaultWalletPolicy(
    "tr(@0/**)",
    derivationPathToWalletPolicy(_leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_2__/* .getTaprootAccountDerivationPath */ .J_)(policyDetails)
  );
}
function addNativeSegwitSignaturesToPsbt(psbt, signatures) {
  signatures.forEach(([index, signature]) => psbt.updateInput(index, { partialSig: [signature] }));
}
function addTaprootInputSignaturesToPsbt(psbt, signatures) {
  signatures.forEach(
    ([index, signature]) => psbt.updateInput(index, { tapKeySig: signature.signature })
  );
}
function isBitcoinAppOpen({ network }) {
  return function isBitcoinAppOpenByName({ name }) {
    if (network === "mainnet") {
      return name === _generic_ledger_utils__WEBPACK_IMPORTED_MODULE_3__/* .LEDGER_APPS_MAP */ .mG.BITCOIN_MAINNET;
    }
    return name === _generic_ledger_utils__WEBPACK_IMPORTED_MODULE_3__/* .LEDGER_APPS_MAP */ .mG.BITCOIN_TESTNET;
  };
}


/***/ }),

/***/ 67242:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  mG: () => (/* binding */ LEDGER_APPS_MAP),
  NV: () => (/* binding */ LedgerConnectionErrors),
  X6: () => (/* binding */ checkLockedDeviceError),
  l9: () => (/* binding */ extractDeviceNameFromKnownTargetIds),
  $7: () => (/* binding */ prepareLedgerDeviceForAppFn),
  xA: () => (/* binding */ promptOpenAppOnDevice),
  Zs: () => (/* binding */ useCancelLedgerAction),
  L6: () => (/* binding */ useLedgerResponseState),
  GT: () => (/* binding */ versionObjectToVersionString)
});

// EXTERNAL MODULE: ./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js
var react = __webpack_require__(30758);
// EXTERNAL MODULE: ./node_modules/.pnpm/react-router@6.26.2_react@18.3.1/node_modules/react-router/dist/index.js
var dist = __webpack_require__(90543);
// EXTERNAL MODULE: ./node_modules/.pnpm/@ledgerhq+hw-transport-webusb@6.27.19/node_modules/@ledgerhq/hw-transport-webusb/lib-es/TransportWebUSB.js + 7 modules
var TransportWebUSB = __webpack_require__(55461);
// EXTERNAL MODULE: ./node_modules/.pnpm/ledger-bitcoin@0.2.3/node_modules/ledger-bitcoin/build/main/index.js
var main = __webpack_require__(6067);
var main_default = /*#__PURE__*/__webpack_require__.n(main);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+utils@0.16.6/node_modules/@leather.io/utils/dist/index.js
var utils_dist = __webpack_require__(62684);
// EXTERNAL MODULE: ./src/shared/route-urls.ts
var route_urls = __webpack_require__(31009);
;// CONCATENATED MODULE: ./src/app/common/utils/safe-await.ts


const nativeExceptions = [
  EvalError,
  RangeError,
  ReferenceError,
  SyntaxError,
  TypeError,
  URIError
].filter((except) => typeof except === "function");
function throwNative(error) {
  for (const Exception of nativeExceptions) {
    if (error instanceof Exception) throw error;
  }
}
async function safeAwait(promise, finallyFn) {
  return promise.then((data) => {
    if ((0,utils_dist/* isError */.bJ)(data)) {
      throwNative(data);
      return [data];
    }
    return [void 0, data];
  }).catch((error) => {
    throwNative(error);
    return [error];
  }).finally(() => {
    if (finallyFn) finallyFn();
  });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/utils/generic-ledger-utils.ts
/* provided dependency */ var Buffer = __webpack_require__(84686)["Buffer"];








var LedgerConnectionErrors = /* @__PURE__ */ ((LedgerConnectionErrors2) => {
  LedgerConnectionErrors2["FailedToConnect"] = "FailedToConnect";
  LedgerConnectionErrors2["AppNotOpen"] = "AppNotOpen";
  LedgerConnectionErrors2["AppVersionOutdated"] = "AppVersionOutdated";
  LedgerConnectionErrors2["DeviceNotConnected"] = "DeviceNotConnected";
  LedgerConnectionErrors2["DeviceLocked"] = "DeviceLocked";
  LedgerConnectionErrors2["IncorrectAppOpened"] = "INCORRECT_APP_OPENED";
  return LedgerConnectionErrors2;
})(LedgerConnectionErrors || {});
const LEDGER_APPS_MAP = {
  STACKS: "Stacks",
  BITCOIN_MAINNET: "Bitcoin",
  BITCOIN_TESTNET: "Bitcoin Test",
  MAIN_MENU: "BOLOS"
};
const targetIdMap = /* @__PURE__ */ new Map([
  ["31100004", "Nano S"],
  ["33000004", "Nano X"]
]);
function extractDeviceNameFromKnownTargetIds(targetId) {
  return targetIdMap.get(targetId);
}
function useLedgerResponseState() {
  return (0,react.useState)(null);
}
function versionObjectToVersionString(version) {
  return [version.major, version.minor, version.patch].join(".");
}
function prepareLedgerDeviceForAppFn(connectAppFn) {
  return async (args) => {
    const { setLoadingState, onError } = args;
    setLoadingState(true);
    const [error, app] = await safeAwait(connectAppFn());
    await (0,utils_dist/* delay */.cb)(1e3);
    setLoadingState(false);
    if (error || !app) {
      onError(error);
      throw new Error("Unable to initiate Ledger app");
    }
    return app;
  };
}
async function quitApp(transport) {
  await transport.send(176, 167, 0, 0);
}
async function openApp(transport, name) {
  await transport.send(224, 216, 0, 0, Buffer.from(name, "ascii"));
}
async function getAppAndVersion() {
  const tmpTransport = await TransportWebUSB/* default */.A.create();
  const tmpBitcoinApp = new (main_default())(tmpTransport);
  const appAndVersion = await tmpBitcoinApp.getAppAndVersion();
  return appAndVersion;
}
async function quitAppOnDevice() {
  const tmpTransport = await TransportWebUSB/* default */.A.create();
  await quitApp(tmpTransport);
  await (0,utils_dist/* delay */.cb)(500);
}
async function promptOpenAppOnDevice(appName) {
  const appAndVersion = await getAppAndVersion();
  if (appAndVersion.name !== appName && appAndVersion.name !== LEDGER_APPS_MAP.MAIN_MENU) {
    await quitAppOnDevice();
  }
  const tmpTransport = await TransportWebUSB/* default */.A.create();
  if (appAndVersion.name !== appName) {
    await openApp(tmpTransport, appName);
  }
  await (0,utils_dist/* delay */.cb)(500);
}
function checkLockedDeviceError(e) {
  return !!(e?.name === "LockedDeviceError" || e?.message?.includes("LockedDeviceError") || e?.message === "DeviceLocked" /* DeviceLocked */);
}
function useIsLedgerActionCancellable() {
  const { pathname } = (0,dist/* useLocation */.zy)();
  return pathname.includes(route_urls/* RouteUrls */.W.ConnectLedger) || pathname.includes(route_urls/* RouteUrls */.W.ConnectLedgerSuccess) || pathname.includes(route_urls/* RouteUrls */.W.ConnectLedgerError) || pathname.includes(route_urls/* RouteUrls */.W.AwaitingDeviceUserAction);
}
function useCancelLedgerAction(awaitingDeviceConnection) {
  const canUserCancelAction = useIsLedgerActionCancellable();
  return !awaitingDeviceConnection && canUserCancelAction;
}


/***/ }),

/***/ 6168:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   U: () => (/* binding */ HashDrawer)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(30758);
/* harmony import */ var leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(80200);
/* harmony import */ var _leather_io_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(52213);





function ShowHashButton(props) {
  const { expanded } = props;
  return expanded ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_leather_io_ui__WEBPACK_IMPORTED_MODULE_3__/* .ChevronUpIcon */ .Mt, { variant: "small" }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_leather_io_ui__WEBPACK_IMPORTED_MODULE_3__/* .ChevronDownIcon */ .D3, { variant: "small" });
}
function HashDrawer(props) {
  const { hash } = props;
  const [showHash, setShowHash] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
  const [displayHash, setDisplayHash] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(hash);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__/* .Box */ .az, { px: "space.05", children: [
    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__/* .styled */ .I4.button,
      {
        _focus: { outline: 0, textDecoration: "underline" },
        _hover: { cursor: "pointer" },
        onClick: () => {
          setDisplayHash(showHash ? "" : hash);
          setShowHash(!showHash);
        },
        type: "button",
        width: "100%",
        display: "flex",
        children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__/* .styled */ .I4.span, { py: "space.02", textStyle: "caption.01", children: showHash ? "Hide hash" : "Show hash" }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__/* .Box */ .az, { mb: "auto", marginLeft: "auto", mt: "auto", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ShowHashButton, { expanded: showHash }) })
        ]
      }
    ),
    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__/* .Box */ .az,
      {
        height: showHash ? "100%" : "0",
        transition: "transition",
        visibility: showHash ? "visible" : "hidden",
        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
          leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__/* .styled */ .I4.span,
          {
            color: "ink.text-subdued",
            lineHeight: "1.6",
            wordBreak: "break-all",
            textStyle: "caption.01",
            children: displayHash
          }
        )
      }
    )
  ] });
}


/***/ }),

/***/ 52208:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   z: () => (/* binding */ MessagePreviewBox)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80200);
/* harmony import */ var _hash_drawer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6168);




function MessagePreviewBox({ message, hash }) {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
    leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .Stack */ .BJ,
    {
      bg: "ink.background-primary",
      border: "active",
      borderRadius: "sm",
      pb: hash ? "space.02" : 0,
      width: "100%",
      maxWidth: "popupMaxWidth",
      children: [
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
          leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .Stack */ .BJ,
          {
            bg: "ink.background-primary",
            borderRadius: "lg",
            gap: "space.02",
            px: "space.05",
            py: "space.05",
            overflowX: "auto",
            children: message.split(/\r?\n/).map((line, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .styled */ .I4.span, { textStyle: "label.01", children: line }, `${line}_${index}`))
          }
        ),
        hash ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_hash_drawer__WEBPACK_IMPORTED_MODULE_2__/* .HashDrawer */ .U, { hash }) : null
      ]
    }
  );
}


/***/ }),

/***/ 79939:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   K: () => (/* binding */ MessageSigningHeader)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80200);
/* harmony import */ var _leather_io_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(52213);
/* harmony import */ var _app_common_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(81398);
/* harmony import */ var _app_components_favicon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(87230);
/* harmony import */ var _app_store_networks_networks_hooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(54667);







function MessageSigningHeader({
  name,
  origin,
  additionalText = ""
}) {
  const { chain, isTestnet } = (0,_app_store_networks_networks_hooks__WEBPACK_IMPORTED_MODULE_5__/* .useCurrentNetworkState */ .uZ)();
  const originAddition = origin ? ` (${(0,_app_common_utils__WEBPACK_IMPORTED_MODULE_3__/* .getUrlHostname */ .zd)(origin)})` : "";
  const testnetAddition = isTestnet ? ` using ${(0,_app_common_utils__WEBPACK_IMPORTED_MODULE_3__/* .getUrlHostname */ .zd)(chain.stacks.url)}${(0,_app_common_utils__WEBPACK_IMPORTED_MODULE_3__/* .addPortSuffix */ .Wn)(chain.stacks.url)}` : "";
  const displayName = name ?? origin;
  const caption = displayName ? `Requested by ${displayName}${originAddition}${testnetAddition}` : null;
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .Stack */ .BJ, { gap: "space.04", pt: "space.05", children: [
    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .styled */ .I4.h1, { textStyle: "heading.03", children: "Sign message" }),
    caption && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_leather_io_ui__WEBPACK_IMPORTED_MODULE_2__/* .Flag */ .lN, { img: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_app_components_favicon__WEBPACK_IMPORTED_MODULE_4__/* .Favicon */ .d, { origin: origin ?? "" }), pl: "space.02", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .styled */ .I4.span, { textStyle: "label.02", wordBreak: "break-word", children: [
      caption,
      additionalText
    ] }) })
  ] });
}


/***/ }),

/***/ 34905:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Q: () => (/* binding */ MessageSigningRequestLayout)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80200);



function MessageSigningRequestLayout({ children }) {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .Stack */ .BJ, { px: ["space.05", "space.05", "unset"], gap: "space.05", width: "100%", children });
}


/***/ }),

/***/ 8756:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   y: () => (/* binding */ SignMessageActions)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80200);
/* harmony import */ var _leather_io_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(52213);
/* harmony import */ var _app_common_use_wallet_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(71977);





function SignMessageActions(props) {
  const { onSignMessage, onSignMessageCancel, isLoading } = props;
  const { whenWallet } = (0,_app_common_use_wallet_type__WEBPACK_IMPORTED_MODULE_3__/* .useWalletType */ .t)();
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_1__/* .HStack */ .zt, { gap: "space.04", children: [
    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_leather_io_ui__WEBPACK_IMPORTED_MODULE_2__/* .Button */ .$n, { onClick: onSignMessageCancel, variant: "outline", width: "50%", children: "Cancel" }),
    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_leather_io_ui__WEBPACK_IMPORTED_MODULE_2__/* .Button */ .$n, { "aria-busy": isLoading, onClick: onSignMessage, width: "50%", children: whenWallet({ software: "Sign", ledger: "Sign on Ledger" }) })
  ] });
}


/***/ }),

/***/ 6146:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  w: () => (/* binding */ Settings)
});

// EXTERNAL MODULE: ./node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(86070);
// EXTERNAL MODULE: ./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js
var react = __webpack_require__(30758);
// EXTERNAL MODULE: ./node_modules/.pnpm/react-router@6.26.2_react@18.3.1/node_modules/react-router/dist/index.js
var dist = __webpack_require__(90543);
// EXTERNAL MODULE: ./tests/selectors/settings.selectors.ts
var settings_selectors = __webpack_require__(15590);
// EXTERNAL MODULE: ./leather-styles/css/index.js + 1 modules
var css = __webpack_require__(46977);
// EXTERNAL MODULE: ./leather-styles/jsx/index.js + 43 modules
var jsx = __webpack_require__(80200);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+ui@1.30.0_@babel+core@7.25.8_@babel+preset-env@7.25.4_@babel+core@7.25.8__@emotio_22oxxq3iiyvjwg37rra3ozwamu/node_modules/@leather.io/ui/dist-web/exports.web.js + 585 modules
var exports_web = __webpack_require__(52213);
// EXTERNAL MODULE: ./src/shared/route-urls.ts
var route_urls = __webpack_require__(31009);
// EXTERNAL MODULE: ./src/shared/utils/analytics.ts
var analytics = __webpack_require__(84137);
// EXTERNAL MODULE: ./src/app/store/ledger/ledger.selectors.ts
var ledger_selectors = __webpack_require__(36528);
// EXTERNAL MODULE: ./src/app/store/software-keys/software-key.selectors.ts
var software_key_selectors = __webpack_require__(27977);
;// CONCATENATED MODULE: ./src/app/common/hooks/auth/use-has-keys.tsx



function useHasKeys() {
  const hasSoftwareKeys = !!(0,software_key_selectors/* useCurrentKeyDetails */.sK)();
  const hasLedgerKeys = (0,ledger_selectors/* useHasLedgerKeys */.L$)();
  return {
    hasSoftwareKeys,
    hasLedgerKeys,
    hasKeys: hasSoftwareKeys || hasLedgerKeys
  };
}

// EXTERNAL MODULE: ./src/app/common/hooks/use-key-actions.ts + 4 modules
var use_key_actions = __webpack_require__(1479);
// EXTERNAL MODULE: ./src/app/common/hooks/use-modifier-key.ts
var use_modifier_key = __webpack_require__(15739);
// EXTERNAL MODULE: ./src/app/common/use-wallet-type.ts
var use_wallet_type = __webpack_require__(71977);
// EXTERNAL MODULE: ./src/app/common/utils.ts
var utils = __webpack_require__(81398);
// EXTERNAL MODULE: ./src/app/common/utils/open-in-new-tab.ts
var open_in_new_tab = __webpack_require__(23432);
// EXTERNAL MODULE: ./src/shared/environment.ts
var environment = __webpack_require__(19590);
// EXTERNAL MODULE: ./node_modules/.pnpm/@tanstack+react-query@5.51.23_react@18.3.1/node_modules/@tanstack/react-query/build/modern/useQuery.js
var useQuery = __webpack_require__(2569);
// EXTERNAL MODULE: ./node_modules/.pnpm/axios@1.7.4/node_modules/axios/lib/axios.js + 48 modules
var axios = __webpack_require__(77511);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+utils@0.16.6/node_modules/@leather.io/utils/dist/index.js
var utils_dist = __webpack_require__(62684);
// EXTERNAL MODULE: ./src/shared/constants.ts
var constants = __webpack_require__(61258);
;// CONCATENATED MODULE: ./src/app/query/common/outdated-pr/outdated-pr.query.ts






async function getPullRequestDetails(pr) {
  const resp = await axios/* default */.A.get(
    `https://api.github.com/repos/${constants/* GITHUB_ORG */.LA}/${constants/* GITHUB_REPO */.Dy}/pulls/${pr}`
  );
  return resp.data;
}
function usePullRequestDetailsQuery() {
  return (0,useQuery/* useQuery */.I)({
    enabled: (0,utils_dist/* isDefined */.O9)(environment/* PR_NUMBER */.Ze) && (0,utils_dist/* isDefined */.O9)(environment/* COMMIT_SHA */.pk),
    queryKey: ["pull-request-details", environment/* PR_NUMBER */.Ze],
    async queryFn() {
      return getPullRequestDetails(environment/* PR_NUMBER */.Ze ?? "");
    }
  });
}
function useIsLatestPullRequestBuild() {
  const { data: pullRequest } = usePullRequestDetailsQuery();
  if (!pullRequest) return { isLatestBuild: true };
  return {
    // If the latest commit SHA on the PR is not the same one used for this build,
    // we can assume it's outdated
    isLatestBuild: pullRequest.head.sha.startsWith(environment/* COMMIT_SHA */.pk ?? ""),
    pullRequestLink: pullRequest.html_url
  };
}

// EXTERNAL MODULE: ./src/app/ui/components/tooltip/basic-tooltip.tsx + 1 modules
var basic_tooltip = __webpack_require__(50452);
;// CONCATENATED MODULE: ./src/app/components/app-version.tsx








const AppVersionLabel = (0,react.forwardRef)(
  ({ children, isLatestVersion, ...props }, ref) => /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { bg: "ink.background-secondary", px: "space.04", py: "space.01", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* styled */.I4.span,
    {
      textStyle: "code",
      fontSize: "10px",
      ref,
      color: "ink.text-subdued",
      textDecoration: isLatestVersion ? "none" : "line-through",
      overflowWrap: "break-word",
      ...props,
      children
    }
  ) })
);
function AppVersion() {
  const { pullRequestLink, isLatestBuild } = useIsLatestPullRequestBuild();
  const version = (0,react.useMemo)(() => {
    switch ("production") {
      case "development":
        return environment/* BRANCH_NAME */.P9;
      case "feature":
        return `${environment/* BRANCH_NAME */.P9}#${environment/* COMMIT_SHA */.pk?.slice(0, 8)}`;
      default:
        return `v${"6.51.1"}`;
    }
  }, []);
  if (!isLatestBuild && "production" === "feature") {}
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(AppVersionLabel, { isLatestVersion: true, children: version });
}

// EXTERNAL MODULE: ./src/app/components/layout/divider.tsx
var divider = __webpack_require__(25132);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+models@0.18.2/node_modules/@leather.io/models/dist/index.js
var models_dist = __webpack_require__(89840);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+query@2.17.0_@stacks+network@6.13.0_encoding@0.1.13__encoding@0.1.13_react@18.3.1/node_modules/@leather.io/query/dist/index.js + 9 modules
var query_dist = __webpack_require__(4264);
// EXTERNAL MODULE: ./src/app/store/networks/networks.selectors.ts
var networks_selectors = __webpack_require__(13468);
// EXTERNAL MODULE: ./tests/selectors/network.selectors.ts
var network_selectors = __webpack_require__(56161);
;// CONCATENATED MODULE: ./src/app/features/settings/network/components/network-list-item-menu.tsx






function NetworkItemMenu({ onClickDeleteNetwork, onEditNetwork }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* DropdownMenu */.rI.Root, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* DropdownMenu */.rI.IconButton, { "data-testid": network_selectors/* NetworkSelectors */.x.NetworkMenuBtn, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* EllipsisVIcon */.bz, { color: "ink.text-primary" }) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* DropdownMenu */.rI.Portal, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
      exports_web/* DropdownMenu */.rI.Content,
      {
        align: "end",
        side: "bottom",
        sideOffset: 8,
        className: (0,css/* css */.AH)({
          width: "settingsMenuWidth"
        }),
        children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* DropdownMenu */.rI.Group, { children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            exports_web/* DropdownMenu */.rI.Item,
            {
              "data-testid": network_selectors/* NetworkSelectors */.x.EditNetworkMenuBtn,
              onClick: (e) => {
                e.stopPropagation();
                onEditNetwork();
              },
              children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { children: [
                /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* PencilIcon */.R2, {}),
                /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.02", children: "Edit" })
              ] })
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            exports_web/* DropdownMenu */.rI.Item,
            {
              "data-testid": network_selectors/* NetworkSelectors */.x.DeleteNetworkMenuBtn,
              onClick: (e) => {
                e.stopPropagation();
                onClickDeleteNetwork();
              },
              children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { color: "red.action-primary-default", children: [
                /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* TrashIcon */.uc, { color: "red.action-primary-default" }),
                /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.02", children: "Delete" })
              ] })
            }
          )
        ] })
      }
    ) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/settings/network/components/network-list-item.layout.tsx








function NetworkListItemLayout({
  networkId,
  isOnline,
  isActive,
  network,
  isCustom,
  onRemoveNetwork,
  onSelectNetwork,
  onEditNetwork
}) {
  const unselectable = !isOnline || isActive;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { "data-testid": settings_selectors/* SettingsSelectors */.i.NetworkListItem, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Button */.$n,
    {
      width: "100%",
      variant: "ghost",
      _hover: unselectable ? void 0 : {
        bg: "ink.component-background-hover"
      },
      px: "space.05",
      py: "space.04",
      onClick: unselectable ? void 0 : onSelectNetwork,
      cursor: !isOnline ? "not-allowed" : isActive ? "default" : "pointer",
      opacity: !isOnline ? 0.5 : 1,
      "data-testid": network.id,
      "aria-disabled": unselectable,
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { width: "100%", justifyContent: "space-between", alignItems: "center", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { alignItems: "flex-start", flex: 1, gap: "space.02", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", mb: "1", children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.01", children: (0,utils/* truncateString */.W5)(network.name, 20) }),
            isActive && /* @__PURE__ */ (0,jsx_runtime.jsx)(
              exports_web/* CheckmarkIcon */.Nr,
              {
                variant: "small",
                "data-testid": network_selectors/* NetworkSelectors */.x.NetworkListActiveNetwork
              }
            )
          ] }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "caption.01", children: (0,utils/* getUrlHostname */.zd)(network.chain.stacks.url) })
        ] }),
        !isOnline ? /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CloudOffIcon */.av, {}) : null,
        isOnline && isCustom && /* @__PURE__ */ (0,jsx_runtime.jsx)(
          NetworkItemMenu,
          {
            onClickDeleteNetwork: () => onRemoveNetwork(network.id),
            onEditNetwork
          }
        )
      ] })
    },
    networkId
  ) });
}

;// CONCATENATED MODULE: ./src/app/features/settings/network/network-list-item.tsx






function NetworkListItem({
  networkId,
  onNetworkSelected,
  onRemoveNetwork,
  isCustom,
  onEditNetwork
}) {
  const currentNetworkId = (0,networks_selectors/* useCurrentNetworkId */.Uv)();
  const networks = (0,networks_selectors/* useNetworks */.fI)();
  const network = networks[networkId] || models_dist/* defaultCurrentNetwork */.$e;
  const { isSuccess } = (0,query_dist/* useGetStacksNetworkStatusQuery */.T5w)(network.chain.stacks.url);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    NetworkListItemLayout,
    {
      isActive: networkId === currentNetworkId,
      isOnline: isSuccess,
      network,
      networkId,
      isCustom,
      onSelectNetwork: () => onNetworkSelected(networkId),
      onEditNetwork,
      onRemoveNetwork
    }
  );
}

// EXTERNAL MODULE: ./src/app/store/networks/networks.hooks.ts + 1 modules
var networks_hooks = __webpack_require__(54667);
;// CONCATENATED MODULE: ./src/app/features/settings/network/network.tsx











const defaultNetworkIds = Object.values(models_dist/* WalletDefaultNetworkConfigurationIds */.Re);
function NetworkSheet({ onClose }) {
  const navigate = (0,dist/* useNavigate */.Zp)();
  const networks = (0,networks_selectors/* useNetworks */.fI)();
  const networksActions = (0,networks_hooks/* useNetworksActions */.aV)();
  const currentNetwork = (0,networks_hooks/* useCurrentNetworkState */.uZ)();
  function addNetwork() {
    void analytics/* analytics */.zS.track("add_network");
    navigate(route_urls/* RouteUrls */.W.AddNetwork);
  }
  function removeNetwork(id) {
    void analytics/* analytics */.zS.track("remove_network");
    networksActions.removeNetwork(id);
  }
  function selectNetwork(id) {
    void analytics/* analytics */.zS.track("change_network", { id });
    networksActions.changeNetwork(id);
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Sheet */.cj,
    {
      header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, { title: "Change network" }),
      isShowing: true,
      onClose,
      footer: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* Button */.$n,
        {
          "data-testid": settings_selectors/* SettingsSelectors */.i.AddNewNetworkBtn,
          fullWidth: true,
          onClick: () => {
            addNetwork();
            onClose();
          },
          children: "Add a network"
        }
      ),
      children: Object.keys(networks).map((id) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        NetworkListItem,
        {
          networkId: id,
          onNetworkSelected: (id2) => {
            selectNetwork(id2);
            onClose();
          },
          isCustom: !defaultNetworkIds.includes(id),
          onRemoveNetwork: (id2) => {
            if (id2 === currentNetwork.id) networksActions.changeNetwork("mainnet");
            removeNetwork(id2);
          },
          onEditNetwork: () => {
            onClose();
            navigate(route_urls/* RouteUrls */.W.EditNetwork, {
              state: {
                network: networks[id]
              }
            });
          }
        },
        id
      ))
    }
  );
}

// EXTERNAL MODULE: ./node_modules/.pnpm/formik@2.4.5_react@18.3.1/node_modules/formik/dist/formik.esm.js + 121 modules
var formik_esm = __webpack_require__(73985);
// EXTERNAL MODULE: ./src/app/components/layout/index.ts + 8 modules
var layout = __webpack_require__(37461);
;// CONCATENATED MODULE: ./src/app/features/settings/sign-out/sign-out.tsx








function SignOutSheet({ isShowing, onUserDeleteWallet, onClose }) {
  const { whenWallet, walletType } = (0,use_wallet_type/* useWalletType */.t)();
  const form = (0,formik_esm/* useFormik */.Wx)({
    initialValues: {
      confirmBackup: whenWallet({ ledger: true, software: false }),
      confirmPasswordDisable: whenWallet({ ledger: true, software: false })
    },
    onSubmit() {
      handleSignOut();
    }
  });
  const canSignOut = form.values.confirmBackup && form.values.confirmPasswordDisable;
  function handleSignOut() {
    if (canSignOut) {
      onClose();
      onUserDeleteWallet();
    }
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    exports_web/* Sheet */.cj,
    {
      header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, { title: "Sign out" }),
      isShowing,
      onClose,
      footer: /* @__PURE__ */ (0,jsx_runtime.jsxs)(layout/* ButtonRow */.zE, { flexDirection: "row", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* Button */.$n,
          {
            color: "gray",
            "data-testid": settings_selectors/* SettingsSelectors */.i.BtnSignOutReturnToHomeScreen,
            flexGrow: 1,
            variant: "outline",
            onClick: onClose,
            children: "Cancel"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* Button */.$n,
          {
            color: "lightModeInk.1",
            opacity: !canSignOut ? 0.8 : void 0,
            "data-testid": settings_selectors/* SettingsSelectors */.i.BtnSignOutActuallyDeleteWallet,
            flexGrow: 1,
            disabled: !canSignOut,
            onClick: handleSignOut,
            type: "submit",
            children: "Sign out"
          }
        )
      ] }),
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Callout */.Pq, { variant: "warning", width: "100%", title: "You'll need your Secret Key to sign in again", children: whenWallet({
          software: "Back up your Secret Key before signing out. You'll be asked for your Secret Key on your next login.",
          ledger: "When you sign out, you'll need to reconnect your Ledger to sign back into your wallet."
        }) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { alignItems: "center", flexDirection: "column", p: "space.05", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)("form", { onChange: form.handleChange, onSubmit: form.handleSubmit, children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.label, { alignItems: "center", display: walletType === "software" ? "flex" : "none", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { gap: "space.03", children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(
              "input",
              {
                type: "checkbox",
                name: "confirmBackup",
                defaultChecked: form.values.confirmBackup,
                "data-testid": settings_selectors/* SettingsSelectors */.i.SignOutConfirmHasBackupCheckbox
              }
            ),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.p, { textStyle: "caption.01", userSelect: "none", children: "I have backed up my Secret Key." })
          ] }) }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            jsx/* styled */.I4.label,
            {
              alignItems: "center",
              mt: "space.05",
              display: walletType === "software" ? "flex" : "none",
              children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { gap: "space.03", children: [
                /* @__PURE__ */ (0,jsx_runtime.jsx)(
                  "input",
                  {
                    type: "checkbox",
                    name: "confirmPasswordDisable",
                    defaultChecked: form.values.confirmPasswordDisable,
                    "data-testid": settings_selectors/* SettingsSelectors */.i.SignOutConfirmPasswordDisable
                  }
                ),
                /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.p, { textStyle: "caption.01", userSelect: "none", children: "I understand that my password will not give me access to my wallet after I sign out." })
              ] })
            }
          )
        ] }) })
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/settings/sign-out/sign-out-confirm.tsx






function SignOut({ onClose }) {
  const { signOut } = (0,use_key_actions/* useKeyActions */.M)();
  const navigate = (0,dist/* useNavigate */.Zp)();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    SignOutSheet,
    {
      isShowing: true,
      onUserDeleteWallet: () => {
        void signOut().finally(() => {
          navigate(route_urls/* RouteUrls */.W.Onboarding);
        });
      },
      onClose
    }
  );
}

// EXTERNAL MODULE: ./src/app/common/theme-provider.tsx
var theme_provider = __webpack_require__(24690);
;// CONCATENATED MODULE: ./src/app/features/settings/theme/theme-list-item.tsx






function ThemeListItem({ theme, onThemeSelected, isActive }) {
  const themeLabel = (0,theme_provider/* getThemeLabel */.E2)(theme);
  const onThemeItemSelect = (0,react.useCallback)(() => {
    onThemeSelected(theme);
  }, [onThemeSelected, theme]);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* Box */.az,
    {
      width: "100%",
      _hover: isActive ? void 0 : {
        bg: "ink.component-background-hover"
      },
      px: "space.05",
      py: "space.04",
      onClick: isActive ? void 0 : onThemeItemSelect,
      cursor: isActive ? "default" : "pointer",
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { width: "100%", justifyContent: "space-between", alignItems: "center", height: "20px", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.02", children: themeLabel }),
        isActive && /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CheckmarkIcon */.Nr, {})
      ] })
    },
    themeLabel
  );
}

;// CONCATENATED MODULE: ./src/app/features/settings/theme/theme-dialog.tsx







function ThemeSheet({ onClose }) {
  const themes = Object.keys(theme_provider/* themeLabelMap */.oA);
  const { setUserSelectedTheme } = (0,theme_provider/* useThemeSwitcher */.kW)();
  const handleThemeSelected = (0,react.useCallback)(
    (theme) => {
      void analytics/* analytics */.zS.track(`select_theme`, {
        theme
      });
      setUserSelectedTheme(theme);
    },
    [setUserSelectedTheme]
  );
  const { userSelectedTheme } = (0,theme_provider/* useThemeSwitcher */.kW)();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Sheet */.cj, { header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, { title: "Change theme" }), isShowing: true, onClose, children: themes.map((theme) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
    ThemeListItem,
    {
      theme,
      onThemeSelected: handleThemeSelected,
      isActive: theme === userSelectedTheme
    },
    theme
  )) });
}

// EXTERNAL MODULE: ./src/app/store/settings/settings.actions.ts
var settings_actions = __webpack_require__(18025);
// EXTERNAL MODULE: ./src/app/store/settings/settings.selectors.ts
var settings_settings_selectors = __webpack_require__(73448);
// EXTERNAL MODULE: ./src/app/features/ledger/utils/generic-ledger-utils.ts + 1 modules
var generic_ledger_utils = __webpack_require__(67242);
// EXTERNAL MODULE: ./node_modules/.pnpm/react-async-hook@4.0.0_react@18.3.1/node_modules/react-async-hook/dist/react-async-hook.esm.js
var react_async_hook_esm = __webpack_require__(84102);
// EXTERNAL MODULE: ./src/shared/logger-storage.ts
var logger_storage = __webpack_require__(46539);
// EXTERNAL MODULE: ./src/app/features/toasts/use-toast.ts
var use_toast = __webpack_require__(7319);
;// CONCATENATED MODULE: ./src/app/features/settings/components/advanced-menu-items.tsx









const isAnEmptyLogsArrayByteThreshold = 7;
function isSmallEnoughToBeConsiderdEmptyCache(logSizeInBytes) {
  if (!(0,utils_dist/* isNumber */.Et)(logSizeInBytes)) return true;
  return logSizeInBytes < isAnEmptyLogsArrayByteThreshold;
}
function AdvancedMenuItems() {
  const { result: logSizeInBytes } = (0,react_async_hook_esm/* useAsync */.Yb)(async () => (0,logger_storage/* getLogSizeInBytes */.Oq)(), []);
  const toast = (0,use_toast/* useToast */.d)();
  const diagnosticLogText = (0,react.useMemo)(() => {
    const noLogInfoMsg = `There are no logs cached`;
    if (!(0,utils_dist/* isNumber */.Et)(logSizeInBytes)) return noLogInfoMsg;
    const logSizeInKiloBytes = logSizeInBytes / 1024;
    return isSmallEnoughToBeConsiderdEmptyCache(logSizeInBytes) ? noLogInfoMsg : `Delete ${logSizeInKiloBytes.toPrecision(2)}kB of diagnostic logs`;
  }, [logSizeInBytes]);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(
      exports_web/* DropdownMenu */.rI.Item,
      {
        onClick: async () => {
          await (0,logger_storage/* copyLogsToClipboard */.IF)();
          toast.success("Copied to clipboard");
        },
        children: [
          "Copy diagnostics to clipboard",
          /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { mt: "space.04", fontSize: "12px !important", children: "Contains private wallet usage activity" })
        ]
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(
      exports_web/* DropdownMenu */.rI.Item,
      {
        onClick: async () => {
          await (0,logger_storage/* clearBrowserStorageLogs */.Qz)();
          toast.success("Diagnostic logs cleared");
        },
        children: [
          "Clear diagnostic information",
          /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { mt: "space.04", fontSize: "12px !important", children: diagnosticLogText })
        ]
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(divider/* Divider */.c, {})
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/settings/components/ledger-item-row.tsx





function LedgerDeviceItemRow({ deviceType }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { my: "space.03", mb: "space.04", mx: "space.04", fontSize: "14px", alignItems: "center", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mr: "space.03", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* LedgerIcon */.vt, {}) }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.span, { cursor: "default", children: [
        "Ledger ",
        deviceType ?? ""
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(divider/* Divider */.c, {})
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/settings/settings.tsx




























function Settings({
  canLockWallet = true,
  triggerButton,
  toggleSwitchAccount
}) {
  const [showSignOut, setShowSignOut] = (0,react.useState)(false);
  const [showChangeTheme, setShowChangeTheme] = (0,react.useState)(false);
  const [showChangeNetwork, setShowChangeNetwork] = (0,react.useState)(false);
  const { hasKeys, hasLedgerKeys } = useHasKeys();
  const { lockWallet } = (0,use_key_actions/* useKeyActions */.M)();
  const currentNetworkId = (0,networks_selectors/* useCurrentNetworkId */.Uv)();
  const navigate = (0,dist/* useNavigate */.Zp)();
  const { walletType } = (0,use_wallet_type/* useWalletType */.t)();
  const targetId = (0,ledger_selectors/* useLedgerDeviceTargetId */.X0)();
  const isPrivateMode = (0,settings_settings_selectors/* useIsPrivateMode */.cT)();
  const togglePrivateMode = (0,settings_actions/* useTogglePrivateMode */.Mz)();
  const location = (0,dist/* useLocation */.zy)();
  const { isPressed: showAdvancedMenuOptions } = (0,use_modifier_key/* useModifierKey */.a)("alt", 120);
  const bottomGroupItems = (0,react.useMemo)(
    () => [
      showAdvancedMenuOptions && /* @__PURE__ */ (0,jsx_runtime.jsx)(AdvancedMenuItems, {}),
      canLockWallet && hasKeys && walletType === "software" && /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* DropdownMenu */.rI.Item,
        {
          onSelect: () => {
            void analytics/* analytics */.zS.track("lock_session");
            void lockWallet();
            navigate(route_urls/* RouteUrls */.W.Unlock);
          },
          "data-testid": settings_selectors/* SettingsSelectors */.i.LockListItem,
          children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Flag */.lN, { img: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* LockIcon */.XA, {}), textStyle: "label.02", children: "Lock" })
        }
      ),
      hasKeys && /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* DropdownMenu */.rI.Item,
        {
          onSelect: () => setShowSignOut(!showSignOut),
          "data-testid": settings_selectors/* SettingsSelectors */.i.SignOutListItem,
          children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Flag */.lN, { color: "red.action-primary-default", img: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ExitIcon */.Gq, {}), textStyle: "label.02", children: "Sign out" })
        }
      )
    ].filter(Boolean),
    [canLockWallet, hasKeys, lockWallet, navigate, showAdvancedMenuOptions, showSignOut, walletType]
  );
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* DropdownMenu */.rI.Root, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* DropdownMenu */.rI.IconButton, { children: triggerButton }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* DropdownMenu */.rI.Portal, { children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(
        exports_web/* DropdownMenu */.rI.Content,
        {
          align: "end",
          side: "bottom",
          sideOffset: 8,
          className: (0,css/* css */.AH)({
            width: "settingsMenuWidth",
            maxHeight: "var(--radix-dropdown-menu-content-available-height)",
            overflowY: "scroll"
          }),
          children: [
            /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* DropdownMenu */.rI.Group, { children: [
              hasLedgerKeys && targetId && /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* DropdownMenu */.rI.Item, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerDeviceItemRow, { deviceType: (0,generic_ledger_utils/* extractDeviceNameFromKnownTargetIds */.l9)(targetId) }) }),
              hasKeys && toggleSwitchAccount && /* @__PURE__ */ (0,jsx_runtime.jsx)(
                exports_web/* DropdownMenu */.rI.Item,
                {
                  "data-testid": settings_selectors/* SettingsSelectors */.i.SwitchAccountTrigger,
                  onSelect: toggleSwitchAccount,
                  children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Flag */.lN, { img: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ArrowsRepeatLeftRightIcon */.u, {}), textStyle: "label.02", children: "Switch account" })
                }
              ),
              hasKeys && walletType === "software" && /* @__PURE__ */ (0,jsx_runtime.jsx)(
                exports_web/* DropdownMenu */.rI.Item,
                {
                  "data-testid": settings_selectors/* SettingsSelectors */.i.ViewSecretKeyListItem,
                  onSelect: () => navigate(route_urls/* RouteUrls */.W.ViewSecretKey),
                  children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Flag */.lN, { img: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* KeyIcon */.RY, {}), textStyle: "label.02", children: "View Secret Key" })
                }
              ),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.div, { hideFrom: "md", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
                exports_web/* DropdownMenu */.rI.Item,
                {
                  "data-testid": settings_selectors/* SettingsSelectors */.i.OpenWalletInNewTab,
                  onSelect: () => {
                    void analytics/* analytics */.zS.track("click_open_in_new_tab_menu_item");
                    (0,open_in_new_tab/* openIndexPageInNewTab */.W)(location.pathname);
                  },
                  children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Flag */.lN, { img: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ExpandIcon */.mS, {}), textStyle: "label.02", children: "Maximize" })
                }
              ) }),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(
                exports_web/* DropdownMenu */.rI.Item,
                {
                  "data-testid": settings_selectors/* SettingsSelectors */.i.ChangeNetworkAction,
                  onSelect: () => {
                    void analytics/* analytics */.zS.track("click_change_network_menu_item");
                    setShowChangeNetwork(!showChangeNetwork);
                  },
                  children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Flag */.lN, { img: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* GlobeTiltedIcon */.zV, {}), children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.00", children: [
                    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.02", children: "Change network" }),
                    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { "data-testid": settings_selectors/* SettingsSelectors */.i.CurrentNetwork, children: (0,utils/* truncateString */.W5)(currentNetworkId.toString(), 15) })
                  ] }) })
                }
              ),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(
                exports_web/* DropdownMenu */.rI.Item,
                {
                  "data-testid": settings_selectors/* SettingsSelectors */.i.ToggleTheme,
                  onSelect: () => {
                    void analytics/* analytics */.zS.track("click_change_theme_menu_item");
                    setShowChangeTheme(!showChangeTheme);
                  },
                  children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Flag */.lN, { img: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SunInCloudIcon */.iF, {}), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { justifyContent: "space-between", textStyle: "label.02", children: "Change theme" }) })
                }
              ),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(
                exports_web/* DropdownMenu */.rI.Item,
                {
                  "data-testid": settings_selectors/* SettingsSelectors */.i.TogglePrivacy,
                  onSelect: () => {
                    void analytics/* analytics */.zS.track("click_toggle_privacy");
                    togglePrivateMode();
                  },
                  children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Flag */.lN, { img: isPrivateMode ? /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Eye1ClosedIcon */.y6, {}) : /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Eye1Icon */.cd, {}), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { justifyContent: "space-between", textStyle: "label.02", children: "Toggle privacy" }) })
                }
              )
            ] }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(divider/* Divider */.c, {}),
            /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* DropdownMenu */.rI.Group, { children: [
              /* @__PURE__ */ (0,jsx_runtime.jsx)(
                exports_web/* DropdownMenu */.rI.Item,
                {
                  "data-testid": settings_selectors/* SettingsSelectors */.i.GetSupportMenuItem,
                  onSelect: () => {
                    (0,open_in_new_tab/* openInNewTab */.V)("https://leather.io/support");
                  },
                  children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Flag */.lN, { img: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SupportIcon */.VA, {}), textStyle: "label.02", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { justifyContent: "space-between", children: [
                    "Get support",
                    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ExternalLinkIcon */.pT, { variant: "small" })
                  ] }) })
                }
              ),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* DropdownMenu */.rI.Item, { onSelect: () => (0,analytics/* openFeedbackSheet */.dO)(), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Flag */.lN, { img: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* MegaphoneIcon */.sZ, {}), textStyle: "label.02", children: "Give feedback" }) })
            ] }),
            bottomGroupItems.length > 0 && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
              /* @__PURE__ */ (0,jsx_runtime.jsx)(divider/* Divider */.c, {}),
              /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* DropdownMenu */.rI.Group, { children: [
                ...bottomGroupItems
              ] })
            ] }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(AppVersion, {})
          ]
        }
      ) })
    ] }),
    showSignOut && /* @__PURE__ */ (0,jsx_runtime.jsx)(SignOut, { onClose: () => setShowSignOut(!showSignOut) }),
    showChangeTheme && /* @__PURE__ */ (0,jsx_runtime.jsx)(ThemeSheet, { onClose: () => setShowChangeTheme(!showChangeTheme) }),
    showChangeNetwork && /* @__PURE__ */ (0,jsx_runtime.jsx)(NetworkSheet, { onClose: () => setShowChangeNetwork(!showChangeNetwork) })
  ] });
}


/***/ }),

/***/ 7319:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $: () => (/* binding */ ToastContext),
/* harmony export */   d: () => (/* binding */ useToast)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30758);


const ToastContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);
function useToast() {
  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ToastContext);
  if (!context) throw new Error("useToast must be used within ToastsProvider");
  return context;
}


/***/ }),

/***/ 6310:
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";

// EXTERNAL MODULE: ./node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(86070);
// EXTERNAL MODULE: ./node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/client.js
var client = __webpack_require__(99576);
// EXTERNAL MODULE: ./node_modules/.pnpm/@bitcoinerlab+secp256k1@1.0.2/node_modules/@bitcoinerlab/secp256k1/dist/index.js
var dist = __webpack_require__(23425);
// EXTERNAL MODULE: ./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/index.js
var src = __webpack_require__(99860);
// EXTERNAL MODULE: ./src/shared/utils/analytics.ts
var analytics = __webpack_require__(84137);
;// CONCATENATED MODULE: ./src/shared/utils/dev-tools-warning-log.ts

function warnUsersAboutDevToolsDangers() {
  if (false) {}
  console.log(
    "%c \u26A0\uFE0F Warning:\n   Do not paste any code here.\n   This is a developer tool which could be used to steal your funds.",
    "color: red; font-size: 20px"
  );
}

// EXTERNAL MODULE: ./src/app/common/persistence.ts
var persistence = __webpack_require__(71976);
// EXTERNAL MODULE: ./src/app/store/session-restore.ts
var session_restore = __webpack_require__(26580);
// EXTERNAL MODULE: ./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js
var react = __webpack_require__(30758);
// EXTERNAL MODULE: ./node_modules/.pnpm/react-redux@9.1.2_@types+react@18.3.10_react@18.3.1_redux@5.0.1/node_modules/react-redux/dist/react-redux.mjs
var react_redux = __webpack_require__(69357);
// EXTERNAL MODULE: ./node_modules/.pnpm/@tanstack+react-query@5.51.23_react@18.3.1/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js
var QueryClientProvider = __webpack_require__(76092);
// EXTERNAL MODULE: ./node_modules/.pnpm/redux-persist@6.0.0_react@18.3.1_redux@5.0.1/node_modules/redux-persist/es/integration/react.js
var integration_react = __webpack_require__(15002);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+query@2.17.0_@stacks+network@6.13.0_encoding@0.1.13__encoding@0.1.13_react@18.3.1/node_modules/@leather.io/query/dist/index.js + 9 modules
var query_dist = __webpack_require__(4264);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+ui@1.30.0_@babel+core@7.25.8_@babel+preset-env@7.25.4_@babel+core@7.25.8__@emotio_22oxxq3iiyvjwg37rra3ozwamu/node_modules/@leather.io/ui/dist-web/styles.css
var styles = __webpack_require__(2288);
// EXTERNAL MODULE: ./src/shared/constants.ts
var constants = __webpack_require__(61258);
// EXTERNAL MODULE: ./src/shared/environment.ts
var environment = __webpack_require__(19590);
// EXTERNAL MODULE: ./src/app/common/theme-provider.tsx
var theme_provider = __webpack_require__(24690);
// EXTERNAL MODULE: ./leather-styles/jsx/index.js + 43 modules
var jsx = __webpack_require__(80200);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+ui@1.30.0_@babel+core@7.25.8_@babel+preset-env@7.25.4_@babel+core@7.25.8__@emotio_22oxxq3iiyvjwg37rra3ozwamu/node_modules/@leather.io/ui/dist-web/exports.web.js + 585 modules
var exports_web = __webpack_require__(52213);
;// CONCATENATED MODULE: ./src/app/components/loading-spinner.tsx




function LoadingSpinner(props) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { alignItems: "center", flexGrow: 1, justifyContent: "center", width: "100%", ...props, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Spinner */.y$, { size: props.size }) });
}
function FullPageLoadingSpinner(props) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { height: "100vh", width: "100%", ...props, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(LoadingSpinner, {}) });
}
function FullPageWithHeaderLoadingSpinner(props) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { height: "calc(100vh - 68px)", width: "100%", ...props, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(LoadingSpinner, {}) });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/@tanstack+react-query-devtools@5.51.23_@tanstack+react-query@5.51.23_react@18.3.1__react@18.3.1/node_modules/@tanstack/react-query-devtools/build/modern/index.js
var modern = __webpack_require__(88667);
;// CONCATENATED MODULE: ./src/app/features/devtool/devtools.tsx





function Devtools() {
  return persistence/* queryClient */.q ? /* @__PURE__ */ (0,jsx_runtime.jsx)(QueryClientProvider/* QueryClientProvider */.Ht, { client: persistence/* queryClient */.q, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(modern/* ReactQueryDevtools */.E, { buttonPosition: "bottom-left" }) }) : null;
}

// EXTERNAL MODULE: ./node_modules/.pnpm/react-head@3.4.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-head/dist/index.esm.js + 4 modules
var index_esm = __webpack_require__(49305);
;// CONCATENATED MODULE: ./src/app/features/html-head/head-provider.tsx



function HeadProvider() {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(index_esm/* HeadProvider */.sU, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(LeatherMetaTags, {}) });
}
function LeatherMetaTags() {
  const suffix =  false ? 0 : "";
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(index_esm/* Title */.hE, { children: "Leather" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(index_esm/* Link */.N_, { rel: "icon", href: `/assets/icons/leather-icon-128${suffix}.png` })
  ] });
}

// EXTERNAL MODULE: ./src/app/features/toasts/use-toast.ts
var use_toast = __webpack_require__(7319);
;// CONCATENATED MODULE: ./src/app/features/toasts/use-toast-handlers.ts


function useToastHandlers() {
  const [toasts, setToasts] = (0,react.useState)(/* @__PURE__ */ new Map());
  const handleAddToast = (0,react.useCallback)((toast) => {
    setToasts((prev) => {
      const newMap = new Map(prev);
      newMap.set(String(Date.now()), { ...toast });
      return newMap;
    });
  }, []);
  return (0,react.useMemo)(() => {
    return {
      toasts,
      handleRemoveToast: (key) => {
        setToasts((prev) => {
          const newMap = new Map(prev);
          newMap.delete(key);
          return newMap;
        });
      },
      handleDispatchInfo: (message) => handleAddToast({ message, variant: "info" }),
      handleDispatchSuccess: (message) => handleAddToast({ message, variant: "success" }),
      handleDispatchError: (message) => handleAddToast({ message, variant: "error" }),
      handleDispatchPromise: async (promise, msgs) => {
        return promise.then((data) => {
          handleAddToast({ message: msgs.success, variant: "success" });
          return data;
        }).catch(() => {
          handleAddToast({ message: msgs.error, variant: "error" });
        });
      }
    };
  }, [handleAddToast, toasts]);
}

;// CONCATENATED MODULE: ./src/app/features/toasts/toasts-provider.tsx






function ToastsProvider(props) {
  const { children } = props;
  const {
    toasts,
    handleRemoveToast,
    handleDispatchError,
    handleDispatchInfo,
    handleDispatchSuccess,
    handleDispatchPromise
  } = useToastHandlers();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    use_toast/* ToastContext */.$.Provider,
    {
      value: (0,react.useMemo)(
        () => ({
          error: handleDispatchError,
          info: handleDispatchInfo,
          success: handleDispatchSuccess,
          promise: handleDispatchPromise
        }),
        [handleDispatchError, handleDispatchInfo, handleDispatchSuccess, handleDispatchPromise]
      ),
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Toast */.y8.Provider, { duration: 2e3, children: [
        children,
        Array.from(toasts).map(([key, toast]) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* Toast */.y8.Root,
          {
            asChild: true,
            forceMount: true,
            onOpenChange: (open) => {
              if (!open) handleRemoveToast(key);
            },
            children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Toast */.y8.Title, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ToastLayout */.Qm, { message: toast.message, variant: toast.variant }) })
          },
          key
        )),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Toast */.y8.Viewport, {})
      ] })
    }
  );
}


// EXTERNAL MODULE: ./node_modules/.pnpm/react-router-dom@6.26.2_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-router-dom/dist/index.js
var react_router_dom_dist = __webpack_require__(94669);
// EXTERNAL MODULE: ./node_modules/.pnpm/react-router@6.26.2_react@18.3.1/node_modules/react-router/dist/index.js
var react_router_dist = __webpack_require__(90543);
// EXTERNAL MODULE: ./node_modules/.pnpm/@sentry+react@8.26.0_react@18.3.1/node_modules/@sentry/react/build/esm/reactrouterv6.js + 1 modules
var reactrouterv6 = __webpack_require__(75919);
// EXTERNAL MODULE: ./src/shared/route-urls.ts
var route_urls = __webpack_require__(31009);
// EXTERNAL MODULE: ./src/app/components/layout/layouts/content.layout.tsx
var content_layout = __webpack_require__(11746);
// EXTERNAL MODULE: ./src/app/common/switch-account/use-switch-account-sheet-context.ts
var use_switch_account_sheet_context = __webpack_require__(80128);
;// CONCATENATED MODULE: ./src/app/components/layout/layouts/switch-account.layout.tsx




function SwitchAccountLayout() {
  const { isShowingSwitchAccount, setIsShowingSwitchAccount } = (0,use_switch_account_sheet_context/* useSwitchAccountSheet */.A)();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, { context: { isShowingSwitchAccount, setIsShowingSwitchAccount } });
}

// EXTERNAL MODULE: ./tests/selectors/network.selectors.ts
var network_selectors = __webpack_require__(56161);
// EXTERNAL MODULE: ./node_modules/.pnpm/formik@2.4.5_react@18.3.1/node_modules/formik/dist/formik.esm.js + 121 modules
var formik_esm = __webpack_require__(73985);
;// CONCATENATED MODULE: ./src/app/components/error-label.tsx



function ErrorLabel({ children, ...rest }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Flag */.lN,
    {
      img: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ErrorCircleIcon */.s9, { color: "red.action-primary-default", variant: "small" }),
      spacing: "space.02",
      color: "red.action-primary-default",
      textStyle: "body.02",
      textAlign: "left",
      ...rest,
      children
    }
  );
}

// EXTERNAL MODULE: ./src/app/components/layout/index.ts + 8 modules
var layout = __webpack_require__(37461);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+models@0.18.2/node_modules/@leather.io/models/dist/index.js
var models_dist = __webpack_require__(89840);
// EXTERNAL MODULE: ./src/app/common/hooks/use-on-mount.ts
var use_on_mount = __webpack_require__(53645);
;// CONCATENATED MODULE: ./src/app/features/add-network/network-form-fields.tsx









const networks = [
  {
    label: "Mainnet",
    value: "mainnet"
  },
  {
    label: "Testnet3",
    value: "testnet3"
  },
  {
    label: "Testnet4",
    value: "testnet4"
  },
  {
    label: "Signet",
    value: "signet"
  },
  {
    label: "Regtest",
    value: "regtest"
  }
];
function NetworkFormFields({ isEditNetworkMode }) {
  const { handleChange, setFieldValue, values, initialValues } = (0,formik_esm/* useFormikContext */.j7)();
  const setStacksUrl = (0,react.useCallback)(
    (value) => {
      void setFieldValue("stacksUrl", value);
    },
    [setFieldValue]
  );
  const setBitcoinUrl = (0,react.useCallback)(
    (value) => {
      void setFieldValue("bitcoinUrl", value);
    },
    [setFieldValue]
  );
  function setNetworkUrls(value) {
    switch (value) {
      case "mainnet":
        setStacksUrl("https://api.hiro.so");
        setBitcoinUrl(models_dist/* BITCOIN_API_BASE_URL_MAINNET */.DA);
        break;
      case "testnet3":
        setStacksUrl("https://api.testnet.hiro.so");
        setBitcoinUrl(models_dist/* BITCOIN_API_BASE_URL_TESTNET3 */.d4);
        break;
      case "testnet4":
        setStacksUrl("https://api.testnet.hiro.so");
        setBitcoinUrl(models_dist/* BITCOIN_API_BASE_URL_TESTNET4 */.kl);
        break;
      case "signet":
        setStacksUrl("https://api.testnet.hiro.so");
        setBitcoinUrl("https://mempool.space/signet/api");
        break;
      case "regtest":
        setStacksUrl("https://api.testnet.hiro.so");
        setBitcoinUrl("https://mempool.space/testnet/api");
        break;
    }
  }
  (0,use_on_mount/* useOnMount */.y)(() => {
    if (isEditNetworkMode) {
      return;
    }
    setNetworkUrls(values.bitcoinNetwork);
  });
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Input */.pd.Root, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Input */.pd.Label, { children: "Name" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* Input */.pd.Field,
        {
          autoFocus: true,
          "data-testid": network_selectors/* NetworkSelectors */.x.NetworkName,
          onChange: handleChange,
          name: "name",
          value: values.name,
          width: "100%"
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Title */.hE, { children: "Bitcoin API" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(
      exports_web/* Select */.l6.Root,
      {
        defaultValue: initialValues.bitcoinNetwork || networks[0].value,
        onValueChange: (value) => {
          setNetworkUrls(value);
          void setFieldValue("bitcoinNetwork", value);
        },
        children: [
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Select */.l6.Trigger, { "data-testid": network_selectors/* NetworkSelectors */.x.AddNetworkBitcoinAPISelector, children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Select */.l6.Value, {}),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Select */.l6.Icon, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ChevronDownIcon */.D3, { variant: "small" }) })
          ] }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Select */.l6.Portal, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Select */.l6.Content, { align: "start", position: "popper", sideOffset: 8, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Select */.l6.Viewport, { children: networks.map((item) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
            exports_web/* Select */.l6.Item,
            {
              value: item.value,
              "data-testid": `bitcoin-api-option-${item.value}`,
              children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
                exports_web/* SelectItemLayout */.Ir,
                {
                  contentLeft: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { display: "flex", gap: "space.02", width: "100%", children: [
                    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Select */.l6.ItemText, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.02", children: item.label }) }),
                    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Select */.l6.ItemIndicator, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CheckmarkIcon */.Nr, { variant: "small" }) })
                  ] })
                }
              )
            },
            item.label
          )) }) }) })
        ]
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Title */.hE, { children: "Bitcoin API URL" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Input */.pd.Root, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Input */.pd.Label, { children: "Bitcoin API URL" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* Input */.pd.Field,
        {
          onChange: handleChange,
          name: "bitcoinUrl",
          value: values.bitcoinUrl,
          width: "100%",
          "data-testid": network_selectors/* NetworkSelectors */.x.NetworkBitcoinAddress
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Input */.pd.Root, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Input */.pd.Label, { children: "Network key" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* Input */.pd.Field,
        {
          "data-testid": network_selectors/* NetworkSelectors */.x.NetworkKey,
          onChange: handleChange,
          name: "key",
          value: values.key,
          width: "100%"
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Title */.hE, { children: "Stacks API URL" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Input */.pd.Root, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Input */.pd.Label, { children: "Name" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* Input */.pd.Field,
        {
          height: "inputHeight",
          onChange: handleChange,
          name: "stacksUrl",
          value: values.stacksUrl,
          width: "100%",
          "data-testid": network_selectors/* NetworkSelectors */.x.NetworkStacksAddress
        }
      )
    ] })
  ] });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/constants.js
var esm_constants = __webpack_require__(89108);
// EXTERNAL MODULE: ./src/shared/utils/validate-url.ts
var validate_url = __webpack_require__(70235);
;// CONCATENATED MODULE: ./src/app/common/url-join.ts

function removeTrailingSlash(path) {
  return path.replace(/\/+$/, "");
}

// EXTERNAL MODULE: ./src/app/store/networks/networks.hooks.ts + 1 modules
var networks_hooks = __webpack_require__(54667);
;// CONCATENATED MODULE: ./src/app/features/add-network/use-add-network.tsx









var PeerNetworkID = /* @__PURE__ */ ((PeerNetworkID2) => {
  PeerNetworkID2[PeerNetworkID2["Mainnet"] = 385875968] = "Mainnet";
  PeerNetworkID2[PeerNetworkID2["Testnet"] = 4278190080] = "Testnet";
  return PeerNetworkID2;
})(PeerNetworkID || {});
const initialFormValues = {
  key: "",
  name: "",
  stacksUrl: "",
  bitcoinUrl: "",
  bitcoinNetwork: "mainnet"
};
function useAddNetworkState() {
  const { state } = (0,react_router_dist/* useLocation */.zy)();
  return {
    isEditNetworkMode: state?.isEditNetworkMode,
    network: state?.network
  };
}
function useInitialValues() {
  const { network } = useAddNetworkState();
  if (!network) {
    return initialFormValues;
  }
  const isProperStateProvided = models_dist/* networkConfigurationSchema */.Kh.safeParse(network).success;
  if (!isProperStateProvided) {
    return initialFormValues;
  }
  return {
    key: network.id,
    name: network.name,
    stacksUrl: network.chain.stacks.url,
    bitcoinUrl: network.chain.bitcoin.bitcoinUrl,
    bitcoinNetwork: network.chain.bitcoin.bitcoinNetwork,
    mode: network.chain.bitcoin.mode
  };
}
function useAddNetwork() {
  const [loading, setLoading] = (0,react.useState)(false);
  const [error, setError] = (0,react.useState)("");
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const network = (0,networks_hooks/* useCurrentStacksNetworkState */.hB)();
  const networksActions = (0,networks_hooks/* useNetworksActions */.aV)();
  const initialValues = useInitialValues();
  const { isEditNetworkMode } = useAddNetworkState();
  return {
    error,
    initialFormValues: initialValues,
    loading,
    isEditNetworkMode,
    onSubmit: async (values) => {
      const { name, stacksUrl, bitcoinUrl, key, bitcoinNetwork } = values;
      if (!name) {
        setError("Enter a name");
        return;
      }
      if (!(0,validate_url/* isValidUrl */.A)(stacksUrl)) {
        setError("Enter a valid Stacks API URL");
        return;
      }
      if (!(0,validate_url/* isValidUrl */.A)(bitcoinUrl)) {
        setError("Enter a valid Bitcoin API URL");
        return;
      }
      if (!key) {
        setError("Enter a unique key");
        return;
      }
      setLoading(true);
      setError("");
      const stacksPath = removeTrailingSlash(new URL(values.stacksUrl).href);
      const bitcoinPath = removeTrailingSlash(new URL(values.bitcoinUrl).href);
      try {
        const bitcoinResponse = await network.fetchFn(`${bitcoinPath}/mempool/recent`);
        if (!bitcoinResponse.ok) throw new Error("Unable to fetch mempool from bitcoin node");
        const bitcoinMempool = await bitcoinResponse.json();
        if (!Array.isArray(bitcoinMempool))
          throw new Error("Unable to fetch mempool from bitcoin node");
      } catch (error2) {
        setError("Unable to fetch mempool from bitcoin node");
        setLoading(false);
        return;
      }
      let stacksChainInfo;
      try {
        const stacksResponse = await network.fetchFn(`${stacksPath}/v2/info`);
        stacksChainInfo = await stacksResponse.json();
        if (!stacksChainInfo) throw new Error("Unable to fetch info from stacks node");
      } catch (error2) {
        setError("Unable to fetch info from stacks node");
        setLoading(false);
        return;
      }
      const { network_id: chainId, parent_network_id: parentNetworkId } = stacksChainInfo;
      const isSubnet = typeof stacksChainInfo.l1_subnet_governing_contract === "string";
      const isFirstLevelSubnet = isSubnet && (parentNetworkId === 385875968 /* Mainnet */ || parentNetworkId === 4278190080 /* Testnet */);
      function removeEditedNetwork() {
        if (initialValues.key) {
          networksActions.removeNetwork(initialValues.key);
        }
      }
      if (isFirstLevelSubnet) {
        const parentChainId = parentNetworkId === 385875968 /* Mainnet */ ? esm_constants/* ChainID */.n_.Mainnet : esm_constants/* ChainID */.n_.Testnet;
        removeEditedNetwork();
        networksActions.addNetwork({
          id: key,
          name,
          chainId: parentChainId,
          // Used for differentiating control flow in the wallet
          subnetChainId: chainId,
          // Used for signing transactions (via the network object, not to be confused with the NetworkConfigurations)
          url: stacksPath,
          bitcoinNetwork,
          mode: (0,models_dist/* bitcoinNetworkToNetworkMode */.Tf)(bitcoinNetwork),
          bitcoinUrl: bitcoinPath
        });
        navigate(route_urls/* RouteUrls */.W.Home);
      } else if (chainId === esm_constants/* ChainID */.n_.Mainnet || chainId === esm_constants/* ChainID */.n_.Testnet) {
        removeEditedNetwork();
        networksActions.addNetwork({
          id: key,
          name,
          chainId,
          url: stacksPath,
          bitcoinNetwork,
          mode: (0,models_dist/* bitcoinNetworkToNetworkMode */.Tf)(bitcoinNetwork),
          bitcoinUrl: bitcoinPath
        });
        navigate(route_urls/* RouteUrls */.W.Home);
      } else {
        setError("Unable to determine chainID from node.");
      }
      setLoading(false);
    }
  };
}

;// CONCATENATED MODULE: ./src/app/features/add-network/network-form.tsx










function NetworkForm({ isEditNetworkMode, title }) {
  const { error, initialFormValues, loading, onSubmit } = useAddNetwork();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(formik_esm/* Formik */.l1, { initialValues: initialFormValues, onSubmit, children: ({ handleSubmit }) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
    layout/* Card */.Zp,
    {
      footerBorder: true,
      footer: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* Button */.$n,
        {
          fullWidth: true,
          "aria-busy": loading,
          "data-testid": network_selectors/* NetworkSelectors */.x.AddNetworkBtn,
          type: "submit",
          onClick: () => handleSubmit(),
          children: title
        }
      ),
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(formik_esm/* Form */.lV, { "data-testid": network_selectors/* NetworkSelectors */.x.NetworkPageReady, children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(
        jsx/* Stack */.BJ,
        {
          gap: "space.05",
          maxWidth: "pageWidth",
          px: { base: "space.00", sm: "space.04", md: "space.05" },
          my: "space.05",
          children: [
            /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.span, { textStyle: "body.02", children: [
              "Use this form to add a new instance of the",
              " ",
              /* @__PURE__ */ (0,jsx_runtime.jsx)(
                exports_web/* Link */.N_,
                {
                  href: "https://github.com/blockstack/stacks-blockchain-api",
                  target: "_blank",
                  rel: "noreferrer",
                  children: "Stacks Blockchain API"
                }
              ),
              " ",
              "or",
              " ",
              /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Link */.N_, { href: "https://mempool.space/docs/api/rest", target: "_blank", rel: "noreferrer", children: "Bitcoin Blockchain API" }),
              ". Make sure you review and trust the host before you add it."
            ] }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(NetworkFormFields, { isEditNetworkMode }),
            error ? /* @__PURE__ */ (0,jsx_runtime.jsx)(ErrorLabel, { "data-testid": network_selectors/* NetworkSelectors */.x.ErrorText, children: error }) : null
          ]
        }
      ) })
    }
  ) });
}

// EXTERNAL MODULE: ./tests/selectors/settings.selectors.ts
var settings_selectors = __webpack_require__(15590);
// EXTERNAL MODULE: ./tests/selectors/shared-component.selectors.ts
var shared_component_selectors = __webpack_require__(5319);
// EXTERNAL MODULE: ./src/app/components/layout/headers/header.tsx
var header = __webpack_require__(31001);
// EXTERNAL MODULE: ./src/app/components/layout/headers/header-action-button.tsx
var header_action_button = __webpack_require__(80877);
// EXTERNAL MODULE: ./src/app/components/layout/headers/header-grid.tsx
var header_grid = __webpack_require__(98952);
// EXTERNAL MODULE: ./src/app/components/layout/headers/logo-box.tsx
var logo_box = __webpack_require__(8655);
// EXTERNAL MODULE: ./src/app/features/settings/settings.tsx + 13 modules
var settings = __webpack_require__(6146);
;// CONCATENATED MODULE: ./src/app/features/container/headers/page.header.tsx














function PageHeader({
  title,
  isSummaryPage = false,
  isSettingsVisibleOnSm = true,
  onBackLocation
}) {
  const { isShowingSwitchAccount, setIsShowingSwitchAccount } = (0,use_switch_account_sheet_context/* useSwitchAccountSheet */.A)();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const onGoBack = onBackLocation ? () => navigate(onBackLocation) : () => navigate(-1);
  const canGoBack = !isSummaryPage;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(header/* Header */.Y, { px: { base: "space.04", sm: "space.00" }, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    header_grid/* HeaderGrid */.O,
    {
      leftCol: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
        canGoBack && /* @__PURE__ */ (0,jsx_runtime.jsx)(
          header_action_button/* HeaderActionButton */.O,
          {
            icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ArrowLeftIcon */.A6, {}),
            onAction: onGoBack,
            dataTestId: shared_component_selectors/* SharedComponentsSelectors */.s.HeaderBackBtn
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(logo_box/* LogoBox */.L, { onClick: () => navigate(route_urls/* RouteUrls */.W.Home) })
      ] }),
      centerCol: title && /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "heading.05", children: title }),
      rightCol: /* @__PURE__ */ (0,jsx_runtime.jsx)(header_grid/* HeaderGridRightCol */.g, { children: isSummaryPage ? /* @__PURE__ */ (0,jsx_runtime.jsx)(
        header_action_button/* HeaderActionButton */.O,
        {
          icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CloseIcon */.US, {}),
          dataTestId: shared_component_selectors/* SharedComponentsSelectors */.s.HeaderCloseBtn,
          onAction: () => navigate(route_urls/* RouteUrls */.W.Home)
        }
      ) : /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.div, { hideBelow: isSettingsVisibleOnSm ? void 0 : "sm", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        settings/* Settings */.w,
        {
          triggerButton: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* BarsTwoIcon */.MW, { "data-testid": settings_selectors/* SettingsSelectors */.i.SettingsMenuBtn }),
          toggleSwitchAccount: () => setIsShowingSwitchAccount(!isShowingSwitchAccount)
        }
      ) }) })
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/features/add-network/network-form.layout.tsx




function NetworkFormLayout({ title, children }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(PageHeader, { title }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Content */.UC, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Page */.YW, { children }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/add-network/add-network.tsx




const title = "Add network";
function AddNetwork() {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(NetworkFormLayout, { title, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(NetworkForm, { title }) });
}

;// CONCATENATED MODULE: ./src/app/features/add-network/edit-network.tsx




const edit_network_title = "Edit network";
function EditNetwork() {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(NetworkFormLayout, { title: edit_network_title, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(NetworkForm, { isEditNetworkMode: true, title: edit_network_title }) });
}

// EXTERNAL MODULE: ./src/shared/utils.ts
var utils = __webpack_require__(45366);
// EXTERNAL MODULE: ./node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs
var lib = __webpack_require__(28075);
// EXTERNAL MODULE: ./src/app/store/index.ts + 1 modules
var store = __webpack_require__(62461);
// EXTERNAL MODULE: ./src/app/store/common/wallet-type.selectors.ts
var wallet_type_selectors = __webpack_require__(52225);
// EXTERNAL MODULE: ./src/app/store/networks/networks.selectors.ts
var networks_selectors = __webpack_require__(13468);
// EXTERNAL MODULE: ./src/app/common/initial-search-params.ts
var initial_search_params = __webpack_require__(21975);
;// CONCATENATED MODULE: ./src/app/common/app-analytics.ts











const defaultStaticAnalyticContext = {
  ip: "0.0.0.0",
  platform: "web",
  product: "extension",
  version: "6.51.1",
  ...initial_search_params/* flow */.L3 && { flow: initial_search_params/* flow */.L3 },
  ...initial_search_params/* origin */.TG && { origin: initial_search_params/* origin */.TG }
};
function getAnalyticsStateProps() {
  const state = store/* store */.M_.getState();
  const currentNetwork = (0,networks_selectors/* selectCurrentNetwork */.c1)(state);
  const walletType = (0,wallet_type_selectors/* selectWalletType */.ik)(state);
  return {
    walletType,
    currentNetwork
  };
}
function isHiroApiUrl(url) {
  return url.includes(models_dist/* HIRO_API_BASE_URL_MAINNET */.Vt) || url.includes(models_dist/* HIRO_API_BASE_URL_TESTNET */.Wi);
}
function getDerivedStateAnalyticsContext() {
  const appState = getAnalyticsStateProps();
  return {
    route: location.pathname,
    network: appState.currentNetwork.name.toLowerCase(),
    usingDefaultHiroApi: isHiroApiUrl(appState.currentNetwork.chain.stacks.url),
    walletType: appState.walletType
  };
}
function useInitalizeAnalytics() {
  (0,react.useEffect)(() => {
    if (!environment/* SEGMENT_WRITE_KEY */.yj || environment/* IS_TEST_ENV */.Ay) return;
    (0,analytics/* initAnalytics */.Bu)();
  }, []);
}
(0,analytics/* decorateAnalyticsEventsWithContext */.Sl)(() => ({
  ...defaultStaticAnalyticContext,
  ...getDerivedStateAnalyticsContext()
}));
const analyticsQueueItemSchema = lib.z.object({
  eventName: lib.z.string(),
  properties: lib.z.record(lib.z.unknown()).optional()
});
const analyicsQueueSchema = lib.z.array(analyticsQueueItemSchema);
const analyticsEventKey = "backgroundAnalyticsRequests";
function useHandleQueuedBackgroundAnalytics() {
  (0,use_on_mount/* useOnMount */.y)(() => {
    async function handleQueuedAnalytics() {
      const queuedEventsStore = await chrome.storage.local.get(analyticsEventKey);
      try {
        const events = analyicsQueueSchema.parse(queuedEventsStore[analyticsEventKey] ?? []);
        if (!events.length) return;
        await chrome.storage.local.remove(analyticsEventKey);
        await Promise.all(
          events.map(({ eventName, properties }) => analytics/* analytics */.zS.track(eventName, properties))
        );
      } catch (e) {
        void analytics/* analytics */.zS.track("background_analytics_schema_fail");
      }
    }
    void handleQueuedAnalytics();
  });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/react-virtuoso@4.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-virtuoso/dist/index.mjs
var react_virtuoso_dist = __webpack_require__(57556);
// EXTERNAL MODULE: ./src/app/common/hooks/use-key-actions.ts + 4 modules
var use_key_actions = __webpack_require__(1479);
;// CONCATENATED MODULE: ./src/app/common/hooks/account/use-create-account.ts





function useCreateAccount() {
  const { createNewAccount } = (0,use_key_actions/* useKeyActions */.M)();
  const toast = (0,use_toast/* useToast */.d)();
  return (0,react.useCallback)(() => {
    void analytics/* analytics */.zS.track("create_new_account");
    void toast.promise(createNewAccount(), {
      success: "Account created!",
      error: "Error creating account."
    });
  }, [createNewAccount, toast]);
}

// EXTERNAL MODULE: ./src/app/common/use-wallet-type.ts
var use_wallet_type = __webpack_require__(71977);
// EXTERNAL MODULE: ./src/app/store/accounts/account.ts
var accounts_account = __webpack_require__(80763);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+bitcoin@0.14.2_encoding@0.1.13/node_modules/@leather.io/bitcoin/dist/index.js
var bitcoin_dist = __webpack_require__(94627);
// EXTERNAL MODULE: ./src/app/store/ledger/bitcoin/bitcoin-key.slice.ts
var bitcoin_key_slice = __webpack_require__(528);
;// CONCATENATED MODULE: ./src/app/store/accounts/blockchain/bitcoin/bitcoin.ledger.ts





function useHasBitcoinLedgerKeychain() {
  const network = useCurrentNetwork();
  const accounts = useSelector(selectDefaultWalletBitcoinKeys);
  const hasNetworkKeys = accounts.some((v) => {
    return inferNetworkFromPath(v.path) === bitcoinNetworkModeToCoreNetworkMode(network.chain.bitcoin.mode);
  });
  return hasNetworkKeys;
}
function useFilteredBitcoinAccounts() {
  const accounts = (0,react_redux/* useSelector */.d4)(bitcoin_key_slice/* selectDefaultWalletBitcoinKeys */.Rv);
  const network = (0,networks_selectors/* useCurrentNetwork */.Rm)();
  return accounts.filter((v) => {
    return (0,bitcoin_dist/* inferNetworkFromPath */.gD)(v.path) === (0,bitcoin_dist/* bitcoinNetworkModeToCoreNetworkMode */.Vw)(network.chain.bitcoin.mode);
  });
}

// EXTERNAL MODULE: ./src/app/store/accounts/blockchain/stacks/stacks-account.hooks.ts + 3 modules
var stacks_account_hooks = __webpack_require__(14461);
// EXTERNAL MODULE: ./leather-styles/tokens/index.js
var tokens = __webpack_require__(65174);
;// CONCATENATED MODULE: ./src/app/common/hooks/use-media-query.ts



function useMediaQuery(query) {
  const [matches, setMatches] = (0,react.useState)(() => window.matchMedia(query).matches);
  (0,react.useEffect)(() => {
    const media = window.matchMedia(query);
    if (media.matches !== matches) {
      setMatches(media.matches);
    }
    const listener = () => setMatches(media.matches);
    window.addEventListener("resize", listener);
    return () => window.removeEventListener("resize", listener);
  }, [matches, query]);
  return matches;
}
function useWindowMinWidth(width) {
  return useMediaQuery(`(min-width: ${width}px)`);
}
function useViewportMinWidth(viewport) {
  return useMediaQuery(`(min-width: ${(0,tokens/* token */.S)(`breakpoints.${viewport}`)})`);
}

;// CONCATENATED MODULE: ./src/app/common/hooks/use-on-resize-listener.ts


function useOnResizeListener(callback) {
  (0,react.useEffect)(() => {
    const onResize = () => callback();
    window.addEventListener("resize", onResize);
    return () => window.removeEventListener("resize", onResize);
  }, [callback]);
}

;// CONCATENATED MODULE: ./src/app/ui/components/virtuoso.tsx






function vhToPixels(vh) {
  const numericHeight = +vh.replace("vh", "");
  return numericHeight * window.innerHeight / 100;
}
function VirtuosoWrapper({ children, hasFooter, isPopup }) {
  const [key, setKey] = (0,react.useState)(0);
  const isAtLeastMd = useViewportMinWidth("md");
  const virtualHeight = isAtLeastMd ? "70vh" : "100vh";
  const headerHeight = isPopup ? 230 : 60;
  const footerHeight = hasFooter ? 95 : 0;
  const heightOffset = headerHeight + footerHeight;
  const height = vhToPixels(virtualHeight) - heightOffset;
  const onResize = () => {
    setKey(Date.now());
  };
  useOnResizeListener(onResize);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* Box */.az,
    {
      pt: "space.03",
      overflow: "hidden",
      style: {
        height,
        marginBottom: hasFooter ? `${footerHeight}px` : "10px"
      },
      children
    },
    key
  );
}

;// CONCATENATED MODULE: ./src/app/features/dialogs/switch-account-dialog/components/account-list-unavailable.tsx



function AccountListUnavailable() {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* Flex */.so,
    {
      flexDirection: "column",
      justifyContent: "center",
      minHeight: "120px",
      mb: "space.06",
      px: "space.05",
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Box */.az, { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.01", children: "Unable to load account information" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { mt: "space.03", textStyle: "body.02", children: "We're unable to load information about your accounts. This may be a problem with the wallet's API. If this problem persists, contact support." })
      ] })
    }
  );
}

// EXTERNAL MODULE: ./src/app/common/hooks/account/use-account-names.ts + 2 modules
var use_account_names = __webpack_require__(90963);
;// CONCATENATED MODULE: ./src/app/common/analytics/track-switch-account.ts



async function trackSwitchAccount(address, index) {
  const accountBalanceCache = persistence/* queryClient */.q.getQueryData(["get-address-stx-balance", address]);
  if (!accountBalanceCache) return;
  try {
    const hasStxBalance = !!accountBalanceCache.stx.unlockedStx.amount.isGreaterThan(0);
    void analytics/* analytics */.zS.track("switch_account", { index, hasStxBalance });
  } finally {
  }
}

;// CONCATENATED MODULE: ./src/app/common/hooks/account/use-switch-account.ts






const TIMEOUT = 350;
function useSwitchAccount(callback) {
  const { switchAccount } = (0,use_key_actions/* useKeyActions */.M)();
  const currentAccount = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const accounts = (0,stacks_account_hooks/* useStacksAccounts */.Lh)();
  const txIndex = (0,stacks_account_hooks/* useTransactionAccountIndex */.b3)();
  const transactionVersion = (0,stacks_account_hooks/* useTransactionNetworkVersion */.QG)();
  const [hasSwitched, setHasSwitched] = (0,accounts_account/* useHasSwitchedAccounts */.tS)();
  const handleSwitchAccount = (0,react.useCallback)(
    async (index) => {
      setHasSwitched(true);
      switchAccount(index);
      if (callback) setTimeout(() => callback(), TIMEOUT);
      if (!accounts) return;
      void trackSwitchAccount(accounts[index]?.address, index);
    },
    [setHasSwitched, switchAccount, callback, accounts]
  );
  const getIsActive = (0,react.useCallback)(
    (index) => typeof txIndex === "number" && !hasSwitched ? index === txIndex : index === currentAccount?.index,
    [txIndex, hasSwitched, currentAccount]
  );
  return { handleSwitchAccount, getIsActive, transactionVersion };
}

// EXTERNAL MODULE: ./node_modules/.pnpm/jotai@2.2.1_react@18.3.1/node_modules/jotai/esm/react.mjs
var esm_react = __webpack_require__(56068);
// EXTERNAL MODULE: ./node_modules/.pnpm/jotai@2.2.1_react@18.3.1/node_modules/jotai/esm/vanilla.mjs
var vanilla = __webpack_require__(89208);
// EXTERNAL MODULE: ./node_modules/.pnpm/jotai@2.2.1_react@18.3.1/node_modules/jotai/esm/vanilla/utils.mjs
var vanilla_utils = __webpack_require__(81286);
;// CONCATENATED MODULE: ./src/app/store/ui/ui.ts



const loadingState = (0,vanilla_utils/* atomFamily */.Iz)((_param) => {
  const anAtom = (0,vanilla/* atom */.eU)("idle");
  anAtom.debugLabel = `loading-atom/${_param}`;
  return anAtom;
});

;// CONCATENATED MODULE: ./src/app/store/ui/ui.hooks.ts



function useLoadingState(key) {
  return (0,esm_react/* useAtom */.fp)(loadingState(key));
}

;// CONCATENATED MODULE: ./src/app/common/hooks/use-loading.ts


var LoadingKeys = /* @__PURE__ */ ((LoadingKeys2) => {
  LoadingKeys2["SUBMIT_SEND_FORM_TRANSACTION"] = "loading/SUBMIT_SEND_FORM_TRANSACTION";
  LoadingKeys2["SUBMIT_SWAP_TRANSACTION"] = "loading/SUBMIT_SWAP_TRANSACTION";
  LoadingKeys2["SUBMIT_TRANSACTION_REQUEST"] = "loading/SUBMIT_TRANSACTION_REQUEST";
  return LoadingKeys2;
})(LoadingKeys || {});
function useLoading(key) {
  const [state, setState] = useLoadingState(key);
  const setIsLoading = () => setState("loading");
  const setIsIdle = () => setState("idle");
  const isLoading = state === "loading";
  return {
    isLoading,
    setIsLoading,
    setIsIdle
  };
}

// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+utils@0.16.6/node_modules/@leather.io/utils/dist/index.js
var utils_dist = __webpack_require__(62684);
// EXTERNAL MODULE: ./src/app/query/bitcoin/balance/btc-balance-native-segwit.hooks.ts
var btc_balance_native_segwit_hooks = __webpack_require__(56524);
;// CONCATENATED MODULE: ./src/app/common/hooks/balance/use-total-balance.tsx





function useTotalBalance({ btcAddress, stxAddress }) {
  const btcMarketData = (0,query_dist/* useCryptoCurrencyMarketDataMeanAverage */.UoM)("BTC");
  const stxMarketData = (0,query_dist/* useCryptoCurrencyMarketDataMeanAverage */.UoM)("STX");
  const { filteredBalanceQuery, isLoadingAdditionalData: isLoadingAdditionalDataStxBalance } = (0,query_dist/* useStxCryptoAssetBalance */.szK)(stxAddress);
  const {
    data: balance,
    isFetching: isFetchingStxBalance,
    isLoading: isLoadingStxBalance,
    isPending: isPendingStxBalance
  } = filteredBalanceQuery;
  const stxBalance = balance ? balance.totalBalance : (0,utils_dist/* createMoney */.j6)(0, "STX");
  const {
    balance: btcBalance,
    isLoading: isLoadingBtcBalance,
    filteredUtxosQuery: { isFetching: isFetchingBtcBalance, isPending: isPendingBtcBalance },
    isLoadingAdditionalData: isLoadingAdditionalDataBtcBalance
  } = (0,btc_balance_native_segwit_hooks/* useBtcCryptoAssetBalanceNativeSegwit */.o)(btcAddress);
  return (0,react.useMemo)(() => {
    const stxUsdAmount = (0,utils_dist/* baseCurrencyAmountInQuote */.uE)(stxBalance, stxMarketData);
    const btcUsdAmount = (0,utils_dist/* baseCurrencyAmountInQuote */.uE)(btcBalance.availableBalance, btcMarketData);
    const totalBalance = { ...stxUsdAmount, amount: stxUsdAmount.amount.plus(btcUsdAmount.amount) };
    return {
      isFetching: isFetchingStxBalance || isFetchingBtcBalance,
      isLoading: isLoadingStxBalance || isLoadingBtcBalance,
      isPending: isPendingStxBalance || isPendingBtcBalance,
      totalBalance,
      totalUsdBalance: (0,utils_dist/* i18nFormatCurrency */.Lx)(
        totalBalance,
        totalBalance.amount.isGreaterThanOrEqualTo(1e5) ? 0 : 2
      ),
      isLoadingAdditionalData: isLoadingAdditionalDataStxBalance || isLoadingAdditionalDataBtcBalance
    };
  }, [
    btcBalance.availableBalance,
    btcMarketData,
    isFetchingBtcBalance,
    isFetchingStxBalance,
    isLoadingBtcBalance,
    isLoadingStxBalance,
    isPendingBtcBalance,
    isPendingStxBalance,
    stxBalance,
    stxMarketData,
    isLoadingAdditionalDataBtcBalance,
    isLoadingAdditionalDataStxBalance
  ]);
}

// EXTERNAL MODULE: ./src/app/components/privacy/private-text.tsx
var private_text = __webpack_require__(68140);
;// CONCATENATED MODULE: ./src/app/components/account-total-balance.tsx







const AccountTotalBalance = (0,react.memo)(({ btcAddress, stxAddress }) => {
  const { totalUsdBalance, isFetching, isLoading, isLoadingAdditionalData } = useTotalBalance({
    btcAddress,
    stxAddress
  });
  if (!totalUsdBalance) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SkeletonLoader */.jt, { height: "20px", isLoading, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* styled */.I4.span,
    {
      className: exports_web/* shimmerStyles */.cC,
      textStyle: "label.02",
      "data-state": isLoadingAdditionalData || isFetching ? "loading" : void 0,
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(private_text/* PrivateText */.F, { children: totalUsdBalance })
    }
  ) });
});

// EXTERNAL MODULE: ./src/app/components/loaders/bitcoin-account-loader.tsx
var bitcoin_account_loader = __webpack_require__(4023);
;// CONCATENATED MODULE: ./src/app/components/loaders/stacks-account-loader.tsx



function CurrentStacksAccountLoader({
  children,
  fallback
}) {
  const currentAccount = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  if (!currentAccount) return fallback;
  return children(currentAccount);
}
function StacksAccountLoader({ children, ...props }) {
  const stacksAccounts = (0,stacks_account_hooks/* useStacksAccounts */.Lh)();
  const currentAccountIndex = (0,accounts_account/* useCurrentAccountIndex */.IR)();
  const properIndex = "current" in props ? currentAccountIndex : props.index;
  const account = stacksAccounts[properIndex];
  if (!account) return null;
  return children(account);
}

;// CONCATENATED MODULE: ./src/app/components/account/account-addresses.tsx







function AcccountAddresses({ index }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* HStack */.zt, { alignItems: "center", gap: "space.02", whiteSpace: "nowrap", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* BulletSeparator */.ay, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(StacksAccountLoader, { index, children: (account) => /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { children: (0,utils_dist/* truncateMiddle */.kU)(account.address, 4) }) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(bitcoin_account_loader/* BitcoinNativeSegwitAccountLoader */.V, { index, children: (signer) => /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { children: (0,utils_dist/* truncateMiddle */.kU)(signer.address, 4) }) })
  ] }) });
}

;// CONCATENATED MODULE: ./src/app/components/account/account-list-item.layout.tsx





function AccountListItemLayout(props) {
  const {
    accountAddresses,
    accountName,
    avatar,
    balanceLabel,
    index,
    isLoading,
    isSelected,
    withChevron,
    onSelectAccount
  } = props;
  const isGreaterThanTinyWidth = useWindowMinWidth(320);
  const content = /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* ItemLayout */.E7,
    {
      isSelected,
      img: isGreaterThanTinyWidth ? avatar : null,
      titleLeft: accountName,
      titleRight: isLoading ? /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Spinner */.y$, { color: "ink.text-subdued", position: "absolute", right: 0, top: "calc(50% - 8px)" }) : balanceLabel,
      captionLeft: accountAddresses
    }
  );
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Pressable */.oz,
    {
      "data-testid": settings_selectors/* SettingsSelectors */.i.SwitchAccountItemIndex.replace("[index]", `${index}`),
      onClick: onSelectAccount,
      children: withChevron ? /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Flag */.lN, { reverse: true, img: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ChevronRightIcon */.vK, { variant: "small" }), children: content }) : content
    },
    `account-${index}`
  );
}

;// CONCATENATED MODULE: ./src/app/components/account/account-name.tsx





const AccountNameLayout = (0,react.memo)(
  ({ children, isLoading, ...rest }) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* styled */.I4.span,
    {
      className: exports_web/* shimmerStyles */.cC,
      textStyle: "label.02",
      "aria-busy": isLoading,
      "data-state": isLoading ? "loading" : void 0,
      ...rest,
      children
    }
  )
);

// EXTERNAL MODULE: ./src/app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks.ts
var native_segwit_account_hooks = __webpack_require__(98775);
// EXTERNAL MODULE: ./src/app/ui/components/account/account-avatar/account-avatar.tsx
var account_avatar = __webpack_require__(74014);
;// CONCATENATED MODULE: ./src/app/ui/components/account/account-avatar/account-avatar-item.tsx




const AccountAvatarItem = (0,react.memo)(({ name, publicKey, index }) => {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(account_avatar/* AccountAvatar */.h, { index, name, publicKey });
});

;// CONCATENATED MODULE: ./src/app/features/dialogs/switch-account-dialog/components/switch-account-list-item.tsx













const SwitchAccountListItem = (0,react.memo)(
  ({ handleClose, currentAccountIndex, index }) => {
    const stacksAccounts = (0,stacks_account_hooks/* useStacksAccounts */.Lh)();
    const stxAddress = stacksAccounts[index]?.address || "";
    const bitcoinSigner = (0,native_segwit_account_hooks/* useNativeSegwitSigner */.KL)(index);
    const btcAddress = bitcoinSigner?.(0).address || "";
    const { isLoading, setIsLoading, setIsIdle } = useLoading(
      "SWITCH_ACCOUNTS" + stxAddress || 0
    );
    const { handleSwitchAccount } = useSwitchAccount(handleClose);
    const { data: name = "", isFetching: isFetchingBnsName } = (0,use_account_names/* useAccountDisplayName */.o)({
      address: stxAddress,
      index
    });
    const handleClick = async () => {
      setIsLoading();
      setTimeout(async () => {
        await handleSwitchAccount(index);
        setIsIdle();
      }, 80);
    };
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      AccountListItemLayout,
      {
        accountAddresses: /* @__PURE__ */ (0,jsx_runtime.jsx)(AcccountAddresses, { index }),
        accountName: /* @__PURE__ */ (0,jsx_runtime.jsx)(AccountNameLayout, { isLoading: isFetchingBnsName, children: name }),
        avatar: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          AccountAvatarItem,
          {
            index,
            publicKey: stacksAccounts[index]?.stxPublicKey || "",
            name
          }
        ),
        balanceLabel: /* @__PURE__ */ (0,jsx_runtime.jsx)(AccountTotalBalance, { stxAddress, btcAddress }),
        index,
        isLoading,
        isSelected: currentAccountIndex === index,
        onSelectAccount: handleClick
      }
    );
  }
);

;// CONCATENATED MODULE: ./src/app/features/dialogs/switch-account-dialog/switch-account-dialog.tsx














const SwitchAccountSheet = (0,react.memo)(({ isShowing, onClose }) => {
  const currentAccountIndex = (0,accounts_account/* useCurrentAccountIndex */.IR)();
  const createAccount = useCreateAccount();
  const { whenWallet } = (0,use_wallet_type/* useWalletType */.t)();
  const stacksAccounts = (0,stacks_account_hooks/* useStacksAccounts */.Lh)();
  const bitcoinAccounts = useFilteredBitcoinAccounts();
  const btcAddressesNum = bitcoinAccounts.length / 2;
  const stacksAddressesNum = stacksAccounts.length;
  const onCreateAccount = () => {
    createAccount();
    onClose();
  };
  if (isShowing && stacksAddressesNum === 0 && btcAddressesNum === 0) {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(AccountListUnavailable, {});
  }
  if (!isShowing) return null;
  const accountNum = stacksAddressesNum || btcAddressesNum;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Sheet */.cj,
    {
      header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, { title: "Select account" }),
      isShowing,
      onClose,
      wrapChildren: false,
      footer: whenWallet({
        software: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { fullWidth: true, onClick: () => onCreateAccount(), children: "Create new account" }),
        ledger: null
      }),
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(VirtuosoWrapper, { hasFooter: whenWallet({ ledger: false, software: true }), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        react_virtuoso_dist/* Virtuoso */.aY,
        {
          style: {
            height: "100%"
          },
          initialTopMostItemIndex: whenWallet({ ledger: 0, software: currentAccountIndex }),
          totalCount: accountNum,
          itemContent: (index) => /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { py: "space.03", px: "space.05", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
            SwitchAccountListItem,
            {
              handleClose: onClose,
              currentAccountIndex,
              index
            }
          ) }, index)
        }
      ) })
    }
  );
});

// EXTERNAL MODULE: ./src/app/query/common/remote-config/remote-config.query.ts
var remote_config_query = __webpack_require__(94967);
// EXTERNAL MODULE: ./src/app/store/settings/settings.actions.ts
var settings_actions = __webpack_require__(18025);
// EXTERNAL MODULE: ./src/app/store/settings/settings.selectors.ts
var settings_settings_selectors = __webpack_require__(73448);
;// CONCATENATED MODULE: ./src/app/features/hiro-messages/components/in-app-message-item.tsx




function HiroMessageItem(props) {
  const { id, title, text, learnMoreUrl, learnMoreText, img, imgWidth, dismissible, onDismiss } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { position: "relative", py: "space.05", px: "space.05", width: "100%", justifyContent: "center", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Flex */.so,
    {
      pos: "relative",
      flexDirection: ["column", null, "row"],
      width: "100%",
      maxWidth: { base: "100vw", md: "fullPageMaxWidth" },
      px: ["unset", "space.05"],
      children: [
        dismissible && /* @__PURE__ */ (0,jsx_runtime.jsx)(
          jsx/* styled */.I4.button,
          {
            position: "absolute",
            p: "space.02",
            top: ["-16px", null, "50%"],
            mt: ["space.02", null, "unset"],
            transform: [null, null, "translateY(-50%)"],
            right: ["-space.02", "space.04"],
            _focus: { outline: "1px solid white" },
            onClick: () => onDismiss(id),
            children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CloseIcon */.US, {})
          }
        ),
        img && /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mb: ["space.03", null, "unset"], children: /* @__PURE__ */ (0,jsx_runtime.jsx)("img", { width: imgWidth, src: img }) }),
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Box */.az, { children: [
          title && /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.02", display: "block", lineHeight: "inherit", children: title }),
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(
            jsx/* styled */.I4.span,
            {
              textStyle: "label.02",
              display: "inline-block",
              fontSize: "inherit",
              mr: "space.07",
              lineHeight: "inherit",
              children: [
                text,
                learnMoreUrl && /* @__PURE__ */ (0,jsx_runtime.jsx)(
                  jsx/* styled */.I4.a,
                  {
                    textStyle: "label.02",
                    textDecoration: "underline",
                    href: learnMoreUrl,
                    whiteSpace: "nowrap",
                    target: "_blank",
                    ml: "space.01",
                    children: learnMoreText ? learnMoreText : "Learn more \u2192"
                  }
                )
              ]
            }
          )
        ] })
      ]
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/features/hiro-messages/in-app-messages.tsx










function InAppMessages(props) {
  const location = (0,react_router_dist/* useLocation */.zy)();
  const messages = (0,remote_config_query/* useRemoteLeatherMessages */.pr)();
  const { mode } = (0,networks_hooks/* useCurrentNetworkState */.uZ)();
  const dismissMessage = (0,settings_actions/* useDismissMessage */.HM)();
  const dismissedIds = (0,settings_settings_selectors/* useDismissedMessageIds */.co)();
  if (location.pathname !== route_urls/* RouteUrls */.W.Home || messages.length === 0) return null;
  const firstMessage = messages.filter((msg) => !dismissedIds.includes(msg.id))[0];
  if (!firstMessage) return null;
  if (firstMessage.chainTarget !== "all" && firstMessage.chainTarget !== mode) {
    return null;
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { bg: "ink.text-non-interactive", ...props, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(HiroMessageItem, { onDismiss: (messageId) => dismissMessage(messageId), ...firstMessage }) });
}

// EXTERNAL MODULE: ./src/shared/message-types.ts
var message_types = __webpack_require__(43852);
;// CONCATENATED MODULE: ./src/app/routes/hooks/use-on-change-account.ts



function useOnChangeAccount(handler) {
  (0,use_on_mount/* useOnMount */.y)(() => {
    chrome.runtime.onMessage.addListener((message, _sender, sendResponse) => {
      if (message?.method === message_types/* InternalMethods */.gc.AccountChanged) handler(message.payload.accountIndex);
      sendResponse();
    });
  });
}

// EXTERNAL MODULE: ./src/app/store/software-keys/software-key.actions.ts + 7 modules
var software_key_actions = __webpack_require__(83102);
;// CONCATENATED MODULE: ./src/app/routes/hooks/use-on-sign-out.ts



function useOnSignOut(handler) {
  (0,use_on_mount/* useOnMount */.y)(() => {
    chrome.runtime.onMessage.addListener((message, _sender, sendResponse) => {
      if (message?.method === software_key_actions/* keyActions */.d.signOut.type) handler();
      sendResponse();
    });
  });
}

// EXTERNAL MODULE: ./src/app/store/in-memory-key/in-memory-key.actions.ts
var in_memory_key_actions = __webpack_require__(74285);
;// CONCATENATED MODULE: ./src/app/routes/hooks/use-on-wallet-lock.ts



function useOnWalletLock(handler) {
  (0,use_on_mount/* useOnMount */.y)(() => {
    chrome.runtime.onMessage.addListener((message, _sender, sendResponse) => {
      if (message?.method === in_memory_key_actions/* inMemoryKeyActions */.b.lockWallet.type) handler();
      sendResponse();
    });
  });
}

// EXTERNAL MODULE: ./src/app/store/chains/stx-chain.slice.ts
var stx_chain_slice = __webpack_require__(61803);
;// CONCATENATED MODULE: ./src/shared/utils/get-active-tab.ts

function getActiveTab() {
  return new Promise(
    (resolve) => chrome.tabs.query({ currentWindow: true, active: true }, (tabs) => resolve(tabs[0]))
  );
}

// EXTERNAL MODULE: ./src/app/common/utils.ts
var common_utils = __webpack_require__(81398);
;// CONCATENATED MODULE: ./src/app/features/popup-send-form-restoration/use-restore-form-state.ts





let currentTabId = 0;
async function run() {
  const tab = await getActiveTab();
  if (!tab) return;
  currentTabId = tab.id ?? 0;
}
void run();
function useRestoreFormState() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  (0,use_on_mount/* useOnMount */.y)(async () => {
    if (!(0,common_utils/* isPopupMode */.GD)() || !currentTabId || !chrome.storage.session) return;
    const key = "form-state-" + currentTabId.toString();
    const state = await chrome.storage.session.get("form-state-" + currentTabId.toString());
    const persistedState = state[key];
    if (!persistedState || !persistedState.symbol) return;
    navigate("send/" + persistedState.symbol, { state: persistedState });
  });
}

;// CONCATENATED MODULE: ./src/app/features/container/container.tsx

















function Container() {
  const { pathname: locationPathname } = (0,react_router_dist/* useLocation */.zy)();
  const pathname = locationPathname;
  const [isShowingSwitchAccount, setIsShowingSwitchAccount] = (0,react.useState)(false);
  const dispatch = (0,store/* useAppDispatch */.jL)();
  const hasStateRehydrated = (0,store/* useHasStateRehydrated */.nt)();
  useOnWalletLock(() => (0,utils/* closeWindow */.Do)());
  useOnSignOut(() => (0,utils/* closeWindow */.Do)());
  useRestoreFormState();
  useInitalizeAnalytics();
  useHandleQueuedBackgroundAnalytics();
  useOnChangeAccount((index) => dispatch(stx_chain_slice/* stxChainSlice */.B.actions.switchAccount(index)));
  (0,react.useEffect)(() => void analytics/* analytics */.zS.page("view", `${pathname}`), [pathname]);
  if (!hasStateRehydrated) return /* @__PURE__ */ (0,jsx_runtime.jsx)(LoadingSpinner, {});
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    isShowingSwitchAccount && /* @__PURE__ */ (0,jsx_runtime.jsx)(
      SwitchAccountSheet,
      {
        isShowing: isShowingSwitchAccount,
        onClose: () => setIsShowingSwitchAccount(false)
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(InAppMessages, {}),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* ContainerLayout */.wg, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, { context: { isShowingSwitchAccount, setIsShowingSwitchAccount } }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/container/headers/home.header.tsx









function HomeHeader() {
  const { isShowingSwitchAccount, setIsShowingSwitchAccount } = (0,use_switch_account_sheet_context/* useSwitchAccountSheet */.A)();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(header/* Header */.Y, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    header_grid/* HeaderGrid */.O,
    {
      leftCol: /* @__PURE__ */ (0,jsx_runtime.jsx)(logo_box/* LogoBox */.L, { hideBelow: void 0 }),
      rightCol: /* @__PURE__ */ (0,jsx_runtime.jsx)(header_grid/* HeaderGridRightCol */.g, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        settings/* Settings */.w,
        {
          triggerButton: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* BarsTwoIcon */.MW, { "data-testid": settings_selectors/* SettingsSelectors */.i.SettingsMenuBtn }),
          toggleSwitchAccount: () => setIsShowingSwitchAccount(!isShowingSwitchAccount)
        }
      ) })
    }
  ) });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/lodash.get@4.4.2/node_modules/lodash.get/index.js
var lodash_get = __webpack_require__(19535);
var lodash_get_default = /*#__PURE__*/__webpack_require__.n(lodash_get);
;// CONCATENATED MODULE: ./src/app/common/hooks/use-location-state.ts





function useLocationState(propName, defaultValue) {
  const location = (0,react_router_dist/* useLocation */.zy)();
  return lodash_get_default()(location, `state.${propName}`, defaultValue);
}
function useLocationStateWithCache(propName, defaultValue) {
  const location = (0,react_router_dist/* useLocation */.zy)();
  const [value, setValue] = (0,react.useState)(defaultValue);
  const stateVal = lodash_get_default()(location, `state.${propName}`);
  (0,react.useEffect)(() => {
    if (!(0,utils_dist/* isUndefined */.b0)(stateVal)) setValue(stateVal);
  }, [location, propName, stateVal]);
  return stateVal ?? value ?? defaultValue;
}

// EXTERNAL MODULE: ./node_modules/.pnpm/bignumber.js@9.1.2/node_modules/bignumber.js/bignumber.mjs
var bignumber = __webpack_require__(98872);
// EXTERNAL MODULE: ./node_modules/.pnpm/bitcoin-address-validation@2.2.1/node_modules/bitcoin-address-validation/lib/index.esm.js
var lib_index_esm = __webpack_require__(74699);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+constants@0.12.5/node_modules/@leather.io/constants/dist/index.js
var constants_dist = __webpack_require__(87521);
;// CONCATENATED MODULE: ./src/app/common/transactions/bitcoin/fees/btc-size-fee-estimator.ts

var __defProp = Object.defineProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);

class BtcSizeFeeEstimator {
  constructor() {
    __publicField(this, "P2PKH_IN_SIZE", 148);
    __publicField(this, "P2PKH_OUT_SIZE", 34);
    __publicField(this, "P2SH_OUT_SIZE", 32);
    __publicField(this, "P2SH_P2WPKH_OUT_SIZE", 32);
    __publicField(this, "P2SH_P2WSH_OUT_SIZE", 32);
    __publicField(this, "P2SH_P2WPKH_IN_SIZE", 91);
    __publicField(this, "P2WPKH_IN_SIZE", 67.75);
    __publicField(this, "P2WPKH_OUT_SIZE", 31);
    __publicField(this, "P2WSH_OUT_SIZE", 43);
    __publicField(this, "P2TR_OUT_SIZE", 43);
    __publicField(this, "P2TR_IN_SIZE", 57.25);
    __publicField(this, "PUBKEY_SIZE", 33);
    __publicField(this, "SIGNATURE_SIZE", 72);
    __publicField(this, "SUPPORTED_INPUT_SCRIPT_TYPES", [
      "p2pkh",
      "p2sh",
      "p2sh-p2wpkh",
      "p2sh-p2wsh",
      "p2wpkh",
      "p2wsh",
      "p2tr"
    ]);
    __publicField(this, "defaultParams", {
      input_count: 0,
      input_script: "p2wpkh",
      input_m: 0,
      input_n: 0,
      p2pkh_output_count: 0,
      p2sh_output_count: 0,
      p2sh_p2wpkh_output_count: 0,
      p2sh_p2wsh_output_count: 0,
      p2wpkh_output_count: 0,
      p2wsh_output_count: 0,
      p2tr_output_count: 0
    });
    __publicField(this, "params", { ...this.defaultParams });
  }
  getSizeOfScriptLengthElement(length) {
    if (length < 75) {
      return 1;
    } else if (length <= 255) {
      return 2;
    } else if (length <= 65535) {
      return 3;
    } else if (length <= 4294967295) {
      return 5;
    } else {
      throw new Error("Size of redeem script is too large");
    }
  }
  getSizeOfletInt(length) {
    if (length < 253) {
      return 1;
    } else if (length < 65535) {
      return 3;
    } else if (length < 4294967295) {
      return 5;
    } else if (new bignumber/* default */.A(length).isLessThan("18446744073709551615")) {
      return 9;
    } else {
      throw new Error("Invalid let int");
    }
  }
  getTxOverheadVBytes(input_script, input_count, output_count) {
    let witness_vbytes;
    if (input_script === "p2pkh" || input_script === "p2sh") {
      witness_vbytes = 0;
    } else {
      witness_vbytes = 0.25 + // segwit marker
      0.25 + // segwit flag
      this.getSizeOfletInt(input_count) / 4;
    }
    return 4 + // nVersion
    this.getSizeOfletInt(input_count) + // number of inputs
    this.getSizeOfletInt(output_count) + // number of outputs
    4 + // nLockTime
    witness_vbytes;
  }
  getTxOverheadExtraRawBytes(input_script, input_count) {
    let witness_vbytes;
    if (input_script === "p2pkh" || input_script === "p2sh") {
      witness_vbytes = 0;
    } else {
      witness_vbytes = 0.25 + // segwit marker
      0.25 + // segwit flag
      this.getSizeOfletInt(input_count) / 4;
    }
    return witness_vbytes * 3;
  }
  prepareParams(opts) {
    opts = opts || Object.assign(this.defaultParams);
    const input_count = opts.input_count || this.defaultParams.input_count;
    if (!Number.isInteger(input_count) || input_count < 0) {
      throw new Error("expecting positive input count, got: " + input_count);
    }
    const input_script = opts.input_script || this.defaultParams.input_script;
    if (this.SUPPORTED_INPUT_SCRIPT_TYPES.indexOf(input_script) === -1) {
      throw new Error("Not supported input script type");
    }
    const input_m = opts.input_m || this.defaultParams.input_m;
    if (!Number.isInteger(input_m) || input_m < 0) {
      throw new Error("expecting positive signature count");
    }
    const input_n = opts.input_n || this.defaultParams.input_n;
    if (!Number.isInteger(input_n) || input_n < 0) {
      throw new Error("expecting positive pubkey count");
    }
    const p2pkh_output_count = opts.p2pkh_output_count || this.defaultParams.p2pkh_output_count;
    if (!Number.isInteger(p2pkh_output_count) || p2pkh_output_count < 0) {
      throw new Error("expecting positive p2pkh output count");
    }
    const p2sh_output_count = opts.p2sh_output_count || this.defaultParams.p2sh_output_count;
    if (!Number.isInteger(p2sh_output_count) || p2sh_output_count < 0) {
      throw new Error("expecting positive p2sh output count");
    }
    const p2sh_p2wpkh_output_count = opts.p2sh_p2wpkh_output_count || this.defaultParams.p2sh_p2wpkh_output_count;
    if (!Number.isInteger(p2sh_p2wpkh_output_count) || p2sh_p2wpkh_output_count < 0) {
      throw new Error("expecting positive p2sh-p2wpkh output count");
    }
    const p2sh_p2wsh_output_count = opts.p2sh_p2wsh_output_count || this.defaultParams.p2sh_p2wsh_output_count;
    if (!Number.isInteger(p2sh_p2wsh_output_count) || p2sh_p2wsh_output_count < 0) {
      throw new Error("expecting positive p2sh-p2wsh output count");
    }
    const p2wpkh_output_count = opts.p2wpkh_output_count || this.defaultParams.p2wpkh_output_count;
    if (!Number.isInteger(p2wpkh_output_count) || p2wpkh_output_count < 0) {
      throw new Error("expecting positive p2wpkh output count");
    }
    const p2wsh_output_count = opts.p2wsh_output_count || this.defaultParams.p2wsh_output_count;
    if (!Number.isInteger(p2wsh_output_count) || p2wsh_output_count < 0) {
      throw new Error("expecting positive p2wsh output count");
    }
    const p2tr_output_count = opts.p2tr_output_count || this.defaultParams.p2tr_output_count;
    if (!Number.isInteger(p2tr_output_count) || p2tr_output_count < 0) {
      throw new Error("expecting positive p2tr output count");
    }
    this.params = {
      input_count,
      input_script,
      input_m,
      input_n,
      p2pkh_output_count,
      p2sh_output_count,
      p2sh_p2wpkh_output_count,
      p2sh_p2wsh_output_count,
      p2wpkh_output_count,
      p2wsh_output_count,
      p2tr_output_count
    };
    return this.params;
  }
  getOutputCount() {
    return this.params.p2pkh_output_count + this.params.p2sh_output_count + this.params.p2sh_p2wpkh_output_count + this.params.p2sh_p2wsh_output_count + this.params.p2wpkh_output_count + this.params.p2wsh_output_count + this.params.p2tr_output_count;
  }
  getSizeBasedOnInputType() {
    let inputSize = 0;
    let inputWitnessSize = 0;
    let redeemScriptSize;
    switch (this.params.input_script) {
      case "p2pkh":
        inputSize = this.P2PKH_IN_SIZE;
        break;
      case "p2sh-p2wpkh":
        inputSize = this.P2SH_P2WPKH_IN_SIZE;
        inputWitnessSize = 107;
        break;
      case "p2wpkh":
        inputSize = this.P2WPKH_IN_SIZE;
        inputWitnessSize = 107;
        break;
      case "p2tr":
        inputSize = this.P2TR_IN_SIZE;
        inputWitnessSize = 65;
        break;
      case "p2sh":
        redeemScriptSize = 1 + // OP_M
        this.params.input_n * (1 + this.PUBKEY_SIZE) + // OP_PUSH33 <pubkey>
        1 + // OP_N
        1;
        const scriptSigSize = 1 + // size(0)
        this.params.input_m * (1 + this.SIGNATURE_SIZE) + // size(SIGNATURE_SIZE) + signature
        this.getSizeOfScriptLengthElement(redeemScriptSize) + redeemScriptSize;
        inputSize = 32 + 4 + this.getSizeOfletInt(scriptSigSize) + scriptSigSize + 4;
        break;
      case "p2sh-p2wsh":
      case "p2wsh":
        redeemScriptSize = 1 + // OP_M
        this.params.input_n * (1 + this.PUBKEY_SIZE) + // OP_PUSH33 <pubkey>
        1 + // OP_N
        1;
        inputWitnessSize = 1 + // size(0)
        this.params.input_m * (1 + this.SIGNATURE_SIZE) + // size(SIGNATURE_SIZE) + signature
        this.getSizeOfScriptLengthElement(redeemScriptSize) + redeemScriptSize;
        inputSize = 36 + // outpoint (spent UTXO ID)
        inputWitnessSize / 4 + // witness program
        4;
        if (this.params.input_script === "p2sh-p2wsh") {
          inputSize += 32 + 3;
        }
    }
    return {
      inputSize,
      inputWitnessSize
    };
  }
  calcTxSize(opts) {
    this.prepareParams(opts);
    const output_count = this.getOutputCount();
    const { inputSize, inputWitnessSize } = this.getSizeBasedOnInputType();
    const txVBytes = this.getTxOverheadVBytes(this.params.input_script, this.params.input_count, output_count) + inputSize * this.params.input_count + this.P2PKH_OUT_SIZE * this.params.p2pkh_output_count + this.P2SH_OUT_SIZE * this.params.p2sh_output_count + this.P2SH_P2WPKH_OUT_SIZE * this.params.p2sh_p2wpkh_output_count + this.P2SH_P2WSH_OUT_SIZE * this.params.p2sh_p2wsh_output_count + this.P2WPKH_OUT_SIZE * this.params.p2wpkh_output_count + this.P2WSH_OUT_SIZE * this.params.p2wsh_output_count + this.P2TR_OUT_SIZE * this.params.p2tr_output_count;
    const txBytes = this.getTxOverheadExtraRawBytes(this.params.input_script, this.params.input_count) + txVBytes + inputWitnessSize * this.params.input_count;
    const txWeight = txVBytes * 4;
    return { txVBytes, txBytes, txWeight };
  }
  estimateFee(vbyte, satVb) {
    if (isNaN(vbyte) || isNaN(satVb)) {
      throw new Error("Parameters should be numbers");
    }
    return vbyte * satVb;
  }
  formatFeeRange(fee, multiplier) {
    if (isNaN(fee) || isNaN(multiplier)) {
      throw new Error("Parameters should be numbers");
    }
    if (multiplier < 0) {
      throw new Error("Multiplier cant be negative");
    }
    const multipliedFee = fee * multiplier;
    return fee - multipliedFee + " - " + (fee + multipliedFee);
  }
}

;// CONCATENATED MODULE: ./src/app/common/transactions/bitcoin/utils.ts






function containsTaprootInput(tx) {
  return tx.vin.some((input) => input.prevout.scriptpubkey_type === "v1_p2tr");
}
function filterUneconomicalUtxos({
  utxos,
  feeRate,
  recipients
}) {
  const { spendableAmount: fullSpendableAmount } = getSpendableAmount({
    utxos,
    feeRate,
    recipients
  });
  const filteredUtxos = utxos.filter((utxo) => utxo.value >= constants_dist/* BTC_P2WPKH_DUST_AMOUNT */.HR).filter((utxo) => {
    const { spendableAmount } = getSpendableAmount({
      utxos: utxos.filter((u) => u.txid !== utxo.txid),
      feeRate,
      recipients
    });
    return spendableAmount.toNumber() < fullSpendableAmount.toNumber();
  });
  return filteredUtxos;
}
function getBitcoinTxSizeEstimation(payload) {
  const { inputCount, recipient, outputCount } = payload;
  const addressInfo = (0,lib_index_esm/* validate */.tf)(recipient) ? (0,lib_index_esm/* getAddressInfo */.t6)(recipient) : null;
  const outputAddressTypeWithFallback = addressInfo ? addressInfo.type : "p2wpkh";
  const txSizer = new BtcSizeFeeEstimator();
  const sizeInfo = txSizer.calcTxSize({
    // Only p2wpkh is supported by the wallet
    input_script: "p2wpkh",
    input_count: inputCount,
    // From the address of the recipient, we infer the output type
    [outputAddressTypeWithFallback + "_output_count"]: outputCount
  });
  return sizeInfo;
}
function getRecipientAddressFromOutput(vout, currentBitcoinAddress) {
  return vout.find((output) => output.scriptpubkey_address !== currentBitcoinAddress)?.scriptpubkey_address;
}
const getBitcoinTxCaption = (transaction) => transaction ? (0,utils_dist/* truncateMiddle */.kU)(transaction.txid, 4) : "";
const transactionsSentByAddress = (address, transaction) => transaction.vin.filter((input) => input.prevout.scriptpubkey_address === address);
const transactionsReceivedByAddress = (address, transaction) => transaction.vout.filter((output) => output.scriptpubkey_address === address);
function isBitcoinTxInbound(address, transaction) {
  const inputs = transactionsSentByAddress(address, transaction);
  const outputs = transactionsReceivedByAddress(address, transaction);
  if (inputs.length && outputs.length) return false;
  if (inputs.length) return false;
  return true;
}
function getBitcoinTxValue(address, transaction) {
  if (!transaction) return "";
  const inputs = transactionsSentByAddress(address, transaction);
  const outputs = transactionsReceivedByAddress(address, transaction);
  const vinPrevoutValues = inputs.map((vin) => vin.prevout.value);
  const voutValues = outputs.map((vout) => vout.value);
  const totalInputValue = (0,utils_dist/* satToBtc */.VK)((0,utils_dist/* sumNumbers */.Ye)(vinPrevoutValues));
  const totalOutputValue = (0,utils_dist/* satToBtc */.VK)((0,utils_dist/* sumNumbers */.Ye)(voutValues));
  const totalInputValueWithSubtractedOutputChange = totalInputValue.minus(totalOutputValue);
  if (inputs.length && outputs.length)
    return "-" + totalInputValueWithSubtractedOutputChange.toString();
  if (inputs.length) return "-" + totalInputValue.toString();
  if (outputs.length) return totalOutputValue.toString();
  return "";
}
function getSpendableAmount({
  utxos,
  feeRate,
  recipients
}) {
  const balance = utxos.map((utxo) => utxo.value).reduce((prevVal, curVal) => prevVal + curVal, 0);
  const size = getSizeInfo({
    inputLength: utxos.length,
    recipients
  });
  const fee = Math.ceil(size.txVBytes * feeRate);
  const bigNumberBalance = (0,bignumber/* default */.A)(balance);
  return {
    spendableAmount: bignumber/* default */.A.max(0, bigNumberBalance.minus(fee)),
    fee
  };
}
function getSizeInfo(payload) {
  const { inputLength, recipients, isSendMax } = payload;
  const validAddressesInfo = recipients.map((recipient) => (0,lib_index_esm/* validate */.tf)(recipient.address) && (0,lib_index_esm/* getAddressInfo */.t6)(recipient.address)).filter(Boolean);
  function getTxOutputsLengthByPaymentType() {
    return validAddressesInfo.reduce(
      (acc, { type }) => {
        acc[type] = (acc[type] || 0) + 1;
        return acc;
      },
      {}
    );
  }
  const outputTypesCount = getTxOutputsLengthByPaymentType();
  if (!isSendMax) {
    outputTypesCount[lib_index_esm/* AddressType */.RX.p2wpkh] = (outputTypesCount[lib_index_esm/* AddressType */.RX.p2wpkh] || 0) + 1;
  }
  const outputsData = Object.entries(outputTypesCount).reduce(
    (acc, [type, count]) => {
      acc[type + "_output_count"] = count;
      return acc;
    },
    {}
  );
  const txSizer = new BtcSizeFeeEstimator();
  const sizeInfo = txSizer.calcTxSize({
    input_script: "p2wpkh",
    input_count: inputLength,
    ...outputsData
  });
  return sizeInfo;
}

;// CONCATENATED MODULE: ./src/app/common/transactions/bitcoin/coinselect/local-coin-selection.ts






class InsufficientFundsError extends Error {
  constructor() {
    super("Insufficient funds");
  }
}
function getUtxoTotal(utxos) {
  return (0,utils_dist/* sumNumbers */.Ye)(utxos.map((utxo) => utxo.value));
}
function determineUtxosForSpendAll({
  feeRate,
  recipients,
  utxos
}) {
  recipients.forEach((recipient) => {
    if (!(0,lib_index_esm/* validate */.tf)(recipient.address))
      throw new Error("Cannot calculate spend of invalid address type");
  });
  const filteredUtxos = filterUneconomicalUtxos({ utxos, feeRate, recipients });
  const sizeInfo = getSizeInfo({
    inputLength: filteredUtxos.length,
    isSendMax: true,
    recipients
  });
  const outputs = recipients.map(({ address, amount }) => ({
    value: BigInt(amount.amount.toNumber()),
    address
  }));
  const fee = Math.ceil(sizeInfo.txVBytes * feeRate);
  return {
    inputs: filteredUtxos,
    outputs,
    size: sizeInfo.txVBytes,
    fee
  };
}
function determineUtxosForSpend({ feeRate, recipients, utxos }) {
  recipients.forEach((recipient) => {
    if (!(0,lib_index_esm/* validate */.tf)(recipient.address))
      throw new Error("Cannot calculate spend of invalid address type");
  });
  const filteredUtxos = filterUneconomicalUtxos({
    utxos: utxos.sort((a, b) => b.value - a.value),
    feeRate,
    recipients
  });
  if (!filteredUtxos.length) throw new InsufficientFundsError();
  const amount = (0,utils_dist/* sumMoney */.M9)(recipients.map((recipient) => recipient.amount));
  const neededUtxos = [filteredUtxos[0]];
  function estimateTransactionSize() {
    return getSizeInfo({
      inputLength: neededUtxos.length,
      recipients
    });
  }
  function hasSufficientUtxosForTx() {
    const txEstimation = estimateTransactionSize();
    const neededAmount = new bignumber/* default */.A(txEstimation.txVBytes * feeRate).plus(amount.amount);
    return getUtxoTotal(neededUtxos).isGreaterThanOrEqualTo(neededAmount);
  }
  function getRemainingUnspentUtxos() {
    return filteredUtxos.filter((utxo) => !neededUtxos.includes(utxo));
  }
  while (!hasSufficientUtxosForTx()) {
    const [nextUtxo] = getRemainingUnspentUtxos();
    if (!nextUtxo) throw new InsufficientFundsError();
    neededUtxos.push(nextUtxo);
  }
  const fee = Math.ceil(
    new bignumber/* default */.A(estimateTransactionSize().txVBytes).multipliedBy(feeRate).toNumber()
  );
  const changeAmount = BigInt(getUtxoTotal(neededUtxos).toString()) - BigInt(amount.amount.toNumber()) - BigInt(fee);
  const changeUtxos = changeAmount > constants_dist/* BTC_P2WPKH_DUST_AMOUNT */.HR ? [
    {
      value: changeAmount
    }
  ] : [];
  const outputs = [
    ...recipients.map(({ address, amount: amount2 }) => ({
      value: BigInt(amount2.amount.toNumber()),
      address
    })),
    ...changeUtxos
  ];
  return {
    filteredUtxos,
    inputs: neededUtxos,
    outputs,
    size: estimateTransactionSize().txVBytes,
    fee,
    ...estimateTransactionSize()
  };
}

;// CONCATENATED MODULE: ./src/app/components/bitcoin-custom-fee/bitcoin-custom-fee-fiat.tsx



function BitcoinCustomFeeFiat({ feeInBtc, fiatFeeValue }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { justifyContent: "space-between", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { color: "ink.text-subdued", textStyle: "body.02", children: fiatFeeValue }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.span, { color: "ink.text-subdued", textStyle: "body.02", children: [
      feeInBtc,
      " BTC"
    ] })
  ] });
}

;// CONCATENATED MODULE: ./src/app/query/bitcoin/address/utxos-by-address.hooks.ts



const defaultArgs = {
  filterInscriptionUtxos: true,
  filterPendingTxsUtxos: true,
  filterRunesUtxos: true
};
function useCurrentNativeSegwitUtxos(args = defaultArgs) {
  const { filterInscriptionUtxos, filterPendingTxsUtxos, filterRunesUtxos } = args;
  const nativeSegwitSigner = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSigner */.sz)();
  const address = nativeSegwitSigner.address;
  return (0,query_dist/* useNativeSegwitUtxosByAddress */.es9)({
    address,
    filterInscriptionUtxos,
    filterPendingTxsUtxos,
    filterRunesUtxos
  });
}

;// CONCATENATED MODULE: ./src/app/components/bitcoin-custom-fee/hooks/use-bitcoin-custom-fee.tsx






const MAX_FEE_RATE_MULTIPLIER = 50;
function useBitcoinCustomFee({ isSendingMax, recipients }) {
  const { data: utxos = [] } = useCurrentNativeSegwitUtxos();
  const btcMarketData = (0,query_dist/* useCryptoCurrencyMarketDataMeanAverage */.UoM)("BTC");
  return (0,react.useCallback)(
    (feeRate) => {
      if (!feeRate || !utxos.length) return { fee: 0, fiatFeeValue: "" };
      const determineUtxosArgs = {
        recipients,
        utxos,
        feeRate
      };
      const { fee } = isSendingMax ? determineUtxosForSpendAll(determineUtxosArgs) : determineUtxosForSpend(determineUtxosArgs);
      return {
        fee,
        fiatFeeValue: `~ ${(0,utils_dist/* i18nFormatCurrency */.Lx)(
          (0,utils_dist/* baseCurrencyAmountInQuote */.uE)((0,utils_dist/* createMoney */.j6)(Math.ceil(fee), "BTC"), btcMarketData)
        )}`
      };
    },
    [utxos, isSendingMax, recipients, btcMarketData]
  );
}

;// CONCATENATED MODULE: ./src/app/components/bitcoin-custom-fee/bitcoin-custom-fee-input.tsx












const feeInputLabel = "sats/vB";
function BitcoinCustomFeeInput({
  onClick,
  isSendingMax,
  recipients,
  hasInsufficientBalanceError,
  setCustomFeeInitialValue,
  customFeeInitialValue
}) {
  const [field] = (0,formik_esm/* useField */.Mt)("feeRate");
  const [feeValue, setFeeValue] = (0,react.useState)(null);
  const getCustomFeeValues = useBitcoinCustomFee({
    isSendingMax,
    recipients
  });
  const [unknownError, setUnknownError] = (0,react.useState)(false);
  const [customInsufficientBalanceError, setCustomInsufficientBalanceError] = (0,react.useState)(false);
  const hasError = hasInsufficientBalanceError || unknownError || customInsufficientBalanceError;
  const errorMessage = hasInsufficientBalanceError || customInsufficientBalanceError ? "Insufficient funds" : "Unknown error";
  function processFeeValue(feeRate) {
    try {
      const feeValues = getCustomFeeValues(Number(feeRate));
      setFeeValue(feeValues);
      setUnknownError(false);
      setCustomInsufficientBalanceError(false);
    } catch (err) {
      if (err instanceof InsufficientFundsError) {
        return setCustomInsufficientBalanceError(true);
      }
      setUnknownError(true);
    }
  }
  function onChange(e) {
    const value = e.target.value;
    setCustomFeeInitialValue?.(e.target.value);
    processFeeValue(value);
  }
  (0,use_on_mount/* useOnMount */.y)(() => {
    processFeeValue(customFeeInitialValue);
  });
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.05", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Input */.pd.Root, { hasError, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Input */.pd.Label, { children: feeInputLabel }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* Input */.pd.Field,
          {
            onClick,
            ...field,
            onChange: (e) => {
              field.onChange(e);
              onChange?.(e);
            }
          }
        )
      ] }),
      hasError && /* @__PURE__ */ (0,jsx_runtime.jsx)(ErrorLabel, { children: errorMessage })
    ] }),
    !hasError && feeValue && /* @__PURE__ */ (0,jsx_runtime.jsx)(
      BitcoinCustomFeeFiat,
      {
        feeInBtc: (0,utils_dist/* satToBtc */.VK)(feeValue.fee).toString(),
        fiatFeeValue: feeValue.fiatFeeValue
      }
    )
  ] });
}

// EXTERNAL MODULE: ./src/app/common/utils/open-in-new-tab.ts
var open_in_new_tab = __webpack_require__(23432);
;// CONCATENATED MODULE: ./src/app/common/hooks/use-bitcoin-explorer-link.ts





function useBitcoinExplorerLink() {
  const { chain } = (0,networks_hooks/* useCurrentNetworkState */.uZ)();
  const { bitcoin } = chain;
  const handleOpenBitcoinTxLink = (0,react.useCallback)(
    ({ txid }) => {
      (0,open_in_new_tab/* openInNewTab */.V)((0,common_utils/* makeBitcoinTxExplorerLink */.gd)({ txid, bitcoin }));
    },
    [bitcoin]
  );
  return {
    handleOpenBitcoinTxLink
  };
}

;// CONCATENATED MODULE: ./src/app/components/stacks-transaction-item/increase-fee-button.tsx




function IncreaseFeeButton(props) {
  const { isEnabled, isSelected, onIncreaseFee } = props;
  const isActive = isEnabled && !isSelected;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* styled */.I4.button,
    {
      _hover: { color: "ink.text-subdued" },
      bg: "ink.background-primary",
      onClick: (e) => {
        onIncreaseFee();
        e.stopPropagation();
      },
      opacity: !isActive ? 0 : 1,
      pointerEvents: !isActive ? "none" : "all",
      position: "relative",
      px: "space.02",
      rounded: "xs",
      zIndex: 999,
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { gap: "space.01", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ChevronsRightIcon */.Wo, { color: "stacks", variant: "small" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.03", children: "Increase fee" })
      ] })
    }
  );
}

// EXTERNAL MODULE: ./src/app/ui/components/tooltip/basic-tooltip.tsx + 1 modules
var basic_tooltip = __webpack_require__(50452);
;// CONCATENATED MODULE: ./src/app/components/transaction/transaction-title.tsx







function TransactionTitle(props) {
  const { title } = props;
  const ref = (0,react.useRef)(null);
  const element = ref.current;
  const [isEllipsisActive, setIsEllipsisActive] = (0,react.useState)(
    element?.scrollWidth > element?.clientWidth
  );
  const onResize = () => setIsEllipsisActive(element?.scrollWidth > element?.clientWidth);
  useOnResizeListener(onResize);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(basic_tooltip/* BasicTooltip */.G, { disabled: !isEllipsisActive, label: title, side: "top", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Title */.hE,
    {
      overflow: "hidden",
      ref,
      textOverflow: "ellipsis",
      textStyle: "label.02",
      whiteSpace: "nowrap",
      children: (0,utils_dist/* spamFilter */.sc)(title)
    }
  ) });
}

// EXTERNAL MODULE: ./src/app/components/privacy/private-text.layout.tsx
var private_text_layout = __webpack_require__(76094);
;// CONCATENATED MODULE: ./src/app/components/transaction-item/transaction-item.layout.tsx





function TxValue({ txValue, isPrivate }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(private_text_layout/* PrivateTextLayout */.h, { isPrivate, textStyle: "label.02", px: "space.02", children: txValue });
}
function TransactionItemLayout({
  openTxLink,
  rightElement,
  txCaption,
  txIcon,
  txStatus,
  txTitle,
  txValue,
  isPrivate
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Pressable */.oz, { onClick: openTxLink, my: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* ItemLayout */.E7,
    {
      img: txIcon && txIcon,
      titleLeft: txTitle,
      captionLeft: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* Caption */.HL,
          {
            overflow: "hidden",
            textOverflow: "ellipsis",
            maxWidth: { base: "160px", md: "unset" },
            children: txCaption
          }
        ),
        txStatus && txStatus
      ] }),
      titleRight: /* @__PURE__ */ (0,jsx_runtime.jsx)(TxValue, { txValue, isPrivate }),
      captionRight: rightElement
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/components/bitcoin-transaction-item/bitcoin-transaction-icon.tsx





function TxStatusIcon(props) {
  const { address, tx } = props;
  if (isBitcoinTxInbound(address, tx))
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ArrowDownIcon */.ZL, { color: "ink.background-primary", variant: "small" });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ArrowUpIcon */.Kp, { color: "ink.background-primary", variant: "small" });
}
function BitcoinTransactionIcon({
  transaction,
  btcAddress,
  icon,
  ...props
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { position: "relative", children: [
    icon,
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      jsx/* Circle */.jl,
      {
        bottom: "-2px",
        right: "-9px",
        position: "absolute",
        size: "21px",
        bg: transaction.status.confirmed ? "stacks" : "yellow.action-primary-default",
        color: "ink.background-primary",
        border: "background",
        ...props,
        children: /* @__PURE__ */ (0,jsx_runtime.jsx)(TxStatusIcon, { address: btcAddress, tx: transaction })
      }
    )
  ] });
}

;// CONCATENATED MODULE: ./src/app/components/bitcoin-transaction-item/bitcoin-transaction-inscription-icon.tsx




function InscriptionIcon({ inscription, ...rest }) {
  switch (inscription.mimeType) {
    case "image":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        jsx/* Circle */.jl,
        {
          bg: "stacks",
          color: "ink.background-primary",
          flexShrink: 0,
          position: "relative",
          size: "xl",
          ...rest,
          children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
            "img",
            {
              src: inscription.src,
              style: {
                width: "100%",
                height: "100%",
                aspectRatio: "1 / 1",
                objectFit: "cover",
                borderRadius: "6px"
              }
            }
          )
        }
      );
    default:
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* OrdinalAvatarIcon */.ul, {});
  }
}

;// CONCATENATED MODULE: ./src/app/components/bitcoin-transaction-item/bitcoin-transaction-status.tsx




const pendingWaitingMessage = "This transaction is waiting to be confirmed. The average (median) confirmation time on Bitcoin is 5-10 minutes";
function BitcoinTransactionStatus({ transaction }) {
  const isPending = !transaction.status.confirmed;
  return isPending ? /* @__PURE__ */ (0,jsx_runtime.jsx)(basic_tooltip/* BasicTooltip */.G, { asChild: true, label: pendingWaitingMessage, side: "bottom", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { color: "yellow.action-primary-default", children: "Pending" }) }) : null;
}

;// CONCATENATED MODULE: ./src/app/components/bitcoin-transaction-item/bitcoin-transaction-item.tsx




















function BitcoinTransactionItem({ transaction }) {
  const { pathname } = (0,react_router_dist/* useLocation */.zy)();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const isPrivate = (0,settings_settings_selectors/* useIsPrivateMode */.cT)();
  const { data: inscriptionData } = (0,query_dist/* useInscriptionByOutput */.Kbz)(transaction);
  const bitcoinAddress = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitAddressIndexZero */.s8)();
  const { handleOpenBitcoinTxLink: handleOpenTxLink } = useBitcoinExplorerLink();
  const caption = (0,react.useMemo)(() => getBitcoinTxCaption(transaction), [transaction]);
  const value = (0,react.useMemo)(
    () => getBitcoinTxValue(bitcoinAddress, transaction),
    [bitcoinAddress, transaction]
  );
  if (!transaction) return null;
  const onIncreaseFee = () => {
    navigate(route_urls/* RouteUrls */.W.IncreaseBtcFee, { state: { btcTx: transaction } });
  };
  const openTxLink = () => {
    void analytics/* analytics */.zS.track("view_bitcoin_transaction");
    if (inscriptionData) {
      (0,open_in_new_tab/* openInNewTab */.V)(inscriptionData.id);
      return;
    }
    handleOpenTxLink({ txid: transaction?.txid || "" });
  };
  const isOriginator = !isBitcoinTxInbound(bitcoinAddress, transaction);
  const isEnabled = isOriginator && !transaction.status.confirmed && !containsTaprootInput(transaction);
  const txCaption = /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* HStack */.zt, { gap: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* BulletSeparator */.ay, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { children: caption }),
    inscriptionData ? /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { children: inscriptionData.mimeType }) : null
  ] }) });
  const title = inscriptionData ? `Ordinal inscription #${inscriptionData.number}` : "Bitcoin";
  const increaseFeeButton = /* @__PURE__ */ (0,jsx_runtime.jsx)(
    IncreaseFeeButton,
    {
      isEnabled,
      isSelected: pathname === route_urls/* RouteUrls */.W.IncreaseBtcFee,
      onIncreaseFee
    }
  );
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    TransactionItemLayout,
    {
      openTxLink,
      rightElement: isEnabled ? increaseFeeButton : void 0,
      txCaption,
      txIcon: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        BitcoinTransactionIcon,
        {
          icon: inscriptionData ? /* @__PURE__ */ (0,jsx_runtime.jsx)(InscriptionIcon, { inscription: inscriptionData }) : /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* BtcAvatarIcon */.Ev, {}),
          transaction,
          btcAddress: bitcoinAddress
        }
      ),
      txStatus: /* @__PURE__ */ (0,jsx_runtime.jsx)(BitcoinTransactionStatus, { transaction }),
      txTitle: /* @__PURE__ */ (0,jsx_runtime.jsx)(TransactionTitle, { title }),
      txValue: value,
      isPrivate
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/dialogs/increase-fee-dialog/components/increase-fee-actions.tsx






function IncreaseFeeActions(props) {
  const { isBroadcasting, isDisabled, isLoading, onCancel } = props;
  const { handleSubmit } = (0,formik_esm/* useFormikContext */.j7)();
  const { whenWallet } = (0,use_wallet_type/* useWalletType */.t)();
  const actionText = whenWallet({ ledger: "Confirm on Ledger", software: "Submit" });
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(layout/* ButtonRow */.zE, { flexDirection: "row", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { onClick: onCancel, variant: "outline", flexGrow: 1, children: "Cancel" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      exports_web/* Button */.$n,
      {
        type: "submit",
        onClick: handleSubmit,
        "aria-busy": isLoading || isBroadcasting,
        borderRadius: "sm",
        "aria-disabled": isDisabled,
        disabled: isDisabled,
        flexGrow: 1,
        children: actionText
      }
    )
  ] });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/@scure+btc-signer@1.4.0/node_modules/@scure/btc-signer/esm/transaction.js
var esm_transaction = __webpack_require__(49423);
// EXTERNAL MODULE: ./node_modules/.pnpm/@scure+btc-signer@1.4.0/node_modules/@scure/btc-signer/esm/payment.js
var payment = __webpack_require__(3721);
// EXTERNAL MODULE: ./node_modules/.pnpm/yup@1.4.0/node_modules/yup/index.esm.js
var yup_index_esm = __webpack_require__(86997);
;// CONCATENATED MODULE: ./src/app/components/bitcoin-fees-list/use-bitcoin-fees-list.ts







function getFeeForList(determineUtxosForFeeArgs, isSendingMax) {
  try {
    const { fee } = isSendingMax ? determineUtxosForSpendAll(determineUtxosForFeeArgs) : determineUtxosForSpend(determineUtxosForFeeArgs);
    return fee;
  } catch (error) {
    return null;
  }
}
function useBitcoinFeesList({
  amount,
  isSendingMax,
  recipient,
  utxos
}) {
  const { balance } = (0,btc_balance_native_segwit_hooks/* useCurrentBtcCryptoAssetBalanceNativeSegwit */.J)();
  const btcMarketData = (0,query_dist/* useCryptoCurrencyMarketDataMeanAverage */.UoM)("BTC");
  const { data: feeRates, isLoading } = (0,query_dist/* useAverageBitcoinFeeRates */._iG)();
  const feesList = (0,react.useMemo)(() => {
    function getFiatFeeValue(fee) {
      return `~ ${(0,utils_dist/* i18nFormatCurrency */.Lx)(
        (0,utils_dist/* baseCurrencyAmountInQuote */.uE)((0,utils_dist/* createMoney */.j6)(Math.ceil(fee), "BTC"), btcMarketData)
      )}`;
    }
    if (!feeRates || !utxos.length) return [];
    const determineUtxosDefaultArgs = {
      recipients: [
        { address: recipient, amount: isSendingMax ? balance.availableBalance : amount }
      ],
      utxos
    };
    const determineUtxosForHighFeeArgs = {
      ...determineUtxosDefaultArgs,
      feeRate: feeRates.fastestFee.toNumber()
    };
    const determineUtxosForStandardFeeArgs = {
      ...determineUtxosDefaultArgs,
      feeRate: feeRates.halfHourFee.toNumber()
    };
    const determineUtxosForLowFeeArgs = {
      ...determineUtxosDefaultArgs,
      feeRate: feeRates.hourFee.toNumber()
    };
    const feesArr = [];
    const highFeeValue = getFeeForList(determineUtxosForHighFeeArgs, isSendingMax);
    const standardFeeValue = getFeeForList(determineUtxosForStandardFeeArgs, isSendingMax);
    const lowFeeValue = getFeeForList(determineUtxosForLowFeeArgs, isSendingMax);
    if (highFeeValue) {
      feesArr.push({
        label: models_dist/* BtcFeeType */.wJ.High,
        value: highFeeValue,
        btcValue: (0,utils_dist/* formatMoneyPadded */.cN)((0,utils_dist/* createMoney */.j6)(highFeeValue, "BTC")),
        time: models_dist/* btcTxTimeMap */.vH.fastestFee,
        fiatValue: getFiatFeeValue(highFeeValue),
        feeRate: feeRates.fastestFee.toNumber()
      });
    }
    if (standardFeeValue) {
      feesArr.push({
        label: models_dist/* BtcFeeType */.wJ.Standard,
        value: standardFeeValue,
        btcValue: (0,utils_dist/* formatMoneyPadded */.cN)((0,utils_dist/* createMoney */.j6)(standardFeeValue, "BTC")),
        time: models_dist/* btcTxTimeMap */.vH.halfHourFee,
        fiatValue: getFiatFeeValue(standardFeeValue),
        feeRate: feeRates.halfHourFee.toNumber()
      });
    }
    if (lowFeeValue) {
      feesArr.push({
        label: models_dist/* BtcFeeType */.wJ.Low,
        value: lowFeeValue,
        btcValue: (0,utils_dist/* formatMoneyPadded */.cN)((0,utils_dist/* createMoney */.j6)(lowFeeValue, "BTC")),
        time: models_dist/* btcTxTimeMap */.vH.hourFee,
        fiatValue: getFiatFeeValue(lowFeeValue),
        feeRate: feeRates.hourFee.toNumber()
      });
    }
    return feesArr;
  }, [feeRates, utxos, recipient, isSendingMax, balance.availableBalance, amount, btcMarketData]);
  return {
    feesList,
    isLoading
  };
}

// EXTERNAL MODULE: ./src/app/store/accounts/blockchain/bitcoin/bitcoin-keychain.ts
var bitcoin_keychain = __webpack_require__(70681);
// EXTERNAL MODULE: ./src/app/store/accounts/blockchain/bitcoin/bitcoin.hooks.ts + 4 modules
var bitcoin_hooks = __webpack_require__(98271);
;// CONCATENATED MODULE: ./src/app/features/dialogs/increase-fee-dialog/hooks/use-btc-increase-fee.ts




















function useBtcIncreaseFee(btcTx) {
  const toast = (0,use_toast/* useToast */.d)();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const networkMode = (0,bitcoin_keychain/* useBitcoinScureLibNetworkConfig */.F5)();
  const { address: currentBitcoinAddress, publicKey } = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSigner */.sz)();
  const { data: utxos = [], filteredUtxosQuery } = useCurrentNativeSegwitUtxos();
  const signTransaction = (0,bitcoin_hooks/* useSignBitcoinTx */.nn)();
  const { broadcastTx, isBroadcasting } = (0,query_dist/* useBitcoinBroadcastTransaction */.Zbx)();
  const recipient = getRecipientAddressFromOutput(btcTx.vout, currentBitcoinAddress) || "";
  const sizeInfo = (0,react.useMemo)(
    () => getBitcoinTxSizeEstimation({
      inputCount: btcTx.vin.length,
      recipient,
      outputCount: btcTx.vout.length
    }),
    [btcTx.vin.length, btcTx.vout.length, recipient]
  );
  const { balance } = (0,btc_balance_native_segwit_hooks/* useBtcCryptoAssetBalanceNativeSegwit */.o)(currentBitcoinAddress);
  const sendingAmount = getBitcoinTxValue(currentBitcoinAddress, btcTx);
  const { feesList } = useBitcoinFeesList({
    amount: (0,utils_dist/* createMoney */.j6)((0,utils_dist/* btcToSat */.V7)(sendingAmount), "BTC"),
    isSendingMax: false,
    recipient,
    utxos
  });
  function generateUnsignedTx(payload) {
    const newTx = new esm_transaction/* Transaction */.ZX();
    const { vin, vout, fee: prevFee } = payload.tx;
    const p2wpkh = payment/* p2wpkh */.LY(publicKey, networkMode);
    vin.forEach((input) => {
      newTx.addInput({
        txid: input.txid,
        index: input.vout,
        sequence: input.sequence + 1,
        witnessUtxo: {
          // script = 0014 + pubKeyHash
          script: p2wpkh.script,
          amount: BigInt(input.prevout.value)
        }
      });
    });
    const newFee = Math.ceil(sizeInfo.txVBytes * Number(payload.feeRate));
    const feeDiff = newFee - prevFee;
    vout.forEach((output) => {
      if (output.scriptpubkey_address === currentBitcoinAddress) {
        const outputDiff = output.value - feeDiff;
        if (outputDiff < 0) {
          void analytics/* analytics */.zS.track("bitcoin_rbf_fee_increase_error", {
            outputDiff
          });
          throw new Error("Previous tx inputs cannot cover new fee");
        }
        newTx.addOutputAddress(currentBitcoinAddress, BigInt(outputDiff), networkMode);
        return;
      }
      newTx.addOutputAddress(recipient, BigInt(output.value), networkMode);
    });
    return newTx;
  }
  async function initiateTransaction(unsignedTx) {
    const tx = await signTransaction(unsignedTx.toPSBT());
    tx.finalize();
    await broadcastTx({
      tx: tx.hex,
      async onSuccess(txid) {
        toast.success("Fee increased successfully");
        navigate(route_urls/* RouteUrls */.W.Activity);
        void analytics/* analytics */.zS.track("increase_fee_transaction", {
          symbol: "btc",
          txid
        });
        await filteredUtxosQuery.refetch();
        void persistence/* queryClient */.q.invalidateQueries({ queryKey: ["btc-txs-by-address"] });
      },
      onError,
      delayTime: 5e3
    });
  }
  async function onSubmit(values) {
    try {
      const tx = generateUnsignedTx({ feeRate: values.feeRate, tx: btcTx });
      await initiateTransaction(tx);
    } catch (e) {
      onError(e);
    }
  }
  function onError(error) {
    const message = (0,utils_dist/* isError */.bJ)(error) ? error.message : "Unknown error";
    toast.error(message);
    navigate(route_urls/* RouteUrls */.W.Home);
  }
  const validationSchema = yup_index_esm/* object */.Ik({
    feeRate: yup_index_esm/* number */.ai().integer("Fee must be a whole number").required("Fee is required").test({
      message: "Fee rate cannot be less or equal to previous",
      test(value) {
        const bnValue = new bignumber/* default */.A(value);
        const prevFee = new bignumber/* default */.A(btcTx.fee);
        return prevFee.isLessThan(bnValue.multipliedBy(sizeInfo.txVBytes));
      }
    }).test({
      message: "Fee is too high",
      test(value) {
        const bnValue = new bignumber/* default */.A(value);
        if (feesList.length > 0 && bnValue.isGreaterThan(feesList[0].feeRate * MAX_FEE_RATE_MULTIPLIER)) {
          return false;
        }
        return bnValue.isLessThanOrEqualTo(balance.availableBalance.amount);
      }
    })
  });
  return {
    generateTx: generateUnsignedTx,
    initiateTransaction,
    isBroadcasting,
    sizeInfo,
    onSubmit,
    validationSchema,
    recipient
  };
}

;// CONCATENATED MODULE: ./src/app/features/dialogs/increase-fee-dialog/increase-btc-fee-dialog.tsx

















function IncreaseBtcFeeSheet() {
  const tx = useLocationStateWithCache("btcTx");
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const location = (0,react_router_dist/* useLocation */.zy)();
  const btcTx = tx;
  const nativeSegwitSigner = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSigner */.sz)();
  const currentBitcoinAddress = nativeSegwitSigner.address;
  const { balance } = (0,btc_balance_native_segwit_hooks/* useBtcCryptoAssetBalanceNativeSegwit */.o)(currentBitcoinAddress);
  const { isBroadcasting, sizeInfo, onSubmit, validationSchema, recipient } = useBtcIncreaseFee(btcTx);
  const btcBalance = (0,utils_dist/* formatMoney */.up)(balance.availableBalance);
  const recipients = [
    {
      address: recipient,
      amount: (0,utils_dist/* createMoney */.j6)((0,utils_dist/* btcToSat */.V7)(getBitcoinTxValue(currentBitcoinAddress, btcTx)), "BTC")
    }
  ];
  const onClose = () => {
    navigate(route_urls/* RouteUrls */.W.Home);
  };
  if (!tx) return null;
  const initialFeeRate = `${(tx.fee / sizeInfo.txVBytes).toFixed(0)}`;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    formik_esm/* Formik */.l1,
    {
      initialValues: { feeRate: initialFeeRate },
      onSubmit,
      validateOnChange: false,
      validateOnBlur: false,
      validateOnMount: false,
      validationSchema,
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* Sheet */.cj,
          {
            isShowing: location.pathname === route_urls/* RouteUrls */.W.IncreaseBtcFee,
            onClose,
            header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, { title: "Increase fee" }),
            footer: /* @__PURE__ */ (0,jsx_runtime.jsx)(
              IncreaseFeeActions,
              {
                isDisabled: isBroadcasting,
                isBroadcasting,
                onCancel: () => navigate(route_urls/* RouteUrls */.W.Home)
              }
            ),
            children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { gap: "space.05", px: "space.05", pb: "space.05", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(
              react.Suspense,
              {
                fallback: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { alignItems: "center", justifyContent: "center", p: "space.06", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Spinner */.y$, {}) }),
                children: [
                  /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { children: "If your transaction is pending for a long time, its fee might not be high enough to be included in a block. Update the fee for a higher value and try again." }),
                  /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.06", children: [
                    btcTx && /* @__PURE__ */ (0,jsx_runtime.jsx)(BitcoinTransactionItem, { transaction: btcTx }),
                    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.04", children: [
                      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { gap: "space.01", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
                        BitcoinCustomFeeInput,
                        {
                          isSendingMax: false,
                          recipients,
                          hasInsufficientBalanceError: false,
                          customFeeInitialValue: initialFeeRate
                        }
                      ) }),
                      balance && /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Caption */.HL, { children: [
                        "Balance: ",
                        btcBalance
                      ] })
                    ] })
                  ] })
                ]
              }
            ) })
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
      ] })
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/common/hooks/account/use-refresh-all-account-data.ts





function useRefreshAllAccountData() {
  const address = (0,stacks_account_hooks/* useCurrentStacksAccountAddress */.$3)();
  const { refetch } = (0,query_dist/* useGetAddressMempoolTransactionsQuery */.IMO)(address);
  return (0,react.useCallback)(
    async (ms) => {
      if (typeof ms === "number") await (0,utils_dist/* delay */.cb)(ms);
      void refetch();
    },
    [refetch]
  );
}

// EXTERNAL MODULE: ./src/app/common/stacks-utils.ts + 1 modules
var stacks_utils = __webpack_require__(40926);
;// CONCATENATED MODULE: ./src/app/common/utils/safe-handle-txid.ts

function safelyFormatHexTxid(id) {
  const prefix = "0x";
  if (id.startsWith(prefix)) return id;
  return prefix + id;
}

;// CONCATENATED MODULE: ./src/shared/error-messages.ts

var FormErrorMessages = /* @__PURE__ */ ((FormErrorMessages2) => {
  FormErrorMessages2["AdjustedFeeExceedsBalance"] = "Fee added exceeds current balance";
  FormErrorMessages2["AddressRequired"] = "Enter an address";
  FormErrorMessages2["AmountRequired"] = "Enter an amount";
  FormErrorMessages2["BnsAddressNotFound"] = "Address not found";
  FormErrorMessages2["CannotDetermineBalance"] = "Cannot determine balance";
  FormErrorMessages2["CannotDeterminePrecision"] = "Cannot determine decimal precision";
  FormErrorMessages2["CastToNumber"] = "Amount must be a `number` type, but the final value was: `NaN`";
  FormErrorMessages2["DoesNotSupportDecimals"] = "Token does not support decimal places";
  FormErrorMessages2["IncorrectNetworkAddress"] = "Address is for incorrect network";
  FormErrorMessages2["InvalidAddress"] = "Address is not valid";
  FormErrorMessages2["InsufficientBalance"] = "Insufficient balance. Available:";
  FormErrorMessages2["InsufficientFunds"] = "Insufficient funds";
  FormErrorMessages2["MemoExceedsLimit"] = "Memo must be less than 34-bytes";
  FormErrorMessages2["MustBeNumber"] = "Amount must be a number";
  FormErrorMessages2["MustBePositive"] = "Amount must be greater than zero";
  FormErrorMessages2["MustSelectAsset"] = "Select a valid token to transfer";
  FormErrorMessages2["SameAddress"] = "Cannot send to yourself";
  FormErrorMessages2["TooMuchPrecision"] = "Token can only have {decimals} decimals";
  FormErrorMessages2["NonZeroOffsetInscription"] = "Sending inscriptions at non-zero offsets is unsupported";
  FormErrorMessages2["UtxoWithMultipleInscriptions"] = "Sending inscription from utxo with multiple inscriptions is unsupported";
  FormErrorMessages2["InsufficientFundsToCoverFee"] = "Insufficient funds to cover fee. Deposit some BTC to your Native Segwit address.";
  return FormErrorMessages2;
})(FormErrorMessages || {});

;// CONCATENATED MODULE: ./src/app/common/error-formatters.ts



function formatPrecisionError(num) {
  if (!num) return FormErrorMessages.CannotDeterminePrecision;
  const error = FormErrorMessages.TooMuchPrecision;
  return error.replace("{decimals}", String(num.decimals));
}
function formatInsufficientBalanceError(sum, formatterFn) {
  if (!sum) return FormErrorMessages.CannotDetermineBalance;
  const isAmountLessThanZero = sum.amount.lt(0);
  const formattedAmount = (0,utils_dist/* isFunction */.Tn)(formatterFn) ? formatterFn(sum) : sum.amount.toString(10);
  return `${FormErrorMessages.InsufficientBalance} ${isAmountLessThanZero ? "0" : formattedAmount} ${sum.symbol}`;
}

;// CONCATENATED MODULE: ./src/app/common/validation/forms/currency-validators.ts





function currencyAmountValidator() {
  return yup_index_esm/* number */.ai().positive(FormErrorMessages.MustBePositive).typeError("Currency must be a number");
}
function currencyPrecisionValidatorFactory(precision, errorMessage) {
  return yup_index_esm/* number */.ai().required(FormErrorMessages.AmountRequired).typeError(FormErrorMessages.MustBeNumber).test({
    message: errorMessage,
    test(value) {
      if (!(0,utils_dist/* isNumber */.Et)(value)) return false;
      return (0,utils_dist/* countDecimals */.AP)(value) <= precision;
    }
  });
}
function currency_validators_btcAmountPrecisionValidator(errorMsg) {
  return currencyPrecisionValidatorFactory(constants_dist/* BTC_DECIMALS */.bv, errorMsg);
}
function stxAmountPrecisionValidator(errorMsg) {
  return currencyPrecisionValidatorFactory(constants_dist/* STX_DECIMALS */.vI, errorMsg);
}

;// CONCATENATED MODULE: ./src/app/common/validation/forms/fee-validators.ts




function feeValidatorFactory({
  availableBalance,
  unitConverter,
  validator
}) {
  return validator(formatPrecisionError(availableBalance)).test({
    message: formatInsufficientBalanceError(
      availableBalance,
      (sum) => (0,utils_dist/* moneyToBaseUnit */.Hf)(sum).toString()
    ),
    test(fee) {
      if (!availableBalance || !(0,utils_dist/* isNumber */.Et)(fee)) return false;
      return availableBalance.amount.isGreaterThanOrEqualTo(unitConverter(fee));
    }
  });
}
function btcFeeValidator(availableBalance) {
  return feeValidatorFactory({
    availableBalance,
    unitConverter: btcToSat,
    validator: btcAmountPrecisionValidator
  });
}
function stxFeeValidator(availableBalance) {
  return feeValidatorFactory({
    availableBalance,
    unitConverter: utils_dist/* stxToMicroStx */.Ey,
    validator: stxAmountPrecisionValidator
  });
}

;// CONCATENATED MODULE: ./src/app/common/hooks/use-stacks-explorer-link.ts





function useStacksExplorerLink() {
  const { mode, isNakamotoTestnet } = (0,networks_hooks/* useCurrentNetworkState */.uZ)();
  const handleOpenStacksTxLink = (0,react.useCallback)(
    ({ searchParams, txid }) => {
      (0,open_in_new_tab/* openInNewTab */.V)(
        (0,common_utils/* makeStacksTxExplorerLink */.$P)({ mode, searchParams, isNakamoto: isNakamotoTestnet, txid })
      );
    },
    [mode, isNakamotoTestnet]
  );
  return {
    handleOpenStacksTxLink
  };
}

// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+common@6.13.0/node_modules/@stacks/common/dist/esm/utils.js
var esm_utils = __webpack_require__(68137);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+connect@7.4.0_encoding@0.1.13/node_modules/@stacks/connect/dist/index.mjs
var connect_dist = __webpack_require__(52940);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/common.js
var common = __webpack_require__(95660);
;// CONCATENATED MODULE: ./src/app/common/transactions/stacks/transaction.utils.ts
/* provided dependency */ var Buffer = __webpack_require__(84686)["Buffer"];







const statusFromTx = (tx) => {
  const { tx_status } = tx;
  if (tx_status === "pending") return "pending";
  if (tx_status === "success") return "success";
  return "failed";
};
const stacksTransactionToHex = (transaction) => `0x${(0,esm_utils/* bytesToHex */.My)(transaction.serialize())}`;
const getTxCaption = (transaction) => {
  switch (transaction.tx_type) {
    case "smart_contract":
      return (0,utils_dist/* truncateMiddle */.kU)(transaction.smart_contract.contract_id.split(".")[0], 4);
    case "contract_call":
      return transaction.contract_call.contract_id.split(".")[1];
    case "token_transfer":
    case "coinbase":
    case "poison_microblock":
      return (0,utils_dist/* truncateMiddle */.kU)(transaction.tx_id, 4);
    default:
      return null;
  }
};
const getAssetTransfer = (tx) => {
  if (tx.tx_type !== "contract_call") return null;
  if (tx.tx_status !== "success") return null;
  const transfer = tx.events.find((event) => event.event_type === "fungible_token_asset");
  if (transfer?.event_type !== "fungible_token_asset") return null;
  return transfer;
};
const getTxValue = (tx, isOriginator) => {
  if (tx.tx_type === "token_transfer") {
    return `${isOriginator ? "-" : ""}${(0,stacks_utils/* stacksValue */.jL)({
      value: tx.token_transfer.amount,
      withTicker: false
    })}`;
  }
  const transfer = getAssetTransfer(tx);
  if (transfer) return new bignumber/* BigNumber */.g(transfer.asset.amount).toFormat();
  return null;
};
const getTxTitle = (tx) => {
  switch (tx.tx_type) {
    case "token_transfer":
      return "Stacks";
    case "contract_call":
      return tx.contract_call.function_name;
    case "smart_contract":
      return (0,stacks_utils/* getStacksContractName */.ZJ)(tx.smart_contract.contract_id);
    case "coinbase":
      return `Coinbase ${tx.block_height}`;
    case "poison_microblock":
      return "Poison Microblock";
    default:
      return "";
  }
};
const calculateTokenTransferAmount = (decimals, amount) => {
  return new bignumber/* BigNumber */.g(amount).shiftedBy(-decimals);
};
function isTransactionTypeSupported(txType) {
  return txType === connect_dist.TransactionTypes.STXTransfer || txType === connect_dist.TransactionTypes.ContractCall || txType === connect_dist.TransactionTypes.ContractDeploy;
}
function isTxSponsored(tx) {
  return tx.auth.authType === esm_constants/* AuthType */.hT.Sponsored;
}
function getAddressFromPublicKeyHash(publicKeyHash, hashMode, transactionVersion) {
  const addrVer = (0,common/* addressHashModeToVersion */.fi)(hashMode, transactionVersion);
  if (publicKeyHash.length !== 20) {
    throw new Error("expected 20-byte pubkeyhash");
  }
  const addr = (0,common/* addressFromVersionHash */.lY)(addrVer, publicKeyHash.toString("hex"));
  return (0,common/* addressToString */.pD)(addr);
}
function getTxSenderAddress(tx) {
  if (!tx?.auth?.spendingCondition?.signer) return;
  const txSender = getAddressFromPublicKeyHash(
    Buffer.from(tx.auth.spendingCondition.signer, "hex"),
    tx.auth.spendingCondition.hashMode,
    tx.version
  );
  return txSender;
}
function getEstimatedConfirmationTime(isTestnet, blockTime) {
  const arrivesIn = isTestnet ? blockTime?.testnet.target_block_time : blockTime?.mainnet.target_block_time;
  if (!arrivesIn) return "~10 \u2013 20 min";
  return `~${arrivesIn / 60} min`;
}
function isPendingTx(tx) {
  return tx.tx_status === "pending";
}

;// CONCATENATED MODULE: ./src/app/components/transaction/token-transfer-icon.tsx




function TokenTransferIcon(props) {
  const { tx } = props;
  const currentAccountStxAddress = (0,stacks_account_hooks/* useCurrentStacksAccountAddress */.$3)();
  const isSent = tx.sender_address === currentAccountStxAddress;
  if (isSent) return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ArrowUpIcon */.Kp, { color: "ink.background-primary", variant: "small" });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ArrowDownIcon */.ZL, { color: "ink.background-primary", variant: "small" });
}

;// CONCATENATED MODULE: ./src/app/components/transaction/transaction-icon.tsx




function TransactionIcon(props) {
  const { tx } = props;
  switch (tx.tx_type) {
    case "coinbase":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* PlusIcon */.c1, { color: "ink.background-primary", variant: "small" });
    case "smart_contract":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CodeIcon */.lo, { color: "ink.background-primary", variant: "small" });
    case "token_transfer":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(TokenTransferIcon, { tx });
    case "contract_call":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* FunctionIcon */.N8, { color: "ink.background-primary", variant: "small" });
    default:
      return null;
  }
}

;// CONCATENATED MODULE: ./src/app/components/transaction/transaction-type-icon-wrapper.tsx



function TransactionTypeIconWrapper({
  bg,
  icon,
  ...props
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* Circle */.jl,
    {
      bg: "stacks",
      border: "background",
      bottom: "-2px",
      color: "ink.background-primary",
      position: "absolute",
      right: "-9px",
      size: "21px",
      ...props,
      children: icon
    }
  );
}

;// CONCATENATED MODULE: ./src/app/components/transaction/transaction-type-icon.tsx





function getColorFromTx(tx) {
  const colorMap = {
    pending: "yellow.action-primary-default",
    success: "stacks",
    failed: "red.action-primary-default"
  };
  return colorMap[statusFromTx(tx)] ?? "red.action-primary-default";
}
function TransactionTypeIcon({ transaction }) {
  if (["coinbase", "contract_call", "smart_contract", "token_transfer"].includes(transaction.tx_type)) {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      TransactionTypeIconWrapper,
      {
        bg: getColorFromTx(transaction),
        icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(TransactionIcon, { tx: transaction })
      }
    );
  }
  return null;
}

;// CONCATENATED MODULE: ./src/app/components/transaction/transaction-icon-wrapper.tsx




function TransactionIconWrapper({
  icon,
  transaction,
  ...props
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Circle */.jl,
    {
      bg: "stacks",
      color: "ink.background-primary",
      flexShrink: 0,
      position: "relative",
      size: "xl",
      ...props,
      children: [
        icon,
        /* @__PURE__ */ (0,jsx_runtime.jsx)(TransactionTypeIcon, { transaction })
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/components/stacks-transaction-item/stacks-transaction-icon.tsx





function StacksTransactionIcon({ transaction, ...rest }) {
  switch (transaction.tx_type) {
    case "coinbase":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(TransactionIconWrapper, { icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* BarsThreeIcon */.O_, {}), transaction, ...rest });
    case "smart_contract":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* DynamicColorCircle */.BM, { value: `${transaction.smart_contract.contract_id}`, ...rest, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(TransactionTypeIcon, { transaction }) });
    case "contract_call":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* DynamicColorCircle */.BM,
        {
          value: `${transaction.contract_call.contract_id}::${transaction.contract_call.function_name}`,
          ...rest,
          children: /* @__PURE__ */ (0,jsx_runtime.jsx)(TransactionTypeIcon, { transaction })
        }
      );
    case "token_transfer":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(TransactionIconWrapper, { icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* StxAvatarIcon */.sC, {}), transaction, ...rest });
    case "poison_microblock":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(TransactionIconWrapper, { icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ErrorCircleIcon */.s9, {}), transaction, ...rest });
    default:
      return null;
  }
}

;// CONCATENATED MODULE: ./src/app/components/stacks-transaction-item/stacks-transaction-status.tsx





const stacks_transaction_status_pendingWaitingMessage = "This transaction is waiting to be confirmed. Depending on network congestion, this may take anywhere from a few minutes, to a couple of hours.";
function StacksTransactionStatus({ transaction }) {
  const isPending = isPendingTx(transaction);
  const isFailed = !isPending && transaction.tx_status !== "success";
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    isPending && /* @__PURE__ */ (0,jsx_runtime.jsx)(basic_tooltip/* BasicTooltip */.G, { asChild: true, label: stacks_transaction_status_pendingWaitingMessage, side: "bottom", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { color: "yellow.action-primary-default", children: "Pending" }) }),
    isFailed && /* @__PURE__ */ (0,jsx_runtime.jsx)(basic_tooltip/* BasicTooltip */.G, { label: transaction.tx_status, side: "bottom", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { color: "yellow.action-primary-default", children: "Failed" }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/components/stacks-transaction-item/stacks-transaction-item.tsx

















function StacksTransactionItem({
  caption,
  icon,
  link,
  title,
  value,
  transaction
}) {
  const { handleOpenStacksTxLink } = useStacksExplorerLink();
  const currentAccount = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const isPrivate = (0,settings_settings_selectors/* useIsPrivateMode */.cT)();
  const { pathname } = (0,react_router_dist/* useLocation */.zy)();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const { whenWallet } = (0,use_wallet_type/* useWalletType */.t)();
  const hasTransferDetailsData = !!caption && !!title && !!value && !!link;
  if (!transaction && !hasTransferDetailsData) return null;
  const openTxLink = () => {
    void analytics/* analytics */.zS.track("view_transaction");
    handleOpenStacksTxLink({
      txid: transaction?.tx_id || link || ""
    });
  };
  const onIncreaseFee = () => {
    if (!transaction) return;
    const routeUrl = route_urls/* RouteUrls */.W.IncreaseStxFee.replace(":txid", transaction.tx_id);
    whenWallet({
      ledger: () => (0,common_utils/* whenPageMode */.ty)({
        full: () => navigate(routeUrl),
        popup: () => (0,open_in_new_tab/* openIndexPageInNewTab */.W)(routeUrl)
      })(),
      software: () => navigate(routeUrl)
    })();
  };
  const isOriginator = transaction?.sender_address === currentAccount?.address;
  const isPending = transaction && isPendingTx(transaction);
  const txCaption = transaction ? getTxCaption(transaction) : caption || "";
  const txIcon = transaction ? /* @__PURE__ */ (0,jsx_runtime.jsx)(StacksTransactionIcon, { transaction }) : icon;
  const txTitle = transaction ? getTxTitle(transaction) : title || "";
  const txValue = transaction ? getTxValue(transaction, isOriginator) : value;
  const increaseFeeButton = /* @__PURE__ */ (0,jsx_runtime.jsx)(
    IncreaseFeeButton,
    {
      isEnabled: isOriginator && isPending,
      isSelected: pathname === route_urls/* RouteUrls */.W.IncreaseStxFee,
      onIncreaseFee
    }
  );
  const txStatus = transaction && /* @__PURE__ */ (0,jsx_runtime.jsx)(StacksTransactionStatus, { transaction });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    TransactionItemLayout,
    {
      openTxLink,
      rightElement: isOriginator && isPending ? increaseFeeButton : void 0,
      txCaption,
      txIcon,
      txStatus,
      txTitle: /* @__PURE__ */ (0,jsx_runtime.jsx)(TransactionTitle, { title: txTitle }),
      txValue,
      isPrivate
    }
  );
}

// EXTERNAL MODULE: ./src/shared/logger.ts
var logger = __webpack_require__(41303);
;// CONCATENATED MODULE: ./src/shared/actions/finalize-tx-signature-format.ts


function formatTxSignatureResponse({
  payload,
  response
}) {
  return {
    source: message_types/* MESSAGE_SOURCE */.q_,
    method: message_types/* ExternalMethods */.gf.transactionResponse,
    payload: {
      transactionRequest: payload,
      transactionResponse: response
    }
  };
}

;// CONCATENATED MODULE: ./src/shared/actions/finalize-tx-signature.ts





function finalizeTxSignature({ requestPayload, data, tabId }) {
  try {
    const responseMessage = formatTxSignatureResponse({ payload: requestPayload, response: data });
    chrome.tabs.sendMessage(tabId, responseMessage);
    (0,utils/* closeWindow */.Do)();
  } catch (e) {
    void analytics/* analytics */.zS?.track("finalize_tx_signature_error_thrown", { data: e });
    logger/* logger */.v.error("Error in finalising tx signature", e);
  }
}

// EXTERNAL MODULE: ./src/app/common/hooks/use-default-request-search-params.ts
var use_default_request_search_params = __webpack_require__(62195);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/builders.js + 1 modules
var builders = __webpack_require__(78318);
;// CONCATENATED MODULE: ./src/app/common/get-error-message.ts

function getErrorMessage(reason) {
  switch (reason) {
    case "BadAddressVersionByte":
      return "Incorrect address";
    case "BadFunctionArgument":
      return "Incorrect function argument";
    case "BadNonce":
      return "Incorrect nonce";
    case "BadTransactionVersion":
      return "Incorrect transaction";
    case "ConflictingNonceInMempool":
      return "Nonce conflict";
    case "ContractAlreadyExists":
      return "Contract already exists";
    case "Deserialization":
      return "Deserialization failure";
    case "EstimatorError":
      return "Estimator error";
    case "FeeTooLow":
      return "Fee too low";
    case "NoCoinbaseViaMempool":
      return "No coinbase via mempool";
    case "NoSuchContract":
      return "Contract does not exist";
    case "NoSuchPublicFunction":
      return "Function does not exist";
    case "NotEnoughFunds":
      return "Not enough funds";
    case "PoisonMicroblocksDoNotConflict":
      return "Microblock conflict";
    case "PoisonMicroblockHasUnknownPubKeyHash":
      return "No anchor block with public key hash";
    case "PoisonMicroblockIsInvalid":
      return "Invalid microblock";
    case "Serialization":
      return "Serialization failure";
    case "ServerFailureDatabase":
      return "Database error";
    case "ServerFailureNoSuchChainTip":
      return "No such chain tip";
    case "ServerFailureOther":
      return "Server failure";
    case "SignatureValidation":
      return "Failed to validate signature";
    case "TransferAmountMustBePositive":
      return "Transfer amount must be positive";
    case "TransferRecipientCannotEqualSender":
      return "Cannot transfer STX to yourself";
    default:
      return "Something went wrong";
  }
}

// EXTERNAL MODULE: ./src/app/store/submitted-transactions/submitted-transactions.slice.ts
var submitted_transactions_slice = __webpack_require__(37048);
;// CONCATENATED MODULE: ./src/app/store/submitted-transactions/submitted-transactions.actions.ts


const submittedTransactionsActions = submitted_transactions_slice/* submittedTransactionsSlice */.Z.actions;

;// CONCATENATED MODULE: ./src/app/store/submitted-transactions/submitted-transactions.selectors.ts



const submittedTransactionsSelectors = submitted_transactions_slice/* submittedTransactionsAdapter */.i.getSelectors(
  (state) => state.submittedTransactions
);
function useSubmittedTransactions() {
  return (0,react_redux/* useSelector */.d4)(submittedTransactionsSelectors.selectAll);
}

;// CONCATENATED MODULE: ./src/app/store/submitted-transactions/submitted-transactions.hooks.ts






function useUpdateSubmittedTransactions() {
  const submittedTransactions = useSubmittedTransactions();
  const submittedTransactionsActions2 = useSubmittedTransactionsActions();
  return (0,react.useCallback)(
    (data) => {
      const pendingTxids = data.map((tx) => tx.tx_id);
      submittedTransactions.map((tx) => {
        if (pendingTxids.includes(safelyFormatHexTxid(tx.txid)))
          return submittedTransactionsActions2.transactionEnteredMempool(tx.txid);
        return;
      });
    },
    [submittedTransactions, submittedTransactionsActions2]
  );
}
function useSubmittedTransactionsActions() {
  const dispatch = (0,store/* useAppDispatch */.jL)();
  return (0,react.useMemo)(
    () => ({
      newTransactionSubmitted({ rawTx, txid }) {
        return dispatch(submittedTransactionsActions.newTransactionSubmitted({ rawTx, txid }));
      },
      transactionEnteredMempool(txid) {
        return dispatch(submittedTransactionsActions.transactionEnteredMempool(txid));
      },
      transactionReplacedByFee(txid) {
        return dispatch(submittedTransactionsActions.transactionReplacedByFee(txid));
      }
    }),
    [dispatch]
  );
}

;// CONCATENATED MODULE: ./src/app/common/hooks/use-submit-stx-transaction.ts














const timeForApiToUpdate = 250;
function useSubmitTransactionCallback({ loadingKey }) {
  const submittedTransactionsActions = useSubmittedTransactionsActions();
  const toast = (0,use_toast/* useToast */.d)();
  const refreshAccountData = useRefreshAllAccountData();
  const { setIsLoading, setIsIdle } = useLoading(loadingKey);
  const stacksNetwork = (0,networks_hooks/* useCurrentStacksNetworkState */.hB)();
  return (0,react.useCallback)(
    ({ onSuccess, onError }) => async (transaction) => {
      setIsLoading();
      try {
        const response = await (0,builders/* broadcastTransaction */.ui)(transaction, stacksNetwork);
        if (response.error) {
          logger/* logger */.v.error("Transaction broadcast", response);
          if (response.reason) toast.error(getErrorMessage(response.reason));
          onError(response.error);
          setIsIdle();
        } else {
          logger/* logger */.v.info("Transaction broadcast", response);
          submittedTransactionsActions.newTransactionSubmitted({
            rawTx: (0,esm_utils/* bytesToHex */.My)(transaction.serialize()),
            txid: safelyFormatHexTxid(response.txid)
          });
          await (0,utils_dist/* delay */.cb)(500);
          void analytics/* analytics */.zS.track("broadcast_transaction", { symbol: "stx" });
          onSuccess(safelyFormatHexTxid(response.txid));
          setIsIdle();
          await refreshAccountData(timeForApiToUpdate);
        }
      } catch (error) {
        logger/* logger */.v.error("Transaction callback", { error });
        onError((0,utils_dist/* isError */.bJ)(error) ? error : { name: "", message: "" });
        setIsIdle();
      }
    },
    [
      setIsLoading,
      stacksNetwork,
      toast,
      setIsIdle,
      submittedTransactionsActions,
      refreshAccountData
    ]
  );
}

// EXTERNAL MODULE: ./src/app/store/transactions/requests.hooks.ts + 1 modules
var requests_hooks = __webpack_require__(62474);
// EXTERNAL MODULE: ./node_modules/.pnpm/react-async-hook@4.0.0_react@18.3.1/node_modules/react-async-hook/dist/react-async-hook.esm.js
var react_async_hook_esm = __webpack_require__(84102);
// EXTERNAL MODULE: ./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/esm/utils.js
var hashes_esm_utils = __webpack_require__(19251);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/postcondition-types.js
var postcondition_types = __webpack_require__(91882);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/signer.js
var esm_signer = __webpack_require__(63591);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/keys.js
var keys = __webpack_require__(80725);
// EXTERNAL MODULE: ./node_modules/.pnpm/bn.js@5.2.1/node_modules/bn.js/lib/bn.js
var bn = __webpack_require__(6097);
var bn_default = /*#__PURE__*/__webpack_require__.n(bn);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/deserialize.js
var deserialize = __webpack_require__(42073);
;// CONCATENATED MODULE: ./src/app/common/transactions/stacks/post-condition.utils.ts




const getIconStringFromPostCondition = (pc) => {
  if (pc.conditionType === esm_constants/* PostConditionType */.qu.Fungible)
    return `${(0,common/* addressToString */.pD)(pc.assetInfo.address)}.${pc.assetInfo.contractName}.${pc.assetInfo.assetName.content}`;
  if (pc.conditionType === esm_constants/* PostConditionType */.qu.STX) return "STX";
  return pc.assetInfo.assetName.content;
};
const getAmountFromPostCondition = (pc) => {
  if (pc.conditionType === esm_constants/* PostConditionType */.qu.Fungible) return pc.amount.toString();
  if (pc.conditionType === esm_constants/* PostConditionType */.qu.STX)
    return (0,stacks_utils/* stacksValue */.jL)({ value: pc.amount.toString(), withTicker: false });
  return "";
};
const getSymbolFromPostCondition = (pc) => {
  if ("assetInfo" in pc) {
    return pc.assetInfo.assetName.content.slice(0, 3).toUpperCase();
  }
  return "STX";
};
const getNameFromPostCondition = (pc) => {
  if ("assetInfo" in pc) {
    return pc.assetInfo.assetName.content;
  }
  return "STX";
};
function getPostConditionCodeMessage(code, isSender) {
  const sender = isSender ? "You" : "The contract";
  switch (code) {
    case esm_constants/* FungibleConditionCode */.Dx.Equal:
      return `${sender} will transfer exactly`;
    case esm_constants/* FungibleConditionCode */.Dx.Greater:
      return `${sender} will transfer more than`;
    case esm_constants/* FungibleConditionCode */.Dx.GreaterEqual:
      return `${sender} will transfer at least`;
    case esm_constants/* FungibleConditionCode */.Dx.Less:
      return `${sender} will transfer less than`;
    case esm_constants/* FungibleConditionCode */.Dx.LessEqual:
      return `${sender} will transfer at most`;
    case esm_constants/* NonFungibleConditionCode */.q$.Sends:
      return `${sender} will transfer`;
    case esm_constants/* NonFungibleConditionCode */.q$.DoesNotSend:
      return `${sender} will keep or receive`;
  }
}
function handlePostConditions(postConditions, payloadAddress, currentAddress) {
  const payloadPrincipal = (0,postcondition_types/* parsePrincipalString */.bM)(payloadAddress);
  const currentAddressPrincipal = (0,postcondition_types/* parsePrincipalString */.bM)(currentAddress);
  return postConditions.map((postCondition) => {
    const formattedPostCondition = getPostCondition(postCondition);
    if ("contractName" in formattedPostCondition.principal) return formattedPostCondition;
    const { principal, ...payload } = formattedPostCondition;
    const sameType = payloadPrincipal.address.type === principal.address.type;
    const sameHash = payloadPrincipal.address.hash160 === principal.address.hash160;
    const isOriginatorAddress = sameHash && sameType;
    return {
      ...payload,
      principal: isOriginatorAddress ? currentAddressPrincipal : principal
    };
  });
}
function getPostCondition(postCondition) {
  return typeof postCondition === "string" ? (0,common_utils/* postConditionFromString */.nD)(postCondition) : postCondition;
}
function getPostConditions(postConditions) {
  return postConditions?.map(getPostCondition);
}
const getTitleFromConditionCode = (code) => {
  switch (code) {
    case esm_constants/* FungibleConditionCode */.Dx.Equal:
      return "will transfer exactly";
    case esm_constants/* FungibleConditionCode */.Dx.Greater:
      return "will transfer more than";
    case esm_constants/* FungibleConditionCode */.Dx.GreaterEqual:
      return "will transfer equal to or greater than";
    case esm_constants/* FungibleConditionCode */.Dx.Less:
      return "will transfer less than";
    case esm_constants/* FungibleConditionCode */.Dx.LessEqual:
      return "will transfer less than or equal to";
    case esm_constants/* NonFungibleConditionCode */.q$.Sends:
      return "will transfer";
    case esm_constants/* NonFungibleConditionCode */.q$.DoesNotSend:
      return "will keep";
    default:
      return "";
  }
};
const getPostConditionTitle = (pc) => {
  return getTitleFromConditionCode(pc.conditionCode) || "";
};

;// CONCATENATED MODULE: ./src/app/common/transactions/stacks/generate-unsigned-txs.ts







function initNonce(nonce) {
  return nonce !== void 0 ? new (bn_default())(nonce, 10) : void 0;
}
function generateUnsignedContractCallTx(args) {
  const { txData, publicKey, nonce, fee } = args;
  const {
    contractName,
    contractAddress,
    functionName,
    functionArgs,
    sponsored,
    postConditionMode,
    postConditions,
    network,
    anchorMode
  } = txData;
  const fnArgs = functionArgs.map((arg) => (0,deserialize/* default */.A)((0,common_utils/* hexToBuff */.E8)(arg)));
  const options = {
    contractName,
    contractAddress,
    functionName,
    publicKey,
    anchorMode: anchorMode ?? esm_constants/* AnchorMode */.Fj.Any,
    functionArgs: fnArgs,
    nonce: initNonce(nonce)?.toString(),
    fee: new (bn_default())(fee, 10).toString(),
    postConditionMode,
    postConditions: getPostConditions(postConditions),
    network,
    sponsored
  };
  return (0,builders/* makeUnsignedContractCall */.ok)(options);
}
function generateUnsignedContractDeployTx(args) {
  const { txData, publicKey, nonce, fee } = args;
  const { contractName, codeBody, network, postConditions, postConditionMode, anchorMode } = txData;
  const options = {
    contractName,
    codeBody,
    nonce: initNonce(nonce)?.toString(),
    fee: new (bn_default())(fee, 10)?.toString(),
    publicKey,
    anchorMode: anchorMode ?? esm_constants/* AnchorMode */.Fj.Any,
    postConditionMode,
    postConditions: getPostConditions(postConditions),
    network
  };
  return (0,builders/* makeUnsignedContractDeploy */.Pt)(options);
}
function generateUnsignedStxTransferTx(args) {
  const { txData, publicKey, nonce, fee } = args;
  const { recipient, memo, amount, network, anchorMode } = txData;
  const options = {
    recipient,
    memo,
    publicKey,
    anchorMode: anchorMode ?? esm_constants/* AnchorMode */.Fj.Any,
    amount: new (bn_default())(amount).toString(),
    nonce: initNonce(nonce)?.toString(),
    fee: new (bn_default())(fee, 10).toString(),
    network
  };
  return (0,builders/* makeUnsignedSTXTokenTransfer */.XV)(options);
}
async function generateUnsignedTransaction(options) {
  const { txData, publicKey, nonce, fee } = options;
  const isValid = isTransactionTypeSupported(txData.txType);
  if (!isValid) throw new Error(`Invalid Transaction Type: ${txData.txType}`);
  switch (txData.txType) {
    case connect_dist.TransactionTypes.STXTransfer:
      return generateUnsignedStxTransferTx({ txData, publicKey, nonce, fee });
    case connect_dist.TransactionTypes.ContractCall:
      return generateUnsignedContractCallTx({ txData, publicKey, nonce, fee });
    case connect_dist.TransactionTypes.ContractDeploy:
      return generateUnsignedContractDeployTx({ txData, publicKey, nonce, fee });
  }
}

// EXTERNAL MODULE: ./src/app/common/publish-subscribe.ts
var publish_subscribe = __webpack_require__(9965);
;// CONCATENATED MODULE: ./src/app/features/ledger/flows/stacks-tx-signing/stacks-tx-signing-event-listeners.ts


async function listenForStacksTxLedgerSigning(unsignedTx) {
  return new Promise((resolve, reject) => {
    function txSignedHandler(msg) {
      if (msg.unsignedTx === unsignedTx) {
        publish_subscribe/* appEvents */.l.unsubscribe("ledgerStacksTxSigned", txSignedHandler);
        publish_subscribe/* appEvents */.l.unsubscribe("ledgerStacksTxSigningCancelled", signingAbortedHandler);
        resolve(msg.signedTx);
      }
    }
    publish_subscribe/* appEvents */.l.subscribe("ledgerStacksTxSigned", txSignedHandler);
    function signingAbortedHandler(msg) {
      if (msg.unsignedTx === unsignedTx) {
        publish_subscribe/* appEvents */.l.unsubscribe("ledgerStacksTxSigningCancelled", signingAbortedHandler);
        publish_subscribe/* appEvents */.l.unsubscribe("ledgerStacksTxSigned", txSignedHandler);
        reject(new Error("User cancelled the signing operation"));
      }
    }
    publish_subscribe/* appEvents */.l.subscribe("ledgerStacksTxSigningCancelled", signingAbortedHandler);
  });
}

// EXTERNAL MODULE: ./src/app/features/ledger/hooks/use-ledger-navigate.ts
var use_ledger_navigate = __webpack_require__(12917);
;// CONCATENATED MODULE: ./src/app/store/transactions/post-conditions.hooks.ts







function formatPostConditionState(payload, address) {
  if (!payload || !address) return;
  if (payload.postConditions) {
    if (payload.stxAddress)
      return handlePostConditions(payload.postConditions, payload.stxAddress, address);
    return payload.postConditions.map(getPostCondition);
  }
  return [];
}
function usePostConditionModeState() {
  return (0,requests_hooks/* useTransactionRequestState */.o)()?.postConditionMode;
}
function usePostConditionState() {
  const payload = (0,requests_hooks/* useTransactionRequestState */.o)();
  const address = (0,stacks_account_hooks/* useCurrentStacksAccountAddress */.$3)();
  return (0,react.useMemo)(() => formatPostConditionState(payload, address), [address, payload]);
}
function useAssetFromFungiblePostCondition(pc) {
  const contractAddress = (0,common/* addressToString */.pD)(pc.assetInfo.address);
  const contractName = pc.assetInfo.contractName.content;
  const contractId = `${contractAddress}.${contractName}`;
  const { data: asset } = (0,query_dist/* useGetFungibleTokenMetadataQuery */.OHp)(contractId);
  return !(asset && (0,query_dist/* isFtAsset */.z3E)(asset)) ? void 0 : asset;
}

;// CONCATENATED MODULE: ./src/app/store/transactions/transaction.hooks.ts




















function useTransactionPostConditions() {
  return usePostConditionState();
}
function useUnsignedStacksTransactionBaseState() {
  const network = (0,networks_hooks/* useCurrentStacksNetworkState */.hB)();
  const stxAddress = (0,stacks_account_hooks/* useCurrentStacksAccountAddress */.$3)();
  const { data: nextNonce } = (0,query_dist/* useNextNonce */.eIk)(stxAddress);
  const payload = (0,requests_hooks/* useTransactionRequestState */.o)();
  const postConditions = useTransactionPostConditions();
  const account = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const options = (0,react.useMemo)(
    () => ({
      fee: 0,
      publicKey: account?.stxPublicKey,
      nonce: nextNonce?.nonce ?? 0,
      txData: { ...payload, postConditions, network }
    }),
    [account?.stxPublicKey, network, nextNonce?.nonce, payload, postConditions]
  );
  const transaction = (0,react_async_hook_esm/* useAsync */.Yb)(async () => {
    return generateUnsignedTransaction(options);
  }, [account, nextNonce?.nonce, payload, stxAddress]).result;
  return (0,react.useMemo)(() => {
    if (!account || !payload || !stxAddress) return { transaction: void 0, options };
    if (payload.txType === connect_dist.TransactionTypes.ContractCall && !(0,stacks_utils/* validateStacksAddress */.cU)(payload.contractAddress)) {
      return { transaction: void 0, options };
    }
    return { transaction, options };
  }, [account, options, payload, stxAddress, transaction]);
}
function useUnsignedPrepareTransactionDetails(values) {
  const unsignedStacksTransaction = useUnsignedStacksTransaction(values);
  return (0,react.useMemo)(() => unsignedStacksTransaction, [unsignedStacksTransaction]);
}
function makePostCondition(options) {
  const { contractAddress, contractAssetName, contractName, stxAddress, amount } = options;
  const assetInfo = (0,postcondition_types/* createAssetInfo */.Tu)(contractAddress, contractName, contractAssetName);
  return (0,builders/* makeStandardFungiblePostCondition */.LA)(
    stxAddress,
    esm_constants/* FungibleConditionCode */.Dx.Equal,
    new (bn_default())(amount, 10).toString(),
    assetInfo
  );
}
function useGenerateUnsignedStacksTransaction() {
  const stacksTxBaseState = useUnsignedStacksTransactionBaseState();
  const stxAddress = (0,stacks_account_hooks/* useCurrentStacksAccountAddress */.$3)();
  const { data: nextNonce } = (0,query_dist/* useNextNonce */.eIk)(stxAddress);
  return (0,react.useCallback)(
    (values) => {
      if (!stacksTxBaseState || (0,utils_dist/* isUndefined */.b0)(nextNonce?.nonce)) return void 0;
      const { options } = stacksTxBaseState;
      return generateUnsignedTransaction({
        ...options,
        fee: (0,utils_dist/* stxToMicroStx */.Ey)(values.fee).toNumber(),
        nonce: Number(values.nonce) ?? nextNonce?.nonce
      });
    },
    [nextNonce?.nonce, stacksTxBaseState]
  );
}
function useUnsignedStacksTransaction(values) {
  const generateTx = useGenerateUnsignedStacksTransaction();
  const tx = (0,react_async_hook_esm/* useAsync */.Yb)(async () => {
    return generateTx(values ?? void 0);
  }, [values]);
  return tx.result;
}
function useSignTransactionSoftwareWallet() {
  const toast = (0,use_toast/* useToast */.d)();
  const account = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  return (0,react.useCallback)(
    (tx) => {
      if (account?.type !== "software") {
        [toast.error, logger/* logger */.v.error].forEach(
          (fn) => fn("Cannot use this method to sign a non-software wallet transaction")
        );
        return;
      }
      const signer = new esm_signer/* TransactionSigner */.p(tx);
      if (!account) return null;
      signer.signOrigin((0,keys/* createStacksPrivateKey */.wE)(account.stxPrivateKey));
      return tx;
    },
    [account, toast.error]
  );
}
function useSignStacksTransaction() {
  const { whenWallet } = (0,use_wallet_type/* useWalletType */.t)();
  const ledgerNavigate = (0,use_ledger_navigate/* useLedgerNavigate */.W)();
  const signSoftwareTx = useSignTransactionSoftwareWallet();
  return (tx) => whenWallet({
    async ledger(tx2) {
      ledgerNavigate.toConnectAndSignStacksTransactionStep(tx2);
      return listenForStacksTxLedgerSigning((0,hashes_esm_utils/* bytesToHex */.My)(tx2.serialize()));
    },
    async software(tx2) {
      return signSoftwareTx(tx2);
    }
  })(tx);
}

// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/constants.js
var clarity_constants = __webpack_require__(24219);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/serialize.js
var serialize = __webpack_require__(46772);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/clarityValue.js
var clarityValue = __webpack_require__(71385);
;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/hooks/use-stacks-transaction-summary.ts









function useStacksTransactionSummary(token) {
  const tokenMarketData = (0,query_dist/* useCryptoCurrencyMarketDataMeanAverage */.UoM)(token);
  const { isTestnet } = (0,networks_hooks/* useCurrentNetworkState */.uZ)();
  const { data: blockTime } = (0,query_dist/* useGetStacksNetworkBlockTimeQuery */.J60)();
  function formSentSummaryTxState(txId, signedTx, decimals) {
    return {
      state: {
        txLink: {
          blockchain: "stacks",
          txid: txId || ""
        },
        txId,
        ...formReviewTxSummary(signedTx, token, decimals)
      }
    };
  }
  function formReviewTxSummary(tx, symbol = "STX", decimals = 6) {
    if (symbol !== "STX") {
      return formSip10TxSummary(tx, symbol, decimals);
    }
    const payload = tx.payload;
    const txValue = payload.amount;
    const fee = tx.auth.spendingCondition.fee;
    const memoContent = payload?.memo?.content ?? "";
    const memoDisplayText = (0,common_utils/* removeTrailingNullCharacters */.SE)(memoContent) || "No memo";
    return {
      recipient: (0,common/* addressToString */.pD)(payload.recipient.address),
      fee: (0,utils_dist/* formatMoney */.up)((0,utils_dist/* convertToMoneyTypeWithDefaultOfZero */.bm)("STX", Number(fee))),
      totalSpend: (0,utils_dist/* formatMoney */.up)((0,utils_dist/* convertToMoneyTypeWithDefaultOfZero */.bm)("STX", Number(txValue + fee))),
      arrivesIn: getEstimatedConfirmationTime(isTestnet, blockTime),
      symbol: "STX",
      txValue: (0,utils_dist/* microStxToStx */.Am)(Number(txValue)).toString(),
      sendingValue: (0,utils_dist/* formatMoney */.up)((0,utils_dist/* convertToMoneyTypeWithDefaultOfZero */.bm)("STX", Number(txValue))),
      txFiatValue: (0,utils_dist/* i18nFormatCurrency */.Lx)(
        (0,utils_dist/* baseCurrencyAmountInQuote */.uE)((0,utils_dist/* createMoney */.j6)(Number(payload.amount), "STX"), tokenMarketData)
      ),
      txFiatValueSymbol: tokenMarketData.price.symbol,
      nonce: String(tx.auth.spendingCondition.nonce),
      memoDisplayText
    };
  }
  function getSip10MemoDisplayText(payload) {
    const noMemoText = "No memo";
    if (!(0,utils_dist/* isDefined */.O9)(payload.functionArgs[3])) {
      return noMemoText;
    }
    const isSome = payload.functionArgs[3].type === clarity_constants/* ClarityType */.d.OptionalSome;
    return isSome ? (0,esm_utils/* bytesToUtf8 */.AE)((0,serialize/* serializeCV */.G)(payload.functionArgs[3])) : noMemoText;
  }
  function formSip10TxSummary(tx, symbol, decimals = 6) {
    const payload = tx.payload;
    const fee = tx.auth.spendingCondition.fee;
    const txValue = Number(payload.functionArgs[0].value);
    const memoDisplayText = getSip10MemoDisplayText(payload);
    const sendingValue = (0,utils_dist/* formatMoney */.up)(
      (0,utils_dist/* convertToMoneyTypeWithDefaultOfZero */.bm)(symbol, txValue, decimals)
    );
    const feeValue = (0,utils_dist/* formatMoney */.up)((0,utils_dist/* convertToMoneyTypeWithDefaultOfZero */.bm)("STX", Number(fee)));
    const totalSpend = `${sendingValue} + ${feeValue}`;
    const currencyTxAmount = (0,utils_dist/* baseCurrencyAmountInQuote */.uE)(
      (0,utils_dist/* createMoney */.j6)(txValue, symbol.toUpperCase(), decimals),
      tokenMarketData
    );
    const txFiatValue = currencyTxAmount.amount.toNumber() ? (0,utils_dist/* i18nFormatCurrency */.Lx)(currencyTxAmount) : void 0;
    return {
      recipient: (0,clarityValue/* cvToString */.Ss)(payload.functionArgs[2]),
      arrivesIn: getEstimatedConfirmationTime(isTestnet, blockTime),
      txValue: new bignumber/* default */.A(txValue).shiftedBy(-decimals).toString(),
      nonce: String(tx.auth.spendingCondition.nonce),
      fee: feeValue,
      totalSpend,
      sendingValue,
      txFiatValue,
      txFiatValueSymbol: tokenMarketData.price.symbol,
      memoDisplayText,
      symbol
    };
  }
  return {
    formSentSummaryTxState,
    formReviewTxSummary
  };
}

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/hooks/use-stacks-broadcast-transaction.tsx
















async function simulateShortDelayToAvoidUndefinedTabId() {
  await (0,utils_dist/* delay */.cb)(1e3);
}
function useStacksBroadcastTransaction({
  token,
  decimals,
  isIncreaseFeeTransaction
}) {
  const signStacksTransaction = useSignStacksTransaction();
  const [isBroadcasting, setIsBroadcasting] = (0,react.useState)(false);
  const { tabId } = (0,use_default_request_search_params/* useDefaultRequestParams */.Y)();
  const requestToken = (0,requests_hooks/* useTransactionRequest */.z)();
  const { formSentSummaryTxState } = useStacksTransactionSummary(token);
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const toast = (0,use_toast/* useToast */.d)();
  const broadcastTransactionFn = useSubmitTransactionCallback({
    loadingKey: LoadingKeys.SUBMIT_SEND_FORM_TRANSACTION
  });
  return (0,react.useMemo)(() => {
    function handlePreviewSuccess(signedTx, txId) {
      if (requestToken && tabId) {
        finalizeTxSignature({
          requestPayload: requestToken,
          tabId,
          data: {
            txRaw: stacksTransactionToHex(signedTx),
            txId
          }
        });
      }
      if (txId) {
        if (isIncreaseFeeTransaction) {
          navigate(route_urls/* RouteUrls */.W.Activity);
          return;
        }
        navigate(
          route_urls/* RouteUrls */.W.SentStxTxSummary.replace(":symbol", token.toLowerCase()).replace(
            ":txId",
            `${txId}`
          ),
          formSentSummaryTxState(txId, signedTx, decimals)
        );
      }
    }
    async function broadcastTransactionAction(signedTx) {
      if (!signedTx) {
        logger/* logger */.v.error("Cannot broadcast transaction, no tx in state");
        toast.error("Unable to broadcast transaction");
        return;
      }
      try {
        setIsBroadcasting(true);
        const isSponsored = signedTx.auth?.authType === esm_constants/* AuthType */.hT.Sponsored;
        if (isSponsored) {
          await simulateShortDelayToAvoidUndefinedTabId();
          handlePreviewSuccess(signedTx);
        } else {
          await broadcastTransactionFn({
            onError(e) {
              const message = (0,utils_dist/* isString */.Kg)(e) ? e : e.message;
              navigate(route_urls/* RouteUrls */.W.TransactionBroadcastError, { state: { message } });
            },
            onSuccess(txId) {
              handlePreviewSuccess(signedTx, txId);
              if (isIncreaseFeeTransaction) {
                toast.success("Fee increased successfully");
              }
            },
            replaceByFee: false
          })(signedTx);
        }
      } catch (e) {
        navigate(route_urls/* RouteUrls */.W.TransactionBroadcastError, {
          state: { message: (0,utils_dist/* isError */.bJ)(e) ? e.message : "Unknown error" }
        });
      } finally {
        setIsBroadcasting(false);
      }
    }
    async function broadcastTransaction(unsignedTx) {
      try {
        if (!unsignedTx) return;
        const signedTx = await signStacksTransaction(unsignedTx);
        if (!signedTx) return;
        await broadcastTransactionAction(signedTx);
      } catch (e) {
      }
    }
    return {
      stacksBroadcastTransaction: broadcastTransaction,
      isBroadcasting
    };
  }, [
    isBroadcasting,
    requestToken,
    tabId,
    navigate,
    token,
    formSentSummaryTxState,
    decimals,
    toast,
    broadcastTransactionFn,
    signStacksTransaction,
    isIncreaseFeeTransaction
  ]);
}

;// CONCATENATED MODULE: ./src/app/features/dialogs/increase-fee-dialog/components/fee-multiplier-button.tsx



function FeeMultiplierButton(props) {
  const { multiplier, ...rest } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* styled */.I4.button,
    {
      _focus: { border: "focus" },
      _hover: { bg: "ink.component-background-hover" },
      border: "default",
      borderRadius: "xs",
      px: "space.02",
      py: "space.01",
      type: "button",
      ...rest,
      children: [
        multiplier,
        "x"
      ]
    },
    `multiply-${multiplier}`
  );
}

;// CONCATENATED MODULE: ./src/app/features/dialogs/increase-fee-dialog/components/fee-multiplier.tsx




const multipliers = [2, 5, 10];
function FeeMultiplier(props) {
  const { onSelectMultiplier, showReset, ...rest } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", ...rest, children: [
    showReset && /* @__PURE__ */ (0,jsx_runtime.jsx)(
      FeeMultiplierButton,
      {
        multiplier: 1,
        onClick: () => onSelectMultiplier(1)
      },
      `multiply-1`
    ),
    multipliers.map((multiplier) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      FeeMultiplierButton,
      {
        multiplier,
        onClick: () => onSelectMultiplier(multiplier)
      },
      `multiply-${multiplier}`
    ))
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/dialogs/increase-fee-dialog/components/increase-fee-field.tsx








function IncreaseFeeField(props) {
  const { currentFee } = props;
  const [field, meta, helpers] = (0,formik_esm/* useField */.Mt)("fee");
  const [modified, setModified] = (0,react.useState)(false);
  const showResetMultiplier = (0,react.useMemo)(() => {
    if (modified) return true;
    if (!currentFee) return false;
    return (0,utils_dist/* stxToMicroStx */.Ey)(field.value).toNumber() !== currentFee;
  }, [currentFee, modified, field.value]);
  const onSelectMultiplier = (0,react.useCallback)(
    async (multiplier) => {
      if (!currentFee) return;
      setModified(multiplier !== 1);
      await helpers.setValue((0,utils_dist/* microStxToStx */.Am)(currentFee * multiplier));
    },
    [currentFee, helpers]
  );
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { position: "relative", width: "100%", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        FeeMultiplier,
        {
          pr: "space.03",
          height: "100%",
          top: 0,
          right: 0,
          zIndex: 99,
          position: "absolute",
          showReset: showResetMultiplier,
          onSelectMultiplier
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.label, { htmlFor: "fee", display: "none", children: "Fee" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        jsx/* styled */.I4.input,
        {
          _focus: { border: "focus" },
          autoComplete: "off",
          bg: "transparent",
          border: "default",
          borderRadius: "sm",
          height: "inputHeight",
          display: "block",
          p: "space.04",
          placeholder: "Enter a custom fee",
          ring: "none",
          textStyle: "body.02",
          width: "100%",
          ...field
        }
      )
    ] }),
    meta.error && /* @__PURE__ */ (0,jsx_runtime.jsx)(ErrorLabel, { children: meta.error })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/dialogs/increase-fee-dialog/increase-stx-fee-dialog.tsx
























function IncreaseStxFeeSheet() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const location = (0,react_router_dist/* useLocation */.zy)();
  const { txid } = (0,react_router_dist/* useParams */.g)();
  const toast = (0,use_toast/* useToast */.d)();
  const refreshAccountData = useRefreshAllAccountData();
  const { data: tx, isLoading: isLoadingTx } = (0,query_dist/* useGetTransactionByIdQuery */.kB4)(txid || "");
  const stxAddress = (0,stacks_account_hooks/* useCurrentStacksAccountAddress */.$3)();
  const availableUnlockedBalance = (0,query_dist/* useStxAvailableUnlockedBalance */.Hsy)(stxAddress);
  const submittedTransactionsActions = useSubmittedTransactionsActions();
  const { isLoadingRawTx, rawTx } = (0,query_dist/* useStacksRawTransaction */.pPj)(txid || "");
  const { stacksBroadcastTransaction } = useStacksBroadcastTransaction({
    token: "STX",
    isIncreaseFeeTransaction: true
  });
  (0,react.useEffect)(() => {
    if (tx && tx.tx_status !== "pending") {
      toast.info("Your transaction went through! No need to speed it up.");
    }
  }, [toast, tx, tx?.tx_status]);
  const onSubmit = (0,react.useCallback)(
    async (values, rawTx2) => {
      if (!tx || !rawTx2) return;
      rawTx2.setFee((0,utils_dist/* stxToMicroStx */.Ey)(values.fee).toString());
      const txid2 = tx.tx_id || safelyFormatHexTxid(rawTx2.txid());
      await refreshAccountData();
      submittedTransactionsActions.transactionReplacedByFee(txid2);
      await stacksBroadcastTransaction(rawTx2);
    },
    [tx, refreshAccountData, submittedTransactionsActions, stacksBroadcastTransaction]
  );
  if (isLoadingRawTx || isLoadingTx) return /* @__PURE__ */ (0,jsx_runtime.jsx)(LoadingSpinner, {});
  if (!txid) return null;
  const fee = Number(rawTx?.auth.spendingCondition?.fee);
  const validationSchema = yup_index_esm/* object */.Ik({ fee: stxFeeValidator(availableUnlockedBalance) });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    formik_esm/* Formik */.l1,
    {
      initialValues: { fee: new bignumber/* default */.A((0,utils_dist/* microStxToStx */.Am)(fee)).toNumber() },
      onSubmit: (values) => onSubmit(values, rawTx),
      validateOnChange: false,
      validateOnBlur: false,
      validateOnMount: false,
      validationSchema,
      children: (props) => /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* Sheet */.cj,
          {
            isShowing: location.pathname === route_urls/* RouteUrls */.W.IncreaseStxFee.replace(":txid", txid),
            onClose: () => navigate(route_urls/* RouteUrls */.W.Home),
            header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, { title: "Increase fee" }),
            footer: /* @__PURE__ */ (0,jsx_runtime.jsx)(
              IncreaseFeeActions,
              {
                isDisabled: (0,utils_dist/* stxToMicroStx */.Ey)(props.values.fee).isEqualTo(fee),
                isLoading: isLoadingRawTx || isLoadingTx,
                onCancel: () => navigate(route_urls/* RouteUrls */.W.Home)
              }
            ),
            children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { gap: "space.05", px: "space.05", pb: "space.05", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(
              react.Suspense,
              {
                fallback: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { alignItems: "center", justifyContent: "center", p: "space.06", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Spinner */.y$, {}) }),
                children: [
                  /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { children: "If your transaction is pending for a long time, its fee might not be high enough to be included in a block. Update the fee for a higher value and try again." }),
                  /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.06", children: [
                    tx && /* @__PURE__ */ (0,jsx_runtime.jsx)(StacksTransactionItem, { transaction: tx }),
                    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.04", children: [
                      /* @__PURE__ */ (0,jsx_runtime.jsx)(IncreaseFeeField, { currentFee: fee }),
                      availableUnlockedBalance.amount && /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Caption */.HL, { children: [
                        "Balance:",
                        " ",
                        (0,stacks_utils/* stacksValue */.jL)({
                          value: availableUnlockedBalance.amount,
                          fixedDecimals: true
                        })
                      ] })
                    ] })
                  ] })
                ]
              }
            ) })
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
      ] })
    }
  ) });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/react-dom-confetti@0.2.0_react@18.3.1/node_modules/react-dom-confetti/lib/confetti.js
var confetti = __webpack_require__(9018);
// EXTERNAL MODULE: ./node_modules/.pnpm/@radix-ui+themes@2.0.3_@types+react-dom@18.3.0_@types+react@18.3.10_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@radix-ui/themes/dist/esm/components/dialog.js + 33 modules
var dialog = __webpack_require__(14599);
// EXTERNAL MODULE: ./node_modules/.pnpm/@radix-ui+themes@2.0.3_@types+react-dom@18.3.0_@types+react@18.3.10_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@radix-ui/themes/dist/esm/components/inset.js + 1 modules
var inset = __webpack_require__(23896);
// EXTERNAL MODULE: ./leather-styles/css/index.js + 1 modules
var css = __webpack_require__(46977);
;// CONCATENATED MODULE: ./src/app/features/dialogs/leather-intro-dialog/confetti-config.ts

const confettiConfig = {
  angle: 90,
  spread: 460,
  startVelocity: 40,
  elementCount: 1600,
  dragFriction: 0.12,
  duration: 4e3,
  stagger: 2,
  width: "8px",
  height: "8px",
  perspective: "771px",
  colors: ["#a864fd", "#29cdff", "#78ff44", "#ff718d", "#fdff6a"]
};

;// CONCATENATED MODULE: ./src/app/features/dialogs/leather-intro-dialog/leather-intro-steps.tsx











function LeatherIntroSheet({ children }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(dialog/* Dialog */.lG.Root, { defaultOpen: true, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    dialog/* Dialog */.lG.Content,
    {
      onEscapeKeyDown: (e) => e.preventDefault(),
      onInteractOutside: (e) => e.preventDefault(),
      className: (0,css/* css */.AH)({ maxWidth: "500px", backgroundColor: "ink.background-primary" }),
      children
    }
  ) });
}
function LeatherIntroSheetPart1() {
  const context = useLeatherIntroSheetContext();
  const [showConfetti, setShowConfetti] = (0,react.useState)(false);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { "data-confetti": true, pos: "absolute", left: 0, top: 0, right: 0, bottom: 0, mt: "space.01", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { position: "relative", left: "50%", top: "30%", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(confetti/* default */.A, { active: showConfetti, config: confettiConfig }) }) }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Box */.az, { position: "relative", zIndex: 9, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        jsx/* styled */.I4.img,
        {
          alt: "Cool brand sticks conforming to Hiro Wallet's new brand",
          src: "assets/illustrations/layered-diamond-coin.png",
          w: "270px",
          h: "236px"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.h1, { textStyle: "heading.02", mt: "space.03", children: "Hiro wallet is rebranding" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.p, { textStyle: "heading.05", mt: "24px", mr: "20px", children: "We're excited to share some big news with our valued users. Our beloved Hiro Wallet has evolved into something even more incredible" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { mt: "48px", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* Button */.$n,
        {
          onClick: () => {
            context.onRevealNewName();
            setShowConfetti(true);
          },
          children: !showConfetti ? "Click to reveal our new name" : "Introducing\u2026"
        }
      ) })
    ] })
  ] });
}
function LeatherIntroSheetPart2() {
  const ref = (0,react.useRef)(null);
  const context = useLeatherIntroSheetContext();
  (0,react.useLayoutEffect)(() => {
    if (ref.current) ref.current.playbackRate = 0.65;
  }, [ref]);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Box */.az, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.h1, { textStyle: "heading.02", children: "Say hello to" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { height: "286px", mt: "48px", filter: "invert()", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(inset/* Inset */.Y, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)("video", { ref, src: "assets/video/animated-leather-logo.mp4", autoPlay: true, muted: true }) }) }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Box */.az, { mt: "24px", children: [
      "We're excited to introduce Leather, a new brand with one mission in mind: driving the global transition to a digital economy built on Bitcoin.",
      " ",
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        jsx/* styled */.I4.a,
        {
          href: "https://leather.io/blog/leather-wallet-brand-launch",
          textDecoration: "underline",
          onClick: (e) => {
            e.preventDefault();
            (0,open_in_new_tab/* openInNewTab */.V)("https://leather.io/blog/leather-wallet-brand-launch");
          },
          children: "Learn more \u2192"
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.span, { textStyle: "caption.01", display: "block", textAlign: "left", mt: "16px", children: [
      "Leather Wallet will now be provided by Leather Wallet LLC [a subsidiary of Nassau Machines Inc]. Please review and accept Leather Wallet",
      " ",
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.a, { href: "https://leather.io/terms", textDecoration: "underline", target: "_blank", children: "Terms of Service" }),
      " ",
      "and",
      " ",
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        jsx/* styled */.I4.a,
        {
          href: "https://leather.io/privacy-policy",
          target: "_blank",
          textDecoration: "underline",
          children: "Privacy Policy"
        }
      ),
      "."
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "16px", mt: "space.05", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { onClick: context.onAcceptTerms, children: "Accept new terms" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { onClick: context.onRejectAndUninstall, variant: "outline", children: "Refuse and uninstall" })
    ] })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/dialogs/leather-intro-dialog/leather-intro-dialog.tsx








const leatherIntroSheetRoutes = /* @__PURE__ */ (0,jsx_runtime.jsxs)(react_router_dist/* Route */.qh, { element: /* @__PURE__ */ (0,jsx_runtime.jsx)(LeatherIntroSheetContainer, {}), children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: "we-have-a-new-name", element: /* @__PURE__ */ (0,jsx_runtime.jsx)(LeatherIntroSheetPart1, {}) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: "introducing-leather", element: /* @__PURE__ */ (0,jsx_runtime.jsx)(LeatherIntroSheetPart2, {}) })
] });
const introContext = (0,react.createContext)(null);
const { Provider: LeatherIntroSheetProvider } = introContext;
function useLeatherIntroSheetContext() {
  const context = (0,react.useContext)(introContext);
  if (!context) throw new Error("useLeatherIntroSheetContext must be used within a Provider");
  return context;
}
function LeatherIntroSheetContainer() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  async function onRevealNewName() {
    void analytics/* analytics */.zS.track("new_brand_reveal_name");
    await (0,utils_dist/* delay */.cb)(4e3);
    navigate("./introducing-leather", { replace: true });
  }
  async function onAcceptTerms() {
    void analytics/* analytics */.zS.track("new_brand_accept_terms");
    navigate("../", { replace: true });
  }
  function onRejectAndUninstall() {
    void analytics/* analytics */.zS.track("new_brand_reject_terms");
    (0,open_in_new_tab/* openInNewTab */.V)("https://leather.gitbook.io/guides/troubleshooting/uninstall-wallet");
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(LeatherIntroSheetProvider, { value: { onRevealNewName, onAcceptTerms, onRejectAndUninstall }, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(LeatherIntroSheet, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {}) }) });
}

;// CONCATENATED MODULE: ./public/assets/images/unhappy-face-ui.png
/* harmony default export */ const unhappy_face_ui = (__webpack_require__.p + "1ece0924dff7628d6321fcddbdd91e12.png");
// EXTERNAL MODULE: ./node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/prism.js
var prism = __webpack_require__(83870);
;// CONCATENATED MODULE: ./src/app/common/clarity-prism.ts


const clarity = (Prism2) => {
  function primitive(pattern) {
    return RegExp(`([\\s([])${pattern}(?=[\\s)])`);
  }
  const par = "(\\()";
  const space = "(?=\\s)";
  const language = {
    // Three or four semicolons are considered a heading.
    heading: {
      pattern: /;;;.*/,
      alias: ["comment", "title"]
    },
    comment: /;;.*/,
    string: [
      {
        pattern: /"(?:[^"\\]|\\.)*"/,
        greedy: true
      },
      {
        pattern: /0x[0-9a-fA-F]*/,
        greedy: true
      }
    ],
    symbol: {
      pattern: /'[^()#'\s]+/,
      greedy: true
    },
    keyword: [
      {
        pattern: RegExp(
          par + "(?:or|and|xor|not|begin|let|if|ok|err|unwrap\\!|unwrap-err\\!|unwrap-panic|unwrap-err-panic|match|try\\!|asserts\\!|map-get\\?|var-get|contract-map-get\\?|get|tuple|define-public|define-private|define-constant|define-map|define-data-var|define-fungible-token|define-non-fungible-token|define-read-only)" + space
        ),
        lookbehind: true
      },
      {
        pattern: RegExp(par + "(?:is-eq|is-some|is-none|is-ok|is-er)" + space),
        lookbehind: true
      },
      {
        pattern: RegExp(
          par + "(?:var-set|map-set|map-delete|map-insert|ft-transfer\\?|nft-transfer\\?|nft-mint\\?|ft-mint\\?|nft-get-owner\\?|ft-get-balance\\?|contract-call\\?)" + space
        ),
        lookbehind: true
      },
      {
        pattern: RegExp(
          par + "(?:list|map|filter|fold|len|concat|append|as-max-len\\?|to-int|to-uint|buff|hash160|sha256|sha512|sha512/256|keccak256|true|false|none)" + space
        ),
        lookbehind: true
      },
      {
        pattern: RegExp(
          par + "(?:as-contract|contract-caller|tx-sender|block-height|at-block|get-block-info\\?)" + space
        ),
        lookbehind: true
      },
      {
        pattern: RegExp(par + "(?:is-eq|is-some|is-none|is-ok|is-err)" + space),
        lookbehind: true
      }
    ],
    boolean: /(?:false|true|none)/,
    number: {
      pattern: primitive("[-]?u?\\d+"),
      lookbehind: true
    },
    address: {
      pattern: /([\s()])(?:\'[0123456789ABCDEFGHJKMNPQRSTVWXYZ]{28,41})(?=[()\s]|$)/,
      lookbehind: true
    },
    operator: {
      pattern: /(\()(?:[-+*\/]|[<>]=?|=>?)(?=[()\s]|$)/,
      lookbehind: true
    },
    function: {
      pattern: /(\()[^()'\s]+(?=[()\s]|$)/,
      lookbehind: true
    },
    punctuation: /[()']/
  };
  Prism2.languages.clarity = language;
};
clarity(prism);
const Prism = prism;

;// CONCATENATED MODULE: ./src/app/common/hooks/use-copy-to-clipboard.ts


function copyToClipboard(value) {
  const el = document.createElement("textarea");
  el.value = value;
  el.setAttribute("readonly", "");
  el.style.position = "absolute";
  el.style.left = "-9999px";
  document.body.appendChild(el);
  const curSelection = document.getSelection();
  const selected = curSelection && curSelection.rangeCount > 0 ? curSelection.getRangeAt(0) : false;
  el.select();
  document.execCommand("copy");
  document.body.removeChild(el);
  if (selected) {
    document.getSelection()?.removeAllRanges();
    document.getSelection()?.addRange(selected);
  }
}
function useClipboard(value) {
  const [hasCopied, setHasCopied] = (0,react.useState)(false);
  const timers = (0,react.useRef)([]);
  function onCopy() {
    copyToClipboard(value);
    setHasCopied(true);
    timers.current.push(window.setTimeout(() => setHasCopied(false), 1250));
  }
  (0,react.useEffect)(() => () => timers.current.forEach((timer) => clearTimeout(timer)), []);
  return { value, onCopy, hasCopied };
}

// EXTERNAL MODULE: ./node_modules/.pnpm/@tanstack+react-query@5.51.23_react@18.3.1/node_modules/@tanstack/react-query/build/modern/useQueries.js + 1 modules
var useQueries = __webpack_require__(77184);
// EXTERNAL MODULE: ./node_modules/.pnpm/axios@1.7.4/node_modules/axios/lib/axios.js + 48 modules
var axios = __webpack_require__(77511);
;// CONCATENATED MODULE: ./src/app/query/common/compliance-checker/compliance-checker.query.ts







const checkApi = "https://api.chainalysis.com/api/risk/v2/entities";
const headers = {
  // Known public key, do not open a vulnerability report for this
  Token: "51d3c7529eb08a8c62d41d70d006bdcd4248150fbd6826d5828ac908e7c12073"
};
async function registerEntityAddressComplianceCheck(address) {
  const resp = await axios/* default */.A.post(checkApi, { address }, { headers });
  return resp.data;
}
async function checkEntityAddressComplianceCheck(address) {
  const resp = await axios/* default */.A.get(checkApi + "/" + address, { headers });
  return resp.data;
}
async function checkEntityAddressIsCompliant(address) {
  await registerEntityAddressComplianceCheck(address);
  const entityReport = await checkEntityAddressComplianceCheck(address);
  const isOnSanctionsList = entityReport.risk === "Severe";
  if (isOnSanctionsList) void analytics/* analytics */.zS.track("non_compliant_entity_detected", { address });
  return { ...entityReport, isOnSanctionsList };
}
const oneWeekInMs = 6048e5;
function makeComplianceQuery(address, network) {
  return {
    enabled: network === "mainnet",
    queryKey: ["address-compliance-check", address],
    async queryFn() {
      return checkEntityAddressIsCompliant(address);
    },
    gcTime: Infinity,
    staleTime: oneWeekInMs,
    refetchInterval: oneWeekInMs,
    refetchOnMount: false,
    refetchOnReconnect: false,
    refetchOnWindowFocus: false
  };
}
function useCheckAddressComplianceQueries(addresses) {
  const network = (0,networks_selectors/* useCurrentNetwork */.Rm)();
  return (0,useQueries/* useQueries */.E)({
    queries: addresses.filter((address) => !(0,utils_dist/* isEmptyString */.jw)(address)).map((address) => makeComplianceQuery(address, network.chain.bitcoin.mode))
  });
}
const compliantErrorBody = "Unable to handle request, errorCode: 1398";
function useBreakOnNonCompliantEntity(address) {
  const nativeSegwitSigner = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSignerNullable */.r9)();
  const complianceReports = useCheckAddressComplianceQueries([
    nativeSegwitSigner?.address ?? "",
    ...(0,utils_dist/* ensureArray */.eC)(address)
  ]);
  if (complianceReports.some((report) => report.data?.isOnSanctionsList)) {
    void analytics/* analytics */.zS.track("non_compliant_entity_detected");
    throw new Error(compliantErrorBody);
  }
}

// EXTERNAL MODULE: ./node_modules/.pnpm/prism-react-renderer@2.3.1_react@18.3.1/node_modules/prism-react-renderer/dist/index.mjs + 1 modules
var prism_react_renderer_dist = __webpack_require__(99692);
;// CONCATENATED MODULE: ./src/app/ui/utils/prism.tsx

const theme = {
  plain: {
    color: "unset",
    background: "transparent"
  },
  styles: [
    {
      types: ["prolog"],
      style: {
        color: "rgb(0, 0, 128)"
      }
    },
    {
      types: ["comment", "punctuation"],
      style: {
        color: "rgb(106, 153, 85)"
      }
    },
    {
      types: ["builtin", "tag", "changed", "function", "keyword"],
      style: {
        color: "rgb(86, 156, 214)"
      }
    },
    {
      types: ["number", "variable", "inserted"],
      style: {
        color: "#A58FFF"
      }
    },
    {
      types: ["operator"],
      style: {
        color: "rgb(212, 212, 212)"
      }
    },
    {
      types: ["constant"],
      style: {
        color: "rgb(100, 102, 149)"
      }
    },
    {
      types: ["attr-name"],
      style: {
        color: "rgb(156, 220, 254)"
      }
    },
    {
      types: ["car"],
      style: {
        color: "rgb(156, 220, 254)"
      }
    },
    {
      types: ["deleted", "string"],
      style: {
        color: "#FF7B48"
      }
    },
    {
      types: ["class-name"],
      style: {
        color: "rgb(78, 201, 176)"
      }
    },
    {
      types: ["char"],
      style: {
        color: "#FF7B48"
      }
    }
  ]
};

;// CONCATENATED MODULE: ./src/app/ui/utils/start-pad.tsx

const startPad = (n, z = 2, s = "0") => (n + "").length <= z ? ["", "-"][+(n < 0)] + (s.repeat(z) + Math.abs(n)).slice(-1 * z) : n + "";

;// CONCATENATED MODULE: ./src/app/ui/components/highlighter.tsx







const lineNumberWidth = 60;
const getLineNumber = (n, length) => startPad(n + 1, length.toString().length);
function Tokens({
  tokens,
  getTokenProps,
  showLineNumbers,
  ...rest
}) {
  const pl = `calc(${showLineNumbers ? lineNumberWidth : "0"}px + 16px`;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { pl, pr: "space.04", position: "relative", zIndex: 2, ...rest, children: tokens.map((token, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { py: "space.01", display: "inline-block", ...getTokenProps({ token, i }) }, i)) });
}
function LineNumber({ number, length, ...rest }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* Flex */.so,
    {
      textAlign: "right",
      pr: "space.04",
      pl: "space.04",
      width: lineNumberWidth,
      borderRight: "1px solid",
      borderRightColor: "inherit",
      color: "ink.text-subdued",
      flexShrink: 0,
      style: { userSelect: "none" },
      position: "absolute",
      left: 0,
      height: "100%",
      align: "baseline",
      justify: "center",
      zIndex: 1,
      ...rest,
      children: getLineNumber(number, length)
    }
  );
}
function Line({
  tokens,
  getTokenProps,
  index,
  length,
  showLineNumbers,
  hideLineHover,
  ...rest
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Flex */.so,
    {
      height: "space.05",
      align: "baseline",
      borderColor: "ink.border-default",
      _hover: hideLineHover ? void 0 : {
        bg: ["unset", "unset", "ink.text-primary"],
        borderColor: ["ink.text-primary", "ink.text-primary", "ink.text-subdued"]
      },
      position: "relative",
      ...rest,
      children: [
        showLineNumbers ? /* @__PURE__ */ (0,jsx_runtime.jsx)(LineNumber, { number: index, length }) : null,
        /* @__PURE__ */ (0,jsx_runtime.jsx)(Tokens, { showLineNumbers, getTokenProps, tokens })
      ]
    }
  );
}
function Lines({
  tokens: lines,
  getLineProps,
  getTokenProps,
  className,
  showLineNumbers,
  hideLineHover
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { display: "block", className, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { display: "block", style: { fontFamily: "Fira Code" }, children: lines.map((tokens, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
    Line,
    {
      index: i,
      tokens,
      getTokenProps,
      length: lines.length + 1,
      showLineNumbers,
      hideLineHover: hideLineHover || lines.length < 3,
      ...getLineProps({ line: tokens, key: i })
    },
    i
  )) }) });
}
const Highlighter = (0,react.memo)(
  ({ code, language = "clarity", showLineNumbers, hideLineHover, prism }) => {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(prism_react_renderer_dist/* Highlight */.f4, { theme: theme, code, language, prism, children: (props) => /* @__PURE__ */ (0,jsx_runtime.jsx)(Lines, { showLineNumbers, hideLineHover, ...props }) });
  }
);

;// CONCATENATED MODULE: ./src/app/ui/components/codeblock.tsx





const CodeBlock = (0,react.forwardRef)(
  ({ code, showLineNumbers, hideLineHover, style = {}, language, prism, ...rest }, ref) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* Box */.az,
    {
      bg: "invert",
      borderRadius: [0, "lg"],
      overflowX: "auto",
      p: "space.04",
      ref,
      style: {
        ...style,
        whiteSpace: "pre",
        fontFamily: "Fira Code, Consolata, monospace",
        fontSize: "14px"
      },
      width: "100%",
      ...rest,
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        Highlighter,
        {
          language,
          code: code.toString().trim(),
          showLineNumbers,
          hideLineHover,
          prism
        }
      )
    }
  )
);

;// CONCATENATED MODULE: ./src/app/features/errors/app-error-boundary.tsx













function shouldShowContactSupportMessage(errorMsg) {
  if (errorMsg.includes(compliantErrorBody)) return false;
  return true;
}
function ErroBoundaryBody() {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* styled */.I4.span,
    {
      "data-testid": shared_component_selectors/* SharedComponentsSelectors */.s.BroadcastErrorTitle,
      mx: "space.05",
      mt: "space.05",
      textStyle: "label.02",
      children: [
        "Leather has crashed. If this problem persists, contact our",
        " ",
        /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Link */.N_, { href: "https://leather.io/support", target: "_blank", textDecoration: "underline", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          jsx/* styled */.I4.span,
          {
            "data-testid": shared_component_selectors/* SharedComponentsSelectors */.s.BroadcastErrorTitle,
            textStyle: "label.02",
            children: "support team."
          }
        ) })
      ]
    }
  );
}
const app_error_boundary_title = "Something went wrong";
const defaultErrorText = "Unknown error";
function getErrorText(error) {
  if (!(0,utils_dist/* isError */.bJ)(error)) return defaultErrorText;
  return error.stack || defaultErrorText;
}
function RouterErrorBoundary() {
  const error = (0,react_router_dist/* useRouteError */.r5)();
  const toast = (0,use_toast/* useToast */.d)();
  const errorText = getErrorText(error);
  const { onCopy } = useClipboard(getErrorText(error));
  function onClickCopy() {
    onCopy();
    toast.success("Error copied!");
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Flex */.so,
    {
      alignItems: "center",
      justifyContent: "center",
      flexDirection: "column",
      px: ["space.05", "unset"],
      py: ["space.05", "space.06"],
      width: "100%",
      maxWidth: "500px",
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mt: "space.05", children: /* @__PURE__ */ (0,jsx_runtime.jsx)("img", { src: unhappy_face_ui, alt: "Unhappy user interface cloud", width: "106px" }) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          jsx/* styled */.I4.span,
          {
            "data-testid": shared_component_selectors/* SharedComponentsSelectors */.s.BroadcastErrorTitle,
            mx: "space.05",
            mt: "space.05",
            textStyle: "heading.05",
            children: app_error_boundary_title
          }
        ),
        shouldShowContactSupportMessage(errorText) && /* @__PURE__ */ (0,jsx_runtime.jsx)(ErroBoundaryBody, {}),
        errorText && /* @__PURE__ */ (0,jsx_runtime.jsx)(
          CodeBlock,
          {
            bg: "ink.background-secondary",
            borderRadius: "sm",
            my: "space.05",
            mx: "space.05",
            p: "space.04",
            prism: Prism,
            code: errorText,
            language: "json",
            hideLineHover: true
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { width: "100%", gap: "space.04", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(
            exports_web/* Button */.$n,
            {
              flex: "1",
              display: "flex",
              justifyContent: "center",
              alignItems: "center",
              gap: "5",
              onClick: onClickCopy,
              variant: "outline",
              children: [
                "Copy error",
                /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CopyIcon */.Td, {})
              ]
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { flex: "1", onClick: () => window.location.reload(), children: "Reload extension" })
        ] })
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/common/hooks/use-scroll-lock.ts


let instances = /* @__PURE__ */ new Set();
if (typeof window !== "undefined") {
  window.__useScrollLockInstances = window.__useScrollLockInstances || /* @__PURE__ */ new Set();
  instances = window.__useScrollLockInstances;
}
const registerInstance = (instance) => {
  if (instances.size === 0) {
    setBodyOverflow(true);
  }
  instances.add(instance);
};
const unregisterInstance = (instance) => {
  instances.delete(instance);
  if (instances.size === 0) {
    setBodyOverflow(false);
  }
};
const setBodyOverflow = (shouldLock) => {
  if (shouldLock) {
    document.body.classList.add("no-scroll");
  } else {
    document.body.classList.remove("no-scroll");
  }
};
const useScrollLock = (shouldLock) => {
  const [elementId] = (0,react.useState)({});
  (0,react.useEffect)(() => {
    if (shouldLock) {
      registerInstance(elementId);
    }
    return () => unregisterInstance(elementId);
  }, [elementId, shouldLock]);
};

;// CONCATENATED MODULE: ./src/shared/crypto/bitcoin/bitcoin.utils.ts



function getBitcoinInputValue(input) {
  if ((0,utils_dist/* isDefined */.O9)(input.witnessUtxo)) return Number(input.witnessUtxo.amount);
  if ((0,utils_dist/* isDefined */.O9)(input.nonWitnessUtxo) && (0,utils_dist/* isDefined */.O9)(input.index))
    return Number(input.nonWitnessUtxo.outputs[input.index]?.amount);
  logger/* logger */.v.warn("Unable to find either `witnessUtxo` or `nonWitnessUtxo` in input. Defaulting to 0");
  return 0;
}

;// CONCATENATED MODULE: ./src/app/common/utils/create-waitable-action.ts


function createWaitableAction() {
  let resolve = (_value) => (0,utils_dist/* noop */.lQ)();
  const promise = new Promise((r) => resolve = r);
  return {
    done(value) {
      resolve(value);
    },
    wait() {
      return promise;
    }
  };
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-flows/tx-signing/ledger-sign-tx.context.ts



function createWaitForUserToSeeWarningScreen() {
  return createWaitableAction();
}
const ledgerTxSigningContext = (0,react.createContext)(null);
function useLedgerTxSigningContext() {
  const context = (0,react.useContext)(ledgerTxSigningContext);
  if (!context) throw new Error("ledgerTxSigningContext is undefined");
  return context;
}
const LedgerTxSigningProvider = ledgerTxSigningContext.Provider;

;// CONCATENATED MODULE: ./src/app/components/layout/divider-separator.tsx




function DividerSeparator({ children, ...props }) {
  const parsedChildren = Array.isArray(children) ? children : [children];
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: parsedChildren.flatMap((child, index) => {
    if (!(0,react.isValidElement)(child)) return null;
    return [
      (0,react.cloneElement)(child, {
        key: index
      }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web.Hr, { ...props }, index.toString() + "-hr")
    ];
  }).filter((_value, index, array) => index !== array.length - 1) });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/illustrations/ledger-illu-sign-ledger-transaction.tsx


function SignLedgerTransaction() {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    "svg",
    {
      width: "292",
      height: "112",
      viewBox: "0 0 292 112",
      fill: "none",
      xmlns: "http://www.w3.org/2000/svg",
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M7.5 53.5H31.5V58.5H7.5", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M2.5 53.5H5", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0.538086 58.5H5", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M36.0927 44.5048H44.5V67.5H36.0927C35.5605 67.5 35.0105 67.248 34.4636 66.7032C33.9147 66.1563 33.3973 65.3398 32.9521 64.2909C32.0624 62.1952 31.5 59.2646 31.5 56C31.5 52.7354 32.0624 49.8048 32.9521 47.7091C33.3973 46.6602 33.9147 45.8437 34.4636 45.2968C34.9668 44.7954 35.4728 44.5421 35.965 44.5048H36.0927Z",
            stroke: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M50.0847 37.5H76.9153C80.012 37.5 82.5 39.9427 82.5 42.9286V69.0714C82.5 72.0574 80.012 74.5 76.9153 74.5H50.0847C46.988 74.5 44.5 72.0574 44.5 69.0714V42.9286C44.5 39.9427 46.988 37.5 50.0847 37.5Z",
            stroke: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M82.5 45.5H85.5V66.5H82.5V45.5Z", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M41.9276 64.3217C42.4897 63.3941 43.048 62.2411 43.5 60.8377V66.5H40.2873C40.7583 66.001 41.344 65.2846 41.9276 64.3217Z",
            fill: "currentColor",
            stroke: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M66 64V65H74V60H73V64H66ZM66 47V48H73V52H74V47H66ZM62 52H61V60H66V59H62V52ZM53 60V65H61V64H54V60H53ZM53 47V52H54V48H61V47H53Z",
            fill: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("mask", { id: "path-9-inside-1_2806_34294", fill: "white", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M92.5377 27H248.088C232.036 27 219 39.9899 219 55.9975C219 72.0001 232.031 84.995 248.088 84.995H269.739C269.647 84.9983 269.555 85 269.462 85H92.5377C88.3747 85 85 81.6066 85 77.4205V34.5795C85 30.3934 88.3747 27 92.5377 27Z"
          }
        ) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M269.739 84.995L269.775 85.9943L269.739 83.995V84.995ZM248.088 26H92.5377V28H248.088V26ZM220 55.9975C220 40.5453 232.585 28 248.088 28V26C231.486 26 218 39.4346 218 55.9975H220ZM248.088 83.995C232.58 83.995 220 71.445 220 55.9975H218C218 72.5552 231.481 85.995 248.088 85.995V83.995ZM269.739 83.995H248.088V85.995H269.739V83.995ZM269.462 86C269.567 86 269.671 85.9981 269.775 85.9943L269.702 83.9957C269.623 83.9985 269.543 84 269.462 84V86ZM92.5377 86H269.462V84H92.5377V86ZM84 77.4205C84 82.1536 87.8172 86 92.5377 86V84C88.9322 84 86 81.0595 86 77.4205H84ZM84 34.5795V77.4205H86V34.5795H84ZM92.5377 26C87.8172 26 84 29.8464 84 34.5795H86C86 30.9405 88.9322 28 92.5377 28V26Z",
            fill: "currentColor",
            mask: "url(#path-9-inside-1_2806_34294)"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M135.5 56C135.5 66.2173 127.217 74.5 117 74.5C106.783 74.5 98.5 66.2173 98.5 56C98.5 45.7827 106.783 37.5 117 37.5C127.217 37.5 135.5 45.7827 135.5 56Z",
            stroke: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            opacity: "0.5",
            d: "M117 81C130.807 81 142 69.8071 142 56C142 42.1929 130.807 31 117 31C103.193 31 92 42.1929 92 56C92 69.8071 103.193 81 117 81Z",
            fill: "#33B172"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M117 64C121.418 64 125 60.4183 125 56C125 51.5817 121.418 48 117 48C112.582 48 109 51.5817 109 56C109 60.4183 112.582 64 117 64Z",
            fill: "#33B172"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("mask", { id: "path-14-inside-2_2806_34294", fill: "white", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M231.762 32H153.631C150.523 32 148 34.6191 148 37.8451V74.1549C148 77.3809 150.523 80 153.631 80H231.77C231.297 79.68 230.834 79.3465 230.382 79H153.631C151.11 79 149 76.8641 149 74.1549V37.8451C149 35.1359 151.11 33 153.631 33H230.376C230.828 32.6536 231.29 32.32 231.762 32Z"
          }
        ) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M231.762 32H153.631C150.523 32 148 34.6191 148 37.8451V74.1549C148 77.3809 150.523 80 153.631 80H231.77C231.297 79.68 230.834 79.3465 230.382 79H153.631C151.11 79 149 76.8641 149 74.1549V37.8451C149 35.1359 151.11 33 153.631 33H230.376C230.828 32.6536 231.29 32.32 231.762 32Z",
            fill: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M231.762 32L232.323 32.8278L235.02 31H231.762V32ZM231.77 80V81H235.029L232.33 79.172L231.77 80ZM230.382 79L230.991 78.2063L230.721 78H230.382V79ZM230.376 33V34H230.715L230.984 33.7936L230.376 33ZM231.762 31H153.631V33H231.762V31ZM153.631 31C149.936 31 147 34.1024 147 37.8451H149C149 35.1359 151.11 33 153.631 33V31ZM147 37.8451V74.1549H149V37.8451H147ZM147 74.1549C147 77.8976 149.936 81 153.631 81V79C151.11 79 149 76.8641 149 74.1549H147ZM153.631 81H231.77V79H153.631V81ZM232.33 79.172C231.874 78.863 231.427 78.5409 230.991 78.2063L229.774 79.7937C230.242 80.152 230.72 80.497 231.209 80.828L232.33 79.172ZM153.631 80H230.382V78H153.631V80ZM148 74.1549C148 77.3832 150.525 80 153.631 80V78C151.695 78 150 76.3451 150 74.1549H148ZM148 37.8451V74.1549H150V37.8451H148ZM153.631 32C150.525 32 148 34.6168 148 37.8451H150C150 35.6549 151.695 34 153.631 34V32ZM230.376 32H153.631V34H230.376V32ZM230.984 33.7936C231.421 33.459 231.867 33.1369 232.323 32.8278L231.201 31.1722C230.713 31.5032 230.235 31.8481 229.768 32.2064L230.984 33.7936Z",
            fill: "currentColor",
            mask: "url(#path-14-inside-2_2806_34294)"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M178 56H175V59H178V56Z", fill: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M181 59H178V62H181V59Z", fill: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M184 62H181V65H184V62Z", fill: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M187 59H184V62H187V59Z", fill: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M190 56H187V59H190V56Z", fill: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M193 53H190V56H193V53Z", fill: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M196 50H193V53H196V50Z", fill: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M199 47H196V50H199V47Z", fill: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M282.462 27.5L247.088 27.5C231.035 27.5 218 40.266 218 55.9975C218 71.7242 231.03 84.4951 247.088 84.4951H282.462V84.5",
            stroke: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M285 27.5H289.462", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M285 84.5H287.5", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M266.5 56C266.5 66.2173 258.217 74.5 248 74.5C237.783 74.5 229.5 66.2173 229.5 56C229.5 45.7827 237.783 37.5 248 37.5C258.217 37.5 266.5 45.7827 266.5 56Z",
            stroke: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            opacity: "0.2",
            d: "M248 93C268.435 93 285 76.4345 285 56C285 35.5655 268.435 19 248 19C227.565 19 211 35.5655 211 56C211 76.4345 227.565 93 248 93Z",
            fill: "#33B172"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            opacity: "0.2",
            d: "M117 93C137.435 93 154 76.4345 154 56C154 35.5655 137.435 19 117 19C96.5655 19 80 35.5655 80 56C80 76.4345 96.5655 93 117 93Z",
            fill: "#33B172"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            opacity: "0.5",
            d: "M248 81C261.807 81 273 69.8071 273 56C273 42.1929 261.807 31 248 31C234.193 31 223 42.1929 223 56C223 69.8071 234.193 81 248 81Z",
            fill: "#33B172"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            opacity: "0.75",
            d: "M248 64C252.418 64 256 60.4183 256 56C256 51.5817 252.418 48 248 48C243.582 48 240 51.5817 240 56C240 60.4183 243.582 64 248 64Z",
            fill: "#33B172"
          }
        )
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/ledger/components/looking-for-ledger-label.tsx




function LookingForLedgerLabel({ children, ...props }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { alignItems: "center", flexDirection: "row", ...props, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Spinner */.y$, { opacity: 0.5 }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { ml: "space.02", children })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/components/success-label.tsx




function LedgerSuccessLabel({ children, ...props }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { alignItems: "center", color: "green.action-primary-default", flexDirection: "row", ...props, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CheckmarkIcon */.Nr, {}),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { color: "inherit", ml: "space.02", children })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/components/device-approval-status.tsx




function DeviceOperationApprovalStatus({ status }) {
  if (status === "awaiting-approval")
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(LookingForLedgerLabel, { my: "space.06", children: "Waiting for your approval" });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerSuccessLabel, { my: "space.06", children: "Approved" });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/components/ledger-screen-detail.tsx





function LedgerScreenDetail(props) {
  const { children, title, tooltipLabel } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { borderColor: "ink.border-default", flexDirection: "column", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { children: tooltipLabel ? /* @__PURE__ */ (0,jsx_runtime.jsx)(basic_tooltip/* BasicTooltip */.G, { label: tooltipLabel, side: "top", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { cursor: "question", display: "inline-flex", children: [
      title,
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { ml: "space.01", mt: "space.01", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* InfoCircleIcon */.ee, { color: "ink.text-subdued", variant: "small" }) })
    ] }) }) : /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: title }) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { alignItems: "center", mt: "space.04", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { overflowWrap: "break-word", width: "100%", children }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/ui/utils/capitalize.tsx



function Capitalize({ children }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textTransform: "capitalize", children });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/components/ledger-title.tsx




function LedgerTitle(props) {
  const { children, ...rest } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "heading.05", ...rest, children });
}
function LedgerConnectInstructionTitle({
  chain,
  ...props
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(LedgerTitle, { ...props, children: [
    "Plug in your Ledger, open the ",
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Capitalize, { children: chain }),
    " app and click connect"
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/components/ledger-wrapper.tsx



function LedgerWrapper({ image, children, ...props }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { maxHeight: "80vh", px: "space.05", textAlign: "center", ...props, children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { alignItems: "center", flexDirection: "column", pb: "space.05", children: [
    image && /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mb: "space.06", children: image }),
    children
  ] }) });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-steps/approve-ledger-operation/approve-ledger-operation.layout.tsx









function ApproveLedgerOperationLayout(props) {
  const { description, details, status } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(LedgerWrapper, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mt: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(SignLedgerTransaction, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerTitle, { mt: "space.05", mx: "space.08", children: description }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(DeviceOperationApprovalStatus, { status }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      jsx/* Flex */.so,
      {
        bg: "ink.background-secondary",
        borderRadius: "lg",
        flexDirection: "column",
        px: "space.06",
        py: "space.06",
        textAlign: "left",
        width: "100%",
        children: /* @__PURE__ */ (0,jsx_runtime.jsx)(DividerSeparator, { my: "space.04", children: details.map(([title, value, tooltipLabel]) => /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerScreenDetail, { title, tooltipLabel, children: value }, value)) })
      }
    )
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/hooks/use-has-approved-transaction.ts




function useHasApprovedOperation() {
  const location = (0,react_router_dist/* useLocation */.zy)();
  return (0,react.useMemo)(() => {
    const state = location.state;
    return lodash_get_default()(state, "hasApprovedOperation", false);
  }, [location.state]);
}

;// CONCATENATED MODULE: ./src/app/features/ledger/flows/bitcoin-tx-signing/steps/approve-bitcoin-sign-ledger-tx.tsx







function ApproveSignLedgerBitcoinTx() {
  const hasApprovedOperation = useHasApprovedOperation();
  const context = useLedgerTxSigningContext();
  if (context.chain !== "bitcoin") return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    ApproveLedgerOperationLayout,
    {
      description: "Verify the transaction details on your Ledger",
      details: [
        ...(0,bitcoin_dist/* getPsbtTxInputs */.Fq)(context.transaction).map((input, i) => [
          `Input ${i + 1}`,
          `${getBitcoinInputValue(input)} sats`
        ]),
        ...(0,bitcoin_dist/* getPsbtTxOutputs */.kE)(context.transaction).map(
          (output, i) => [`Output ${i + 1}`, output.amount?.toString() + " sats"]
        )
      ],
      status: hasApprovedOperation ? "approved" : "awaiting-approval"
    }
  );
}

;// CONCATENATED MODULE: ./public/assets/images/generic-error.png
/* harmony default export */ const generic_error = (__webpack_require__.p + "aa6625e66799222a8c7c26235ba966e6.png");
;// CONCATENATED MODULE: ./src/app/features/ledger/flows/stacks-tx-signing/steps/contract-principal-bug-warning.tsx










function ContractPrincipalBugWarning() {
  const context = useLedgerTxSigningContext();
  const { isLoading, setIsLoading, setIsIdle } = useLoading("temp-spinner-deep-link");
  if (context.chain !== "stacks") return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(LedgerWrapper, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mx: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsx)("img", { src: generic_error, width: "106px" }) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerTitle, { mt: "space.04", children: "Stacks Ledger app is outdated" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.span, { mt: "space.04", mx: "space.02", textStyle: "body.02", children: [
      "Some transactions are not compatible with outdated app versions. Update your app in",
      " ",
      /* @__PURE__ */ (0,jsx_runtime.jsx)("a", { href: "ledgerlive://manager", style: { textDecoration: "underline" }, children: "Ledger Live" }),
      " ",
      "and try again."
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { mb: "space.05", mt: "space.06", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        jsx/* styled */.I4.a,
        {
          "aria-busy": isLoading,
          href: "ledgerlive://manager",
          onClick: async () => {
            setIsLoading();
            await (0,utils_dist/* delay */.cb)(300);
            setIsIdle();
          },
          children: "Open Ledger Live \u2197"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* Button */.$n,
        {
          onClick: () => context.hasUserSkippedBuggyAppWarning.done("ignored-warning"),
          variant: "outline",
          children: "Continue anyway"
        }
      )
    ] })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/hooks/use-ledger-latest-route-error.hook.ts



function useLatestLedgerError() {
  const location = (0,react_router_dist/* useLocation */.zy)();
  return (0,react.useMemo)(() => {
    const state = location.state;
    if (!state || state === null) return null;
    if (typeof state === "object") {
      const error = state.latestLedgerError;
      if (error) return error;
    }
    return null;
  }, [location.state]);
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-steps/connect-device/connect-ledger-error.tsx







function ConnectLedgerError() {
  const latestLedgerError = useLatestLedgerError();
  const ledgerNavigate = (0,use_ledger_navigate/* useLedgerNavigate */.W)();
  const chain = useLocationState("chain");
  const appName = (0,common_utils/* capitalize */.ZH)(chain);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    ConnectLedgerErrorLayout,
    {
      warningText: latestLedgerError,
      appName,
      onTryAgain: () => ledgerNavigate.toConnectStepAndTryAgain()
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/ledger/illustrations/ledger-illu-connect-ledger-error.tsx


function ConnectLedgerErr() {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    "svg",
    {
      width: "292",
      height: "112",
      viewBox: "0 0 292 112",
      fill: "none",
      xmlns: "http://www.w3.org/2000/svg",
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M7.5 53.5H31.5V58.5H7.5", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M2.5 53.5H5", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0.538086 58.5H5", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M36.0927 44.5048H44.5V67.5H36.0927C35.5605 67.5 35.0105 67.248 34.4636 66.7032C33.9147 66.1563 33.3973 65.3398 32.9521 64.2909C32.0624 62.1952 31.5 59.2646 31.5 56C31.5 52.7354 32.0624 49.8048 32.9521 47.7091C33.3973 46.6602 33.9147 45.8437 34.4636 45.2968C34.9668 44.7954 35.4728 44.5421 35.965 44.5048H36.0927Z",
            stroke: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M50.0847 37.5H76.9153C80.012 37.5 82.5 39.9427 82.5 42.9286V69.0714C82.5 72.0574 80.012 74.5 76.9153 74.5H50.0847C46.988 74.5 44.5 72.0574 44.5 69.0714V42.9286C44.5 39.9427 46.988 37.5 50.0847 37.5Z",
            stroke: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M82.5 45.5H85.5V66.5H82.5V45.5Z", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M41.9276 64.3217C42.4897 63.3941 43.048 62.2411 43.5 60.8377V66.5H40.2873C40.7583 66.001 41.344 65.2846 41.9276 64.3217Z",
            fill: "currentColor",
            stroke: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M66 64V65H74V60H73V64H66ZM66 47V48H73V52H74V47H66ZM62 52H61V60H66V59H62V52ZM53 60V65H61V64H54V60H53ZM53 47V52H54V48H61V47H53Z",
            fill: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("mask", { id: "path-9-inside-1_2656_25707", fill: "white", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M92.5377 27H248.088C232.036 27 219 39.9899 219 55.9975C219 72.0001 232.031 84.995 248.088 84.995H269.739C269.647 84.9983 269.555 85 269.462 85H92.5377C88.3747 85 85 81.6066 85 77.4205V34.5795C85 30.3934 88.3747 27 92.5377 27Z"
          }
        ) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M269.739 84.995L269.775 85.9943L269.739 83.995V84.995ZM248.088 26H92.5377V28H248.088V26ZM220 55.9975C220 40.5453 232.585 28 248.088 28V26C231.486 26 218 39.4346 218 55.9975H220ZM248.088 83.995C232.58 83.995 220 71.445 220 55.9975H218C218 72.5552 231.481 85.995 248.088 85.995V83.995ZM269.739 83.995H248.088V85.995H269.739V83.995ZM269.462 86C269.567 86 269.671 85.9981 269.775 85.9943L269.702 83.9957C269.623 83.9985 269.543 84 269.462 84V86ZM92.5377 86H269.462V84H92.5377V86ZM84 77.4205C84 82.1536 87.8172 86 92.5377 86V84C88.9322 84 86 81.0595 86 77.4205H84ZM84 34.5795V77.4205H86V34.5795H84ZM92.5377 26C87.8172 26 84 29.8464 84 34.5795H86C86 30.9405 88.9322 28 92.5377 28V26Z",
            fill: "currentColor",
            mask: "url(#path-9-inside-1_2656_25707)"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M135.5 56C135.5 66.2173 127.217 74.5 117 74.5C106.783 74.5 98.5 66.2173 98.5 56C98.5 45.7827 106.783 37.5 117 37.5C127.217 37.5 135.5 45.7827 135.5 56Z",
            stroke: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("mask", { id: "path-12-inside-2_2656_25707", fill: "white", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M231.762 32H153.631C150.523 32 148 34.6191 148 37.8451V74.1549C148 77.3809 150.523 80 153.631 80H231.77C231.297 79.68 230.834 79.3465 230.382 79H153.631C151.11 79 149 76.8641 149 74.1549V37.8451C149 35.1359 151.11 33 153.631 33H230.376C230.828 32.6536 231.29 32.32 231.762 32Z"
          }
        ) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M231.762 32H153.631C150.523 32 148 34.6191 148 37.8451V74.1549C148 77.3809 150.523 80 153.631 80H231.77C231.297 79.68 230.834 79.3465 230.382 79H153.631C151.11 79 149 76.8641 149 74.1549V37.8451C149 35.1359 151.11 33 153.631 33H230.376C230.828 32.6536 231.29 32.32 231.762 32Z",
            fill: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M231.762 32L232.323 32.8278L235.02 31H231.762V32ZM231.77 80V81H235.029L232.33 79.172L231.77 80ZM230.382 79L230.991 78.2063L230.721 78H230.382V79ZM230.376 33V34H230.715L230.984 33.7936L230.376 33ZM231.762 31H153.631V33H231.762V31ZM153.631 31C149.936 31 147 34.1024 147 37.8451H149C149 35.1359 151.11 33 153.631 33V31ZM147 37.8451V74.1549H149V37.8451H147ZM147 74.1549C147 77.8976 149.936 81 153.631 81V79C151.11 79 149 76.8641 149 74.1549H147ZM153.631 81H231.77V79H153.631V81ZM232.33 79.172C231.874 78.863 231.427 78.5409 230.991 78.2063L229.774 79.7937C230.242 80.152 230.72 80.497 231.209 80.828L232.33 79.172ZM153.631 80H230.382V78H153.631V80ZM148 74.1549C148 77.3832 150.525 80 153.631 80V78C151.695 78 150 76.3451 150 74.1549H148ZM148 37.8451V74.1549H150V37.8451H148ZM153.631 32C150.525 32 148 34.6168 148 37.8451H150C150 35.6549 151.695 34 153.631 34V32ZM230.376 32H153.631V34H230.376V32ZM230.984 33.7936C231.421 33.459 231.867 33.1369 232.323 32.8278L231.201 31.1722C230.713 31.5032 230.235 31.8481 229.768 32.2064L230.984 33.7936Z",
            fill: "currentColor",
            mask: "url(#path-12-inside-2_2656_25707)"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M186 45H183V48H186V45Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M180 48H177V51H180V48Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M186 48H183V51H186V48Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M180 51H177V54H180V51Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M189 51H186V54H189V51Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M183 54H180V57H183V54Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M195 55H192V58H195V55Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M198 52H195V55H198V52Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M201 52H198V55H201V52Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M192 55H189V58H192V55Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M189 58H186V61H189V58Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M186 61H183V64H186V61Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M183 64H180V67H183V64Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M282.462 27.5L247.088 27.5C231.035 27.5 218 40.266 218 55.9975C218 71.7242 231.03 84.4951 247.088 84.4951H282.462V84.5",
            stroke: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M285 27.5H289.462", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M285 84.5H287.5", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M266.5 56C266.5 66.2173 258.217 74.5 248 74.5C237.783 74.5 229.5 66.2173 229.5 56C229.5 45.7827 237.783 37.5 248 37.5C258.217 37.5 266.5 45.7827 266.5 56Z",
            stroke: "currentColor"
          }
        )
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-steps/connect-device/connect-ledger-error.layout.tsx







function PossibleReasonUnableToConnect(props) {
  const { text } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { alignItems: "center", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mr: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CircleIcon */.GQ, { fill: "ink.text-primary", width: "4px" }) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "body.02", children: text })
  ] });
}
function ConnectLedgerErrorLayout(props) {
  const { warningText, onTryAgain, appName } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(LedgerWrapper, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mt: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(ConnectLedgerErr, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerTitle, { mt: { base: "space.04", sm: "space.07" }, children: "We're unable to connect to your Ledger device" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Callout */.Pq, { variant: warningText ? "warning" : "error", mt: "space.04", children: warningText ? warningText : "Unable to connect" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { borderRadius: "md", gap: "space.01", textAlign: "left", py: "space.05", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(PossibleReasonUnableToConnect, { text: "Check if Ledger Live is open. Close it and try again" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(PossibleReasonUnableToConnect, { text: "Ensure you only have one instance of Leather open" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(PossibleReasonUnableToConnect, { text: `Verify the ${appName} app is installed and open` }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(PossibleReasonUnableToConnect, { text: "Check you've approved the browser USB pop up" })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { width: "100%", onClick: onTryAgain, children: "Try again" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { gap: "space.01", mt: "space.05", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { color: "ink.text-subdued", textStyle: "label.03", children: "If the problem persists, check our" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* Link */.N_,
        {
          href: "https://leather.gitbook.io/guides/securing-the-wallet/using-ledger-with-leather",
          size: "sm",
          children: "Support Page"
        }
      )
    ] })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/illustrations/ledger-illu-success.tsx


function ConnectLedgerSuccess() {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    "svg",
    {
      width: "292",
      height: "104",
      viewBox: "0 0 292 104",
      fill: "none",
      xmlns: "http://www.w3.org/2000/svg",
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M7.5 50.5H31.5V55.5H7.5", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M2.5 50.5H5", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0.538086 55.5H5", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M36.0927 41.5048H44.5V64.5H36.0927C35.5605 64.5 35.0105 64.248 34.4636 63.7032C33.9147 63.1563 33.3973 62.3398 32.9521 61.2909C32.0624 59.1952 31.5 56.2646 31.5 53C31.5 49.7354 32.0624 46.8048 32.9521 44.7091C33.3973 43.6602 33.9147 42.8437 34.4636 42.2968C34.9668 41.7954 35.4728 41.5421 35.965 41.5048H36.0927Z",
            stroke: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M50.0847 34.5H76.9153C80.012 34.5 82.5 36.9427 82.5 39.9286V66.0714C82.5 69.0574 80.012 71.5 76.9153 71.5H50.0847C46.988 71.5 44.5 69.0574 44.5 66.0714V39.9286C44.5 36.9427 46.988 34.5 50.0847 34.5Z",
            stroke: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M82.5 63.5V42.5H85.5V63.5H82.5Z", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M41.9276 61.3217C42.4897 60.3941 43.048 59.2411 43.5 57.8377V63.5H40.2873C40.7583 63.001 41.344 62.2846 41.9276 61.3217Z",
            fill: "currentColor",
            stroke: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M66 61V62H74V57H73V61H66ZM66 44V45H73V49H74V44H66ZM62 49H61V57H66V56H62V49ZM53 57V62H61V61H54V57H53ZM53 44V49H54V45H61V44H53Z",
            fill: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("mask", { id: "path-9-inside-1_2656_25457", fill: "white", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M92.5377 24H248.088C232.036 24 219 36.9899 219 52.9975C219 69.0001 232.031 81.995 248.088 81.995H269.739C269.647 81.9983 269.555 82 269.462 82H92.5377C88.3747 82 85 78.6066 85 74.4205V31.5795C85 27.3934 88.3747 24 92.5377 24Z"
          }
        ) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M269.739 81.995L269.775 82.9943L269.739 80.995V81.995ZM248.088 23H92.5377V25H248.088V23ZM220 52.9975C220 37.5453 232.585 25 248.088 25V23C231.486 23 218 36.4346 218 52.9975H220ZM248.088 80.995C232.58 80.995 220 68.445 220 52.9975H218C218 69.5552 231.481 82.995 248.088 82.995V80.995ZM269.739 80.995H248.088V82.995H269.739V80.995ZM269.462 83C269.567 83 269.671 82.9981 269.775 82.9943L269.702 80.9957C269.623 80.9985 269.543 81 269.462 81V83ZM92.5377 83H269.462V81H92.5377V83ZM84 74.4205C84 79.1536 87.8172 83 92.5377 83V81C88.9322 81 86 78.0595 86 74.4205H84ZM84 31.5795V74.4205H86V31.5795H84ZM92.5377 23C87.8172 23 84 26.8464 84 31.5795H86C86 27.9405 88.9322 25 92.5377 25V23Z",
            fill: "currentColor",
            mask: "url(#path-9-inside-1_2656_25457)"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            opacity: "0.34",
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M206 53C206 64.0457 197.046 73 186 73C174.954 73 166 64.0457 166 53C166 41.9543 174.954 33 186 33C197.046 33 206 41.9543 206 53ZM191.649 50.761C192.069 50.4027 192.119 49.7716 191.761 49.3513C191.403 48.931 190.772 48.8807 190.351 49.239L183.962 54.6858L181.649 52.713C181.229 52.3546 180.598 52.4047 180.239 52.8249C179.881 53.2451 179.931 53.8763 180.351 54.2347L183.313 56.7609C183.687 57.0797 184.237 57.0797 184.611 56.761L191.649 50.761Z",
            fill: "#23A278"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M199 53C199 60.1797 193.18 66 186 66C178.82 66 173 60.1797 173 53C173 45.8203 178.82 40 186 40C193.18 40 199 45.8203 199 53ZM191.649 50.761C192.069 50.4027 192.119 49.7716 191.761 49.3513C191.403 48.931 190.772 48.8807 190.351 49.239L183.962 54.6858L181.649 52.713C181.229 52.3546 180.598 52.4047 180.239 52.8249C179.881 53.2451 179.931 53.8763 180.351 54.2347L183.313 56.7609C183.687 57.0797 184.237 57.0797 184.611 56.761L191.649 50.761Z",
            fill: "#23A278"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M135.5 53C135.5 63.2173 127.217 71.5 117 71.5C106.783 71.5 98.5 63.2173 98.5 53C98.5 42.7827 106.783 34.5 117 34.5C127.217 34.5 135.5 42.7827 135.5 53Z",
            stroke: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("mask", { id: "path-14-inside-2_2656_25457", fill: "white", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M231.762 29H153.631C150.523 29 148 31.6191 148 34.8451V71.1549C148 74.3809 150.523 77 153.631 77H231.77C231.297 76.68 230.834 76.3465 230.382 76H153.631C151.11 76 149 73.8641 149 71.1549V34.8451C149 32.1359 151.11 30 153.631 30H230.376C230.828 29.6536 231.29 29.32 231.762 29Z"
          }
        ) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M231.762 29H153.631C150.523 29 148 31.6191 148 34.8451V71.1549C148 74.3809 150.523 77 153.631 77H231.77C231.297 76.68 230.834 76.3465 230.382 76H153.631C151.11 76 149 73.8641 149 71.1549V34.8451C149 32.1359 151.11 30 153.631 30H230.376C230.828 29.6536 231.29 29.32 231.762 29Z",
            fill: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M231.762 29L232.323 29.8278L235.02 28H231.762V29ZM231.77 77V78H235.029L232.33 76.172L231.77 77ZM230.382 76L230.991 75.2063L230.721 75H230.382V76ZM230.376 30V31H230.715L230.984 30.7936L230.376 30ZM231.762 28H153.631V30H231.762V28ZM153.631 28C149.936 28 147 31.1024 147 34.8451H149C149 32.1359 151.11 30 153.631 30V28ZM147 34.8451V71.1549H149V34.8451H147ZM147 71.1549C147 74.8976 149.936 78 153.631 78V76C151.11 76 149 73.8641 149 71.1549H147ZM153.631 78H231.77V76H153.631V78ZM232.33 76.172C231.874 75.863 231.427 75.5409 230.991 75.2063L229.774 76.7937C230.242 77.152 230.72 77.497 231.209 77.828L232.33 76.172ZM153.631 77H230.382V75H153.631V77ZM148 71.1549C148 74.3832 150.525 77 153.631 77V75C151.695 75 150 73.3451 150 71.1549H148ZM148 34.8451V71.1549H150V34.8451H148ZM153.631 29C150.525 29 148 31.6168 148 34.8451H150C150 32.6549 151.695 31 153.631 31V29ZM230.376 29H153.631V31H230.376V29ZM230.984 30.7936C231.421 30.459 231.867 30.1369 232.323 29.8278L231.201 28.1722C230.713 28.5032 230.235 28.8481 229.768 29.2064L230.984 30.7936Z",
            fill: "currentColor",
            mask: "url(#path-14-inside-2_2656_25457)"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M282.462 24.5L247.088 24.5C231.035 24.5 218 37.266 218 52.9975C218 68.7242 231.03 81.4951 247.088 81.4951H282.462V81.5",
            stroke: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M285 24.5H289.462", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M285 81.5H287.5", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M266.5 53C266.5 63.2173 258.217 71.5 248 71.5C237.783 71.5 229.5 63.2173 229.5 53C229.5 42.7827 237.783 34.5 248 34.5C258.217 34.5 266.5 42.7827 266.5 53Z",
            stroke: "currentColor"
          }
        )
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-steps/connect-device/connect-ledger-success.layout.tsx






function ConnectLedgerSuccessLayout({ chain }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(LedgerWrapper, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ConnectLedgerSuccess, {}),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerConnectInstructionTitle, { chain, mt: "space.05", mx: "50px" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerSuccessLabel, { my: "space.06", children: "Connected!" })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-steps/connect-device/connect-ledger-success.tsx




function connect_ledger_success_ConnectLedgerSuccess() {
  const chain = useLocationState("chain");
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(ConnectLedgerSuccessLayout, { chain });
}

// EXTERNAL MODULE: ./src/app/components/layout/divider.tsx
var divider = __webpack_require__(25132);
;// CONCATENATED MODULE: ./src/app/features/ledger/generic-steps/connect-device/connect-ledger.tsx







const PluggingInLedgerCableAnimation = (0,react.lazy)(
  () => __webpack_require__.e(/* import() */ 33).then(__webpack_require__.bind(__webpack_require__, 48033))
);
function ConnectLedger(props) {
  const {
    onConnectLedger,
    warning,
    showInstructions,
    awaitingLedgerConnection,
    connectBitcoin,
    connectStacks,
    chain
  } = props;
  const showBitcoinConnectButton = (0,react.useMemo)(() => {
    return chain === "bitcoin" || !!connectBitcoin;
  }, [chain, connectBitcoin]);
  const showStacksConnectButton = (0,react.useMemo)(() => {
    return chain === "stacks" || !!connectStacks;
  }, [chain, connectStacks]);
  const instructions = (0,react.useMemo)(() => {
    const showBothBtns = showBitcoinConnectButton && showStacksConnectButton;
    return [
      "1. Connect & unlock your Ledger",
      `2. Open${showBitcoinConnectButton ? " Bitcoin" : ""} ${showBothBtns ? "or" : ""} ${showStacksConnectButton ? "Stacks" : ""} app`,
      "3. Click the button below"
    ];
  }, [showBitcoinConnectButton, showStacksConnectButton]);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(LedgerWrapper, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { position: "relative", width: "100%", minHeight: "220px", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Suspense, { fallback: null, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(PluggingInLedgerCableAnimation, { position: "absolute", top: "-20px" }) }) }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.04", justifyItems: "flex-start", textAlign: "start", pb: "space.06", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "heading.05", children: "Please follow the instructions:" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { gap: "space.01", mb: "space.02", children: instructions.map((instruction, index) => /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "body.01", children: instruction }, index)) }),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { children: [
        showBitcoinConnectButton && /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* Button */.$n,
          {
            onClick: onConnectLedger || connectBitcoin,
            "aria-busy": awaitingLedgerConnection,
            children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { gap: "space.01", children: [
              /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* BitcoinIcon */.KU, { color: "ink.background-primary" }),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.02", children: "Connect Bitcoin" })
            ] })
          }
        ),
        showStacksConnectButton && /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* Button */.$n,
          {
            onClick: onConnectLedger || connectStacks,
            "aria-busy": awaitingLedgerConnection,
            display: "flex",
            alignItems: "center",
            children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { gap: "space.01", children: [
              /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* StacksIcon */.Hf, { color: "ink.background-primary" }),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.02", children: "Connect Stacks" })
            ] })
          }
        )
      ] })
    ] }),
    warning && /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mb: "space.04", mx: "space.06", children: warning }),
    showInstructions ? /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.05", width: "100%", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(divider/* Divider */.c, {}),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { alignItems: "center", gap: "space.01", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.03", color: "ink.text-subdued", children: "First time using Ledger on Leather?" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* Link */.N_,
          {
            href: "https://www.hiro.so/wallet-faq/how-can-i-use-my-ledger-device-with-hiro-wallet",
            size: "sm",
            children: "Learn how to use Ledger device with Leather \u2197"
          }
        )
      ] })
    ] }) : null
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-steps/device-busy/device-busy.tsx




function DeviceBusy() {
  const description = useLocationState("description");
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(DeviceBusyLayout, { activityDescription: description ?? "Ledger device busy" });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-steps/device-busy/device-busy.layout.tsx





function DeviceBusyLayout(props) {
  const { activityDescription } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(LedgerWrapper, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ConnectLedgerSuccess, {}),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(LookingForLedgerLabel, { my: "space.06", children: activityDescription })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-steps/invalid-payload/device-invalid-payload.layout.tsx






function LedgerDeviceInvalidPayloadLayout({
  onClose
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(LedgerWrapper, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(ConnectLedgerErr, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { mt: "space.06", textStyle: "label.01", children: "Data Invalid" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { mt: "space.03", lineHeight: "24px", textStyle: "caption.01", children: "Your Ledger device has rejected the payload stating it is invalid" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { mt: "space.04", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { variant: "outline", mr: "space.03", onClick: onClose, children: "Close" }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-steps/invalid-payload/device-invalid-payload.tsx




function LedgerDeviceInvalidPayload() {
  const ledgerNavigate = (0,use_ledger_navigate/* useLedgerNavigate */.W)();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerDeviceInvalidPayloadLayout, { onClose: () => ledgerNavigate.cancelLedgerAction() });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/illustrations/ledger-illu-disconnected.tsx


function LedgerIlluDisconnected(props) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    "svg",
    {
      width: "292",
      height: "112",
      viewBox: "0 0 292 112",
      fill: "none",
      xmlns: "http://www.w3.org/2000/svg",
      ...props,
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M6 53.5H11.5V58.5H5", stroke: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M2.5 53.5H4", stroke: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0.538086 58.5H3", stroke: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M16.0927 44.5048H24.5V67.5H16.0927C15.5605 67.5 15.0105 67.248 14.4636 66.7032C13.9147 66.1563 13.3973 65.3398 12.9521 64.2909C12.0624 62.1952 11.5 59.2646 11.5 56C11.5 52.7354 12.0624 49.8048 12.9521 47.7091C13.3973 46.6602 13.9147 45.8437 14.4636 45.2968C14.9668 44.7954 15.4728 44.5421 15.965 44.5048H16.0927Z",
            stroke: "#FF5863"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M30.0847 37.5H56.9153C60.012 37.5 62.5 39.9427 62.5 42.9286V69.0714C62.5 72.0574 60.012 74.5 56.9153 74.5H30.0847C26.988 74.5 24.5 72.0574 24.5 69.0714V42.9286C24.5 39.9427 26.988 37.5 30.0847 37.5Z",
            stroke: "#FF5863"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M62.5 66.5V45.5H76.5V66.5H62.5Z", stroke: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M19 67C19 67 24 63.5 24 54V67H19Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M46 64V65H54V60H53V64H46ZM46 47V48H53V52H54V47H46ZM42 52H41V60H46V59H42V52ZM33 60V65H41V64H34V60H33ZM33 47V52H34V48H41V47H33Z",
            fill: "#FF5863"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("mask", { id: "path-9-inside-1_2656_25851", fill: "white", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M92.5377 27H248.088C232.036 27 219 39.9899 219 55.9975C219 72.0001 232.031 84.995 248.088 84.995H269.739C269.647 84.9983 269.555 85 269.462 85H92.5377C88.3747 85 85 81.6066 85 77.4205V34.5795C85 30.3934 88.3747 27 92.5377 27Z"
          }
        ) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M269.739 84.995L269.775 85.9943L269.739 83.995V84.995ZM248.088 26H92.5377V28H248.088V26ZM220 55.9975C220 40.5453 232.585 28 248.088 28V26C231.486 26 218 39.4346 218 55.9975H220ZM248.088 83.995C232.58 83.995 220 71.445 220 55.9975H218C218 72.5552 231.481 85.995 248.088 85.995V83.995ZM269.739 83.995H248.088V85.995H269.739V83.995ZM269.462 86C269.567 86 269.671 85.9981 269.775 85.9943L269.702 83.9957C269.623 83.9985 269.543 84 269.462 84V86ZM92.5377 86H269.462V84H92.5377V86ZM84 77.4205C84 82.1536 87.8172 86 92.5377 86V84C88.9322 84 86 81.0595 86 77.4205H84ZM84 34.5795V77.4205H86V34.5795H84ZM92.5377 26C87.8172 26 84 29.8464 84 34.5795H86C86 30.9405 88.9322 28 92.5377 28V26Z",
            fill: "#FF5863",
            mask: "url(#path-9-inside-1_2656_25851)"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M78 38.5L71 31.5", stroke: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M78 72L67.5 82.5", stroke: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M79 78.5L73.5 87L80.5 85.5L74.5 92.5", stroke: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M80.5 28.9998L77.0597 21.0798L83 22.4998L79.5596 16.0798", stroke: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M135.5 56C135.5 66.2173 127.217 74.5 117 74.5C106.783 74.5 98.5 66.2173 98.5 56C98.5 45.7827 106.783 37.5 117 37.5C127.217 37.5 135.5 45.7827 135.5 56Z",
            stroke: "#FF5863"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("mask", { id: "path-16-inside-2_2656_25851", fill: "white", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M231.762 32H153.631C150.523 32 148 34.6191 148 37.8451V74.1549C148 77.3809 150.523 80 153.631 80H231.77C231.297 79.68 230.834 79.3465 230.382 79H153.631C151.11 79 149 76.8641 149 74.1549V37.8451C149 35.1359 151.11 33 153.631 33H230.376C230.828 32.6536 231.29 32.32 231.762 32Z"
          }
        ) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M231.762 32L232.323 32.8278L235.02 31H231.762V32ZM231.77 80V81H235.029L232.33 79.172L231.77 80ZM230.382 79L230.991 78.2063L230.721 78H230.382V79ZM230.376 33V34H230.715L230.984 33.7936L230.376 33ZM231.762 31H153.631V33H231.762V31ZM153.631 31C149.936 31 147 34.1024 147 37.8451H149C149 35.1359 151.11 33 153.631 33V31ZM147 37.8451V74.1549H149V37.8451H147ZM147 74.1549C147 77.8976 149.936 81 153.631 81V79C151.11 79 149 76.8641 149 74.1549H147ZM153.631 81H231.77V79H153.631V81ZM232.33 79.172C231.874 78.863 231.427 78.5409 230.991 78.2063L229.774 79.7937C230.242 80.152 230.72 80.497 231.209 80.828L232.33 79.172ZM153.631 80H230.382V78H153.631V80ZM148 74.1549C148 77.3832 150.525 80 153.631 80V78C151.695 78 150 76.3451 150 74.1549H148ZM148 37.8451V74.1549H150V37.8451H148ZM153.631 32C150.525 32 148 34.6168 148 37.8451H150C150 35.6549 151.695 34 153.631 34V32ZM230.376 32H153.631V34H230.376V32ZM230.984 33.7936C231.421 33.459 231.867 33.1369 232.323 32.8278L231.201 31.1722C230.713 31.5032 230.235 31.8481 229.768 32.2064L230.984 33.7936Z",
            fill: "#FF5863",
            mask: "url(#path-16-inside-2_2656_25851)"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M282.462 27.5L247.088 27.5C231.035 27.5 218 40.266 218 55.9975C218 71.7242 231.03 84.4951 247.088 84.4951H282.462V84.5",
            stroke: "#FF5863"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M285 27.5H289.462", stroke: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M285 84.5H287.5", stroke: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M266.5 56C266.5 66.2173 258.217 74.5 248 74.5C237.783 74.5 229.5 66.2173 229.5 56C229.5 45.7827 237.783 37.5 248 37.5C258.217 37.5 266.5 45.7827 266.5 56Z",
            stroke: "#FF5863"
          }
        )
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-steps/ledger-disconnected/ledger-disconnected.layout.tsx







function LedgerDisconnectedLayout(props) {
  const { onConnectAgain, onClose } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(LedgerWrapper, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerIlluDisconnected, { width: "242px" }) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerTitle, { my: "space.05", children: "Your Ledger has disconnected" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { width: "100%", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { flex: 1, variant: "outline", onClick: onClose, children: "Close" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { flex: 1, onClick: onConnectAgain, children: "Connect again" })
    ] })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-steps/ledger-disconnected/ledger-disconnected.tsx




function LedgerDisconnected() {
  const ledgerNavigate = (0,use_ledger_navigate/* useLedgerNavigate */.W)();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    LedgerDisconnectedLayout,
    {
      onClose: () => ledgerNavigate.cancelLedgerAction(),
      onConnectAgain: () => ledgerNavigate.toConnectStepAndTryAgain()
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/ledger/illustrations/ledger-illu-transaction-rejected.tsx


function LedgerTxRejected() {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    "svg",
    {
      width: "292",
      height: "112",
      viewBox: "0 0 292 112",
      fill: "none",
      xmlns: "http://www.w3.org/2000/svg",
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M7.5 53.5H31.5V58.5H7.5", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M2.5 53.5H5", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M0.538086 58.5H5", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M36.0927 44.5048H44.5V67.5H36.0927C35.5605 67.5 35.0105 67.248 34.4636 66.7032C33.9147 66.1563 33.3973 65.3398 32.9521 64.2909C32.0624 62.1952 31.5 59.2646 31.5 56C31.5 52.7354 32.0624 49.8048 32.9521 47.7091C33.3973 46.6602 33.9147 45.8437 34.4636 45.2968C34.9668 44.7954 35.4728 44.5421 35.965 44.5048H36.0927Z",
            stroke: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M50.0847 37.5H76.9153C80.012 37.5 82.5 39.9427 82.5 42.9286V69.0714C82.5 72.0574 80.012 74.5 76.9153 74.5H50.0847C46.988 74.5 44.5 72.0574 44.5 69.0714V42.9286C44.5 39.9427 46.988 37.5 50.0847 37.5Z",
            stroke: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M82.5 45.5H85.5V66.5H82.5V45.5Z", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M41.9276 64.3217C42.4897 63.3941 43.048 62.2411 43.5 60.8377V66.5H40.2873C40.7583 66.001 41.344 65.2846 41.9276 64.3217Z",
            fill: "currentColor",
            stroke: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M66 64V65H74V60H73V64H66ZM66 47V48H73V52H74V47H66ZM62 52H61V60H66V59H62V52ZM53 60V65H61V64H54V60H53ZM53 47V52H54V48H61V47H53Z",
            fill: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("mask", { id: "path-9-inside-1_2806_34370", fill: "white", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M92.5377 27H248.088C232.036 27 219 39.9899 219 55.9975C219 72.0001 232.031 84.995 248.088 84.995H269.739C269.647 84.9983 269.555 85 269.462 85H92.5377C88.3747 85 85 81.6066 85 77.4205V34.5795C85 30.3934 88.3747 27 92.5377 27Z"
          }
        ) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M269.739 84.995L269.775 85.9943L269.739 83.995V84.995ZM248.088 26H92.5377V28H248.088V26ZM220 55.9975C220 40.5453 232.585 28 248.088 28V26C231.486 26 218 39.4346 218 55.9975H220ZM248.088 83.995C232.58 83.995 220 71.445 220 55.9975H218C218 72.5552 231.481 85.995 248.088 85.995V83.995ZM269.739 83.995H248.088V85.995H269.739V83.995ZM269.462 86C269.567 86 269.671 85.9981 269.775 85.9943L269.702 83.9957C269.623 83.9985 269.543 84 269.462 84V86ZM92.5377 86H269.462V84H92.5377V86ZM84 77.4205C84 82.1536 87.8172 86 92.5377 86V84C88.9322 84 86 81.0595 86 77.4205H84ZM84 34.5795V77.4205H86V34.5795H84ZM92.5377 26C87.8172 26 84 29.8464 84 34.5795H86C86 30.9405 88.9322 28 92.5377 28V26Z",
            fill: "currentColor",
            mask: "url(#path-9-inside-1_2806_34370)"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M135.5 56C135.5 66.2173 127.217 74.5 117 74.5C106.783 74.5 98.5 66.2173 98.5 56C98.5 45.7827 106.783 37.5 117 37.5C127.217 37.5 135.5 45.7827 135.5 56Z",
            stroke: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("mask", { id: "path-12-inside-2_2806_34370", fill: "white", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M231.762 32H153.631C150.523 32 148 34.6191 148 37.8451V74.1549C148 77.3809 150.523 80 153.631 80H231.77C231.297 79.68 230.834 79.3465 230.382 79H153.631C151.11 79 149 76.8641 149 74.1549V37.8451C149 35.1359 151.11 33 153.631 33H230.376C230.828 32.6536 231.29 32.32 231.762 32Z"
          }
        ) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M231.762 32H153.631C150.523 32 148 34.6191 148 37.8451V74.1549C148 77.3809 150.523 80 153.631 80H231.77C231.297 79.68 230.834 79.3465 230.382 79H153.631C151.11 79 149 76.8641 149 74.1549V37.8451C149 35.1359 151.11 33 153.631 33H230.376C230.828 32.6536 231.29 32.32 231.762 32Z",
            fill: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M231.762 32L232.323 32.8278L235.02 31H231.762V32ZM231.77 80V81H235.029L232.33 79.172L231.77 80ZM230.382 79L230.991 78.2063L230.721 78H230.382V79ZM230.376 33V34H230.715L230.984 33.7936L230.376 33ZM231.762 31H153.631V33H231.762V31ZM153.631 31C149.936 31 147 34.1024 147 37.8451H149C149 35.1359 151.11 33 153.631 33V31ZM147 37.8451V74.1549H149V37.8451H147ZM147 74.1549C147 77.8976 149.936 81 153.631 81V79C151.11 79 149 76.8641 149 74.1549H147ZM153.631 81H231.77V79H153.631V81ZM232.33 79.172C231.874 78.863 231.427 78.5409 230.991 78.2063L229.774 79.7937C230.242 80.152 230.72 80.497 231.209 80.828L232.33 79.172ZM153.631 80H230.382V78H153.631V80ZM148 74.1549C148 77.3832 150.525 80 153.631 80V78C151.695 78 150 76.3451 150 74.1549H148ZM148 37.8451V74.1549H150V37.8451H148ZM153.631 32C150.525 32 148 34.6168 148 37.8451H150C150 35.6549 151.695 34 153.631 34V32ZM230.376 32H153.631V34H230.376V32ZM230.984 33.7936C231.421 33.459 231.867 33.1369 232.323 32.8278L231.201 31.1722C230.713 31.5032 230.235 31.8481 229.768 32.2064L230.984 33.7936Z",
            fill: "currentColor",
            mask: "url(#path-12-inside-2_2806_34370)"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M184 60H181V63H184V60Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M187 57H184V60H187V57Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M190 54H187V57H190V54Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M193 51H190V54H193V51Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M196 48H193V51H196V48Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M199 45H196V48H199V45Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M181 45H178V48H181V45Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M181 63H178V66H181V63Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M199 63H196V66H199V63Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M193 60H196V63H193V60Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M190 57H193V60H190V57Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M187 54H190V57H187V54Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M184 51H187V54H184V51Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M181 48H184V51H181V48Z", fill: "#FF5863" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M282.462 27.5L247.088 27.5C231.035 27.5 218 40.266 218 55.9975C218 71.7242 231.03 84.4951 247.088 84.4951H282.462V84.5",
            stroke: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M285 27.5H289.462", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M285 84.5H287.5", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M266.5 56C266.5 66.2173 258.217 74.5 248 74.5C237.783 74.5 229.5 66.2173 229.5 56C229.5 45.7827 237.783 37.5 248 37.5C258.217 37.5 266.5 45.7827 266.5 56Z",
            stroke: "currentColor"
          }
        )
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-steps/operation-rejected/operation-rejected.layout.tsx







function LedgerOperationRejectedLayout({
  onClose,
  description
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(LedgerWrapper, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerTxRejected, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerTitle, { my: "space.05", children: description }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { fullWidth: true, mb: "space.01", onClick: onClose, variant: "outline", children: "Close" })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-steps/operation-rejected/operation-rejected.tsx





function OperationRejected() {
  const ledgerNavigate = (0,use_ledger_navigate/* useLedgerNavigate */.W)();
  const description = useLocationState(
    "description",
    "The operation on device was rejected"
  );
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    LedgerOperationRejectedLayout,
    {
      description,
      onClose: () => ledgerNavigate.cancelLedgerAction()
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-steps/public-key-mismatch/public-key-mismatch.layout.tsx






function PublicKeyMismatchLayout({ onClose, onTryAgain }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(LedgerWrapper, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(ConnectLedgerErr, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { mt: "space.06", textStyle: "label.01", children: "Public key does not match" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { mt: "space.03", lineHeight: "24px", textStyle: "caption.01", children: "Ensure you're using the same Ledger you used when setting up Leather" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { mt: "space.04", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { variant: "outline", mr: "space.03", onClick: onClose, children: "Close" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { onClick: onTryAgain, children: "Try again" })
    ] })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-steps/public-key-mismatch/public-key-mismatch.tsx




function LedgerPublicKeyMismatch() {
  const ledgerNavigate = (0,use_ledger_navigate/* useLedgerNavigate */.W)();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    PublicKeyMismatchLayout,
    {
      onClose: () => ledgerNavigate.cancelLedgerAction(),
      onTryAgain: () => ledgerNavigate.toConnectStepAndTryAgain()
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/ledger/illustrations/ledger-illu-unsupported-browser.tsx


function UnsupportedBrowserImg() {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    "svg",
    {
      width: "240",
      height: "182",
      viewBox: "0 0 240 182",
      fill: "none",
      xmlns: "http://www.w3.org/2000/svg",
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M38.5 22.5H190.5V53.5V69V84.5V146.5H38.5V22.5Z", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M200.47 132C203.298 132.593 205.979 133.218 208.5 133.871C224.444 137.999 234 143.265 234 149C234 162.255 182.96 173 120 173C57.0395 173 6 162.255 6 149C6 142.468 18.3936 136.546 38.5 132.219",
            stroke: "currentColor"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M38.5 22.5H190.5V46.5H38.5V22.5Z", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M42.5 26.5H58.5V42.5H42.5V26.5Z", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M190.5 141.5H195.5V17.5L43.5 17.5V22.5", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M195.5 136.5H200.5V54.5M48.5 17.5V12.5L200.5 12.5V23", stroke: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M113 68H107V74H113V68Z", fill: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M94 74H88V80H94V74Z", fill: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M113 74H107V80H113V74Z", fill: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M94 80H88V86H94V80Z", fill: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M120 80H114V86H120V80Z", fill: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M101 86H95V92H101V86Z", fill: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: "134", y: "89", width: "12", height: "6", fill: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: "122", y: "95", width: "12", height: "6", fill: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: "116", y: "101", width: "6", height: "6", fill: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: "110", y: "107", width: "6", height: "6", fill: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: "104", y: "113", width: "6", height: "6", fill: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("rect", { x: "98", y: "119", width: "6", height: "6", fill: "currentColor" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M56 40L45 29", stroke: "black" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M45 40L56 29", stroke: "black" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M38.4123 94.5001L36.8956 97.7238L28.1441 93.6792L30.6076 103L21.3037 105.527L29.1822 111.084L23.6794 119L33.2864 118.193L34.1595 127.794L38.4123 123.57",
            stroke: "currentColor",
            strokeLinejoin: "round"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          "path",
          {
            d: "M195.5 30.0786L196.896 30.7237L201 22L205.104 30.7237L213.856 26.6791L211.392 36L220.696 38.527L212.818 44.0838L218.321 52L208.713 51.1925L207.84 60.7939L201 54L195.5 59.4626",
            stroke: "currentColor",
            strokeLinejoin: "round"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M33.5933 89.291L27.5005 77.5005", stroke: "currentColor", strokeLinejoin: "round" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)("path", { d: "M21.5928 97.2908L13.5 93.5003", stroke: "currentColor", strokeLinejoin: "round" }),
        /* @__PURE__ */ (0,jsx_runtime.jsxs)("g", { opacity: "0.25", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "66.5", y1: "147", x2: "66.5", y2: "47", stroke: "black" }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "98.5", y1: "147", x2: "98.5", y2: "47", stroke: "black" }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "130.5", y1: "147", x2: "130.5", y2: "47", stroke: "black" }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "162.5", y1: "147", x2: "162.5", y2: "47", stroke: "black" }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "190", y1: "125.5", x2: "38", y2: "125.5", stroke: "black" }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "190", y1: "97.5", x2: "38", y2: "97.5", stroke: "black" }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)("line", { x1: "190", y1: "69.5", x2: "38", y2: "69.5", stroke: "black" })
        ] })
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-steps/unsupported-browser/unsupported-browser.layout.tsx








function UnsupportedBrowserLayout() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Sheet */.cj, { header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, {}), isShowing: true, onClose: () => navigate(-1), children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(LedgerWrapper, { image: /* @__PURE__ */ (0,jsx_runtime.jsx)(UnsupportedBrowserImg, {}), children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerTitle, { mb: "space.03", children: "Your browser isn't supported" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.span, { textStyle: "label.03", color: "ink.text-subdued", children: [
      "To connect your Ledger with Leather try ",
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Link */.N_, { textDecoration: "underline", href: "https://www.google.com/chrome/", children: "Chrome" }),
      " or ",
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Link */.N_, { textDecoration: "underline", href: "https://brave.com/download/", children: "Brave" }),
      "."
    ] })
  ] }) });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-steps/index.ts














;// CONCATENATED MODULE: ./src/app/features/ledger/generic-steps/broadcast-error/broadcast-error.layout.tsx







function LedgerBroadcastErrorLayout(props) {
  const { error, onClose } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(LedgerWrapper, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mb: "space.05", mt: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsx)("img", { src: unhappy_face_ui, width: "242px" }) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerTitle, { mb: "space.05", mt: "space.05", mx: "space.07", children: "Transaction Broadcast Error" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.span, { mt: "space.03", px: "space.04", textStyle: "body.02", children: [
      "Your transaction failed to broadcast ",
      error && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
        "because of the error: ",
        error
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { mt: "space.04", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { mr: "space.03", onClick: onClose, variant: "outline", children: "Close" }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-steps/broadcast-error/broadcast-error.tsx






function LedgerBroadcastError() {
  const location = (0,react_router_dist/* useLocation */.zy)();
  const ledgerNavigate = (0,use_ledger_navigate/* useLedgerNavigate */.W)();
  const error = lodash_get_default()(location.state, "error", "");
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    LedgerBroadcastErrorLayout,
    {
      error,
      onClose: () => ledgerNavigate.cancelLedgerActionAndReturnHome()
    }
  );
}

// EXTERNAL MODULE: ./node_modules/.pnpm/@ledgerhq+hw-transport-webusb@6.27.19/node_modules/@ledgerhq/hw-transport-webusb/lib-es/TransportWebUSB.js + 7 modules
var TransportWebUSB = __webpack_require__(55461);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/transaction.js
var dist_esm_transaction = __webpack_require__(12453);
// EXTERNAL MODULE: ./node_modules/.pnpm/@zondax+ledger-stacks@1.0.4_encoding@0.1.13/node_modules/@zondax/ledger-stacks/dist/index.js
var ledger_stacks_dist = __webpack_require__(80076);
var dist_default = /*#__PURE__*/__webpack_require__.n(ledger_stacks_dist);
// EXTERNAL MODULE: ./node_modules/.pnpm/compare-versions@6.1.0/node_modules/compare-versions/lib/esm/compare.js + 2 modules
var compare = __webpack_require__(54849);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+stacks@1.2.3_encoding@0.1.13/node_modules/@leather.io/stacks/dist/index.js
var stacks_dist = __webpack_require__(97786);
// EXTERNAL MODULE: ./src/app/features/ledger/utils/generic-ledger-utils.ts + 1 modules
var generic_ledger_utils = __webpack_require__(67242);
;// CONCATENATED MODULE: ./src/app/features/ledger/utils/stacks-ledger-utils.ts







function requestPublicKeyForStxAccount(app) {
  return async (index) => app.getAddressAndPubKey(
    (0,stacks_dist/* makeStxDerivationPath */._L)(index),
    // We pass mainnet as it expects something, however this is so it can return a formatted address
    // We only need the public key, and can derive the address later in any network format
    esm_constants/* AddressVersion */.BY.MainnetSingleSig
  );
}
async function connectLedgerStacksApp() {
  await (0,generic_ledger_utils/* promptOpenAppOnDevice */.xA)(generic_ledger_utils/* LEDGER_APPS_MAP */.mG.STACKS);
  const transport = await TransportWebUSB/* default */.A.create();
  return new (dist_default())(transport);
}
async function getStacksAppVersion(app) {
  const appVersion = await app.getVersion();
  if (appVersion.errorMessage !== "No errors") {
    throw new Error(appVersion.errorMessage);
  }
  return { name: generic_ledger_utils/* LEDGER_APPS_MAP */.mG.STACKS, chain: "stacks", ...appVersion };
}
const prepareLedgerDeviceStacksAppConnection = (0,generic_ledger_utils/* prepareLedgerDeviceForAppFn */.$7)(
  connectLedgerStacksApp
  // Casting type here as factory function reads it was a double Promise
);
function signLedgerStacksTransaction(app) {
  return async (payload, accountIndex) => app.sign(stacks_dist/* stxDerivationWithAccount */.O7.replace("{account}", accountIndex.toString()), payload);
}
function signLedgerStacksUtf8Message(app) {
  return async (payload, accountIndex) => app.sign_msg((0,stacks_dist/* makeStxDerivationPath */._L)(accountIndex), payload);
}
function signLedgerStacksStructuredMessage(app) {
  return async (domain, payload, accountIndex) => app.sign_structured_msg((0,stacks_dist/* makeStxDerivationPath */._L)(accountIndex), domain, payload);
}
function signStacksTransactionWithSignature(transaction, signatureVRS) {
  const deserializedTx = (0,dist_esm_transaction/* deserializeTransaction */.q)(transaction);
  const spendingCondition = (0,common/* createMessageSignature */.EM)(signatureVRS.toString("hex"));
  deserializedTx.auth.spendingCondition.signature = spendingCondition;
  return deserializedTx;
}
function isStacksLedgerAppClosed(response) {
  const anotherUnknownErrorCodeMeaningAppClosed = 28161;
  return response.returnCode === ledger_stacks_dist.LedgerError.AppDoesNotSeemToBeOpen || response.returnCode === anotherUnknownErrorCodeMeaningAppClosed;
}
const versionFromWhichContractPrincipalBugIsFixed = "0.23.3";
function isVersionOfLedgerStacksAppWithContractPrincipalBug(currentDeviceVersion) {
  return (0,compare/* compare */.U)(
    (0,generic_ledger_utils/* versionObjectToVersionString */.GT)(currentDeviceVersion),
    versionFromWhichContractPrincipalBugIsFixed,
    "<"
  );
}
function isStacksAppOpen({ name }) {
  return name === generic_ledger_utils/* LEDGER_APPS_MAP */.mG.STACKS;
}

;// CONCATENATED MODULE: ./src/app/features/ledger/components/ledger-inline-warnings.tsx






function OutdatedLedgerAppWarning({ chain }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Callout */.Pq, { variant: "warning", textAlign: "left", children: [
    "Latest version of ",
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(Capitalize, { children: [
      chain,
      " app"
    ] }),
    " required",
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.a, { href: "ledgerlive://manager", textDecoration: "underline", children: "Update on Ledger Live to continue" })
  ] });
}
function LedgerDeviceLockedWarning({ chain }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Callout */.Pq, { variant: "warning", textAlign: "left", children: [
    "Your Ledger is locked. Unlock it and open the ",
    "",
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Capitalize, { children: chain }),
    "",
    " app to continue."
  ] });
}
function LedgerAppClosedWarning({ chain }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Callout */.Pq, { variant: "warning", textAlign: "left", children: [
    "The ",
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Capitalize, { children: chain }),
    " app appears to be closed on Ledger. Open it to continue."
  ] });
}
function CommonLedgerDeviceInlineWarnings({
  chain,
  latestDeviceResponse,
  outdatedLedgerAppWarning = false
}) {
  if (!latestDeviceResponse) return null;
  if (outdatedLedgerAppWarning) {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(OutdatedLedgerAppWarning, { chain });
  }
  if (latestDeviceResponse.deviceLocked) return /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerDeviceLockedWarning, { chain });
  if (isStacksLedgerAppClosed(latestDeviceResponse))
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerAppClosedWarning, { chain });
  return null;
}

// EXTERNAL MODULE: ./src/app/features/ledger/hooks/use-when-reattempt-ledger-connection.ts
var use_when_reattempt_ledger_connection = __webpack_require__(79938);
;// CONCATENATED MODULE: ./src/app/features/ledger/generic-flows/tx-signing/steps/connect-ledger-sign-tx.tsx






function ConnectLedgerSignTx() {
  const { chain, signTransaction, latestDeviceResponse, awaitingDeviceConnection } = useLedgerTxSigningContext();
  (0,use_when_reattempt_ledger_connection/* useWhenReattemptingLedgerConnection */.z)(() => signTransaction());
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    ConnectLedger,
    {
      chain,
      awaitingLedgerConnection: awaitingDeviceConnection,
      warning: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        CommonLedgerDeviceInlineWarnings,
        {
          chain,
          latestDeviceResponse
        }
      ),
      onConnectLedger: signTransaction,
      showInstructions: false
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-flows/tx-signing/ledger-sign-tx-route-generator.tsx








function ledgerSignTxRoutes({ component, customRoutes }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(react_router_dist/* Route */.qh, { element: component, children: [
    customRoutes,
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.ConnectLedger, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(ConnectLedgerSignTx, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.DeviceBusy, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(DeviceBusy, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.ConnectLedgerError, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(ConnectLedgerError, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.LedgerUnsupportedBrowser, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(UnsupportedBrowserLayout, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.ConnectLedgerSuccess, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(connect_ledger_success_ConnectLedgerSuccess, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.LedgerDisconnected, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerDisconnected, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.LedgerOperationRejected, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(OperationRejected, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.LedgerPublicKeyMismatch, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerPublicKeyMismatch, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.LedgerDevicePayloadInvalid, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerDeviceInvalidPayload, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.LedgerOutdatedAppWarning, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(ContractPrincipalBugWarning, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.LedgerBroadcastError, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerBroadcastError, {}) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-flows/tx-signing/tx-signing-flow.tsx






function TxSigningFlow({ context, closeAction }) {
  useScrollLock(true);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerTxSigningProvider, { value: context, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Sheet */.cj, { isShowing: true, header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, {}), onClose: closeAction, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {}) }) });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-flows/tx-signing/use-ledger-sign-tx.ts






function useLedgerSignTx({
  chain,
  isAppOpen,
  getAppVersion,
  connectApp,
  onSuccess,
  signTransactionWithDevice,
  passesAdditionalVersionCheck
}) {
  const [outdatedAppVersionWarning, setAppVersionOutdatedWarning] = (0,react.useState)(false);
  const [latestDeviceResponse, setLatestDeviceResponse] = (0,generic_ledger_utils/* useLedgerResponseState */.L6)();
  const [awaitingDeviceConnection, setAwaitingDeviceConnection] = (0,react.useState)(false);
  const ledgerNavigate = (0,use_ledger_navigate/* useLedgerNavigate */.W)();
  const hasUserSkippedBuggyAppWarning = (0,react.useMemo)(() => createWaitForUserToSeeWarningScreen(), []);
  async function checkCorrectAppIsOpenWithFailState(app) {
    const response = await getAppVersion(app);
    if (!isAppOpen({ name: response.name })) {
      setAwaitingDeviceConnection(false);
      throw new Error(generic_ledger_utils/* LedgerConnectionErrors */.NV.AppNotOpen);
    }
    const passedAdditionalVersionCheck = await passesAdditionalVersionCheck?.(response);
    if (passedAdditionalVersionCheck) {
      return response;
    }
    return;
  }
  async function signTransactionImpl() {
    let app;
    try {
      setLatestDeviceResponse({ deviceLocked: false });
      setAwaitingDeviceConnection(true);
      app = await connectApp();
      await checkCorrectAppIsOpenWithFailState(app);
      setAwaitingDeviceConnection(false);
      ledgerNavigate.toConnectionSuccessStep(chain);
      await (0,utils_dist/* delay */.cb)(1250);
      await signTransactionWithDevice(app);
      onSuccess?.();
    } catch (e) {
      setAwaitingDeviceConnection(false);
      if ((0,utils_dist/* isError */.bJ)(e) && (0,generic_ledger_utils/* checkLockedDeviceError */.X6)(e)) {
        setLatestDeviceResponse({ deviceLocked: true });
        return;
      }
      ledgerNavigate.toErrorStep(chain);
    } finally {
      await app?.transport.close();
    }
  }
  return {
    signTransaction: signTransactionImpl,
    outdatedAppVersionWarning,
    setAppVersionOutdatedWarning,
    latestDeviceResponse,
    setLatestDeviceResponse,
    awaitingDeviceConnection,
    setAwaitingDeviceConnection,
    hasUserSkippedBuggyAppWarning
  };
}

;// CONCATENATED MODULE: ./src/app/features/ledger/hooks/use-ledger-analytics.hook.ts



function useLedgerAnalytics() {
  return (0,react.useMemo)(
    () => ({
      trackDeviceVersionInfo(info) {
        void analytics/* analytics */.zS.track("ledger_app_version_info", info);
      },
      transactionSignedOnLedgerSuccessfully() {
        void analytics/* analytics */.zS.track("ledger_transaction_signed_approved");
      },
      transactionSignedOnLedgerRejected() {
        void analytics/* analytics */.zS.track("ledger_transaction_signed_rejected");
      },
      messageSignedOnLedgerSuccessfully() {
        void analytics/* analytics */.zS.track("ledger_message_signed_approved");
      },
      messageSignedOnLedgerRejected() {
        void analytics/* analytics */.zS.track("ledger_message_signed_rejected");
      },
      publicKeysPulledFromLedgerSuccessfully() {
        void analytics/* analytics */.zS.track("ledger_public_keys_pulled_from_device");
      }
    }),
    []
  );
}

// EXTERNAL MODULE: ./src/app/features/ledger/utils/bitcoin-ledger-utils.ts
var bitcoin_ledger_utils = __webpack_require__(63449);
;// CONCATENATED MODULE: ./src/app/features/ledger/flows/bitcoin-tx-signing/ledger-bitcoin-sign-tx-container.tsx
























const ledgerBitcoinTxSigningRoutes = ledgerSignTxRoutes({
  component: /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerSignBitcoinTxContainer, {}),
  customRoutes: /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.AwaitingDeviceUserAction, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(ApproveSignLedgerBitcoinTx, {}) })
});
function LedgerSignBitcoinTxContainer() {
  const toast = (0,use_toast/* useToast */.d)();
  const location = (0,react_router_dist/* useLocation */.zy)();
  const ledgerNavigate = (0,use_ledger_navigate/* useLedgerNavigate */.W)();
  const ledgerAnalytics = useLedgerAnalytics();
  useScrollLock(true);
  const [unsignedTransactionRaw, setUnsignedTransactionRaw] = (0,react.useState)(null);
  const [unsignedTransaction, setUnsignedTransaction] = (0,react.useState)(null);
  const signLedger = (0,bitcoin_hooks/* useSignLedgerBitcoinTx */.Cb)();
  const network = (0,networks_selectors/* useCurrentNetwork */.Rm)();
  const inputsToSign = useLocationStateWithCache("inputsToSign");
  (0,react.useEffect)(() => {
    const tx = lodash_get_default()(location.state, "tx");
    if (tx) {
      setUnsignedTransactionRaw(tx);
      setUnsignedTransaction(esm_transaction/* Transaction */.ZX.fromPSBT((0,esm_utils/* hexToBytes */.aT)(tx)));
    }
  }, [location.state]);
  (0,react.useEffect)(() => () => setUnsignedTransaction(null), []);
  const chain = "bitcoin";
  const { signTransaction, latestDeviceResponse, awaitingDeviceConnection } = useLedgerSignTx({
    chain,
    isAppOpen: (0,bitcoin_ledger_utils/* isBitcoinAppOpen */.Ke)({ network: network.chain.bitcoin.mode }),
    getAppVersion: bitcoin_ledger_utils/* getBitcoinAppVersion */.wW,
    connectApp: (0,bitcoin_ledger_utils/* connectLedgerBitcoinApp */.RA)(network.chain.bitcoin.mode),
    async signTransactionWithDevice(bitcoinApp) {
      if (!inputsToSign) {
        ledgerNavigate.cancelLedgerAction();
        toast.error("No input signing config defined");
        return;
      }
      ledgerNavigate.toDeviceBusyStep("Verifying public key on Ledger\u2026");
      ledgerNavigate.toConnectionSuccessStep("bitcoin");
      await (0,utils_dist/* delay */.cb)(1200);
      if (!unsignedTransaction) throw new Error("No unsigned tx");
      ledgerNavigate.toAwaitingDeviceOperation({ hasApprovedOperation: false });
      try {
        const btcTx = await signLedger(bitcoinApp, unsignedTransaction.toPSBT(), inputsToSign);
        if (!btcTx || !unsignedTransactionRaw) throw new Error("No tx returned");
        ledgerNavigate.toAwaitingDeviceOperation({ hasApprovedOperation: true });
        await (0,utils_dist/* delay */.cb)(1200);
        publish_subscribe/* appEvents */.l.publish("ledgerBitcoinTxSigned", {
          signedPsbt: btcTx,
          unsignedPsbt: unsignedTransactionRaw
        });
      } catch (e) {
        logger/* logger */.v.error("Unable to sign tx with ledger", e);
        ledgerAnalytics.transactionSignedOnLedgerRejected();
        ledgerNavigate.toOperationRejectedStep();
      } finally {
        void bitcoinApp.transport.close();
      }
    }
  });
  const ledgerContextValue = {
    chain,
    transaction: unsignedTransaction,
    signTransaction,
    latestDeviceResponse,
    awaitingDeviceConnection
  };
  const canCancelLedgerAction = (0,generic_ledger_utils/* useCancelLedgerAction */.Zs)(awaitingDeviceConnection);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    TxSigningFlow,
    {
      context: ledgerContextValue,
      closeAction: canCancelLedgerAction ? ledgerNavigate.cancelLedgerAction : void 0
    }
  );
}

// EXTERNAL MODULE: ./src/shared/actions/finalize-auth-response.ts + 1 modules
var finalize_auth_response = __webpack_require__(17395);
// EXTERNAL MODULE: ./src/app/common/authentication/use-legacy-auth-bitcoin-addresses.ts
var use_legacy_auth_bitcoin_addresses = __webpack_require__(28532);
// EXTERNAL MODULE: ./src/app/common/hooks/auth/use-onboarding-state.ts
var use_onboarding_state = __webpack_require__(92520);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+auth@6.15.0_encoding@0.1.13/node_modules/@stacks/auth/dist/esm/dids.js
var dids = __webpack_require__(84357);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+encryption@6.15.0/node_modules/@stacks/encryption/dist/esm/keys.js + 1 modules
var esm_keys = __webpack_require__(93571);
// EXTERNAL MODULE: ./node_modules/.pnpm/base64url@3.0.1/node_modules/base64url/index.js
var base64url = __webpack_require__(35531);
var base64url_default = /*#__PURE__*/__webpack_require__.n(base64url);
;// CONCATENATED MODULE: ./src/app/common/unsafe-auth-response.ts





async function makeLedgerCompatibleUnsignedAuthResponsePayload({
  dataPublicKey,
  profile = {},
  expiresAt = (0,esm_utils/* nextMonth */.wc)().getTime()
}) {
  const address = (0,esm_keys/* publicKeyToBtcAddress */.Fp)(dataPublicKey);
  const payload = {
    jti: (0,esm_utils/* makeUUID4 */.Gy)(),
    iat: Math.floor((/* @__PURE__ */ new Date()).getTime() / 1e3),
    // JWT times are in seconds
    exp: Math.floor(expiresAt / 1e3),
    // JWT times are in seconds
    iss: (0,dids/* makeDIDFromAddress */._y)(address),
    public_keys: [dataPublicKey],
    profile
  };
  const header = { typ: "JWT", alg: "ES256K" };
  const formedHeader = base64url_default().encode(JSON.stringify(header));
  const formedPayload = base64url_default().encode(JSON.stringify(payload));
  const inputToSign = [formedHeader, formedPayload].join(".");
  return inputToSign;
}

// EXTERNAL MODULE: ./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/esm/sha256.js
var sha256 = __webpack_require__(70571);
// EXTERNAL MODULE: ./node_modules/.pnpm/ecdsa-sig-formatter@1.0.11/node_modules/ecdsa-sig-formatter/src/ecdsa-sig-formatter.js
var ecdsa_sig_formatter = __webpack_require__(35936);
var ecdsa_sig_formatter_default = /*#__PURE__*/__webpack_require__.n(ecdsa_sig_formatter);
// EXTERNAL MODULE: ./src/shared/crypto/stacks/stacks-address-gen.ts
var stacks_address_gen = __webpack_require__(59596);
;// CONCATENATED MODULE: ./src/app/features/ledger/flows/jwt-signing/jwt-signing.utils.ts
/* provided dependency */ var jwt_signing_utils_Buffer = __webpack_require__(84686)["Buffer"];





function reformatDerSignatureToJose(derSignature) {
  return ecdsa_sig_formatter_default().derToJose(jwt_signing_utils_Buffer.from(derSignature), "ES256");
}
function addSignatureToAuthResponseJwt(authResponse, signature) {
  const resultingSig = reformatDerSignatureToJose(signature);
  return [authResponse, resultingSig].join(".");
}
function getSha256HashOfJwtAuthPayload(payload) {
  return (0,esm_utils/* bytesToHex */.My)((0,sha256/* sha256 */.sc)(payload));
}
function signLedgerJwtHash(app) {
  return async (payload, accountIndex) => app.sign_jwt((0,stacks_address_gen/* getIdentityDerivationPath */.BN)(accountIndex), payload);
}

;// CONCATENATED MODULE: ./src/app/features/ledger/flows/jwt-signing/ledger-sign-jwt.context.ts



const ledgerJwtSigningContext = (0,react.createContext)({
  latestDeviceResponse: null,
  awaitingDeviceConnection: false,
  signJwtPayload: utils_dist/* noop */.lQ,
  jwtPayloadHash: null
});
const LedgerJwtSigningProvider = ledgerJwtSigningContext.Provider;

;// CONCATENATED MODULE: ./src/app/features/ledger/flows/jwt-signing/ledger-sign-jwt-container.tsx
























function LedgerSignJwtContainer() {
  const location = (0,react_router_dist/* useLocation */.zy)();
  const ledgerNavigate = (0,use_ledger_navigate/* useLedgerNavigate */.W)();
  useScrollLock(true);
  const activeAccount = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const accounts = (0,stacks_account_hooks/* useStacksAccounts */.Lh)();
  const getBitcoinAddressesLegacyFormat = (0,use_legacy_auth_bitcoin_addresses/* useGetLegacyAuthBitcoinAddresses */.p)();
  const keyActions = (0,use_key_actions/* useKeyActions */.M)();
  const { decodedAuthRequest, authRequest } = (0,use_onboarding_state/* useOnboardingState */.E)();
  const [accountIndex, setAccountIndex] = (0,react.useState)(null);
  (0,react.useEffect)(() => {
    const index = parseInt(lodash_get_default()(location.state, "index"), 10);
    if (Number.isFinite(index)) setAccountIndex(index);
  }, [location.state]);
  const [latestDeviceResponse, setLatestDeviceResponse] = (0,generic_ledger_utils/* useLedgerResponseState */.L6)();
  const [awaitingDeviceConnection, setAwaitingDeviceConnection] = (0,react.useState)(false);
  const [jwtPayloadHash, setJwtPayloadHash] = (0,react.useState)(null);
  const { origin, tabId } = (0,use_default_request_search_params/* useDefaultRequestParams */.Y)();
  const chain = "stacks";
  const signJwtPayload = async () => {
    if (!origin) throw new Error("Cannot sign payload for unknown origin");
    if (accountIndex === null) {
      logger/* logger */.v.warn("No account index found");
      return;
    }
    if (!activeAccount || !decodedAuthRequest || !authRequest || !accounts || !tabId) {
      logger/* logger */.v.warn("No necessary state not found while performing JWT signing", {
        account: activeAccount,
        decodedAuthRequest,
        authRequest,
        accounts,
        tabId
      });
      return;
    }
    const account = accounts[accountIndex];
    if (!account) {
      logger/* logger */.v.warn("No account for given index found");
      return;
    }
    const stacks = await prepareLedgerDeviceStacksAppConnection({
      setLoadingState: setAwaitingDeviceConnection,
      onError(e) {
        if ((0,utils_dist/* isError */.bJ)(e) && (0,generic_ledger_utils/* checkLockedDeviceError */.X6)(e)) {
          setLatestDeviceResponse({ deviceLocked: true });
          return;
        }
        ledgerNavigate.toErrorStep(chain);
      }
    });
    const versionInfo = await getStacksAppVersion(stacks);
    setLatestDeviceResponse(versionInfo);
    if (versionInfo.deviceLocked) {
      setAwaitingDeviceConnection(false);
      return;
    }
    if (versionInfo.returnCode !== ledger_stacks_dist.LedgerError.NoErrors) {
      logger/* logger */.v.error("Return code from device has error", versionInfo);
      return;
    }
    let legacyAddressObj = {};
    try {
      legacyAddressObj = getBitcoinAddressesLegacyFormat(accountIndex);
    } catch (e) {
      logger/* logger */.v.error("Error while generating bitcoin addresses to return", e);
    }
    try {
      ledgerNavigate.toConnectionSuccessStep("stacks");
      await (0,utils_dist/* delay */.cb)(1e3);
      const authResponsePayload = await makeLedgerCompatibleUnsignedAuthResponsePayload({
        dataPublicKey: account.dataPublicKey,
        profile: {
          stxAddress: {
            testnet: (0,keys/* getAddressFromPublicKey */.Tq)(account.stxPublicKey, esm_constants/* TransactionVersion */.J_.Testnet),
            mainnet: (0,keys/* getAddressFromPublicKey */.Tq)(account.stxPublicKey, esm_constants/* TransactionVersion */.J_.Mainnet)
          },
          ...legacyAddressObj
        }
      });
      setJwtPayloadHash(getSha256HashOfJwtAuthPayload(authResponsePayload));
      ledgerNavigate.toAwaitingDeviceOperation({ hasApprovedOperation: false });
      const resp = await signLedgerJwtHash(stacks)(authResponsePayload, accountIndex);
      if (resp.returnCode === ledger_stacks_dist.LedgerError.TransactionRejected) {
        ledgerNavigate.toOperationRejectedStep();
        return;
      }
      ledgerNavigate.toAwaitingDeviceOperation({ hasApprovedOperation: true });
      const authResponse = addSignatureToAuthResponseJwt(authResponsePayload, resp.signatureDER);
      await (0,utils_dist/* delay */.cb)(600);
      keyActions.switchAccount(accountIndex);
      (0,finalize_auth_response/* finalizeAuthResponse */.o)({
        decodedAuthRequest,
        authRequest,
        authResponse,
        requestingOrigin: origin,
        tabId
      });
    } catch (e) {
      ledgerNavigate.toDeviceDisconnectStep();
    } finally {
      await stacks.transport.close();
    }
  };
  const onCancelConnectLedger = ledgerNavigate.cancelLedgerAction;
  const ledgerContextValue = {
    signJwtPayload,
    jwtPayloadHash,
    latestDeviceResponse,
    awaitingDeviceConnection
  };
  const canCancelLedgerAction = (0,generic_ledger_utils/* useCancelLedgerAction */.Zs)(awaitingDeviceConnection);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerJwtSigningProvider, { value: ledgerContextValue, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Sheet */.cj,
    {
      isShowing: true,
      header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, {}),
      onClose: canCancelLedgerAction ? () => onCancelConnectLedger() : void 0,
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/flows/jwt-signing/steps/connect-ledger-sign-jwt.tsx






function ConnectLedgerSignJwt() {
  const { signJwtPayload, latestDeviceResponse, awaitingDeviceConnection } = (0,react.useContext)(ledgerJwtSigningContext);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    ConnectLedger,
    {
      chain: "stacks",
      awaitingLedgerConnection: awaitingDeviceConnection,
      warning: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        CommonLedgerDeviceInlineWarnings,
        {
          chain: "stacks",
          latestDeviceResponse
        }
      ),
      onConnectLedger: signJwtPayload,
      showInstructions: false
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/ledger/flows/jwt-signing/steps/sign-jwt-hash.tsx











function SignJwtHash() {
  const { jwtPayloadHash } = (0,react.useContext)(ledgerJwtSigningContext);
  const hasApprovedOperation = useHasApprovedOperation();
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(LedgerWrapper, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mt: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(SignLedgerTransaction, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerTitle, { mt: "space.05", mx: "space.08", children: "Approve the JWT hash on your device" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      DeviceOperationApprovalStatus,
      {
        status: hasApprovedOperation ? "approved" : "awaiting-approval"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      jsx/* Flex */.so,
      {
        bg: "ink.component-background-default",
        borderRadius: "lg",
        flexDirection: "column",
        textAlign: "left",
        px: "space.06",
        py: "space.06",
        width: "100%",
        children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          LedgerScreenDetail,
          {
            title: "JWT Hash",
            tooltipLabel: "This is a Sha256 hash of the JSON Web Token payload returned to the connecting app, which proves to the app you own the corresponding private key",
            children: jwtPayloadHash
          }
        )
      }
    )
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/flows/jwt-signing/ledger-sign-jwt.routes.tsx








const ledgerJwtSigningRoutes = /* @__PURE__ */ (0,jsx_runtime.jsxs)(react_router_dist/* Route */.qh, { element: /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerSignJwtContainer, {}), children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.ConnectLedger, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(ConnectLedgerSignJwt, {}) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.ConnectLedgerError, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(ConnectLedgerError, {}) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.ConnectLedgerSuccess, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(connect_ledger_success_ConnectLedgerSuccess, {}) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.LedgerOperationRejected, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(OperationRejected, {}) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.DeviceBusy, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(DeviceBusy, {}) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.AwaitingDeviceUserAction, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(SignJwtHash, {}) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.LedgerDisconnected, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerDisconnected, {}) })
] });

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-flows/request-keys/use-request-ledger-keys.ts






const defaultNumberOfKeysToPullFromLedgerDevice = 10;
function useRequestLedgerKeys({
  chain,
  connectApp,
  getAppVersion,
  pullKeysFromDevice,
  isAppOpen,
  onSuccess
}) {
  const [outdatedAppVersionWarning, setAppVersionOutdatedWarning] = (0,react.useState)(false);
  const [latestDeviceResponse, setLatestDeviceResponse] = (0,generic_ledger_utils/* useLedgerResponseState */.L6)();
  const [awaitingDeviceConnection, setAwaitingDeviceConnection] = (0,react.useState)(false);
  const ledgerNavigate = (0,use_ledger_navigate/* useLedgerNavigate */.W)();
  const ledgerAnalytics = useLedgerAnalytics();
  async function checkCorrectAppIsOpenWithFailState(app) {
    const response = await getAppVersion(app);
    if (!isAppOpen({ name: response.name })) {
      setAwaitingDeviceConnection(false);
      throw new Error(generic_ledger_utils/* LedgerConnectionErrors */.NV.AppNotOpen);
    }
    return response;
  }
  async function requestKeys() {
    let app;
    try {
      setLatestDeviceResponse({ deviceLocked: false });
      setAwaitingDeviceConnection(true);
      app = await connectApp();
      await checkCorrectAppIsOpenWithFailState(app);
      setAwaitingDeviceConnection(false);
      ledgerNavigate.toConnectionSuccessStep(chain);
      await (0,utils_dist/* delay */.cb)(1250);
      await pullKeysFromDevice(app);
      ledgerAnalytics.publicKeysPulledFromLedgerSuccessfully();
      await app.transport.close();
      onSuccess?.();
    } catch (e) {
      setAwaitingDeviceConnection(false);
      if ((0,utils_dist/* isError */.bJ)(e) && (0,generic_ledger_utils/* checkLockedDeviceError */.X6)(e)) {
        setLatestDeviceResponse({ deviceLocked: true });
        return;
      }
      ledgerNavigate.toErrorStep(chain);
      return app?.transport.close();
    }
  }
  return {
    requestKeys,
    outdatedAppVersionWarning,
    setAppVersionOutdatedWarning,
    latestDeviceResponse,
    setLatestDeviceResponse,
    awaitingDeviceConnection,
    setAwaitingDeviceConnection
  };
}

;// CONCATENATED MODULE: ./src/app/features/ledger/flows/request-bitcoin-keys/request-bitcoin-keys.utils.ts





function getPolicyForPaymentType({
  derivationPathFn,
  policyFn
}) {
  return async ({
    accountIndex,
    bitcoinApp,
    fingerprint,
    network
  }) => {
    const path = derivationPathFn(network, accountIndex);
    const xpub = await bitcoinApp.getExtendedPubkey(path);
    const policy = policyFn({ xpub, fingerprint, network, accountIndex });
    return { policy: policy.keys[0], xpub, fingerprint, path };
  };
}
const getNativeSegwitExtendedPublicKey = getPolicyForPaymentType({
  derivationPathFn: bitcoin_dist/* getNativeSegwitAccountDerivationPath */.c3,
  policyFn: bitcoin_ledger_utils/* createNativeSegwitDefaultWalletPolicy */.V2
});
const getTaprootExtendedPublicKey = getPolicyForPaymentType({
  derivationPathFn: bitcoin_dist/* getTaprootAccountDerivationPath */.J_,
  policyFn: bitcoin_ledger_utils/* createTaprootDefaultWalletPolicy */.Ge
});
function pullBitcoinKeysFromLedgerDevice(bitcoinApp, targetId = "") {
  return async ({ onRequestKey, network }) => {
    const fingerprint = await bitcoinApp.getMasterFingerprint();
    const keys = [];
    for (let accountIndex = 0; accountIndex < defaultNumberOfKeysToPullFromLedgerDevice; accountIndex++) {
      onRequestKey?.(accountIndex);
      const { path, policy } = await getNativeSegwitExtendedPublicKey({
        bitcoinApp,
        fingerprint,
        network,
        accountIndex
      });
      keys.push({ id: (0,bitcoin_dist/* createWalletIdDecoratedPath */.DX)(path, "default"), path, policy, targetId });
    }
    for (let accountIndex = 0; accountIndex < defaultNumberOfKeysToPullFromLedgerDevice; accountIndex++) {
      onRequestKey?.(accountIndex + defaultNumberOfKeysToPullFromLedgerDevice);
      const { path, policy } = await getTaprootExtendedPublicKey({
        bitcoinApp,
        fingerprint,
        network,
        accountIndex
      });
      keys.push({ id: (0,bitcoin_dist/* createWalletIdDecoratedPath */.DX)(path, "default"), path, policy, targetId });
    }
    await (0,utils_dist/* delay */.cb)(250);
    return { status: "success", keys };
  };
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-flows/request-keys/ledger-request-keys.context.ts


const ledgerRequestKeysContext = (0,react.createContext)(null);
function useLedgerRequestKeysContext() {
  const context = (0,react.useContext)(ledgerRequestKeysContext);
  if (!context) throw new Error("No LedgerRequestKeysContext found");
  return context;
}
const LedgerRequestKeysProvider = ledgerRequestKeysContext.Provider;

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-flows/request-keys/steps/connect-ledger-request-keys.tsx






function ConnectLedgerRequestKeys() {
  const {
    pullPublicKeysFromDevice,
    latestDeviceResponse,
    awaitingDeviceConnection,
    outdatedAppVersionWarning,
    chain
  } = useLedgerRequestKeysContext();
  (0,use_when_reattempt_ledger_connection/* useWhenReattemptingLedgerConnection */.z)(() => pullPublicKeysFromDevice());
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    ConnectLedger,
    {
      chain,
      awaitingLedgerConnection: awaitingDeviceConnection,
      warning: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        CommonLedgerDeviceInlineWarnings,
        {
          chain,
          latestDeviceResponse,
          outdatedLedgerAppWarning: outdatedAppVersionWarning
        }
      ),
      showInstructions: true,
      onConnectLedger: pullPublicKeysFromDevice
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-flows/request-keys/ledger-request-keys-route-generator.tsx






function ledgerRequestKeysRoutes({ path, component }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(react_router_dist/* Route */.qh, { path, element: component, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.ConnectLedger, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(ConnectLedgerRequestKeys, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.DeviceBusy, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(DeviceBusy, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.ConnectLedgerError, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(ConnectLedgerError, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.ConnectLedgerSuccess, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(connect_ledger_success_ConnectLedgerSuccess, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.LedgerUnsupportedBrowser, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(UnsupportedBrowserLayout, {}) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-flows/request-keys/request-keys-flow.tsx







function RequestKeysFlow({ context, isActionCancellableByUser }) {
  const ledgerNavigate = (0,use_ledger_navigate/* useLedgerNavigate */.W)();
  useScrollLock(true);
  const onCancelConnectLedger = ledgerNavigate.cancelLedgerAction;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerRequestKeysProvider, { value: context, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Sheet */.cj,
    {
      isShowing: true,
      header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, {}),
      onClose: isActionCancellableByUser ? onCancelConnectLedger : void 0,
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/flows/request-bitcoin-keys/ledger-request-bitcoin-keys.tsx














function LedgerRequestBitcoinKeys() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const dispatch = (0,react_redux/* useDispatch */.wA)();
  const ledgerNavigate = (0,use_ledger_navigate/* useLedgerNavigate */.W)();
  const network = (0,networks_selectors/* useCurrentNetwork */.Rm)();
  const chain = "bitcoin";
  const { requestKeys, latestDeviceResponse, awaitingDeviceConnection } = useRequestLedgerKeys({
    chain,
    connectApp: (0,bitcoin_ledger_utils/* connectLedgerBitcoinApp */.RA)(network.chain.bitcoin.mode),
    getAppVersion: bitcoin_ledger_utils/* getBitcoinAppVersion */.wW,
    isAppOpen: (0,bitcoin_ledger_utils/* isBitcoinAppOpen */.Ke)({ network: network.chain.bitcoin.mode }),
    onSuccess() {
      navigate("/", { replace: true });
    },
    async pullKeysFromDevice(app) {
      const { keys } = await pullBitcoinKeysFromLedgerDevice(app)({
        network: (0,bitcoin_dist/* bitcoinNetworkModeToCoreNetworkMode */.Vw)(network.chain.bitcoin.mode),
        onRequestKey(index) {
          const keyGroupFinalIndex = defaultNumberOfKeysToPullFromLedgerDevice - 1;
          const isNativeSegwitkey = index <= keyGroupFinalIndex;
          if (isNativeSegwitkey) {
            ledgerNavigate.toDeviceBusyStep(
              `Requesting Bitcoin Native Segwit address (${index + 1}\u2026${defaultNumberOfKeysToPullFromLedgerDevice})`
            );
            return;
          }
          ledgerNavigate.toDeviceBusyStep(
            `Requesting Bitcoin Taproot address (${index - keyGroupFinalIndex}\u2026${defaultNumberOfKeysToPullFromLedgerDevice})`
          );
        }
      });
      dispatch(bitcoin_key_slice/* bitcoinKeysSlice */.F_.actions.addKeys(keys));
    }
  });
  const ledgerContextValue = {
    chain: "bitcoin",
    pullPublicKeysFromDevice: requestKeys,
    latestDeviceResponse,
    awaitingDeviceConnection,
    outdatedAppVersionWarning: false
  };
  const canCancelLedgerAction = (0,generic_ledger_utils/* useCancelLedgerAction */.Zs)(awaitingDeviceConnection);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    RequestKeysFlow,
    {
      context: ledgerContextValue,
      isActionCancellableByUser: canCancelLedgerAction
    }
  );
}
const requestBitcoinKeysRoutes = ledgerRequestKeysRoutes({
  path: "bitcoin",
  component: /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerRequestBitcoinKeys, {})
});

// EXTERNAL MODULE: ./node_modules/.pnpm/@noble+secp256k1@2.1.0/node_modules/@noble/secp256k1/index.js
var secp256k1 = __webpack_require__(56581);
;// CONCATENATED MODULE: ./src/app/features/ledger/flows/request-stacks-keys/request-stacks-keys.utils.ts








function requestPublicKeyForIdentityAccount(app) {
  return async (index) => app.getIdentityPubKey((0,stacks_address_gen/* getIdentityDerivationPath */.BN)(index));
}
function decompressSecp256k1PublicKey(publicKey) {
  const point = secp256k1/* ProjectivePoint */.CB.fromHex(publicKey);
  return (0,hashes_esm_utils/* bytesToHex */.My)(point.toRawBytes(false));
}
function pullStacksKeysFromLedgerDevice(stacksApp) {
  return async ({
    onRequestKey
  }) => {
    const publicKeys = [];
    for (let index = 0; index < defaultNumberOfKeysToPullFromLedgerDevice; index++) {
      if (onRequestKey) onRequestKey(index);
      const stxPublicKeyResp = await requestPublicKeyForStxAccount(stacksApp)(index);
      const dataPublicKeyResp = await requestPublicKeyForIdentityAccount(stacksApp)(index);
      if (!stxPublicKeyResp.publicKey) return { status: "failure", ...stxPublicKeyResp };
      if (!dataPublicKeyResp.publicKey) return { status: "failure", ...dataPublicKeyResp };
      publicKeys.push({
        path: (0,stacks_dist/* makeStxDerivationPath */._L)(index),
        stxPublicKey: stxPublicKeyResp.publicKey.toString("hex"),
        // We return a decompressed public key, to match the behaviour of
        // @stacks/wallet-sdk. I'm not sure why we return an uncompressed key
        // typically compressed keys are used
        dataPublicKey: decompressSecp256k1PublicKey(dataPublicKeyResp.publicKey.toString("hex"))
      });
    }
    await (0,utils_dist/* delay */.cb)(1e3);
    return { status: "success", publicKeys };
  };
}

// EXTERNAL MODULE: ./src/app/store/ledger/stacks/stacks-key.slice.ts
var stacks_key_slice = __webpack_require__(23564);
;// CONCATENATED MODULE: ./src/app/features/ledger/flows/request-stacks-keys/ledger-request-stacks-keys.tsx














function LedgerRequestStacksKeys() {
  const toast = (0,use_toast/* useToast */.d)();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const ledgerNavigate = (0,use_ledger_navigate/* useLedgerNavigate */.W)();
  const dispatch = (0,react_redux/* useDispatch */.wA)();
  const chain = "stacks";
  const { requestKeys, latestDeviceResponse, awaitingDeviceConnection, outdatedAppVersionWarning } = useRequestLedgerKeys({
    chain,
    connectApp: connectLedgerStacksApp,
    getAppVersion: getStacksAppVersion,
    isAppOpen: isStacksAppOpen,
    onSuccess() {
      navigate("/", { replace: true });
    },
    async pullKeysFromDevice(app) {
      const resp = await pullStacksKeysFromLedgerDevice(app)({
        onRequestKey(accountIndex) {
          ledgerNavigate.toDeviceBusyStep(
            `Requesting STX addresses (${accountIndex + 1}\u2026${defaultNumberOfKeysToPullFromLedgerDevice})`
          );
        }
      });
      if (resp.status === "failure") {
        toast.error(resp.errorMessage);
        ledgerNavigate.toErrorStep(chain, resp.errorMessage);
        return;
      }
      ledgerNavigate.toDeviceBusyStep();
      dispatch(
        stacks_key_slice/* stacksKeysSlice */.mh.actions.addKeys(
          resp.publicKeys.map((keys) => ({
            ...keys,
            id: keys.path.replace("m", utils/* defaultWalletKeyId */.z0),
            targetId: latestDeviceResponse?.targetId || ""
          }))
        )
      );
    }
  });
  const ledgerContextValue = {
    chain: "stacks",
    pullPublicKeysFromDevice: requestKeys,
    latestDeviceResponse,
    awaitingDeviceConnection,
    outdatedAppVersionWarning
  };
  const canCancelLedgerAction = (0,generic_ledger_utils/* useCancelLedgerAction */.Zs)(awaitingDeviceConnection);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    RequestKeysFlow,
    {
      context: ledgerContextValue,
      isActionCancellableByUser: canCancelLedgerAction
    }
  );
}
const requestStacksKeysRoutes = ledgerRequestKeysRoutes({
  path: "stacks",
  component: /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerRequestStacksKeys, {})
});

;// CONCATENATED MODULE: ./src/app/features/ledger/hooks/use-verify-matching-stacks-public-key.ts





function useVerifyMatchingLedgerStacksPublicKey() {
  const account = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const ledgerNavigate = (0,use_ledger_navigate/* useLedgerNavigate */.W)();
  return (0,react.useCallback)(
    async (stacksApp) => {
      if (!account) return;
      const { publicKey } = await requestPublicKeyForStxAccount(stacksApp)(account.index);
      if (publicKey.toString("hex") !== account.stxPublicKey) {
        ledgerNavigate.toPublicKeyMismatchStep();
        throw new Error("Mismatching public keys");
      }
    },
    [account, ledgerNavigate]
  );
}

;// CONCATENATED MODULE: ./src/app/common/transactions/stacks/is-sip-10-transfer.ts

function isSip10Transfer(tx) {
  if (!tx.payload || !("functionName" in tx.payload)) return false;
  const payload = tx.payload;
  return payload.functionName.content === "transfer" && (payload.functionArgs.length === 3 || payload.functionArgs.length === 4);
}

;// CONCATENATED MODULE: ./src/app/features/ledger/flows/stacks-tx-signing/steps/approve-sign-stacks-ledger-tx.tsx











const sipTenTransferArguments = ["Amount", "Sender", "To", "Memo"];
function formatSipTenTransferArgument(index) {
  return `Argument ${index} \u2014 ${sipTenTransferArguments[index]}`;
}
function formatTooltipLabel(amount) {
  const stxFromMicroStx = (0,utils_dist/* microStxToStx */.Am)(Number(amount));
  return `The amount is displayed in microstacks (\xB5STX) and is equal to ${stxFromMicroStx} STX`;
}
function ApproveSignLedgerStacksTx() {
  const { transaction, chain } = useLedgerTxSigningContext();
  const currentAccount = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const hasApprovedOperation = useHasApprovedOperation();
  const transactionDetails = (0,react.useMemo)(() => {
    if (!transaction || chain !== "stacks") return [];
    if (transaction.payload.payloadType === esm_constants/* PayloadType */.d2.TokenTransfer) {
      return [
        ["Origin", currentAccount?.address ?? ""],
        ["Nonce", String(transaction.auth.spendingCondition.nonce)],
        [
          "Fee (\xB5STX)",
          String(transaction.auth.spendingCondition.fee),
          formatTooltipLabel(transaction.auth.spendingCondition.fee)
        ],
        [
          "Amount (\xB5STX)",
          new bignumber/* BigNumber */.g(String(transaction.payload.amount)).toFormat(),
          formatTooltipLabel(transaction.payload.amount)
        ],
        ["To", (0,clarityValue/* cvToString */.Ss)(transaction.payload.recipient)],
        ["Memo", transaction.payload.memo.content]
      ];
    }
    if (transaction.payload.payloadType === esm_constants/* PayloadType */.d2.ContractCall && isSip10Transfer(transaction))
      return transaction.payload.functionArgs.map((cv) => (0,clarityValue/* cvToString */.Ss)(cv)).map((value, index) => [formatSipTenTransferArgument(index), value]);
    if (transaction.payload.payloadType === esm_constants/* PayloadType */.d2.ContractCall)
      return transaction.payload.functionArgs.map((cv) => (0,clarityValue/* cvToString */.Ss)(cv)).map((value, index) => [`Argument ${index + 0}`, value]);
    return [];
  }, [chain, currentAccount?.address, transaction]);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    ApproveLedgerOperationLayout,
    {
      description: "Verify the transaction details on your Ledger",
      details: transactionDetails,
      status: hasApprovedOperation ? "approved" : "awaiting-approval"
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/ledger/flows/stacks-tx-signing/ledger-sign-stacks-tx-container.tsx
/* provided dependency */ var ledger_sign_stacks_tx_container_Buffer = __webpack_require__(84686)["Buffer"];






















const ledgerStacksTxSigningRoutes = ledgerSignTxRoutes({
  component: /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerSignStacksTxContainer, {}),
  customRoutes: /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.AwaitingDeviceUserAction, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(ApproveSignLedgerStacksTx, {}) })
});
function LedgerSignStacksTxContainer() {
  const location = (0,react_router_dist/* useLocation */.zy)();
  const ledgerNavigate = (0,use_ledger_navigate/* useLedgerNavigate */.W)();
  const ledgerAnalytics = useLedgerAnalytics();
  useScrollLock(true);
  const account = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const verifyLedgerPublicKey = useVerifyMatchingLedgerStacksPublicKey();
  const [unsignedTx, setUnsignedTx] = (0,react.useState)(null);
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const chain = "stacks";
  (0,react.useEffect)(() => {
    const tx = lodash_get_default()(location.state, "tx");
    if (tx) setUnsignedTx(tx);
  }, [location.state]);
  (0,react.useEffect)(() => () => setUnsignedTx(null), []);
  const {
    signTransaction,
    latestDeviceResponse,
    awaitingDeviceConnection,
    hasUserSkippedBuggyAppWarning
  } = useLedgerSignTx({
    chain,
    isAppOpen: isStacksAppOpen,
    getAppVersion: getStacksAppVersion,
    connectApp: connectLedgerStacksApp,
    async passesAdditionalVersionCheck(appVersion) {
      if (appVersion.chain !== "stacks") {
        return true;
      }
      if (isVersionOfLedgerStacksAppWithContractPrincipalBug(appVersion)) {
        navigate(route_urls/* RouteUrls */.W.LedgerOutdatedAppWarning);
        const response = await hasUserSkippedBuggyAppWarning.wait();
        if (response === "cancelled-operation") {
          ledgerNavigate.cancelLedgerAction();
        }
        return false;
      }
      return true;
    },
    async signTransactionWithDevice(stacksApp) {
      if (!account) return;
      ledgerNavigate.toDeviceBusyStep("Verifying public key on Ledger\u2026");
      await verifyLedgerPublicKey(stacksApp);
      ledgerNavigate.toConnectionSuccessStep("stacks");
      await (0,utils_dist/* delay */.cb)(1e3);
      if (!unsignedTx) throw new Error("No unsigned tx");
      ledgerNavigate.toAwaitingDeviceOperation({ hasApprovedOperation: false });
      const resp = await signLedgerStacksTransaction(stacksApp)(
        ledger_sign_stacks_tx_container_Buffer.from(unsignedTx, "hex"),
        account.index
      );
      if (resp.returnCode === ledger_stacks_dist.LedgerError.DataIsInvalid) {
        ledgerNavigate.toDevicePayloadInvalid();
        return;
      }
      if (resp.returnCode === ledger_stacks_dist.LedgerError.TransactionRejected) {
        ledgerNavigate.toOperationRejectedStep();
        ledgerAnalytics.transactionSignedOnLedgerRejected();
        return;
      }
      if (resp.returnCode !== ledger_stacks_dist.LedgerError.NoErrors) {
        throw new Error("Some other error");
      }
      ledgerNavigate.toAwaitingDeviceOperation({ hasApprovedOperation: true });
      await (0,utils_dist/* delay */.cb)(1e3);
      const signedTx = signStacksTransactionWithSignature(unsignedTx, resp.signatureVRS);
      ledgerAnalytics.transactionSignedOnLedgerSuccessfully();
      try {
        publish_subscribe/* appEvents */.l.publish("ledgerStacksTxSigned", {
          unsignedTx,
          signedTx
        });
      } catch (e) {
        const error = (0,utils_dist/* isError */.bJ)(e) ? e.message : "Unknown error";
        void analytics/* analytics */.zS.track("ledger_transaction_publish_error", {
          error: {
            message: error,
            error: e
          }
        });
        ledgerNavigate.toBroadcastErrorStep(error);
        return;
      }
    }
  });
  function closeAction() {
    publish_subscribe/* appEvents */.l.publish("ledgerStacksTxSigningCancelled", { unsignedTx: unsignedTx ?? "" });
    ledgerNavigate.cancelLedgerAction();
  }
  const ledgerContextValue = {
    chain,
    transaction: unsignedTx ? (0,dist_esm_transaction/* deserializeTransaction */.q)(unsignedTx) : null,
    signTransaction,
    latestDeviceResponse,
    awaitingDeviceConnection,
    hasUserSkippedBuggyAppWarning
  };
  const canCancelLedgerAction = (0,generic_ledger_utils/* useCancelLedgerAction */.Zs)(awaitingDeviceConnection);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    TxSigningFlow,
    {
      context: ledgerContextValue,
      closeAction: canCancelLedgerAction ? closeAction : void 0
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/ledger/generic-steps/connect-device/connect-ledger-start.tsx










function ConnectLedgerStart() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const pageModeRoutingAction = (url) => (0,common_utils/* whenPageMode */.ty)({
    full() {
      navigate(url, { replace: true, state: { [use_when_reattempt_ledger_connection/* immediatelyAttemptLedgerConnection */.J]: true } });
    },
    popup() {
      void (0,open_in_new_tab/* openIndexPageInNewTab */.W)(url);
      (0,utils/* closeWindow */.Do)();
    }
  });
  function connectChain(chain) {
    const supportsWebUsbAction = pageModeRoutingAction(
      route_urls/* RouteUrls */.W.Onboarding + `/${chain}/` + route_urls/* RouteUrls */.W.ConnectLedger
    );
    const doesNotSupportWebUsbAction = pageModeRoutingAction(
      route_urls/* RouteUrls */.W.Onboarding + "/" + route_urls/* RouteUrls */.W.LedgerUnsupportedBrowser
    );
    (0,common_utils/* doesBrowserSupportWebUsbApi */.JY)() ? supportsWebUsbAction() : doesNotSupportWebUsbAction();
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Sheet */.cj, { isShowing: true, header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, {}), onClose: () => navigate("../"), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    ConnectLedger,
    {
      connectBitcoin: () => connectChain("bitcoin"),
      connectStacks: () => connectChain("stacks"),
      showInstructions: true
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/components/address-displayer/form-address-displayer.tsx





function FormAddressDisplayer({ address, ...rest }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* Box */.az,
    {
      "data-testid": shared_component_selectors/* SharedComponentsSelectors */.s.AddressDisplayer,
      display: "flex",
      flexWrap: "wrap",
      justifyContent: "end",
      maxWidth: "300px",
      mr: "-8px",
      ...rest,
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* AddressDisplayer */._Q, { address })
    }
  );
}

// EXTERNAL MODULE: ./src/app/components/info-card/info-card.tsx
var info_card = __webpack_require__(41115);
// EXTERNAL MODULE: ./src/app/store/accounts/blockchain/bitcoin/taproot-account.hooks.ts
var taproot_account_hooks = __webpack_require__(3559);
;// CONCATENATED MODULE: ./src/app/features/retrieve-taproot-to-native-segwit/components/retrieve-taproot-to-native-segwit.layout.tsx




function RetrieveTaprootToNativeSegwitLayout(props) {
  const { onClose, onApproveTransaction, isBroadcasting, children } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Sheet */.cj,
    {
      isShowing: true,
      header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, {}),
      onClose: () => onClose(),
      footer: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { flexDirection: "row", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { onClick: onApproveTransaction, "aria-busy": isBroadcasting, fullWidth: true, children: "Retrieve bitcoin" }) }),
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { alignItems: "start", flexDirection: "column", mx: "space.06", mt: "space.05", textAlign: "left", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* BtcAvatarIcon */.Ev, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.span, { mt: "space.04", textStyle: "label.01", children: [
          "Retrieve Bitcoin deposited to ",
          /* @__PURE__ */ (0,jsx_runtime.jsx)("br", {}),
          " Taproot addresses"
        ] }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { mt: "space.05", textStyle: "body.02", children: "Taproot addresses are used by Leather for Ordinal inscriptions, but they can also contain bitcoin." }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { mt: "space.04", textStyle: "body.02", children: "As we don't support tranferring from Taproot addresses yet, you can retrieve funds to your account's main Native SegWit balance here." }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { my: "space.04", textStyle: "body.02", children: "This transaction may take upwards of 30 minutes to confirm." }),
        children,
        /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Callout */.Pq, { variant: "warning", mt: "space.05", mb: "space.05", children: 'We recommend you check the URL for each "Uninscribed UTXO" listed above to ensure it displays no inscription. If it does display one, do not proceed with retrieval or you may lose it!' })
      ] })
    }
  );
}

// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+crypto@1.6.6/node_modules/@leather.io/crypto/dist/index.mjs
var crypto_dist = __webpack_require__(86743);
;// CONCATENATED MODULE: ./src/app/features/retrieve-taproot-to-native-segwit/use-generate-retrieve-taproot-funds-tx.tsx











function useGenerateRetrieveTaprootFundsTx() {
  const networkMode = (0,bitcoin_keychain/* useBitcoinScureLibNetworkConfig */.F5)();
  const currentAccountIndex = (0,accounts_account/* useCurrentAccountIndex */.IR)();
  const account = (0,taproot_account_hooks/* useCurrentTaprootAccount */.R2)();
  const nativeSegwitSigner = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSigner */.sz)();
  const uninscribedUtxos = (0,query_dist/* useCurrentTaprootAccountUninscribedUtxos */.aF)({
    taprootKeychain: account?.keychain,
    nativeSegwitAddress: nativeSegwitSigner.address,
    currentAccountIndex
  });
  const createSigner = (0,taproot_account_hooks/* useCurrentAccountTaprootSigner */.$w)();
  const { data: feeRates } = (0,query_dist/* useAverageBitcoinFeeRates */._iG)();
  const getNumberOfInscriptionOnUtxo = (0,query_dist/* useNumberOfInscriptionsOnUtxo */.mF0)({
    taprootKeychain: account?.keychain,
    nativeSegwitAddress: nativeSegwitSigner.address
  });
  const fee = (0,react.useMemo)(() => {
    if (!feeRates) return (0,utils_dist/* createMoney */.j6)(0, "BTC");
    const txSizer = new BtcSizeFeeEstimator();
    const { txVBytes } = txSizer.calcTxSize({
      input_count: uninscribedUtxos.length,
      p2wpkh_output_count: 1
    });
    return (0,utils_dist/* createMoney */.j6)(Math.ceil(txVBytes * feeRates.hourFee.toNumber()), "BTC");
  }, [feeRates, uninscribedUtxos.length]);
  const generateRetrieveTaprootFundsTx = (0,react.useCallback)(
    async ({ recipient, fee: fee2 }) => {
      const tx = new esm_transaction/* Transaction */.ZX();
      const totalAmount = (0,utils_dist/* sumNumbers */.Ye)(uninscribedUtxos.map((utxo) => utxo.value));
      uninscribedUtxos.forEach((utxo) => {
        const addressIndex = (0,crypto_dist/* extractAddressIndexFromPath */.HD)(utxo.derivationPath);
        const signer = createSigner?.(addressIndex);
        if (!signer) return;
        tx.addInput({
          txid: utxo.txid,
          index: utxo.vout,
          tapInternalKey: signer.payment.tapInternalKey,
          witnessUtxo: {
            script: signer.payment.script,
            amount: BigInt(utxo.value)
          }
        });
      });
      const zeroInscriptionCheckResults = await Promise.all(
        uninscribedUtxos.map((utxo) => getNumberOfInscriptionOnUtxo(utxo.txid, utxo.vout))
      );
      if (!zeroInscriptionCheckResults.every((inscriptionCount) => inscriptionCount === 0)) {
        throw new Error("Inscription found in utxos");
      }
      const paymentAmount = BigInt(totalAmount.minus(fee2.amount.toString()).toString());
      tx.addOutputAddress(recipient, paymentAmount, networkMode);
      uninscribedUtxos.forEach((utxo) => {
        const addressIndex = (0,crypto_dist/* extractAddressIndexFromPath */.HD)(utxo.derivationPath);
        return createSigner?.(addressIndex).sign(tx);
      });
      tx.finalize();
      return tx.hex;
    },
    [createSigner, getNumberOfInscriptionOnUtxo, networkMode, uninscribedUtxos]
  );
  return { generateRetrieveTaprootFundsTx, fee };
}

;// CONCATENATED MODULE: ./src/app/features/retrieve-taproot-to-native-segwit/retrieve-taproot-to-native-segwit.tsx

















function RetrieveTaprootToNativeSegwit() {
  const toast = (0,use_toast/* useToast */.d)();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const currentAccountIndex = (0,accounts_account/* useCurrentAccountIndex */.IR)();
  const account = (0,taproot_account_hooks/* useCurrentTaprootAccount */.R2)();
  const nativeSegwitSigner = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSigner */.sz)();
  const balance = (0,query_dist/* useCurrentTaprootAccountBalance */.vc$)({
    currentAccountIndex,
    taprootKeychain: account?.keychain,
    nativeSegwitAddress: nativeSegwitSigner.address
  });
  const recipient = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitAddressIndexZero */.s8)();
  const uninscribedUtxos = (0,query_dist/* useCurrentTaprootAccountUninscribedUtxos */.aF)({
    taprootKeychain: account?.keychain,
    nativeSegwitAddress: nativeSegwitSigner.address,
    currentAccountIndex
  });
  const { generateRetrieveTaprootFundsTx, fee } = useGenerateRetrieveTaprootFundsTx();
  const { broadcastTx, isBroadcasting } = (0,query_dist/* useBitcoinBroadcastTransaction */.Zbx)();
  async function handleBroadcastRetrieveBitcoinTx() {
    const tx = await generateRetrieveTaprootFundsTx({ recipient, fee });
    await broadcastTx({
      tx,
      async onSuccess() {
        await (0,utils_dist/* delay */.cb)(1200);
        toast.success("Transaction submitted!");
        await (0,utils_dist/* delay */.cb)(700);
        navigate(route_urls/* RouteUrls */.W.Activity);
        void analytics/* analytics */.zS.track("broadcast_retrieve_taproot_to_native_segwit");
      },
      onError(e) {
        alert(e);
      }
    });
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    RetrieveTaprootToNativeSegwitLayout,
    {
      isBroadcasting,
      onApproveTransaction: handleBroadcastRetrieveBitcoinTx,
      onClose: () => navigate(route_urls/* RouteUrls */.W.Home),
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { width: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Your address", value: /* @__PURE__ */ (0,jsx_runtime.jsx)(FormAddressDisplayer, { address: recipient }) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardSeparator */.ko, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Amount", value: (0,utils_dist/* formatMoneyPadded */.cN)(balance) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Fee", value: (0,utils_dist/* formatMoneyPadded */.cN)(fee) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardSeparator */.ko, {}),
        uninscribedUtxos.map((utxo, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
          info_card/* InfoCardRow */.Pn,
          {
            title: `Uninscribed UTXO #${i}`,
            value: /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Link */.N_, { href: `https://ordinals.com/output/${utxo.txid}:${utxo.vout}`, children: [
              `${(0,utils_dist/* truncateMiddle */.kU)(utxo.txid, 4)}:${utxo.vout}`,
              " \u2197"
            ] })
          },
          utxo.txid
        ))
      ] })
    }
  );
}

;// CONCATENATED MODULE: ./src/app/common/authentication/use-cancel-auth-request.ts





function useCancelAuthRequest() {
  const { decodedAuthRequest, authRequest } = (0,use_onboarding_state/* useOnboardingState */.E)();
  const { origin, tabId } = (0,use_default_request_search_params/* useDefaultRequestParams */.Y)();
  return (0,react.useCallback)(() => {
    if (!decodedAuthRequest || !authRequest || !origin || !tabId) {
      return;
    }
    const authResponse = "cancel";
    (0,finalize_auth_response/* finalizeAuthResponse */.o)({
      decodedAuthRequest,
      authRequest,
      authResponse,
      requestingOrigin: origin,
      tabId
    });
  }, [decodedAuthRequest, authRequest, origin, tabId]);
}

// EXTERNAL MODULE: ./src/app/common/hooks/auth/use-auth-request-params.ts
var use_auth_request_params = __webpack_require__(17854);
;// CONCATENATED MODULE: ./src/app/common/hooks/auth/use-app-details.tsx


function useAppDetails() {
  const { authDetails } = (0,use_auth_request_params/* useAuthRequestParams */.N)();
  const { appName: name, appIcon: icon, appURL: url } = authDetails ?? {};
  return { name, icon, url };
}

// EXTERNAL MODULE: ./src/app/components/favicon.tsx
var favicon = __webpack_require__(87230);
;// CONCATENATED MODULE: ./src/app/components/requester-flag.tsx





function RequesterFlag({ requester }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Flag */.lN,
    {
      img: /* @__PURE__ */ (0,jsx_runtime.jsx)(favicon/* Favicon */.d, { origin: requester }),
      align: "middle",
      justifyContent: "center",
      py: "space.04",
      px: "space.02",
      borderRadius: "sm",
      width: "fit-content",
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.02", children: requester })
    }
  );
}

// EXTERNAL MODULE: ./src/app/common/authentication/use-finish-auth-request.ts
var use_finish_auth_request = __webpack_require__(92586);
// EXTERNAL MODULE: ./node_modules/.pnpm/use-events@1.4.2_react@18.3.1/node_modules/use-events/dist-web/index.js + 1 modules
var dist_web = __webpack_require__(57451);
;// CONCATENATED MODULE: ./src/app/components/item-hover.tsx




function ItemHover({
  isFocused,
  isHovered,
  ...rest
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* Square */.M6,
    {
      opacity: isFocused || isHovered ? 1 : 0,
      transition: "transition",
      borderRadius: "xs",
      position: "absolute",
      size: "calc(100% + 24px)",
      left: "-12px",
      top: "-12px",
      bg: "ink.component-background-hover",
      zIndex: -1,
      ...rest
    }
  );
}
function usePressable(isPressable) {
  const [isHovered, bind] = (0,dist_web/* useHover */.Mk)();
  const [isFocused, focusBind] = (0,dist_web/* useFocus */.iQ)();
  const component = /* @__PURE__ */ (0,jsx_runtime.jsx)(ItemHover, { isHovered, isFocused });
  if (!isPressable)
    return [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, {}),
      // Not really this type but it's safe to spread
      {},
      { isFocused: false, isHovered: false }
    ];
  return [
    component,
    {
      ...bind,
      ...focusBind,
      cursor: isPressable ? "pointer" : "default",
      position: "relative",
      zIndex: 1
    },
    { isHovered, isFocused }
  ];
}

;// CONCATENATED MODULE: ./src/app/pages/choose-account/components/accounts.tsx






















function AccountTitlePlaceholder({ account }) {
  const name = `Account ${account?.index + 1}`;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { children: name });
}
const ChooseAccountItem = (0,react.memo)(
  ({ account, isLoading, onSelectAccount }) => {
    const { data: name = "" } = (0,use_account_names/* useAccountDisplayName */.o)(account);
    const btcAddress = (0,native_segwit_account_hooks/* useNativeSegwitAccountIndexAddressIndexZero */.b8)(account.index);
    const accountSlug = (0,react.useMemo)(() => (0,common_utils/* slugify */.Yv)(`Account ${account?.index + 1}`), [account?.index]);
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      AccountListItemLayout,
      {
        accountAddresses: /* @__PURE__ */ (0,jsx_runtime.jsx)(AcccountAddresses, { index: account.index }),
        accountName: /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Suspense, { fallback: /* @__PURE__ */ (0,jsx_runtime.jsx)(AccountTitlePlaceholder, { account }), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.01", children: name }) }),
        avatar: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          account_avatar/* AccountAvatar */.h,
          {
            index: account.index,
            publicKey: account.stxPublicKey,
            name,
            flexGrow: 0
          }
        ),
        balanceLabel: /* @__PURE__ */ (0,jsx_runtime.jsx)(AccountTotalBalance, { stxAddress: account.address, btcAddress }),
        "data-testid": `account-${accountSlug}-${account.index}`,
        index: account.index,
        isLoading,
        isSelected: false,
        onSelectAccount: () => onSelectAccount(account.index)
      }
    );
  }
);
function AddAccountAction() {
  const [component, bind] = usePressable(true);
  const createAccount = useCreateAccount();
  const onCreateAccount = () => {
    createAccount();
  };
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Box */.az, { mx: "space.05", py: "space.02", onClick: onCreateAccount, ...bind, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* PlusIcon */.c1, {}),
      "Generate new account"
    ] }),
    component
  ] });
}
function ChooseAccountsList() {
  const finishSignIn = (0,use_finish_auth_request/* useFinishAuthRequest */.a)();
  const { whenWallet } = (0,use_wallet_type/* useWalletType */.t)();
  const accounts = (0,stacks_account_hooks/* useStacksAccounts */.Lh)();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const [selectedAccount, setSelectedAccount] = (0,react.useState)(null);
  const signIntoAccount = async (index) => {
    setSelectedAccount(index);
    await whenWallet({
      async software() {
        await finishSignIn(index);
      },
      async ledger() {
        navigate(route_urls/* RouteUrls */.W.ConnectLedger, { state: { index } });
      }
    })();
  };
  if (!accounts) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Box */.az, { mt: "space.05", mb: "space.06", width: "100%", children: [
    whenWallet({ software: /* @__PURE__ */ (0,jsx_runtime.jsx)(AddAccountAction, {}), ledger: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(VirtuosoWrapper, { isPopup: true, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
      react_virtuoso_dist/* Virtuoso */.aY,
      {
        style: {
          background: (0,tokens/* token */.S)("colors.ink.background-primary")
        },
        data: accounts,
        itemContent: (index, account) => /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { my: "space.05", px: "space.05", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          ChooseAccountItem,
          {
            account,
            isLoading: whenWallet({ software: selectedAccount === index, ledger: false }),
            onSelectAccount: signIntoAccount
          }
        ) }, index)
      }
    ) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/routes/hooks/use-on-tab-closed.ts





function useOnOriginTabClose(handler) {
  const { tabId } = (0,use_default_request_search_params/* useDefaultRequestParams */.Y)();
  (0,react.useEffect)(() => {
    const messageHandler = (message, _sender, sendResponse) => {
      if (message.method !== message_types/* InternalMethods */.gc.OriginatingTabClosed) return;
      if (message.payload.tabId === tabId) {
        handler();
        void analytics/* analytics */.zS.track("requesting_origin_tab_closed_with_pending_action");
      }
      sendResponse();
    };
    chrome.runtime.onMessage.addListener(messageHandler);
    return () => chrome.runtime.onMessage.removeListener(handler);
  }, []);
}

;// CONCATENATED MODULE: ./src/app/pages/choose-account/choose-account.tsx













function ChooseAccount() {
  const { url } = useAppDetails();
  const accounts = (0,stacks_account_hooks/* useStacksAccounts */.Lh)();
  const hasConnectedStacksAccounts = accounts.length > 0;
  const cancelAuthentication = useCancelAuthRequest();
  useOnOriginTabClose(() => (0,utils/* closeWindow */.Do)());
  const handleUnmount = async () => cancelAuthentication();
  (0,react.useEffect)(() => {
    window.addEventListener("beforeunload", handleUnmount);
    return () => window.removeEventListener("beforeunload", handleUnmount);
  }, []);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { alignItems: "center", flexDirection: "column", pt: "space.07", width: "100%", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.05", textAlign: "center", alignItems: "center", children: [
        url && /* @__PURE__ */ (0,jsx_runtime.jsx)(RequesterFlag, { requester: url.toString() }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* LeatherLogomarkIcon */.$d, { height: 58, width: 248 }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { gap: "space.04", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.h1, { textStyle: "heading.05", children: hasConnectedStacksAccounts ? "Choose an account to connect" : "No connected accounts found" }) })
      ] }),
      hasConnectedStacksAccounts && /* @__PURE__ */ (0,jsx_runtime.jsx)(ChooseAccountsList, {})
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
  ] });
}

// EXTERNAL MODULE: ./src/app/components/loaders/btc-balance-loader.tsx
var btc_balance_loader = __webpack_require__(3521);
// EXTERNAL MODULE: ./src/app/components/crypto-asset-item/crypto-asset-item-error.tsx
var crypto_asset_item_error = __webpack_require__(2222);
// EXTERNAL MODULE: ./src/app/components/crypto-asset-item/crypto-asset-item-placeholder.tsx
var crypto_asset_item_placeholder = __webpack_require__(70475);
;// CONCATENATED MODULE: ./src/app/components/loaders/stx-balance-loader.tsx






function StxAssetItemBalanceLoader({ address, children }) {
  const { initialBalanceQuery, filteredBalanceQuery, isLoadingAdditionalData } = (0,query_dist/* useStxCryptoAssetBalance */.szK)(address);
  async function refetchAll() {
    await initialBalanceQuery.refetch();
    return filteredBalanceQuery.refetch();
  }
  if (initialBalanceQuery.isLoading) return /* @__PURE__ */ (0,jsx_runtime.jsx)(crypto_asset_item_placeholder/* CryptoAssetItemPlaceholder */.U, {});
  if ((0,query_dist/* isErrorTooManyRequests */.Qhq)(filteredBalanceQuery)) {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      crypto_asset_item_error/* CryptoAssetItemError */.l,
      {
        caption: "STX",
        icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* StxAvatarIcon */.sC, {}),
        onRefetch: () => refetchAll(),
        title: "Stacks"
      }
    );
  }
  if (!(0,query_dist/* isFetchedWithSuccess */.vbU)(filteredBalanceQuery)) {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(crypto_asset_item_error/* CryptoAssetItemError */.l, { caption: "STX", icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* StxAvatarIcon */.sC, {}), title: "Stacks" });
  }
  const { data: balance, isLoading } = filteredBalanceQuery;
  return children(balance, isLoading, isLoadingAdditionalData);
}

// EXTERNAL MODULE: ./node_modules/.pnpm/dompurify@3.1.4/node_modules/dompurify/dist/purify.js
var purify = __webpack_require__(903);
;// CONCATENATED MODULE: ./src/app/common/format-balance.ts


function removeCommas(amountWithCommas) {
  return amountWithCommas.replace(/,/g, "");
}
function formatBalance(amount) {
  const noCommas = removeCommas(amount);
  const number = noCommas.includes(".") ? parseFloat(noCommas) : parseInt(noCommas);
  return number > 1e4 ? {
    isAbbreviated: true,
    value: (0,common_utils/* abbreviateNumber */.$t)(number)
  } : { isAbbreviated: false, value: amount };
}

;// CONCATENATED MODULE: ./src/app/components/crypto-asset-item/crypto-asset-item.layout.utils.ts



function parseCryptoAssetBalance(availableBalance) {
  const availableBalanceString = (0,utils_dist/* formatMoneyWithoutSymbol */.gu)(availableBalance);
  const formattedBalance = formatBalance(availableBalanceString);
  return {
    availableBalanceString,
    formattedBalance
  };
}

;// CONCATENATED MODULE: ./src/app/components/crypto-asset-item/crypto-asset-item.layout.tsx









function CryptoAssetItemLayout({
  availableBalance,
  balanceSuffix,
  captionLeft,
  captionRightBulletInfo,
  contractId,
  fiatBalance,
  icon,
  isLoading = false,
  isLoadingAdditionalData = false,
  isPrivate = false,
  onSelectAsset,
  titleLeft,
  titleRightBulletInfo,
  dataTestId
}) {
  const { availableBalanceString, formattedBalance } = parseCryptoAssetBalance(availableBalance);
  const titleRight = /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SkeletonLoader */.jt, { width: "126px", isLoading, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    basic_tooltip/* BasicTooltip */.G,
    {
      asChild: true,
      label: formattedBalance.isAbbreviated && !isPrivate ? availableBalanceString : void 0,
      side: "left",
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { alignItems: "center", gap: "space.02", textStyle: "label.02", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* BulletSeparator */.ay, { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(
          private_text_layout/* PrivateTextLayout */.h,
          {
            isPrivate,
            "data-state": isLoadingAdditionalData ? "loading" : void 0,
            className: exports_web/* shimmerStyles */.cC,
            children: [
              formattedBalance.value,
              " ",
              balanceSuffix
            ]
          }
        ),
        titleRightBulletInfo
      ] }) })
    }
  ) });
  const captionRight = /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SkeletonLoader */.jt, { width: "78px", isLoading, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { alignItems: "center", color: "ink.text-subdued", gap: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* BulletSeparator */.ay, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      exports_web/* Caption */.HL,
      {
        "data-state": isLoadingAdditionalData ? "loading" : void 0,
        className: exports_web/* shimmerStyles */.cC,
        children: /* @__PURE__ */ (0,jsx_runtime.jsx)(private_text_layout/* PrivateTextLayout */.h, { isPrivate, children: availableBalance.amount.toNumber() > 0 ? fiatBalance : null })
      }
    ),
    captionRightBulletInfo
  ] }) }) });
  const isInteractive = !!onSelectAsset;
  const content = /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* ItemLayout */.E7,
    {
      img: icon,
      titleLeft: (0,utils_dist/* spamFilter */.sc)(titleLeft),
      captionLeft: (0,utils_dist/* spamFilter */.sc)(captionLeft),
      titleRight,
      captionRight
    }
  );
  if (isInteractive)
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      exports_web/* Pressable */.oz,
      {
        "data-testid": dataTestId,
        onClick: () => onSelectAsset(availableBalance.symbol, contractId),
        my: "space.02",
        children: content
      }
    );
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { my: "space.02", "data-testid": (0,purify.sanitize)(dataTestId), children: content });
}

;// CONCATENATED MODULE: ./src/app/features/asset-list/bitcoin/btc-crypto-asset-item/btc-crypto-asset-item.tsx







function BtcCryptoAssetItem({
  balance,
  isLoading,
  onSelectAsset,
  isLoadingAdditionalData
}) {
  const isPrivate = (0,settings_settings_selectors/* useIsPrivateMode */.cT)();
  const marketData = (0,query_dist/* useCryptoCurrencyMarketDataMeanAverage */.UoM)("BTC");
  const fiatAvailableBalance = (0,utils_dist/* i18nFormatCurrency */.Lx)(
    (0,utils_dist/* baseCurrencyAmountInQuote */.uE)(balance.availableBalance, marketData)
  );
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    CryptoAssetItemLayout,
    {
      availableBalance: balance.availableBalance,
      captionLeft: "BTC",
      fiatBalance: fiatAvailableBalance,
      icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* BtcAvatarIcon */.Ev, {}),
      isLoading,
      isLoadingAdditionalData,
      isPrivate,
      onSelectAsset,
      titleLeft: "Bitcoin",
      dataTestId: "BTC"
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/asset-list/stacks/stx-crypo-asset-item/stx-crypto-asset-item.tsx







function StxCryptoAssetItem({
  balance,
  isLoading,
  isPrivate,
  onSelectAsset
}) {
  const marketData = (0,query_dist/* useCryptoCurrencyMarketDataMeanAverage */.UoM)("STX");
  const { availableBalance, lockedBalance } = balance;
  const showLockedBalance = lockedBalance.amount.isGreaterThan(0) && !isPrivate;
  const fiatLockedBalance = (0,utils_dist/* i18nFormatCurrency */.Lx)(
    (0,utils_dist/* baseCurrencyAmountInQuote */.uE)(lockedBalance, marketData)
  );
  const fiatAvailableBalance = (0,utils_dist/* i18nFormatCurrency */.Lx)(
    (0,utils_dist/* baseCurrencyAmountInQuote */.uE)(availableBalance, marketData)
  );
  const titleRightBulletInfo = /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.span, { children: [
    (0,utils_dist/* formatMoneyWithoutSymbol */.gu)(lockedBalance),
    " locked"
  ] });
  const captionRightBulletInfo = /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Caption */.HL, { children: [
    fiatLockedBalance,
    " locked"
  ] });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    CryptoAssetItemLayout,
    {
      availableBalance: balance.availableBalance,
      captionLeft: "STX",
      captionRightBulletInfo: showLockedBalance && captionRightBulletInfo,
      fiatBalance: fiatAvailableBalance,
      icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* StxAvatarIcon */.sC, {}),
      isLoading,
      isPrivate,
      onSelectAsset,
      titleLeft: "Stacks",
      titleRightBulletInfo: showLockedBalance && titleRightBulletInfo,
      dataTestId: "STX"
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/fund/choose-asset-to-fund/choose-asset-to-fund.tsx















function ChooseCryptoAssetToFund() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const isPrivate = (0,settings_settings_selectors/* useIsPrivateMode */.cT)();
  const navigateToFund = (0,react.useCallback)(
    (symbol) => navigate(route_urls/* RouteUrls */.W.Fund.replace(":currency", symbol)),
    [navigate]
  );
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(PageHeader, { isSettingsVisibleOnSm: false, onBackLocation: route_urls/* RouteUrls */.W.Home }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(layout/* Content */.UC, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Page */.YW, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        layout/* Card */.Zp,
        {
          contentStyle: {
            p: "space.00"
          },
          header: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.h1, { textStyle: "heading.03", p: "space.05", children: [
            "choose asset ",
            /* @__PURE__ */ (0,jsx_runtime.jsx)("br", {}),
            " to fund"
          ] }),
          children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { pb: "space.04", px: "space.05", children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(bitcoin_account_loader/* BitcoinNativeSegwitAccountLoader */.V, { current: true, children: (signer) => /* @__PURE__ */ (0,jsx_runtime.jsx)(btc_balance_loader/* BtcAssetItemBalanceLoader */.Y, { address: signer.address, children: (balance, isLoading) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
              BtcCryptoAssetItem,
              {
                balance,
                isLoading,
                onSelectAsset: () => navigateToFund("BTC")
              }
            ) }) }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(CurrentStacksAccountLoader, { children: (account) => /* @__PURE__ */ (0,jsx_runtime.jsx)(StxAssetItemBalanceLoader, { address: account.address, children: (balance, isLoading) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
              StxCryptoAssetItem,
              {
                balance,
                isLoading,
                isPrivate,
                onSelectAsset: () => navigateToFund("STX")
              }
            ) }) })
          ] })
        }
      ) }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
    ] })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/fund/components/fund.layout.tsx



function FundLayout({ blockchain, symbol, children }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Stack */.BJ,
    {
      alignItems: { base: "left", md: "center" },
      p: { base: "space.05", md: "unset" },
      gap: { base: "space.04", md: "space.05" },
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(
          jsx/* styled */.I4.h1,
          {
            textAlign: { base: "left", md: "center" },
            color: "ink.text-primary",
            textStyle: { base: "heading.03", md: "display.02" },
            children: [
              "Let's get ",
              symbol,
              " ",
              /* @__PURE__ */ (0,jsx_runtime.jsx)("br", {}),
              "into your wallet"
            ]
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(
          jsx/* styled */.I4.span,
          {
            textStyle: "body.01",
            color: "ink.text-primary",
            maxWidth: "544px",
            textAlign: { base: "left", md: "center" },
            children: [
              "Choose an exchange to fund your account with",
              " ",
              /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textTransform: "capitalize", children: blockchain }),
              " (",
              symbol,
              ") or deposit from elsewhere. Exchanges with \u201CFast checkout\u201D make it easier to purchase ",
              symbol,
              " for direct deposit into your wallet with a credit card."
            ]
          }
        ),
        children
      ]
    }
  );
}

;// CONCATENATED MODULE: ./tests/selectors/fund.selectors.ts

var FundPageSelectors = /* @__PURE__ */ ((FundPageSelectors2) => {
  FundPageSelectors2["BtnReceiveStx"] = "btn-receive-stx";
  FundPageSelectors2["FiatProviderItem"] = "fiat-provider-item";
  FundPageSelectors2["FiatProviderName"] = "fiat-provider-name";
  return FundPageSelectors2;
})(FundPageSelectors || {});

;// CONCATENATED MODULE: ./src/app/pages/fund/components/fund-account-tile.tsx




function FundAccountTile(props) {
  const { attributes, description, icon, onClickTile, ReceiveIcon, testId, title } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* styled */.I4.button,
    {
      _focus: {
        border: "focus",
        boxShadow: "0px 8px 16px rgba(0, 0, 0, 0.08)",
        margin: "-2px"
      },
      _hover: {
        boxShadow: "0px 8px 16px rgba(0, 0, 0, 0.08)",
        cursor: "pointer"
      },
      border: "default",
      borderRadius: "sm",
      boxShadow: "0px 1px 2px rgba(0, 0, 0, 0.04)",
      "data-testid": testId,
      display: "flex",
      height: "11.3rem",
      textAlign: "left",
      transition: "transition",
      onClick: onClickTile,
      type: "button",
      width: ["100%", "17.5rem"],
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { alignItems: "flex-start", gap: "space.03", p: "space.05", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", gap: ReceiveIcon ? "space.02" : "space.04", children: [
          ReceiveIcon ? /* @__PURE__ */ (0,jsx_runtime.jsx)(ReceiveIcon, {}) : null,
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            jsx/* Box */.az,
            {
              alignItems: "center",
              bg: "white",
              border: "default",
              borderRadius: "xs",
              display: "inline-flex",
              height: "40px",
              justifyContent: "center",
              width: "40px",
              children: /* @__PURE__ */ (0,jsx_runtime.jsx)("img", { src: icon, width: "24px" })
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            jsx/* styled */.I4.span,
            {
              textStyle: "label.02",
              "data-testid": FundPageSelectors.FiatProviderName,
              color: "ink.text-primary",
              children: title
            }
          )
        ] }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          jsx/* styled */.I4.span,
          {
            "data-testid": FundPageSelectors.FiatProviderName,
            color: "ink.text-subdued",
            minHeight: "50px",
            textStyle: "body.02",
            children: description
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* HStack */.zt, { gap: "space.02", children: attributes })
      ] })
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/fund/components/fiat-provider-item.tsx






const availableInsideUnitedStatesDescription = "Available only inside of the US";
const availableOutsideUnitedStatesDescription = "Available only outside of the US";
const availableGloballyDescription = "Available both inside and outside of the US";
function getProviderAvailability(availableRegions) {
  switch (availableRegions) {
    case remote_config_query/* AvailableRegions */.ZU.InsideUsa:
      return availableInsideUnitedStatesDescription;
    case remote_config_query/* AvailableRegions */.ZU.OutsideUsa:
      return availableOutsideUnitedStatesDescription;
    case remote_config_query/* AvailableRegions */.ZU.Global:
      return availableGloballyDescription;
    default:
      return "";
  }
}
function FiatProviderItem(props) {
  const { availableRegions, hasFastCheckoutProcess, hasTradingFees, icon, onGoToProvider, title } = props;
  const Attributes = /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    hasFastCheckoutProcess && /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Tag */.vw, { icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ZapIcon */.hG, { variant: "small" }), label: "Fast checkout", variant: "success" }),
    !hasTradingFees && /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Tag */.vw, { icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* StarIcon */.Gg, { variant: "small" }), label: "0 % Fees", variant: "warning" })
  ] });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    FundAccountTile,
    {
      attributes: Attributes,
      description: getProviderAvailability(availableRegions),
      icon,
      onClickTile: onGoToProvider,
      testId: FundPageSelectors.FiatProviderItem,
      title
    }
  );
}

;// CONCATENATED MODULE: ./public/assets/images/fund/fiat-providers/binance-icon.png
/* harmony default export */ const binance_icon = (__webpack_require__.p + "759c3fb3e68d96744be4b4fc9ca6f9dd.png");
;// CONCATENATED MODULE: ./public/assets/images/fund/fiat-providers/blockchain.com-icon.png
/* harmony default export */ const blockchain_com_icon = (__webpack_require__.p + "5c56f342824de1f6d03d914a0f4f9f1a.png");
;// CONCATENATED MODULE: ./public/assets/images/fund/fiat-providers/bybit-icon.png
/* harmony default export */ const bybit_icon = (__webpack_require__.p + "3cf5284ff90395355bb9c351ffb8423c.png");
;// CONCATENATED MODULE: ./public/assets/images/fund/fiat-providers/coinbase-icon.png
/* harmony default export */ const coinbase_icon = (__webpack_require__.p + "c80aa19af2d9f39ebdb9fd9a959cc25d.png");
;// CONCATENATED MODULE: ./public/assets/images/fund/fiat-providers/crypto.com-icon.png
/* harmony default export */ const crypto_com_icon = (__webpack_require__.p + "8c47118163650d74f3cb445efcfc59a1.png");
;// CONCATENATED MODULE: ./public/assets/images/fund/fiat-providers/gate.io-icon.png
/* harmony default export */ const gate_io_icon = (__webpack_require__.p + "11cbea4f1c9fb49a059a805a31f35fa7.png");
;// CONCATENATED MODULE: ./public/assets/images/fund/fiat-providers/kucoin-icon.png
/* harmony default export */ const kucoin_icon = (__webpack_require__.p + "95ddd3b7395017e59c3dfcb206c29eb8.png");
;// CONCATENATED MODULE: ./public/assets/images/fund/fiat-providers/moonpay-icon.png
/* harmony default export */ const moonpay_icon = (__webpack_require__.p + "49e473264f371c5c976d988868d7216d.png");
;// CONCATENATED MODULE: ./public/assets/images/fund/fiat-providers/okx-icon.png
/* harmony default export */ const okx_icon = (__webpack_require__.p + "57c8b38e7e1f0459aba5b9932ae3dc98.png");
;// CONCATENATED MODULE: ./public/assets/images/fund/fiat-providers/transak-icon.png
/* harmony default export */ const transak_icon = (__webpack_require__.p + "c116190842ee63c15d3869bc5b7990a9.png");
// EXTERNAL MODULE: ./node_modules/.pnpm/@coinbase+cbpay-js@2.1.0_regenerator-runtime@0.13.11/node_modules/@coinbase/cbpay-js/dist/index.mjs
var cbpay_js_dist = __webpack_require__(29063);
;// CONCATENATED MODULE: ./src/app/pages/fund/components/fiat-providers.utils.ts













var ActiveFiatProviders = /* @__PURE__ */ ((ActiveFiatProviders2) => {
  ActiveFiatProviders2["Binance"] = "binance";
  ActiveFiatProviders2["BlockchainCom"] = "blockchainCom";
  ActiveFiatProviders2["ByBit"] = "byBit";
  ActiveFiatProviders2["Coinbase"] = "coinbase";
  ActiveFiatProviders2["CryptoCom"] = "cryptoCom";
  ActiveFiatProviders2["GateIo"] = "gateIo";
  ActiveFiatProviders2["KuCoin"] = "kuCoin";
  ActiveFiatProviders2["MoonPay"] = "moonPay";
  ActiveFiatProviders2["Okx"] = "okx";
  ActiveFiatProviders2["Transak"] = "transak";
  return ActiveFiatProviders2;
})(ActiveFiatProviders || {});
const activeFiatProviderIcons = {
  ["binance" /* Binance */]: binance_icon,
  ["blockchainCom" /* BlockchainCom */]: blockchain_com_icon,
  ["byBit" /* ByBit */]: bybit_icon,
  ["coinbase" /* Coinbase */]: coinbase_icon,
  ["cryptoCom" /* CryptoCom */]: crypto_com_icon,
  ["gateIo" /* GateIo */]: gate_io_icon,
  ["kuCoin" /* KuCoin */]: kucoin_icon,
  ["moonPay" /* MoonPay */]: moonpay_icon,
  ["okx" /* Okx */]: okx_icon,
  ["transak" /* Transak */]: transak_icon
};
function makeCoinbaseUrl(address, symbol) {
  const code = symbol.toUpperCase();
  const onRampURL = (0,cbpay_js_dist/* generateOnRampURL */.aw)({
    appId: environment/* COINBASE_APP_ID */.BN,
    destinationWallets: [
      {
        address,
        assets: [code]
      }
    ]
  });
  return onRampURL;
}
function makeMoonPayUrl(address, symbol) {
  const code = symbol.toLowerCase();
  return `https://buy.moonpay.com?apiKey=${environment/* MOONPAY_API_KEY */.r7}&currencyCode=${code}&walletAddress=${address}`;
}
function makeTransakUrl(address, symbol) {
  const screenTitle = "Buy Stacks";
  const code = symbol.toUpperCase();
  return `https://global.transak.com?apiKey=${environment/* TRANSAK_API_KEY */._h}&cryptoCurrencyCode=${code}&exchangeScreenTitle=${encodeURI(
    screenTitle
  )}&defaultPaymentMethod=credit_debit_card&walletAddress=${address}`;
}
function makeFiatProviderFaqUrl(address, provider) {
  return `https://hiro.so/wallet-faq/how-do-i-buy-stx-from-an-exchange?provider=${provider}&address=${address}`;
}
function getProviderUrl({
  address,
  hasFastCheckoutProcess,
  key,
  name,
  symbol
}) {
  if (!hasFastCheckoutProcess) {
    return makeFiatProviderFaqUrl(address, name);
  }
  switch (key) {
    case "coinbase" /* Coinbase */:
      return makeCoinbaseUrl(address, symbol);
    case "moonPay" /* MoonPay */:
      return makeMoonPayUrl(address, symbol);
    case "transak" /* Transak */:
      return makeTransakUrl(address, symbol);
    default:
      return makeFiatProviderFaqUrl(address, name);
  }
}

;// CONCATENATED MODULE: ./public/assets/images/fund/qr-code-icon.png
/* harmony default export */ const qr_code_icon = (__webpack_require__.p + "51783c075440374dd3713f4496798f62.png");
;// CONCATENATED MODULE: ./public/assets/images/fund/receive-funds-ellipses.png
/* harmony default export */ const receive_funds_ellipses = (__webpack_require__.p + "062a79dd26aaa7834cba051dfef65506.png");
;// CONCATENATED MODULE: ./src/app/pages/fund/components/icon-components.tsx





function StacksIconComponent() {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* StxAvatarIcon */.sC, { size: "xxl" }) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)("img", { src: receive_funds_ellipses, width: "24px" }) })
  ] });
}
function BitcoinIconComponent() {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* BtcAvatarIcon */.Ev, { size: "xxl" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)("img", { src: receive_funds_ellipses, width: "24px" }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/fund/components/receive-funds-item.tsx






const cryptoDescriptions = {
  STX: {
    title: "Receive STX from a friend or deposit from a separate wallet",
    IconComponent: StacksIconComponent
  },
  BTC: {
    title: "Receive BTC from a friend or deposit from a separate wallet",
    IconComponent: BitcoinIconComponent
  }
};
function ReceiveFundsItem({ onReceive, symbol }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    FundAccountTile,
    {
      description: cryptoDescriptions[symbol].title,
      icon: qr_code_icon,
      onClickTile: onReceive,
      ReceiveIcon: cryptoDescriptions[symbol].IconComponent,
      testId: FundPageSelectors.BtnReceiveStx
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/fund/fiat-providers-list.tsx











function FiatProvidersList(props) {
  const { address, route, symbol } = props;
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const activeProviders = (0,remote_config_query/* useActiveFiatProviders */.Cc)();
  const hasProviders = (0,remote_config_query/* useHasFiatProviders */._V)();
  const location = (0,react_router_dist/* useLocation */.zy)();
  const goToProviderExternalWebsite = (provider, providerUrl) => {
    void analytics/* analytics */.zS.track("select_buy_option", { provider });
    (0,open_in_new_tab/* openInNewTab */.V)(providerUrl);
  };
  if (!hasProviders) return /* @__PURE__ */ (0,jsx_runtime.jsx)(LoadingSpinner, {});
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Grid */.xA,
    {
      columnGap: "space.04",
      mt: { base: 0, md: "space.03" },
      rowGap: "space.04",
      gridTemplateColumns: { base: "repeat(1, 1fr)", sm: "repeat(2, 1fr)", md: "repeat(3, 1fr)" },
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          ReceiveFundsItem,
          {
            symbol,
            onReceive: () => navigate(route, {
              state: { backgroundLocation: location }
            })
          }
        ),
        Object.entries(activeProviders).map(([providerKey, providerValue]) => {
          const providerUrl = getProviderUrl({
            address,
            hasFastCheckoutProcess: providerValue.hasFastCheckoutProcess,
            key: providerKey,
            name: providerValue.name,
            symbol
          });
          return /* @__PURE__ */ (0,jsx_runtime.jsx)(
            FiatProviderItem,
            {
              availableRegions: providerValue.availableRegions,
              hasFastCheckoutProcess: providerValue.hasFastCheckoutProcess,
              hasTradingFees: providerValue.hasTradingFees,
              icon: activeFiatProviderIcons[providerKey],
              onGoToProvider: () => goToProviderExternalWebsite(providerValue.name, providerUrl),
              title: providerValue.name
            },
            providerKey
          );
        })
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/fund/fund.tsx











function FundPage() {
  const currentStxAccount = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const bitcoinSigner = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSignerNullable */.r9)();
  const { currency = "STX" } = (0,react_router_dist/* useParams */.g)();
  const fundCryptoCurrencyMap = {
    BTC: {
      address: bitcoinSigner?.address,
      blockchain: "bitcoin",
      route: route_urls/* RouteUrls */.W.ReceiveBtc,
      symbol: currency
    },
    STX: {
      address: currentStxAccount?.address,
      blockchain: "stacks",
      route: route_urls/* RouteUrls */.W.ReceiveStx,
      symbol: currency
    }
  };
  const { address, blockchain, route, symbol } = fundCryptoCurrencyMap[currency];
  if (!address) return /* @__PURE__ */ (0,jsx_runtime.jsx)(FullPageLoadingSpinner, {});
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(PageHeader, { onBackLocation: route_urls/* RouteUrls */.W.FundChooseCurrency }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(layout/* Content */.UC, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(FundLayout, { blockchain, symbol, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(FiatProvidersList, { address, route, symbol }) }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
    ] })
  ] });
}

;// CONCATENATED MODULE: ./tests/selectors/home.selectors.ts

var HomePageSelectors = /* @__PURE__ */ ((HomePageSelectors2) => {
  HomePageSelectors2["AssetList"] = "asset-list";
  HomePageSelectors2["HomePageContainer"] = "home-page-container";
  HomePageSelectors2["ReceiveCryptoAssetBtn"] = "receive-crypto-asset-btn";
  HomePageSelectors2["ReceiveBtcNativeSegwitQrCodeBtn"] = "receive-native-segwit-qr-code-btn";
  HomePageSelectors2["ReceiveAssetsTab"] = "receive-assets-tab";
  HomePageSelectors2["ReceiveCollectiblesTab"] = "receive-collectibles-tab";
  HomePageSelectors2["ReceiveBtcTaprootQrCodeBtn"] = "receive-taproot-qr-code-btn";
  HomePageSelectors2["ReceiveStxQrCodeBtn"] = "receive-stx-qr-code-btn";
  HomePageSelectors2["SendCryptoAssetBtn"] = "send-crypto-asset-btn";
  HomePageSelectors2["ActivityTabBtn"] = "tab-activity";
  HomePageSelectors2["BalancesTabBtn"] = "tab-balances";
  HomePageSelectors2["SwapBtn"] = "swap-btn";
  HomePageSelectors2["FundAccountBtn"] = "fund-account-btn";
  HomePageSelectors2["ManageTokensBtn"] = "manage-tokens-btn";
  HomePageSelectors2["ManageTokensAssetsList"] = "manage-tokens-assets-list";
  return HomePageSelectors2;
})(HomePageSelectors || {});

// EXTERNAL MODULE: ./node_modules/.pnpm/lodash.uniqby@4.7.0/node_modules/lodash.uniqby/index.js
var lodash_uniqby = __webpack_require__(44700);
var lodash_uniqby_default = /*#__PURE__*/__webpack_require__.n(lodash_uniqby);
;// CONCATENATED MODULE: ./src/app/features/activity-list/activity-list.utils.ts

function createBitcoinTxTypeWrapper(tx) {
  return {
    blockchain: "bitcoin",
    transaction: tx
  };
}
function createStacksTxTypeWrapper(tx) {
  return {
    blockchain: "stacks",
    transaction: tx
  };
}
function convertBitcoinTxsToListType(txs) {
  if (!txs) return [];
  const confirmedTxs = txs.filter((tx) => tx.status.confirmed);
  return confirmedTxs.map((tx) => createBitcoinTxTypeWrapper(tx));
}
function convertStacksTxsToListType(txs) {
  if (!txs) return [];
  return txs.map((tx) => createStacksTxTypeWrapper(tx));
}

;// CONCATENATED MODULE: ./public/assets/images/no-activity.png
/* harmony default export */ const no_activity = (__webpack_require__.p + "030a6ea93a4e1fcf9fb187d7e441aeaf.png");
;// CONCATENATED MODULE: ./src/app/features/activity-list/components/no-account-activity.tsx





function NoAccountActivity() {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.06", justifyContent: "center", alignItems: "center", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)("img", { src: no_activity, width: "120px" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { maxWidth: "23ch", textAlign: "center", children: "No activity yet" })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/activity-list/components/pending-transaction-list/pending-transaction-list.layout.tsx



function PendingTransactionListLayout({ children }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { color: "ink.text-subdued", textStyle: "body.02", children: "Pending" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { pb: "space.06", mt: "space.04", children })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/activity-list/components/pending-transaction-list/pending-transaction-list.tsx





function PendingTransactionList({ bitcoinTxs, stacksTxs }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(PendingTransactionListLayout, { children: [
    bitcoinTxs.map((tx) => /* @__PURE__ */ (0,jsx_runtime.jsx)(BitcoinTransactionItem, { transaction: tx }, tx.txid)),
    stacksTxs.map((tx) => /* @__PURE__ */ (0,jsx_runtime.jsx)(StacksTransactionItem, { transaction: tx }, tx.tx_id))
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/activity-list/components/submitted-transaction-list/submitted-transaction-icon.tsx







function SubmittedTransactionIcon({ transaction, ...rest }) {
  const senderAddress = getTxSenderAddress(transaction);
  switch (transaction.payload.payloadType) {
    case esm_constants/* PayloadType */.d2.SmartContract:
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* DynamicColorCircle */.BM,
        {
          position: "relative",
          value: `${getTxSenderAddress(transaction)}.${transaction.payload.contractName.content}`,
          ...rest,
          children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
            TransactionTypeIcon,
            {
              transaction: {
                sender_address: senderAddress,
                tx_type: "smart_contract",
                tx_status: "pending"
              }
            }
          )
        }
      );
    case esm_constants/* PayloadType */.d2.ContractCall:
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* DynamicColorCircle */.BM,
        {
          position: "relative",
          value: `${(0,common/* addressToString */.pD)(transaction.payload.contractAddress)}.${transaction.payload.contractName.content}::${transaction.payload.functionName.content}`,
          ...rest,
          children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
            TransactionTypeIcon,
            {
              transaction: {
                sender_address: senderAddress,
                tx_type: "contract_call",
                tx_status: "pending"
              }
            }
          )
        }
      );
    case esm_constants/* PayloadType */.d2.TokenTransfer:
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        TransactionIconWrapper,
        {
          icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* StxAvatarIcon */.sC, {}),
          transaction: {
            sender_address: senderAddress,
            tx_type: "token_transfer",
            tx_status: "pending"
          },
          ...rest
        }
      );
    default:
      return null;
  }
}

;// CONCATENATED MODULE: ./src/app/features/activity-list/components/submitted-transaction-list/submitted-transaction-list.utils.ts




function getSubmittedTransactionDetails({
  payload,
  senderAddress,
  txid
}) {
  switch (payload.payloadType) {
    case esm_constants/* PayloadType */.d2.TokenTransfer:
      return {
        caption: getTxCaption({
          tx_type: "token_transfer",
          tx_id: txid
        }),
        title: "Stacks",
        value: `-${(0,stacks_utils/* stacksValue */.jL)({
          value: Number(payload.amount),
          withTicker: false
        })}`
      };
    case esm_constants/* PayloadType */.d2.ContractCall:
      return {
        caption: getTxCaption({
          tx_type: "contract_call",
          contract_call: {
            contract_id: `.${payload.contractName.content}`
          }
        }),
        title: payload.functionName.content,
        value: null
      };
    case esm_constants/* PayloadType */.d2.SmartContract:
      return {
        caption: getTxCaption({
          tx_type: "smart_contract",
          smart_contract: {
            contract_id: `${senderAddress}.${payload.contractName.content}`
          }
        }),
        title: payload.contractName.content,
        value: null
      };
    default:
      return null;
  }
}

;// CONCATENATED MODULE: ./src/app/features/activity-list/components/submitted-transaction-list/submitted-transaction-item.tsx











function SubmittedTransactionItem({ transaction, txid }) {
  const { handleOpenStacksTxLink } = useStacksExplorerLink();
  if (!transaction) return null;
  const submittedTransactionDetails = getSubmittedTransactionDetails({
    payload: transaction.payload,
    senderAddress: getTxSenderAddress(transaction),
    txid
  });
  const openTxLink = () => {
    void analytics/* analytics */.zS.track("view_transaction");
    handleOpenStacksTxLink({
      searchParams: new URLSearchParams("&submitted=true"),
      txid
    });
  };
  if (!submittedTransactionDetails) return null;
  const { caption, title, value } = submittedTransactionDetails;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Pressable */.oz, { onClick: openTxLink, my: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* ItemLayout */.E7,
    {
      img: /* @__PURE__ */ (0,jsx_runtime.jsx)(SubmittedTransactionIcon, { transaction }),
      titleLeft: /* @__PURE__ */ (0,jsx_runtime.jsx)(TransactionTitle, { title }),
      captionLeft: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* Caption */.HL,
          {
            overflow: "hidden",
            textOverflow: "ellipsis",
            maxWidth: { base: "160px", md: "unset" },
            children: caption
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          basic_tooltip/* BasicTooltip */.G,
          {
            asChild: true,
            side: "bottom",
            label: "Transaction broadcasted, but not yet in the mempool",
            children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { color: "yellow.action-primary-default", children: "Submitted" })
          }
        )
      ] }),
      titleRight: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.02", children: value })
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/features/activity-list/components/submitted-transaction-list/submitted-transaction-list.layout.tsx






function SubmittedTransactionListItem({ rawTx, txid }) {
  const submittedTx = (0,react.useMemo)(() => (0,dist_esm_transaction/* deserializeTransaction */.q)(rawTx), [rawTx]);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(SubmittedTransactionItem, { transaction: submittedTx, txid });
}
function SubmittedTransactionListLayout({ children }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "body.02", color: "ink.text-subdued", children: "Submitted" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { pb: "space.06", gap: "space.05", children })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/activity-list/components/submitted-transaction-list/submitted-transaction-list.tsx



function SubmittedTransactionList({ txs }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(SubmittedTransactionListLayout, { children: txs.map((tx) => {
    if (!tx) return null;
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(SubmittedTransactionListItem, { rawTx: tx.rawTx, txid: tx.txid }, tx.txid);
  }) });
}

;// CONCATENATED MODULE: ./src/app/features/activity-list/components/tab-wrapper.tsx



function ActivityListTabWrapper({
  children,
  padContent = false
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { minHeight: "dialogContentHeight", py: padContent ? "space.11" : void 0, children });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/react-intersection-observer@9.5.2_react@18.3.1/node_modules/react-intersection-observer/index.mjs
var react_intersection_observer = __webpack_require__(51238);
;// CONCATENATED MODULE: ./src/app/features/activity-list/components/transaction-list/hooks/use-transaction-list-render.ts



function useTransactionListRender({
  currentBitcoinAddress
}) {
  const [visibleTxsNum, setVisibleTxsNum] = (0,react.useState)(10);
  const { ref: intersectionSentinel, inView } = (0,react_intersection_observer/* useInView */.Wx)({
    rootMargin: "0% 0% 20% 0%"
  });
  (0,react.useEffect)(() => {
    if (inView) {
      setVisibleTxsNum(visibleTxsNum + 10);
    }
  }, [inView]);
  (0,react.useEffect)(() => {
    setVisibleTxsNum(10);
  }, [currentBitcoinAddress]);
  return {
    visibleTxsNum,
    intersectionSentinel
  };
}

;// CONCATENATED MODULE: ./src/app/features/activity-list/components/transaction-list/bitcoin-transaction/bitcoin-transaction.tsx


const BitcoinTransaction = BitcoinTransactionItem;

;// CONCATENATED MODULE: ./src/app/components/stacks-asset-avatar.tsx




function StacksAssetAvatar({
  children,
  gradientString,
  imageCanonicalUri,
  isStx,
  size = "36",
  ...props
}) {
  if (isStx) return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* StxAvatarIcon */.sC, {});
  const { color } = props;
  if (imageCanonicalUri)
    return /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Avatar */.eu.Root, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Avatar */.eu.Image, { alt: "FT", src: encodeURI(imageCanonicalUri) }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Avatar */.eu.Fallback, { delayMs: exports_web/* defaultFallbackDelay */.vg, children: "FT" })
    ] });
  if (!gradientString) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* DynamicColorCircle */.BM, { color, size, value: gradientString, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { position: "absolute", children }) });
}

;// CONCATENATED MODULE: ./src/app/features/activity-list/components/transaction-list/stacks-transaction/tx-transfer-icon-wrapper.tsx





function TxTransferIconWrapper({ icon }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Circle */.jl, { position: "relative", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* StxAvatarIcon */.sC, {}),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(TransactionTypeIconWrapper, { icon })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/activity-list/components/transaction-list/stacks-transaction/ft-transfer-item.tsx












function FtTransferItem({ ftTransfer, parentTx }) {
  const { data: assetMetadata } = (0,query_dist/* useGetFungibleTokenMetadataQuery */.OHp)(
    (0,common_utils/* getPrincipalFromContractId */.uq)(ftTransfer.asset_identifier)
  );
  const currentAccount = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const isOriginator = ftTransfer.sender === currentAccount?.address;
  if (!(assetMetadata && (0,query_dist/* isFtAsset */.z3E)(assetMetadata))) {
    logger/* logger */.v.error("Token metadata not found");
    return null;
  }
  const displayAmount = calculateTokenTransferAmount(
    assetMetadata?.decimals ?? 0,
    ftTransfer.amount
  );
  if (typeof displayAmount === "undefined") return null;
  const caption = getTxCaption(parentTx.tx) ?? "";
  const ftImageCanonicalUri = assetMetadata.image_canonical_uri && assetMetadata.name && (0,stacks_utils/* getSafeImageCanonicalUri */.VD)(assetMetadata.image_canonical_uri, assetMetadata.name);
  const icon = isOriginator ? /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ArrowUpIcon */.Kp, { color: "ink.background-primary", variant: "small" }) : /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ArrowDownIcon */.ZL, { color: "ink.background-primary", variant: "small" });
  const title = `${assetMetadata.name || "Token"} Transfer`;
  const value = `${isOriginator ? "-" : ""}${displayAmount.toFormat()}`;
  const transferIcon = ftImageCanonicalUri ? /* @__PURE__ */ (0,jsx_runtime.jsx)(
    StacksAssetAvatar,
    {
      color: "ink.background-primary",
      gradientString: "",
      imageCanonicalUri: ftImageCanonicalUri,
      children: title
    }
  ) : /* @__PURE__ */ (0,jsx_runtime.jsx)(TxTransferIconWrapper, { icon });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    StacksTransactionItem,
    {
      caption,
      icon: transferIcon,
      link: parentTx.tx.tx_id,
      title,
      value
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/activity-list/components/transaction-list/stacks-transaction/stx-transfer-item.tsx








function StxTransferItem({ stxTransfer, parentTx }) {
  const currentAccount = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const isOriginator = stxTransfer.sender === currentAccount?.address;
  const caption = getTxCaption(parentTx.tx) ?? "";
  const icon = isOriginator ? /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ArrowUpIcon */.Kp, { color: "ink.background-primary", variant: "small" }) : /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ArrowDownIcon */.ZL, { color: "ink.background-primary", variant: "small" });
  const title = "Stacks Token Transfer";
  const value = `${isOriginator ? "-" : ""}${(0,stacks_utils/* stacksValue */.jL)({
    value: stxTransfer.amount,
    withTicker: false
  })}`;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    StacksTransactionItem,
    {
      caption,
      icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(TxTransferIconWrapper, { icon }),
      link: parentTx.tx.tx_id,
      title,
      value
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/activity-list/components/transaction-list/stacks-transaction/transaction-transfers.tsx




function TransactionTransfers({ transaction }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    transaction.stx_transfers.map((stxTransfer, index) => /* @__PURE__ */ (0,jsx_runtime.jsx)(StxTransferItem, { stxTransfer, parentTx: transaction }, index)),
    transaction.ft_transfers ? transaction.ft_transfers.map((ftTransfer, index) => /* @__PURE__ */ (0,jsx_runtime.jsx)(FtTransferItem, { ftTransfer, parentTx: transaction }, index)) : null
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/activity-list/components/transaction-list/stacks-transaction/stacks-transaction.tsx




function StacksTransaction({ transaction, ...rest }) {
  if (transaction.tx.tx_type !== "contract_call")
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(StacksTransactionItem, { transaction: transaction.tx, ...rest });
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(TransactionTransfers, { transaction }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(StacksTransactionItem, { transaction: transaction.tx, ...rest })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/activity-list/components/transaction-list/transaction-list-item.tsx




function TransactionListItem({ tx }) {
  switch (tx.blockchain) {
    case "bitcoin":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(BitcoinTransaction, { transaction: tx.transaction });
    case "stacks":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(StacksTransaction, { transaction: tx.transaction });
    default:
      return null;
  }
}

;// CONCATENATED MODULE: ./src/app/features/activity-list/components/transaction-list/transaction-list.layout.tsx



function TransactionListLayout({ children }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { pb: "space.06", children });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/dayjs@1.11.8/node_modules/dayjs/dayjs.min.js
var dayjs_min = __webpack_require__(13865);
var dayjs_min_default = /*#__PURE__*/__webpack_require__.n(dayjs_min);
// EXTERNAL MODULE: ./node_modules/.pnpm/dayjs@1.11.8/node_modules/dayjs/plugin/advancedFormat.js
var advancedFormat = __webpack_require__(91559);
var advancedFormat_default = /*#__PURE__*/__webpack_require__.n(advancedFormat);
// EXTERNAL MODULE: ./node_modules/.pnpm/dayjs@1.11.8/node_modules/dayjs/plugin/isToday.js
var isToday = __webpack_require__(4949);
var isToday_default = /*#__PURE__*/__webpack_require__.n(isToday);
// EXTERNAL MODULE: ./node_modules/.pnpm/dayjs@1.11.8/node_modules/dayjs/plugin/isYesterday.js
var isYesterday = __webpack_require__(51856);
var isYesterday_default = /*#__PURE__*/__webpack_require__.n(isYesterday);
// EXTERNAL MODULE: ./node_modules/.pnpm/dayjs@1.11.8/node_modules/dayjs/plugin/timezone.js
var timezone = __webpack_require__(75169);
var timezone_default = /*#__PURE__*/__webpack_require__.n(timezone);
// EXTERNAL MODULE: ./node_modules/.pnpm/dayjs@1.11.8/node_modules/dayjs/plugin/utc.js
var utc = __webpack_require__(93018);
var utc_default = /*#__PURE__*/__webpack_require__.n(utc);
;// CONCATENATED MODULE: ./src/app/common/date-utils.ts







dayjs_min_default().extend((isToday_default()));
dayjs_min_default().extend((isYesterday_default()));
dayjs_min_default().extend((advancedFormat_default()));
dayjs_min_default().extend((utc_default()));
dayjs_min_default().extend((timezone_default()));
function todaysIsoDate() {
  return (/* @__PURE__ */ new Date()).toISOString().split("T")[0];
}
function isoDateToLocalDate(isoDate) {
  return dayjs_min_default().tz(isoDate).format("YYYY-MM-DD");
}
function displayDate(txDate) {
  const date = dayjs_min_default()(txDate);
  if (date.isToday()) return "Today";
  if (date.isYesterday()) return "Yesterday";
  if (dayjs_min_default()().isSame(date, "year")) {
    return date.format("MMM Do");
  }
  return date.format("MMM Do, YYYY");
}
function isoDateToLocalDateSafe(isoDate) {
  try {
    return isoDateToLocalDate(isoDate);
  } catch (e) {
    return;
  }
}

;// CONCATENATED MODULE: ./src/app/features/activity-list/components/transaction-list/transaction-list.utils.ts




function getTransactionId(listTx) {
  switch (listTx.blockchain) {
    case "bitcoin":
      return listTx.transaction.txid;
    case "stacks":
      return listTx.transaction.tx.tx_id;
    default:
      return void 0;
  }
}
function getTransactionTime(listTx) {
  switch (listTx.blockchain) {
    case "bitcoin":
      if (!listTx.transaction.status.block_time) return;
      return dayjs_min_default().unix(listTx.transaction.status.block_time).format();
    case "stacks":
      return listTx.transaction.tx.burn_block_time_iso || listTx.transaction.tx.parent_burn_block_time_iso;
    default:
      return void 0;
  }
}
function getTransactionTxIndex(listTx) {
  switch (listTx.blockchain) {
    case "stacks":
      return listTx.transaction.tx.tx_index;
    default:
      return void 0;
  }
}
function getTransactionBlockHeight(listTx) {
  switch (listTx.blockchain) {
    case "bitcoin":
      if (!listTx.transaction.status.block_height) return;
      return listTx.transaction.status.block_height;
    case "stacks":
      return listTx.transaction.tx.block_height;
    default:
      return void 0;
  }
}
function groupTxsByDateMap(txs) {
  return txs.sort((a, b) => {
    const aTxIndex = getTransactionTxIndex(a);
    const bTxIndex = getTransactionTxIndex(b);
    if (!aTxIndex || !bTxIndex) return 0;
    return aTxIndex > bTxIndex ? -1 : aTxIndex < bTxIndex ? 1 : 0;
  }).sort((a, b) => {
    const aBlockHeight = getTransactionBlockHeight(a);
    const bBlockHeight = getTransactionBlockHeight(b);
    if (!aBlockHeight || !bBlockHeight) return 0;
    return aBlockHeight > bBlockHeight ? -1 : aBlockHeight < bBlockHeight ? 1 : 0;
  }).sort((a, b) => {
    const aTime = getTransactionTime(a);
    const bTime = getTransactionTime(b);
    if (!aTime || !bTime) return 0;
    const aMsTime = new Date(aTime).getTime();
    const bMsTime = new Date(bTime).getTime();
    return aMsTime > bMsTime ? -1 : aMsTime < bMsTime ? 1 : 0;
  }).reduce((txsByDate, tx) => {
    const time = getTransactionTime(tx);
    const date = time ? isoDateToLocalDateSafe(time) : void 0;
    if ((0,utils_dist/* isUndefined */.b0)(date)) {
      const today = todaysIsoDate();
      txsByDate.set(today, [...txsByDate.get(today) || [], tx]);
    } else {
      if (!txsByDate.has(date)) {
        txsByDate.set(date, []);
      }
      txsByDate.set(date, [...txsByDate.get(date) || [], tx]);
    }
    return txsByDate;
  }, /* @__PURE__ */ new Map());
}
function formatTxDateMapAsList(txMap) {
  return [...txMap.keys()].map((date) => ({
    date,
    displayDate: displayDate(date),
    txs: txMap.get(date) ?? []
  }));
}
function countTxIds(txs) {
  return txs.reduce((acc, stacksTx) => {
    return acc.set(
      stacksTx.transaction.tx.tx_id,
      (acc.get(stacksTx.transaction.tx.tx_id) || 0) + 1
    );
  }, /* @__PURE__ */ new Map());
}
function filterDuplicateStacksTxs(txs) {
  const countOfTxIds = countTxIds(txs);
  return txs.filter((stacksTx) => {
    const isDropped = stacksTx.transaction.tx.tx_status.includes("dropped");
    if (countOfTxIds.get(stacksTx.transaction.tx.tx_id) === 1 && !isDropped) return true;
    return stacksTx.transaction.tx.tx_status === "success" || stacksTx.transaction.tx.tx_status.includes("abort");
  });
}
function sortGroupedTransactions(txs) {
  return txs.sort((a, b) => a.date > b.date ? -1 : a.date < b.date ? 1 : 0);
}
function createTxDateFormatList(bitcoinTxs, stacksTxs) {
  const formattedTxs = formatTxDateMapAsList(
    groupTxsByDateMap([...bitcoinTxs, ...filterDuplicateStacksTxs(stacksTxs)])
  );
  return sortGroupedTransactions(formattedTxs);
}

;// CONCATENATED MODULE: ./src/app/features/activity-list/components/transaction-list/transactions-by-date.layout.tsx



function TransactionsByDateLayout({
  children,
  date,
  displayDate
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Box */.az, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "body.02", color: "ink.text-subdued", children: displayDate }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { mt: "space.04", children })
  ] }, date);
}

;// CONCATENATED MODULE: ./src/app/features/activity-list/components/transaction-list/transaction-list.tsx









function TransactionList({
  bitcoinTxs,
  stacksTxs,
  currentBitcoinAddress
}) {
  const { intersectionSentinel, visibleTxsNum } = useTransactionListRender({
    currentBitcoinAddress
  });
  const txsGroupedByDate = (0,react.useMemo)(
    () => bitcoinTxs.length || stacksTxs.length ? createTxDateFormatList(bitcoinTxs, stacksTxs) : [],
    [bitcoinTxs, stacksTxs]
  );
  const groupedByDateTxsLength = (0,react.useMemo)(() => {
    return txsGroupedByDate.reduce((acc, item, index) => {
      acc[index] = item.txs.length + (acc[index - 1] || 0);
      return acc;
    }, {});
  }, [txsGroupedByDate]);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(TransactionListLayout, { children: [
    txsGroupedByDate.map(({ date, displayDate, txs }, dateIndex) => {
      const prevVal = groupedByDateTxsLength[dateIndex - 1] || 0;
      if (prevVal > visibleTxsNum) {
        return null;
      }
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(TransactionsByDateLayout, { date, displayDate, children: txs.map((tx, txIndex) => {
        if (prevVal + txIndex > visibleTxsNum) return null;
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(TransactionListItem, { tx }, getTransactionId(tx));
      }) }, date);
    }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { ref: intersectionSentinel })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/activity-list/activity-list.tsx



















function useNsBitcoinAddress() {
  try {
    return (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSigner */.sz)().address;
  } catch (e) {
    return "";
  }
}
function useTrBitcoinAddress() {
  try {
    return (0,bitcoin_hooks/* useZeroIndexTaprootAddress */.vl)();
  } catch (e) {
    return "";
  }
}
function ActivityList() {
  const nsBitcoinAddress = useNsBitcoinAddress();
  const trBitcoinAddress = useTrBitcoinAddress();
  const stxAddress = (0,stacks_account_hooks/* useCurrentStacksAccountAddress */.$3)();
  const updateSubmittedTxs = useUpdateSubmittedTransactions();
  const [
    { isLoading: isLoadingNsBitcoinTransactions, data: nsBitcoinTransactions = [] },
    { isLoading: isLoadingTrBitcoinTransactions, data: trBitcoinTransactions = [] }
  ] = (0,query_dist/* useGetBitcoinTransactionsByAddressListQuery */.W79)([nsBitcoinAddress, trBitcoinAddress]);
  const [{ data: nsPendingTxs = [] }, { data: trPendingTxs = [] }] = (0,query_dist/* useBitcoinPendingTransactions */.Oet)([
    nsBitcoinAddress,
    trBitcoinAddress
  ]);
  const bitcoinPendingTxs = (0,react.useMemo)(
    () => lodash_uniqby_default()([...nsPendingTxs, ...trPendingTxs], "txid"),
    [nsPendingTxs, trPendingTxs]
  );
  const { isLoading: isLoadingStacksTransactions, data: stacksTransactionsWithTransfers } = (0,query_dist/* useGetAccountTransactionsWithTransfersQuery */.k6h)(stxAddress);
  const {
    query: { isLoading: isLoadingStacksPendingTransactions },
    transactions: stacksPendingTransactions
  } = (0,query_dist/* useStacksPendingTransactions */.$dl)(stxAddress);
  const submittedTransactions = useSubmittedTransactions();
  const isBitcoinEnabled = (0,remote_config_query/* useConfigBitcoinEnabled */.jX)();
  (0,react.useEffect)(() => {
    updateSubmittedTxs(stacksPendingTransactions);
  }, [stacksPendingTransactions, updateSubmittedTxs]);
  const isLoading = isLoadingNsBitcoinTransactions || isLoadingTrBitcoinTransactions || isLoadingStacksTransactions || isLoadingStacksPendingTransactions;
  const transactionListBitcoinTxs = (0,react.useMemo)(() => {
    return convertBitcoinTxsToListType(
      lodash_uniqby_default()([...nsBitcoinTransactions, ...trBitcoinTransactions], "txid")
    );
  }, [nsBitcoinTransactions, trBitcoinTransactions]);
  const pendingTransactionIds = stacksPendingTransactions.map((tx) => tx.tx_id);
  const transactionListStacksTxs = (0,react.useMemo)(
    () => convertStacksTxsToListType(stacksTransactionsWithTransfers?.results).filter(
      ({ transaction }) => !pendingTransactionIds.includes(transaction.tx.tx_id)
    ),
    [stacksTransactionsWithTransfers, pendingTransactionIds]
  );
  const hasSubmittedTransactions = submittedTransactions.length > 0;
  const hasPendingTransactions = bitcoinPendingTxs.length > 0 || stacksPendingTransactions.length > 0;
  const hasTransactions = transactionListBitcoinTxs.length > 0 || transactionListStacksTxs.length > 0;
  const hasTxs = hasSubmittedTransactions || hasPendingTransactions || hasTransactions;
  if (isLoading)
    return /* @__PURE__ */ (0,jsx_runtime.jsxs)(ActivityListTabWrapper, { padContent: true, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(LoadingSpinner, {}),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
    ] });
  if (!hasTxs)
    return /* @__PURE__ */ (0,jsx_runtime.jsxs)(ActivityListTabWrapper, { padContent: true, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(NoAccountActivity, {}),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
    ] });
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(ActivityListTabWrapper, { children: [
      hasSubmittedTransactions && /* @__PURE__ */ (0,jsx_runtime.jsx)(SubmittedTransactionList, { txs: submittedTransactions }),
      hasPendingTransactions && /* @__PURE__ */ (0,jsx_runtime.jsx)(
        PendingTransactionList,
        {
          bitcoinTxs: isBitcoinEnabled ? bitcoinPendingTxs : [],
          stacksTxs: stacksPendingTransactions
        }
      ),
      hasTransactions && /* @__PURE__ */ (0,jsx_runtime.jsx)(
        TransactionList,
        {
          bitcoinTxs: isBitcoinEnabled ? transactionListBitcoinTxs : [],
          stacksTxs: transactionListStacksTxs,
          currentBitcoinAddress: nsBitcoinAddress
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/feedback-button/feedback-button.tsx






function FeedbackButton() {
  const { theme } = (0,theme_provider/* useThemeSwitcher */.kW)();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Button */.$n,
    {
      _hover: { bg: "ink.background-secondary" },
      bg: "ink.background-primary",
      variant: "ghost",
      size: "sm",
      pos: "fixed",
      bottom: "space.04",
      right: "space.04",
      left: "auto",
      top: "auto",
      boxShadow: theme === "light" ? "0px 12px 24px 0px rgba(18, 16, 15, 0.08), 0px 4px 8px 0px rgba(18, 16, 15, 0.08), 0px 0px 2px 0px rgba(18, 16, 15, 0.08);" : void 0,
      filter: theme === "dark" ? "drop-shadow(0px 12px 24px rgba(247, 245, 243, 0.08)) drop-shadow(0px 4px 8px rgba(247, 245, 243, 0.08)) drop-shadow(0px 0px 2px rgba(247, 245, 243, 0.50));" : void 0,
      zIndex: 9,
      onClick: analytics/* openFeedbackSheet */.dO,
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mr: "space.01", mt: "2px", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* MegaphoneIcon */.sZ, { variant: "small" }) }),
        "Give feedback"
      ] })
    }
  );
}

// EXTERNAL MODULE: ./src/app/store/manage-tokens/manage-tokens.slice.ts
var manage_tokens_slice = __webpack_require__(76800);
;// CONCATENATED MODULE: ./src/app/common/hooks/use-manage-tokens.ts




function useManageTokens() {
  const configEnabledTokens = (0,query_dist/* useConfigTokensEnabledByDefault */.j3l)();
  const accountIndex = (0,accounts_account/* useCurrentAccountIndex */.IR)();
  const userTokensList = (0,manage_tokens_slice/* useUserAllTokens */.n)();
  function isTokenEnabled({ tokenId, preEnabledTokensIds }) {
    const token = userTokensList.find((t) => t.accountIndex === accountIndex && t.id === tokenId);
    const isEnabledByDefault = configEnabledTokens.includes(tokenId) || preEnabledTokensIds?.includes(tokenId);
    return token?.enabled ?? isEnabledByDefault;
  }
  function filterTokens({
    tokens,
    filter = "all",
    getTokenId,
    preEnabledTokensIds
  }) {
    if (filter === "all") return tokens;
    return tokens.filter((t) => {
      const tokenId = getTokenId(t);
      const tokenEnabled = isTokenEnabled({ tokenId, preEnabledTokensIds });
      return filter === "enabled" ? tokenEnabled : !tokenEnabled;
    });
  }
  return { isTokenEnabled, filterTokens };
}

;// CONCATENATED MODULE: ./src/app/query/bitcoin/ordinals/brc20/brc20-tokens.hooks.ts








function useBrc20FeatureFlag() {
  const currentNetwork = useCurrentNetwork();
  const ordinalsbotConfig = useConfigOrdinalsbot();
  if (!ordinalsbotConfig.integrationEnabled) {
    return { enabled: false, reason: "BRC-20 transfers are temporarily disabled" };
  }
  const supportedNetwork = currentNetwork.chain.bitcoin.bitcoinNetwork === "mainnet" || currentNetwork.chain.bitcoin.bitcoinNetwork === "signet";
  if (!supportedNetwork) return { enabled: false, reason: "Unsupported network" };
  return { enabled: true };
}
function createBrc20CryptoAssetInfo(decimals, ticker) {
  return {
    decimals,
    hasMemo: false,
    name: "brc-20",
    symbol: ticker
  };
}
function useBrc20Tokens() {
  const calculateBitcoinFiatValue = (0,query_dist/* useCalculateBitcoinFiatValue */.$u_)();
  const createTaprootSigner = (0,taproot_account_hooks/* useCurrentAccountTaprootSigner */.$w)();
  const nativeSegwitSigner = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSigner */.sz)();
  const result = (0,query_dist/* useGetBrc20TokensQuery */.RbZ)({
    createTaprootSigner,
    nativeSegwitAddress: nativeSegwitSigner.address
  });
  if (!(0,query_dist/* isFetchedWithSuccess */.vbU)(result)) return [];
  const tokens = result.data.pages.flatMap((page) => page.brc20Tokens).filter((token) => token.length > 0).flatMap((token) => token);
  return tokens.map((token) => {
    const fiatPrice = calculateBitcoinFiatValue(
      (0,utils_dist/* createMoney */.j6)(new bignumber/* default */.A(token.balance.min_listed_unit_price ?? 0), "BTC")
    );
    return {
      balance: (0,models_dist/* createCryptoAssetBalance */.MT)(
        (0,utils_dist/* createMoney */.j6)(
          (0,utils_dist/* unitToFractionalUnit */.Nv)(token.info.decimals)(new bignumber/* default */.A(token.balance.overall_balance)),
          token.balance.ticker,
          token.info.decimals
        )
      ),
      info: createBrc20CryptoAssetInfo(token.info.decimals, token.balance.ticker),
      holderAddress: token.holderAddress,
      marketData: (0,models_dist/* createMarketData */.jd)(
        (0,models_dist/* createMarketPair */.he)(token.balance.ticker, "USD"),
        (0,utils_dist/* createMoney */.j6)(fiatPrice.amount, "USD")
      )
    };
  });
}

;// CONCATENATED MODULE: ./src/app/components/loaders/brc20-tokens-loader.tsx



function getTokenId(token) {
  return token.info.symbol;
}
function Brc20TokensLoader({ children, filter = "all" }) {
  const tokens = useBrc20Tokens();
  const { filterTokens } = useManageTokens();
  const preEnabledTokensIds = tokens.filter((t) => t.marketData.price.amount.isGreaterThan(0)).map((t) => t.info.symbol);
  const filteredTokens = filterTokens({
    tokens,
    filter,
    getTokenId,
    preEnabledTokensIds
  });
  return children({ tokens: filteredTokens, preEnabledTokensIds });
}

;// CONCATENATED MODULE: ./src/app/components/loaders/runes-loader.tsx



function runes_loader_getTokenId(token) {
  return token.info.runeName;
}
function RunesLoader({ addresses, children, filter = "all" }) {
  const { runes = [] } = (0,query_dist/* useRuneTokens */.YK3)(addresses);
  const { filterTokens } = useManageTokens();
  const preEnabledTokensIds = [];
  const filteredTokens = filterTokens({
    tokens: runes,
    filter,
    getTokenId: runes_loader_getTokenId,
    preEnabledTokensIds
  });
  return children({ tokens: filteredTokens, preEnabledTokensIds });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/@tanstack+react-query@5.51.23_react@18.3.1/node_modules/@tanstack/react-query/build/modern/useQuery.js
var useQuery = __webpack_require__(2569);
// EXTERNAL MODULE: ./node_modules/.pnpm/alex-sdk@2.1.4_@stacks+network@6.13.0_encoding@0.1.13__@stacks+transactions@6.15.0_encoding@0.1.13_/node_modules/alex-sdk/dist/alex-sdk.esm.js + 6 modules
var alex_sdk_esm = __webpack_require__(39993);
// EXTERNAL MODULE: ./node_modules/.pnpm/bitflow-sdk@1.6.1_encoding@0.1.13/node_modules/bitflow-sdk/dist/src/index.js
var dist_src = __webpack_require__(96976);
;// CONCATENATED MODULE: ./src/shared/utils/bitflow-sdk.ts




const bitflow = (() => {
  try {
    return new dist_src.BitflowSDK({
      API_HOST: environment/* BITFLOW_API_HOST */.QE,
      API_KEY: environment/* BITFLOW_API_KEY */.zs,
      STACKS_API_HOST: environment/* BITFLOW_STACKS_API_HOST */.Mg,
      READONLY_CALL_API_HOST: environment/* BITFLOW_READONLY_CALL_API_HOST */.Eq
    });
  } catch (e) {
    logger/* logger */.v.error("Bitflow SDK initialization failed");
    return {};
  }
})();

;// CONCATENATED MODULE: ./src/app/query/bitflow-sdk/bitflow-available-tokens.query.ts


function createGetBitflowAvailableTokensQueryOptions() {
  return {
    queryKey: ["get-bitflow-available-tokens"],
    queryFn: () => bitflow.getAvailableTokens(),
    refetchOnMount: false,
    refetchOnReconnect: false,
    refetchOnWindowFocus: false,
    retryDelay: 1e3 * 60,
    staleTime: 1e3 * 60 * 10
  };
}

;// CONCATENATED MODULE: ./src/app/pages/swap/swap.utils.ts


function convertSwapAssetBalanceToFiat(asset) {
  if (!asset.marketData || !!asset.balance && (0,utils_dist/* isMoneyGreaterThanZero */.CD)(asset.balance) && !(0,utils_dist/* isMoneyGreaterThanZero */.CD)(asset.marketData.price))
    return "-";
  return (0,utils_dist/* i18nFormatCurrency */.Lx)((0,utils_dist/* baseCurrencyAmountInQuote */.uE)(asset.balance, asset.marketData));
}
function convertInputAmountValueToFiat(balance, price, value) {
  const valueAsMoney = (0,utils_dist/* createMoney */.j6)(
    (0,utils_dist/* unitToFractionalUnit */.Nv)(balance.decimals)(value),
    balance.symbol,
    balance.decimals
  );
  if (!(0,utils_dist/* isMoneyGreaterThanZero */.CD)(valueAsMoney)) return;
  return (0,utils_dist/* baseCurrencyAmountInQuote */.uE)(valueAsMoney, price);
}
function toCommaSeparatedWithAnd(list) {
  let result = "";
  if (list.length) result = list[list.length - 1];
  if (list.length > 1) result = `${list[list.length - 2]} and ${result}`;
  if (list.length > 2) result = `${list.slice(0, -2).join(", ")}, ${result}`;
  return result;
}
function sortSwapAssets(assets) {
  return assets.sort((a, b) => {
    const nameA = (a.displayName ?? a.name).toLowerCase();
    const nameB = (b.displayName ?? b.name).toLowerCase();
    if (nameA < nameB) return -1;
    if (nameA > nameB) return 1;
    return 0;
  }).sort((a, b) => {
    if (a.name === "STX") return -1;
    if (b.name !== "STX") return 1;
    return 0;
  }).sort((a, b) => {
    if (a.name === "BTC") return -1;
    if (b.name !== "BTC") return 1;
    return 0;
  });
}

;// CONCATENATED MODULE: ./src/app/pages/swap/hooks/use-bitflow-swappable-assets.tsx










const BITFLOW_STX_CURRENCY = "token-stx";
const USD_DECIMAL_PRECISION = 2;
function useCreateSwapAsset(address) {
  const { data: prices } = (0,query_dist/* useAlexSdkLatestPricesQuery */.XaR)();
  const priceAsMarketData = (0,query_dist/* useAlexCurrencyPriceAsMarketData */.gxw)();
  const availableUnlockedBalance = (0,query_dist/* useStxAvailableUnlockedBalance */.Hsy)(address);
  const sip10Tokens = (0,query_dist/* useTransferableSip10Tokens */.Y2h)(address);
  return (0,react.useCallback)(
    (token) => {
      if (!prices || !token || !token.tokenContract) return;
      const swapAsset = {
        currency: token.tokenId,
        fallback: token.symbol.slice(0, 2),
        icon: token.icon,
        name: token.symbol,
        displayName: token.name,
        principal: token.tokenContract
      };
      if (token.tokenId === BITFLOW_STX_CURRENCY) {
        const price = (0,utils_dist/* convertAmountToFractionalUnit */.KA)(
          new bignumber/* default */.A(prices[alex_sdk_esm/* Currency */.S.STX] ?? 0),
          USD_DECIMAL_PRECISION
        );
        return {
          ...swapAsset,
          balance: availableUnlockedBalance,
          displayName: "Stacks",
          marketData: (0,models_dist/* createMarketData */.jd)(
            (0,models_dist/* createMarketPair */.he)(availableUnlockedBalance.symbol, "USD"),
            (0,utils_dist/* createMoney */.j6)(price, "USD")
          )
        };
      }
      const availableBalance = sip10Tokens.find(
        (sip10Token) => (0,utils_dist/* getPrincipalFromContractId */.uq)(sip10Token.info.contractId) === token.tokenContract
      )?.balance.availableBalance;
      return {
        ...swapAsset,
        balance: availableBalance ?? (0,utils_dist/* createMoney */.j6)(0, token.symbol, token.tokenDecimals),
        marketData: availableBalance ? priceAsMarketData(swapAsset.principal, availableBalance.symbol) : priceAsMarketData(swapAsset.principal, token.symbol)
      };
    },
    [availableUnlockedBalance, priceAsMarketData, prices, sip10Tokens]
  );
}
function useBitflowSwappableAssets(address) {
  const createSwapAsset = useCreateSwapAsset(address);
  return (0,useQuery/* useQuery */.I)({
    ...createGetBitflowAvailableTokensQueryOptions(),
    select: (resp) => sortSwapAssets(resp.map(createSwapAsset).filter(utils_dist/* isDefined */.O9))
  });
}

;// CONCATENATED MODULE: ./src/app/common/hooks/use-filtered-sip10-tokens.ts




function useCombinedFilteredSip10Tokens({ address }) {
  const { isLoading, tokens = [] } = (0,query_dist/* useFilteredSip10Tokens */._r$)({ address });
  const { data: alexSwapAssets = [] } = (0,query_dist/* useAlexSwappableAssets */.u6q)(address);
  const { data: bitflowSwapAssets = [] } = useBitflowSwappableAssets(address);
  const filteredTokens = (0,react.useMemo)(() => {
    const assets = [...alexSwapAssets, ...bitflowSwapAssets];
    return {
      allTokens: (0,query_dist/* filterSip10Tokens */.ejd)(assets, tokens, "all"),
      supportedTokens: (0,query_dist/* filterSip10Tokens */.ejd)(assets, tokens, "supported"),
      unsupportedTokens: (0,query_dist/* filterSip10Tokens */.ejd)(assets, tokens, "unsupported")
    };
  }, [alexSwapAssets, bitflowSwapAssets, tokens]);
  return { isLoading, ...filteredTokens };
}

;// CONCATENATED MODULE: ./src/app/components/loaders/sip10-tokens-loader.tsx



function sip10_tokens_loader_getTokenId(token) {
  return token.info.contractId;
}
function Sip10TokensLoader({
  address,
  assetFilter = "all",
  children
}) {
  const {
    isLoading,
    allTokens = [],
    supportedTokens
  } = useCombinedFilteredSip10Tokens({ address, filter: "all" });
  const { filterTokens } = useManageTokens();
  const preEnabledTokensIds = supportedTokens.map((t) => t.info.contractId);
  const filteredTokens = filterTokens({
    tokens: allTokens,
    filter: assetFilter,
    getTokenId: sip10_tokens_loader_getTokenId,
    preEnabledTokensIds
  });
  return children({ isLoading, tokens: filteredTokens, preEnabledTokensIds });
}

;// CONCATENATED MODULE: ./src/app/components/loaders/src20-tokens-loader.tsx



function src20_tokens_loader_getTokenId(token) {
  return token.info.symbol;
}
function Src20TokensLoader({ address, children, filter = "all" }) {
  const { data: tokens = [] } = (0,query_dist/* useSrc20TokensByAddress */.xMR)(address);
  const { filterTokens } = useManageTokens();
  const preEnabledTokensIds = tokens.map((t) => t.info.symbol);
  const filteredTokens = filterTokens({
    tokens,
    filter,
    getTokenId: src20_tokens_loader_getTokenId,
    preEnabledTokensIds
  });
  return children({ tokens: filteredTokens, preEnabledTokensIds });
}

;// CONCATENATED MODULE: ./src/app/components/loaders/stx20-tokens-loader.tsx



function stx20_tokens_loader_getTokenId(token) {
  return token.info.symbol;
}
function Stx20TokensLoader({ address, children, filter = "all" }) {
  const { data: tokens = [] } = (0,query_dist/* useStx20Tokens */.TPP)(address);
  const { filterTokens } = useManageTokens();
  const preEnabledTokensIds = [];
  const filteredTokens = filterTokens({
    tokens,
    filter,
    getTokenId: stx20_tokens_loader_getTokenId,
    preEnabledTokensIds
  });
  return children({ tokens: filteredTokens, preEnabledTokensIds });
}

;// CONCATENATED MODULE: ./tests/selectors/crypto-asset.selectors.ts

var CryptoAssetSelectors = /* @__PURE__ */ ((CryptoAssetSelectors2) => {
  CryptoAssetSelectors2["CryptoAssetList"] = "crypto-asset-list";
  CryptoAssetSelectors2["CryptoAssetListItem"] = "crypto-asset-list-item-{symbol}";
  return CryptoAssetSelectors2;
})(CryptoAssetSelectors || {});

;// CONCATENATED MODULE: ./src/app/common/asset-utils.ts


function migratePositiveAssetBalancesToTop(assets) {
  const assetsWithPositiveBalance = assets.filter((asset) => asset.balance.amount.isGreaterThan(0));
  const assetsWithZeroBalance = assets.filter((asset) => asset.balance.amount.isEqualTo(0));
  return [...assetsWithPositiveBalance, ...assetsWithZeroBalance];
}
function convertAssetBalanceToFiat(asset) {
  if (!asset.marketData || !asset.balance || !(0,utils_dist/* isMoneyGreaterThanZero */.CD)(asset.marketData.price))
    return "";
  return (0,utils_dist/* i18nFormatCurrency */.Lx)((0,utils_dist/* baseCurrencyAmountInQuote */.uE)(asset.balance, asset.marketData));
}

;// CONCATENATED MODULE: ./src/app/components/crypto-asset-item/crypto-asset-item-toggle.tsx










function CryptoAssetItemToggle({
  captionLeft,
  icon,
  titleLeft,
  assetId,
  isCheckedByDefault = false
}) {
  const accountIndex = (0,accounts_account/* useCurrentAccountIndex */.IR)();
  const dispatch = (0,react_redux/* useDispatch */.wA)();
  const [isChecked, setIsChecked] = (0,react.useState)(isCheckedByDefault);
  function handleSelection(enabled) {
    setIsChecked(enabled);
    dispatch(
      manage_tokens_slice/* manageTokensSlice */.G.actions.userTogglesTokenVisibility({ id: assetId, enabled, accountIndex })
    );
  }
  const toggle = /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* VStack */.Tk, { h: "100%", justifyContent: "center", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Switch */.dO.Root, { onCheckedChange: handleSelection, checked: isChecked, id: assetId, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Switch */.dO.Thumb, {}) }) });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { my: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Pressable */.oz, { onClick: () => handleSelection(!isChecked), "data-testid": (0,purify.sanitize)(assetId), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* ItemLayout */.E7,
    {
      img: icon,
      titleLeft: (0,utils_dist/* spamFilter */.sc)(titleLeft),
      captionLeft: (0,utils_dist/* spamFilter */.sc)(captionLeft),
      titleRight: toggle
    }
  ) }) });
}

;// CONCATENATED MODULE: ./src/app/components/crypto-asset-item/crypto-asset-item.tsx




function CryptoAssetItem({ isToggleMode, toggleProps, itemProps }) {
  if (isToggleMode && toggleProps) {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(CryptoAssetItemToggle, { ...toggleProps });
  }
  if (itemProps) {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(CryptoAssetItemLayout, { ...itemProps });
  }
  return null;
}

;// CONCATENATED MODULE: ./src/app/features/asset-list/bitcoin/brc20-token-asset-list/brc20-token-asset-list.tsx











function getBrc20TokenFiatBalance(token) {
  return convertAssetBalanceToFiat({
    balance: token.balance.availableBalance,
    marketData: token.marketData
  });
}
function Brc20TokenAssetList({
  tokens,
  assetRightElementVariant,
  preEnabledTokensIds,
  setHasManageableTokens
}) {
  const { isLoading } = (0,btc_balance_native_segwit_hooks/* useCurrentBtcCryptoAssetBalanceNativeSegwit */.J)();
  const isPrivate = (0,settings_settings_selectors/* useIsPrivateMode */.cT)();
  const { isTokenEnabled } = useManageTokens();
  (0,react.useEffect)(() => {
    if (tokens.length > 0 && setHasManageableTokens) {
      setHasManageableTokens(true);
    }
  }, [tokens, setHasManageableTokens]);
  if (!tokens.length) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { "data-testid": CryptoAssetSelectors.CryptoAssetList, children: tokens.map((token) => {
    const key = token.info.symbol;
    const captionLeft = token.info.name.toUpperCase();
    const icon = /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Brc20AvatarIcon */.Un, {});
    const titleLeft = token.info.symbol;
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      CryptoAssetItem,
      {
        isToggleMode: assetRightElementVariant === "toggle",
        toggleProps: {
          captionLeft,
          icon,
          titleLeft,
          assetId: key,
          isCheckedByDefault: isTokenEnabled({ tokenId: key, preEnabledTokensIds })
        },
        itemProps: {
          availableBalance: token.balance.availableBalance,
          captionLeft,
          icon,
          isLoading,
          isPrivate,
          titleLeft,
          fiatBalance: getBrc20TokenFiatBalance(token),
          dataTestId: key
        }
      },
      key
    );
  }) });
}

;// CONCATENATED MODULE: ./src/app/features/asset-list/bitcoin/runes-asset-list/runes-asset-list.tsx









function RunesAssetList({
  runes,
  assetRightElementVariant,
  preEnabledTokensIds,
  setHasManageableTokens
}) {
  const isPrivate = (0,settings_settings_selectors/* useIsPrivateMode */.cT)();
  const { isTokenEnabled } = useManageTokens();
  (0,react.useEffect)(() => {
    if (runes.length > 0 && setHasManageableTokens) {
      setHasManageableTokens(true);
    }
  }, [runes, setHasManageableTokens]);
  return runes.map((rune, i) => {
    const key = `${rune.info.symbol}${i}`;
    const captionLeft = "Runes";
    const icon = /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* RunesAvatarIcon */.e$, {});
    const titleLeft = rune.info.spacedRuneName ?? rune.info.runeName;
    const availableBalance = (0,utils_dist/* createMoneyFromDecimal */.cU)(
      (0,utils_dist/* convertAmountToBaseUnit */.AG)(rune.balance.availableBalance),
      rune.info.symbol,
      rune.info.decimals
    );
    const fiatBalance = convertAssetBalanceToFiat({
      balance: rune.balance.availableBalance,
      marketData: rune.marketData
    });
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      CryptoAssetItem,
      {
        isToggleMode: assetRightElementVariant === "toggle",
        toggleProps: {
          captionLeft,
          icon,
          titleLeft,
          assetId: rune.info.runeName,
          isCheckedByDefault: isTokenEnabled({ tokenId: rune.info.runeName, preEnabledTokensIds })
        },
        itemProps: {
          availableBalance,
          captionLeft,
          icon,
          isPrivate,
          titleLeft,
          fiatBalance,
          dataTestId: rune.info.runeName
        }
      },
      key
    );
  });
}

;// CONCATENATED MODULE: ./src/app/features/asset-list/bitcoin/src20-token-asset-list/src20-token-asset-list.tsx







function Src20TokenAssetList({
  tokens,
  assetRightElementVariant,
  preEnabledTokensIds,
  setHasManageableTokens
}) {
  const isPrivate = (0,settings_settings_selectors/* useIsPrivateMode */.cT)();
  const { isTokenEnabled } = useManageTokens();
  (0,react.useEffect)(() => {
    if (tokens.length > 0 && setHasManageableTokens) {
      setHasManageableTokens(true);
    }
  }, [tokens, setHasManageableTokens]);
  return tokens.map((token, i) => {
    const key = `${token.info.id}${i}`;
    const captionLeft = token.info.name.toUpperCase();
    const icon = /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Src20AvatarIcon */.HU, {});
    const titleLeft = token.info.symbol.toUpperCase();
    const symbol = token.info.symbol;
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      CryptoAssetItem,
      {
        isToggleMode: assetRightElementVariant === "toggle",
        toggleProps: {
          captionLeft,
          icon,
          titleLeft,
          assetId: symbol,
          isCheckedByDefault: isTokenEnabled({ tokenId: symbol, preEnabledTokensIds })
        },
        itemProps: {
          availableBalance: token.balance.availableBalance,
          captionLeft,
          icon,
          isPrivate,
          titleLeft,
          dataTestId: symbol
        }
      },
      key
    );
  });
}

;// CONCATENATED MODULE: ./public/assets/avatars/stx20-avatar-icon.png
/* harmony default export */ const stx20_avatar_icon = (__webpack_require__.p + "73efaecaf0e64a8430c1b622db3e7062.png");
;// CONCATENATED MODULE: ./src/app/ui/components/avatar/stx20-avatar-icon.tsx




const fallback = "ST";
function Stx20AvatarIcon(props) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Avatar */.eu.Root, { ...props, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Avatar */.eu.Image, { alt: fallback, src: stx20_avatar_icon }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Avatar */.eu.Fallback, { children: fallback })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/asset-list/stacks/stx20-token-asset-list/stx20-token-asset-list.tsx







function Stx20TokenAssetList({
  tokens,
  assetRightElementVariant,
  preEnabledTokensIds,
  setHasManageableTokens
}) {
  const isPrivate = (0,settings_settings_selectors/* useIsPrivateMode */.cT)();
  const { isTokenEnabled } = useManageTokens();
  (0,react.useEffect)(() => {
    if (tokens.length > 0 && setHasManageableTokens) {
      setHasManageableTokens(true);
    }
  }, [tokens, setHasManageableTokens]);
  return tokens.map((token, i) => {
    const key = `${token.info.symbol}${i}`;
    const captionLeft = token.info.name.toUpperCase();
    const icon = /* @__PURE__ */ (0,jsx_runtime.jsx)(Stx20AvatarIcon, {});
    const symbol = token.info.symbol;
    const titleLeft = symbol;
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      CryptoAssetItem,
      {
        isToggleMode: assetRightElementVariant === "toggle",
        toggleProps: {
          captionLeft,
          icon,
          titleLeft,
          assetId: symbol,
          isCheckedByDefault: isTokenEnabled({ tokenId: symbol, preEnabledTokensIds })
        },
        itemProps: {
          availableBalance: token.balance.availableBalance,
          captionLeft,
          icon,
          isPrivate,
          titleLeft,
          dataTestId: symbol
        }
      },
      key
    );
  });
}

// EXTERNAL MODULE: ./src/app/store/ledger/ledger.selectors.ts
var ledger_selectors = __webpack_require__(36528);
;// CONCATENATED MODULE: ./src/app/store/accounts/blockchain/stacks/stacks.hooks.ts


function useHasStacksLedgerKeychain() {
  return Object.keys(store/* store */.M_.getState().ledger.stacks.entities).length > 0;
}

;// CONCATENATED MODULE: ./src/app/store/accounts/blockchain/utils.ts




function useCheckLedgerBlockchainAvailable() {
  const hasBitcoinLedgerKeys = (0,bitcoin_hooks/* useHasCurrentBitcoinAccount */.An)();
  const hasStacksLedgerKeys = useHasStacksLedgerKeychain();
  return (0,react.useCallback)(
    (chain) => {
      if (chain === "bitcoin") {
        return hasBitcoinLedgerKeys;
      }
      if (chain === "stacks") {
        return hasStacksLedgerKeys;
      }
      return false;
    },
    [hasBitcoinLedgerKeys, hasStacksLedgerKeys]
  );
}

;// CONCATENATED MODULE: ./src/app/features/asset-list/_components/connect-ledger-asset-button.tsx








function ConnectLedgerButton({ chain }) {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const onClick = () => {
    navigate(`${chain}/connect-your-ledger`, {
      replace: true,
      state: {
        [use_when_reattempt_ledger_connection/* immediatelyAttemptLedgerConnection */.J]: true,
        backgroundLocation: { pathname: route_urls/* RouteUrls */.W.Home }
      }
    });
  };
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    exports_web/* Button */.$n,
    {
      display: "flex",
      alignItems: "center",
      variant: "outline",
      size: "sm",
      gap: "space.02",
      onClick,
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* LedgerIcon */.vt, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.span, { textStyle: "label.02", children: [
          "Connect\xA0",
          (0,common_utils/* capitalize */.ZH)(chain)
        ] })
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/asset-list/_components/connect-ledger-asset-item-fallback.tsx






function ConnectLedgerAssetItemFallback({
  chain,
  icon,
  symbol,
  variant
}) {
  const checkBlockchainAvailable = useCheckLedgerBlockchainAvailable();
  if (variant === "interactive" && !checkBlockchainAvailable(chain)) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Pressable */.oz, { my: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* ItemLayout */.E7,
    {
      img: icon,
      captionLeft: symbol,
      titleLeft: (0,common_utils/* capitalize */.ZH)(chain),
      titleRight: /* @__PURE__ */ (0,jsx_runtime.jsx)(ConnectLedgerButton, { chain })
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/features/asset-list/stacks/sip10-token-asset-list/sip10-token-asset-item.tsx








function Sip10TokenAssetItem({
  balance,
  info,
  isLoading,
  marketData,
  onSelectAsset,
  assetRightElementVariant,
  preEnabledTokensIds
}) {
  const isPrivate = (0,settings_settings_selectors/* useIsPrivateMode */.cT)();
  const fiatBalance = convertAssetBalanceToFiat({
    balance: balance.availableBalance,
    marketData
  });
  const { isTokenEnabled } = useManageTokens();
  const { contractId, imageCanonicalUri, name, symbol } = info;
  const icon = /* @__PURE__ */ (0,jsx_runtime.jsx)(
    StacksAssetAvatar,
    {
      color: "white",
      gradientString: contractId,
      imageCanonicalUri: (0,stacks_utils/* getSafeImageCanonicalUri */.VD)(imageCanonicalUri, name),
      children: name[0]
    }
  );
  const captionLeft = symbol;
  const titleLeft = name;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    CryptoAssetItem,
    {
      isToggleMode: assetRightElementVariant === "toggle",
      toggleProps: {
        captionLeft,
        icon,
        titleLeft,
        assetId: contractId,
        isCheckedByDefault: isTokenEnabled({ tokenId: contractId, preEnabledTokensIds })
      },
      itemProps: {
        contractId,
        availableBalance: balance.availableBalance,
        captionLeft,
        icon,
        isLoading,
        isPrivate,
        titleLeft,
        fiatBalance,
        dataTestId: contractId,
        onSelectAsset
      }
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/asset-list/stacks/sip10-token-asset-list/sip10-token-asset-list.tsx







function Sip10TokenAssetList({
  isLoading,
  tokens,
  onSelectAsset,
  assetRightElementVariant,
  preEnabledTokensIds,
  setHasManageableTokens
}) {
  const priceAsMarketData = (0,query_dist/* useAlexCurrencyPriceAsMarketData */.gxw)();
  (0,react.useEffect)(() => {
    if (tokens.length > 0 && setHasManageableTokens) {
      setHasManageableTokens(true);
    }
  }, [tokens, setHasManageableTokens]);
  if (!tokens.length) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { children: tokens.map((token) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
    Sip10TokenAssetItem,
    {
      assetRightElementVariant,
      balance: token.balance,
      info: token.info,
      isLoading,
      marketData: priceAsMarketData(
        (0,common_utils/* getPrincipalFromContractId */.uq)(token.info.contractId),
        token.balance.availableBalance.symbol
      ),
      onSelectAsset,
      preEnabledTokensIds
    },
    token.info.name + token.info.contractId
  )) });
}

;// CONCATENATED MODULE: ./src/app/features/asset-list/asset-list.tsx
























function AssetList({
  onSelectAsset,
  variant = "read-only",
  assetRightElementVariant = "balance",
  showUnmanageableTokens = true,
  setHasManageableTokens,
  filter
}) {
  const currentAccount = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const isLedger = (0,ledger_selectors/* useHasLedgerKeys */.L$)();
  const isPrivate = (0,settings_settings_selectors/* useIsPrivateMode */.cT)();
  const isReadOnly = variant === "read-only";
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { children: [
    showUnmanageableTokens && /* @__PURE__ */ (0,jsx_runtime.jsx)(
      bitcoin_account_loader/* BitcoinNativeSegwitAccountLoader */.V,
      {
        current: true,
        fallback: showUnmanageableTokens && /* @__PURE__ */ (0,jsx_runtime.jsx)(
          ConnectLedgerAssetItemFallback,
          {
            chain: "bitcoin",
            icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* BtcAvatarIcon */.Ev, {}),
            symbol: "BTC",
            variant
          }
        ),
        children: (nativeSegwitAccount) => /* @__PURE__ */ (0,jsx_runtime.jsx)(btc_balance_loader/* BtcAssetItemBalanceLoader */.Y, { address: nativeSegwitAccount.address, children: (balance, isLoading, isLoadingAdditionalData) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
          BtcCryptoAssetItem,
          {
            balance,
            isLoading,
            onSelectAsset,
            isLoadingAdditionalData
          }
        ) })
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      CurrentStacksAccountLoader,
      {
        fallback: !currentAccount && !isLedger || !showUnmanageableTokens ? null : /* @__PURE__ */ (0,jsx_runtime.jsx)(
          ConnectLedgerAssetItemFallback,
          {
            chain: "stacks",
            icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* StxAvatarIcon */.sC, {}),
            symbol: "STX",
            variant
          }
        ),
        children: (account) => /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
          showUnmanageableTokens && /* @__PURE__ */ (0,jsx_runtime.jsx)(StxAssetItemBalanceLoader, { address: account.address, children: (balance, isLoading) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
            StxCryptoAssetItem,
            {
              balance,
              isLoading,
              isPrivate,
              onSelectAsset
            }
          ) }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(Sip10TokensLoader, { address: account.address, assetFilter: filter, children: ({ isLoading, tokens, preEnabledTokensIds }) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
            Sip10TokenAssetList,
            {
              isLoading,
              tokens,
              onSelectAsset,
              assetRightElementVariant,
              preEnabledTokensIds,
              setHasManageableTokens
            }
          ) }),
          isReadOnly && /* @__PURE__ */ (0,jsx_runtime.jsx)(Stx20TokensLoader, { address: account.address, filter, children: ({ tokens, preEnabledTokensIds }) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
            Stx20TokenAssetList,
            {
              tokens,
              assetRightElementVariant,
              preEnabledTokensIds,
              setHasManageableTokens
            }
          ) })
        ] })
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(bitcoin_account_loader/* BitcoinNativeSegwitAccountLoader */.V, { current: true, children: (nativeSegwitAccount) => /* @__PURE__ */ (0,jsx_runtime.jsx)(bitcoin_account_loader/* BitcoinTaprootAccountLoader */.g, { current: true, children: (taprootAccount) => /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
      isReadOnly && /* @__PURE__ */ (0,jsx_runtime.jsx)(Brc20TokensLoader, { filter, children: ({ tokens, preEnabledTokensIds }) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        Brc20TokenAssetList,
        {
          tokens,
          variant,
          assetRightElementVariant,
          preEnabledTokensIds,
          setHasManageableTokens
        }
      ) }),
      isReadOnly && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(Src20TokensLoader, { filter, address: nativeSegwitAccount.address, children: ({ tokens, preEnabledTokensIds }) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
          Src20TokenAssetList,
          {
            tokens,
            assetRightElementVariant,
            preEnabledTokensIds,
            setHasManageableTokens
          }
        ) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          RunesLoader,
          {
            addresses: [nativeSegwitAccount.address, taprootAccount.address],
            filter,
            children: ({ tokens, preEnabledTokensIds }) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
              RunesAssetList,
              {
                runes: tokens,
                assetRightElementVariant,
                preEnabledTokensIds,
                setHasManageableTokens
              }
            )
          }
        )
      ] })
    ] }) }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/asset-list/manage-tokens/manage-tokens.tsx







function ManageTokens() {
  const [showManageTokens, setShowManageTokens] = (0,react.useState)(false);
  const [hasManageableTokens, setHasManageableTokens] = (0,react.useState)(false);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      exports_web/* Pressable */.oz,
      {
        "data-testid": HomePageSelectors.ManageTokensBtn,
        mt: "space.04",
        onClick: () => {
          setShowManageTokens(!showManageTokens);
        },
        children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", justifyContent: "space-between", width: "100%", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "body.02", children: "Manage Tokens" }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ChevronRightIcon */.vK, { variant: "small" })
        ] })
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      exports_web/* Sheet */.cj,
      {
        isShowing: showManageTokens,
        onClose: () => setShowManageTokens(!showManageTokens),
        header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, { title: "Manage tokens" }),
        children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.05", px: "space.05", "data-testid": HomePageSelectors.ManageTokensAssetsList, children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            AssetList,
            {
              assetRightElementVariant: "toggle",
              filter: "all",
              showUnmanageableTokens: false,
              setHasManageableTokens
            }
          ),
          !hasManageableTokens && /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { h: "100%", justify: "center", align: "center", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { children: "No tokens found" }) })
        ] })
      }
    )
  ] });
}

;// CONCATENATED MODULE: ./src/app/components/loaders/current-bitcoin-signer-loader.tsx




function CurrentBitcoinSignerLoader({ children }) {
  const nativeSegwit = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitSigner */.GD)()?.(constants/* ZERO_INDEX */.yS);
  const taproot = (0,taproot_account_hooks/* useCurrentAccountTaprootSigner */.$w)()?.(constants/* ZERO_INDEX */.yS);
  if (!taproot || !nativeSegwit) return null;
  return children({ nativeSegwit, taproot });
}

;// CONCATENATED MODULE: ./tests/selectors/send.selectors.ts

var SendCryptoAssetSelectors = /* @__PURE__ */ ((SendCryptoAssetSelectors2) => {
  SendCryptoAssetSelectors2["AmountFieldInput"] = "amount-field-input";
  SendCryptoAssetSelectors2["AmountFieldInputErrorLabel"] = "amount-field-input-error-label";
  SendCryptoAssetSelectors2["ConfirmationDetails"] = "confirmation-details";
  SendCryptoAssetSelectors2["ConfirmSendTxBtn"] = "confirm-send-tx-btn";
  SendCryptoAssetSelectors2["ConfirmationDetailsAmountAndSymbol"] = "confirmation-details-amount-and-symbol";
  SendCryptoAssetSelectors2["ConfirmationDetailsRecipient"] = "confirmation-details-recipient";
  SendCryptoAssetSelectors2["ConfirmationDetailsAssetValue"] = "confirmation-details-asset-value";
  SendCryptoAssetSelectors2["ConfirmationDetailsFee"] = "confirmation-details-fee";
  SendCryptoAssetSelectors2["ConfirmationDetailsMemo"] = "confirmation-details-memo";
  SendCryptoAssetSelectors2["ConfirmationDetailText"] = "confirmation-detail-text";
  SendCryptoAssetSelectors2["FormFieldInputErrorLabel"] = "form-field-input-error-label";
  SendCryptoAssetSelectors2["MemoFieldInput"] = "memo-field-input";
  SendCryptoAssetSelectors2["PreviewSendTxBtn"] = "preview-send-tx-btn";
  SendCryptoAssetSelectors2["RecipientChooseAccountButton"] = "recipient-choose-account-button";
  SendCryptoAssetSelectors2["RecipientSelectRecipientTypeDropdown"] = "recipient-select-field-dropdown-button";
  SendCryptoAssetSelectors2["RecipientSelectFieldAddress"] = "recipient-select-field-address";
  SendCryptoAssetSelectors2["RecipientSelectFieldBnsName"] = "recipient-select-field-bnsName";
  SendCryptoAssetSelectors2["RecipientFieldInput"] = "recipient-field-input";
  SendCryptoAssetSelectors2["RecipientBnsAddressLabel"] = "recipient-bns-address-label";
  SendCryptoAssetSelectors2["RecipientBnsAddressCopyToClipboard"] = "recipient-bns-address-copy-to-clipboard";
  SendCryptoAssetSelectors2["SendForm"] = "send-form";
  SendCryptoAssetSelectors2["SendMaxBtn"] = "send-max-btn";
  SendCryptoAssetSelectors2["SendPageReady"] = "send-page-ready";
  SendCryptoAssetSelectors2["HighFeeWarningSheet"] = "high-fee-warning-sheet";
  SendCryptoAssetSelectors2["HighFeeWarningSheetSubmit"] = "high-fee-warning-sheet-submit";
  SendCryptoAssetSelectors2["Inscription"] = "inscription";
  SendCryptoAssetSelectors2["InscriptionSendButton"] = "inscription-send-button";
  return SendCryptoAssetSelectors2;
})(SendCryptoAssetSelectors || {});

;// CONCATENATED MODULE: ./src/app/features/collectibles/components/collectible-hover.tsx




function CollectibleHover({
  collectibleTypeIcon,
  isHovered,
  onClickCallToAction
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Box */.az,
    {
      _focusWithin: { opacity: "inherit" },
      display: "flex",
      height: "100%",
      left: "0px",
      opacity: "0",
      overflow: "hidden",
      position: "absolute",
      style: { opacity: isHovered ? "inherit" : "0" },
      top: "0px",
      width: "100%",
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          jsx/* Box */.az,
          {
            bottom: "space.03",
            height: "30px",
            left: "space.03",
            position: "absolute",
            width: "30px",
            zIndex: 999,
            children: collectibleTypeIcon
          }
        ),
        onClickCallToAction && /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { bg: "ink.background-primary", position: "absolute", right: "12px", top: "12px", zIndex: 999, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* IconButton */.K0,
          {
            _focus: { outline: "focus" },
            _hover: { bg: "ink.component-background-hover" },
            bg: "ink.background-primary",
            color: "ink.action-primary-default",
            icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ExternalLinkIcon */.pT, {}),
            onClick: (e) => {
              e.stopPropagation();
              onClickCallToAction();
            }
          }
        ) })
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/collectibles/components/collectible-item.layout.tsx







function CollectibleItemLayout({
  children,
  onClickCallToAction,
  onClickSend,
  onClickLayout,
  collectibleTypeIcon,
  showBorder,
  subtitle,
  title,
  ...rest
}) {
  const [isHovered, bind] = (0,dist_web/* useHover */.Mk)();
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Box */.az,
    {
      _focus: {
        outline: onClickLayout ? "focus" : "unset",
        outlineOffset: onClickLayout ? "-4px" : "unset"
      },
      _hover: { bg: "ink.background-secondary" },
      borderRadius: "xs",
      cursor: onClickLayout ? "pointer" : "default",
      onClick: onClickLayout,
      p: "space.01",
      textAlign: "inherit",
      width: "100%",
      ...rest,
      ...bind,
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Box */.az, { height: "0px", position: "relative", pb: "100%", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            CollectibleHover,
            {
              onClickCallToAction,
              collectibleTypeIcon,
              isHovered
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            jsx/* Box */.az,
            {
              alignItems: "center",
              borderRadius: "xs",
              display: "flex",
              height: "100%",
              justifyContent: "center",
              left: "0px",
              overflow: "hidden",
              position: "absolute",
              style: {
                backgroundColor: showBorder ? (0,tokens/* token */.S)("colors.ink.background-primary") : (0,tokens/* token */.S)("colors.ink.component-background-default"),
                border: showBorder ? (0,tokens/* token */.S)("borders.dashed") : "unset"
              },
              top: "0px",
              width: "100%",
              children
            }
          )
        ] }),
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.01", mt: "space.04", pl: "space.02", textAlign: "left", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            jsx/* styled */.I4.span,
            {
              overflow: "hidden",
              textOverflow: "ellipsis",
              textStyle: "label.01",
              whiteSpace: "nowrap",
              width: "95%",
              children: title
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { color: "ink.text-subdued", textStyle: "caption.01", children: subtitle })
        ] }),
        onClickSend ? /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { p: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          jsx/* styled */.I4.button,
          {
            "data-testid": SendCryptoAssetSelectors.InscriptionSendButton,
            _focus: { clipPath: "none", outline: "focus" },
            _hover: { bg: "ink.background-primary" },
            bg: "ink.background-primary",
            borderRadius: "xs",
            clipPath: isHovered ? "none" : "circle(0%)",
            fontWeight: 500,
            onClick: (e) => {
              e.stopPropagation();
              onClickSend();
            },
            px: "space.03",
            py: "space.02",
            textStyle: "caption.01",
            type: "button",
            children: "Send"
          }
        ) }) : /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { p: "space.01" })
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/collectibles/components/add-collectible.tsx







function AddCollectible() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const location = (0,react_router_dist/* useLocation */.zy)();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    CollectibleItemLayout,
    {
      onClickLayout: () => {
        void analytics/* analytics */.zS.track("select_add_new_collectible");
        navigate(`${route_urls/* RouteUrls */.W.Home}${route_urls/* RouteUrls */.W.ReceiveCollectible}`, {
          state: {
            backgroundLocation: location
          }
        });
      },
      showBorder: true,
      subtitle: "Collectible",
      title: "Add new",
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* PlusIcon */.c1, { height: 36, width: 36 })
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/collectibles/components/_collectible-types/collectible-placeholder.layout.tsx



function CollectiblePlaceholderLayout({ children }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* Flex */.so,
    {
      alignItems: "center",
      bg: "ink.component-background-default",
      flexDirection: "column",
      height: "100%",
      justifyContent: "center",
      textAlign: "center",
      width: "100%",
      children
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/collectibles/components/_collectible-types/collectible-audio.tsx





function CollectibleAudio({ icon, ...props }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(CollectibleItemLayout, { collectibleTypeIcon: icon, ...props, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(CollectiblePlaceholderLayout, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* HeadsetIcon */.sJ, { height: 36, width: 36 }) }) });
}

;// CONCATENATED MODULE: ./src/app/ui/components/iframe.tsx



function Iframe({ onError, src, ...props }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* styled */.I4.iframe,
    {
      loading: "lazy",
      onError,
      overflow: "hidden",
      pointerEvents: "none",
      sandbox: "allow-scripts",
      src,
      userSelect: "none",
      ...props
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/collectibles/components/image-unavailable.tsx





function ImageUnavailable() {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(CollectiblePlaceholderLayout, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Eye1ClosedIcon */.y6, {}),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { pt: "space.02", px: "space.04", textStyle: "label.03", children: "Image currently unavailable" })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/collectibles/components/_collectible-types/collectible-iframe.tsx






function CollectibleIframe({ icon, src, ...props }) {
  const [isError, setIsError] = (0,react.useState)(false);
  if (isError)
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(CollectibleItemLayout, { collectibleTypeIcon: icon, ...props, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(ImageUnavailable, {}) });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(CollectibleItemLayout, { collectibleTypeIcon: icon, ...props, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    Iframe,
    {
      aspectRatio: "1 / 1",
      height: "100%",
      objectFit: "cover",
      onError: () => setIsError(true),
      src,
      width: "100%",
      zIndex: 99
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/features/collectibles/components/_collectible-types/collectible-image.tsx





function CollectibleImage(props) {
  const { alt, icon, src, ...rest } = props;
  const [isError, setIsError] = (0,react.useState)(false);
  const [isLoading, setIsLoading] = (0,react.useState)(true);
  const [width, setWidth] = (0,react.useState)(0);
  if (isError)
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(CollectibleItemLayout, { collectibleTypeIcon: icon, ...rest, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(ImageUnavailable, {}) });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(CollectibleItemLayout, { collectibleTypeIcon: icon, ...rest, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "img",
    {
      alt,
      onError: () => setIsError(true),
      loading: "lazy",
      onLoad: (event) => {
        const target = event.target;
        setWidth(target.naturalWidth);
        setIsLoading(false);
      },
      src,
      style: {
        width: "100%",
        height: "100%",
        aspectRatio: "1 / 1",
        objectFit: "cover",
        // display: 'none' breaks onLoad event firing
        opacity: isLoading ? "0" : "1",
        imageRendering: width <= 40 ? "pixelated" : "auto"
      }
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/features/collectibles/components/_collectible-types/collectible-other.tsx




function CollectibleOther({ children, ...props }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(CollectibleItemLayout, { ...props, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* Box */.az,
    {
      alignItems: "center",
      bg: "black",
      display: "flex",
      height: "100%",
      justifyContent: "center",
      width: "100%",
      children
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/components/json.tsx






function parseJson(content) {
  try {
    return JSON.stringify(JSON.parse(content), null, 2);
  } catch (e) {
    return content;
  }
}
function parseJsonReadable(value) {
  if ((0,utils_dist/* isBigInt */.sI)(value)) return value.toString();
  if ((0,utils_dist/* isTypedArray */.iu)(value)) return (0,esm_utils/* bytesToHex */.My)(value);
  return value;
}
function Json(value) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* Box */.az,
    {
      className: (0,css/* css */.AH)({
        "& pre": {
          overflowX: "auto",
          whiteSpace: "pre-wrap",
          wordWrap: "break-word"
        }
      }),
      textStyle: "caption.01",
      mt: "space.05",
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)("pre", { children: JSON.stringify(value, (_, v) => parseJsonReadable(v), 2) })
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/collectibles/components/_collectible-types/collectible-text.layout.tsx




function CollectibleTextLayout({ children }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* Box */.az,
    {
      _after: {
        content: '""',
        position: "absolute",
        bottom: "0",
        left: "0",
        height: "30px",
        width: "100%",
        backgroundImage: "linear-gradient(rgba(0,0,0,0), rgba(0,0,0,1))"
      },
      bg: "black",
      color: "white",
      height: "100%",
      p: "20px",
      position: "relative",
      overflow: "hidden",
      textAlign: "left",
      width: "100%",
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)("pre", { children: (0,purify.sanitize)(children) })
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/collectibles/components/_collectible-types/collectible-text.tsx




function CollectibleText(props) {
  const { content, icon, ...rest } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(CollectibleItemLayout, { collectibleTypeIcon: icon, ...rest, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(CollectibleTextLayout, { children: content }) });
}

;// CONCATENATED MODULE: ./src/app/features/collectibles/components/bitcoin/inscription-text.tsx







function InscriptionText({
  contentSrc,
  inscriptionNumber,
  onClickCallToAction,
  onClickSend
}) {
  const query = (0,query_dist/* useGetInscriptionTextContentQuery */.ufg)(contentSrc);
  if (query.isLoading || query.isError) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    CollectibleText,
    {
      "data-testid": SendCryptoAssetSelectors.Inscription,
      icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* OrdinalAvatarIcon */.ul, { size: "lg" }),
      onClickCallToAction,
      onClickSend,
      content: parseJson(query.data),
      subtitle: "Ordinal inscription",
      title: `# ${inscriptionNumber}`
    },
    inscriptionNumber
  );
}

;// CONCATENATED MODULE: ./src/app/features/collectibles/components/bitcoin/inscription.tsx












function openInscriptionUrl(num) {
  return (0,open_in_new_tab/* openInNewTab */.V)(`${constants/* ORD_IO_URL */.F7}/${num}`);
}
function Inscription({ inscription }) {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const location = (0,react_router_dist/* useLocation */.zy)();
  function openSendInscriptionModal() {
    navigate(route_urls/* RouteUrls */.W.SendOrdinalInscription, {
      state: { inscription, backgroundLocation: location }
    });
  }
  switch (inscription.mimeType) {
    case "audio":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        CollectibleAudio,
        {
          icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* OrdinalAvatarIcon */.ul, { size: "lg" }),
          onClickCallToAction: () => openInscriptionUrl(inscription.number),
          onClickSend: () => openSendInscriptionModal(),
          subtitle: "Ordinal inscription",
          title: `# ${inscription.number}`
        },
        inscription.title
      );
    case "html":
    case "svg":
    case "video":
    case "gltf":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        CollectibleIframe,
        {
          icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* OrdinalAvatarIcon */.ul, { size: "lg" }),
          onClickCallToAction: () => openInscriptionUrl(inscription.number),
          onClickSend: () => openSendInscriptionModal(),
          src: inscription.src,
          subtitle: "Ordinal inscription",
          title: `# ${inscription.number}`
        },
        inscription.title
      );
    case "image":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        CollectibleImage,
        {
          icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* OrdinalAvatarIcon */.ul, { size: "lg" }),
          onClickCallToAction: () => openInscriptionUrl(inscription.number),
          onClickSend: () => openSendInscriptionModal(),
          src: inscription.src,
          subtitle: "Ordinal inscription",
          title: `# ${inscription.number}`
        },
        inscription.title
      );
    case "text":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        InscriptionText,
        {
          contentSrc: inscription.src,
          inscriptionNumber: inscription.number,
          onClickCallToAction: () => openInscriptionUrl(inscription.number),
          onClickSend: () => openSendInscriptionModal()
        }
      );
    case "other":
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        CollectibleOther,
        {
          onClickCallToAction: () => openInscriptionUrl(inscription.number),
          onClickSend: () => openSendInscriptionModal(),
          subtitle: "Ordinal inscription",
          title: `# ${inscription.number}`,
          children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* OrdinalAvatarIcon */.ul, { size: "lg" })
        },
        inscription.title
      );
    default:
      return null;
  }
}

;// CONCATENATED MODULE: ./src/app/features/collectibles/components/bitcoin/ordinals.tsx










function Ordinals({ setIsLoadingMore }) {
  const account = (0,taproot_account_hooks/* useCurrentTaprootAccount */.R2)();
  const nativeSegwitSigner = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSigner */.sz)();
  const result = (0,query_dist/* useInscriptions */.BH0)({
    taprootKeychain: account?.keychain,
    nativeSegwitAddress: nativeSegwitSigner.address
  });
  const { ref: intersectionSentinel, inView } = (0,react_intersection_observer/* useInView */.Wx)({
    rootMargin: "0% 0% 20% 0%"
  });
  (0,react.useEffect)(() => {
    async function fetchNextPage() {
      if (!result.hasNextPage || result.isLoading || result.isFetchingNextPage) return;
      try {
        setIsLoadingMore(true);
        await result.fetchNextPage();
      } catch (e) {
      } finally {
        setIsLoadingMore(false);
      }
    }
    if (inView) {
      void fetchNextPage();
    }
  }, [inView, result, setIsLoadingMore]);
  (0,react.useEffect)(() => {
    const inscriptionsLength = result.inscriptions.length || 0;
    if (inscriptionsLength > 0) {
      void analytics/* analytics */.zS.track("view_collectibles", {
        ordinals_count: inscriptionsLength
      });
      void analytics/* analytics */.zS.identify({ ordinals_count: inscriptionsLength });
    }
  }, [result.inscriptions.length]);
  if (!result.inscriptions) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    result.inscriptions.map((inscription) => /* @__PURE__ */ (0,jsx_runtime.jsx)(Inscription, { inscription }, inscription.id)),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { ref: intersectionSentinel })
  ] });
}

;// CONCATENATED MODULE: ./public/assets/avatars/stamps-avatar-icon.png
/* harmony default export */ const stamps_avatar_icon = (__webpack_require__.p + "3afaebef13ed5552e7cf03d6274cfa59.png");
;// CONCATENATED MODULE: ./src/app/ui/components/avatar/stamps-avatar-icon.tsx




const stamps_avatar_icon_fallback = "ST";
function StampsAvatarIcon(props) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Avatar */.eu.Root, { ...props, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Avatar */.eu.Image, { alt: stamps_avatar_icon_fallback, src: stamps_avatar_icon }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Avatar */.eu.Fallback, { children: stamps_avatar_icon_fallback })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/collectibles/components/bitcoin/stamp.tsx





const stampChainAssetUrl = "https://stampchain.io/asset.html?stampNumber=";
function Stamp(props) {
  const { bitcoinStamp } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    CollectibleImage,
    {
      icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(StampsAvatarIcon, { size: "lg" }),
      onClickCallToAction: () => (0,open_in_new_tab/* openInNewTab */.V)(`${stampChainAssetUrl}${bitcoinStamp.stamp}`),
      src: bitcoinStamp.stamp_url,
      subtitle: "Bitcoin Stamp",
      title: `# ${bitcoinStamp.stamp}`
    },
    bitcoinStamp.stamp
  );
}

;// CONCATENATED MODULE: ./src/app/features/collectibles/components/bitcoin/stamps.tsx







function Stamps() {
  const currentAccountBtcAddress = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitAddressIndexZero */.s8)();
  const { data: stamps = [] } = (0,query_dist/* useStampsByAddress */.fA3)(currentAccountBtcAddress);
  (0,react.useEffect)(() => {
    if (!stamps.length) return;
    if (stamps.length > 0) {
      void analytics/* analytics */.zS.track("view_collectibles", {
        stamps_count: stamps.length
      });
      void analytics/* analytics */.zS.identify({ stamps_count: stamps.length });
    }
  }, [stamps]);
  if (!stamps.length) return null;
  return stamps.map((s) => /* @__PURE__ */ (0,jsx_runtime.jsx)(Stamp, { bitcoinStamp: s }, s.tx_hash));
}

;// CONCATENATED MODULE: ./src/app/features/collectibles/components/collectible.layout.tsx






function CollectiblesLayout({
  title,
  isLoading,
  onRefresh,
  subHeader,
  isLoadingMore,
  children
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { flexDirection: "row", justifyContent: "space-between", alignItems: "center", flex: 1, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { columnGap: "space.02", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.01", paddingY: "space.05", children: title }),
        isLoading ? /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Spinner */.y$, { color: (0,tokens/* token */.S)("colors.ink.text-primary"), opacity: 0.5 }) : /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* ArrowRotateRightLeftIcon */.Bm,
          {
            cursor: "pointer",
            onClick: () => onRefresh(),
            variant: "small"
          }
        )
      ] }),
      subHeader
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      jsx/* Grid */.xA,
      {
        gridTemplateColumns: {
          base: "repeat(auto-fill, minmax(156px, 1fr))",
          md: "repeat(auto-fill, minmax(184px, 1fr))"
        },
        children
      }
    ),
    isLoadingMore && /* @__PURE__ */ (0,jsx_runtime.jsx)(LoadingSpinner, {})
  ] });
}

;// CONCATENATED MODULE: ./public/assets/images/stacks-nft-bns.png
/* harmony default export */ const stacks_nft_bns = (__webpack_require__.p + "87928dc166bea43c53bcca551e2d11b7.png");
;// CONCATENATED MODULE: ./src/app/features/collectibles/components/stacks/stacks-bns-name.tsx





function StacksBnsName(props) {
  const { bnsName } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    CollectibleItemLayout,
    {
      collectibleTypeIcon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* StxAvatarIcon */.sC, { size: "lg" }),
      subtitle: "Bitcoin Naming System",
      title: bnsName,
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)("img", { alt: "nft image", src: stacks_nft_bns, width: "100px" })
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/collectibles/components/stacks/stacks-non-fungible-tokens.tsx






function StacksNonFungibleTokens({ metadata }) {
  const isImageAvailable = metadata.cached_image && (0,validate_url/* isValidUrl */.A)(metadata.cached_image);
  if (!isImageAvailable) return /* @__PURE__ */ (0,jsx_runtime.jsx)(ImageUnavailable, {});
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    CollectibleImage,
    {
      alt: "stacks nft",
      icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* StxAvatarIcon */.sC, { size: "lg" }),
      src: metadata.cached_image ?? "",
      subtitle: "Stacks NFT",
      title: metadata.name ?? ""
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/collectibles/components/stacks/stacks-crypto-assets.tsx








function StacksCryptoAssets({ address }) {
  const names = (0,query_dist/* useGetBnsNamesOwnedByAddressQuery */.H9m)(address).data?.names;
  const stacksNftsMetadataResp = (0,query_dist/* useStacksNonFungibleTokensMetadata */.Xxm)(address);
  (0,react.useEffect)(() => {
    if (stacksNftsMetadataResp.length > 0) {
      void analytics/* analytics */.zS.track("view_collectibles", {
        stacks_nfts_count: stacksNftsMetadataResp.length
      });
      void analytics/* analytics */.zS.identify({ stacks_nfts_count: stacksNftsMetadataResp.length });
    }
  }, [stacksNftsMetadataResp.length]);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    (names ?? []).map((name) => /* @__PURE__ */ (0,jsx_runtime.jsx)(StacksBnsName, { bnsName: (0,common_utils/* parseIfValidPunycode */.AH)(name) }, name)),
    stacksNftsMetadataResp.map((nft, i) => {
      if (!nft || !nft.metadata) return null;
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(StacksNonFungibleTokens, { metadata: nft.metadata }, i);
    })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/collectibles/components/taproot-balance-displayer.tsx










const taprootSpendNotSupportedYetMsg = `
  Total amount of BTC in your Taproot account addresses. Click to
  retrieve these funds.
`;
function TaprootBalanceDisplayer({ onSelectRetrieveBalance }) {
  const currentAccountIndex = (0,accounts_account/* useCurrentAccountIndex */.IR)();
  const account = (0,taproot_account_hooks/* useCurrentTaprootAccount */.R2)();
  const nativeSegwitSigner = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSigner */.sz)();
  const balance = (0,query_dist/* useCurrentTaprootAccountBalance */.vc$)({
    currentAccountIndex,
    taprootKeychain: account?.keychain,
    nativeSegwitAddress: nativeSegwitSigner.address
  });
  const isRecoverFeatureEnabled = (0,remote_config_query/* useRecoverUninscribedTaprootUtxosFeatureEnabled */.vE)();
  if (!isRecoverFeatureEnabled) return null;
  if (balance.amount.isLessThanOrEqualTo(0)) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(basic_tooltip/* BasicTooltip */.G, { label: taprootSpendNotSupportedYetMsg, asChild: true, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Link */.N_, { onClick: () => onSelectRetrieveBalance(), textStyle: "caption.01", variant: "text", children: (0,utils_dist/* formatMoney */.up)(balance) }) });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/@tanstack+react-query@5.51.23_react@18.3.1/node_modules/@tanstack/react-query/build/modern/useIsFetching.js
var useIsFetching = __webpack_require__(61825);
;// CONCATENATED MODULE: ./src/app/features/collectibles/hooks/use-is-fetching-collectibles.ts




function areAnyQueriesFetching(...args) {
  return (0,utils_dist/* sumNumbers */.Ye)(args).toNumber() > 0;
}
function useIsFetchingCollectiblesRelatedQuery() {
  const n1 = (0,useIsFetching/* useIsFetching */.C)({ queryKey: [query_dist/* BitcoinQueryPrefixes */.b2U.GetTaprootUtxosByAddress] });
  const n2 = (0,useIsFetching/* useIsFetching */.C)({ queryKey: [query_dist/* BitcoinQueryPrefixes */.b2U.GetInscriptionsByAddress] });
  const n3 = (0,useIsFetching/* useIsFetching */.C)({ queryKey: [query_dist/* BitcoinQueryPrefixes */.b2U.GetInscription] });
  const n4 = (0,useIsFetching/* useIsFetching */.C)({ queryKey: [query_dist/* BitcoinQueryPrefixes */.b2U.GetInscriptionTextContent] });
  const n5 = (0,useIsFetching/* useIsFetching */.C)({ queryKey: [query_dist/* BitcoinQueryPrefixes */.b2U.GetInscriptions] });
  const n6 = (0,useIsFetching/* useIsFetching */.C)({ queryKey: [query_dist/* StacksQueryPrefixes */.YjW.GetBnsNamesByAddress] });
  const n7 = (0,useIsFetching/* useIsFetching */.C)({ queryKey: [query_dist/* StacksQueryPrefixes */.YjW.GetNftMetadata] });
  return areAnyQueriesFetching(n1, n2, n3, n4, n5, n6, n7);
}

;// CONCATENATED MODULE: ./src/app/features/collectibles/collectibles.tsx

















function Collectibles() {
  const { whenWallet } = (0,use_wallet_type/* useWalletType */.t)();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const isNftMetadataEnabled = (0,remote_config_query/* useConfigNftMetadataEnabled */.qm)();
  const queryClient = (0,QueryClientProvider/* useQueryClient */.jE)();
  const isFetching = useIsFetchingCollectiblesRelatedQuery();
  const [isLoadingMore, setIsLoadingMore] = (0,react.useState)(false);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    CollectiblesLayout,
    {
      title: "Collectibles",
      subHeader: whenWallet({
        software: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          TaprootBalanceDisplayer,
          {
            onSelectRetrieveBalance: () => navigate(route_urls/* RouteUrls */.W.RetrieveTaprootFunds, {
              state: {
                backgroundLocation: { pathname: route_urls/* RouteUrls */.W.Home }
              }
            })
          }
        ),
        ledger: null
      }),
      isLoading: isFetching,
      isLoadingMore,
      onRefresh: () => void queryClient.refetchQueries({ type: "active" }),
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(CurrentBitcoinSignerLoader, { children: () => /* @__PURE__ */ (0,jsx_runtime.jsx)(AddCollectible, {}) }),
        isNftMetadataEnabled && /* @__PURE__ */ (0,jsx_runtime.jsx)(CurrentStacksAccountLoader, { children: (account) => /* @__PURE__ */ (0,jsx_runtime.jsx)(StacksCryptoAssets, { address: account?.address ?? "" }) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(CurrentBitcoinSignerLoader, { children: () => /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(Stamps, {}),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(Ordinals, { setIsLoadingMore })
        ] }) })
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/home/components/assets.tsx








function Assets() {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { "data-testid": HomePageSelectors.AssetList, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(AssetList, { filter: "enabled" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ManageTokens, {}),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Collectibles, {}),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
  ] });
}

;// CONCATENATED MODULE: ./src/app/routes/components/modal-background-wrapper.tsx




function ModalBackgroundWrapper({ children }) {
  const location = (0,react_router_dist/* useLocation */.zy)();
  const backgroundLocation = useLocationState("backgroundLocation");
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(react_router_dist/* Routes */.BV, { location: backgroundLocation || location, children: [
      children,
      /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: "*", element: /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {}) })
    ] }),
    backgroundLocation && /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
  ] });
}

;// CONCATENATED MODULE: ./src/app/common/hooks/use-scale-text.ts



function useScaleText() {
  const ref = (0,react.useRef)(null);
  (0,use_on_mount/* useOnMount */.y)(() => {
    const el = ref.current;
    if (el) {
      const parentWidth = el.parentElement?.offsetWidth || 0;
      const naturalWidth = el.scrollWidth;
      const scale = parentWidth / naturalWidth;
      const finalScale = Math.max(scale);
      el.style.transform = finalScale < 1 ? `scale(${finalScale})` : "none";
    }
  });
  return ref;
}

;// CONCATENATED MODULE: ./src/app/ui/components/account/account.card.tsx









function AccountCard({
  name,
  balance,
  toggleSwitchAccount,
  onShowBalance,
  children,
  isFetchingBnsName,
  isLoadingBalance,
  isLoadingAdditionalData,
  isBalancePrivate
}) {
  const scaleTextRef = useScaleText();
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Flex */.so,
    {
      direction: "column",
      border: { base: "active", sm: "unset" },
      rounded: "md",
      px: { base: "space.05", sm: "0" },
      pt: { base: "space.05", md: "0" },
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { flexDir: "row", justify: "space-between", align: "center", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* Link */.N_,
          {
            _before: { bg: "transparent" },
            _hover: { color: "ink.action-primary-hover" },
            "data-testid": settings_selectors/* SettingsSelectors */.i.SwitchAccountTrigger,
            onClick: toggleSwitchAccount,
            variant: "text",
            maxWidth: "fit-content",
            children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { children: [
              /* @__PURE__ */ (0,jsx_runtime.jsx)(
                AccountNameLayout,
                {
                  isLoading: isFetchingBnsName,
                  "data-testid": settings_selectors/* SettingsSelectors */.i.CurrentAccountDisplayName,
                  textStyle: "label.01",
                  children: name
                }
              ),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mt: "space.01", ml: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ChevronDownIcon */.D3, { variant: "small" }) })
            ] })
          }
        ) }),
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { flexDir: { base: "column", md: "row" }, justify: "space-between", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mb: "space.05", mt: "space.04", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SkeletonLoader */.jt, { width: "200px", height: "38px", isLoading: isLoadingBalance, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
            jsx/* styled */.I4.h1,
            {
              textStyle: "heading.02",
              "data-state": isLoadingAdditionalData ? "loading" : void 0,
              className: exports_web/* shimmerStyles */.cC,
              "data-testid": shared_component_selectors/* SharedComponentsSelectors */.s.AccountCardBalanceText,
              style: {
                whiteSpace: "nowrap",
                display: "inline-block",
                transformOrigin: "left center",
                maxWidth: "100%"
              },
              ref: scaleTextRef,
              children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
                private_text_layout/* PrivateTextLayout */.h,
                {
                  isPrivate: isBalancePrivate,
                  onShowValue: onShowBalance,
                  display: "inline-block",
                  overflow: "hidden",
                  children: balance
                }
              )
            }
          ) }) }),
          children
        ] })
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/home/components/send-button.tsx













function SendButtonSuspense() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const { whenWallet } = (0,use_wallet_type/* useWalletType */.t)();
  const btcAddress = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSignerNullable */.r9)()?.address;
  const stxAddress = (0,stacks_account_hooks/* useCurrentStacksAccountAddress */.$3)();
  const { filteredBalanceQuery } = (0,query_dist/* useStxCryptoAssetBalance */.szK)(stxAddress);
  const stacksFtAssets = (0,query_dist/* useTransferableSip10Tokens */.Y2h)(stxAddress);
  const isDisabled = !btcAddress && !filteredBalanceQuery.data && stacksFtAssets?.length === 0;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* IconButton */.K0,
    {
      "data-testid": HomePageSelectors.SendCryptoAssetBtn,
      label: "Send",
      icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* PaperPlaneIcon */.m, {}),
      onClick: () => whenWallet({
        ledger: () => (0,common_utils/* whenPageMode */.ty)({
          full: () => navigate(route_urls/* RouteUrls */.W.SendCryptoAsset),
          popup: () => (0,open_in_new_tab/* openIndexPageInNewTab */.W)(route_urls/* RouteUrls */.W.SendCryptoAsset)
        })(),
        software: () => navigate(route_urls/* RouteUrls */.W.SendCryptoAsset)
      })(),
      disabled: isDisabled
    }
  );
}
const SendButtonFallback = (0,react.memo)(() => /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* IconButton */.K0, { label: "Send", icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* PaperPlaneIcon */.m, {}), disabled: true }));
function SendButton() {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Suspense, { fallback: /* @__PURE__ */ (0,jsx_runtime.jsx)(SendButtonFallback, {}), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(SendButtonSuspense, {}) });
}

;// CONCATENATED MODULE: ./src/app/pages/home/components/swaps-disabled-tooltip-label.tsx




function SwapsDisabledTooltipLabel() {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "0", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "caption.01", children: "Swaps temporarily disabled" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      exports_web/* Link */.N_,
      {
        href: "https://leather.io/guides/integrated-swap-disabled",
        target: "_blank",
        color: "ink.background-primary",
        width: "fit-content",
        children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "caption.01", children: "Learn more" })
      }
    )
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/home/components/account-actions.tsx
















function AccountActions() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const location = (0,react_router_dist/* useLocation */.zy)();
  const isBitcoinEnabled = (0,remote_config_query/* useConfigBitcoinEnabled */.jX)();
  const stacksAccount = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const currentBtcSigner = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSignerNullable */.r9)();
  const btcAccount = currentBtcSigner?.address;
  const currentNetwork = (0,networks_selectors/* useCurrentNetwork */.Rm)();
  const swapsEnabled = (0,remote_config_query/* useConfigSwapsEnabled */.N5)();
  const swapsBtnDisabled = !swapsEnabled || !stacksAccount;
  const receivePath = isBitcoinEnabled ? route_urls/* RouteUrls */.W.Receive : `${route_urls/* RouteUrls */.W.Home}${route_urls/* RouteUrls */.W.ReceiveStx}`;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { gap: { base: "space.01", md: "space.04" }, py: "space.04", justifyContent: "space-between", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(SendButton, {}),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      exports_web/* IconButton */.K0,
      {
        "data-testid": HomePageSelectors.ReceiveCryptoAssetBtn,
        icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* InboxIcon */.K$, {}),
        label: "Receive",
        onClick: () => navigate(receivePath, { state: { backgroundLocation: location } })
      }
    ),
    (!!stacksAccount || !!btcAccount) && /* @__PURE__ */ (0,jsx_runtime.jsx)(
      exports_web/* IconButton */.K0,
      {
        "data-testid": HomePageSelectors.FundAccountBtn,
        icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CreditCardIcon */.BF, {}),
        label: "Buy",
        onClick: () => navigate(route_urls/* RouteUrls */.W.FundChooseCurrency)
      }
    ),
    (0,stacks_dist/* whenStacksChainId */.Yd)(currentNetwork.chain.stacks.chainId)({
      [esm_constants/* ChainID */.n_.Mainnet]: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        basic_tooltip/* BasicTooltip */.G,
        {
          label: swapsEnabled ? "" : /* @__PURE__ */ (0,jsx_runtime.jsx)(SwapsDisabledTooltipLabel, {}),
          side: "left",
          asChild: true,
          children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { display: "flex", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
            exports_web/* IconButton */.K0,
            {
              "data-testid": HomePageSelectors.SwapBtn,
              disabled: swapsBtnDisabled,
              icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ArrowsRepeatLeftRightIcon */.u, {}),
              label: "Swap",
              onClick: () => navigate(route_urls/* RouteUrls */.W.Swap.replace(":base", "STX").replace(":quote", ""))
            }
          ) })
        }
      ),
      [esm_constants/* ChainID */.n_.Testnet]: null
    })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/home/components/home-tabs.tsx








function HomeTabs({ children }) {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const location = (0,react_router_dist/* useLocation */.zy)();
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { flexGrow: 1, mt: { base: 0, md: "space.05" }, gap: "space.06", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Tabs */.tU.Root, { onValueChange: (slug) => navigate(slug), defaultValue: location.pathname, children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Tabs */.tU.List, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Tabs */.tU.Trigger, { "data-testid": "tab-assets", value: route_urls/* RouteUrls */.W.Home, children: "Assets" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Tabs */.tU.Trigger, { "data-testid": "tab-activity", value: route_urls/* RouteUrls */.W.Activity, children: "Activity" })
    ] }) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Suspense, { fallback: /* @__PURE__ */ (0,jsx_runtime.jsx)(LoadingSpinner, { pb: "72px" }), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { px: { base: "space.05", md: 0 }, width: "100%", children }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/home/home.tsx

























function Home() {
  const { decodedAuthRequest } = (0,use_onboarding_state/* useOnboardingState */.E)();
  const { toggleSwitchAccount } = (0,use_switch_account_sheet_context/* useSwitchAccountSheet */.A)();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const account = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const currentAccountIndex = (0,accounts_account/* useCurrentAccountIndex */.IR)();
  const isPrivateMode = (0,settings_settings_selectors/* useIsPrivateMode */.cT)();
  const togglePrivateMode = (0,settings_actions/* useTogglePrivateMode */.Mz)();
  const { data: name = "", isFetching: isFetchingBnsName } = (0,use_account_names/* useAccountDisplayName */.o)({
    address: account?.address || "",
    index: currentAccountIndex || 0
  });
  const btcAddress = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitAddressIndexZero */.s8)();
  const { totalUsdBalance, isLoading, isLoadingAdditionalData } = useTotalBalance({
    btcAddress,
    stxAddress: account?.address || ""
  });
  (0,use_on_mount/* useOnMount */.y)(() => {
    if (decodedAuthRequest) navigate(route_urls/* RouteUrls */.W.ChooseAccount);
  });
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Stack */.BJ,
    {
      "data-testid": HomePageSelectors.HomePageContainer,
      px: { base: 0, md: "space.05" },
      py: { base: 0, md: "space.07" },
      gap: { base: 0, md: "space.06" },
      width: "100%",
      bg: "ink.1",
      borderRadius: "lg",
      animation: "fadein",
      animationDuration: "500ms",
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { px: { base: "space.05", md: 0 }, pb: { base: "space.05", md: 0 }, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          AccountCard,
          {
            name,
            balance: totalUsdBalance,
            toggleSwitchAccount: () => toggleSwitchAccount(),
            isFetchingBnsName,
            isLoadingBalance: isLoading,
            isLoadingAdditionalData,
            isBalancePrivate: isPrivateMode,
            onShowBalance: togglePrivateMode,
            children: /* @__PURE__ */ (0,jsx_runtime.jsx)(AccountActions, {})
          }
        ) }),
        (0,common_utils/* whenPageMode */.ty)({ full: /* @__PURE__ */ (0,jsx_runtime.jsx)(FeedbackButton, {}), popup: null }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(HomeTabs, { children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(ModalBackgroundWrapper, { children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { index: true, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(Assets, {}) }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.Activity, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(ActivityList, {}), children: homePageModalRoutes }),
          homePageModalRoutes
        ] }) })
      ]
    }
  );
}

// EXTERNAL MODULE: ./src/app/features/container/headers/onboarding.header.tsx
var onboarding_header = __webpack_require__(78924);
// EXTERNAL MODULE: ./tests/selectors/onboarding.selectors.ts
var onboarding_selectors = __webpack_require__(52422);
;// CONCATENATED MODULE: ./src/app/ui/components/secret-key/secret-key-grid.tsx



function SecretKeyGrid({ children }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* Grid */.xA,
    {
      gridTemplateColumns: {
        base: "repeat(1, minmax(160px, 1fr))",
        md: "repeat(2, minmax(170px, 1fr))",
        lg: "repeat(3, minmax(170px, 1fr))"
      },
      rowGap: "space.03",
      columnGap: "space.03",
      children
    }
  );
}

;// CONCATENATED MODULE: ./src/app/ui/components/secret-key/secret-key-word.tsx




function SecretKeyWord({ word, num }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Flex */.so,
    {
      height: "3rem",
      width: "100%",
      gap: "space.01",
      px: "space.03",
      bg: "ink.component-background-default",
      borderRadius: "xs",
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.span, { display: "flex", alignItems: "center", mr: "space.01", color: "ink.text-subdued", children: [
          num,
          "."
        ] }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          jsx/* styled */.I4.span,
          {
            display: "flex",
            alignItems: "center",
            color: "ink.text-primary",
            "data-testid": onboarding_selectors/* OnboardingSelectors */.I.SecretKey,
            children: word
          }
        )
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/ui/components/secret-key/secret-key.layout.tsx









function SecretKeyLayout({
  hasCopied,
  onCopyToClipboard,
  onBackedUpSecretKey,
  secretKeyWords
}) {
  const [showSecretKey, setShowSecretKey] = (0,react.useState)(false);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.05", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(SecretKeyGrid, { children: secretKeyWords?.map((word, index) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      SecretKeyWord,
      {
        word: showSecretKey ? word : "*".repeat(word.length),
        num: index + 1
      },
      word
    )) }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { gap: "space.04", direction: { base: "column", md: "row" }, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* Button */.$n,
        {
          fullWidth: true,
          variant: "outline",
          flex: "1",
          display: "flex",
          p: "space.03",
          justifyContent: "center",
          alignItems: "center",
          "data-testid": settings_selectors/* SettingsSelectors */.i.ShowSecretKeyBtn,
          onClick: () => setShowSecretKey(!showSecretKey),
          children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { children: [
            showSecretKey ? /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Eye1ClosedIcon */.y6, {}) : /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Eye1Icon */.cd, {}),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.02", children: showSecretKey ? "Hide key" : "Show key" })
          ] })
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* Button */.$n,
        {
          fullWidth: true,
          variant: "outline",
          flex: "1",
          display: "flex",
          p: "space.03",
          justifyContent: "center",
          alignItems: "center",
          "data-testid": settings_selectors/* SettingsSelectors */.i.CopyKeyToClipboardBtn,
          onClick: !hasCopied ? onCopyToClipboard : void 0,
          children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CopyIcon */.Td, {}),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.p, { textStyle: "body.02", children: !hasCopied ? " Copy" : "Copied!" })
          ] })
        }
      )
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      exports_web/* Button */.$n,
      {
        width: "100%",
        "data-testid": onboarding_selectors/* OnboardingSelectors */.I.BackUpSecretKeyBtn,
        onClick: onBackedUpSecretKey,
        variant: "solid",
        children: "I've backed it up"
      }
    )
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/secret-key-displayer/secret-key-displayer.tsx








const SecretKey = (0,react.memo)(({ secretKey }) => {
  const { onCopy, hasCopied } = useClipboard(secretKey || "");
  const { pathname } = (0,react_router_dist/* useLocation */.zy)();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const copyToClipboard = () => {
    void analytics/* analytics */.zS.track("copy_secret_key_to_clipboard");
    onCopy();
  };
  const secretKeyWords = (0,react.useMemo)(() => secretKey?.split(" "), [secretKey]);
  const showTitleAndIllustration = pathname === route_urls/* RouteUrls */.W.BackUpSecretKey;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      SecretKeyLayout,
      {
        hasCopied,
        onCopyToClipboard: copyToClipboard,
        secretKeyWords,
        showTitleAndIllustration,
        onBackedUpSecretKey: () => navigate(route_urls/* RouteUrls */.W.SetPassword)
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
  ] });
});

// EXTERNAL MODULE: ./src/app/store/in-memory-key/in-memory-key.selectors.ts
var in_memory_key_selectors = __webpack_require__(90236);
;// CONCATENATED MODULE: ./src/app/pages/onboarding/back-up-secret-key/back-up-secret-key.tsx











const BackUpSecretKeyPage = (0,react.memo)(() => {
  const secretKey = (0,in_memory_key_selectors/* useDefaultWalletSecretKey */.DA)();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  (0,react.useEffect)(() => {
    if (!secretKey) navigate(route_urls/* RouteUrls */.W.Onboarding);
  }, [navigate, secretKey]);
  if (!secretKey) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(onboarding_header/* OnboardingHeader */.r, {}),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Content */.UC, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
      layout/* TwoColumnLayout */.Jm,
      {
        title: "Back up your Secret Key",
        content: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: "You'll need it to access your wallet on a new device, or this one if you lose your password \u2014 so back it up somewhere safe!" }),
        action: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.05", mt: "space.04", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* KeyIcon */.RY, {}),
            /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.span, { textStyle: "caption.01", children: [
              "Your Secret Key gives ",
              /* @__PURE__ */ (0,jsx_runtime.jsx)("br", {}),
              " access to your wallet"
            ] })
          ] }),
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Eye1ClosedIcon */.y6, {}),
            /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.span, { textStyle: "caption.01", children: [
              "Never share your ",
              /* @__PURE__ */ (0,jsx_runtime.jsx)("br", {}),
              " Secret Key with anyone"
            ] })
          ] }),
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* LockIcon */.XA, {}),
            /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.span, { textStyle: "caption.01", children: [
              "Store it somewhere ",
              /* @__PURE__ */ (0,jsx_runtime.jsx)("br", {}),
              " 100% private and secure"
            ] })
          ] })
        ] }),
        children: /* @__PURE__ */ (0,jsx_runtime.jsx)(SecretKey, { secretKey })
      }
    ) })
  ] });
});

// EXTERNAL MODULE: ./node_modules/.pnpm/@scure+bip39@1.4.0/node_modules/@scure/bip39/esm/index.js + 1 modules
var esm = __webpack_require__(14560);
// EXTERNAL MODULE: ./node_modules/.pnpm/@scure+bip39@1.4.0/node_modules/@scure/bip39/esm/wordlists/english.js
var english = __webpack_require__(87689);
// EXTERNAL MODULE: ./src/app/store/onboarding/onboarding.hooks.ts + 1 modules
var onboarding_hooks = __webpack_require__(93611);
;// CONCATENATED MODULE: ./src/app/pages/onboarding/sign-in/hooks/use-sign-in.ts












async function simulateShortDelayToAvoidImmediateNavigation() {
  await (0,utils_dist/* delay */.cb)(600);
}
function useSignIn() {
  const [error, setError] = (0,onboarding_hooks/* useSeedInputErrorState */.g)();
  const [isKeyMasked, setIsKeyMasked] = (0,react.useState)(true);
  const { isLoading, setIsLoading, setIsIdle } = useLoading("useSignIn");
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const textAreaRef = (0,react.useRef)(null);
  const dispatch = (0,store/* useAppDispatch */.jL)();
  const handleSetError = (0,react.useCallback)(
    (message = "Incorrect Secret Key. Make sure it is 12 or 24 words with spaces between words.") => {
      setError(message);
      setIsIdle();
      void analytics/* analytics */.zS.track("submit_invalid_secret_key");
      return;
    },
    [setError, setIsIdle]
  );
  const submitMnemonicForm = (0,react.useCallback)(
    async (passedValue) => {
      setIsLoading();
      const parsedKeyInput = passedValue ? passedValue.trim() : "";
      if (parsedKeyInput.length === 0) {
        handleSetError("Entering your Secret Key is required.");
      }
      if (!(0,esm/* validateMnemonic */.JB)(parsedKeyInput, english/* wordlist */.p)) {
        handleSetError();
        return;
      }
      await simulateShortDelayToAvoidImmediateNavigation();
      dispatch(in_memory_key_actions/* inMemoryKeyActions */.b.setDefaultKey(parsedKeyInput));
      void analytics/* analytics */.zS.track("submit_valid_secret_key");
      navigate(route_urls/* RouteUrls */.W.SetPassword);
      setIsIdle();
    },
    [setIsLoading, dispatch, navigate, setIsIdle, handleSetError]
  );
  const toggleKeyMask = (0,react.useCallback)(() => {
    setIsKeyMasked((prev) => !prev);
  }, []);
  (0,react.useEffect)(
    () => () => {
      setError(void 0);
      setIsIdle();
    },
    // setIsIdle update change not desired
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [setError]
  );
  return {
    submitMnemonicForm,
    ref: textAreaRef,
    error,
    isLoading,
    toggleKeyMask,
    isKeyMasked
  };
}

;// CONCATENATED MODULE: ./src/app/common/form-utils.ts


function useIsFieldDirty(name) {
  const [field, meta] = (0,formik_esm/* useField */.Mt)(name);
  return field.value !== meta.initialValue;
}
function useShowFieldError(name) {
  const form = (0,formik_esm/* useFormikContext */.j7)();
  const [_, meta] = (0,formik_esm/* useField */.Mt)(name);
  const isDirty = useIsFieldDirty(name);
  const isFieldInFocus = document.activeElement?.getAttribute("name") === name;
  return !!(form.submitCount > 0 && meta.error || !isFieldInFocus && meta.touched && isDirty && meta.error);
}

;// CONCATENATED MODULE: ./src/app/ui/components/secret-key/mnemonic-key/mnemonic-word-input.tsx







function MnemonicWordInput({
  fieldNumber,
  value,
  onUpdateWord,
  onPasteEntireKey
}) {
  const name = `${fieldNumber}`;
  const [field, meta] = (0,formik_esm/* useField */.Mt)(name);
  const [isFocused, setIsFocused] = (0,react.useState)(false);
  const isDirty = useIsFieldDirty(name);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Input */.pd.Root, { hasError: isDirty && !!meta.error, shrink: !!value, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      exports_web/* Input */.pd.Field,
      {
        autoCapitalize: "off",
        autoComplete: "off",
        spellCheck: false,
        "data-testid": `mnemonic-input-${fieldNumber}`,
        id: name,
        type: isFocused ? "text" : "password",
        onFocus: () => setIsFocused(!isFocused),
        ...field,
        value: value || field.value || "",
        onChangeCapture: (e) => {
          e.preventDefault();
          onUpdateWord(e.target.value);
        },
        onBlurCapture: () => setIsFocused(!isFocused),
        onPaste: (e) => {
          const pasteValue = (0,utils_dist/* extractPhraseFromString */.M4)(e.clipboardData.getData("text"));
          if (pasteValue.includes(" ")) {
            e.preventDefault();
            onPasteEntireKey(pasteValue);
          }
        }
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Input */.pd.Label, { children: [
      "Word ",
      fieldNumber
    ] })
  ] });
}

;// CONCATENATED MODULE: ./src/app/ui/components/secret-key/mnemonic-key/utils/error-handling.ts

function hasMnemonicFormValues(values) {
  return Object.values(values).filter((value) => value !== "").length > 0;
}
function getMnemonicErrorMessage(mnemonicErrorFields) {
  return mnemonicErrorFields.length > 1 ? `Words ${mnemonicErrorFields.toString().replace(/,(?=[^,]+$)/, " and")} are incorrect or misspelled` : `Word ${mnemonicErrorFields} is incorrect or misspelled`;
}
function getMnemonicErrorFields(errors, touched, values) {
  return Object.keys(errors).filter(
    (fieldNumber) => fieldNumber !== void 0 && touched[fieldNumber] && values[fieldNumber] !== ""
  ).sort((a, b) => +a - +b).map((fieldNumber) => ` ${fieldNumber}`);
}

;// CONCATENATED MODULE: ./src/app/ui/components/secret-key/mnemonic-key/utils/validation.ts



function isValidMnemonic(word) {
  return english/* wordlist */.p.includes(word);
}
function mapRules(map, rule) {
  return Object.keys(map).reduce((newMap, key) => ({ ...newMap, [key]: rule }), {});
}
const dynamicObjectValue = yup_index_esm/* string */.Yj().test({
  test(value) {
    if (!value) return false;
    return isValidMnemonic(value);
  }
});
const validationSchema = yup_index_esm/* lazy */.RZ(
  (map) => yup_index_esm/* object */.Ik(mapRules(map, dynamicObjectValue))
);

;// CONCATENATED MODULE: ./src/app/pages/onboarding/sign-in/mnemonic-form.tsx













function MnemonicForm({ mnemonic, setMnemonic, twentyFourWordMode }) {
  const { submitMnemonicForm, error, isLoading } = useSignIn();
  function mnemonicWordUpdate(index, word) {
    const newMnemonic = [...mnemonic];
    newMnemonic[index] = word;
    setMnemonic(newMnemonic);
  }
  function updateEntireKey(key, setFieldValue) {
    const newKey = key.split(" ");
    newKey.map((index, value) => setFieldValue(`${index + 1}`, value));
    setMnemonic(newKey);
    void submitMnemonicForm(key);
  }
  function handleSubmit() {
    return void submitMnemonicForm(mnemonic.join(" "));
  }
  const mnemonicFieldArray = mnemonic ? mnemonic : (0,utils_dist/* createNullArrayOfLength */.aC)(twentyFourWordMode ? 24 : 12);
  const initialValues = mnemonicFieldArray.reduce(
    (accumulator, _, index) => (accumulator[`${index + 1}`] = "", accumulator),
    {}
  );
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    formik_esm/* Formik */.l1,
    {
      initialValues,
      onSubmit: handleSubmit,
      validationSchema: validationSchema,
      validateOnBlur: true,
      validateOnChange: true,
      children: ({ errors, touched, setFieldValue, values, isValid }) => {
        const hasFormValues = hasMnemonicFormValues(values);
        const mnemonicErrorFields = getMnemonicErrorFields(errors, touched, values);
        const showMnemonicErrors = !(0,utils_dist/* isEmpty */.Im)(mnemonicErrorFields) && hasFormValues;
        const mnemonicErrorMessage = getMnemonicErrorMessage(mnemonicErrorFields);
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(formik_esm/* Form */.lV, { children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.05", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(SecretKeyGrid, { children: mnemonicFieldArray.map((_, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
            MnemonicWordInput,
            {
              fieldNumber: i + 1,
              value: mnemonic[i] || "",
              onPasteEntireKey: (key) => {
                document.activeElement.blur();
                updateEntireKey(key, setFieldValue);
              },
              onUpdateWord: (w) => mnemonicWordUpdate(i, w)
            },
            i
          )) }),
          (showMnemonicErrors || error) && /* @__PURE__ */ (0,jsx_runtime.jsx)(ErrorLabel, { "data-testid": onboarding_selectors/* OnboardingSelectors */.I.SignInSeedError, children: showMnemonicErrors ? mnemonicErrorMessage : error }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            exports_web/* Button */.$n,
            {
              "data-testid": onboarding_selectors/* OnboardingSelectors */.I.SignInBtn,
              "aria-disabled": isLoading || showMnemonicErrors,
              disabled: (0,utils_dist/* isEmpty */.Im)(touched) || !isValid || !hasFormValues,
              "aria-busy": isLoading,
              width: "100%",
              type: "submit",
              variant: "solid",
              onClick: (e) => {
                e.preventDefault();
                return handleSubmit();
              },
              children: "Continue"
            }
          )
        ] }) });
      }
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/onboarding/sign-in/sign-in.tsx








function SignIn() {
  const [twentyFourWordMode, setTwentyFourWordMode] = (0,react.useState)(true);
  const [mnemonic, setMnemonic] = (0,react.useState)([]);
  (0,react.useEffect)(() => {
    const emptyMnemonicArray = twentyFourWordMode ? (0,utils_dist/* createNullArrayOfLength */.aC)(24) : (0,utils_dist/* createNullArrayOfLength */.aC)(12);
    setMnemonic(emptyMnemonicArray);
  }, [twentyFourWordMode]);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(onboarding_header/* OnboardingHeader */.r, {}),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Content */.UC, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
      layout/* TwoColumnLayout */.Jm,
      {
        title: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
          "Sign in ",
          /* @__PURE__ */ (0,jsx_runtime.jsx)("br", {}),
          " with your ",
          /* @__PURE__ */ (0,jsx_runtime.jsx)("br", {}),
          " Secret Key"
        ] }),
        content: "Speed things up by pasting your entire Secret Key in one go.",
        action: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* Link */.N_,
          {
            onClick: () => setTwentyFourWordMode(!twentyFourWordMode),
            textStyle: "label.03",
            width: "fit-content",
            variant: "text",
            children: twentyFourWordMode ? "Have a 12-word Secret Key?" : "Use 24 word Secret Key"
          }
        ),
        children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          MnemonicForm,
          {
            mnemonic,
            setMnemonic,
            twentyFourWordMode
          }
        )
      }
    ) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/onboarding/welcome/welcome.layout.tsx






function WelcomeLayout({
  isGeneratingWallet,
  onStartOnboarding,
  onSelectConnectLedger,
  onRestoreWallet
}) {
  const { theme } = (0,theme_provider/* useThemeSwitcher */.kW)();
  const inkBgSecondary = "#F5F1ED";
  const inkTextPrimary = "#12100F";
  const primaryActionButton = {
    p: "space.03",
    minWidth: "148px",
    bg: {
      base: inkBgSecondary,
      md: theme === "light" ? inkBgSecondary : inkTextPrimary
    },
    color: {
      base: inkTextPrimary,
      md: theme === "light" ? inkTextPrimary : inkBgSecondary
    },
    _hover: {
      bg: "ink.action-primary-hover",
      color: theme === "light" ? inkBgSecondary : inkTextPrimary
    }
  };
  const secondaryActionButton = {
    p: "space.03",
    minWidth: "148px",
    color: { base: inkBgSecondary, md: theme === "light" ? inkBgSecondary : inkTextPrimary },
    border: `1px solid ${inkBgSecondary}`,
    borderColor: { base: inkBgSecondary, md: theme === "light" ? inkBgSecondary : inkTextPrimary },
    _hover: {
      bg: "ink.action-primary-hover",
      color: "ink.background-secondary"
    }
  };
  const tagline = "Bitcoin for the rest of us";
  const taglineExtended = "The bitcoin wallet for the rest of us";
  const subheader = "Leather is the only Bitcoin wallet you need to tap into the emerging Bitcoin economy";
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { flexDir: { base: "column-reverse", md: "row" }, minW: "100vw", minH: "100vh", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(
      jsx/* Flex */.so,
      {
        flexDir: "column",
        bg: { base: inkTextPrimary, md: "ink.text-primary" },
        flex: { base: 1, md: 2 },
        p: "space.05",
        children: [
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(
            jsx/* Flex */.so,
            {
              flexDir: "column",
              flex: { base: 1, md: 0 },
              justifyContent: { base: "end", md: "flex-start" },
              color: { base: inkBgSecondary, md: "ink.background-primary" },
              children: [
                /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.h1, { hideBelow: "md", textStyle: "display.01", maxWidth: "880px", children: tagline }),
                /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.h1, { hideFrom: "md", textStyle: "heading.03", maxWidth: "880px", children: taglineExtended }),
                /* @__PURE__ */ (0,jsx_runtime.jsx)(
                  jsx/* styled */.I4.h2,
                  {
                    textStyle: { base: "label.01", md: "heading.04" },
                    mt: { base: "space.02", md: "space.07" },
                    maxW: "556px",
                    children: subheader
                  }
                )
              ]
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { flexDir: { base: "column", md: "row" }, gap: "space.04", mt: "space.07", width: "100%", children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(
              exports_web/* Button */.$n,
              {
                onClick: onStartOnboarding,
                "data-testid": onboarding_selectors/* OnboardingSelectors */.I.SignUpBtn,
                "aria-busy": isGeneratingWallet,
                css: primaryActionButton,
                children: "Create new wallet"
              }
            ),
            /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { gap: "space.04", children: [
              /* @__PURE__ */ (0,jsx_runtime.jsx)(
                exports_web/* Button */.$n,
                {
                  variant: "outline",
                  flex: 1,
                  onClick: onRestoreWallet,
                  css: secondaryActionButton,
                  "data-testid": onboarding_selectors/* OnboardingSelectors */.I.SignInLink,
                  fullWidth: true,
                  children: "Use existing key"
                }
              ),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(
                exports_web/* Button */.$n,
                {
                  variant: "outline",
                  flex: 1,
                  onClick: onSelectConnectLedger,
                  css: secondaryActionButton,
                  fullWidth: true,
                  children: "Use Ledger"
                }
              )
            ] })
          ] })
        ]
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(
      jsx/* Flex */.so,
      {
        p: "space.05",
        bg: { base: inkTextPrimary, md: "ink.background-secondary" },
        color: { base: inkBgSecondary, md: "ink.text-primary" },
        flexDir: "column",
        justifyContent: "space-between",
        flex: { base: 0, md: 1 },
        children: [
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { justifyContent: "space-between", children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* LeatherLogomarkIcon */.$d, { height: 34, width: 150 }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Link */.N_, { href: "https://leather.io/", hideBelow: "md", variant: "text", children: "leather.io" })
          ] }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { hideBelow: "md", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* LeatherLettermarkIcon */.Gz, { height: "auto", width: "100%" }) })
        ]
      }
    )
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/onboarding/welcome/welcome.tsx












function WelcomePage() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const { decodedAuthRequest } = (0,use_onboarding_state/* useOnboardingState */.E)();
  const keyActions = (0,use_key_actions/* useKeyActions */.M)();
  const [isGeneratingWallet, setIsGeneratingWallet] = (0,react.useState)(false);
  const startOnboarding = (0,react.useCallback)(async () => {
    if ((0,common_utils/* isPopupMode */.GD)()) {
      (0,open_in_new_tab/* openIndexPageInNewTab */.W)(route_urls/* RouteUrls */.W.Onboarding);
      (0,utils/* closeWindow */.Do)();
      return;
    }
    setIsGeneratingWallet(true);
    await keyActions.signOut();
    keyActions.generateWalletKey();
    void analytics/* analytics */.zS.track("generate_new_secret_key");
    if (decodedAuthRequest) {
      navigate(route_urls/* RouteUrls */.W.SetPassword);
    }
    navigate(route_urls/* RouteUrls */.W.BackUpSecretKey);
  }, [keyActions, decodedAuthRequest, navigate]);
  (0,react.useEffect)(() => {
    return () => setIsGeneratingWallet(false);
  }, []);
  const pageModeRoutingAction = (url) => (0,common_utils/* whenPageMode */.ty)({
    full() {
      navigate(url);
    },
    popup() {
      void (0,open_in_new_tab/* openIndexPageInNewTab */.W)(url);
      (0,utils/* closeWindow */.Do)();
    }
  });
  const supportsWebUsbAction = pageModeRoutingAction(
    route_urls/* RouteUrls */.W.Onboarding + "/" + route_urls/* RouteUrls */.W.ConnectLedgerStart
  );
  const doesNotSupportWebUsbAction = pageModeRoutingAction(
    route_urls/* RouteUrls */.W.Onboarding + "/" + route_urls/* RouteUrls */.W.LedgerUnsupportedBrowser
  );
  const restoreWallet = pageModeRoutingAction(route_urls/* RouteUrls */.W.SignIn);
  const onSelectConnectLedger = (0,react.useCallback)(async () => {
    await keyActions.signOut();
    if ((0,common_utils/* doesBrowserSupportWebUsbApi */.JY)()) {
      supportsWebUsbAction();
    } else {
      doesNotSupportWebUsbAction();
    }
  }, [doesNotSupportWebUsbAction, keyActions, supportsWebUsbAction]);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      WelcomeLayout,
      {
        isGeneratingWallet,
        onSelectConnectLedger,
        onStartOnboarding: () => startOnboarding(),
        onRestoreWallet: () => restoreWallet()
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
  ] });
}

;// CONCATENATED MODULE: ./src/app/common/utils/copy-to-clipboard.ts

async function copy_to_clipboard_copyToClipboard(text) {
  await navigator.clipboard.writeText(text);
}

;// CONCATENATED MODULE: ./src/app/routes/hooks/use-background-location-redirect.ts





function useBackgroundLocationRedirect(baseUrl = route_urls/* RouteUrls */.W.Home) {
  const { pathname, state, search } = (0,react_router_dist/* useLocation */.zy)();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const backgroundLocation = useLocationState("backgroundLocation");
  (0,react.useEffect)(() => {
    void (async () => {
      if (backgroundLocation === void 0) {
        return navigate(
          { pathname, search },
          {
            state: { backgroundLocation: { pathname: baseUrl }, ...state }
          }
        );
      }
      return false;
    })();
  }, [backgroundLocation, baseUrl, navigate, pathname, state, search]);
}

// EXTERNAL MODULE: ./node_modules/.pnpm/react-qr-code@2.0.12_react-native-svg@15.8.0_react-native@0.74.1_@babel+core@7.25.8_@babel+pr_uvw2zbzih2g6hmpytmgmka6v3e/node_modules/react-qr-code/lib/index.js
var react_qr_code_lib = __webpack_require__(17438);
;// CONCATENATED MODULE: ./src/app/pages/receive/components/receive-tokens.layout.tsx










function ReceiveTokensLayout(props) {
  useBackgroundLocationRedirect();
  const { address, accountName, onCopyAddressToClipboard, title, warning } = props;
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const backgroundLocation = useLocationState("backgroundLocation");
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    exports_web/* Sheet */.cj,
    {
      header: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* SheetHeader */.YJ,
        {
          variant: "large",
          title: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
            "Receive ",
            /* @__PURE__ */ (0,jsx_runtime.jsx)("br", {}),
            " ",
            title
          ] }),
          onClose: () => navigate(backgroundLocation ?? "..")
        }
      ),
      isShowing: true,
      onClose: () => navigate(backgroundLocation ?? ".."),
      footer: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { fullWidth: true, onClick: () => onCopyAddressToClipboard(address), children: "Copy address" }),
      children: [
        warning && warning,
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(
          jsx/* Flex */.so,
          {
            alignItems: "center",
            flexDirection: "column",
            pb: ["space.05", "space.08"],
            px: "space.05",
            style: { marginBottom: (0,tokens/* token */.S)("sizes.footerHeight") },
            children: [
              /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mt: "space.06", mx: "auto", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { alignItems: "center", justifyContent: "center", mx: "auto", position: "relative", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
                react_qr_code_lib/* default */.Ay,
                {
                  bgColor: (0,tokens/* token */.S)("colors.ink.background-primary"),
                  fgColor: (0,tokens/* token */.S)("colors.ink.text-primary"),
                  size: 132,
                  style: { height: "auto", maxWidth: "100%", width: "100%" },
                  value: address,
                  viewBox: `0 0 132 132`
                }
              ) }) }),
              /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { alignItems: "center", flexDirection: "column", children: [
                accountName && /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { mt: "space.05", textStyle: "label.01", children: accountName }),
                /* @__PURE__ */ (0,jsx_runtime.jsx)(
                  jsx/* Flex */.so,
                  {
                    "data-testid": shared_component_selectors/* SharedComponentsSelectors */.s.AddressDisplayer,
                    flexWrap: "wrap",
                    justifyContent: "center",
                    maxWidth: "300px",
                    mt: "space.04",
                    children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* AddressDisplayer */._Q, { address })
                  }
                )
              ] })
            ]
          }
        )
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/receive/receive-btc.tsx











function ReceiveBtcModal({ type = "btc" }) {
  useBackgroundLocationRedirect();
  const { state } = (0,react_router_dist/* useLocation */.zy)();
  const toast = (0,use_toast/* useToast */.d)();
  const currentAccountIndex = (0,accounts_account/* useCurrentAccountIndex */.IR)();
  const accountIndex = lodash_get_default()(state, "accountIndex", currentAccountIndex);
  const activeAccountBtcAddress = (0,native_segwit_account_hooks/* useNativeSegwitAccountIndexAddressIndexZero */.b8)(accountIndex);
  const btcAddress = lodash_get_default()(state, "btcAddress", activeAccountBtcAddress);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    ReceiveTokensLayout,
    {
      address: btcAddress,
      onCopyAddressToClipboard: async () => {
        void analytics/* analytics */.zS.track("copy_btc_address_to_clipboard");
        await copy_to_clipboard_copyToClipboard(btcAddress);
        toast.success("Copied to clipboard!");
      },
      title: type === "btc-stamp" ? "BITCOIN STAMP" : "BTC"
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/receive/receive-stx.tsx









function ReceiveStxModal() {
  useBackgroundLocationRedirect();
  const toast = (0,use_toast/* useToast */.d)();
  const currentAccount = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const { data: accountName = "Account" } = (0,use_account_names/* useCurrentAccountDisplayName */.b)();
  if (!currentAccount) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    ReceiveTokensLayout,
    {
      address: currentAccount.address,
      accountName,
      onCopyAddressToClipboard: async () => {
        void analytics/* analytics */.zS.track("copy_stx_address_to_clipboard");
        await copy_to_clipboard_copyToClipboard(currentAccount.address);
        toast.success("Copied to clipboard!");
      },
      title: "STX"
    }
  );
}

;// CONCATENATED MODULE: ./src/app/components/generic-error/generic-error.layout.tsx






const supportUrl = "https://wallet.hiro.so/wallet-faq/where-can-i-find-support-for-the-stacks-wallet";
function GenericErrorLayout(props) {
  const { body, helpTextList, onClose, title, ...rest } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { alignItems: "center", flexDirection: "column", px: "space.05", width: "100%", ...rest, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.img, { src: generic_error, width: "106px", height: "72px", alt: "Error", mt: "space.06" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.h1, { mt: "space.05", textStyle: "heading.04", children: title }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      jsx/* styled */.I4.h2,
      {
        mt: "space.04",
        textAlign: "center",
        textStyle: "label.02",
        width: "100%",
        wordWrap: "break-word",
        children: body
      }
    ),
    helpTextList && /* @__PURE__ */ (0,jsx_runtime.jsxs)(
      jsx/* styled */.I4.ul,
      {
        border: "default",
        borderRadius: "sm",
        fontSize: "14px",
        lineHeight: "1.6",
        listStyleType: "circle",
        mt: "space.06",
        pb: "space.05",
        pl: "40px",
        pr: "space.05",
        pt: "space.02",
        textAlign: "left",
        width: "100%",
        children: [
          helpTextList,
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.li, { mt: "space.04", textAlign: "left", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.02", children: "Reach out to our support team" }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.button, { onClick: () => (0,open_in_new_tab/* openInNewTab */.V)(supportUrl), type: "button", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ExternalLinkIcon */.pT, {}) })
          ] }) })
        ]
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Link */.N_, { fontSize: "14px", mt: "space.05", onClick: onClose, children: "Close window" })
  ] });
}

;// CONCATENATED MODULE: ./src/app/components/generic-error/generic-error.tsx





function GenericErrorListItem({ text }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.li, { mt: "space.04", children: text });
}
function GenericError(props) {
  const { body, helpTextList, onClose = () => (0,utils/* closeWindow */.Do)(), title, ...rest } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    GenericErrorLayout,
    {
      body,
      helpTextList,
      onClose,
      title,
      ...rest
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/request-error/request-error.tsx





const helpTextList = [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(GenericErrorListItem, { text: "Please report issue to requesting app" }, 1)
];
function useRequestErrorState() {
  const location = (0,react_router_dist/* useLocation */.zy)();
  const message = lodash_get_default()(location.state, "message");
  const title = lodash_get_default()(location.state, "title");
  return { message, title };
}
function RequestError() {
  const { message, title } = useRequestErrorState();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(GenericError, { body: message, helpTextList, title });
}

;// CONCATENATED MODULE: ./src/app/pages/send/broadcast-error/components/broadcast-error.layout.tsx





function BroadcastErrorLayout(props) {
  const { body, errorPayload, title, children, ...rest } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Flex */.so,
    {
      alignItems: "center",
      flexDirection: "column",
      px: ["space.05", "unset"],
      width: "100%",
      ...rest,
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mt: "space.05", children: /* @__PURE__ */ (0,jsx_runtime.jsx)("img", { src: unhappy_face_ui, alt: "Unhappy user interface cloud", width: "106px" }) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          jsx/* styled */.I4.span,
          {
            "data-testid": shared_component_selectors/* SharedComponentsSelectors */.s.BroadcastErrorTitle,
            mx: "space.05",
            mt: "space.05",
            textStyle: "heading.05",
            children: title
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { color: "ink.text-subdued", mt: "space.04", textAlign: "center", textStyle: "body.02", children: body }),
        errorPayload && /* @__PURE__ */ (0,jsx_runtime.jsx)(
          jsx/* Box */.az,
          {
            bg: "ink.component-background-default",
            borderRadius: "sm",
            mt: "space.05",
            mx: "space.05",
            p: "space.04",
            textAlign: "left",
            textStyle: "code",
            fontSize: "10px",
            wordBreak: "break-all",
            children: errorPayload
          }
        ),
        children
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/send/broadcast-error/broadcast-error.tsx









function BroadcastError({ showInSheet = false }) {
  const { state } = (0,react_router_dist/* useLocation */.zy)();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const msg = lodash_get_default()(state, "error.message", "Unknown error response");
  const title = lodash_get_default()(state, "title", "There was an error broadcasting your transaction");
  const body = lodash_get_default()(state, "body", "Unable to broadcast transaction");
  (0,use_on_mount/* useOnMount */.y)(() => void analytics/* analytics */.zS.track("bitcoin_contract_error", { msg }));
  const layout = /* @__PURE__ */ (0,jsx_runtime.jsx)(
    BroadcastErrorLayout,
    {
      my: "space.05",
      textAlign: "center",
      errorPayload: msg,
      title,
      body
    }
  );
  if (showInSheet) {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      exports_web/* Sheet */.cj,
      {
        header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, { title: "Error" }),
        isShowing: true,
        onClose: () => navigate(route_urls/* RouteUrls */.W.Home),
        children: layout
      }
    );
  }
  return layout;
}

;// CONCATENATED MODULE: ./src/app/pages/send/ordinal-inscription/hooks/use-send-inscription-route-state.ts



function useSendInscriptionRouteState() {
  const location = (0,react_router_dist/* useLocation */.zy)();
  return {
    inscription: lodash_get_default()(location.state, "inscription", null)
  };
}

;// CONCATENATED MODULE: ./src/app/pages/send/ordinal-inscription/components/create-utxo-from-inscription.ts


function createUtxoFromInscription({
  inscription,
  network,
  accountIndex,
  inscriptionAddressIdx
}) {
  const { genesisBlockHash, genesisTimestamp, genesisBlockHeight, value } = inscription;
  return {
    txid: inscription.txid,
    vout: Number(inscription.output),
    status: {
      confirmed: true,
      block_height: genesisBlockHeight,
      block_hash: genesisBlockHash,
      block_time: genesisTimestamp
    },
    value: Number(value),
    derivationPath: (0,bitcoin_dist/* getNativeSegwitAddressIndexDerivationPath */.Ni)(
      network,
      accountIndex,
      inscriptionAddressIdx
    )
  };
}

;// CONCATENATED MODULE: ./src/app/pages/send/ordinal-inscription/components/send-inscription-loader.tsx


function SendInscriptionLoader({ children }) {
  const { data: feeRates } = (0,query_dist/* useAverageBitcoinFeeRates */._iG)();
  if (!feeRates) return null;
  return children({ feeRates });
}

;// CONCATENATED MODULE: ./src/app/pages/send/ordinal-inscription/components/send-inscription-container.tsx














function useSendInscriptionState() {
  const location = (0,react_router_dist/* useLocation */.zy)();
  const context = (0,react_router_dist/* useOutletContext */.KC)();
  return { ...context, recipient: lodash_get_default()(location.state, "recipient", "") };
}
function SendInscriptionContainer() {
  const [selectedFeeType, setSelectedFeeType] = (0,react.useState)(null);
  const [inscription, setInscription] = (0,react.useState)(null);
  const [utxo, setUtxo] = (0,react.useState)(null);
  const routeState = useSendInscriptionRouteState();
  const network = (0,networks_selectors/* useCurrentNetwork */.Rm)();
  const currentAccountIndex = (0,accounts_account/* useCurrentAccountIndex */.IR)();
  const account = (0,taproot_account_hooks/* useCurrentTaprootAccount */.R2)();
  const nativeSegwitSigner = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSigner */.sz)();
  const addressesMap = (0,query_dist/* useInscriptionsAddressesMap */.pwx)({
    taprootKeychain: account?.keychain,
    nativeSegwitAddress: nativeSegwitSigner.address
  });
  (0,use_on_mount/* useOnMount */.y)(() => {
    if (!routeState.inscription) return;
    setInscription(routeState.inscription);
    setUtxo(
      createUtxoFromInscription({
        inscription: routeState.inscription,
        network: network.chain.bitcoin.mode,
        accountIndex: currentAccountIndex,
        inscriptionAddressIdx: addressesMap[routeState.inscription.address]
      })
    );
  });
  if (!inscription || !utxo) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(SendInscriptionLoader, { children: ({ feeRates }) => /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, { context: { feeRates, inscription, selectedFeeType, setSelectedFeeType, utxo } }) });
}

;// CONCATENATED MODULE: ./src/app/components/bitcoin-fees-list/components/fees-list-error.tsx






const body = "Please set a custom fee";
const fees_list_error_title = "Unable to calculate fees";
function FeesListError() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { textAlign: "center", px: ["unset", "space.05"], py: "space.04", width: "100%", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(GenericError, { body, onClose: () => navigate(route_urls/* RouteUrls */.W.SendCryptoAsset), title: fees_list_error_title }) });
}

;// CONCATENATED MODULE: ./src/app/components/bitcoin-fees-list/components/fees-list-item.tsx




function FeesListItem({
  arrivesIn,
  feeAmount,
  feeFiatValue,
  feeRate,
  feeType,
  isSelected,
  ...props
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* styled */.I4.button,
    {
      _hover: { background: "ink.component-background-hover" },
      border: isSelected ? "focus" : "default",
      borderRadius: "xs",
      boxShadow: "0px 1px 2px rgba(0, 0, 0, 0.04)",
      "data-testid": shared_component_selectors/* SharedComponentsSelectors */.s.FeesListItem,
      px: "space.04",
      py: "space.06",
      transition: "transition",
      type: "button",
      width: "100%",
      ...props,
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { justifyContent: "center", mb: "space.03", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.01", mr: "space.02", children: feeType }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.01", children: arrivesIn })
        ] }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { justifyContent: "center", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          jsx/* styled */.I4.span,
          {
            textStyle: "caption.01",
            "data-testid": shared_component_selectors/* SharedComponentsSelectors */.s.FeesListItemFeeValue,
            children: `${feeFiatValue} | ${feeRate} sats/vB | ${feeAmount}`
          }
        ) })
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/components/bitcoin-fees-list/bitcoin-fees-list.tsx







function BitcoinFeesList({
  feesList,
  isLoading,
  onChooseFee,
  onSetSelectedFeeType,
  onValidateBitcoinSpend,
  selectedFeeType
}) {
  const onSelectBtcFeeType = (0,react.useCallback)(
    async ({ feeRate, feeValue, time }, label) => {
      onSetSelectedFeeType(label);
      const isValid = onValidateBitcoinSpend(feeValue);
      if (!isValid) return;
      await onChooseFee({ feeRate, feeValue, time });
    },
    [onChooseFee, onSetSelectedFeeType, onValidateBitcoinSpend]
  );
  if (isLoading) return /* @__PURE__ */ (0,jsx_runtime.jsx)(LoadingSpinner, {});
  if (!feesList.length) return /* @__PURE__ */ (0,jsx_runtime.jsx)(FeesListError, {});
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { gap: "space.04", mt: "space.02", width: "100%", children: feesList.map(({ label, value, btcValue, fiatValue, time, feeRate }) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
    FeesListItem,
    {
      arrivesIn: time,
      feeAmount: btcValue,
      feeFiatValue: fiatValue,
      feeRate,
      feeType: label,
      isSelected: label === selectedFeeType,
      onClick: () => onSelectBtcFeeType({ feeRate, feeValue: value, time }, label)
    },
    label
  )) });
}

;// CONCATENATED MODULE: ./src/app/components/bitcoin-custom-fee/bitcoin-custom-fee.tsx











function BitcoinCustomFee({
  customFeeInitialValue,
  hasInsufficientBalanceError,
  isSendingMax,
  onChooseFee,
  onSetSelectedFeeType,
  onValidateBitcoinSpend,
  recipients,
  setCustomFeeInitialValue,
  maxCustomFeeRate
}) {
  const feeInputRef = (0,react.useRef)(null);
  const getCustomFeeValues = useBitcoinCustomFee({
    isSendingMax,
    recipients
  });
  const onChooseCustomBtcFee = (0,react.useCallback)(
    async ({ feeRate }) => {
      onSetSelectedFeeType(null);
      const { fee: feeValue } = getCustomFeeValues(Number(feeRate));
      const isValid = onValidateBitcoinSpend(feeValue);
      if (!isValid) return;
      await onChooseFee({ feeRate: Number(feeRate), feeValue, time: "", isCustomFee: true });
    },
    [onSetSelectedFeeType, getCustomFeeValues, onValidateBitcoinSpend, onChooseFee]
  );
  const validationSchema = yup_index_esm/* object */.Ik({
    feeRate: yup_index_esm/* number */.ai().required("Fee is required").integer("Fee must be a whole number").test({
      message: "Fee is too high",
      test: (value) => {
        return value <= maxCustomFeeRate;
      }
    })
  });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    formik_esm/* Formik */.l1,
    {
      initialValues: { feeRate: customFeeInitialValue.toString() },
      onSubmit: onChooseCustomBtcFee,
      validateOnChange: false,
      validateOnBlur: false,
      validateOnMount: false,
      validationSchema,
      children: (props) => /* @__PURE__ */ (0,jsx_runtime.jsx)(formik_esm/* Form */.lV, { children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.06", mt: "space.02", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.05", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.span, { color: "ink.text-subdued", textStyle: "body.02", maxWidth: "21.5rem", children: [
            "Higher fee rates typically lead to faster confirmation times.",
            /* @__PURE__ */ (0,jsx_runtime.jsx)(
              exports_web/* Link */.N_,
              {
                ml: "space.01",
                onClick: () => (0,open_in_new_tab/* openInNewTab */.V)("https://buybitcoinworldwide.com/fee-calculator/"),
                textStyle: "body.02",
                children: "View fee calculator"
              }
            )
          ] }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            BitcoinCustomFeeInput,
            {
              isSendingMax,
              onClick: async () => {
                feeInputRef.current?.focus();
                await props.setValues({ ...props.values });
              },
              customFeeInitialValue,
              setCustomFeeInitialValue,
              recipients,
              hasInsufficientBalanceError
            }
          )
        ] }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* Button */.$n,
          {
            "data-testid": SendCryptoAssetSelectors.PreviewSendTxBtn,
            disabled: !props.values.feeRate,
            type: "submit",
            children: "Use custom fee"
          }
        )
      ] }) })
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/bitcoin-choose-fee/components/choose-fee-amount.tsx




function ChooseFeeAmount({ amount, showError }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.h3, { textStyle: "heading.03", color: showError ? "red.action-primary-default" : "unset", children: (0,utils_dist/* formatMoney */.up)(amount) });
}

;// CONCATENATED MODULE: ./src/app/features/bitcoin-choose-fee/components/choose-fee-subtitle.tsx



function ChooseFeeSubtitle({ isSendingMax }) {
  const subtitle = isSendingMax ? "Chosen fee will affect your sending amount" : /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    "Fees are deducted from your balance ",
    /* @__PURE__ */ (0,jsx_runtime.jsx)("br", {}),
    " and will not affect your sending amount"
  ] });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { color: "ink.text-subdued", textAlign: "center", textStyle: "caption.01", children: subtitle });
}

;// CONCATENATED MODULE: ./src/app/features/bitcoin-choose-fee/components/choose-fee-tabs.tsx







var CustomFeeTabs = /* @__PURE__ */ ((CustomFeeTabs2) => {
  CustomFeeTabs2["Recommended"] = "recommended";
  CustomFeeTabs2["Custom"] = "custom";
  return CustomFeeTabs2;
})(CustomFeeTabs || {});
function ChooseFeeTabs(props) {
  const { customFee, defaultToCustomFee, feesList, ...rest } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { flexGrow: 1, gap: "space.04", mt: "space.02", width: "100%", ...rest, children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    exports_web/* Tabs */.tU.Root,
    {
      defaultValue: defaultToCustomFee ? "custom" /* Custom */ : "recommended" /* Recommended */,
      onValueChange: (tab) => void analytics/* analytics */.zS.page("view", "custom-fee-tab-" + tab),
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Tabs */.tU.List, { children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Tabs */.tU.Trigger, { value: "recommended" /* Recommended */, "data-testid": "tab-recommended", children: "Recommended" }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Tabs */.tU.Trigger, { value: "custom", "data-testid": "tab-custom", children: "Custom" })
        ] }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Tabs */.tU.Content, { value: "recommended" /* Recommended */, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Suspense, { fallback: /* @__PURE__ */ (0,jsx_runtime.jsx)(LoadingSpinner, { pb: "space.10" }), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mt: "space.05", children: feesList }) }) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Tabs */.tU.Content, { value: "custom" /* Custom */, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Suspense, { fallback: /* @__PURE__ */ (0,jsx_runtime.jsx)(LoadingSpinner, { pb: "72px" }), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mt: "space.05", width: "100%", children: customFee }) }) })
      ]
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/features/bitcoin-choose-fee/components/insufficient-balance-error.tsx



function InsufficientBalanceError(props) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { alignItems: "center", display: "flex", minHeight: "40px", ...props, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { color: "red.action-primary-default", textAlign: "center", textStyle: "label.03", children: "Fee is too expensive for available bitcoin balance" }) });
}

;// CONCATENATED MODULE: ./src/app/features/bitcoin-choose-fee/bitcoin-choose-fee.tsx















function BitcoinChooseFee({
  amount,
  defaultToCustomFee,
  feesList,
  isLoading,
  isSendingMax,
  onChooseFee,
  onSetSelectedFeeType,
  onValidateBitcoinSpend,
  recipients,
  recommendedFeeRate,
  showError,
  maxRecommendedFeeRate = 0,
  ...rest
}) {
  const { balance } = (0,btc_balance_native_segwit_hooks/* useCurrentBtcCryptoAssetBalanceNativeSegwit */.J)();
  const hasAmount = amount.amount.isGreaterThan(0);
  const [customFeeInitialValue, setCustomFeeInitialValue] = (0,react.useState)(recommendedFeeRate);
  const isPrivate = (0,settings_settings_selectors/* useIsPrivateMode */.cT)();
  if (isLoading) {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { py: "108px", justifyContent: "center", alignItems: "center", width: "100%", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(LoadingSpinner, {}) });
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    layout/* Card */.Zp,
    {
      border: "unset",
      footer: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mt: "space.05", width: "100%", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* AvailableBalance */.Yd, { balance: (0,utils_dist/* formatMoney */.up)(balance.availableBalance), isPrivate }) }),
      ...rest,
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { alignItems: "center", width: "100%", children: [
        hasAmount && /* @__PURE__ */ (0,jsx_runtime.jsx)(ChooseFeeAmount, { amount, showError }),
        showError ? /* @__PURE__ */ (0,jsx_runtime.jsx)(InsufficientBalanceError, { pb: hasAmount ? "0px" : "16px" }) : /* @__PURE__ */ (0,jsx_runtime.jsx)(ChooseFeeSubtitle, { isSendingMax }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          ChooseFeeTabs,
          {
            defaultToCustomFee,
            customFee: /* @__PURE__ */ (0,jsx_runtime.jsx)(
              BitcoinCustomFee,
              {
                amount: amount.amount.toNumber(),
                customFeeInitialValue,
                hasInsufficientBalanceError: showError,
                isSendingMax,
                onChooseFee,
                onSetSelectedFeeType,
                onValidateBitcoinSpend,
                recipients,
                setCustomFeeInitialValue,
                maxCustomFeeRate: maxRecommendedFeeRate * MAX_FEE_RATE_MULTIPLIER
              }
            ),
            feesList
          }
        )
      ] })
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/bitcoin-choose-fee/hooks/use-validate-bitcoin-spend.ts




function useValidateBitcoinSpend(amount, isSendingMax) {
  const [showInsufficientBalanceError, setShowInsufficientBalanceError] = (0,react.useState)(false);
  const { balance } = (0,btc_balance_native_segwit_hooks/* useCurrentBtcCryptoAssetBalanceNativeSegwit */.J)();
  return {
    showInsufficientBalanceError,
    onValidateBitcoinFeeSpend(feeValue) {
      const feeAsMoney = (0,utils_dist/* createMoney */.j6)(feeValue, "BTC");
      if (feeAsMoney.amount.isGreaterThan(balance.availableBalance.amount)) {
        setShowInsufficientBalanceError(true);
        return false;
      }
      return true;
    },
    onValidateBitcoinAmountSpend(feeValue) {
      const feeAsMoney = (0,utils_dist/* createMoney */.j6)(feeValue, "BTC");
      if (!amount) {
        throw new Error("Amount should be defined to validate total spend");
      }
      const totalSpend = isSendingMax ? (0,utils_dist/* subtractMoney */.$w)(balance.availableBalance, feeAsMoney) : (0,utils_dist/* sumMoney */.M9)([amount, feeAsMoney]);
      if (totalSpend.amount.isGreaterThan(balance.availableBalance.amount)) {
        setShowInsufficientBalanceError(true);
        return false;
      }
      return true;
    }
  };
}

;// CONCATENATED MODULE: ./src/app/pages/send/ordinal-inscription/coinselect/select-inscription-coins.ts




function selectTaprootInscriptionTransferCoins(args) {
  const { inscriptionInput, recipient, changeAddress, nativeSegwitUtxos, feeRate } = args;
  if (nativeSegwitUtxos.length === 0) return { success: false };
  const txSizer = new BtcSizeFeeEstimator();
  const initialTxSize = txSizer.calcTxSize({
    input_script: "p2wpkh",
    input_count: 1,
    // From the address of the recipient, we infer the output type
    p2tr_output_count: 1,
    p2wpkh_output_count: 1
  });
  const neededInputs = [];
  let txFee = Math.ceil(initialTxSize.txVBytes * feeRate);
  const indexCounter = (0,utils_dist/* createCounter */.Pu)();
  function shouldContinueTryingWithMoreInputs() {
    const neededSumOfInputs = (0,utils_dist/* sumNumbers */.Ye)(neededInputs.map((utxo) => utxo.value));
    if (indexCounter.getValue() > nativeSegwitUtxos.length) return false;
    return txFee >= neededSumOfInputs.toNumber();
  }
  let utxos = nativeSegwitUtxos.filter((utxo) => utxo.value >= constants_dist/* BTC_P2WPKH_DUST_AMOUNT */.HR).sort((a, b) => b.value - a.value);
  let txSize = null;
  while (shouldContinueTryingWithMoreInputs()) {
    const [nextUtxo, ...remainingUtxos] = utxos;
    if (nextUtxo) neededInputs.push(nextUtxo);
    utxos = remainingUtxos;
    txSize = txSizer.calcTxSize({
      input_script: "p2wpkh",
      input_count: neededInputs.length + 1,
      p2tr_output_count: 1,
      p2wpkh_output_count: 1
    });
    indexCounter.increment();
  }
  if (!txSize) throw new Error("Transaction size must be defined");
  txFee = Math.ceil(txSize.txVBytes * feeRate);
  const inputs = [...neededInputs];
  const changeAmount = (0,utils_dist/* sumNumbers */.Ye)(neededInputs.map((utxo) => utxo.value)).minus(txFee);
  if (changeAmount.isLessThan(0)) return { success: false };
  const outputs = [
    // outputs[0] = inscription going to recipient
    { value: BigInt(inscriptionInput.value), address: recipient },
    changeAmount.isGreaterThan(0) ? { value: BigInt(changeAmount.toNumber()), address: changeAddress } : void 0
  ].filter(utils_dist/* isDefined */.O9);
  return { success: true, inputs, outputs, txFee };
}

;// CONCATENATED MODULE: ./src/app/pages/send/ordinal-inscription/hooks/use-generate-ordinal-tx.ts












function useGenerateUnsignedOrdinalTx(inscriptionInput) {
  const createTaprootSigner = (0,taproot_account_hooks/* useCurrentAccountTaprootSigner */.$w)();
  const createNativeSegwitSigner = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitSigner */.GD)();
  const networkMode = (0,bitcoin_keychain/* useBitcoinScureLibNetworkConfig */.F5)();
  const { data: nativeSegwitUtxos } = useCurrentNativeSegwitUtxos();
  function coverFeeFromAdditionalUtxos(values) {
    if ((0,lib_index_esm/* getAddressInfo */.t6)(values.inscription.address).type === lib_index_esm/* AddressType */.RX.p2wpkh) {
      return formNativeSegwitOrdinalTx(values);
    }
    return formTaprootOrdinalTx(values);
  }
  function formTaprootOrdinalTx(values) {
    const addressIndex = (0,crypto_dist/* extractAddressIndexFromPath */.HD)(inscriptionInput.derivationPath);
    const taprootSigner = createTaprootSigner?.(addressIndex);
    const nativeSegwitSigner = createNativeSegwitSigner?.(0);
    if (!taprootSigner || !nativeSegwitSigner || !nativeSegwitUtxos || !values.feeRate) return;
    const result = selectTaprootInscriptionTransferCoins({
      recipient: values.recipient,
      inscriptionInput,
      nativeSegwitUtxos,
      changeAddress: nativeSegwitSigner.payment.address,
      feeRate: values.feeRate
    });
    const psbtInputCounter = (0,utils_dist/* createCounter */.Pu)();
    const signingConfig = [];
    if (!result.success) return null;
    const { inputs, outputs, txFee } = result;
    try {
      const tx = new esm_transaction/* Transaction */.ZX();
      tx.addInput({
        txid: inscriptionInput.txid,
        index: inscriptionInput.vout,
        tapInternalKey: taprootSigner.payment.tapInternalKey,
        sequence: 0,
        witnessUtxo: {
          script: taprootSigner.payment.script,
          amount: BigInt(inscriptionInput.value)
        }
      });
      signingConfig.push({
        derivationPath: taprootSigner.derivationPath,
        index: psbtInputCounter.getValue()
      });
      psbtInputCounter.increment();
      inputs.forEach((input) => {
        tx.addInput({
          txid: input.txid,
          index: input.vout,
          sequence: 0,
          witnessUtxo: {
            amount: BigInt(input.value),
            script: nativeSegwitSigner.payment.script
          }
        });
        signingConfig.push({
          derivationPath: nativeSegwitSigner.derivationPath,
          index: psbtInputCounter.getValue()
        });
        psbtInputCounter.increment();
      });
      outputs.forEach((output) => tx.addOutputAddress(output.address, output.value, networkMode));
      tx.toPSBT();
      return { psbt: tx.toPSBT(), signingConfig, txFee };
    } catch (e) {
      if (e instanceof InsufficientFundsError) {
        throw new InsufficientFundsError();
      }
      logger/* logger */.v.error("Unable to sign transaction", e);
      return null;
    }
  }
  function formNativeSegwitOrdinalTx(values) {
    const nativeSegwitSigner = createNativeSegwitSigner?.(0);
    const { feeRate, recipient } = values;
    if (!nativeSegwitSigner || !nativeSegwitUtxos || !values.feeRate) return;
    const determineUtxosArgs = {
      feeRate,
      recipients: [{ address: recipient, amount: (0,utils_dist/* createMoney */.j6)(0, "BTC") }],
      utxos: nativeSegwitUtxos
    };
    const { inputs, outputs, fee } = determineUtxosForSpend(determineUtxosArgs);
    try {
      const tx = new esm_transaction/* Transaction */.ZX();
      [inscriptionInput, ...inputs].forEach(
        (input) => tx.addInput({
          txid: input.txid,
          index: input.vout,
          sequence: 0,
          witnessUtxo: {
            amount: BigInt(input.value),
            script: nativeSegwitSigner.payment.script
          }
        })
      );
      tx.addOutputAddress(values.recipient, BigInt(inscriptionInput.value), networkMode);
      outputs.forEach((output) => {
        if (Number(output.value) === 0) return;
        if (!output.address) {
          tx.addOutputAddress(nativeSegwitSigner.address, BigInt(output.value), networkMode);
          return;
        }
        tx.addOutputAddress(values.recipient, BigInt(output.value), networkMode);
      });
      return { psbt: tx.toPSBT(), signingConfig: void 0, txFee: fee };
    } catch (e) {
      if (e instanceof InsufficientFundsError) {
        throw new InsufficientFundsError();
      }
      logger/* logger */.v.error("Unable to sign transaction", e);
      return null;
    }
  }
  return { coverFeeFromAdditionalUtxos };
}

;// CONCATENATED MODULE: ./src/app/pages/send/ordinal-inscription/hooks/use-send-inscription-fees-list.ts








function useSendInscriptionFeesList({
  recipient,
  utxo,
  inscription
}) {
  const createNativeSegwitSigner = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitSigner */.GD)();
  const { data: nativeSegwitUtxos } = useCurrentNativeSegwitUtxos();
  const btcMarketData = (0,query_dist/* useCryptoCurrencyMarketDataMeanAverage */.UoM)("BTC");
  const { data: feeRates, isLoading } = (0,query_dist/* useAverageBitcoinFeeRates */._iG)();
  const { coverFeeFromAdditionalUtxos } = useGenerateUnsignedOrdinalTx(utxo);
  const getTransactionFee = (0,react.useCallback)(
    (feeRate) => {
      try {
        const tx = coverFeeFromAdditionalUtxos({
          recipient,
          feeRate,
          inscription
        });
        return tx?.txFee;
      } catch (error) {
        return null;
      }
    },
    [coverFeeFromAdditionalUtxos, recipient, inscription]
  );
  const feesList = (0,react.useMemo)(() => {
    function getFiatFeeValue(fee) {
      return `~ ${(0,utils_dist/* i18nFormatCurrency */.Lx)(
        (0,utils_dist/* baseCurrencyAmountInQuote */.uE)((0,utils_dist/* createMoney */.j6)(Math.ceil(fee), "BTC"), btcMarketData)
      )}`;
    }
    const nativeSegwitSigner = createNativeSegwitSigner?.(0);
    if (!feeRates || !nativeSegwitUtxos || !nativeSegwitSigner) return [];
    const highFeeValue = getTransactionFee(feeRates.fastestFee.toNumber());
    const standardFeeValue = getTransactionFee(feeRates.halfHourFee.toNumber());
    const lowFeeValue = getTransactionFee(feeRates.hourFee.toNumber());
    const feesArr = [];
    if (highFeeValue) {
      feesArr.push({
        label: models_dist/* BtcFeeType */.wJ.High,
        value: highFeeValue,
        btcValue: (0,utils_dist/* formatMoneyPadded */.cN)((0,utils_dist/* createMoney */.j6)(highFeeValue, "BTC")),
        time: models_dist/* btcTxTimeMap */.vH.fastestFee,
        fiatValue: getFiatFeeValue(highFeeValue),
        feeRate: feeRates.fastestFee.toNumber()
      });
    }
    if (standardFeeValue) {
      feesArr.push({
        label: models_dist/* BtcFeeType */.wJ.Standard,
        value: standardFeeValue,
        btcValue: (0,utils_dist/* formatMoneyPadded */.cN)((0,utils_dist/* createMoney */.j6)(standardFeeValue, "BTC")),
        time: models_dist/* btcTxTimeMap */.vH.halfHourFee,
        fiatValue: getFiatFeeValue(standardFeeValue),
        feeRate: feeRates.halfHourFee.toNumber()
      });
    }
    if (lowFeeValue) {
      feesArr.push({
        label: models_dist/* BtcFeeType */.wJ.Low,
        value: lowFeeValue,
        btcValue: (0,utils_dist/* formatMoneyPadded */.cN)((0,utils_dist/* createMoney */.j6)(lowFeeValue, "BTC")),
        time: models_dist/* btcTxTimeMap */.vH.hourFee,
        fiatValue: getFiatFeeValue(lowFeeValue),
        feeRate: feeRates.hourFee.toNumber()
      });
    }
    return feesArr;
  }, [feeRates, nativeSegwitUtxos, btcMarketData, createNativeSegwitSigner, getTransactionFee]);
  return {
    feesList,
    isLoading
  };
}

;// CONCATENATED MODULE: ./src/shared/forms/address-validators.ts





function btcAddressValidator() {
  return yup_index_esm/* string */.Yj().test({
    message: FormErrorMessages.InvalidAddress,
    test(value) {
      if ((0,utils_dist/* isUndefined */.b0)(value) || (0,utils_dist/* isEmptyString */.jw)(value)) return true;
      return (0,lib_index_esm/* validate */.tf)(value);
    }
  });
}
function btcAddressNetworkValidatorFactory(network) {
  function getAddressNetworkType(network2) {
    if (network2 === "signet") return lib_index_esm/* Network */.lg.testnet;
    return network2;
  }
  return (value) => {
    if ((0,utils_dist/* isUndefined */.b0)(value) || (0,utils_dist/* isEmptyString */.jw)(value)) return true;
    return (0,lib_index_esm/* validate */.tf)(value, getAddressNetworkType(network));
  };
}
function btcAddressNetworkValidator(network) {
  return yup_index_esm/* string */.Yj().test({
    test: btcAddressNetworkValidatorFactory(network),
    message: FormErrorMessages.IncorrectNetworkAddress
  });
}

;// CONCATENATED MODULE: ./src/app/common/send/utils.ts

function formFeeRowValue(feeRate, isCustomFee) {
  return `${isCustomFee ? "(Custom) " : ""}${feeRate} sats/vB`;
}

;// CONCATENATED MODULE: ./src/app/common/validation/forms/compliance-validators.ts




function complianceValidator(shouldCheckCompliance, network) {
  return yup_index_esm/* string */.Yj().test({
    message: "Compliance check failed",
    async test(value) {
      if (network !== "mainnet") return true;
      if (!shouldCheckCompliance.isValidSync(value)) return true;
      if ((0,utils_dist/* isUndefined */.b0)(value) || (0,utils_dist/* isEmptyString */.jw)(value)) return true;
      try {
        const resp = await checkEntityAddressIsCompliant(value);
        return !resp.isOnSanctionsList;
      } catch (e) {
        return true;
      }
    }
  });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/react-animate-height@3.1.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-animate-height/dist/esm/index.js
var dist_esm = __webpack_require__(57031);
;// CONCATENATED MODULE: ./src/app/components/field-error.tsx









const closedHeight = 0;
const openHeight = 24;
function TextInputFieldError(props) {
  const { name } = props;
  const [, meta] = (0,formik_esm/* useField */.Mt)(name);
  const [showHide, setShowHide] = (0,react.useState)(closedHeight);
  const showError = useShowFieldError(name);
  (0,react.useEffect)(() => {
    if (showError) {
      setShowHide(openHeight);
      return;
    }
    setShowHide(closedHeight);
  }, [showError]);
  if (!showError) return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { height: closedHeight + "px" });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { mb: "space.02", width: "100%", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(dist_esm/* default */.A, { duration: 400, easing: "ease-out", height: showHide, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { height: openHeight + "px", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(ErrorLabel, { "data-testid": SendCryptoAssetSelectors.FormFieldInputErrorLabel, children: meta.error }) }) }) });
}

;// CONCATENATED MODULE: ./src/app/components/inscription-preview-card/components/inscription-image.tsx


function InscriptionImage({ src }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    "img",
    {
      src,
      style: { width: "100%", height: "100%", aspectRatio: "1 / 1", objectFit: "cover" }
    }
  );
}

;// CONCATENATED MODULE: ./src/app/components/inscription-preview-card/components/inscription-preview-container.tsx



function InscriptionPreviewContainer({ children, ...props }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* Box */.az,
    {
      bg: "black",
      borderRadius: "xs",
      width: "100px",
      height: "100px",
      overflow: "hidden",
      position: "relative",
      ...props,
      children
    }
  );
}

;// CONCATENATED MODULE: ./src/app/components/inscription-preview-card/components/inscription-text.tsx







function inscription_text_InscriptionText(props) {
  const query = (0,query_dist/* useGetInscriptionTextContentQuery */.ufg)(props.contentSrc);
  if (query.isLoading) return /* @__PURE__ */ (0,jsx_runtime.jsx)(LoadingSpinner, { size: "16px" });
  if (query.isError) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* Box */.az,
    {
      _after: {
        content: '""',
        position: "absolute",
        bottom: "0",
        left: "0",
        height: "30px",
        width: "100%",
        backgroundImage: "linear-gradient(rgba(0,0,0,0), rgba(0,0,0,1))"
      },
      color: "white",
      fontSize: "9px",
      height: "100%",
      p: "space.03",
      position: "relative",
      overflow: "hidden",
      textAlign: "left",
      width: "100%",
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)("pre", { children: (0,purify.sanitize)(parseJson(query.data)) })
    }
  );
}

;// CONCATENATED MODULE: ./src/app/components/inscription-preview-card/components/inscription-preview.tsx







function InscriptionPreview({ inscription, ...props }) {
  switch (inscription.mimeType) {
    case "image": {
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(InscriptionPreviewContainer, { ...props, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(InscriptionImage, { src: inscription.src }) });
    }
    case "text": {
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(InscriptionPreviewContainer, { ...props, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(inscription_text_InscriptionText, { contentSrc: inscription.src }) });
    }
    case "other": {
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(InscriptionPreviewContainer, { ...props, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { alignItems: "center", height: "100%", justifyContent: "center", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* OrdinalAvatarIcon */.ul, { size: "xl" }) }) });
    }
    default:
      return null;
  }
}

;// CONCATENATED MODULE: ./src/app/components/inscription-preview-card/components/inscription-metadata.tsx




function InscriptionMetadata({
  action,
  actionLabel,
  icon,
  subtitle,
  title
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { alignItems: "flex-start", flexDirection: "column", justifyContent: "center", children: [
    icon && icon,
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.01", children: title }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "caption.01", children: subtitle }),
    action ? /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Link */.N_, { color: "stacks", onClick: () => action(), textStyle: "caption.01", variant: "text", children: actionLabel }) : null
  ] });
}

;// CONCATENATED MODULE: ./src/app/components/inscription-preview-card/inscription-preview-card.tsx




function InscriptionPreviewCard({
  action,
  actionLabel,
  hideBorder,
  icon,
  image,
  subtitle,
  title
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Flag */.lN,
    {
      border: hideBorder ? "unset" : "default",
      borderRadius: hideBorder ? "unset" : "sm",
      img: image,
      p: hideBorder ? "unset" : "space.04",
      spacing: "space.04",
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        InscriptionMetadata,
        {
          action,
          actionLabel,
          icon,
          subtitle,
          title
        }
      )
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/components/recipient-address-type-field.tsx







function RecipientAddressTypeField({
  name,
  topInputOverlay,
  rightLabel,
  onBlur
}) {
  const [field] = (0,formik_esm/* useField */.Mt)(name);
  const { setFieldValue } = (0,formik_esm/* useFormikContext */.j7)();
  (0,react.useEffect)(() => {
    void setFieldValue(name, field.value.trim());
  }, [name, field.value, setFieldValue]);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { width: "100%", position: "relative", mb: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Input */.pd.Root, { shrink: true, children: [
    rightLabel && /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { pos: "absolute", right: "space.03", zIndex: 15, top: "9px", children: rightLabel }),
    topInputOverlay && /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Input */.pd.Label, { children: topInputOverlay }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      exports_web/* Input */.pd.Field,
      {
        "data-testid": SendCryptoAssetSelectors.RecipientFieldInput,
        placeholder: "Recipient",
        ...field,
        onBlur: (e) => {
          field.onBlur(e);
          onBlur?.();
        }
      }
    )
  ] }) });
}

;// CONCATENATED MODULE: ./src/app/pages/send/ordinal-inscription/components/collectible-asset.tsx



function CollectibleAsset({ icon, name, symbol }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* Flex */.so,
    {
      alignItems: "center",
      border: "default",
      borderRadius: "sm",
      minHeight: "64px",
      mb: "space.04",
      mt: "space.05",
      px: "space.04",
      width: "100%",
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* HStack */.zt, { alignItems: "center", justifyContent: "space-between", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { alignItems: "center", children: [
        icon,
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { ml: "space.02", mr: "space.01", textStyle: "body.01", children: name }),
        symbol && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.span, { textStyle: "body.01", children: [
          "(",
          symbol.toUpperCase(),
          ")"
        ] })
      ] }) })
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/send/ordinal-inscription/send-indcription-form-loader.tsx




function SendInscriptionFormLoader({ children, isLoading }) {
  if (isLoading) {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { py: "108px", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(LoadingSpinner, {}) });
  }
  return children;
}

;// CONCATENATED MODULE: ./src/app/pages/send/ordinal-inscription/send-inscription-form.tsx

















const recipientFieldName = "recipient";
function SendInscriptionForm() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const { feeRates, inscription, recipient } = useSendInscriptionState();
  const { chooseTransactionFee, currentError, validationSchema, isCheckingFees } = useSendInscriptionForm();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    formik_esm/* Formik */.l1,
    {
      validationSchema,
      initialValues: {
        [recipientFieldName]: recipient,
        inscription,
        feeRate: feeRates.hourFee.toNumber()
      },
      onSubmit: chooseTransactionFee,
      children: (props) => {
        return /* @__PURE__ */ (0,jsx_runtime.jsx)(formik_esm/* Form */.lV, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* Sheet */.cj,
          {
            header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, { title: "Send" }),
            onGoBack: () => navigate(-1),
            isShowing: true,
            onClose: () => navigate(route_urls/* RouteUrls */.W.Home),
            footer: /* @__PURE__ */ (0,jsx_runtime.jsx)(
              exports_web/* Button */.$n,
              {
                "data-testid": SendCryptoAssetSelectors.PreviewSendTxBtn,
                onClick: () => props.handleSubmit(),
                type: "submit",
                fullWidth: true,
                children: "Continue"
              }
            ),
            children: /* @__PURE__ */ (0,jsx_runtime.jsx)(SendInscriptionFormLoader, { isLoading: isCheckingFees, children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Box */.az, { display: "flex", flexDirection: "column", px: "space.06", pb: "space.04", children: [
              /* @__PURE__ */ (0,jsx_runtime.jsx)(
                InscriptionPreviewCard,
                {
                  image: /* @__PURE__ */ (0,jsx_runtime.jsx)(InscriptionPreview, { inscription }),
                  subtitle: "Ordinal inscription",
                  title: inscription.title
                }
              ),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mt: ["space.04", "space.06", "100px"], children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { flexDirection: "column", mt: "space.05", width: "100%", children: [
                /* @__PURE__ */ (0,jsx_runtime.jsx)(CollectibleAsset, { icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* OrdinalAvatarIcon */.ul, {}), name: "Ordinal inscription" }),
                /* @__PURE__ */ (0,jsx_runtime.jsx)(
                  RecipientAddressTypeField,
                  {
                    name: recipientFieldName,
                    label: "To",
                    placeholder: "Enter recipient address"
                  }
                ),
                /* @__PURE__ */ (0,jsx_runtime.jsx)(TextInputFieldError, { name: recipientFieldName })
              ] }) }),
              currentError && /* @__PURE__ */ (0,jsx_runtime.jsx)(ErrorLabel, { "data-testid": SendCryptoAssetSelectors.FormFieldInputErrorLabel, children: currentError })
            ] }) })
          }
        ) });
      }
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/send/ordinal-inscription/hooks/use-send-inscription-form.tsx






















function useSendInscriptionForm() {
  const [currentError, setShowError] = (0,react.useState)(null);
  const [isCheckingFees, setIsCheckingFees] = (0,react.useState)(false);
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const sign = (0,bitcoin_hooks/* useSignBitcoinTx */.nn)();
  const { inscription, utxo } = useSendInscriptionState();
  const currentNetwork = (0,networks_selectors/* useCurrentNetwork */.Rm)();
  const account = (0,taproot_account_hooks/* useCurrentTaprootAccount */.R2)();
  const nativeSegwitSigner = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSigner */.sz)();
  const getNumberOfInscriptionOnUtxo = (0,query_dist/* useNumberOfInscriptionsOnUtxo */.mF0)({
    taprootKeychain: account?.keychain,
    nativeSegwitAddress: nativeSegwitSigner.address
  });
  const { coverFeeFromAdditionalUtxos } = useGenerateUnsignedOrdinalTx(utxo);
  return {
    currentError,
    isCheckingFees,
    async chooseTransactionFee(values) {
      setIsCheckingFees(true);
      try {
        if (Number(inscription.offset) !== 0) {
          setShowError(FormErrorMessages.NonZeroOffsetInscription);
          return;
        }
        const numInscriptionsOnUtxo = getNumberOfInscriptionOnUtxo(utxo.txid, utxo.vout);
        if (numInscriptionsOnUtxo > 1) {
          setShowError(FormErrorMessages.UtxoWithMultipleInscriptions);
          return;
        }
        const resp = coverFeeFromAdditionalUtxos(values);
        if (!resp) {
          setShowError(FormErrorMessages.InsufficientFundsToCoverFee);
          return;
        }
        navigate(
          `/${route_urls/* RouteUrls */.W.SendOrdinalInscription}/${route_urls/* RouteUrls */.W.SendOrdinalInscriptionChooseFee}`,
          {
            state: {
              inscription,
              recipient: values.recipient,
              utxo,
              backgroundLocation: { pathname: route_urls/* RouteUrls */.W.Home }
            }
          }
        );
      } catch (error) {
        void analytics/* analytics */.zS.track("ordinals_dot_com_unavailable", { error });
        if (error instanceof InsufficientFundsError) {
          setShowError(FormErrorMessages.InsufficientFundsToCoverFee);
          return;
        }
        let message = "Unable to establish if utxo has multiple inscriptions";
        if ((0,utils_dist/* isError */.bJ)(error)) {
          message = error.message;
        }
        setShowError(message);
      } finally {
        setIsCheckingFees(false);
      }
    },
    async reviewTransaction(feeValue, time, values, isCustomFee) {
      const resp = coverFeeFromAdditionalUtxos(values);
      if (!resp) {
        logger/* logger */.v.error("Failed to generate transaction for send");
        return;
      }
      const signedTx = await sign(resp.psbt, resp.signingConfig);
      if (!signedTx) {
        logger/* logger */.v.error("No signed transaction returned");
        return;
      }
      signedTx.finalize();
      logger/* logger */.v.debug("Pre-finalized inscription PSBT", signedTx.hex);
      const feeRowValue = formFeeRowValue(values.feeRate, isCustomFee);
      navigate(`/${route_urls/* RouteUrls */.W.SendOrdinalInscription}/${route_urls/* RouteUrls */.W.SendOrdinalInscriptionReview}`, {
        state: {
          fee: feeValue,
          inscription,
          utxo,
          recipient: values.recipient,
          time,
          feeRowValue,
          signedTx: signedTx.extract(),
          backgroundLocation: { pathname: route_urls/* RouteUrls */.W.Home }
        }
      });
    },
    validationSchema: yup_index_esm/* object */.Ik({
      [recipientFieldName]: yup_index_esm/* string */.Yj().required(FormErrorMessages.AddressRequired).concat(btcAddressValidator()).concat(
        complianceValidator(
          btcAddressValidator(),
          (0,bitcoin_dist/* bitcoinNetworkModeToCoreNetworkMode */.Vw)(currentNetwork.chain.bitcoin.mode)
        )
      ).concat(btcAddressNetworkValidator(currentNetwork.chain.bitcoin.mode))
    })
  };
}

;// CONCATENATED MODULE: ./src/app/pages/send/ordinal-inscription/send-inscription-choose-fee.tsx














function SendInscriptionChooseFee() {
  const [isLoadingReview, setIsLoadingReview] = (0,react.useState)(false);
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const { recipient, selectedFeeType, setSelectedFeeType, utxo, inscription } = useSendInscriptionState();
  const { feesList, isLoading } = useSendInscriptionFeesList({
    recipient,
    utxo,
    inscription
  });
  const recommendedFeeRate = feesList[1]?.feeRate.toString() || "";
  const { reviewTransaction } = useSendInscriptionForm();
  const { showInsufficientBalanceError, onValidateBitcoinFeeSpend } = useValidateBitcoinSpend();
  const recipients = [
    {
      address: recipient,
      amount: (0,utils_dist/* createMoney */.j6)(0, "BTC")
    }
  ];
  async function previewTransaction({ feeRate, feeValue, time, isCustomFee }) {
    try {
      setIsLoadingReview(true);
      await reviewTransaction(feeValue, time, { feeRate, recipient, inscription }, isCustomFee);
    } finally {
      setIsLoadingReview(false);
    }
  }
  if (isLoadingReview)
    return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(LoadingSpinner, {}),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
    ] });
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      exports_web/* Sheet */.cj,
      {
        header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, { title: "Choose fee" }),
        isShowing: true,
        onGoBack: () => navigate(route_urls/* RouteUrls */.W.Home),
        onClose: () => navigate(route_urls/* RouteUrls */.W.Home),
        children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          BitcoinChooseFee,
          {
            amount: (0,utils_dist/* createMoney */.j6)(0, "BTC"),
            defaultToCustomFee: !feesList.length,
            feesList: /* @__PURE__ */ (0,jsx_runtime.jsx)(
              BitcoinFeesList,
              {
                feesList,
                isLoading,
                onChooseFee: previewTransaction,
                onValidateBitcoinSpend: onValidateBitcoinFeeSpend,
                onSetSelectedFeeType: (value) => setSelectedFeeType(value),
                selectedFeeType
              }
            ),
            isLoading,
            isSendingMax: false,
            onChooseFee: previewTransaction,
            onSetSelectedFeeType: (value) => setSelectedFeeType(value),
            onValidateBitcoinSpend: onValidateBitcoinFeeSpend,
            recipients,
            recommendedFeeRate,
            showError: showInsufficientBalanceError,
            maxRecommendedFeeRate: feesList[0]?.feeRate
          }
        )
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/send/ordinal-inscription/send-inscription-review.tsx


















function useSendInscriptionReviewState() {
  const location = (0,react_router_dist/* useLocation */.zy)();
  return {
    arrivesIn: lodash_get_default()(location.state, "time"),
    signedTx: lodash_get_default()(location.state, "signedTx"),
    recipient: lodash_get_default()(location.state, "recipient", ""),
    feeRowValue: lodash_get_default()(location.state, "feeRowValue")
  };
}
function SendInscriptionReview() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const { arrivesIn, signedTx, recipient, feeRowValue } = useSendInscriptionReviewState();
  const { inscription } = useSendInscriptionState();
  const { filteredUtxosQuery } = useCurrentNativeSegwitUtxos();
  const { broadcastTx, isBroadcasting } = (0,query_dist/* useBitcoinBroadcastTransaction */.Zbx)();
  async function sendInscription() {
    await broadcastTx({
      skipSpendableCheckUtxoIds: [inscription.txid],
      tx: (0,hashes_esm_utils/* bytesToHex */.My)(signedTx),
      async onSuccess(txid) {
        void analytics/* analytics */.zS.track("broadcast_ordinal_transaction");
        await filteredUtxosQuery.refetch();
        navigate(`/${route_urls/* RouteUrls */.W.SendOrdinalInscription}/${route_urls/* RouteUrls */.W.SendOrdinalInscriptionSent}`, {
          state: {
            inscription,
            recipient,
            arrivesIn,
            txid,
            feeRowValue,
            backgroundLocation: { pathname: route_urls/* RouteUrls */.W.Home }
          }
        });
      },
      onError(e) {
        void analytics/* analytics */.zS.track("broadcast_ordinal_error", { error: e });
        navigate(`/${route_urls/* RouteUrls */.W.SendOrdinalInscription}/${route_urls/* RouteUrls */.W.SendOrdinalInscriptionError}`, {
          state: {
            error: e,
            backgroundLocation: { pathname: route_urls/* RouteUrls */.W.Home }
          }
        });
      }
    });
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Sheet */.cj,
    {
      header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, { title: "Review" }),
      isShowing: true,
      onGoBack: () => navigate(-1),
      onClose: () => navigate(route_urls/* RouteUrls */.W.Home),
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(
        layout/* Card */.Zp,
        {
          dataTestId: SendCryptoAssetSelectors.ConfirmationDetails,
          border: "unset",
          contentStyle: {
            p: "space.00"
          },
          footer: /* @__PURE__ */ (0,jsx_runtime.jsx)(
            exports_web/* Button */.$n,
            {
              variant: "solid",
              disabled: isBroadcasting,
              "aria-busy": isBroadcasting,
              onClick: sendInscription,
              width: "100%",
              children: "Confirm and send transaction"
            }
          ),
          children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { px: "space.06", mt: "space.06", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
              InscriptionPreviewCard,
              {
                image: /* @__PURE__ */ (0,jsx_runtime.jsx)(InscriptionPreview, { inscription }),
                subtitle: "Ordinal inscription",
                title: inscription.title
              }
            ) }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(
              jsx/* Flex */.so,
              {
                alignItems: "center",
                flexDirection: "column",
                justifyItems: "center",
                width: "100%",
                pt: "space.06",
                pb: "space.06",
                px: "space.06",
                children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { width: "100%", mb: "36px", children: [
                  /* @__PURE__ */ (0,jsx_runtime.jsx)(
                    info_card/* InfoCardRow */.Pn,
                    {
                      "data-testid": SendCryptoAssetSelectors.ConfirmationDetailsRecipient,
                      title: "To",
                      value: /* @__PURE__ */ (0,jsx_runtime.jsx)(FormAddressDisplayer, { address: recipient })
                    }
                  ),
                  /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardSeparator */.ko, {}),
                  arrivesIn && /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Estimated confirmation time", value: arrivesIn }),
                  /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Fee", value: feeRowValue })
                ] })
              }
            )
          ]
        }
      )
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/send/ordinal-inscription/sent-inscription-summary.tsx
















function useSendInscriptionSummaryState() {
  const location = (0,react_router_dist/* useLocation */.zy)();
  return {
    txid: lodash_get_default()(location.state, "txid"),
    recipient: lodash_get_default()(location.state, "recipient", ""),
    arrivesIn: lodash_get_default()(location.state, "arrivesIn"),
    inscription: lodash_get_default()(location.state, "inscription"),
    feeRowValue: lodash_get_default()(location.state, "feeRowValue")
  };
}
function SendInscriptionSummary() {
  const { txid, recipient, arrivesIn, inscription, feeRowValue } = useSendInscriptionSummaryState();
  const toast = (0,use_toast/* useToast */.d)();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const txLink = {
    blockchain: "bitcoin",
    txid
  };
  const id = txid || "";
  const { handleOpenBitcoinTxLink: handleOpenTxLink } = useBitcoinExplorerLink();
  function onClickLink() {
    void analytics/* analytics */.zS.track("view_transaction_confirmation", { symbol: "BTC" });
    handleOpenTxLink(txLink);
  }
  async function onClickCopy() {
    await copy_to_clipboard_copyToClipboard(id);
    toast.success("ID copied!");
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Sheet */.cj, { header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, { title: "Sent" }), isShowing: true, onClose: () => navigate(route_urls/* RouteUrls */.W.Home), children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    layout/* Card */.Zp,
    {
      border: "unset",
      footer: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { gap: "space.04", width: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          info_card/* InfoCardBtn */.nJ,
          {
            onClick: onClickLink,
            icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ExternalLinkIcon */.pT, { color: "ink.background-primary" }),
            label: "View details"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          info_card/* InfoCardBtn */.nJ,
          {
            onClick: onClickCopy,
            icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CopyIcon */.Td, { color: "ink.background-primary" }),
            label: "Copy ID"
          }
        )
      ] }),
      contentStyle: {
        p: "space.00"
      },
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mt: "space.06", px: "space.06", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          InscriptionPreviewCard,
          {
            icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mt: "space.01", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CheckmarkIcon */.Nr, {}) }),
            image: /* @__PURE__ */ (0,jsx_runtime.jsx)(InscriptionPreview, { inscription }),
            subtitle: "Ordinal inscription",
            title: inscription.title
          }
        ) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          jsx/* Flex */.so,
          {
            alignItems: "center",
            flexDirection: "column",
            justifyItems: "center",
            width: "100%",
            pt: "space.06",
            pb: "space.06",
            px: "space.06",
            children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { mb: "space.06", width: "100%", children: [
              /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "To", value: /* @__PURE__ */ (0,jsx_runtime.jsx)(FormAddressDisplayer, { address: recipient }) }),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardSeparator */.ko, {}),
              arrivesIn && /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Estimated confirmation time", value: arrivesIn }),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Fee", value: feeRowValue })
            ] })
          }
        )
      ]
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/pages/send/ordinal-inscription/ordinal-routes.tsx











const sendOrdinalRoutes = /* @__PURE__ */ (0,jsx_runtime.jsxs)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.SendOrdinalInscription, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(SendInscriptionContainer, {}), children: [
  ledgerBitcoinTxSigningRoutes,
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { index: true, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(SendInscriptionForm, {}) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.SendOrdinalInscriptionChooseFee, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(SendInscriptionChooseFee, {}), children: ledgerBitcoinTxSigningRoutes }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.SendOrdinalInscriptionReview, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(SendInscriptionReview, {}) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.SendOrdinalInscriptionSent, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(SendInscriptionSummary, {}) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.SendOrdinalInscriptionError, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(BroadcastError, { showInSheet: true }) })
] });

;// CONCATENATED MODULE: ./src/app/components/broadcast-error-dialog/broadcast-error-dialog.tsx







function BroadcastErrorSheet() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const location = (0,react_router_dist/* useLocation */.zy)();
  const message = lodash_get_default()(location.state, "message", "");
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Sheet */.cj,
    {
      isShowing: true,
      header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, {}),
      onClose: () => navigate(".."),
      footer: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { fullWidth: true, onClick: () => navigate(".."), mt: "space.05", children: "Close" }),
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(
        jsx/* Flex */.so,
        {
          flexDirection: "column",
          justifyContent: "center",
          mx: "space.06",
          mb: "space.02",
          position: "relative",
          textAlign: "center",
          minHeight: "30vh",
          children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.img, { src: generic_error, width: "106px", height: "72px", m: "0 auto" }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.h1, { mt: "space.05", textStyle: "heading.05", children: "Unable to broadcast transaction" }),
            /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.span, { mt: "space.03", px: "space.04", textStyle: "body.01", children: [
              "Your transaction failed to broadcast",
              " ",
              message && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
                "because of the error: ",
                message.toLowerCase()
              ] })
            ] })
          ]
        }
      )
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/dialogs/edit-nonce-dialog/components/edit-nonce-field.tsx







const EditNonceField = (0,react.memo)((props) => {
  const { onBlur } = props;
  const [field, meta, helpers] = (0,formik_esm/* useField */.Mt)("nonce");
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { width: "100%", ...props, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Input */.pd.Root, { "data-has-error": meta.error, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Input */.pd.Label, { children: "Custom nonce" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* Input */.pd.Field,
        {
          onBlur,
          value: field.value,
          onChange: async (evt) => {
            await helpers.setValue(evt.currentTarget.value);
          }
        }
      )
    ] }),
    meta.error && /* @__PURE__ */ (0,jsx_runtime.jsx)(ErrorLabel, { children: meta.error })
  ] });
});

;// CONCATENATED MODULE: ./src/app/features/dialogs/edit-nonce-dialog/components/edit-nonce-form.tsx





function EditNonceForm(props) {
  const { onBlur, onClose, onSubmit } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(EditNonceField, { onBlur }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { gap: "space.04", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { flexGrow: 1, variant: "outline", onClick: onClose, children: "Cancel" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { flexGrow: 1, onClick: onSubmit, children: "Apply" })
    ] })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/dialogs/edit-nonce-dialog/edit-nonce-dialog.tsx










const url = "https://leather.gitbook.io/guides/transactions/nonces";
function EditNonceSheet() {
  const { errors, setFieldError, setFieldValue, validateField, values } = (0,formik_esm/* useFormikContext */.j7)();
  const [loadedNextNonce, setLoadedNextNonce] = (0,react.useState)();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const { search } = (0,react_router_dist/* useLocation */.zy)();
  (0,use_on_mount/* useOnMount */.y)(() => setLoadedNextNonce(values.nonce));
  const onGoBack = (0,react.useCallback)(() => {
    if (search) {
      return navigate(".." + search, { replace: true });
    }
    navigate(-1);
  }, [navigate, search]);
  const onBlur = (0,react.useCallback)(() => validateField("nonce"), [validateField]);
  const onSubmit = (0,react.useCallback)(async () => {
    await validateField("nonce");
    if (!errors.nonce) onGoBack();
  }, [errors.nonce, onGoBack, validateField]);
  const onClose = (0,react.useCallback)(async () => {
    if (!values.nonce) await setFieldValue("nonce", void 0);
    setFieldError("nonce", "");
    await setFieldValue("nonce", loadedNextNonce);
    onGoBack();
  }, [loadedNextNonce, onGoBack, setFieldError, setFieldValue, values.nonce]);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Sheet */.cj, { isShowing: true, onClose, header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, { title: "Edit nonce" }), children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.05", pb: "space.06", px: "space.05", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.span, { textStyle: "caption.01", children: [
      "If your transaction has been pending for a long time, its nonce might not be correct.",
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Link */.N_, { fontSize: "14px", ml: "space.01", onClick: () => (0,open_in_new_tab/* openInNewTab */.V)(url), children: "Learn more." })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(EditNonceForm, { onBlur, onClose, onSubmit })
  ] }) });
}

;// CONCATENATED MODULE: ./src/app/features/stacks-high-fee-warning/stacks-high-fee-warning-container.tsx






const stacksHighFeeWarningContext = (0,react.createContext)(null);
function useStacksHighFeeWarningContext() {
  const ctx = (0,react.useContext)(stacksHighFeeWarningContext);
  if (!ctx) throw new Error(`stacksCommonSendFormContext must be used within a context`);
  return ctx;
}
const StacksHighFeeWarningProvider = stacksHighFeeWarningContext.Provider;
function StacksHighFeeWarningContainer({ children }) {
  const [showHighFeeWarningSheet, setShowHighFeeWarningSheet] = (0,react.useState)(false);
  const [hasBypassedFeeWarning, setHasBypassedFeeWarning] = (0,react.useState)(false);
  function isHighFeeWithNoFormErrors(errors, fee) {
    if (hasBypassedFeeWarning) return false;
    return (0,utils_dist/* isEmpty */.Im)(errors) && new bignumber/* default */.A(fee).isGreaterThan(constants_dist/* HIGH_FEE_AMOUNT_STX */.tc);
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    StacksHighFeeWarningProvider,
    {
      value: {
        showHighFeeWarningSheet,
        setShowHighFeeWarningSheet,
        hasBypassedFeeWarning,
        setHasBypassedFeeWarning,
        isHighFeeWithNoFormErrors
      },
      children
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/send/choose-crypto-asset/send-btc-disabled.tsx








const send_btc_disabled_body = "Sending bitcoin is temporarily disabled";
const send_btc_disabled_helpTextList = [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.li, { mt: "space.04", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", children: [
    "Learn more on Twitter at @LeatherBTC",
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.button, { onClick: () => (0,open_in_new_tab/* openInNewTab */.V)("https://twitter.com/leatherbtc"), type: "button", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ExternalLinkIcon */.pT, {}) })
  ] }) }, 1)
];
const send_btc_disabled_title = "Temporarily disabled";
function SendBtcDisabled() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { px: ["unset", "space.05"], py: "space.04", textAlign: "center", width: "100%", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    GenericError,
    {
      body: send_btc_disabled_body,
      helpTextList: send_btc_disabled_helpTextList,
      onClose: () => navigate(route_urls/* RouteUrls */.W.SendCryptoAsset),
      title: send_btc_disabled_title
    }
  ) });
}

// EXTERNAL MODULE: ./src/app/routes/account-gate.tsx
var account_gate = __webpack_require__(56217);
;// CONCATENATED MODULE: ./src/app/pages/send/choose-crypto-asset/choose-crypto-asset.tsx









function ChooseCryptoAsset() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const isBitcoinSendEnabled = (0,remote_config_query/* useConfigBitcoinSendEnabled */.bU)();
  function navigateToSendForm(symbol, contractId) {
    if (symbol === "BTC" && !isBitcoinSendEnabled) return navigate(route_urls/* RouteUrls */.W.SendBtcDisabled);
    if (contractId) {
      return navigate(`${route_urls/* RouteUrls */.W.SendCryptoAsset}/${symbol.toLowerCase()}/${contractId}`);
    }
    return navigate(`${route_urls/* RouteUrls */.W.SendCryptoAsset}/${symbol.toLowerCase()}`);
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(PageHeader, { isSettingsVisibleOnSm: false }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Content */.UC, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Page */.YW, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
      layout/* Card */.Zp,
      {
        contentStyle: {
          p: "space.00"
        },
        header: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.h1, { textStyle: "heading.03", p: "space.05", children: [
          "choose asset ",
          /* @__PURE__ */ (0,jsx_runtime.jsx)("br", {}),
          " to send"
        ] }),
        children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { pb: "space.04", px: "space.05", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(AssetList, { onSelectAsset: navigateToSendForm, variant: "interactive" }) })
      }
    ) }) })
  ] });
}

;// CONCATENATED MODULE: ./public/assets/illustrations/wax-seal.png
/* harmony default export */ const wax_seal = (__webpack_require__.p + "ab446df87f2c75ec299dda82d87d541b.png");
;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/components/tx-done.tsx




function TxDone() {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { direction: "column", alignItems: "center", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.img, { src: wax_seal, width: "208px", height: "181px", alt: "All done", mt: "space.04" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.p, { textStyle: "heading.02", mt: "space.06", children: "All done" })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/send/sent-summary/btc-sent-summary.tsx













function BtcSentSummary() {
  const { state } = (0,react_router_dist/* useLocation */.zy)();
  const toast = (0,use_toast/* useToast */.d)();
  const {
    txId,
    txValue,
    txFiatValue,
    txFiatValueSymbol,
    symbol,
    txLink,
    arrivesIn,
    sendingValue,
    recipient,
    totalSpend,
    feeRowValue
  } = state;
  const { onCopy } = useClipboard(txId);
  const { handleOpenBitcoinTxLink: handleOpenTxLink } = useBitcoinExplorerLink();
  function onClickLink() {
    void analytics/* analytics */.zS.track("view_transaction_confirmation", { symbol: "BTC" });
    handleOpenTxLink({ txid: txLink.txid });
  }
  function onClickCopy() {
    onCopy();
    toast.success("ID copied!");
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(PageHeader, { title: "Sent", isSummaryPage: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Content */.UC, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Page */.YW, { children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(
      layout/* Card */.Zp,
      {
        contentStyle: {
          p: "space.00"
        },
        footer: /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* SummaryFooter */.Kw, { onClickCopy, onClickLink }),
        children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(TxDone, {}),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            info_card/* InfoCardAssetValue */.eT,
            {
              fiatSymbol: txFiatValueSymbol,
              fiatValue: txFiatValue,
              px: "space.05",
              symbol,
              value: txValue
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { pb: "space.06", px: "space.06", width: "100%", children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "To", value: /* @__PURE__ */ (0,jsx_runtime.jsx)(FormAddressDisplayer, { address: recipient }) }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardSeparator */.ko, {}),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Total spend", value: totalSpend }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Sending", value: sendingValue }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Fee", value: feeRowValue }),
            arrivesIn && /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Arrives in", value: arrivesIn })
          ] })
        ]
      }
    ) }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/send/sent-summary/stx-sent-summary.tsx













function StxSentSummary() {
  const { state } = (0,react_router_dist/* useLocation */.zy)();
  const toast = (0,use_toast/* useToast */.d)();
  const {
    txValue,
    txFiatValue,
    txFiatValueSymbol,
    symbol,
    txLink,
    arrivesIn,
    fee,
    recipient,
    txId,
    totalSpend,
    sendingValue
  } = state;
  const { onCopy } = useClipboard(txId || "");
  const { handleOpenStacksTxLink } = useStacksExplorerLink();
  function onClickLink() {
    void analytics/* analytics */.zS.track("view_transaction_confirmation", { symbol: "STX" });
    handleOpenStacksTxLink(txLink);
  }
  function onClickCopy() {
    onCopy();
    toast.success("ID copied!");
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(PageHeader, { title: "Sent", isSummaryPage: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Content */.UC, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Page */.YW, { children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(
      layout/* Card */.Zp,
      {
        contentStyle: {
          p: "space.00"
        },
        footer: /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* SummaryFooter */.Kw, { onClickCopy, onClickLink }),
        children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(TxDone, {}),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            info_card/* InfoCardAssetValue */.eT,
            {
              fiatSymbol: txFiatValueSymbol,
              fiatValue: txFiatValue,
              px: "space.05",
              symbol,
              value: txValue
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { pb: "space.06", px: "space.06", width: "100%", children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "To", value: /* @__PURE__ */ (0,jsx_runtime.jsx)(FormAddressDisplayer, { address: recipient }) }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardSeparator */.ko, {}),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Total spend", value: totalSpend }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Sending", value: sendingValue }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Fee", value: fee }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Estimated confirmation time", value: arrivesIn })
          ] })
        ]
      }
    ) }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/components/recipient-accounts-dialog/account-list-item.tsx











const AccountListItem = (0,react.memo)(({ index, stacksAccount, onClose }) => {
  const { setFieldValue, values, setFieldTouched } = (0,formik_esm/* useFormikContext */.j7)();
  const stacksAddress = stacksAccount?.address || "";
  const { data: name = "" } = (0,use_account_names/* useAccountDisplayName */.o)({ address: stacksAddress, index });
  const bitcoinSigner = (0,native_segwit_account_hooks/* useNativeSegwitSigner */.KL)(index);
  const bitcoinAddress = bitcoinSigner?.(0).address || "";
  const onSelectAccount = () => {
    const isBitcoin = values.symbol === "BTC";
    void setFieldValue("recipient", isBitcoin ? bitcoinAddress : stacksAddress, false);
    void setFieldTouched("recipient", false);
    onClose();
  };
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    AccountListItemLayout,
    {
      accountAddresses: /* @__PURE__ */ (0,jsx_runtime.jsx)(AcccountAddresses, { index }),
      accountName: /* @__PURE__ */ (0,jsx_runtime.jsx)(AccountNameLayout, { children: name }),
      avatar: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        AccountAvatarItem,
        {
          index,
          publicKey: stacksAccount?.stxPublicKey || "",
          name
        }
      ),
      balanceLabel: /* @__PURE__ */ (0,jsx_runtime.jsx)(AccountTotalBalance, { stxAddress: stacksAddress, btcAddress: bitcoinAddress }),
      index,
      isSelected: false,
      isLoading: false,
      onSelectAccount
    }
  );
});

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/components/recipient-accounts-dialog/recipient-accounts-dialog.tsx











function RecipientAccountsSheet() {
  const stacksAccounts = (0,stacks_account_hooks/* useStacksAccounts */.Lh)();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const onGoBack = (0,react.useCallback)(() => navigate("..", { replace: true }), [navigate]);
  const bitcoinAccounts = useFilteredBitcoinAccounts();
  const btcAddressesNum = bitcoinAccounts.length / 2;
  const stacksAddressesNum = stacksAccounts.length;
  if (stacksAddressesNum === 0 && btcAddressesNum === 0) return null;
  const accountNum = stacksAddressesNum || btcAddressesNum;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Sheet */.cj,
    {
      header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, { title: "My accounts" }),
      isShowing: true,
      onClose: onGoBack,
      wrapChildren: false,
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(VirtuosoWrapper, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        react_virtuoso_dist/* Virtuoso */.aY,
        {
          style: {
            height: "100%"
          },
          itemContent: (index) => /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { my: "space.05", px: "space.05", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
            AccountListItem,
            {
              stacksAccount: stacksAccounts[index],
              onClose: onGoBack,
              index
            }
          ) }, index),
          totalCount: accountNum
        }
      ) })
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/family/bitcoin/components/send-bitcoin-asset-container.tsx




function useSendBitcoinAssetContextState() {
  const context = (0,react_router_dist/* useOutletContext */.KC)();
  return { ...context };
}
function SendBitcoinAssetContainer() {
  const [selectedFeeType, setSelectedFeeType] = (0,react.useState)(null);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, { context: { selectedFeeType, setSelectedFeeType } });
}

;// CONCATENATED MODULE: ./src/app/common/transactions/bitcoin/use-generate-bitcoin-tx.ts







function useGenerateUnsignedNativeSegwitTx() {
  const signer = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSigner */.sz)();
  const networkMode = (0,bitcoin_keychain/* useBitcoinScureLibNetworkConfig */.F5)();
  return (0,react.useCallback)(
    async (values, feeRate, utxos, isSendingMax) => {
      if (!utxos.length) return;
      if (!feeRate) return;
      try {
        const tx = new esm_transaction/* Transaction */.ZX();
        const determineUtxosArgs = {
          feeRate,
          recipients: values.recipients,
          utxos
        };
        const { inputs, outputs, fee } = isSendingMax ? determineUtxosForSpendAll(determineUtxosArgs) : determineUtxosForSpend(determineUtxosArgs);
        logger/* logger */.v.info("Coin selection", { inputs, outputs, fee });
        if (!inputs.length) throw new Error("No inputs to sign");
        if (!outputs.length) throw new Error("No outputs to sign");
        const p2wpkh = payment/* p2wpkh */.LY(signer.publicKey, networkMode);
        for (const input of inputs) {
          tx.addInput({
            txid: input.txid,
            index: input.vout,
            sequence: 0,
            witnessUtxo: {
              // script = 0014 + pubKeyHash
              script: p2wpkh.script,
              amount: BigInt(input.value)
            }
          });
        }
        outputs.forEach((output) => {
          if (!output.address) {
            tx.addOutputAddress(signer.address, BigInt(output.value), networkMode);
            return;
          }
          tx.addOutputAddress(output.address, BigInt(output.value), networkMode);
        });
        return { hex: tx.hex, fee, psbt: tx.toPSBT(), inputs };
      } catch (e) {
        console.log("Error signing bitcoin transaction", e);
        return null;
      }
    },
    [networkMode, signer.address, signer.publicKey]
  );
}

;// CONCATENATED MODULE: ./src/app/common/transactions/bitcoin/fees/calculate-max-bitcoin-spend.ts




function calculateMaxBitcoinSpend({
  address,
  utxos,
  feeRate,
  fetchedFeeRates
}) {
  if (!utxos.length || !fetchedFeeRates)
    return {
      spendAllFee: 0,
      amount: (0,utils_dist/* createMoney */.j6)(0, "BTC"),
      spendableBitcoin: new bignumber/* default */.A(0)
    };
  const currentFeeRate = feeRate ?? fetchedFeeRates.halfHourFee.toNumber();
  const filteredUtxos = filterUneconomicalUtxos({
    utxos,
    feeRate: currentFeeRate,
    recipients: [{ address, amount: (0,utils_dist/* createMoney */.j6)(0, "BTC") }]
  });
  const { spendableAmount, fee } = getSpendableAmount({
    utxos: filteredUtxos,
    feeRate: currentFeeRate,
    recipients: [{ address, amount: (0,utils_dist/* createMoney */.j6)(0, "BTC") }]
  });
  return {
    spendAllFee: fee,
    amount: (0,utils_dist/* createMoney */.j6)(spendableAmount, "BTC"),
    spendableBitcoin: (0,utils_dist/* satToBtc */.VK)(spendableAmount)
  };
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/family/bitcoin/hooks/use-calculate-max-spend.ts




function useCalculateMaxBitcoinSpend() {
  const { data: feeRates } = (0,query_dist/* useAverageBitcoinFeeRates */._iG)();
  return (0,react.useCallback)(
    (address = "", utxos, feeRate) => calculateMaxBitcoinSpend({
      address,
      utxos,
      feeRate,
      fetchedFeeRates: feeRates
    }),
    [feeRates]
  );
}

// EXTERNAL MODULE: ./node_modules/.pnpm/axios@1.7.4/node_modules/axios/index.js
var node_modules_axios = __webpack_require__(46698);
;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/hooks/use-send-form-navigate.ts






function useSendFormNavigate() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const location = (0,react_router_dist/* useLocation */.zy)();
  return (0,react.useMemo)(
    () => ({
      backToSendForm(state) {
        return navigate("../", { relative: "path", replace: true, state });
      },
      toChooseTransactionFee(isSendingMax, utxos, values) {
        return navigate(route_urls/* RouteUrls */.W.SendBtcChooseFee, {
          replace: true,
          state: {
            isSendingMax,
            utxos,
            values
          }
        });
      },
      toConfirmAndSignBtcTransaction({
        tx,
        recipient,
        fee,
        feeRowValue,
        time
      }) {
        return navigate(route_urls/* RouteUrls */.W.SendBtcConfirmation, {
          state: {
            tx,
            recipient,
            fee,
            feeRowValue,
            time
          }
        });
      },
      toConfirmAndSignStxTransaction(tx, showFeeChangeWarning) {
        return navigate(route_urls/* RouteUrls */.W.SendStxConfirmation, {
          replace: true,
          state: {
            tx: (0,esm_utils/* bytesToHex */.My)(tx.serialize()),
            showFeeChangeWarning
          }
        });
      },
      toConfirmAndSignStacksSip10Transaction({
        decimals,
        name,
        tx
      }) {
        return navigate(`${location.pathname}/confirm`, {
          state: {
            decimals,
            token: name,
            tx: (0,esm_utils/* bytesToHex */.My)(tx.serialize())
          }
        });
      },
      toErrorPage(error) {
        const processedError = error instanceof node_modules_axios/* AxiosError */.pe ? new Error(error.message) : error;
        return navigate("../error", {
          relative: "path",
          replace: true,
          state: { error: processedError }
        });
      }
    }),
    [navigate, location]
  );
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/form/btc/use-btc-choose-fee.tsx









function useBtcChooseFee() {
  const { isSendingMax, txValues, utxos } = useBtcChooseFeeState();
  const sendFormNavigate = useSendFormNavigate();
  const generateTx = useGenerateUnsignedNativeSegwitTx();
  const calcMaxSpend = useCalculateMaxBitcoinSpend();
  const signTx = (0,bitcoin_hooks/* useSignBitcoinTx */.nn)();
  const amountAsMoney = (0,utils_dist/* createMoney */.j6)((0,utils_dist/* btcToSat */.V7)(txValues.amount).toNumber(), "BTC");
  return {
    amountAsMoney,
    async previewTransaction({ feeRate, feeValue, time, isCustomFee }) {
      const amount = isSendingMax ? calcMaxSpend(txValues.recipient, utxos, feeRate).amount : amountAsMoney;
      const resp = await generateTx(
        {
          amount,
          recipients: [
            {
              address: txValues.recipient,
              amount
            }
          ]
        },
        feeRate,
        utxos,
        isSendingMax
      );
      const feeRowValue = formFeeRowValue(feeRate, isCustomFee);
      if (!resp) return logger/* logger */.v.error("Attempted to generate raw tx, but no tx exists");
      const signedTx = await signTx(resp.psbt);
      if (!signedTx) return logger/* logger */.v.error("Attempted to sign tx, but no tx exists");
      signedTx.finalize();
      sendFormNavigate.toConfirmAndSignBtcTransaction({
        tx: signedTx.hex,
        recipient: txValues.recipient,
        fee: feeValue,
        feeRowValue,
        time
      });
    }
  };
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/form/btc/btc-choose-fee.tsx












function useBtcChooseFeeState() {
  const isSendingMax = useLocationStateWithCache("isSendingMax");
  const txValues = useLocationStateWithCache("values");
  const utxos = useLocationStateWithCache("utxos");
  return { isSendingMax, txValues, utxos };
}
function BtcChooseFee() {
  const { isSendingMax, txValues, utxos } = useBtcChooseFeeState();
  const { selectedFeeType, setSelectedFeeType } = useSendBitcoinAssetContextState();
  const { amountAsMoney, previewTransaction } = useBtcChooseFee();
  const { feesList, isLoading } = useBitcoinFeesList({
    amount: amountAsMoney,
    isSendingMax,
    recipient: txValues.recipient,
    utxos
  });
  const recipients = [
    {
      address: txValues.recipient,
      amount: amountAsMoney
    }
  ];
  const recommendedFeeRate = feesList[1]?.feeRate.toString() || "";
  const { showInsufficientBalanceError, onValidateBitcoinAmountSpend } = useValidateBitcoinSpend(
    amountAsMoney,
    isSendingMax
  );
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(PageHeader, { title: "Send" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Content */.UC, { children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(layout/* Page */.YW, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        BitcoinChooseFee,
        {
          amount: amountAsMoney,
          defaultToCustomFee: !feesList.length,
          feesList: /* @__PURE__ */ (0,jsx_runtime.jsx)(
            BitcoinFeesList,
            {
              feesList,
              isLoading,
              onChooseFee: previewTransaction,
              onSetSelectedFeeType: (value) => setSelectedFeeType(value),
              onValidateBitcoinSpend: onValidateBitcoinAmountSpend,
              selectedFeeType
            }
          ),
          isLoading,
          isSendingMax,
          onChooseFee: previewTransaction,
          onValidateBitcoinSpend: onValidateBitcoinAmountSpend,
          onSetSelectedFeeType: (value) => setSelectedFeeType(value),
          recipients,
          recommendedFeeRate,
          showError: showInsufficientBalanceError,
          maxRecommendedFeeRate: feesList[0]?.feeRate
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
    ] }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/components/amount-field.tsx










const amountInputId = "amount-input";
const maxFontSize = 48;
const minFontSize = 22;
const maxLength = constants_dist/* STX_DECIMALS */.vI + 12;
function getAmountModifiedFontSize(props) {
  const { fontSize, fontSizeModifier, maxFontSize: maxFontSize2, amount, symbol } = props;
  const convertedAmountFontSize = amount.length * fontSizeModifier;
  return amount.length > symbol.length ? Math.ceil(fontSize - convertedAmountFontSize) : maxFontSize2;
}
function AmountField({
  autoComplete = "on",
  autofocus = false,
  balance,
  bottomInputOverlay,
  isSendingMax,
  onSetIsSendingMax,
  switchableAmount,
  tokenSymbol
}) {
  const [field, meta, helpers] = (0,formik_esm/* useField */.Mt)("amount");
  const showError = useShowFieldError("amount");
  const [fontSize, setFontSize] = (0,react.useState)(maxFontSize);
  const [textSizeInPx, setTextSizeInPx] = (0,react.useState)(0);
  const [previousTextLength, setPreviousTextLength] = (0,react.useState)(1);
  const fieldRef = (0,react.useRef)(null);
  const symbol = tokenSymbol || balance.symbol;
  const fontSizeModifier = (maxFontSize - minFontSize) / maxLength;
  const subtractedLengthToPositionPrefix = 0.5;
  const onChange = (event) => {
    const value = event.currentTarget.value;
    if (symbol.length <= constants_dist/* TOKEN_NAME_LENGTH */.R4 && value.length !== 1) {
      const t = value.length / (symbol.length + maxLength);
      const newFontSize = (0,common_utils/* linearInterpolation */.Q8)({ start: maxFontSize, end: minFontSize, t });
      setFontSize(newFontSize);
    }
    field.onChange(event);
  };
  (0,react.useEffect)(() => {
    if (symbol.length > constants_dist/* TOKEN_NAME_LENGTH */.R4) setFontSize(minFontSize);
    if (field.value.length > symbol.length && field.value.length > previousTextLength + 2) {
      const modifiedFontSize = getAmountModifiedFontSize({
        amount: field.value,
        fontSize,
        fontSizeModifier,
        maxFontSize,
        symbol
      });
      setFontSize(modifiedFontSize < minFontSize ? minFontSize : modifiedFontSize);
    }
    setPreviousTextLength(
      isSendingMax ? field.value.length - subtractedLengthToPositionPrefix : field.value.length
    );
  }, [field.value, fontSize, fontSizeModifier, isSendingMax, previousTextLength, symbol]);
  (0,react.useEffect)(() => {
    const resizeObserver = new ResizeObserver((entries) => {
      const [text] = entries;
      const [size] = text?.contentBoxSize;
      if (size) {
        const { inlineSize } = size;
        setTextSizeInPx(inlineSize);
      }
    });
    const sizeReference = fieldRef.current;
    if (sizeReference) {
      resizeObserver.observe(sizeReference);
    }
    () => resizeObserver.disconnect();
  }, []);
  const onClickFocusInput = (0,react.useCallback)(() => {
    if (isSendingMax) {
      void helpers.setValue("");
      onSetIsSendingMax?.(false);
    }
    setTimeout(() => {
      document.getElementById(amountInputId)?.focus();
    });
  }, [isSendingMax, helpers, onSetIsSendingMax]);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { alignItems: "center", gap: ["space.04", showError ? "space.04" : "48px"], width: "100%", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { alignItems: "center", flexDirection: "column", onClick: onClickFocusInput, width: "100%", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)(
        jsx/* Flex */.so,
        {
          alignItems: "center",
          height: "55px",
          justifyContent: "center",
          fontWeight: 500,
          position: "relative",
          fontFamily: "Marche",
          children: [
            isSendingMax ? /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { style: { fontSize: fontSize + "px" }, children: "~" }) : null,
            /* @__PURE__ */ (0,jsx_runtime.jsx)(
              jsx/* styled */.I4.input,
              {
                _disabled: { bg: "ink.background-primary" },
                _focus: {
                  border: "none",
                  color: "ink.text-primary"
                },
                bg: "transparent",
                border: "none",
                "data-testid": SendCryptoAssetSelectors.AmountFieldInput,
                height: "100%",
                id: amountInputId,
                disabled: isSendingMax,
                maxLength,
                placeholder: "0",
                px: "none",
                ring: "none",
                style: {
                  fontSize: fontSize + "px",
                  marginInlineStart: !field.value?.length ? 0 : "-25px",
                  width: !field.value?.length ? "1ch" : textSizeInPx + 25 + "px"
                },
                textAlign: "right",
                letterSpacing: "0.64px",
                autoFocus: autofocus,
                fontWeight: 500,
                autoComplete,
                ...field,
                onChange
              }
            ),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(
              jsx/* styled */.I4.span,
              {
                position: "absolute",
                ref: fieldRef,
                visibility: "hidden",
                pointerEvents: "none",
                top: 0,
                left: 0,
                letterSpacing: -0.3 + "px",
                fontWeight: 500,
                minWidth: "1ch",
                style: { fontSize: fontSize + "px" },
                children: field.value
              }
            ),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(
              jsx/* styled */.I4.span,
              {
                fontFamily: "Marche",
                color: "ink.text-primary",
                letterSpacing: "0.64px",
                pl: "space.02",
                style: { fontSize: fontSize + "px" },
                children: symbol.toUpperCase()
              }
            )
          ]
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mt: "12px", children: switchableAmount && switchableAmount })
    ] }),
    showError && /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(ErrorLabel, { "data-testid": SendCryptoAssetSelectors.AmountFieldInputErrorLabel, children: meta.error }) }),
    bottomInputOverlay
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/components/selected-asset-field.tsx






function SelectedAssetField({ icon, name, symbol }) {
  const [, , helpers] = (0,formik_esm/* useField */.Mt)("symbol");
  (0,use_on_mount/* useOnMount */.y)(() => helpers.setValue(symbol));
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* Flex */.so,
    {
      alignItems: "center",
      border: "default",
      borderRadius: "sm",
      minHeight: "64px",
      mb: "space.04",
      mt: "space.06",
      px: "space.04",
      width: "100%",
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(formik_esm/* Field */.D0, { as: "div", name: "symbol", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Flag */.lN, { img: icon, spacing: "space.03", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.01", children: name }) }) })
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/components/send-fiat-value.tsx






function SendFiatValue({ marketData, assetSymbol = "", assetDecimals }) {
  const [field] = (0,formik_esm/* useField */.Mt)("amount");
  const [assetValue, setAssetValue] = (0,react.useState)(
    (0,utils_dist/* createMoneyFromDecimal */.cU)(0, assetSymbol, assetDecimals)
  );
  (0,react.useEffect)(() => {
    let amount = Number(field.value);
    if (isNaN(amount) || !(0,utils_dist/* isNumber */.Et)(amount) || amount < 0) {
      amount = 0;
    }
    const assetAmount = (0,utils_dist/* createMoneyFromDecimal */.cU)(amount, assetSymbol, assetDecimals);
    setAssetValue(assetAmount);
  }, [field.value, assetSymbol, assetDecimals]);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.span, { textStyle: "body.02", color: "ink.text-subdued", children: [
    Number(field.value) > 0 && "~",
    " ",
    (0,utils_dist/* i18nFormatCurrency */.Lx)((0,utils_dist/* baseCurrencyAmountInQuote */.uE)(assetValue, marketData)),
    " USD"
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/components/recipient-accounts-dialog/select-account-button.tsx




function SelectAccountButton({ onClick, ...props }) {
  function preventFocusOfUnderlyingInput(e) {
    e.preventDefault();
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* styled */.I4.button,
    {
      type: "button",
      color: "ink.text-primary",
      userSelect: "none",
      textStyle: "label.03",
      _hover: { color: "ink.action-primary-hover" },
      "data-testid": SendCryptoAssetSelectors.RecipientChooseAccountButton,
      onMouseDown: (e) => preventFocusOfUnderlyingInput(e),
      onClick: (e) => {
        e.target.focus();
        onClick?.();
      },
      zIndex: 9,
      ...props,
      children: "Select account"
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/components/recipient-fields/hooks/use-recipient-bns-name.tsx







function useRecipientBnsName() {
  const { setFieldError, setFieldValue, values } = (0,formik_esm/* useFormikContext */.j7)();
  const [bnsAddress, setBnsAddress] = (0,react.useState)("");
  const currentNetwork = (0,networks_hooks/* useCurrentNetworkState */.uZ)();
  const client = (0,query_dist/* useStacksClient */.mri)();
  const getBnsAddressAndValidate = (0,react.useCallback)(
    async (fetchFn) => {
      setBnsAddress("");
      if (!values.recipientBnsName) return;
      try {
        const owner = await fetchFn(client, values.recipientBnsName, currentNetwork.isTestnet);
        if (owner) {
          setBnsAddress(owner);
          setFieldError("recipient", void 0);
          await setFieldValue("recipient", owner);
        } else {
          setFieldError("recipientBnsName", FormErrorMessages.BnsAddressNotFound);
        }
      } catch (e) {
        setFieldError("recipientBnsName", FormErrorMessages.BnsAddressNotFound);
        logger/* logger */.v.error("Error fetching bns address", e);
      }
    },
    [client, currentNetwork.isTestnet, setFieldError, setFieldValue, values.recipientBnsName]
  );
  return { bnsAddress, getBnsAddressAndValidate, setBnsAddress };
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/components/recipient-fields/hooks/use-recipient-select-fields.tsx






const recipientIdentifierTypesMap = { address: "Address", bnsName: "BNS Name" };
function makeIteratbleListOfRecipientIdentifierTypes(recipientTypeMap) {
  return Object.entries(recipientTypeMap).map(
    ([key, value]) => ({ key, label: value })
  );
}
const recipientIdentifierTypes = makeIteratbleListOfRecipientIdentifierTypes(
  recipientIdentifierTypesMap
);
function useRecipientSelectFields() {
  const { setFieldError, setFieldTouched, setFieldValue } = (0,formik_esm/* useFormikContext */.j7)();
  const [selectedRecipientField, setSelectedRecipientField] = (0,react.useState)("address");
  const [isSelectVisible, setIsSelectVisible] = (0,react.useState)(false);
  const { setBnsAddress } = useRecipientBnsName();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const resetAllRecipientFields = (0,react.useCallback)(async () => {
    void setFieldValue("recipient", "");
    setFieldError("recipient", void 0);
    await setFieldTouched("recipient", false);
    void setFieldValue("recipientBnsName", "");
    setFieldError("recipientBnsName", void 0);
    await setFieldTouched("recipientBnsName", false);
  }, [setFieldValue, setFieldError, setFieldTouched]);
  return (0,react.useMemo)(
    () => ({
      selectedRecipientField,
      selectedRecipientFieldName: recipientIdentifierTypesMap[selectedRecipientField],
      isSelectVisible,
      showRecipientAccountsModal() {
        setSelectedRecipientField("address");
        navigate(route_urls/* RouteUrls */.W.SendCryptoAssetFormRecipientAccounts, { replace: true });
      },
      async onSelectRecipientFieldType(recipientType) {
        await resetAllRecipientFields();
        setBnsAddress("");
        setSelectedRecipientField(recipientType);
        setIsSelectVisible(false);
      },
      async onSetIsSelectVisible(value) {
        await resetAllRecipientFields();
        setIsSelectVisible(value);
      }
    }),
    [isSelectVisible, navigate, resetAllRecipientFields, selectedRecipientField, setBnsAddress]
  );
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/components/recipient-type-dropdown/recipient-type-dropdown.tsx





function RecipientIdentifierTypeDropdown(props) {
  const { activeRecipientIdentifierType, onSelectRecipientIdentifierType } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* DropdownMenu */.rI.Root, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      exports_web/* DropdownMenu */.rI.Trigger,
      {
        "data-testid": SendCryptoAssetSelectors.RecipientSelectRecipientTypeDropdown,
        children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* Flag */.lN,
          {
            reverse: true,
            img: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ChevronDownIcon */.D3, { variant: "small" }),
            spacing: "space.01",
            color: "ink.text-primary",
            _hover: { color: "ink.action-primary-hover" },
            children: activeRecipientIdentifierType
          }
        )
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* DropdownMenu */.rI.Portal, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* DropdownMenu */.rI.Content, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* DropdownMenu */.rI.Group, { children: recipientIdentifierTypes.map((type) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      exports_web/* DropdownMenu */.rI.Item,
      {
        onSelect: () => onSelectRecipientIdentifierType(type.key),
        "data-testid": `recipient-select-field-${type.key}`,
        children: type.label
      },
      type.key
    )) }) }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/components/recipient-fields/components/recipient-address-displayer.tsx









function RecipientAddressDisplayer({ address }) {
  const { onCopy, hasCopied } = useClipboard(address);
  const copyToClipboard = (0,react.useCallback)(() => {
    void analytics/* analytics */.zS.track("copy_recipient_bns_address_to_clipboard");
    onCopy();
  }, [onCopy]);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { mb: "space.04", width: "100%", px: "space.04", mt: "space.02", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      jsx/* styled */.I4.span,
      {
        textStyle: "caption.01",
        "data-testid": SendCryptoAssetSelectors.RecipientBnsAddressLabel,
        children: address
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(basic_tooltip/* BasicTooltip */.G, { label: hasCopied ? "Copied!" : "Copy address", side: "right", asChild: true, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
      jsx/* styled */.I4.button,
      {
        _hover: { cursor: "pointer" },
        "data-testid": SendCryptoAssetSelectors.RecipientBnsAddressCopyToClipboard,
        onClick: copyToClipboard,
        type: "button",
        children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CopyIcon */.Td, {})
      }
    ) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/components/recipient-fields/recipient-bns-name-type-field.tsx







function RecipientBnsNameTypeField({
  fetchFn,
  topInputOverlay,
  rightLabel
}) {
  const [showBnsAddress, setShowBnsAddress] = (0,react.useState)(false);
  const { errors, setFieldError, values } = (0,formik_esm/* useFormikContext */.j7)();
  const { bnsAddress, getBnsAddressAndValidate } = useRecipientBnsName();
  (0,react.useEffect)(() => {
    if (!errors.recipient) {
      bnsAddress && setShowBnsAddress(true);
      setFieldError("recipientBnsName", void 0);
    }
    if (values.recipient && errors.recipient) {
      setShowBnsAddress(false);
      setFieldError("recipientBnsName", errors.recipient);
    }
  }, [bnsAddress, errors.recipient, setFieldError, values.recipient]);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      RecipientAddressTypeField,
      {
        name: "recipientBnsName",
        onBlur: () => getBnsAddressAndValidate(fetchFn),
        placeholder: "Enter recipient BNS name",
        topInputOverlay,
        rightLabel
      }
    ),
    showBnsAddress ? /* @__PURE__ */ (0,jsx_runtime.jsx)(RecipientAddressDisplayer, { address: bnsAddress }) : null
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/components/recipient-fields/recipient-field.tsx








function RecipientField({ bnsLookupFn }) {
  const {
    showRecipientAccountsModal,
    onSelectRecipientFieldType,
    selectedRecipientFieldName,
    selectedRecipientField
  } = useRecipientSelectFields();
  const recipientDropdown = /* @__PURE__ */ (0,jsx_runtime.jsx)(
    RecipientIdentifierTypeDropdown,
    {
      activeRecipientIdentifierType: selectedRecipientFieldName,
      onSelectRecipientIdentifierType: (recipientType) => onSelectRecipientFieldType(recipientType)
    }
  );
  const selectAccountButton = /* @__PURE__ */ (0,jsx_runtime.jsx)(SelectAccountButton, { onClick: showRecipientAccountsModal });
  switch (selectedRecipientField) {
    case "bnsName":
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          RecipientBnsNameTypeField,
          {
            fetchFn: bnsLookupFn,
            rightLabel: selectAccountButton,
            topInputOverlay: recipientDropdown
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(TextInputFieldError, { name: "recipientBnsName" })
      ] });
    case "address":
    default:
      return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          RecipientAddressTypeField,
          {
            name: "recipient",
            rightLabel: selectAccountButton,
            placeholder: "Enter recipient address",
            topInputOverlay: recipientDropdown
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(TextInputFieldError, { name: "recipient" })
      ] });
  }
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/family/bitcoin/components/bitcoin-recipient-field.tsx




function TransferRecipientField() {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(RecipientField, { bnsLookupFn: query_dist/* fetchBtcNameOwner */.ymZ });
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/family/bitcoin/hooks/use-send-max.tsx





function useSendMax({
  balance,
  isSendingMax,
  onSetIsSendingMax,
  sendMaxBalance,
  sendMaxFee
}) {
  const [, _, amountFieldHelpers] = (0,formik_esm/* useField */.Mt)("amount");
  const [, __, feeFieldHelpers] = (0,formik_esm/* useField */.Mt)("fee");
  const toast = (0,use_toast/* useToast */.d)();
  return (0,react.useCallback)(() => {
    void analytics/* analytics */.zS.track("select_maximum_amount_for_send");
    if (balance.amount.isLessThanOrEqualTo(0)) {
      toast.error("Zero balance");
      return;
    }
    onSetIsSendingMax(!isSendingMax);
    void feeFieldHelpers.setValue(sendMaxFee);
    void amountFieldHelpers.setValue(sendMaxBalance, false);
    void amountFieldHelpers.setTouched(false, false);
    amountFieldHelpers.setError(void 0);
  }, [
    amountFieldHelpers,
    balance.amount,
    feeFieldHelpers,
    isSendingMax,
    onSetIsSendingMax,
    sendMaxBalance,
    sendMaxFee,
    toast
  ]);
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/family/bitcoin/components/bitcoin-send-max-button.tsx







const sendMaxTooltipLabel = "This amount is affected by the fee you choose";
function BitcoinSendMaxButton({
  balance,
  isSendingMax,
  onSetIsSendingMax,
  sendMaxBalance,
  sendMaxFee,
  ...props
}) {
  const onSendMax = useSendMax({
    balance,
    isSendingMax,
    onSetIsSendingMax,
    sendMaxBalance,
    sendMaxFee
  });
  if (sendMaxBalance === "0") return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { height: "32px" });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(basic_tooltip/* BasicTooltip */.G, { label: sendMaxTooltipLabel, side: "bottom", asChild: true, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Link */.N_,
    {
      "data-testid": SendCryptoAssetSelectors.SendMaxBtn,
      onClick: () => onSendMax(),
      ...props,
      children: isSendingMax ? "Sending max" : "Send max"
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/hooks/use-send-form-route-state.ts



function useSendFormRouteState() {
  const { state } = (0,react_router_dist/* useLocation */.zy)();
  return {
    amount: lodash_get_default()(state, "amount", ""),
    recipient: lodash_get_default()(state, "recipient", ""),
    ...state
  };
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/send-form.utils.ts

function createDefaultInitialFormValues(obj) {
  return { amount: "", recipient: "", ...obj };
}
const defaultSendFormFormikProps = {
  validateOnChange: false,
  validateOnMount: false
};

;// CONCATENATED MODULE: ./src/app/common/validation/forms/address-validators.ts





function notCurrentAddressValidatorFactory(currentAddress) {
  return (value) => value !== currentAddress;
}
function notCurrentAddressValidator(currentAddress) {
  return yup_index_esm/* string */.Yj().test({
    message: FormErrorMessages.SameAddress,
    test: notCurrentAddressValidatorFactory(currentAddress)
  });
}
function stxAddressNetworkValidatorFactory(currentNetwork) {
  return (value) => {
    if ((0,utils_dist/* isUndefined */.b0)(value) || (0,utils_dist/* isEmptyString */.jw)(value)) return true;
    return (0,stacks_utils/* validateAddressChain */.wS)(value, currentNetwork);
  };
}
function stxAddressNetworkValidator(currentNetwork) {
  return yup_index_esm/* string */.Yj().test({
    message: FormErrorMessages.IncorrectNetworkAddress,
    test: stxAddressNetworkValidatorFactory(currentNetwork)
  });
}
function stxAddressValidator(errorMsg) {
  return yup_index_esm/* string */.Yj().test({
    message: errorMsg,
    test(value) {
      if ((0,utils_dist/* isUndefined */.b0)(value) || (0,utils_dist/* isEmptyString */.jw)(value)) return true;
      return (0,stacks_utils/* validateStacksAddress */.cU)(value);
    }
  });
}

;// CONCATENATED MODULE: ./src/app/common/validation/forms/amount-validators.ts








const minSpendAmountInSats = 546;
function amountValidator() {
  return yup_index_esm/* number */.ai().required(FormErrorMessages.AmountRequired).positive(FormErrorMessages.MustBePositive).typeError("Amount must be a number");
}
function btcInsufficientBalanceValidator({
  calcMaxSpend,
  recipient,
  utxos
}) {
  return yup_index_esm/* number */.ai().typeError(FormErrorMessages.MustBeNumber).test({
    message: FormErrorMessages.InsufficientFunds,
    test(value) {
      if (!value) return false;
      const maxSpend = calcMaxSpend(recipient, utxos);
      if (!maxSpend) return false;
      const desiredSpend = new bignumber/* default */.A(value);
      if (desiredSpend.isGreaterThan(maxSpend.spendableBitcoin)) return false;
      return true;
    }
  });
}
function btcMinimumSpendValidator() {
  return yup_index_esm/* number */.ai().typeError(FormErrorMessages.MustBeNumber).test({
    message: `Minimum is ${(0,utils_dist/* satToBtc */.VK)(minSpendAmountInSats)}`,
    test(value) {
      if (!value) return false;
      const desiredSpend = (0,utils_dist/* btcToSat */.V7)(value);
      if (desiredSpend.isLessThan(minSpendAmountInSats)) return false;
      return true;
    }
  });
}
function stxAmountValidator(availableStxBalance) {
  return yup_index_esm/* number */.ai().typeError(FormErrorMessages.MustBeNumber).concat(currencyAmountValidator()).concat(stxAmountPrecisionValidator(formatPrecisionError(availableStxBalance)));
}
function stxAvailableBalanceValidator(availableBalance) {
  return yup_index_esm/* number */.ai().typeError(FormErrorMessages.MustBeNumber).test({
    message: formatInsufficientBalanceError(
      availableBalance,
      (sum) => (0,utils_dist/* microStxToStx */.Am)(sum.amount).toString()
    ),
    test(value) {
      const fee = new bignumber/* default */.A((0,utils_dist/* stxToMicroStx */.Ey)(this.parent.fee));
      if (!fee.isFinite()) {
        void analytics/* analytics */.zS.track("unable_to_read_fee_in_stx_validator");
        return this.createError({ message: "Unable to read current fee" });
      }
      if (!(0,utils_dist/* isNumber */.Et)(value)) return false;
      if (!availableBalance) {
        void analytics/* analytics */.zS.track("unable_to_read_available_balance_in_stx_validator");
        return this.createError({ message: "Available balance unknown" });
      }
      const availableBalanceLessFee = availableBalance.amount.minus(fee);
      return availableBalanceLessFee.isGreaterThanOrEqualTo((0,utils_dist/* stxToMicroStx */.Ey)(value));
    }
  });
}
function stacksFungibleTokenAmountValidator(balance) {
  const { amount, decimals } = balance;
  return amountValidator().test((value, context) => {
    if (!(0,utils_dist/* isNumber */.Et)(value)) return false;
    if (!decimals && (0,utils_dist/* countDecimals */.AP)(value) > 0)
      return context.createError({
        message: FormErrorMessages.DoesNotSupportDecimals
      });
    if ((0,utils_dist/* countDecimals */.AP)(value) > decimals) {
      return context.createError({ message: formatPrecisionError(balance) });
    }
    return true;
  }).test({
    message: formatInsufficientBalanceError(balance, (sum) => (0,utils_dist/* microStxToStx */.Am)(sum.amount).toString()),
    test(value) {
      if (!(0,utils_dist/* isNumber */.Et)(value) || !amount) return false;
      return new bignumber/* default */.A(value).isLessThanOrEqualTo((0,utils_dist/* convertAmountToBaseUnit */.AG)(amount, decimals));
    }
  });
}

;// CONCATENATED MODULE: ./src/app/features/popup-send-form-restoration/use-update-persisted-send-form-values.ts





function useUpdatePersistedSendFormValues() {
  const activeTab = (0,react_async_hook_esm/* useAsync */.Yb)(getActiveTab, []).result;
  function onFormStateChange(state) {
    if (!(0,common_utils/* isPopupMode */.GD)() || !activeTab || !chrome.storage.session) return;
    chrome.storage.session.set({ ["form-state-" + activeTab.id?.toString()]: state });
  }
  (0,react.useEffect)(
    () => () => {
      if (!(0,common_utils/* isPopupMode */.GD)()) return;
      if (!activeTab) return;
      if (!chrome.storage.session) return;
      chrome.storage.session.remove("form-state-" + activeTab.id?.toString());
    },
    [activeTab]
  );
  return { onFormStateChange };
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/form/btc/use-btc-send-form.tsx



















function useBtcSendForm() {
  const [isSendingMax, setIsSendingMax] = (0,react.useState)(false);
  const formRef = (0,react.useRef)(null);
  const currentNetwork = (0,networks_selectors/* useCurrentNetwork */.Rm)();
  const nativeSegwitSigner = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSigner */.sz)();
  const { data: utxos = [], filteredUtxosQuery } = useCurrentNativeSegwitUtxos();
  const { balance } = (0,btc_balance_native_segwit_hooks/* useCurrentBtcCryptoAssetBalanceNativeSegwit */.J)();
  const sendFormNavigate = useSendFormNavigate();
  const calcMaxSpend = useCalculateMaxBitcoinSpend();
  const { onFormStateChange } = useUpdatePersistedSendFormValues();
  (0,use_on_mount/* useOnMount */.y)(() => filteredUtxosQuery.refetch());
  return {
    balance,
    calcMaxSpend,
    currentNetwork,
    formRef,
    isSendingMax,
    onFormStateChange,
    onSetIsSendingMax(value) {
      setIsSendingMax(value);
    },
    utxos,
    validationSchema: yup_index_esm/* object */.Ik({
      amount: yup_index_esm/* number */.ai().concat(btcMinimumSpendValidator()).concat(currency_validators_btcAmountPrecisionValidator(formatPrecisionError(balance.availableBalance))).concat(currencyAmountValidator()).concat(
        btcInsufficientBalanceValidator({
          calcMaxSpend,
          // TODO: investigate yup features for cross-field validation
          // to prevent need to access form via ref
          recipient: formRef.current?.values.recipient ?? "",
          utxos
        })
      ),
      recipient: yup_index_esm/* string */.Yj().defined(FormErrorMessages.AddressRequired).concat(btcAddressValidator()).concat(btcAddressNetworkValidator(currentNetwork.chain.bitcoin.mode)).concat(notCurrentAddressValidator(nativeSegwitSigner.address || "")).concat(
        complianceValidator(
          btcAddressValidator(),
          (0,bitcoin_dist/* bitcoinNetworkModeToCoreNetworkMode */.Vw)(currentNetwork.chain.bitcoin.mode)
        )
      )
    }),
    async chooseTransactionFee(values, formikHelpers) {
      await formikHelpers.validateForm();
      sendFormNavigate.toChooseTransactionFee(isSendingMax, utxos, values);
    }
  };
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/form/btc/btc-send-form.tsx




















const symbol = "BTC";
function BtcSendForm() {
  const routeState = useSendFormRouteState();
  const isPrivate = (0,settings_settings_selectors/* useIsPrivateMode */.cT)();
  const marketData = (0,query_dist/* useCryptoCurrencyMarketDataMeanAverage */.UoM)("BTC");
  const {
    balance,
    calcMaxSpend,
    chooseTransactionFee,
    currentNetwork,
    formRef,
    isSendingMax,
    onFormStateChange,
    onSetIsSendingMax,
    utxos,
    validationSchema
  } = useBtcSendForm();
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(PageHeader, { title: "Send" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Content */.UC, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Page */.YW, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
      formik_esm/* Formik */.l1,
      {
        initialValues: createDefaultInitialFormValues({
          ...routeState,
          recipientBnsName: "",
          symbol
        }),
        onSubmit: chooseTransactionFee,
        validationSchema,
        innerRef: formRef,
        ...defaultSendFormFormikProps,
        children: (props) => {
          onFormStateChange(props.values);
          const sendMaxCalculation = calcMaxSpend(props.values.recipient, utxos);
          return /* @__PURE__ */ (0,jsx_runtime.jsxs)(formik_esm/* Form */.lV, { children: [
            /* @__PURE__ */ (0,jsx_runtime.jsxs)(
              layout/* Card */.Zp,
              {
                dataTestId: SendCryptoAssetSelectors.SendForm,
                footer: /* @__PURE__ */ (0,jsx_runtime.jsxs)(layout/* ButtonRow */.zE, { children: [
                  /* @__PURE__ */ (0,jsx_runtime.jsx)(
                    exports_web/* Button */.$n,
                    {
                      "aria-busy": props.isValidating,
                      "data-testid": SendCryptoAssetSelectors.PreviewSendTxBtn,
                      onClick: () => props.handleSubmit(),
                      type: "submit",
                      children: "Continue"
                    }
                  ),
                  /* @__PURE__ */ (0,jsx_runtime.jsx)(
                    layout/* AvailableBalance */.Yd,
                    {
                      balance: (0,utils_dist/* formatMoney */.up)(balance.availableBalance),
                      isPrivate
                    }
                  )
                ] }),
                children: [
                  /* @__PURE__ */ (0,jsx_runtime.jsx)(
                    AmountField,
                    {
                      autoComplete: "off",
                      balance: balance.availableBalance,
                      bottomInputOverlay: /* @__PURE__ */ (0,jsx_runtime.jsx)(
                        BitcoinSendMaxButton,
                        {
                          balance: balance.availableBalance,
                          isSendingMax,
                          onSetIsSendingMax,
                          sendMaxBalance: sendMaxCalculation.spendableBitcoin.toString(),
                          sendMaxFee: sendMaxCalculation.spendAllFee.toString()
                        }
                      ),
                      onSetIsSendingMax,
                      isSendingMax,
                      switchableAmount: /* @__PURE__ */ (0,jsx_runtime.jsx)(SendFiatValue, { marketData, assetSymbol: symbol })
                    }
                  ),
                  /* @__PURE__ */ (0,jsx_runtime.jsx)(SelectedAssetField, { icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* BtcAvatarIcon */.Ev, {}), name: "Bitcoin", symbol }),
                  /* @__PURE__ */ (0,jsx_runtime.jsx)(TransferRecipientField, {}),
                  currentNetwork.chain.bitcoin.mode === "testnet" && /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Callout */.Pq, { variant: "warning", title: "Funds have no value", mt: "space.04", children: [
                    "This is a Bitcoin testnet transaction.",
                    /* @__PURE__ */ (0,jsx_runtime.jsx)(
                      exports_web/* Link */.N_,
                      {
                        variant: "text",
                        href: "https://coinfaucet.eu/en/btc-testnet",
                        textStyle: "caption.01",
                        children: "Get testnet BTC here \u2197"
                      }
                    )
                  ] })
                ]
              }
            ),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {}),
            calcMaxSpend(props.values.recipient, utxos).spendableBitcoin.toNumber() > 0 ? /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { "data-testid": SendCryptoAssetSelectors.SendPageReady }) : null
          ] });
        }
      }
    ) }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/form/btc/btc-send-form-confirmation.tsx























const btc_send_form_confirmation_symbol = "BTC";
function useBtcSendFormConfirmationState() {
  const location = (0,react_router_dist/* useLocation */.zy)();
  return {
    tx: lodash_get_default()(location.state, "tx"),
    fee: lodash_get_default()(location.state, "fee"),
    feeRowValue: lodash_get_default()(location.state, "feeRowValue"),
    arrivesIn: lodash_get_default()(location.state, "time"),
    recipient: lodash_get_default()(location.state, "recipient")
  };
}
function BtcSendFormConfirmation() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const { tx, recipient, fee, arrivesIn, feeRowValue } = useBtcSendFormConfirmationState();
  const transaction = (0,react.useMemo)(() => esm_transaction/* Transaction */.ZX.fromRaw((0,hashes_esm_utils/* hexToBytes */.aT)(tx)), [tx]);
  const { filteredUtxosQuery } = useCurrentNativeSegwitUtxos();
  const btcMarketData = (0,query_dist/* useCryptoCurrencyMarketDataMeanAverage */.UoM)("BTC");
  const { broadcastTx, isBroadcasting } = (0,query_dist/* useBitcoinBroadcastTransaction */.Zbx)();
  const decodedTx = (0,bitcoin_dist/* decodeBitcoinTx */.pr)(transaction.hex);
  const nav = useSendFormNavigate();
  const transferAmount = (0,utils_dist/* satToBtc */.VK)(decodedTx.outputs[0].amount.toString()).toString();
  const txFiatValue = (0,utils_dist/* i18nFormatCurrency */.Lx)(
    (0,utils_dist/* baseCurrencyAmountInQuote */.uE)((0,utils_dist/* createMoneyFromDecimal */.cU)(Number(transferAmount), btc_send_form_confirmation_symbol), btcMarketData)
  );
  const txFiatValueSymbol = btcMarketData.price.symbol;
  const feeInBtc = (0,utils_dist/* satToBtc */.VK)(fee);
  const totalSpend = (0,utils_dist/* formatMoneyPadded */.cN)(
    (0,utils_dist/* createMoneyFromDecimal */.cU)(Number(transferAmount) + Number(feeInBtc), btc_send_form_confirmation_symbol)
  );
  const sendingValue = (0,utils_dist/* formatMoneyPadded */.cN)((0,utils_dist/* createMoneyFromDecimal */.cU)(Number(transferAmount), btc_send_form_confirmation_symbol));
  const summaryFee = (0,utils_dist/* formatMoneyPadded */.cN)((0,utils_dist/* createMoney */.j6)(Number(fee), btc_send_form_confirmation_symbol));
  async function initiateTransaction() {
    await broadcastTx({
      tx: transaction.hex,
      async onSuccess(txid) {
        void analytics/* analytics */.zS.track("broadcast_transaction", {
          symbol: "btc",
          amount: transferAmount,
          fee,
          inputs: decodedTx.inputs.length,
          outputs: decodedTx.inputs.length
        });
        await filteredUtxosQuery.refetch();
        navigate(route_urls/* RouteUrls */.W.SentBtcTxSummary.replace(":txId", `${txid}`), {
          state: formBtcTxSummaryState(txid)
        });
        setTimeout(
          () => void persistence/* queryClient */.q.invalidateQueries({ queryKey: ["btc-txs-by-address"] }),
          2e3
        );
      },
      onError(e) {
        void analytics/* analytics */.zS.track("broadcast_btc_error", {
          error: e
        });
        nav.toErrorPage(e);
      }
    });
  }
  function formBtcTxSummaryState(txId) {
    return {
      txLink: {
        blockchain: "bitcoin",
        txid: txId || ""
      },
      txId,
      recipient,
      fee: summaryFee,
      txValue: transferAmount,
      arrivesIn,
      totalSpend,
      symbol: btc_send_form_confirmation_symbol,
      sendingValue,
      txFiatValue,
      txFiatValueSymbol,
      feeRowValue
    };
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(PageHeader, { title: "Review" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Content */.UC, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Page */.YW, { children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(
      layout/* Card */.Zp,
      {
        contentStyle: {
          p: "space.00"
        },
        dataTestId: SendCryptoAssetSelectors.ConfirmationDetails,
        footer: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* Button */.$n,
          {
            "data-testid": shared_component_selectors/* SharedComponentsSelectors */.s.InfoCardButton,
            "aria-busy": isBroadcasting,
            onClick: initiateTransaction,
            width: "100%",
            children: "Confirm and send transaction"
          }
        ),
        children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            info_card/* InfoCardAssetValue */.eT,
            {
              "data-testid": SendCryptoAssetSelectors.ConfirmationDetailsAssetValue,
              fiatSymbol: txFiatValueSymbol,
              fiatValue: txFiatValue,
              mb: "space.06",
              mt: "space.05",
              px: "space.05",
              symbol: btc_send_form_confirmation_symbol,
              value: Number(transferAmount)
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { pb: "space.06", px: "space.06", width: "100%", children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(
              info_card/* InfoCardRow */.Pn,
              {
                title: "To",
                value: /* @__PURE__ */ (0,jsx_runtime.jsx)(FormAddressDisplayer, { address: recipient }),
                "data-testid": SendCryptoAssetSelectors.ConfirmationDetailsRecipient
              }
            ),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardSeparator */.ko, {}),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Total spend", value: totalSpend }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Sending", value: sendingValue }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(
              info_card/* InfoCardRow */.Pn,
              {
                title: "Fee",
                value: feeRowValue,
                "data-testid": SendCryptoAssetSelectors.ConfirmationDetailsFee
              }
            ),
            arrivesIn && /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Estimated confirmation time", value: arrivesIn })
          ] })
        ]
      }
    ) }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/components/send-max-button.tsx









function SendMaxButton({ balance, sendMaxBalance, ...props }) {
  const [, _, amountFieldHelpers] = (0,formik_esm/* useField */.Mt)("amount");
  const toast = (0,use_toast/* useToast */.d)();
  const onSendMax = (0,react.useCallback)(() => {
    void analytics/* analytics */.zS.track("select_maximum_amount_for_send");
    if (balance.amount.isLessThanOrEqualTo(0)) {
      toast.error("Zero balance");
      return;
    }
    return amountFieldHelpers.setValue(sendMaxBalance);
  }, [amountFieldHelpers, balance.amount, sendMaxBalance, toast]);
  if (sendMaxBalance === "0") return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { height: "32px" });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Link */.N_, { "data-testid": SendCryptoAssetSelectors.SendMaxBtn, onClick: onSendMax, ...props, children: "Send max" });
}

;// CONCATENATED MODULE: ./src/app/common/hooks/use-convert-to-fiat-amount.ts




function useConvertCryptoCurrencyToFiatAmount(currency) {
  const cryptoCurrencyMarketData = (0,query_dist/* useCryptoCurrencyMarketDataMeanAverage */.UoM)(
    currency
  );
  return (0,react.useCallback)(
    (value) => (0,utils_dist/* baseCurrencyAmountInQuote */.uE)(value, cryptoCurrencyMarketData),
    [cryptoCurrencyMarketData]
  );
}

// EXTERNAL MODULE: ./src/app/components/loading-rectangle.tsx
var loading_rectangle = __webpack_require__(1806);
;// CONCATENATED MODULE: ./src/app/common/warning-messages.ts

var SendFormWarningMessages = /* @__PURE__ */ ((SendFormWarningMessages2) => {
  SendFormWarningMessages2["AdjustedFeeBelowLowestEstimate"] = "Fee lower than suggested. Transaction may fail.";
  return SendFormWarningMessages2;
})(SendFormWarningMessages || {});

;// CONCATENATED MODULE: ./src/app/components/fees-row/components/custom-fee-field.tsx








function CustomFeeField({
  feeCurrencySymbol,
  lowFeeEstimate,
  setFieldWarning,
  disableFeeSelection
}) {
  const [field, meta, helpers] = (0,formik_esm/* useField */.Mt)("fee");
  const checkFieldWarning = (0,react.useCallback)(
    (value) => {
      if (meta.error) return setFieldWarning("");
      const fee = (0,utils_dist/* stxToMicroStx */.Ey)(value);
      if (lowFeeEstimate.fee.amount.isGreaterThan(fee)) {
        return setFieldWarning(SendFormWarningMessages.AdjustedFeeBelowLowestEstimate);
      }
      return setFieldWarning("");
    },
    [lowFeeEstimate, meta.error, setFieldWarning]
  );
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { position: "relative", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Flex */.so,
    {
      alignSelf: "flex-end",
      color: "ink.text-subdued",
      flexDirection: "column",
      justifyContent: "center",
      position: "relative",
      width: "130px",
      textStyle: "label.02",
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.label, { htmlFor: "fee", position: "absolute", right: 4, zIndex: 999, children: feeCurrencySymbol }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          jsx/* styled */.I4.input,
          {
            autoComplete: "off",
            borderRadius: "xs",
            color: "ink.text-subdued",
            "data-testid": shared_component_selectors/* SharedComponentsSelectors */.s.CustomFeeFieldInput,
            display: "block",
            height: "32px",
            name: "fee",
            disabled: disableFeeSelection,
            onChange: (evt) => {
              void helpers.setValue(evt.currentTarget.value);
              checkFieldWarning(evt.currentTarget.value);
            },
            pr: "38px",
            placeholder: "0",
            ring: "none",
            textAlign: "right",
            value: field.value
          }
        )
      ]
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/components/fees-row/components/fee-estimate-item.tsx





const labels = ["Low", "Standard", "High", "Custom"];
const testLabels = labels.map((label) => label.toLowerCase());
function FeeEstimateItem({
  index,
  isVisible,
  onSelectItem,
  selectedItem,
  disableFeeSelection
}) {
  const selectedIcon = (0,react.useMemo)(() => {
    const isSelected = index === selectedItem;
    return isSelected ? /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CheckmarkIcon */.Nr, { variant: "small" }) : /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, {});
  }, [index, selectedItem]);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Link */.N_,
    {
      _before: { bg: "transparent" },
      _hover: {
        bg: isVisible ? "ink.component-background-hover" : "ink.background-primary",
        borderRadius: "xs",
        color: "ink.text-primary"
      },
      alignItems: "center",
      "data-testid": `${testLabels[index]}-fee`,
      display: "flex",
      height: "30px",
      minWidth: "100px",
      onClick: () => !disableFeeSelection && onSelectItem(index),
      pl: isVisible ? "space.02" : "unset",
      variant: "text",
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { gap: "space.01", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.02", children: labels[index] }),
        !disableFeeSelection && (isVisible ? selectedIcon : /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ChevronDownIcon */.D3, { variant: "small" }))
      ] })
    }
  );
}

// EXTERNAL MODULE: ./node_modules/.pnpm/are-passive-events-supported@1.1.1/node_modules/are-passive-events-supported/dist/are-passive-events-supported.esm.browser.js
var are_passive_events_supported_esm_browser = __webpack_require__(80043);
// EXTERNAL MODULE: ./node_modules/.pnpm/use-latest@1.2.1_@types+react@18.3.10_react@18.3.1/node_modules/use-latest/dist/use-latest.esm.js + 1 modules
var use_latest_esm = __webpack_require__(42953);
;// CONCATENATED MODULE: ./src/app/common/hooks/use-onclickoutside.ts




const MOUSEDOWN = "mousedown";
const TOUCHSTART = "touchstart";
const events = [MOUSEDOWN, TOUCHSTART];
const getOptions = (event) => {
  if (event !== TOUCHSTART) {
    return;
  }
  if ((0,are_passive_events_supported_esm_browser/* default */.A)()) {
    return { passive: true };
  }
  return;
};
function useOnClickOutside(ref, handler, exceptionIds = []) {
  const noHandler = !handler;
  const handlerRef = (0,use_latest_esm/* default */.A)(handler);
  (0,react.useEffect)(() => {
    if (noHandler) {
      return;
    }
    const listener = (event) => {
      if (!ref.current || !handlerRef.current || ref.current.contains(event.target)) {
        return;
      }
      const clickedElementIsAnException = exceptionIds.map((el) => document.getElementById(el)).some((el) => el?.contains(event.target));
      if (clickedElementIsAnException) {
        return;
      }
      handlerRef.current(event);
    };
    events.forEach((event) => {
      document.addEventListener(event, listener, getOptions(event));
    });
    return () => {
      events.forEach((event) => {
        document.removeEventListener(event, listener, getOptions(event));
      });
    };
  }, [ref, handlerRef, noHandler, exceptionIds]);
}

;// CONCATENATED MODULE: ./src/app/components/fees-row/components/fee-estimate-select.layout.tsx








function FeeEstimateSelectLayout({
  children,
  onSetIsSelectVisible,
  selectedItem,
  disableFeeSelection,
  isVisible
}) {
  const ref = (0,react.useRef)(null);
  useOnClickOutside(ref, () => onSetIsSelectVisible(false));
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { _hover: { cursor: disableFeeSelection ? "default" : "pointer" }, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      FeeEstimateItem,
      {
        disableFeeSelection,
        index: selectedItem,
        isVisible,
        onSelectItem: () => onSetIsSelectVisible(true),
        selectedItem: models_dist/* FeeTypes */.MR.Middle
      }
    ),
    isVisible ? /* @__PURE__ */ (0,jsx_runtime.jsx)(
      jsx/* Stack */.BJ,
      {
        bg: "ink.background-primary",
        borderRadius: "xs",
        boxShadow: "0px 8px 16px rgba(27, 39, 51, 0.08)",
        "data-testid": shared_component_selectors/* SharedComponentsSelectors */.s.FeeEstimateSelect,
        flexDirection: "column",
        gap: "0px",
        minHeight: "96px",
        minWidth: "100px",
        overflow: "hidden",
        p: "space.01",
        position: "absolute",
        ref,
        top: "-45px",
        zIndex: 9999,
        children
      }
    ) : null
  ] }) });
}

;// CONCATENATED MODULE: ./src/app/components/fees-row/components/fee-estimate-select.tsx





function FeeEstimateSelect({
  isVisible,
  estimate,
  onSelectItem,
  onSetIsSelectVisible,
  selectedItem,
  allowCustom,
  disableFeeSelection
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    FeeEstimateSelectLayout,
    {
      disableFeeSelection,
      isVisible,
      onSetIsSelectVisible,
      selectedItem,
      children: [
        estimate.map((estimate2, index) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
          FeeEstimateItem,
          {
            index,
            isVisible,
            onSelectItem,
            selectedItem
          },
          estimate2.fee.amount.toNumber()
        )),
        allowCustom && /* @__PURE__ */ (0,jsx_runtime.jsx)(
          FeeEstimateItem,
          {
            index: models_dist/* FeeTypes */.MR.Custom,
            isVisible,
            onSelectItem,
            selectedItem
          }
        )
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/components/sponsored-label.tsx




function SponsoredLabel() {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { width: "100%", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* HStack */.zt,
    {
      alignItems: "center",
      bg: "ink.component-background-hover",
      borderRadius: "sm",
      height: "48px",
      pl: "space.04",
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ErrorCircleIcon */.s9, { color: "stacks" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { color: "ink.text-primary", children: "This transaction is sponsored, so no fee is charged" })
      ]
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/components/fees-row/components/fees-row.layout.tsx








const feesInfo = "Higher fees increase the likelihood of your transaction getting confirmed before others. Click to learn more.";
const fees_row_layout_url = "https://leather.gitbook.io/guides/transactions/fees";
function FeesRowLayout(props) {
  const { feeField, fieldWarning, isSponsored, selectInput, ...rest } = props;
  const [_, meta] = (0,formik_esm/* useField */.Mt)("fee");
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { gap: "space.04", width: "100%", ...rest, flexWrap: "wrap", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", justifyContent: "space-between", position: "relative", width: "100%", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", width: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(basic_tooltip/* BasicTooltip */.G, { label: feesInfo, side: "bottom", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { gap: "space.01", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { color: "ink.text-subdued", textStyle: "label.02", children: "Fee" }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            exports_web/* InfoCircleIcon */.ee,
            {
              color: "ink.text-subdued",
              onClick: () => (0,open_in_new_tab/* openInNewTab */.V)(fees_row_layout_url),
              variant: "small"
            }
          )
        ] }) }),
        !isSponsored ? selectInput : null
      ] }),
      feeField
    ] }),
    isSponsored && /* @__PURE__ */ (0,jsx_runtime.jsx)(SponsoredLabel, {}),
    !meta.error && fieldWarning && /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Callout */.Pq, { variant: "warning", width: "100%", children: fieldWarning })
  ] });
}

;// CONCATENATED MODULE: ./src/app/components/fees-row/components/transaction-fee.tsx






function TransactionFee({ fee, feeCurrencySymbol, usdAmount }) {
  const feeLabel = /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* styled */.I4.span,
    {
      color: "ink.text-subdued",
      "data-testid": shared_component_selectors/* SharedComponentsSelectors */.s.FeeToBePaidLabel,
      textStyle: "label.02",
      children: [
        fee,
        " ",
        feeCurrencySymbol
      ]
    }
  );
  if (!usdAmount || usdAmount.amount.isNaN()) return feeLabel;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(basic_tooltip/* BasicTooltip */.G, { label: (0,utils_dist/* formatDustUsdAmounts */.hT)((0,utils_dist/* i18nFormatCurrency */.Lx)(usdAmount)), children: feeLabel });
}

;// CONCATENATED MODULE: ./src/app/components/fees-row/fees-row.tsx
















function FeesRow({
  fees,
  isSponsored,
  allowCustom = true,
  defaultFeeValue,
  disableFeeSelection
}) {
  const [feeField, _, feeHelper] = (0,formik_esm/* useField */.Mt)("fee");
  const [feeCurrencyField] = (0,formik_esm/* useField */.Mt)("feeCurrency");
  const [feeTypeField, __, feeTypeHelper] = (0,formik_esm/* useField */.Mt)("feeType");
  const [fieldWarning, setFieldWarning] = (0,react.useState)(void 0);
  const [isSelectVisible, setIsSelectVisible] = (0,react.useState)(false);
  const isCustom = feeTypeField.value === models_dist/* FeeTypes */.MR[models_dist/* FeeTypes */.MR.Custom];
  const selectedItem = Number(models_dist/* FeeTypes */.MR[feeTypeField.value]);
  const hasFeeEstimates = fees?.estimates.length;
  const feeCurrencySymbol = feeCurrencyField.value;
  const convertCryptoCurrencyToUsd = useConvertCryptoCurrencyToFiatAmount(feeCurrencySymbol);
  const feeInUsd = (0,react.useMemo)(() => {
    if (!(0,utils_dist/* isNumber */.Et)(feeField.value) && !(0,utils_dist/* isString */.Kg)(feeField.value) || !feeCurrencySymbol) return null;
    const feeAsMoney = (0,utils_dist/* createMoney */.j6)(new bignumber/* default */.A(feeField.value), feeCurrencySymbol);
    return convertCryptoCurrencyToUsd(feeAsMoney);
  }, [convertCryptoCurrencyToUsd, feeCurrencySymbol, feeField.value]);
  (0,react.useEffect)(() => {
    if (defaultFeeValue) {
      void feeHelper.setValue(
        (0,utils_dist/* convertAmountToBaseUnit */.AG)(new bignumber/* default */.A(Number(defaultFeeValue)), constants_dist/* STX_DECIMALS */.vI).toString()
      );
      void feeTypeHelper.setValue(models_dist/* FeeTypes */.MR[models_dist/* FeeTypes */.MR.Custom]);
    }
  }, [feeHelper, defaultFeeValue, feeTypeHelper]);
  (0,react.useEffect)(() => {
    if (isSponsored) {
      void feeHelper.setValue(0);
      return;
    }
    if (!defaultFeeValue && hasFeeEstimates && !feeField.value && !isCustom) {
      void feeHelper.setValue(
        (0,utils_dist/* convertAmountToBaseUnit */.AG)(fees.estimates[models_dist/* FeeTypes */.MR.Middle].fee).toString()
      );
      void feeTypeHelper.setValue(models_dist/* FeeTypes */.MR[models_dist/* FeeTypes */.MR.Middle]);
      return;
    }
  }, [
    defaultFeeValue,
    feeField.value,
    feeHelper,
    feeTypeHelper,
    fees?.estimates,
    hasFeeEstimates,
    isCustom,
    isSponsored
  ]);
  const handleSelectFeeEstimateOrCustomField = (0,react.useCallback)(
    (index) => {
      void feeTypeHelper.setValue(models_dist/* FeeTypes */.MR[index]);
      if (index === models_dist/* FeeTypes */.MR.Custom)
        void feeHelper.setValue(
          defaultFeeValue ? (0,utils_dist/* convertAmountToBaseUnit */.AG)(new bignumber/* default */.A(Number(defaultFeeValue)), constants_dist/* STX_DECIMALS */.vI) : ""
        );
      else
        fees && void feeHelper.setValue((0,utils_dist/* convertAmountToBaseUnit */.AG)(fees.estimates[index].fee).toString());
      setFieldWarning("");
      setIsSelectVisible(false);
    },
    [feeTypeHelper, feeHelper, fees, defaultFeeValue]
  );
  if (!hasFeeEstimates) return /* @__PURE__ */ (0,jsx_runtime.jsx)(loading_rectangle/* LoadingRectangle */.K, { height: "32px", width: "100%" });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    FeesRowLayout,
    {
      "data-testid": shared_component_selectors/* SharedComponentsSelectors */.s.FeeRow,
      feeField: isCustom ? /* @__PURE__ */ (0,jsx_runtime.jsx)(
        CustomFeeField,
        {
          disableFeeSelection,
          feeCurrencySymbol,
          lowFeeEstimate: fees.estimates[models_dist/* FeeTypes */.MR.Low],
          setFieldWarning: (value) => setFieldWarning(value)
        }
      ) : /* @__PURE__ */ (0,jsx_runtime.jsx)(
        jsx/* Box */.az,
        {
          onClick: () => handleSelectFeeEstimateOrCustomField(models_dist/* FeeTypes */.MR.Custom),
          textAlign: "right",
          width: "100%",
          children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
            TransactionFee,
            {
              fee: feeField.value,
              feeCurrencySymbol,
              usdAmount: feeInUsd
            }
          )
        }
      ),
      fieldWarning,
      isSponsored,
      selectInput: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        FeeEstimateSelect,
        {
          disableFeeSelection,
          allowCustom,
          isVisible: isSelectVisible,
          estimate: fees.estimates,
          onSelectItem: (index) => handleSelectFeeEstimateOrCustomField(index),
          onSetIsSelectVisible: (value) => setIsSelectVisible(value),
          selectedItem
        }
      )
    }
  );
}

;// CONCATENATED MODULE: ./src/app/components/nonce-setter.tsx






function NonceSetter() {
  const { setFieldValue, touched, values } = (0,formik_esm/* useFormikContext */.j7)();
  const stxAddress = (0,stacks_account_hooks/* useCurrentStacksAccountAddress */.$3)();
  const { data: nextNonce } = (0,query_dist/* useNextNonce */.eIk)(stxAddress);
  (0,react_async_hook_esm/* useAsync */.Yb)(async () => {
    if (nextNonce?.nonce && !touched.nonce && values.nonce !== nextNonce.nonce) {
      return await setFieldValue("nonce", nextNonce?.nonce);
    }
    return;
  }, [nextNonce?.nonce]);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, {});
}

;// CONCATENATED MODULE: ./src/app/features/stacks-high-fee-warning/stacks-high-fee-dialog.tsx









function HighFeeSheet({ learnMoreUrl }) {
  const { handleSubmit, values } = (0,formik_esm/* useFormikContext */.j7)();
  const { showHighFeeWarningSheet, setHasBypassedFeeWarning, setShowHighFeeWarningSheet } = useStacksHighFeeWarningContext();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Sheet */.cj,
    {
      "data-testid": SendCryptoAssetSelectors.HighFeeWarningSheet,
      header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, {}),
      isShowing: showHighFeeWarningSheet,
      onClose: () => setShowHighFeeWarningSheet(false),
      footer: /* @__PURE__ */ (0,jsx_runtime.jsxs)(layout/* ButtonRow */.zE, { flexDirection: "row", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { onClick: () => setShowHighFeeWarningSheet(false), variant: "outline", flexGrow: 1, children: "Edit fee" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* Button */.$n,
          {
            onClick: () => {
              setHasBypassedFeeWarning(true);
              handleSubmit();
            },
            "data-testid": SendCryptoAssetSelectors.HighFeeWarningSheetSubmit,
            type: "submit",
            flexGrow: 1,
            children: "Yes, I'm sure"
          }
        )
      ] }),
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { px: "space.05", gap: "space.05", pb: "space.06", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ErrorTriangleIcon */.u0, { color: "red.action-primary-default" }),
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Title */.hE, { children: [
            "Are you sure you want to pay ",
            values.fee,
            " ",
            values.feeCurrency,
            " in fees for this transaction?"
          ] })
        ] }),
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Caption */.HL, { children: [
          "This action cannot be undone. The fees won't be returned, even if the transaction fails.",
          /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Link */.N_, { onClick: () => (0,open_in_new_tab/* openInNewTab */.V)(learnMoreUrl), size: "sm", ml: "space.01", children: "Learn more" })
        ] })
      ] })
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/components/memo-field.tsx








const memo_field_name = "memo";
function MemoField() {
  const [field] = (0,formik_esm/* useField */.Mt)(memo_field_name);
  const showError = useShowFieldError(memo_field_name);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Box */.az, { width: "100%", mt: "space.04", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Input */.pd.Root, { hasError: !!showError, children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Input */.pd.Label, { children: "Memo" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Input */.pd.Field, { "data-testid": SendCryptoAssetSelectors.MemoFieldInput, ...field })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mt: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(TextInputFieldError, { name: memo_field_name }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/family/stacks/components/stacks-recipient-field.tsx




function StacksRecipientField() {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(RecipientField, { bnsLookupFn: query_dist/* fetchNameOwner */.XI$ });
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/form/stacks/stacks-common-send-form.tsx



















function StacksCommonSendForm({
  onSubmit,
  initialValues,
  validationSchema,
  amountField,
  selectedAssetField,
  fees,
  availableTokenBalance
}) {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const { onFormStateChange } = useUpdatePersistedSendFormValues();
  const isPrivate = (0,settings_settings_selectors/* useIsPrivateMode */.cT)();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Page */.YW, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    formik_esm/* Formik */.l1,
    {
      initialValues,
      onSubmit,
      validationSchema,
      ...defaultSendFormFormikProps,
      children: (props) => {
        onFormStateChange(props.values);
        return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(NonceSetter, {}),
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(formik_esm/* Form */.lV, { children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(
              layout/* Card */.Zp,
              {
                dataTestId: SendCryptoAssetSelectors.SendForm,
                footer: /* @__PURE__ */ (0,jsx_runtime.jsxs)(layout/* ButtonRow */.zE, { children: [
                  /* @__PURE__ */ (0,jsx_runtime.jsx)(
                    exports_web/* Button */.$n,
                    {
                      "aria-busy": props.isValidating,
                      "data-testid": SendCryptoAssetSelectors.PreviewSendTxBtn,
                      onClick: () => props.handleSubmit(),
                      type: "submit",
                      fullWidth: true,
                      children: "Continue"
                    }
                  ),
                  /* @__PURE__ */ (0,jsx_runtime.jsx)(
                    layout/* AvailableBalance */.Yd,
                    {
                      balance: (0,utils_dist/* formatMoney */.up)(availableTokenBalance),
                      isPrivate
                    }
                  )
                ] }),
                children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(
                  jsx/* Flex */.so,
                  {
                    width: "100%",
                    flexDirection: "column",
                    marginBottom: { base: "unset", sm: "33px" },
                    children: [
                      amountField,
                      selectedAssetField,
                      /* @__PURE__ */ (0,jsx_runtime.jsx)(StacksRecipientField, {}),
                      /* @__PURE__ */ (0,jsx_runtime.jsx)(MemoField, {}),
                      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mt: "space.04", width: "100%", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(FeesRow, { fees, isSponsored: false }) }),
                      /* @__PURE__ */ (0,jsx_runtime.jsx)(
                        exports_web/* Link */.N_,
                        {
                          alignSelf: "flex-end",
                          mt: "space.04",
                          onClick: () => navigate(route_urls/* RouteUrls */.W.EditNonce),
                          children: "Edit nonce"
                        }
                      )
                    ]
                  }
                )
              }
            ),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(HighFeeSheet, { learnMoreUrl: constants_dist/* HIGH_FEE_WARNING_LEARN_MORE_URL_STX */.W_ }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
          ] })
        ] });
      }
    }
  ) });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/types.js
var types = __webpack_require__(69220);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/optionalCV.js
var optionalCV = __webpack_require__(28311);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/bufferCV.js
var bufferCV = __webpack_require__(50357);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/intCV.js
var intCV = __webpack_require__(53096);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/principalCV.js
var principalCV = __webpack_require__(52183);
;// CONCATENATED MODULE: ./src/app/store/transactions/token-transfer.hooks.ts














function useGenerateStxTokenTransferUnsignedTx() {
  const account = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const { data: nextNonce } = (0,query_dist/* useNextNonce */.eIk)(account?.address ?? "");
  const network = (0,networks_hooks/* useCurrentStacksNetworkState */.hB)();
  return (0,react.useCallback)(
    async (values) => {
      if (!account) return;
      const options = {
        publicKey: account.stxPublicKey,
        nonce: Number(values?.nonce) ?? nextNonce?.nonce,
        fee: (0,utils_dist/* stxToMicroStx */.Ey)(values?.fee || 0).toNumber(),
        txData: {
          txType: connect_dist.TransactionTypes.STXTransfer,
          // Using account address here as a fallback for a fee estimation
          recipient: values?.recipient ?? account.address,
          amount: values?.amount ? (0,utils_dist/* stxToMicroStx */.Ey)(values?.amount).toString(10) : "0",
          memo: values?.memo || void 0,
          network
          // Coercing type here as we don't have the public key
          // as expected by STXTransferPayload type.
          // This code will likely need to change soon with Ledger
          // work, and coercion allows us to remove lots of type mangling
          // and types are out of sync with @stacks/connect
        }
      };
      return generateUnsignedTransaction(options);
    },
    [account, nextNonce, network]
  );
}
function useStxTokenTransferUnsignedTxState(values) {
  const generateTx = useGenerateStxTokenTransferUnsignedTx();
  const account = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const { data: nextNonce } = (0,query_dist/* useNextNonce */.eIk)(account?.address ?? "");
  const network = (0,networks_hooks/* useCurrentStacksNetworkState */.hB)();
  const tx = (0,react_async_hook_esm/* useAsync */.Yb)(
    async () => generateTx(values ?? void 0),
    [values, network, account, nextNonce]
  );
  return tx.result;
}
function useGenerateFtTokenTransferUnsignedTx(info) {
  const account = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const { data: nextNonce } = (0,query_dist/* useNextNonce */.eIk)(account?.address ?? "");
  const network = (0,networks_hooks/* useCurrentStacksNetworkState */.hB)();
  const { contractId } = info;
  const { contractAddress, contractAssetName, contractName } = (0,stacks_utils/* getStacksContractIdStringParts */._H)(contractId);
  return (0,react.useCallback)(
    async (values) => {
      try {
        if (!account) return;
        const functionName = "transfer";
        const recipient = values && "recipient" in values ? (0,postcondition_types/* createAddress */.FR)(values.recipient || "") : (0,types/* createEmptyAddress */._b)();
        const amount = values && "amount" in values ? values.amount : 0;
        const memo = values && "memo" in values && values.memo !== "" ? (0,optionalCV/* someCV */.gp)((0,bufferCV/* bufferCVFromString */.L)(values.memo || "")) : (0,optionalCV/* noneCV */.gu)();
        const amountAsFractionalUnit = (0,stacks_utils/* ftUnshiftDecimals */.qm)(amount, info.decimals || 0);
        const postConditionOptions = {
          amount: amountAsFractionalUnit,
          contractAddress,
          contractAssetName,
          contractName,
          stxAddress: account.address
        };
        const postConditions = [makePostCondition(postConditionOptions)];
        const functionArgs = [
          (0,intCV/* uintCV */.u)(amountAsFractionalUnit),
          (0,principalCV/* standardPrincipalCVFromAddress */.Hh)((0,postcondition_types/* createAddress */.FR)(account.address)),
          (0,principalCV/* standardPrincipalCVFromAddress */.Hh)(recipient)
        ];
        functionArgs.push(memo);
        const options = {
          txData: {
            txType: connect_dist.TransactionTypes.ContractCall,
            contractAddress,
            contractName,
            functionName,
            functionArgs: functionArgs.map(serialize/* serializeCV */.G).map((arg) => (0,esm_utils/* bytesToHex */.My)(arg)),
            postConditions,
            postConditionMode: esm_constants/* PostConditionMode */.FN.Deny,
            network,
            publicKey: account.stxPublicKey
          },
          fee: (0,utils_dist/* stxToMicroStx */.Ey)(values?.fee || 0).toNumber(),
          publicKey: account.stxPublicKey,
          nonce: Number(values?.nonce) ?? nextNonce?.nonce
        };
        return generateUnsignedTransaction(options);
      } catch (error) {
        logger/* logger */.v.error("Failed to generate unsigned transaction", error);
        return;
      }
    },
    [
      account,
      info.decimals,
      network,
      nextNonce?.nonce,
      contractName,
      contractAssetName,
      contractAddress
    ]
  );
}
function useFtTokenTransferUnsignedTx(info) {
  const account = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const generateTx = useGenerateFtTokenTransferUnsignedTx(info);
  const tx = (0,react_async_hook_esm/* useAsync */.Yb)(async () => generateTx(), [account]);
  return tx.result;
}

;// CONCATENATED MODULE: ./src/app/common/validation/forms/memo-validators.ts
/* provided dependency */ var memo_validators_Buffer = __webpack_require__(84686)["Buffer"];




const exceedsMaxLengthBytes = (string, maxLengthBytes) => string ? memo_validators_Buffer.from(string).length > maxLengthBytes : false;
function isTxMemoValid(memo) {
  return !exceedsMaxLengthBytes(memo, esm_constants/* MEMO_MAX_LENGTH_BYTES */.j4);
}
function stxMemoValidator(errorMsg) {
  return yup_index_esm/* string */.Yj().test({
    message: errorMsg,
    test(value) {
      if (!(0,utils_dist/* isString */.Kg)(value)) return true;
      return isTxMemoValid(value);
    }
  });
}

;// CONCATENATED MODULE: ./src/app/common/validation/forms/recipient-validators.ts






function stxRecipientValidator(currentAddress, currentNetwork) {
  return yup_index_esm/* string */.Yj().defined(FormErrorMessages.AddressRequired).concat(stxAddressValidator(FormErrorMessages.InvalidAddress)).concat(stxAddressNetworkValidator(currentNetwork)).concat(notCurrentAddressValidator(currentAddress)).concat(
    complianceValidator(
      stxAddressValidator(FormErrorMessages.InvalidAddress),
      (0,stacks_dist/* stacksChainIdToCoreNetworkMode */.pt)(currentNetwork.chain.stacks.chainId)
    )
  );
}

;// CONCATENATED MODULE: ./src/app/common/validation/nonce-validators.ts


const nonceValidator = yup_index_esm/* number */.ai().integer().min(0, "Nonce must be zero or more").typeError("Nonce must be a positive integer or 0");

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/family/stacks/use-stacks-common-send-form.tsx












function useStacksCommonSendForm({
  symbol,
  availableTokenBalance
}) {
  const routeState = useSendFormRouteState();
  const stxAddress = (0,stacks_account_hooks/* useCurrentStacksAccountAddress */.$3)();
  const { data: nextNonce } = (0,query_dist/* useNextNonce */.eIk)(stxAddress);
  const currentNetwork = (0,networks_hooks/* useCurrentNetworkState */.uZ)();
  const { isHighFeeWithNoFormErrors, setShowHighFeeWarningSheet } = useStacksHighFeeWarningContext();
  const initialValues = createDefaultInitialFormValues({
    hasDismissedHighFeeWarning: false,
    isShowingHighFeeDiaglog: false,
    fee: "",
    feeCurrency: "STX",
    feeType: models_dist/* FeeTypes */.MR[models_dist/* FeeTypes */.MR.Unknown],
    memo: "",
    nonce: nextNonce?.nonce,
    recipientBnsName: "",
    symbol,
    ...routeState
  });
  async function checkFormValidation(values, formikHelpers) {
    const formErrors = await formikHelpers.validateForm();
    if (isHighFeeWithNoFormErrors(formErrors, values.fee)) {
      setShowHighFeeWarningSheet(true);
      return false;
    }
    return true;
  }
  return {
    initialValues,
    availableTokenBalance,
    checkFormValidation,
    recipient: stxRecipientValidator(stxAddress, currentNetwork),
    memo: stxMemoValidator(FormErrorMessages.MemoExceedsLimit),
    nonce: nonceValidator
  };
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/form/sip10/use-sip10-send-form.tsx











function useSip10SendForm({ balance, info }) {
  const generateTx = useGenerateFtTokenTransferUnsignedTx(info);
  const sendFormNavigate = useSendFormNavigate();
  const unsignedTx = useFtTokenTransferUnsignedTx(info);
  const { data: stacksFtFees } = (0,query_dist/* useCalculateStacksTxFees */.mkG)(unsignedTx);
  const availableTokenBalance = balance.availableBalance;
  const sendMaxBalance = (0,react.useMemo)(
    () => (0,utils_dist/* convertAmountToBaseUnit */.AG)(availableTokenBalance),
    [availableTokenBalance]
  );
  const { initialValues, checkFormValidation, recipient, memo, nonce } = useStacksCommonSendForm({
    symbol: info.symbol,
    availableTokenBalance
  });
  function createFtAvatar() {
    return {
      avatar: info.contractId,
      imageCanonicalUri: (0,stacks_utils/* getSafeImageCanonicalUri */.VD)(info.imageCanonicalUri, info.name)
    };
  }
  return {
    availableTokenBalance,
    initialValues,
    sendMaxBalance,
    stacksFtFees,
    symbol: info.symbol,
    decimals: info.decimals,
    avatar: createFtAvatar(),
    validationSchema: yup_index_esm/* object */.Ik({
      amount: stacksFungibleTokenAmountValidator(availableTokenBalance),
      recipient,
      memo,
      nonce
    }),
    async previewTransaction(values, formikHelpers) {
      const isFormValid = await checkFormValidation(values, formikHelpers);
      if (!isFormValid) return;
      const tx = await generateTx(values);
      if (!tx) return logger/* logger */.v.error("Attempted to generate unsigned tx, but tx is undefined");
      sendFormNavigate.toConfirmAndSignStacksSip10Transaction({
        decimals: info.decimals,
        name: info.name,
        tx
      });
    }
  };
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/form/sip10/sip10-token-send-form-container.tsx










function Sip10TokenSendFormContainer({
  info,
  balance,
  marketData
}) {
  const {
    availableTokenBalance,
    initialValues,
    previewTransaction,
    sendMaxBalance,
    stacksFtFees: fees,
    validationSchema,
    avatar,
    decimals,
    symbol
  } = useSip10SendForm({ info, balance });
  const amountField = /* @__PURE__ */ (0,jsx_runtime.jsx)(
    AmountField,
    {
      balance: availableTokenBalance,
      bottomInputOverlay: /* @__PURE__ */ (0,jsx_runtime.jsx)(SendMaxButton, { balance: availableTokenBalance, sendMaxBalance: sendMaxBalance.toString() }),
      tokenSymbol: symbol,
      autoComplete: "off",
      switchableAmount: marketData ? /* @__PURE__ */ (0,jsx_runtime.jsx)(SendFiatValue, { marketData, assetSymbol: symbol, assetDecimals: decimals }) : void 0
    }
  );
  const selectedAssetField = /* @__PURE__ */ (0,jsx_runtime.jsx)(
    SelectedAssetField,
    {
      icon: avatar ? /* @__PURE__ */ (0,jsx_runtime.jsx)(
        StacksAssetAvatar,
        {
          gradientString: avatar.avatar,
          imageCanonicalUri: avatar.imageCanonicalUri
        }
      ) : /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* StxAvatarIcon */.sC, {}),
      name: symbol,
      symbol
    }
  );
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    StacksCommonSendForm,
    {
      onSubmit: previewTransaction,
      initialValues,
      validationSchema,
      amountField,
      selectedAssetField,
      fees,
      availableTokenBalance
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/form/sip10/sip10-token-send-form.tsx










function Sip10TokenSendFormLoader({ children }) {
  const { contractId } = (0,react_router_dist/* useParams */.g)();
  const stxAddress = (0,stacks_account_hooks/* useCurrentStacksAccountAddress */.$3)();
  const token = (0,query_dist/* useSip10Token */.o0X)(stxAddress, contractId ?? "");
  const priceAsMarketData = (0,query_dist/* useAlexCurrencyPriceAsMarketData */.gxw)();
  const toast = (0,use_toast/* useToast */.d)();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  if (!contractId) return;
  if (!token) {
    toast.error("Token not found");
    navigate(route_urls/* RouteUrls */.W.SendCryptoAsset);
    return;
  }
  return children({
    ...token,
    marketData: priceAsMarketData(token.info.contractId, token.balance.availableBalance.symbol)
  });
}
function Sip10TokenSendForm() {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(PageHeader, { title: "Send" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Content */.UC, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(Sip10TokenSendFormLoader, { children: (token) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      Sip10TokenSendFormContainer,
      {
        balance: token.balance,
        info: token.info,
        marketData: token.marketData
      }
    ) }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/form/send-form-confirmation.tsx








function SendFormConfirmation({
  txValue,
  txFiatValue,
  txFiatValueSymbol,
  recipient,
  fee,
  totalSpend,
  sendingValue,
  arrivesIn,
  isLoading,
  onBroadcastTransaction,
  nonce,
  memoDisplayText,
  symbol,
  feeWarningTooltip
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    layout/* Card */.Zp,
    {
      dataTestId: SendCryptoAssetSelectors.ConfirmationDetails,
      contentStyle: {
        p: "space.00"
      },
      footer: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* Button */.$n,
        {
          "aria-busy": isLoading,
          "data-testid": SendCryptoAssetSelectors.ConfirmSendTxBtn,
          onClick: onBroadcastTransaction,
          width: "100%",
          children: "Confirm and send transaction"
        }
      ),
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          info_card/* InfoCardAssetValue */.eT,
          {
            "data-testid": SendCryptoAssetSelectors.ConfirmationDetailsAssetValue,
            fiatSymbol: txFiatValueSymbol,
            fiatValue: txFiatValue,
            mb: "space.05",
            mt: ["unset", "space.05"],
            px: "space.05",
            symbol,
            value: Number(txValue)
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Callout */.Pq, { variant: "info", title: "Sending to an exchange?", px: "space.03", mb: "space.05", children: `Make sure you include the memo so the exchange can credit the ${symbol} to your account` }),
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { pb: "space.06", px: "space.06", width: "100%", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            info_card/* InfoCardRow */.Pn,
            {
              title: "To",
              value: /* @__PURE__ */ (0,jsx_runtime.jsx)(FormAddressDisplayer, { address: recipient }),
              "data-testid": SendCryptoAssetSelectors.ConfirmationDetailsRecipient
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardSeparator */.ko, {}),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Total spend", value: totalSpend }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Sending", value: sendingValue }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            info_card/* InfoCardRow */.Pn,
            {
              title: "Fee",
              value: fee,
              titleAdditionalElement: feeWarningTooltip,
              "data-testid": SendCryptoAssetSelectors.ConfirmationDetailsFee
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            info_card/* InfoCardRow */.Pn,
            {
              title: "Memo",
              value: memoDisplayText,
              "data-testid": SendCryptoAssetSelectors.ConfirmationDetailsMemo
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Nonce", value: nonce }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Estimated confirmation time", value: arrivesIn })
        ] })
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/form/stacks/stacks-send-form-confirmation.tsx













function useStacksSendFormConfirmationState() {
  return {
    tx: useLocationStateWithCache("tx"),
    decimals: useLocationStateWithCache("decimals"),
    showFeeChangeWarning: useLocationStateWithCache("showFeeChangeWarning")
  };
}
function StacksSendFormConfirmation() {
  const { tx, decimals, showFeeChangeWarning } = useStacksSendFormConfirmationState();
  const { symbol = "STX" } = (0,react_router_dist/* useParams */.g)();
  const { stacksBroadcastTransaction, isBroadcasting } = useStacksBroadcastTransaction({
    token: symbol.toUpperCase(),
    decimals
  });
  const stacksDeserializedTransaction = (0,dist_esm_transaction/* deserializeTransaction */.q)(tx);
  const { formReviewTxSummary } = useStacksTransactionSummary(
    symbol.toUpperCase()
  );
  const {
    txValue,
    txFiatValue,
    txFiatValueSymbol,
    recipient,
    fee,
    totalSpend,
    sendingValue,
    arrivesIn,
    nonce,
    memoDisplayText
  } = formReviewTxSummary(stacksDeserializedTransaction, symbol, decimals);
  const feeWarningTooltip = showFeeChangeWarning ? /* @__PURE__ */ (0,jsx_runtime.jsx)(
    basic_tooltip/* BasicTooltip */.G,
    {
      label: "You are using a nonce for this transaction that is already pending. The fee has been increased so that it is exactly high enough to replace the pending transaction with the same nonce.",
      side: "bottom",
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* InfoCircleIcon */.ee, { color: "ink.text-subdued", variant: "small" }) }) })
    }
  ) : null;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(PageHeader, { title: "Review" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Content */.UC, { children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(layout/* Page */.YW, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {}),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        SendFormConfirmation,
        {
          txValue,
          txFiatValue,
          txFiatValueSymbol,
          recipient,
          fee,
          totalSpend,
          sendingValue,
          arrivesIn,
          nonce,
          memoDisplayText,
          symbol: symbol.toUpperCase(),
          isLoading: isBroadcasting,
          feeWarningTooltip,
          onBroadcastTransaction: () => stacksBroadcastTransaction(stacksDeserializedTransaction)
        }
      )
    ] }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/form/stx/use-stx-send-form.tsx














function useStxSendForm() {
  const unsignedTx = useStxTokenTransferUnsignedTxState();
  const { data: stxFees } = (0,query_dist/* useCalculateStacksTxFees */.mkG)(unsignedTx);
  const generateTx = useGenerateStxTokenTransferUnsignedTx();
  const { onFormStateChange } = useUpdatePersistedSendFormValues();
  const sendFormNavigate = useSendFormNavigate();
  const address = (0,stacks_account_hooks/* useCurrentStacksAccountAddress */.$3)();
  const { changeFeeByNonce } = (0,query_dist/* useStacksValidateFeeByNonce */.xX6)(address);
  const availableUnlockedBalance = (0,query_dist/* useStxAvailableUnlockedBalance */.Hsy)(address);
  const sendMaxBalance = (0,react.useMemo)(
    () => (0,utils_dist/* convertAmountToBaseUnit */.AG)(
      availableUnlockedBalance.amount.minus(stxFees?.estimates[1].fee.amount || 0),
      constants_dist/* STX_DECIMALS */.vI
    ),
    [availableUnlockedBalance.amount, stxFees?.estimates]
  );
  const { initialValues, checkFormValidation, recipient, memo, nonce } = useStacksCommonSendForm({
    symbol: "STX",
    availableTokenBalance: availableUnlockedBalance
  });
  return {
    availableUnlockedBalance,
    initialValues,
    onFormStateChange,
    sendMaxBalance,
    stxFees,
    validationSchema: yup_index_esm/* object */.Ik({
      amount: stxAmountValidator(availableUnlockedBalance).concat(
        stxAvailableBalanceValidator(availableUnlockedBalance)
      ),
      fee: stxFeeValidator(availableUnlockedBalance),
      recipient,
      memo,
      nonce
    }),
    async previewTransaction(values, formikHelpers) {
      const isFormValid = await checkFormValidation(values, formikHelpers);
      if (!isFormValid) return;
      const initialFee = values.fee;
      values.fee = changeFeeByNonce({
        nonce: Number(values.nonce),
        fee: Number(values.fee)
      });
      const showFeeChangeWarning = initialFee !== values.fee;
      const tx = await generateTx(values);
      if (!tx) return logger/* logger */.v.error("Attempted to generate unsigned tx, but tx is undefined");
      sendFormNavigate.toConfirmAndSignStxTransaction(tx, showFeeChangeWarning);
    }
  };
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/form/stx/stx-send-form.tsx












const stx_send_form_symbol = "STX";
function StxSendForm() {
  const stxMarketData = (0,query_dist/* useCryptoCurrencyMarketDataMeanAverage */.UoM)(stx_send_form_symbol);
  const {
    availableUnlockedBalance,
    initialValues,
    previewTransaction,
    sendMaxBalance,
    stxFees: fees,
    validationSchema
  } = useStxSendForm();
  const amountField = /* @__PURE__ */ (0,jsx_runtime.jsx)(
    AmountField,
    {
      balance: availableUnlockedBalance,
      switchableAmount: /* @__PURE__ */ (0,jsx_runtime.jsx)(SendFiatValue, { marketData: stxMarketData, assetSymbol: stx_send_form_symbol }),
      bottomInputOverlay: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        SendMaxButton,
        {
          balance: availableUnlockedBalance,
          sendMaxBalance: sendMaxBalance.toString()
        }
      )
    }
  );
  const selectedAssetField = /* @__PURE__ */ (0,jsx_runtime.jsx)(SelectedAssetField, { icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* StxAvatarIcon */.sC, {}), name: "Stacks", symbol: stx_send_form_symbol });
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(PageHeader, { title: "Send" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Content */.UC, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
      StacksCommonSendForm,
      {
        onSubmit: previewTransaction,
        initialValues,
        validationSchema,
        amountField,
        selectedAssetField,
        fees,
        availableTokenBalance: availableUnlockedBalance
      }
    ) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/send/send-crypto-asset-form/send-crypto-asset-form.routes.tsx

























const recipientAccountsSheetRoute = /* @__PURE__ */ (0,jsx_runtime.jsx)(
  react_router_dist/* Route */.qh,
  {
    path: route_urls/* RouteUrls */.W.SendCryptoAssetFormRecipientAccounts,
    element: /* @__PURE__ */ (0,jsx_runtime.jsx)(RecipientAccountsSheet, {})
  }
);
const editNonceSheetRoute = /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.EditNonce, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(EditNonceSheet, {}) });
const broadcastErrorSheetRoute = /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: "confirm/broadcast-error", element: /* @__PURE__ */ (0,jsx_runtime.jsx)(BroadcastErrorSheet, {}) });
const sendCryptoAssetFormRoutes = /* @__PURE__ */ (0,jsx_runtime.jsxs)(react_router_dist/* Route */.qh, { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    react_router_dist/* Route */.qh,
    {
      path: route_urls/* RouteUrls */.W.SendCryptoAsset,
      element: /* @__PURE__ */ (0,jsx_runtime.jsx)(account_gate/* AccountGate */.z0, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Suspense, { fallback: /* @__PURE__ */ (0,jsx_runtime.jsx)(FullPageWithHeaderLoadingSpinner, {}), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(ChooseCryptoAsset, {}) }) })
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)(react_router_dist/* Route */.qh, { element: /* @__PURE__ */ (0,jsx_runtime.jsx)(SendBitcoinAssetContainer, {}), children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(
      react_router_dist/* Route */.qh,
      {
        path: route_urls/* RouteUrls */.W.SendCryptoAssetForm.replace(":symbol", "btc"),
        element: /* @__PURE__ */ (0,jsx_runtime.jsx)(BtcSendForm, {}),
        children: [
          ledgerBitcoinTxSigningRoutes,
          recipientAccountsSheetRoute
        ]
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.SendBtcDisabled, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(SendBtcDisabled, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.SendBtcError, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(BroadcastError, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.SendBtcConfirmation, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(BtcSendFormConfirmation, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.SendBtcChooseFee, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(BtcChooseFee, {}), children: ledgerBitcoinTxSigningRoutes }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.SentBtcTxSummary, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(BtcSentSummary, {}) })
  ] }),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    react_router_dist/* Route */.qh,
    {
      path: route_urls/* RouteUrls */.W.SendCryptoAssetForm.replace(":symbol", "stx"),
      element: /* @__PURE__ */ (0,jsx_runtime.jsx)(StacksHighFeeWarningContainer, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(StxSendForm, {}) }),
      children: [
        broadcastErrorSheetRoute,
        editNonceSheetRoute,
        recipientAccountsSheetRoute
      ]
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    react_router_dist/* Route */.qh,
    {
      path: `${route_urls/* RouteUrls */.W.SendCryptoAssetForm.replace(":symbol", "stx")}/confirm`,
      element: /* @__PURE__ */ (0,jsx_runtime.jsx)(StacksSendFormConfirmation, {}),
      children: ledgerStacksTxSigningRoutes
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    react_router_dist/* Route */.qh,
    {
      path: route_urls/* RouteUrls */.W.SendSip10Form,
      element: /* @__PURE__ */ (0,jsx_runtime.jsx)(StacksHighFeeWarningContainer, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(Sip10TokenSendForm, {}) }),
      children: [
        broadcastErrorSheetRoute,
        editNonceSheetRoute,
        recipientAccountsSheetRoute
      ]
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: "/send/:symbol/:contractId/confirm", element: /* @__PURE__ */ (0,jsx_runtime.jsx)(StacksSendFormConfirmation, {}), children: ledgerStacksTxSigningRoutes }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.SentStxTxSummary, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(StxSentSummary, {}) })
] });

;// CONCATENATED MODULE: ./src/app/store/transactions/contract-call.hooks.ts






function useGenerateStacksContractCallUnsignedTx() {
  const account = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const { data: nextNonce } = (0,query_dist/* useNextNonce */.eIk)(account?.address ?? "");
  const network = (0,networks_hooks/* useCurrentStacksNetworkState */.hB)();
  return (0,react.useCallback)(
    async (payload, values) => {
      if (!account) return;
      const options = {
        publicKey: account.stxPublicKey,
        nonce: Number(values?.nonce) ?? nextNonce?.nonce,
        fee: values.fee ?? 0,
        txData: { ...payload, network }
      };
      return generateUnsignedTransaction(options);
    },
    [account, network, nextNonce?.nonce]
  );
}

;// CONCATENATED MODULE: ./src/app/pages/swap/bitflow-swap.utils.ts



function estimateLiquidityFee(dexPath) {
  return new bignumber/* default */.A(dexPath.length).times(0.3).toNumber();
}
function formatDexPathItem(dex) {
  const name = dex.split("_")[0];
  return name === "ALEX" ? name : (0,utils_dist/* capitalize */.ZH)(name.toLowerCase());
}

;// CONCATENATED MODULE: ./src/app/pages/swap/swap.context.ts


const swapContext = (0,react.createContext)(null);
function useSwapContext() {
  const context = (0,react.useContext)(swapContext);
  if (!context) throw new Error("No SwapContext found");
  return context;
}
const SwapProvider = swapContext.Provider;

;// CONCATENATED MODULE: ./src/app/pages/swap/hooks/use-swap-form.tsx









function useSwapForm() {
  const { isFetchingExchangeRate } = useSwapContext();
  const stxAddress = (0,stacks_account_hooks/* useCurrentStacksAccountAddress */.$3)();
  const { data: nextNonce } = (0,query_dist/* useNextNonce */.eIk)(stxAddress);
  const initialValues = {
    fee: "0",
    feeCurrency: "STX",
    feeType: models_dist/* FeeTypes */.MR[models_dist/* FeeTypes */.MR.Middle],
    nonce: nextNonce?.nonce,
    swapAmountBase: "",
    swapAmountQuote: "",
    swapAssetBase: void 0,
    swapAssetQuote: void 0
  };
  const validationSchema = yup_index_esm/* object */.Ik({
    swapAssetBase: yup_index_esm/* object */.Ik().required(),
    swapAssetQuote: yup_index_esm/* object */.Ik().required(),
    swapAmountBase: yup_index_esm/* number */.ai().test({
      message: "Insufficient balance",
      test(value) {
        if (isFetchingExchangeRate) return true;
        const { swapAssetBase } = this.parent;
        const valueInFractionalUnit = (0,utils_dist/* convertAmountToFractionalUnit */.KA)(
          (0,utils_dist/* createMoney */.j6)(
            new bignumber/* default */.A(Number(value)),
            swapAssetBase.balance.symbol,
            swapAssetBase.balance.decimals
          )
        );
        if (swapAssetBase.balance.amount.isLessThan(valueInFractionalUnit)) return false;
        return true;
      }
    }).required(FormErrorMessages.AmountRequired).typeError(FormErrorMessages.MustBeNumber).positive(FormErrorMessages.MustBePositive),
    swapAmountQuote: yup_index_esm/* number */.ai().required(FormErrorMessages.AmountRequired).typeError(FormErrorMessages.MustBeNumber).positive(FormErrorMessages.MustBePositive)
  });
  return {
    initialValues,
    validationSchema
  };
}

;// CONCATENATED MODULE: ./src/app/pages/swap/components/swap-form.tsx







function SwapForm({ children }) {
  const { initialValues, validationSchema } = useSwapForm();
  const { onSubmitSwapForReview } = useSwapContext();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    formik_esm/* Formik */.l1,
    {
      initialValues,
      onSubmit: onSubmitSwapForReview,
      validateOnChange: false,
      validateOnMount: true,
      validationSchema,
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Box */.az, { width: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(NonceSetter, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(formik_esm/* Form */.lV, { children })
      ] })
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/swap/hooks/use-swap-navigate.ts



function useSwapNavigate() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const { base, quote } = (0,react_router_dist/* useParams */.g)();
  return (0,react.useCallback)(
    (route) => {
      navigate(route.replace(":base", base ?? "").replace(":quote", quote ?? ""));
    },
    [base, navigate, quote]
  );
}

;// CONCATENATED MODULE: ./tests/selectors/swap.selectors.ts

var SwapSelectors = /* @__PURE__ */ ((SwapSelectors2) => {
  SwapSelectors2["SwapAssetList"] = "swap-asset-list";
  SwapSelectors2["SwapAssetListItem"] = "swap-asset-list-item";
  SwapSelectors2["SelectAssetTriggerBtn"] = "select-asset-trigger-btn";
  SwapSelectors2["SwapAmountInput"] = "swap-amount-input";
  SwapSelectors2["SwapDetailsAmount"] = "swap-details-amount";
  SwapSelectors2["SwapDetailsProtocol"] = "swap-details-protocol";
  SwapSelectors2["SwapDetailsSymbol"] = "swap-details-symbol";
  SwapSelectors2["SwapPageReady"] = "swap-page-ready";
  SwapSelectors2["SwapReviewBtn"] = "swap-review-btn";
  SwapSelectors2["SwapSubmitBtn"] = "swap-submit-btn";
  return SwapSelectors2;
})(SwapSelectors || {});

;// CONCATENATED MODULE: ./src/app/pages/swap/components/swap-asset-dialog/components/swap-asset-item.tsx







function SwapAssetItem({ asset, onClick }) {
  const { data: ftMetadata } = (0,query_dist/* useGetFungibleTokenMetadataQuery */.OHp)(asset.principal);
  const ftMetadataName = ftMetadata && (0,query_dist/* isFtAsset */.z3E)(ftMetadata) ? ftMetadata.name : asset.name;
  const displayName = asset.displayName ?? ftMetadataName;
  const fallback = (0,exports_web/* getAvatarFallback */.qc)(asset.name);
  const fiatBalance = convertSwapAssetBalanceToFiat(asset);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Pressable */.oz, { "data-testid": SwapSelectors.SwapAssetListItem, onClick, my: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* ItemLayout */.E7,
    {
      img: /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Avatar */.eu.Root, { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Avatar */.eu.Image, { alt: fallback, src: asset.icon }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Avatar */.eu.Fallback, { delayMs: exports_web/* defaultFallbackDelay */.vg, children: fallback })
      ] }),
      titleLeft: displayName,
      captionLeft: asset.name,
      titleRight: (0,utils_dist/* formatMoneyWithoutSymbol */.gu)(asset.balance),
      captionRight: fiatBalance
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/pages/swap/components/swap-asset-dialog/components/swap-asset-list.tsx











function SwapAssetList({ assets, type }) {
  const { fetchQuoteAmount } = useSwapContext();
  const { setFieldError, setFieldValue, values } = (0,formik_esm/* useFormikContext */.j7)();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const { base, quote } = (0,react_router_dist/* useParams */.g)();
  const isBaseList = type === "base";
  const isQuoteList = type === "quote";
  const selectableAssets = assets.filter(
    (asset) => isBaseList && asset.name !== values.swapAssetQuote?.name || isQuoteList && asset.name !== values.swapAssetBase?.name
  );
  async function onSelectAsset(asset) {
    let baseAsset;
    let quoteAsset;
    if (isBaseList) {
      baseAsset = asset;
      quoteAsset = values.swapAssetQuote;
      await setFieldValue("swapAssetBase", asset);
      navigate(route_urls/* RouteUrls */.W.Swap.replace(":base", baseAsset.name).replace(":quote", quote ?? ""));
    } else if (isQuoteList) {
      baseAsset = values.swapAssetBase;
      quoteAsset = asset;
      await setFieldValue("swapAssetQuote", asset);
      setFieldError("swapAssetQuote", void 0);
      navigate(route_urls/* RouteUrls */.W.Swap.replace(":base", base ?? "").replace(":quote", quoteAsset.name));
    }
    if (baseAsset && quoteAsset && values.swapAmountBase) {
      const quoteAmount = await fetchQuoteAmount(baseAsset, quoteAsset, values.swapAmountBase);
      if ((0,utils_dist/* isUndefined */.b0)(quoteAmount)) {
        await setFieldValue("swapAmountQuote", "");
        return;
      }
      const quoteAmountAsMoney = (0,utils_dist/* createMoney */.j6)(
        (0,utils_dist/* convertAmountToFractionalUnit */.KA)(new bignumber/* default */.A(quoteAmount), quoteAsset?.balance.decimals),
        quoteAsset?.balance.symbol ?? "",
        quoteAsset?.balance.decimals
      );
      await setFieldValue("swapAmountQuote", (0,utils_dist/* formatMoneyWithoutSymbol */.gu)(quoteAmountAsMoney));
      setFieldError("swapAmountQuote", void 0);
    }
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { mb: "space.05", p: "space.05", width: "100%", "data-testid": SwapSelectors.SwapAssetList, children: selectableAssets.map((asset) => /* @__PURE__ */ (0,jsx_runtime.jsx)(SwapAssetItem, { asset, onClick: () => onSelectAsset(asset) }, asset.currency)) });
}

;// CONCATENATED MODULE: ./src/app/pages/swap/components/swap-asset-dialog/swap-asset-dialog-base.tsx







function SwapAssetSheetBase() {
  const { swappableAssetsBase } = useSwapContext();
  const navigate = useSwapNavigate();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Sheet */.cj,
    {
      isShowing: true,
      onClose: () => navigate(route_urls/* RouteUrls */.W.Swap),
      header: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* SheetHeader */.YJ,
        {
          title: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
            "Choose asset ",
            /* @__PURE__ */ (0,jsx_runtime.jsx)("br", {}),
            " to swap"
          ] }),
          variant: "large",
          onClose: () => navigate(route_urls/* RouteUrls */.W.Swap)
        }
      ),
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(SwapAssetList, { assets: swappableAssetsBase, type: "base" })
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/swap/components/swap-asset-dialog/swap-asset-dialog-quote.tsx







function SwapAssetSheetQuote() {
  const { swappableAssetsQuote } = useSwapContext();
  const navigate = useSwapNavigate();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Sheet */.cj,
    {
      isShowing: true,
      onClose: () => navigate(route_urls/* RouteUrls */.W.Swap),
      header: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* SheetHeader */.YJ,
        {
          title: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
            "Choose asset ",
            /* @__PURE__ */ (0,jsx_runtime.jsx)("br", {}),
            " to receive"
          ] }),
          variant: "large",
          onClose: () => navigate(route_urls/* RouteUrls */.W.Swap)
        }
      ),
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(SwapAssetList, { assets: swappableAssetsQuote, type: "quote" })
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/swap/components/swap-error.tsx







const swap_error_helpTextList = [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    GenericErrorListItem,
    {
      text: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.02", children: "Please report issue to swap protocol" })
    },
    1
  )
];
function SwapError() {
  const location = (0,react_router_dist/* useLocation */.zy)();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const message = lodash_get_default()(location.state, "message");
  const title = lodash_get_default()(location.state, "title");
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    GenericError,
    {
      body: message,
      helpTextList: swap_error_helpTextList,
      mb: "space.06",
      onClose: () => navigate(route_urls/* RouteUrls */.W.Home),
      title
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/swap/components/swap-assets-pair/swap-asset-item.layout.tsx





function SwapAssetItemLayout({ caption, icon, symbol, value }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    exports_web/* Flag */.lN,
    {
      img: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.img, { src: icon, borderRadius: "50%", width: "48px", height: "48px", alt: "Swap asset" }),
      spacing: "space.03",
      width: "100%",
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { color: "ink.text-subdued", textStyle: "caption.01", children: caption }),
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", justifyContent: "space-between", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { "data-testid": SwapSelectors.SwapDetailsSymbol, textStyle: "heading.05", children: symbol }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { "data-testid": SwapSelectors.SwapDetailsAmount, textStyle: "heading.05", children: value })
        ] })
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/swap/components/swap-assets-pair/swap-assets-pair.layout.tsx




function SwapAssetsPairLayout({ swapAssetBase, swapAssetQuote }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Stack */.BJ,
    {
      border: "default",
      borderRadius: "sm",
      gap: "space.01",
      mb: "space.05",
      mt: "space.04",
      p: "space.04",
      width: "100%",
      children: [
        swapAssetBase,
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { height: "24px", px: "space.04", py: "space.01", width: "48px", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ArrowDownIcon */.ZL, { variant: "small" }) }),
        swapAssetQuote
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/swap/components/swap-assets-pair/swap-assets-pair.tsx








function SwapAssetsPair() {
  const {
    values: { swapAmountBase, swapAmountQuote, swapAssetBase, swapAssetQuote }
  } = (0,formik_esm/* useFormikContext */.j7)();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  if ((0,utils_dist/* isUndefined */.b0)(swapAssetBase) || (0,utils_dist/* isUndefined */.b0)(swapAssetQuote)) {
    navigate(route_urls/* RouteUrls */.W.Swap, { replace: true });
    return null;
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    SwapAssetsPairLayout,
    {
      swapAssetBase: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        SwapAssetItemLayout,
        {
          caption: "You will swap",
          icon: swapAssetBase.icon,
          symbol: swapAssetBase.name,
          value: swapAmountBase
        }
      ),
      swapAssetQuote: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        SwapAssetItemLayout,
        {
          caption: "You will receive",
          icon: swapAssetQuote.icon,
          symbol: swapAssetQuote.name,
          value: swapAmountQuote
        }
      )
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/swap/components/swap-details/swap-detail.layout.tsx





function SwapDetailLayout({
  dataTestId,
  title,
  tooltipLabel,
  value
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", justifyContent: "space-between", width: "100%", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", gap: "space.01", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { color: "ink.text-subdued", textStyle: "body.02", children: title }),
      tooltipLabel ? /* @__PURE__ */ (0,jsx_runtime.jsx)(basic_tooltip/* BasicTooltip */.G, { label: tooltipLabel, side: "bottom", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { _hover: { cursor: "pointer" }, color: "ink.text-subdued", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* InfoCircleIcon */.ee, { variant: "small" }) }) }) : null
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { "data-testid": dataTestId, textStyle: "label.02", children: value })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/swap/components/swap-details/swap-details.layout.tsx



function SwapDetailsLayout({ children }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { alignItems: "center", gap: "space.03", px: "space.04", width: "100%", children });
}

;// CONCATENATED MODULE: ./src/app/pages/swap/components/swap-details/swap-details.tsx














function RouteNames(props) {
  return props.swapSubmissionData.router.map((route, i) => {
    const insertIcon = (0,utils_dist/* isDefined */.O9)(props.swapSubmissionData.router[i + 1]);
    return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { gap: "space.01", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { children: route.name }),
      insertIcon && /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ChevronRightIcon */.vK, { variant: "small" })
    ] }, route.name);
  });
}
const sponsoredFeeLabel = "Sponsorship may not apply when you have pending transactions. In such cases, if you choose to proceed, the associated costs will be deducted from your balance.";
function SwapDetails() {
  const { swapSubmissionData } = useSwapContext();
  const { isTestnet } = (0,networks_hooks/* useCurrentNetworkState */.uZ)();
  const { data: blockTime } = (0,query_dist/* useGetStacksNetworkBlockTimeQuery */.J60)();
  if ((0,utils_dist/* isUndefined */.b0)(swapSubmissionData) || (0,utils_dist/* isUndefined */.b0)(swapSubmissionData.swapAssetBase) || (0,utils_dist/* isUndefined */.b0)(swapSubmissionData.swapAssetQuote))
    return null;
  const formattedMinToReceive = (0,utils_dist/* formatMoneyPadded */.cN)(
    (0,utils_dist/* createMoneyFromDecimal */.cU)(
      new bignumber/* default */.A(swapSubmissionData.swapAmountQuote).times(1 - swapSubmissionData.slippage),
      swapSubmissionData.swapAssetQuote.balance.symbol,
      swapSubmissionData.swapAssetQuote.balance.decimals
    )
  );
  const getFormattedPoweredBy = () => {
    const uniqueDexList = Array.from(new Set(swapSubmissionData.dexPath));
    const isOnlySwapProtocol = uniqueDexList.length === 1 && uniqueDexList[0] === swapSubmissionData.protocol;
    return isOnlySwapProtocol || !uniqueDexList.length ? swapSubmissionData.protocol : `${toCommaSeparatedWithAnd(uniqueDexList)} via ${swapSubmissionData.protocol}`;
  };
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(SwapDetailsLayout, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      SwapDetailLayout,
      {
        dataTestId: SwapSelectors.SwapDetailsProtocol,
        title: "Powered by",
        value: getFormattedPoweredBy()
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      SwapDetailLayout,
      {
        title: "Route",
        value: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* HStack */.zt, { gap: "space.01", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(RouteNames, { swapSubmissionData }) })
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(SwapDetailLayout, { title: "Min to receive", value: formattedMinToReceive }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      SwapDetailLayout,
      {
        title: "Slippage tolerance",
        value: `${swapSubmissionData.slippage * 100}%`
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      SwapDetailLayout,
      {
        title: "Liquidity provider fee",
        value: `${swapSubmissionData.liquidityFee.toFixed(1)}%`
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      SwapDetailLayout,
      {
        title: "Transaction fees",
        tooltipLabel: swapSubmissionData.sponsored ? sponsoredFeeLabel : void 0,
        value: swapSubmissionData.sponsored ? "Sponsored" : `${(0,utils_dist/* microStxToStx */.Am)(swapSubmissionData.fee).toString()} STX`
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      SwapDetailLayout,
      {
        title: "Estimated confirmation time",
        value: getEstimatedConfirmationTime(isTestnet, blockTime)
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(SwapDetailLayout, { title: "Nonce", value: swapSubmissionData.nonce?.toString() ?? "Unknown" })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/swap/components/swap-review.tsx










function SwapReview() {
  const { onSubmitSwap } = useSwapContext();
  const { isLoading } = useLoading(LoadingKeys.SUBMIT_SWAP_TRANSACTION);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(
      layout/* Card */.Zp,
      {
        dataTestId: SwapSelectors.SwapPageReady,
        footer: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* Button */.$n,
          {
            "aria-busy": isLoading,
            disabled: isLoading,
            "data-testid": SwapSelectors.SwapSubmitBtn,
            type: "button",
            onClick: onSubmitSwap,
            fullWidth: true,
            children: "Swap"
          }
        ),
        children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(SwapAssetsPair, {}),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(SwapDetails, {})
        ]
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/swap/components/swap-asset-select/components/swap-amount-field.tsx









function getPlaceholderValue(name, values) {
  if (name === "swapAmountBase" && (0,utils_dist/* isDefined */.O9)(values.swapAssetBase)) return "0";
  if (name === "swapAmountQuote" && (0,utils_dist/* isDefined */.O9)(values.swapAssetQuote)) return "0";
  return "-";
}
function SwapAmountField({ amountAsFiat, isDisabled, name }) {
  const { fetchQuoteAmount, isFetchingExchangeRate, onSetIsSendingMax } = useSwapContext();
  const { setFieldError, setFieldValue, values } = (0,formik_esm/* useFormikContext */.j7)();
  const [field] = (0,formik_esm/* useField */.Mt)(name);
  const showError = useShowFieldError(name) && name === "swapAmountBase" && values.swapAssetQuote;
  async function onBlur(event) {
    const { swapAssetBase, swapAssetQuote } = values;
    if ((0,utils_dist/* isUndefined */.b0)(swapAssetBase) || (0,utils_dist/* isUndefined */.b0)(swapAssetQuote)) return;
    onSetIsSendingMax(false);
    const value = event.currentTarget.value;
    const toAmount = await fetchQuoteAmount(swapAssetBase, swapAssetQuote, value);
    if ((0,utils_dist/* isUndefined */.b0)(toAmount)) {
      await setFieldValue("swapAmountQuote", "");
      return;
    }
    const toAmountAsMoney = (0,utils_dist/* createMoney */.j6)(
      (0,utils_dist/* convertAmountToFractionalUnit */.KA)(
        new bignumber/* default */.A(toAmount),
        values.swapAssetQuote?.balance.decimals
      ),
      values.swapAssetQuote?.balance.symbol ?? "",
      values.swapAssetQuote?.balance.decimals
    );
    await setFieldValue("swapAmountQuote", (0,utils_dist/* formatMoneyWithoutSymbol */.gu)(toAmountAsMoney));
    setFieldError("swapAmountQuote", void 0);
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { alignItems: "flex-end", gap: "space.01", width: ["50%", "60%"], children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      jsx/* styled */.I4.input,
      {
        _disabled: {
          color: "ink.text-subdued"
        },
        autoComplete: "off",
        bg: "ink.background-primary",
        border: "none",
        color: showError ? "red.action-primary-default" : "ink.text-primary",
        "data-testid": SwapSelectors.SwapAmountInput,
        display: "block",
        disabled: isDisabled || isFetchingExchangeRate,
        id: name,
        maxLength: 15,
        p: "0px",
        placeholder: getPlaceholderValue(name, values),
        ring: "none",
        textAlign: "right",
        textStyle: "heading.05",
        width: "100%",
        ...field,
        onBlur: async (e) => {
          field.onBlur(e);
          await onBlur(e);
        }
      }
    ),
    amountAsFiat ? /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { color: showError ? "error" : "ink.text-subdued", textStyle: "caption.01", children: amountAsFiat }) : null
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/swap/components/swap-asset-select/components/select-asset-trigger-button.tsx






function SelectAssetTriggerButton({
  icon,
  name,
  onSelectAsset,
  symbol
}) {
  const [field] = (0,formik_esm/* useField */.Mt)(name);
  const fallback = (0,exports_web/* getAvatarFallback */.qc)(symbol);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Button */.$n,
    {
      "data-testid": SwapSelectors.SelectAssetTriggerBtn,
      onClick: onSelectAsset,
      p: "space.02",
      variant: "ghost",
      ...field,
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { children: [
        icon && /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Avatar */.eu.Root, { children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Avatar */.eu.Image, { alt: fallback, src: icon }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Avatar */.eu.Fallback, { delayMs: exports_web/* defaultFallbackDelay */.vg, children: fallback })
        ] }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.01", children: symbol }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ChevronDownIcon */.D3, { variant: "small" })
      ] })
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/swap/components/swap-asset-select/components/swap-asset-selected.tsx



function SwapAssetSelected({
  contentLeft,
  contentRight,
  name,
  showError
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* styled */.I4.label,
    {
      _focusWithin: { border: "action" },
      alignItems: "center",
      border: showError ? "error" : "default",
      borderRadius: "sm",
      display: "flex",
      height: "76px",
      htmlFor: name,
      mb: "space.02",
      minHeight: "64px",
      px: "space.04",
      width: "100%",
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { width: "100%", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", justifyContent: "space-between", children: [
        contentLeft,
        contentRight
      ] }) })
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/swap/components/swap-asset-select/components/swap-toggle-button.tsx









function SwapToggleButton() {
  const { fetchQuoteAmount, isFetchingExchangeRate, onSetIsSendingMax } = useSwapContext();
  const { setFieldValue, values } = (0,formik_esm/* useFormikContext */.j7)();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  async function onToggleSwapAssets() {
    onSetIsSendingMax(false);
    const prevAmountBase = values.swapAmountBase;
    const prevAmountQuote = values.swapAmountQuote;
    const prevAssetBase = values.swapAssetBase;
    const prevAssetQuote = values.swapAssetQuote;
    void setFieldValue("swapAssetBase", prevAssetQuote);
    void setFieldValue("swapAssetQuote", prevAssetBase);
    void setFieldValue("swapAmountBase", prevAmountQuote);
    if ((0,utils_dist/* isDefined */.O9)(prevAssetBase) && (0,utils_dist/* isDefined */.O9)(prevAssetQuote)) {
      const quoteAmount = await fetchQuoteAmount(prevAssetQuote, prevAssetBase, prevAmountQuote);
      if ((0,utils_dist/* isUndefined */.b0)(quoteAmount)) {
        void setFieldValue("swapAmountQuote", "");
        return;
      }
      void setFieldValue("swapAmountQuote", Number(quoteAmount));
    } else {
      void setFieldValue("swapAmountQuote", Number(prevAmountBase));
    }
    navigate(
      route_urls/* RouteUrls */.W.Swap.replace(":base", prevAssetQuote?.name ?? "").replace(
        ":quote",
        prevAssetBase?.name ?? ""
      )
    );
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* styled */.I4.button,
    {
      alignSelf: "flex-start",
      disabled: (0,utils_dist/* isUndefined */.b0)(values.swapAssetQuote) || isFetchingExchangeRate,
      onClick: onToggleSwapAssets,
      type: "button",
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ArrowsRepeatLeftRightIcon */.u, { transform: "rotate(90)", variant: "small" })
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/swap/components/swap-asset-select/components/swap-asset-select.layout.tsx









function getTextColor(showError, onClickHandler) {
  if (showError) return "red.action-primary-default";
  if (onClickHandler) return "ink.text-primary";
  return "ink.text-subdued";
}
function SwapAssetSelectLayout({
  caption,
  error,
  icon,
  name,
  onSelectAsset,
  onClickHandler,
  showError,
  showToggle,
  swapAmountInput,
  symbol,
  title,
  tooltipLabel,
  value
}) {
  const captionTextColor = getTextColor(showError);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Box */.az, { width: "100%", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(
      jsx/* HStack */.zt,
      {
        alignItems: "center",
        justifyContent: "space-between",
        mb: "space.02",
        mt: showToggle ? "space.06" : "space.04",
        children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.01", children: title }),
          showToggle && /* @__PURE__ */ (0,jsx_runtime.jsx)(SwapToggleButton, {})
        ]
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      SwapAssetSelected,
      {
        contentLeft: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          SelectAssetTriggerButton,
          {
            icon,
            name,
            onSelectAsset,
            symbol
          }
        ),
        contentRight: swapAmountInput,
        name,
        showError
      }
    ),
    caption ? /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", justifyContent: "space-between", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(basic_tooltip/* BasicTooltip */.G, { label: tooltipLabel, side: "bottom", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        jsx/* styled */.I4.span,
        {
          color: captionTextColor,
          cursor: tooltipLabel ? "pointer" : "unset",
          textStyle: "caption.01",
          children: showError ? error : caption
        }
      ) }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* Link */.N_,
        {
          _focus: { _before: { color: "unset" } },
          cursor: onClickHandler ? "pointer" : "unset",
          onClick: onClickHandler ? onClickHandler : utils_dist/* noop */.lQ,
          variant: onClickHandler ? "underlined" : "text",
          children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "caption.01", children: value })
        }
      )
    ] }) : null
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/swap/components/swap-asset-select/swap-asset-select-base.tsx












const availableBalanceCaption = "Available balance";
const maxAvailableTooltip = "Amount of funds that are immediately available for use, after taking into account any pending transactions or holds placed on your account by the protocol.";
const sendingMaxTooltip = "When sending max, this amount is affected by the fee you choose.";
function SwapAssetSelectBase() {
  const { fetchQuoteAmount, isFetchingExchangeRate, isSendingMax, onSetIsSendingMax } = useSwapContext();
  const { setFieldValue, setFieldError, values } = (0,formik_esm/* useFormikContext */.j7)();
  const [amountField, amountFieldMeta, amountFieldHelpers] = (0,formik_esm/* useField */.Mt)("swapAmountBase");
  const showError = useShowFieldError("swapAmountBase");
  const [assetField] = (0,formik_esm/* useField */.Mt)("swapAssetBase");
  const navigate = useSwapNavigate();
  const amountAsFiat = (0,utils_dist/* isDefined */.O9)(assetField.value && amountField.value) && convertInputAmountValueToFiat(
    assetField.value.balance,
    assetField.value.marketData,
    amountField.value
  );
  const formattedBalance = (0,utils_dist/* formatMoneyWithoutSymbol */.gu)(assetField.value.balance);
  const isSwapAssetBaseBalanceGreaterThanZero = values.swapAssetBase?.balance.amount.isGreaterThan(0);
  async function onSetMaxBalanceAsAmountToSwap() {
    const { swapAssetBase, swapAssetQuote } = values;
    if (isFetchingExchangeRate || (0,utils_dist/* isUndefined */.b0)(swapAssetBase)) return;
    onSetIsSendingMax(!isSendingMax);
    await amountFieldHelpers.setValue(Number(formattedBalance));
    await amountFieldHelpers.setTouched(true);
    if ((0,utils_dist/* isUndefined */.b0)(swapAssetQuote)) return;
    const toAmount = await fetchQuoteAmount(swapAssetBase, swapAssetQuote, formattedBalance);
    if ((0,utils_dist/* isUndefined */.b0)(toAmount)) {
      await setFieldValue("swapAmountQuote", "");
      return;
    }
    const toAmountAsMoney = (0,utils_dist/* createMoney */.j6)(
      (0,utils_dist/* convertAmountToFractionalUnit */.KA)(
        new bignumber/* default */.A(toAmount),
        values.swapAssetQuote?.balance.decimals
      ),
      values.swapAssetQuote?.balance.symbol ?? "",
      values.swapAssetQuote?.balance.decimals
    );
    await setFieldValue("swapAmountQuote", (0,utils_dist/* formatMoneyWithoutSymbol */.gu)(toAmountAsMoney));
    setFieldError("swapAmountQuote", void 0);
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    SwapAssetSelectLayout,
    {
      caption: availableBalanceCaption,
      error: amountFieldMeta.error,
      icon: assetField.value.icon,
      name: "swapAmountBase",
      onSelectAsset: () => navigate(route_urls/* RouteUrls */.W.SwapAssetSelectBase),
      onClickHandler: onSetMaxBalanceAsAmountToSwap,
      showError: !!(showError && values.swapAssetQuote),
      swapAmountInput: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        SwapAmountField,
        {
          amountAsFiat: amountAsFiat && (0,utils_dist/* isMoneyGreaterThanZero */.CD)(amountAsFiat) ? (0,utils_dist/* i18nFormatCurrency */.Lx)(amountAsFiat) : "",
          isDisabled: !isSwapAssetBaseBalanceGreaterThanZero,
          name: "swapAmountBase"
        }
      ),
      symbol: assetField.value.name,
      title: "You pay",
      tooltipLabel: isSendingMax ? sendingMaxTooltip : maxAvailableTooltip,
      value: formattedBalance
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/swap/components/swap-asset-select/swap-asset-select-quote.tsx











function SwapAssetSelectQuote() {
  const { isFetchingExchangeRate } = useSwapContext();
  const [amountField] = (0,formik_esm/* useField */.Mt)("swapAmountQuote");
  const [assetField] = (0,formik_esm/* useField */.Mt)("swapAssetQuote");
  const navigate = useSwapNavigate();
  const amountAsFiat = (0,utils_dist/* isDefined */.O9)(assetField.value && amountField.value) && convertInputAmountValueToFiat(
    assetField.value.balance,
    assetField.value.marketData,
    amountField.value
  );
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    SwapAssetSelectLayout,
    {
      caption: "You have",
      icon: assetField.value?.icon,
      name: "swapAmountQuote",
      onSelectAsset: () => navigate(route_urls/* RouteUrls */.W.SwapAssetSelectQuote),
      showToggle: true,
      swapAmountInput: isFetchingExchangeRate ? /* @__PURE__ */ (0,jsx_runtime.jsx)(LoadingSpinner, { justifyContent: "flex-end", size: "sm" }) : /* @__PURE__ */ (0,jsx_runtime.jsx)(
        SwapAmountField,
        {
          amountAsFiat: amountAsFiat && (0,utils_dist/* isMoneyGreaterThanZero */.CD)(amountAsFiat) ? (0,utils_dist/* i18nFormatCurrency */.Lx)(amountAsFiat) : "",
          isDisabled: true,
          name: "swapAmountQuote"
        }
      ),
      symbol: assetField.value?.name ?? "Select asset",
      title: "You receive",
      value: assetField.value?.balance ? (0,utils_dist/* formatMoneyWithoutSymbol */.gu)(assetField.value?.balance) : "0"
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/swap/swap.tsx













function Swap() {
  const {
    isFetchingExchangeRate,
    isPreparingSwapReview,
    swappableAssetsBase,
    swappableAssetsQuote
  } = useSwapContext();
  const { dirty, isValid, setFieldValue, values, validateForm } = (0,formik_esm/* useFormikContext */.j7)();
  const { base, quote } = (0,react_router_dist/* useParams */.g)();
  (0,react.useEffect)(() => {
    if (base)
      void setFieldValue(
        "swapAssetBase",
        swappableAssetsBase.find((asset) => asset.name === base)
      );
    if (quote)
      void setFieldValue(
        "swapAssetQuote",
        swappableAssetsQuote.find((asset) => asset.name === quote)
      );
    void validateForm();
  }, [
    base,
    quote,
    setFieldValue,
    swappableAssetsBase,
    swappableAssetsQuote,
    validateForm,
    values.swapAssetBase
  ]);
  if ((0,utils_dist/* isUndefined */.b0)(values.swapAssetBase)) return /* @__PURE__ */ (0,jsx_runtime.jsx)(LoadingSpinner, { height: "300px" });
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    layout/* Card */.Zp,
    {
      dataTestId: SwapSelectors.SwapPageReady,
      footer: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* Button */.$n,
        {
          "data-testid": SwapSelectors.SwapReviewBtn,
          "aria-busy": isPreparingSwapReview,
          disabled: !(dirty && isValid) || isFetchingExchangeRate || isPreparingSwapReview,
          type: "submit",
          fullWidth: true,
          children: "Review and swap"
        }
      ),
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(SwapAssetSelectBase, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(SwapAssetSelectQuote, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/swap/generate-swap-routes.tsx











function generateSwapRoutes(container) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(react_router_dist/* Route */.qh, { element: /* @__PURE__ */ (0,jsx_runtime.jsx)(account_gate/* AccountGate */.z0, { children: container }), children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.Swap, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(Swap, {}), children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.SwapAssetSelectBase, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(SwapAssetSheetBase, {}) }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.SwapAssetSelectQuote, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(SwapAssetSheetQuote, {}) })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.SwapError, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(SwapError, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.SwapReview, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(SwapReview, {}), children: ledgerStacksTxSigningRoutes })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/swap/hooks/use-bitflow-swap.tsx






function useBitflowSwap() {
  const [swapSubmissionData, setSwapSubmissionData] = (0,react.useState)();
  const [slippage, _setSlippage] = (0,react.useState)(0.04);
  const [isFetchingExchangeRate, setIsFetchingExchangeRate] = (0,react.useState)(false);
  const address = (0,stacks_account_hooks/* useCurrentStacksAccountAddress */.$3)();
  const { data: swapAssets = [] } = useBitflowSwappableAssets(address);
  async function fetchRouteQuote(base, quote, baseAmount) {
    if (!baseAmount || !base || !quote) return;
    try {
      const result = await bitflow.getQuoteForRoute(
        base.currency,
        quote.currency,
        Number(baseAmount)
      );
      if (!result.bestRoute) {
        logger/* logger */.v.error("No swap route found");
        return;
      }
      return result.bestRoute;
    } catch (e) {
      logger/* logger */.v.error("Error fetching exchange rate from Bitflow", e);
      return;
    }
  }
  async function fetchQuoteAmount(base, quote, baseAmount) {
    setIsFetchingExchangeRate(true);
    const routeQuote = await fetchRouteQuote(base, quote, baseAmount);
    setIsFetchingExchangeRate(false);
    if (!routeQuote) return;
    return String(routeQuote.quote);
  }
  return {
    fetchRouteQuote,
    fetchQuoteAmount,
    isFetchingExchangeRate,
    onSetIsFetchingExchangeRate: (value) => setIsFetchingExchangeRate(value),
    onSetSwapSubmissionData: (value) => setSwapSubmissionData(value),
    slippage,
    swapAssets,
    swapSubmissionData
  };
}

;// CONCATENATED MODULE: ./src/app/pages/swap/hooks/use-stacks-broadcast-swap.tsx









function useStacksBroadcastSwap() {
  const { setIsIdle } = useLoading(LoadingKeys.SUBMIT_SWAP_TRANSACTION);
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const toast = (0,use_toast/* useToast */.d)();
  const broadcastTransactionFn = useSubmitTransactionCallback({
    loadingKey: LoadingKeys.SUBMIT_SWAP_TRANSACTION
  });
  return (0,react.useCallback)(
    async (signedTx) => {
      if (!signedTx) {
        logger/* logger */.v.error("Cannot broadcast transaction, no tx in state");
        toast.error("Unable to broadcast transaction");
        return;
      }
      try {
        await broadcastTransactionFn({
          onError(e) {
            setIsIdle();
            const message = (0,utils_dist/* isString */.Kg)(e) ? e : e.message;
            navigate(route_urls/* RouteUrls */.W.TransactionBroadcastError, { state: { message } });
          },
          onSuccess() {
            toast.success("Transaction submitted!");
            setIsIdle();
            navigate(route_urls/* RouteUrls */.W.Activity);
          },
          replaceByFee: false
        })(signedTx);
      } catch (e) {
        setIsIdle();
        navigate(route_urls/* RouteUrls */.W.TransactionBroadcastError, {
          state: { message: (0,utils_dist/* isError */.bJ)(e) ? e.message : "Unknown error" }
        });
      } finally {
        setIsIdle();
      }
    },
    [toast, broadcastTransactionFn, setIsIdle, navigate]
  );
}

;// CONCATENATED MODULE: ./src/app/pages/swap/bitflow-swap-container.tsx


























const bitflowSwapRoutes = generateSwapRoutes(/* @__PURE__ */ (0,jsx_runtime.jsx)(BitflowSwapContainer, {}));
function BitflowSwapContainer() {
  const [isSendingMax, setIsSendingMax] = (0,react.useState)(false);
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const swapNavigate = useSwapNavigate();
  const { setIsLoading, setIsIdle, isLoading } = useLoading(LoadingKeys.SUBMIT_SWAP_TRANSACTION);
  const currentAccount = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const generateUnsignedTx = useGenerateStacksContractCallUnsignedTx();
  const signTx = useSignStacksTransaction();
  const broadcastStacksSwap = useStacksBroadcastSwap();
  const [isPreparingSwapReview, setIsPreparingSwapReview] = (0,react.useState)(false);
  const {
    fetchRouteQuote,
    fetchQuoteAmount,
    isFetchingExchangeRate,
    onSetIsFetchingExchangeRate,
    onSetSwapSubmissionData,
    slippage,
    swapAssets,
    swapSubmissionData
  } = useBitflowSwap();
  async function onSubmitSwapForReview(values) {
    try {
      setIsPreparingSwapReview(true);
      if ((0,utils_dist/* isUndefined */.b0)(values.swapAssetBase) || (0,utils_dist/* isUndefined */.b0)(values.swapAssetQuote)) {
        logger/* logger */.v.error("Error submitting swap for review");
        return;
      }
      const routeQuote = await fetchRouteQuote(
        values.swapAssetBase,
        values.swapAssetQuote,
        values.swapAmountBase
      );
      if (!routeQuote) return;
      onSetSwapSubmissionData({
        fee: query_dist/* defaultSwapFee */.RVZ.amount.toString(),
        feeCurrency: values.feeCurrency,
        feeType: values.feeType,
        liquidityFee: estimateLiquidityFee(routeQuote.route.dex_path),
        nonce: values.nonce,
        protocol: "Bitflow",
        dexPath: routeQuote.route.dex_path.map(formatDexPathItem),
        router: routeQuote.route.token_path.map((x) => swapAssets.find((asset) => asset.currency === x)).filter(utils_dist/* isDefined */.O9),
        slippage,
        sponsored: false,
        swapAmountBase: values.swapAmountBase,
        swapAmountQuote: values.swapAmountQuote,
        swapAssetBase: values.swapAssetBase,
        swapAssetQuote: values.swapAssetQuote,
        timestamp: (/* @__PURE__ */ new Date()).toISOString()
      });
      swapNavigate(route_urls/* RouteUrls */.W.SwapReview);
    } finally {
      setIsPreparingSwapReview(false);
    }
  }
  async function onSubmitSwap() {
    if (isLoading) return;
    if ((0,utils_dist/* isUndefined */.b0)(currentAccount) || (0,utils_dist/* isUndefined */.b0)(swapSubmissionData)) {
      logger/* logger */.v.error("Error submitting swap data to sign");
      return;
    }
    if ((0,utils_dist/* isUndefined */.b0)(swapSubmissionData.swapAssetBase) || (0,utils_dist/* isUndefined */.b0)(swapSubmissionData.swapAssetQuote)) {
      logger/* logger */.v.error("No assets selected to perform swap");
      return;
    }
    setIsLoading();
    try {
      const routeQuote = await fetchRouteQuote(
        swapSubmissionData.swapAssetBase,
        swapSubmissionData.swapAssetQuote,
        swapSubmissionData.swapAmountBase
      );
      if (!routeQuote) return;
      const swapExecutionData = {
        route: routeQuote.route,
        amount: Number(swapSubmissionData.swapAmountBase),
        tokenXDecimals: routeQuote.tokenXDecimals,
        tokenYDecimals: routeQuote.tokenYDecimals
      };
      const swapParams = await bitflow.getSwapParams(
        swapExecutionData,
        currentAccount.address,
        swapSubmissionData.slippage
      );
      const tempFormValues = {
        fee: swapSubmissionData.fee,
        feeCurrency: swapSubmissionData.feeCurrency,
        feeType: swapSubmissionData.feeType,
        nonce: swapSubmissionData.nonce
      };
      const payload = {
        anchorMode: esm_constants/* AnchorMode */.Fj.Any,
        contractAddress: swapParams.contractAddress,
        contractName: swapParams.contractName,
        functionName: swapParams.functionName,
        functionArgs: swapParams.functionArgs.map((x) => (0,esm_utils/* bytesToHex */.My)((0,serialize/* serializeCV */.G)(x))),
        postConditionMode: esm_constants/* PostConditionMode */.FN.Deny,
        postConditions: swapParams.postConditions.map((pc) => (0,esm_utils/* bytesToHex */.My)((0,types/* serializePostCondition */.g5)(pc))),
        publicKey: currentAccount?.stxPublicKey,
        sponsored: swapSubmissionData.sponsored,
        txType: connect_dist.TransactionTypes.ContractCall
      };
      const unsignedTx = await generateUnsignedTx(payload, tempFormValues);
      if (!unsignedTx)
        return logger/* logger */.v.error("Attempted to generate unsigned tx, but tx is undefined");
      const signedTx = await signTx(unsignedTx);
      if (!signedTx)
        return logger/* logger */.v.error("Attempted to generate raw tx, but signed tx is undefined");
      return await broadcastStacksSwap(signedTx);
    } catch (e) {
      navigate(route_urls/* RouteUrls */.W.SwapError, {
        state: {
          message: (0,utils_dist/* isError */.bJ)(e) ? e.message : "",
          title: "Swap Error"
        }
      });
    } finally {
      setIsIdle();
    }
  }
  const swapContextValue = {
    fetchQuoteAmount,
    isFetchingExchangeRate,
    isSendingMax,
    isPreparingSwapReview,
    onSetIsFetchingExchangeRate,
    onSetIsSendingMax: (value) => setIsSendingMax(value),
    onSubmitSwapForReview,
    onSubmitSwap,
    swappableAssetsBase: migratePositiveAssetBalancesToTop(swapAssets),
    swappableAssetsQuote: swapAssets,
    swapSubmissionData
  };
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(SwapProvider, { value: swapContextValue, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(PageHeader, { title: "Swap", onBackLocation: route_urls/* RouteUrls */.W.Home }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Content */.UC, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Page */.YW, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(SwapForm, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {}) }) }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/unauthorized-request/unauthorized-request.tsx



const unauthorized_request_body = `The transaction request was not properly authorized by any of your Leather accounts. This typically happens if you've logged into this app before using another account.`;
const unauthorized_request_helpTextList = [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    GenericErrorListItem,
    {
      text: " Sign out of the app and sign back in to re-authenticate into the application. This should help\n    you successfully sign your transaction with Leather."
    },
    1
  )
];
const unauthorized_request_title = "Unauthorized request";
function UnauthorizedRequest() {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(GenericError, { body: unauthorized_request_body, helpTextList: unauthorized_request_helpTextList, title: unauthorized_request_title });
}

// EXTERNAL MODULE: ./src/app/common/hooks/use-modifier-key.ts
var use_modifier_key = __webpack_require__(15739);
;// CONCATENATED MODULE: ./src/app/common/hooks/use-interval.ts



function useInterval(callback, delay) {
  const savedCallback = (0,react.useRef)(utils_dist/* noop */.lQ);
  (0,react.useEffect)(() => {
    if (savedCallback) {
      savedCallback.current = callback;
    }
  }, [callback]);
  (0,react.useEffect)(() => {
    function tick() {
      savedCallback.current();
    }
    if (delay !== null) {
      const id = setInterval(tick, delay);
      return () => clearInterval(id);
    }
    return;
  }, [delay]);
}

;// CONCATENATED MODULE: ./src/app/common/hooks/use-waiting-message.ts



function messageForSecondsPassed(waitingMessages, seconds) {
  return waitingMessages[seconds];
}
const useWaitingMessage = (waitingMessages, { waitingMessageInterval } = {
  waitingMessageInterval: 1e3
}) => {
  const [isRunning, setIsRunning] = (0,react.useState)(false);
  const [waitingMessage, setWaitingMessage] = (0,react.useState)(messageForSecondsPassed(waitingMessages, 0));
  const handlers = (0,react.useMemo)(
    () => ({
      startWaitingMessage: () => setIsRunning(true),
      stopWaitingMessage: () => setIsRunning(false)
    }),
    []
  );
  const secondsPassed = (0,react.useRef)(0);
  useInterval(
    () => {
      secondsPassed.current += waitingMessageInterval / 1e3;
      const newMessage = messageForSecondsPassed(waitingMessages, secondsPassed.current);
      if (newMessage) setWaitingMessage(newMessage);
    },
    isRunning ? waitingMessageInterval : null
  );
  return [isRunning, waitingMessage, handlers.startWaitingMessage, handlers.stopWaitingMessage];
};

;// CONCATENATED MODULE: ./src/app/components/request-password.tsx












const waitingMessages = {
  "2": "Verifying password\u2026",
  "10": "Still working\u2026",
  "20": "Almost there"
};
const caption = "Your password is used to secure your Secret Key and is only used locally on your device.";
function RequestPassword({ onSuccess }) {
  const [password, setPassword] = (0,react.useState)("");
  const [error, setError] = (0,react.useState)("");
  const { unlockWallet } = (0,use_key_actions/* useKeyActions */.M)();
  const [isRunning, waitingMessage, startWaitingMessage, stopWaitingMessage] = useWaitingMessage(waitingMessages);
  const submit = (0,react.useCallback)(async () => {
    const startUnlockTimeMs = performance.now();
    void analytics/* analytics */.zS.track("start_unlock");
    startWaitingMessage();
    setError("");
    try {
      await unlockWallet(password);
      onSuccess?.();
    } catch (error2) {
      setError("The password you entered is invalid");
    }
    stopWaitingMessage();
    const unlockSuccessTimeMs = performance.now();
    void analytics/* analytics */.zS.track("complete_unlock", {
      durationMs: unlockSuccessTimeMs - startUnlockTimeMs
    });
  }, [startWaitingMessage, stopWaitingMessage, unlockWallet, password, onSuccess]);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Page */.YW, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    layout/* Card */.Zp,
    {
      contentStyle: {
        p: "space.00"
      },
      header: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.h1, { p: "space.04", hideBelow: "sm", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { px: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Logo */.gu, {}) }) }),
      footer: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* Button */.$n,
        {
          "data-testid": settings_selectors/* SettingsSelectors */.i.UnlockWalletBtn,
          disabled: isRunning || !!error,
          "aria-busy": isRunning,
          onClick: submit,
          variant: "solid",
          fullWidth: true,
          children: "Continue"
        }
      ),
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.05", px: "space.05", minHeight: "330px", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.h3, { textStyle: "heading.03", children: "Enter your password" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.p, { textStyle: "label.02", children: isRunning && waitingMessage || caption }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          jsx/* styled */.I4.input,
          {
            _focus: { border: "focus" },
            autoCapitalize: "off",
            autoComplete: "off",
            autoFocus: true,
            border: "active",
            borderRadius: "sm",
            "data-testid": settings_selectors/* SettingsSelectors */.i.EnterPasswordInput,
            height: "inputHeight",
            onChange: (e) => {
              setError("");
              setPassword(e.currentTarget.value);
            },
            onKeyUp: (0,use_modifier_key/* buildEnterKeyEvent */.m)(submit),
            p: "space.04",
            placeholder: "Enter your password",
            ring: "none",
            type: "password",
            textStyle: "body.02",
            value: password,
            width: "100%"
          }
        ),
        error && /* @__PURE__ */ (0,jsx_runtime.jsx)(ErrorLabel, { width: "100%", children: error })
      ] })
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/features/container/headers/unlock.header.tsx










function UnlockHeader() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(header/* Header */.Y, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    header_grid/* HeaderGrid */.O,
    {
      leftCol: /* @__PURE__ */ (0,jsx_runtime.jsx)(logo_box/* LogoBox */.L, { onClick: () => navigate(route_urls/* RouteUrls */.W.Home), hideBelow: void 0, hideFrom: "sm" }),
      rightCol: /* @__PURE__ */ (0,jsx_runtime.jsx)(header_grid/* HeaderGridRightCol */.g, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        settings/* Settings */.w,
        {
          canLockWallet: false,
          triggerButton: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* BarsTwoIcon */.MW, { "data-testid": settings_selectors/* SettingsSelectors */.i.SettingsMenuBtn })
        }
      ) })
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/pages/unlock.tsx






function Unlock() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const returnToPreviousRoute = () => navigate(-1);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(UnlockHeader, {}),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(layout/* Content */.UC, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(RequestPassword, { onSuccess: returnToPreviousRoute }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
    ] })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/view-secret-key/view-secret-key.tsx










function ViewSecretKey() {
  const defaultWalletSecretKey = (0,in_memory_key_selectors/* useDefaultWalletSecretKey */.DA)();
  const [showSecretKey, setShowSecretKey] = (0,react.useState)(false);
  (0,react.useEffect)(() => {
    void analytics/* analytics */.zS.page("view", "/save-secret-key");
  }, []);
  if (showSecretKey) {
    return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(onboarding_header/* OnboardingHeader */.r, {}),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(layout/* Content */.UC, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        layout/* TwoColumnLayout */.Jm,
        {
          title: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
            "Your ",
            /* @__PURE__ */ (0,jsx_runtime.jsx)("br", {}),
            " Secret Key"
          ] }),
          content: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
            "These 24 words are your Secret Key. They create your account, and you sign in on different devices with them. Make sure to save these somewhere safe.",
            /* @__PURE__ */ (0,jsx_runtime.jsx)("br", {}),
            "If you lose these words, you lose your account."
          ] }),
          children: /* @__PURE__ */ (0,jsx_runtime.jsx)(SecretKey, { secretKey: defaultWalletSecretKey ?? "" })
        }
      ) })
    ] });
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(onboarding_header/* OnboardingHeader */.r, { hideLogo: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(layout/* Content */.UC, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(RequestPassword, { onSuccess: () => setShowSecretKey(true) }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
    ] })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/receive/components/receive-item.tsx




function ReceiveItem({
  address,
  dataTestId,
  icon,
  onCopyAddress,
  onClickQrCode,
  title
}) {
  if (!address) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Pressable */.oz, { my: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* ItemLayoutWithButtons */.Fm,
    {
      img: icon,
      title,
      caption: (0,utils_dist/* truncateMiddle */.kU)(address, 6),
      buttons: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* IconButton */.K0, { icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CopyIcon */.Td, {}), onClick: onCopyAddress }),
        onClickQrCode && /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* IconButton */.K0,
          {
            "data-testid": dataTestId,
            icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* QrCodeIcon */.yV, {}),
            ml: "space.02",
            onClick: onClickQrCode
          }
        )
      ] })
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/pages/receive/components/receive-collectibles.tsx











function ReceiveCollectibles({
  btcAddressNativeSegwit,
  btcAddressTaproot,
  stxAddress,
  onClickQrOrdinal,
  onClickQrStacksNft,
  onClickQrStamp
}) {
  const toast = (0,use_toast/* useToast */.d)();
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { className: (0,css/* css */.AH)(receiveTabStyle), children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      ReceiveItem,
      {
        address: btcAddressTaproot,
        icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* OrdinalAvatarIcon */.ul, {}),
        dataTestId: HomePageSelectors.ReceiveBtcTaprootQrCodeBtn,
        onCopyAddress: async () => {
          await copy_to_clipboard_copyToClipboard(btcAddressTaproot);
          toast.success("Copied to clipboard!");
        },
        onClickQrCode: onClickQrOrdinal,
        title: "Ordinal inscription"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      ReceiveItem,
      {
        address: btcAddressNativeSegwit,
        icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(StampsAvatarIcon, {}),
        onClickQrCode: onClickQrStamp,
        onCopyAddress: async () => {
          await copy_to_clipboard_copyToClipboard(btcAddressNativeSegwit);
          toast.success("Copied to clipboard!");
        },
        title: "Bitcoin Stamp"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      ReceiveItem,
      {
        address: stxAddress,
        icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* StxAvatarIcon */.sC, {}),
        onCopyAddress: async () => {
          await copy_to_clipboard_copyToClipboard(stxAddress);
          toast.success("Copied to clipboard!");
        },
        onClickQrCode: onClickQrStacksNft,
        title: "Stacks NFT"
      }
    )
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/receive/components/receive-tokens.tsx














function ReceiveTokens({
  btcAddressNativeSegwit,
  btcAddressTaproot,
  stxAddress,
  onClickQrBtc,
  onClickQrStx
}) {
  const toast = (0,use_toast/* useToast */.d)();
  const network = (0,networks_selectors/* useCurrentNetwork */.Rm)();
  const runesEnabled = (0,remote_config_query/* useConfigRunesEnabled */.OO)();
  const { data: swapAssets = [] } = (0,query_dist/* useAlexSwappableAssets */.u6q)(stxAddress);
  const receivableAssets = (0,react.useMemo)(
    () => swapAssets.filter((asset) => asset.name !== "STX").map((asset) => ({
      ...asset,
      address: stxAddress
    })),
    [stxAddress, swapAssets]
  );
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { className: (0,css/* css */.AH)(receiveTabStyle), children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      ReceiveItem,
      {
        address: btcAddressNativeSegwit,
        icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* BtcAvatarIcon */.Ev, {}),
        dataTestId: HomePageSelectors.ReceiveBtcNativeSegwitQrCodeBtn,
        onCopyAddress: async () => {
          await copy_to_clipboard_copyToClipboard(btcAddressNativeSegwit);
          toast.success("Copied to clipboard!");
        },
        onClickQrCode: onClickQrBtc,
        title: "Bitcoin (BTC)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      ReceiveItem,
      {
        address: stxAddress,
        icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* StxAvatarIcon */.sC, {}),
        dataTestId: HomePageSelectors.ReceiveStxQrCodeBtn,
        onCopyAddress: async () => {
          await copy_to_clipboard_copyToClipboard(stxAddress);
          toast.success("Copied to clipboard!");
        },
        onClickQrCode: onClickQrStx,
        title: "Stacks (STX)"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      ReceiveItem,
      {
        address: btcAddressTaproot,
        icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Brc20AvatarIcon */.Un, {}),
        dataTestId: HomePageSelectors.ReceiveBtcTaprootQrCodeBtn,
        onCopyAddress: async () => {
          await copy_to_clipboard_copyToClipboard(btcAddressTaproot);
          toast.success("Copied to clipboard!");
        },
        title: "BRC-20"
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      ReceiveItem,
      {
        address: btcAddressNativeSegwit,
        icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Src20AvatarIcon */.HU, {}),
        onCopyAddress: async () => {
          await copy_to_clipboard_copyToClipboard(btcAddressNativeSegwit);
          toast.success("Copied to clipboard!");
        },
        title: "SRC-20"
      }
    ),
    (network.chain.bitcoin.mode === "testnet" || runesEnabled) && /* @__PURE__ */ (0,jsx_runtime.jsx)(
      ReceiveItem,
      {
        address: btcAddressTaproot,
        icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* RunesAvatarIcon */.e$, {}),
        onCopyAddress: async () => {
          await copy_to_clipboard_copyToClipboard(btcAddressTaproot);
          toast.success("Copied to clipboard!");
        },
        title: "Runes"
      }
    ),
    receivableAssets.map((asset) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      ReceiveItem,
      {
        address: asset.address,
        icon: /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Avatar */.eu.Root, { children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Avatar */.eu.Image, { alt: asset.fallback, src: asset.icon }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Avatar */.eu.Fallback, { delayMs: exports_web/* defaultFallbackDelay */.vg, children: asset.fallback })
        ] }),
        onCopyAddress: async () => {
          await copy_to_clipboard_copyToClipboard(asset.address);
          toast.success("Copied to clipboard!");
        },
        title: asset.name
      },
      asset.name
    ))
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/receive/receive-dialog.tsx
















const receiveTabStyle = {
  mt: "space.03",
  paddingX: "space.05",
  pb: "space.05",
  minHeight: "260px"
};
function ReceiveSheet({ type = "full" }) {
  useBackgroundLocationRedirect();
  const backgroundLocation = useLocationState("backgroundLocation");
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const location = (0,react_router_dist/* useLocation */.zy)();
  const btcAddressNativeSegwit = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitAddressIndexZero */.s8)();
  const stxAddress = (0,stacks_account_hooks/* useCurrentStacksAccountAddress */.$3)();
  const accountIndex = lodash_get_default()(location.state, "accountIndex", void 0);
  const btcAddressTaproot = (0,bitcoin_hooks/* useZeroIndexTaprootAddress */.vl)(accountIndex);
  const title = type === "full" ? /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    "Choose asset ",
    /* @__PURE__ */ (0,jsx_runtime.jsx)("br", {}),
    " to receive"
  ] }) : /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    "Receive ",
    /* @__PURE__ */ (0,jsx_runtime.jsx)("br", {}),
    " collectible"
  ] });
  function Collectibles() {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      ReceiveCollectibles,
      {
        btcAddressTaproot,
        btcAddressNativeSegwit,
        stxAddress,
        onClickQrOrdinal: () => {
          void analytics/* analytics */.zS.track("select_inscription_to_add_new_collectible");
          navigate(`${route_urls/* RouteUrls */.W.Home}${route_urls/* RouteUrls */.W.ReceiveCollectibleOrdinal}`, {
            state: {
              btcAddressTaproot,
              backgroundLocation
            }
          });
        },
        onClickQrStamp: () => navigate(`${route_urls/* RouteUrls */.W.Home}${route_urls/* RouteUrls */.W.ReceiveBtcStamp}`, {
          state: { backgroundLocation }
        }),
        onClickQrStacksNft: () => navigate(`${route_urls/* RouteUrls */.W.Home}${route_urls/* RouteUrls */.W.ReceiveStx}`, {
          state: { backgroundLocation }
        })
      }
    );
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    exports_web/* Sheet */.cj,
    {
      header: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        exports_web/* SheetHeader */.YJ,
        {
          variant: "large",
          title,
          onClose: () => navigate(backgroundLocation ?? "..")
        }
      ),
      onClose: () => navigate(backgroundLocation ?? ".."),
      isShowing: true,
      children: [
        type === "collectible" && /* @__PURE__ */ (0,jsx_runtime.jsx)(Collectibles, {}),
        type === "full" && /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Tabs */.tU.Root, { defaultValue: "tokens", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Tabs */.tU.List, { children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Tabs */.tU.Trigger, { value: "tokens", "data-testid": HomePageSelectors.ReceiveAssetsTab, children: "Tokens" }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(
              exports_web/* Tabs */.tU.Trigger,
              {
                value: "collectibles",
                "data-testid": HomePageSelectors.ReceiveCollectiblesTab,
                children: "Collectibles"
              }
            )
          ] }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Tabs */.tU.Content, { value: "tokens", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mb: { base: "96px", md: "unset" }, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
            ReceiveTokens,
            {
              btcAddressNativeSegwit,
              stxAddress,
              btcAddressTaproot,
              onClickQrBtc: () => navigate(`${route_urls/* RouteUrls */.W.Home}${route_urls/* RouteUrls */.W.ReceiveBtc}`, {
                state: { backgroundLocation }
              }),
              onClickQrStx: () => navigate(`${route_urls/* RouteUrls */.W.Home}${route_urls/* RouteUrls */.W.ReceiveStx}`, {
                state: { backgroundLocation, btcAddressTaproot }
              })
            }
          ) }) }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Tabs */.tU.Content, { value: "collectibles", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(Collectibles, {}) })
        ] })
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/receive/components/receive-btc-warning.tsx



function ReceiveBtcModalWarning({ message }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* Flex */.so,
    {
      justifyContent: "center",
      bg: "blue.background-secondary",
      minHeight: "48px",
      p: "space.05",
      width: "100%",
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.02", children: message })
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/receive/receive-ordinal.tsx









function ReceiveOrdinalModal() {
  useBackgroundLocationRedirect();
  const toast = (0,use_toast/* useToast */.d)();
  const { state } = (0,react_router_dist/* useLocation */.zy)();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    ReceiveTokensLayout,
    {
      address: state.btcAddressTaproot,
      onCopyAddressToClipboard: async () => {
        void analytics/* analytics */.zS.track("copy_address_to_add_new_inscription");
        await copy_to_clipboard_copyToClipboard(state.btcAddressTaproot);
        toast.success("Copied to clipboard!");
      },
      title: "ORD. INSCRIPTION",
      warning: /* @__PURE__ */ (0,jsx_runtime.jsx)(ReceiveBtcModalWarning, { message: "Deposit only Ordinal inscriptions here" })
    }
  );
}

;// CONCATENATED MODULE: ./src/app/routes/receive-routes.tsx








const receiveRoutes = /* @__PURE__ */ (0,jsx_runtime.jsxs)(react_router_dist/* Route */.qh, { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.Receive, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(ReceiveSheet, {}) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.ReceiveStx, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(ReceiveStxModal, {}) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.ReceiveBtc, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(ReceiveBtcModal, {}) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.ReceiveBtcStamp, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(ReceiveBtcModal, { type: "btc-stamp" }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.ReceiveCollectible, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(ReceiveSheet, { type: "collectible" }) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.ReceiveCollectibleOrdinal, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(ReceiveOrdinalModal, {}) })
] });

// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+common@6.13.0/node_modules/@stacks/common/dist/esm/signatures.js
var signatures = __webpack_require__(44405);
// EXTERNAL MODULE: ./src/shared/signature/signature-types.ts
var signature_types = __webpack_require__(32680);
;// CONCATENATED MODULE: ./src/app/features/ledger/flows/stacks-message-signing/ledger-stacks-sign-msg.context.ts



const ledgerMsgSigningContext = (0,react.createContext)({
  message: void 0,
  latestDeviceResponse: null,
  awaitingDeviceConnection: false,
  signMessage: utils_dist/* noop */.lQ
});
const LedgerMsgSigningProvider = ledgerMsgSigningContext.Provider;

;// CONCATENATED MODULE: ./src/app/features/ledger/flows/stacks-message-signing/use-message-type.ts




function useUnsignedMessageType() {
  const messageType = useLocationStateWithCache("messageType");
  const message = useLocationStateWithCache("message");
  const domain = useLocationStateWithCache("domain");
  if (messageType === "utf8" && (0,utils_dist/* isString */.Kg)(message)) return { messageType, message };
  if (messageType === "structured" && message && !(0,utils_dist/* isString */.Kg)(message) && domain)
    return (0,signature_types/* deserializeUnsignedMessage */.Wp)({ messageType, message, domain });
  return null;
}

;// CONCATENATED MODULE: ./src/app/features/ledger/flows/stacks-message-signing/ledger-stacks-sign-msg-container.tsx





















function LedgerSignMsgData({ children }) {
  const account = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const unsignedMessage = useUnsignedMessageType();
  if (!unsignedMessage || !account) return null;
  return children({ account, unsignedMessage });
}
function LedgerSignStacksMsg({ account, unsignedMessage }) {
  useScrollLock(true);
  const ledgerNavigate = (0,use_ledger_navigate/* useLedgerNavigate */.W)();
  const ledgerAnalytics = useLedgerAnalytics();
  const verifyLedgerPublicKey = useVerifyMatchingLedgerStacksPublicKey();
  const [latestDeviceResponse, setLatestDeviceResponse] = (0,generic_ledger_utils/* useLedgerResponseState */.L6)();
  const [awaitingDeviceConnection, setAwaitingDeviceConnection] = (0,react.useState)(false);
  const chain = "stacks";
  async function signMessage() {
    const stacksApp = await prepareLedgerDeviceStacksAppConnection({
      setLoadingState: setAwaitingDeviceConnection,
      onError(e) {
        if ((0,utils_dist/* isError */.bJ)(e) && (0,generic_ledger_utils/* checkLockedDeviceError */.X6)(e)) {
          setLatestDeviceResponse({ deviceLocked: true });
          return;
        }
        ledgerNavigate.toErrorStep(chain);
      }
    });
    const versionInfo = await getStacksAppVersion(stacksApp);
    ledgerAnalytics.trackDeviceVersionInfo(versionInfo);
    setLatestDeviceResponse(versionInfo);
    if (versionInfo.deviceLocked) {
      setAwaitingDeviceConnection(false);
      return;
    }
    ledgerNavigate.toDeviceBusyStep(`Verifying public key on Ledger\u2026`);
    await verifyLedgerPublicKey(stacksApp);
    try {
      ledgerNavigate.toConnectionSuccessStep("stacks");
      await (0,utils_dist/* delay */.cb)(1e3);
      ledgerNavigate.toAwaitingDeviceOperation({ hasApprovedOperation: false });
      const resp = await (0,signature_types/* whenSignableMessageOfType */.ep)(unsignedMessage)({
        async utf8(msg) {
          return signLedgerStacksUtf8Message(stacksApp)(msg, account.index);
        },
        async structured(domain, msg) {
          return signLedgerStacksStructuredMessage(stacksApp)(
            (0,esm_utils/* bytesToHex */.My)((0,serialize/* serializeCV */.G)(domain)),
            (0,esm_utils/* bytesToHex */.My)((0,serialize/* serializeCV */.G)(msg)),
            account.index
          );
        }
      });
      if (resp.returnCode === ledger_stacks_dist.LedgerError.DataIsInvalid) {
        ledgerNavigate.toDevicePayloadInvalid();
        return;
      }
      if (resp.returnCode === ledger_stacks_dist.LedgerError.TransactionRejected) {
        ledgerNavigate.toOperationRejectedStep(`Message signing operation rejected`);
        ledgerAnalytics.messageSignedOnLedgerRejected();
        publish_subscribe/* appEvents */.l.publish("ledgerStacksMessageSigningCancelled", { unsignedMessage });
        return;
      }
      if (resp.returnCode !== ledger_stacks_dist.LedgerError.NoErrors) {
        throw new Error("Some other error");
      }
      ledgerNavigate.toAwaitingDeviceOperation({ hasApprovedOperation: true });
      await (0,utils_dist/* delay */.cb)(1e3);
      ledgerAnalytics.messageSignedOnLedgerSuccessfully();
      publish_subscribe/* appEvents */.l.publish("ledgerStacksMessageSigned", {
        messageSignatures: {
          signature: (0,signatures/* signatureVrsToRsv */.Wz)(resp.signatureVRS.toString("hex")),
          publicKey: account.stxPublicKey
        },
        unsignedMessage
      });
      await stacksApp.transport.close();
    } catch (e) {
      ledgerNavigate.toDeviceDisconnectStep();
    }
  }
  const ledgerContextValue = {
    message: unsignedMessage,
    signMessage,
    latestDeviceResponse,
    awaitingDeviceConnection
  };
  const canCancelLedgerAction = (0,generic_ledger_utils/* useCancelLedgerAction */.Zs)(awaitingDeviceConnection);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerMsgSigningProvider, { value: ledgerContextValue, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Sheet */.cj,
    {
      isShowing: true,
      header: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* SheetHeader */.YJ, {}),
      onClose: canCancelLedgerAction ? () => ledgerNavigate.cancelLedgerAction() : void 0,
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
    }
  ) });
}
function LedgerSignMsgContainer() {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerSignMsgData, { children: (props) => /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerSignStacksMsg, { ...props }) });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/flows/stacks-message-signing/steps/connect-ledger-sign-msg.tsx







function ConnectLedgerSignMsg() {
  const { signMessage, latestDeviceResponse, awaitingDeviceConnection } = (0,react.useContext)(ledgerMsgSigningContext);
  (0,use_when_reattempt_ledger_connection/* useWhenReattemptingLedgerConnection */.z)(() => signMessage());
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    ConnectLedger,
    {
      chain: "stacks",
      awaitingLedgerConnection: awaitingDeviceConnection,
      warning: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        CommonLedgerDeviceInlineWarnings,
        {
          chain: "stacks",
          latestDeviceResponse
        }
      ),
      onConnectLedger: signMessage,
      showInstructions: false
    }
  );
}

// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/structuredDataSignature.js
var structuredDataSignature = __webpack_require__(96370);
;// CONCATENATED MODULE: ./src/app/features/ledger/flows/stacks-message-signing/message-signing.utils.ts






function cvToDisplay(cv) {
  return (0,clarityValue/* cvToString */.Ss)(cv).replaceAll('"', "");
}
function chainIdToDisplay(chainIdCv) {
  if (chainIdCv.type !== clarity_constants/* ClarityType */.d.UInt) return "";
  const chainIdString = (0,clarityValue/* cvToString */.Ss)(chainIdCv);
  const chainId = parseInt(chainIdString.replace("u", ""));
  if (!Object.values(esm_constants/* ChainID */.n_).includes(chainId)) return "";
  return (0,common_utils/* capitalize */.ZH)((0,stacks_dist/* stacksChainIdToCoreNetworkMode */.pt)(chainId));
}
function deriveStructuredMessageHash({
  domain,
  message
}) {
  return (0,esm_utils/* bytesToHex */.My)((0,sha256/* sha256 */.sc)((0,structuredDataSignature/* encodeStructuredData */.AH)({ message, domain })));
}

;// CONCATENATED MODULE: ./src/app/features/ledger/flows/stacks-message-signing/steps/sign-stacks-ledger-message.tsx









function SignLedgerMessage() {
  const { message } = (0,react.useContext)(ledgerMsgSigningContext);
  const hasApprovedOperation = useHasApprovedOperation();
  if (!message) {
    logger/* logger */.v.error(`${SignLedgerMessage.name} must not render without a "message" defined`);
    return null;
  }
  return (0,signature_types/* whenSignableMessageOfType */.ep)(message)({
    utf8: (msg) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
      ApproveLedgerOperationLayout,
      {
        description: "Sign message on your Ledger",
        details: [["Message", msg]],
        status: hasApprovedOperation ? "approved" : "awaiting-approval"
      }
    ),
    structured: (domain, message2) => {
      const ledgerFirstHashPageInView = 34;
      const hash = deriveStructuredMessageHash({ domain, message: message2 });
      const [hashPart1, hashPart2] = [
        hash.slice(0, ledgerFirstHashPageInView),
        hash.slice(ledgerFirstHashPageInView)
      ];
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        ApproveLedgerOperationLayout,
        {
          description: "Sign structured data on your Ledger",
          details: [
            ["Chain ID", cvToDisplay(domain.data["chain-id"])],
            ["Name", cvToDisplay(domain.data.name)],
            ["Version", cvToDisplay(domain.data.version)],
            ["Message hash [1/2]", hashPart1],
            ["Message hash [2/2]", hashPart2]
          ],
          status: hasApprovedOperation ? "approved" : "awaiting-approval"
        }
      );
    }
  });
}

;// CONCATENATED MODULE: ./src/app/features/ledger/flows/stacks-message-signing/ledger-stacks-sign-msg.routes.tsx








const ledgerStacksMessageSigningRoutes = /* @__PURE__ */ (0,jsx_runtime.jsxs)(react_router_dist/* Route */.qh, { element: /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerSignMsgContainer, {}), children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.ConnectLedger, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(ConnectLedgerSignMsg, {}) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.DeviceBusy, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(DeviceBusy, {}) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.ConnectLedgerError, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(ConnectLedgerError, {}) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.ConnectLedgerSuccess, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(connect_ledger_success_ConnectLedgerSuccess, {}) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.AwaitingDeviceUserAction, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(SignLedgerMessage, {}) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.LedgerDisconnected, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerDisconnected, {}) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.LedgerOperationRejected, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(OperationRejected, {}) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.LedgerPublicKeyMismatch, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerPublicKeyMismatch, {}) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.LedgerUnsupportedBrowser, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(UnsupportedBrowserLayout, {}) }),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.LedgerDevicePayloadInvalid, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(LedgerDeviceInvalidPayload, {}) })
] });

;// CONCATENATED MODULE: ./tests/selectors/requests.selectors.ts

var TransactionRequestSelectors = /* @__PURE__ */ ((TransactionRequestSelectors2) => {
  TransactionRequestSelectors2["BtnConfirmTransaction"] = "btn-confirm-transaction";
  TransactionRequestSelectors2["ErrorMessage"] = "transaction-request-error-message";
  TransactionRequestSelectors2["TransactionRequestPage"] = "transaction-signing-page";
  return TransactionRequestSelectors2;
})(TransactionRequestSelectors || {});
var UpdateProfileRequestSelectors = /* @__PURE__ */ ((UpdateProfileRequestSelectors2) => {
  UpdateProfileRequestSelectors2["BtnUpdateProfile"] = "btn-update-profile";
  UpdateProfileRequestSelectors2["ErrorMessage"] = "update-profile-request-error-message";
  return UpdateProfileRequestSelectors2;
})(UpdateProfileRequestSelectors || {});
var PsbtSelectors = /* @__PURE__ */ ((PsbtSelectors2) => {
  PsbtSelectors2["PsbtSignerCard"] = "psbt-signer-card";
  return PsbtSelectors2;
})(PsbtSelectors || {});
var DlcSelectors = /* @__PURE__ */ ((DlcSelectors2) => {
  DlcSelectors2["DlcSelectorsCard"] = "dlc-signer-card";
  return DlcSelectors2;
})(DlcSelectors || {});

// EXTERNAL MODULE: ./src/app/features/container/headers/popup.header.tsx + 5 modules
var popup_header = __webpack_require__(50102);
;// CONCATENATED MODULE: ./src/app/features/psbt-signer/psbt-signer.context.ts


const psbtSignerContext = (0,react.createContext)(null);
function usePsbtSignerContext() {
  const context = (0,react.useContext)(psbtSignerContext);
  if (!context) throw new Error("No PsbtSignerContext found");
  return context;
}
const PsbtSignerProvider = psbtSignerContext.Provider;

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/components/psbt-request-details-section-header.tsx




function PsbtRequestDetailsSectionHeader({
  hasDetails,
  onSetShowDetails,
  showDetails,
  title
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", justifyContent: "space-between", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.01", children: title }),
    hasDetails && onSetShowDetails ? /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Link */.N_, { onClick: () => onSetShowDetails(!showDetails), variant: "text", children: showDetails ? /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { gap: "space.01", children: [
      "See less ",
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ArrowUpIcon */.Kp, {})
    ] }) : "See details" }) : null
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/components/psbt-request-details-section.layout.tsx



function PsbtRequestDetailsSectionLayout({ children, ...props }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* Stack */.BJ,
    {
      border: "default",
      borderRadius: "sm",
      gap: "space.01",
      p: "space.05",
      width: "100%",
      bg: "ink.background-primary",
      ...props,
      children
    }
  );
}

;// CONCATENATED MODULE: ./src/app/ui/components/tag/tag-with-tooltip.tsx




function TagWithTooltip({
  hoverLabel,
  side = "bottom",
  ...props
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(basic_tooltip/* BasicTooltip */.G, { label: hoverLabel, side, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Tag */.vw, { ...props }) });
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/components/psbt-inputs-and-outputs/components/psbt-input-output-item.layout.tsx







function PsbtInputOutputItemLayout({
  address,
  addressHoverLabel,
  amount,
  label,
  txId,
  txIdHoverLabel
}) {
  const { onCopy, hasCopied } = useClipboard(addressHoverLabel ?? "");
  const { handleOpenBitcoinTxLink: handleOpenTxLink } = useBitcoinExplorerLink();
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Flag */.lN, { img: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, {}), mt: "space.05", spacing: "space.04", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", justifyContent: "space-between", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { alignItems: "center", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { mr: "space.02", textStyle: "caption.01", children: address }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          basic_tooltip/* BasicTooltip */.G,
          {
            disabled: !addressHoverLabel,
            label: hasCopied ? "Copied!" : addressHoverLabel,
            side: "bottom",
            children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { display: "flex", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.button, { _hover: { bg: "ink.component-background-hover" }, onClick: onCopy, children: addressHoverLabel ? /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CopyIcon */.Td, { variant: "small" }) : null }) })
          }
        ),
        label
      ] }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "caption.01", children: amount })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mt: "space.01", children: txId && txIdHoverLabel ? /* @__PURE__ */ (0,jsx_runtime.jsx)(
      exports_web/* Link */.N_,
      {
        onClick: () => handleOpenTxLink({
          txid: txIdHoverLabel ?? ""
        }),
        variant: "text",
        children: /* @__PURE__ */ (0,jsx_runtime.jsx)(basic_tooltip/* BasicTooltip */.G, { disabled: !txIdHoverLabel, label: txIdHoverLabel, side: "bottom", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "caption.01", children: txId }) })
      }
    ) : null })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/components/psbt-inputs-and-outputs/components/psbt-input-list/components/psbt-input-item.tsx





const hoverLabel = `Value you're approving as contribution to transaction.`;
function PsbtInputItem({ utxo }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    PsbtInputOutputItemLayout,
    {
      address: (0,utils_dist/* truncateMiddle */.kU)(utxo.address),
      addressHoverLabel: utxo.address,
      amount: (0,utils_dist/* formatMoney */.up)((0,utils_dist/* createMoney */.j6)(utxo.value, "BTC")),
      label: utxo.toSign ? /* @__PURE__ */ (0,jsx_runtime.jsx)(TagWithTooltip, { hoverLabel, label: "Approve", transparent: true }) : void 0,
      txId: (0,utils_dist/* truncateMiddle */.kU)(utxo.txid),
      txIdHoverLabel: utxo.txid
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/components/psbt-inputs-and-outputs/components/psbt-input-list/components/psbt-input-list.layout.tsx



function PsbtInputListLayout({ children }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { pb: "space.06", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { borderLeft: "1px solid #DCDDE2", children }) });
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/components/psbt-inputs-and-outputs/components/psbt-input-list/psbt-input-list.tsx




function PsbtInputList({ inputs }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(PsbtInputListLayout, { children: inputs.map((input, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(PsbtInputItem, { utxo: input }, i)) });
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/components/psbt-inputs-and-outputs/components/psbt-output-list/components/psbt-output-item.tsx





const psbt_output_item_hoverLabel = "Value you\u2019ll receive after this transaction is complete.";
function PsbtOutputItem({ output }) {
  const isUnknownAddress = output.address === "unknown";
  if (isUnknownAddress) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    PsbtInputOutputItemLayout,
    {
      address: (0,utils_dist/* truncateMiddle */.kU)(output.address),
      addressHoverLabel: output.address,
      amount: (0,utils_dist/* formatMoney */.up)((0,utils_dist/* createMoney */.j6)(Number(output.value), "BTC")),
      label: output.toSign ? /* @__PURE__ */ (0,jsx_runtime.jsx)(TagWithTooltip, { transparent: true, hoverLabel: psbt_output_item_hoverLabel, label: "You" }) : void 0
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/components/psbt-inputs-and-outputs/components/psbt-output-list/components/psbt-output-list.layout.tsx



function PsbtOutputListLayout({ children }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { borderLeft: "1px solid #DCDDE2", children }) });
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/components/psbt-inputs-and-outputs/components/psbt-output-list/psbt-output-list.tsx




function PsbtOutputList({ outputs }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(PsbtOutputListLayout, { children: outputs.map((output, i) => /* @__PURE__ */ (0,jsx_runtime.jsx)(PsbtOutputItem, { output }, i)) });
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/components/psbt-inputs-and-outputs/psbt-inputs-and-outputs.tsx








function PsbtInputsAndOutputs() {
  const { psbtInputs, psbtOutputs } = usePsbtSignerContext();
  const [showDetails, setShowDetails] = (0,react.useState)(false);
  if (!psbtInputs.length || !psbtOutputs.length) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(PsbtRequestDetailsSectionLayout, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      PsbtRequestDetailsSectionHeader,
      {
        hasDetails: true,
        onSetShowDetails: (value) => setShowDetails(value),
        showDetails,
        title: showDetails ? "Inputs" : "Inputs and Outputs"
      }
    ),
    showDetails ? /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(PsbtInputList, { inputs: psbtInputs }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(PsbtRequestDetailsSectionHeader, { title: "Outputs" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(PsbtOutputList, { outputs: psbtOutputs })
    ] }) : null
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/components/psbt-inputs-outputs-totals/components/psbt-address-total-item.tsx






function PsbtAddressTotalItem({
  hoverLabel,
  image,
  subtitle,
  subValue,
  title,
  value,
  valueAction
}) {
  const { onCopy, hasCopied } = useClipboard(hoverLabel ?? "");
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Flag */.lN, { img: image ? image : /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* BtcAvatarIcon */.Ev, {}), mt: "space.05", spacing: "space.04", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", justifyContent: "space-between", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.01", children: title ? title : "Bitcoin" }),
      valueAction ? /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Link */.N_, { onClick: valueAction, children: value }) : /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.01", children: value })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", justifyContent: "space-between", children: [
      subtitle ? /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { gap: "space.01", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { mr: "space.01", textStyle: "caption.01", children: subtitle }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          basic_tooltip/* BasicTooltip */.G,
          {
            disabled: !hoverLabel,
            label: hasCopied ? "Copied!" : hoverLabel,
            side: "bottom",
            children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { display: "flex", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Link */.N_, { onClick: onCopy, variant: "text", children: hoverLabel ? /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CopyIcon */.Td, {}) : null }) })
          }
        )
      ] }) : null,
      subValue ? /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { mr: "space.01", textStyle: "caption.01", children: subValue }) : null
    ] })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/components/psbt-inputs-outputs-totals/components/psbt-inscription.tsx








function PsbtInscription({ inscription }) {
  const { isLoading, isError, data: supportedInscription } = (0,query_dist/* useInscription */.izU)(inscription?.id ?? "");
  if (isLoading) return null;
  if (isError || (0,utils_dist/* isUndefined */.b0)(supportedInscription))
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(
      PsbtAddressTotalItem,
      {
        image: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* OrdinalAvatarIcon */.ul, {}),
        title: "Inscription not found",
        value: "# Unknown"
      }
    );
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    PsbtAddressTotalItem,
    {
      image: /* @__PURE__ */ (0,jsx_runtime.jsx)(InscriptionPreview, { inscription: supportedInscription, height: "40px", width: "40px" }),
      title: "Inscription",
      value: `#${inscription?.number}`,
      valueAction: () => (0,open_in_new_tab/* openInNewTab */.V)(inscription.preview)
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/components/psbt-inputs-outputs-totals/components/psbt-address-receive-totals.tsx








function PsbtAddressReceiveTotals({
  showNativeSegwitTotal,
  showTaprootTotal
}) {
  const {
    accountInscriptionsBeingReceived,
    addressNativeSegwit,
    addressNativeSegwitTotal,
    addressTaproot,
    addressTaprootTotal
  } = usePsbtSignerContext();
  const calculateBitcoinFiatValue = (0,query_dist/* useCalculateBitcoinFiatValue */.$u_)();
  const isReceivingInscriptions = accountInscriptionsBeingReceived?.length > 0;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    !isReceivingInscriptions && showNativeSegwitTotal ? /* @__PURE__ */ (0,jsx_runtime.jsx)(
      PsbtAddressTotalItem,
      {
        hoverLabel: addressNativeSegwit,
        subtitle: (0,utils_dist/* truncateMiddle */.kU)(addressNativeSegwit),
        subValue: (0,common_utils/* removeMinusSign */.yT)(
          (0,utils_dist/* i18nFormatCurrency */.Lx)(calculateBitcoinFiatValue(addressNativeSegwitTotal))
        ),
        value: (0,common_utils/* removeMinusSign */.yT)((0,utils_dist/* formatMoney */.up)(addressNativeSegwitTotal))
      }
    ) : null,
    !isReceivingInscriptions && showTaprootTotal ? /* @__PURE__ */ (0,jsx_runtime.jsx)(
      PsbtAddressTotalItem,
      {
        hoverLabel: addressTaproot,
        subtitle: (0,utils_dist/* truncateMiddle */.kU)(addressTaproot),
        subValue: (0,common_utils/* removeMinusSign */.yT)(
          (0,utils_dist/* i18nFormatCurrency */.Lx)(calculateBitcoinFiatValue(addressTaprootTotal))
        ),
        value: (0,common_utils/* removeMinusSign */.yT)((0,utils_dist/* formatMoney */.up)(addressTaprootTotal))
      }
    ) : null,
    isReceivingInscriptions ? accountInscriptionsBeingReceived.map((inscription) => /* @__PURE__ */ (0,jsx_runtime.jsx)(PsbtInscription, { inscription }, inscription.id)) : null
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/components/psbt-inputs-outputs-totals/components/psbt-address-transfer-totals.tsx







function PsbtAddressTransferTotals({ showNativeSegwitTotal }) {
  const { accountInscriptionsBeingTransferred, addressNativeSegwit, addressNativeSegwitTotal } = usePsbtSignerContext();
  const calculateBitcoinFiatValue = (0,query_dist/* useCalculateBitcoinFiatValue */.$u_)();
  const isTransferringInscriptions = accountInscriptionsBeingTransferred?.length > 0;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    showNativeSegwitTotal ? /* @__PURE__ */ (0,jsx_runtime.jsx)(
      PsbtAddressTotalItem,
      {
        hoverLabel: addressNativeSegwit,
        subtitle: (0,utils_dist/* truncateMiddle */.kU)(addressNativeSegwit),
        subValue: (0,utils_dist/* i18nFormatCurrency */.Lx)(calculateBitcoinFiatValue(addressNativeSegwitTotal)),
        value: (0,utils_dist/* formatMoney */.up)(addressNativeSegwitTotal)
      }
    ) : null,
    isTransferringInscriptions ? accountInscriptionsBeingTransferred.map((inscription) => /* @__PURE__ */ (0,jsx_runtime.jsx)(PsbtInscription, { inscription }, inscription.id)) : null
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/components/psbt-inputs-outputs-totals/psbt-inputs-outputs-totals.tsx








function PsbtInputsOutputsTotals() {
  const { addressNativeSegwitTotal, addressTaprootTotal } = usePsbtSignerContext();
  const isNativeSegwitTotalGreaterThanZero = addressNativeSegwitTotal.amount.isGreaterThan(0);
  const isTaprootTotalGreaterThanZero = addressTaprootTotal.amount.isGreaterThan(0);
  const isNativeSegwitTotalLessThanZero = addressNativeSegwitTotal.amount.isLessThan(0);
  const isTaprootTotalLessThanZero = addressTaprootTotal.amount.isLessThan(0);
  const isTotalZero = addressNativeSegwitTotal.amount.isEqualTo(0) && addressTaprootTotal.amount.isEqualTo(0);
  const isTransferring = isNativeSegwitTotalGreaterThanZero || isTaprootTotalGreaterThanZero;
  const isReceiving = isNativeSegwitTotalLessThanZero || isTaprootTotalLessThanZero;
  const showDivider = isTransferring && isReceiving;
  if (isTotalZero) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(PsbtRequestDetailsSectionLayout, { p: "unset", children: [
    isTransferring ? /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Box */.az, { p: "space.05", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(PsbtRequestDetailsSectionHeader, { title: "You'll transfer" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(PsbtAddressTransferTotals, { showNativeSegwitTotal: isNativeSegwitTotalGreaterThanZero })
    ] }) : null,
    showDivider ? /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.hr, { border: "default" }) : null,
    isReceiving ? /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Box */.az, { p: "space.05", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(PsbtRequestDetailsSectionHeader, { title: "You'll receive" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        PsbtAddressReceiveTotals,
        {
          showNativeSegwitTotal: isNativeSegwitTotalLessThanZero,
          showTaprootTotal: isTaprootTotalLessThanZero
        }
      )
    ] }) : null
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/components/psbt-request-details-header.tsx






const immutableLabel = "Any modification to the transaction, including the fee amount or other inputs/outputs, will invalidate the signature.";
const uncertainLabel = "The transaction details can be altered by other participants. This means the final outcome of the transaction might be different than initially agreed upon.";
function PsbtRequestDetailsHeader() {
  const { isPsbtMutable } = usePsbtSignerContext();
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", gap: "space.02", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.h2, { textStyle: "heading.05", children: "Transaction" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      TagWithTooltip,
      {
        hoverLabel: isPsbtMutable ? uncertainLabel : immutableLabel,
        icon: isPsbtMutable ? /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* UnlockIcon */.Sw, { variant: "small" }) : /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* LockIcon */.XA, { variant: "small" }),
        label: isPsbtMutable ? "Uncertain" : "Certain",
        transparent: true,
        variant: isPsbtMutable ? "warning" : "default"
      }
    )
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/components/psbt-request-details.layout.tsx



function PsbtRequestDetailsLayout({ children }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { gap: "space.05", width: "100%", children });
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/components/psbt-request-fee.tsx






function PsbtRequestFee(props) {
  const { fee } = props;
  const calculateBitcoinFiatValue = (0,query_dist/* useCalculateBitcoinFiatValue */.$u_)();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(PsbtRequestDetailsSectionLayout, { children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", justifyContent: "space-between", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.01", children: "Transaction fee" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { alignItems: "flex-end", gap: "space.01", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.01", children: (0,utils_dist/* formatMoney */.up)(fee) }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "caption.01", children: (0,utils_dist/* i18nFormatCurrency */.Lx)(calculateBitcoinFiatValue(fee)) })
    ] })
  ] }) });
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/components/psbt-request-header.tsx





function PsbtRequestHeader({ name, origin }) {
  const displayName = name ?? origin;
  const caption = displayName ? `Requested by ${displayName}` : null;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { flexDirection: "column", mb: "space.05", width: "100%", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.h1, { mb: "space.04", textStyle: "heading.03", children: [
      "Approve",
      /* @__PURE__ */ (0,jsx_runtime.jsx)("br", {}),
      "transaction"
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.p, { mb: "space.04", textStyle: "label.01", children: "Please review the recipient address, amount, and associated fees. Authorize only transactions you fully understand." }),
    caption && /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Flag */.lN, { img: /* @__PURE__ */ (0,jsx_runtime.jsx)(favicon/* Favicon */.d, { origin }), pl: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.02", wordBreak: "break-word", children: caption }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/components/psbt-request-raw.tsx






function PsbtRequestRaw({ psbt }) {
  const [showDetails, setShowDetails] = (0,react.useState)(false);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(PsbtRequestDetailsSectionLayout, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      PsbtRequestDetailsSectionHeader,
      {
        hasDetails: true,
        onSetShowDetails: (value) => setShowDetails(value),
        showDetails,
        title: "Raw transaction"
      }
    ),
    showDetails ? /* @__PURE__ */ (0,jsx_runtime.jsx)(Json, { value: psbt }) : null
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/components/psbt-request-sighash-warning-label.tsx



function PsbtRequestSighashWarningLabel({ origin }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Callout */.Pq, { variant: "warning", title: "Be careful with this transaction", children: [
    "The details of this transaction are not guaranteed and could be modified later. Continue only if you trust ",
    origin
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/components/index.ts










;// CONCATENATED MODULE: ./src/app/features/psbt-signer/hooks/use-parsed-inputs.tsx










function useParsedInputs({ inputs, indexesToSign }) {
  const network = (0,networks_selectors/* useCurrentNetwork */.Rm)();
  const bitcoinNetwork = (0,bitcoin_dist/* getBtcSignerLibNetworkConfigByMode */.$)(network.chain.bitcoin.mode);
  const bitcoinAddressNativeSegwit = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSigner */.sz)().address;
  const { address: bitcoinAddressTaproot } = (0,taproot_account_hooks/* useCurrentAccountTaprootIndexZeroSigner */.FJ)();
  const inscriptions = (0,query_dist/* useInscriptionsByOutputs */.ue3)(inputs);
  const signAll = (0,utils_dist/* isUndefined */.b0)(indexesToSign);
  const psbtInputs = (0,react.useMemo)(
    () => inputs.map((input, i) => {
      const inputAddress = (0,utils_dist/* isDefined */.O9)(input.index) ? (0,bitcoin_dist/* getBitcoinInputAddress */.vO)(input, bitcoinNetwork) : "";
      const isCurrentAddress = inputAddress === bitcoinAddressNativeSegwit || inputAddress === bitcoinAddressTaproot;
      const canChange = isCurrentAddress && !(!input.sighashType || input.sighashType === 0 || input.sighashType === 1);
      const toSignAll = isCurrentAddress && signAll;
      const toSignIndex = isCurrentAddress && !signAll && indexesToSign.includes(i);
      return {
        address: inputAddress,
        index: input.index,
        inscription: inscriptions[i],
        isMutable: canChange,
        toSign: toSignAll || toSignIndex,
        txid: input.txid ? (0,esm_utils/* bytesToHex */.My)(input.txid) : "",
        value: (0,utils_dist/* isDefined */.O9)(input.index) ? getBitcoinInputValue(input) : 0
      };
    }),
    [
      bitcoinAddressNativeSegwit,
      bitcoinAddressTaproot,
      bitcoinNetwork,
      indexesToSign,
      inputs,
      inscriptions,
      signAll
    ]
  );
  const isPsbtMutable = (0,react.useMemo)(() => psbtInputs.some((input) => input.isMutable), [psbtInputs]);
  return { isPsbtMutable, parsedInputs: psbtInputs };
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/hooks/use-parsed-outputs.tsx







function useParsedOutputs({ isPsbtMutable, outputs, network }) {
  const bitcoinAddressNativeSegwit = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSigner */.sz)().address;
  const { address: bitcoinAddressTaproot } = (0,taproot_account_hooks/* useCurrentAccountTaprootIndexZeroSigner */.FJ)();
  const bitcoinNetwork = (0,bitcoin_dist/* getBtcSignerLibNetworkConfigByMode */.$)(network.chain.bitcoin.mode);
  return (0,react.useMemo)(
    () => outputs.map((output) => {
      if ((0,utils_dist/* isUndefined */.b0)(output.script)) {
        logger/* logger */.v.error("Output has no script");
        return;
      }
      const outputAddress = (0,bitcoin_dist/* getAddressFromOutScript */.Eh)(output.script, bitcoinNetwork);
      const isCurrentAddress = outputAddress === bitcoinAddressNativeSegwit || outputAddress === bitcoinAddressTaproot;
      return {
        address: outputAddress,
        isMutable: isPsbtMutable,
        toSign: isCurrentAddress,
        value: Number(output.amount)
      };
    }).filter(utils_dist/* isDefined */.O9),
    [bitcoinAddressNativeSegwit, bitcoinAddressTaproot, bitcoinNetwork, isPsbtMutable, outputs]
  );
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/hooks/find-outputs-receiving-inscriptions.ts



function findOutputsReceivingInscriptions({
  psbtInputs,
  psbtOutputs
}) {
  let inputsSatsTotal = new bignumber/* default */.A(0);
  return psbtInputs.flatMap((input) => {
    if ((0,utils_dist/* isDefined */.O9)(input.inscription)) {
      const inscriptionTotalOffset = inputsSatsTotal.plus(Number(input.inscription.offset) + 1);
      let outputsSatsTotal = new bignumber/* default */.A(0);
      for (let output = 0; output < psbtOutputs.length; output++) {
        outputsSatsTotal = outputsSatsTotal.plus(psbtOutputs[output].value);
        if (inscriptionTotalOffset.isLessThanOrEqualTo(outputsSatsTotal))
          return { address: psbtOutputs[output].address, inscription: input.inscription };
      }
    }
    inputsSatsTotal = inputsSatsTotal.plus(input.value);
    return;
  }).filter(utils_dist/* isDefined */.O9);
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/hooks/use-psbt-inscriptions.tsx






function usePsbtInscriptions(psbtInputs, psbtOutputs) {
  const bitcoinAddressNativeSegwit = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSigner */.sz)().address;
  const { address: bitcoinAddressTaproot } = (0,taproot_account_hooks/* useCurrentAccountTaprootIndexZeroSigner */.FJ)();
  const outputsReceivingInscriptions = (0,react.useMemo)(
    () => findOutputsReceivingInscriptions({
      psbtInputs,
      psbtOutputs
    }),
    [psbtInputs, psbtOutputs]
  );
  return (0,react.useMemo)(() => {
    const accountInscriptionsBeingTransferred = psbtInputs.filter(
      (input) => input.address === bitcoinAddressNativeSegwit || input.address === bitcoinAddressTaproot
    ).map((input) => input.inscription).filter(utils_dist/* isDefined */.O9);
    const accountInscriptionsBeingReceived = outputsReceivingInscriptions.filter(
      (outputWithInscription) => outputWithInscription.address === bitcoinAddressNativeSegwit || outputWithInscription.address === bitcoinAddressTaproot
    ).map((input) => input.inscription).filter(
      (inscription) => !accountInscriptionsBeingTransferred.find(
        (transferInscription) => inscription.id === transferInscription.id
      )
    ).filter(utils_dist/* isDefined */.O9);
    return {
      accountInscriptionsBeingTransferred,
      accountInscriptionsBeingReceived
    };
  }, [bitcoinAddressNativeSegwit, bitcoinAddressTaproot, outputsReceivingInscriptions, psbtInputs]);
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/hooks/use-psbt-totals.tsx



function calculateAddressInputsTotal(address, inputs) {
  return (0,utils_dist/* createMoney */.j6)(
    (0,utils_dist/* sumNumbers */.Ye)(inputs.filter((input) => input.address === address).map((input) => input.value)),
    "BTC"
  );
}
function calculateAddressOutputsTotal(address, outputs) {
  return (0,utils_dist/* createMoney */.j6)(
    (0,utils_dist/* sumNumbers */.Ye)(
      outputs.filter((output) => output.address === address).map((output) => Number(output.value))
    ),
    "BTC"
  );
}
function calculatePsbtInputsTotal(inputs) {
  return (0,utils_dist/* createMoney */.j6)((0,utils_dist/* sumNumbers */.Ye)(inputs.map((input) => input.value)), "BTC");
}
function calculatePsbtOutputsTotal(outputs) {
  return (0,utils_dist/* createMoney */.j6)((0,utils_dist/* sumNumbers */.Ye)(outputs.map((output) => output.value)), "BTC");
}
function usePsbtTotals({
  bitcoinAddressNativeSegwit,
  bitcoinAddressTaproot,
  parsedInputs,
  parsedOutputs
}) {
  return (0,react.useMemo)(
    () => ({
      inputsTotalNativeSegwit: calculateAddressInputsTotal(
        bitcoinAddressNativeSegwit,
        parsedInputs
      ),
      inputsTotalTaproot: calculateAddressInputsTotal(bitcoinAddressTaproot, parsedInputs),
      outputsTotalNativeSegwit: calculateAddressOutputsTotal(
        bitcoinAddressNativeSegwit,
        parsedOutputs
      ),
      outputsTotalTaproot: calculateAddressOutputsTotal(bitcoinAddressTaproot, parsedOutputs),
      psbtInputsTotal: calculatePsbtInputsTotal(parsedInputs),
      psbtOutputsTotal: calculatePsbtOutputsTotal(parsedOutputs)
    }),
    [bitcoinAddressNativeSegwit, bitcoinAddressTaproot, parsedInputs, parsedOutputs]
  );
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/hooks/use-psbt-details.tsx










function usePsbtDetails({ inputs, indexesToSign, outputs }) {
  const network = (0,networks_selectors/* useCurrentNetwork */.Rm)();
  const bitcoinAddressNativeSegwit = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSigner */.sz)().address;
  const { address: bitcoinAddressTaproot } = (0,taproot_account_hooks/* useCurrentAccountTaprootIndexZeroSigner */.FJ)();
  const { isPsbtMutable, parsedInputs } = useParsedInputs({
    inputs,
    indexesToSign
  });
  const parsedOutputs = useParsedOutputs({ isPsbtMutable, outputs, network });
  const {
    inputsTotalNativeSegwit,
    inputsTotalTaproot,
    outputsTotalNativeSegwit,
    outputsTotalTaproot,
    psbtInputsTotal,
    psbtOutputsTotal
  } = usePsbtTotals({
    bitcoinAddressNativeSegwit,
    bitcoinAddressTaproot,
    parsedInputs,
    parsedOutputs
  });
  const { accountInscriptionsBeingTransferred, accountInscriptionsBeingReceived } = usePsbtInscriptions(parsedInputs, parsedOutputs);
  const defaultToAdvancedView = (0,react.useCallback)(() => {
    const noInputs = !inputs.length;
    const noOutputs = !outputs.length;
    return noInputs || noOutputs;
  }, [inputs.length, outputs.length]);
  const fee = (0,react.useMemo)(() => {
    if (psbtInputsTotal.amount.isGreaterThan(psbtOutputsTotal.amount))
      return (0,utils_dist/* subtractMoney */.$w)(psbtInputsTotal, psbtOutputsTotal);
    return (0,utils_dist/* createMoney */.j6)(0, "BTC");
  }, [psbtInputsTotal, psbtOutputsTotal]);
  return {
    accountInscriptionsBeingTransferred,
    accountInscriptionsBeingReceived,
    addressNativeSegwitTotal: (0,utils_dist/* subtractMoney */.$w)(inputsTotalNativeSegwit, outputsTotalNativeSegwit),
    addressTaprootTotal: (0,utils_dist/* subtractMoney */.$w)(inputsTotalTaproot, outputsTotalTaproot),
    fee,
    isPsbtMutable,
    psbtInputs: parsedInputs,
    psbtOutputs: parsedOutputs,
    shouldDefaultToAdvancedView: defaultToAdvancedView()
  };
}

// EXTERNAL MODULE: ./node_modules/.pnpm/@scure+btc-signer@1.4.0/node_modules/@scure/btc-signer/esm/psbt.js
var esm_psbt = __webpack_require__(59532);
;// CONCATENATED MODULE: ./src/app/features/psbt-signer/hooks/use-psbt-signer.tsx








function usePsbtSigner() {
  const addMissingTapInteralKeys = (0,bitcoin_hooks/* useAddTapInternalKeysIfMissing */.go)();
  const signBitcoinTx = (0,bitcoin_hooks/* useSignBitcoinTx */.nn)();
  return (0,react.useMemo)(
    () => ({
      async signPsbt({ signingConfig, tx }) {
        addMissingTapInteralKeys(tx, signingConfig);
        return signBitcoinTx(tx.toPSBT(), signingConfig);
      },
      getPsbtAsTransaction(psbt) {
        const bytes = (0,utils_dist/* isString */.Kg)(psbt) ? (0,hashes_esm_utils/* hexToBytes */.aT)(psbt) : psbt;
        return esm_transaction/* Transaction */.ZX.fromPSBT(bytes);
      },
      getRawPsbt(psbt) {
        const bytes = (0,utils_dist/* isString */.Kg)(psbt) ? (0,hashes_esm_utils/* hexToBytes */.aT)(psbt) : psbt;
        try {
          return esm_psbt/* RawPSBTV0 */.QX.decode(bytes);
        } catch (e1) {
          logger/* logger */.v.error(`Unable to decode PSBT as v0, trying v2, ${e1}`);
          try {
            return esm_psbt/* RawPSBTV2 */.QC.decode(bytes);
          } catch (e2) {
            throw new Error(`Unable to decode PSBT, ${e1 ?? e2}`);
          }
        }
      }
    }),
    [addMissingTapInteralKeys, signBitcoinTx]
  );
}

;// CONCATENATED MODULE: ./src/app/features/psbt-signer/psbt-signer.tsx




















function PsbtSigner(props) {
  const { indexesToSign, isBroadcasting, name, origin, onCancel, onSignPsbt, psbtHex } = props;
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const { address: addressNativeSegwit } = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSigner */.sz)();
  const { address: addressTaproot } = (0,taproot_account_hooks/* useCurrentAccountTaprootIndexZeroSigner */.FJ)();
  const { getRawPsbt, getPsbtAsTransaction } = usePsbtSigner();
  useOnOriginTabClose(() => (0,utils/* closeWindow */.Do)());
  const psbtRaw = (0,react.useMemo)(() => {
    try {
      return getRawPsbt(psbtHex);
    } catch (e) {
      navigate(route_urls/* RouteUrls */.W.RequestError, {
        state: { message: (0,utils_dist/* isError */.bJ)(e) ? e.message : "", title: "Failed request" }
      });
      return;
    }
  }, [getRawPsbt, navigate, psbtHex]);
  const psbtTx = (0,react.useMemo)(() => getPsbtAsTransaction(psbtHex), [getPsbtAsTransaction, psbtHex]);
  const psbtTxInputs = (0,react.useMemo)(() => (0,bitcoin_dist/* getPsbtTxInputs */.Fq)(psbtTx), [psbtTx]);
  const psbtTxOutputs = (0,react.useMemo)(() => (0,bitcoin_dist/* getPsbtTxOutputs */.kE)(psbtTx), [psbtTx]);
  const {
    accountInscriptionsBeingTransferred,
    accountInscriptionsBeingReceived,
    addressNativeSegwitTotal,
    addressTaprootTotal,
    fee,
    isPsbtMutable,
    psbtInputs,
    psbtOutputs,
    shouldDefaultToAdvancedView
  } = usePsbtDetails({
    inputs: psbtTxInputs,
    indexesToSign,
    outputs: psbtTxOutputs
  });
  useBreakOnNonCompliantEntity(psbtOutputs.map((output) => output.address));
  const psbtSignerContext = {
    accountInscriptionsBeingTransferred,
    accountInscriptionsBeingReceived,
    addressNativeSegwit,
    addressTaproot,
    addressNativeSegwitTotal,
    addressTaprootTotal,
    fee,
    isPsbtMutable,
    psbtInputs,
    psbtOutputs,
    shouldDefaultToAdvancedView
  };
  if (shouldDefaultToAdvancedView && psbtRaw) return /* @__PURE__ */ (0,jsx_runtime.jsx)(PsbtRequestRaw, { psbt: psbtRaw });
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(PsbtSignerProvider, { value: psbtSignerContext, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(popup_header/* PopupHeader */.s, { showSwitchAccount: true, balance: "all" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(
      layout/* Card */.Zp,
      {
        dataTestId: PsbtSelectors.PsbtSignerCard,
        contentStyle: {
          maxHeight: "80vh"
        },
        overflow: "hidden",
        footerBorder: true,
        footer: /* @__PURE__ */ (0,jsx_runtime.jsxs)(layout/* ButtonRow */.zE, { flexDirection: "row", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { flexGrow: 1, onClick: onCancel, variant: "outline", children: "Cancel" }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            exports_web/* Button */.$n,
            {
              flexGrow: 1,
              "aria-busy": isBroadcasting,
              onClick: () => onSignPsbt({
                addressNativeSegwitTotal,
                addressTaprootTotal,
                fee,
                inputs: psbtTxInputs
              }),
              children: "Confirm"
            }
          )
        ] }),
        children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(PsbtRequestHeader, { name, origin }),
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(PsbtRequestDetailsLayout, { children: [
            isPsbtMutable ? /* @__PURE__ */ (0,jsx_runtime.jsx)(PsbtRequestSighashWarningLabel, { origin }) : null,
            /* @__PURE__ */ (0,jsx_runtime.jsx)(PsbtRequestDetailsHeader, {}),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(PsbtInputsOutputsTotals, {}),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(PsbtInputsAndOutputs, {}),
            psbtRaw ? /* @__PURE__ */ (0,jsx_runtime.jsx)(PsbtRequestRaw, { psbt: psbtRaw }) : null,
            /* @__PURE__ */ (0,jsx_runtime.jsx)(PsbtRequestFee, { fee })
          ] })
        ]
      }
    )
  ] });
}

;// CONCATENATED MODULE: ./src/shared/actions/finalize-psbt.ts



function formatPsbtResponse({
  request,
  response
}) {
  return {
    source: message_types/* MESSAGE_SOURCE */.q_,
    method: message_types/* ExternalMethods */.gf.psbtResponse,
    payload: {
      psbtRequest: request,
      psbtResponse: response
    }
  };
}
function finalizePsbt({ data, requestPayload, tabId }) {
  const responseMessage = formatPsbtResponse({ request: requestPayload, response: data });
  chrome.tabs.sendMessage(tabId, responseMessage);
  (0,utils/* closeWindow */.Do)();
}

// EXTERNAL MODULE: ./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/index.js
var jsontokens_lib = __webpack_require__(67814);
;// CONCATENATED MODULE: ./src/app/common/psbt/requests.ts



function getPsbtPayloadFromToken(requestToken) {
  const token = (0,jsontokens_lib.decodeToken)(requestToken);
  if ((0,utils_dist/* isString */.Kg)(token.payload)) throw new Error("Error decoding json token");
  return token.payload;
}

;// CONCATENATED MODULE: ./src/app/common/psbt/use-psbt-request-params.ts






function usePsbtRequestSearchParams() {
  const { origin, tabId } = (0,use_default_request_search_params/* useDefaultRequestParams */.Y)();
  const requestToken = initial_search_params/* initialSearchParams */.VM.get("request");
  if (!requestToken) throw new Error("Cannot decode psbt without request token");
  const payload = getPsbtPayloadFromToken(requestToken);
  return (0,react.useMemo)(
    () => ({
      appName: payload?.appDetails?.name,
      origin,
      payload,
      requestToken,
      signAtIndex: (0,utils_dist/* isDefined */.O9)(payload?.signAtIndex) ? (0,utils_dist/* undefinedIfLengthZero */.a7)((0,utils_dist/* ensureArray */.eC)(payload?.signAtIndex).map((h) => Number(h))) : void 0,
      tabId: tabId ?? 1
    }),
    [origin, payload, requestToken, tabId]
  );
}
function useRpcSignPsbtParams() {
  const { origin, tabId } = (0,use_default_request_search_params/* useDefaultRequestParams */.Y)();
  const broadcast = initial_search_params/* initialSearchParams */.VM.get("broadcast");
  const psbtHex = initial_search_params/* initialSearchParams */.VM.get("hex");
  const requestId = initial_search_params/* initialSearchParams */.VM.get("requestId");
  const signAtIndex = initial_search_params/* initialSearchParams */.VM.getAll("signAtIndex");
  return (0,react.useMemo)(
    () => ({
      broadcast: broadcast === "true",
      origin,
      psbtHex,
      requestId,
      signAtIndex: (0,utils_dist/* undefinedIfLengthZero */.a7)((0,utils_dist/* ensureArray */.eC)(signAtIndex).map((h) => Number(h))),
      tabId: tabId ?? 0
    }),
    [broadcast, origin, psbtHex, requestId, signAtIndex, tabId]
  );
}

;// CONCATENATED MODULE: ./src/app/pages/psbt-request/use-psbt-request.tsx











function usePsbtRequest() {
  const [isLoading, setIsLoading] = (0,react.useState)(false);
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const { appName, origin, payload, requestToken, signAtIndex, tabId } = usePsbtRequestSearchParams();
  const { signPsbt, getRawPsbt, getPsbtAsTransaction } = usePsbtSigner();
  const getDefaultSigningConfig = (0,bitcoin_hooks/* useGetAssumedZeroIndexSigningConfig */.Z0)();
  return (0,react.useMemo)(() => {
    return {
      appName,
      indexesToSign: signAtIndex,
      isLoading,
      getRawPsbt,
      origin,
      psbtHex: payload.hex,
      onDenyPsbtSigning() {
        void analytics/* analytics */.zS.track("request_psbt_cancel");
        finalizePsbt({
          data: "PSBT request was canceled",
          requestPayload: requestToken,
          tabId
        });
      },
      async onSignPsbt() {
        setIsLoading(true);
        void analytics/* analytics */.zS.track("request_sign_psbt_submit");
        const tx = getPsbtAsTransaction(payload.hex);
        try {
          const signingConfig = getDefaultSigningConfig((0,hashes_esm_utils/* hexToBytes */.aT)(payload.hex), signAtIndex);
          const signedTx = await signPsbt({ tx, signingConfig });
          const signedPsbt = signedTx.toPSBT();
          setIsLoading(false);
          finalizePsbt({
            data: { hex: (0,hashes_esm_utils/* bytesToHex */.My)(signedPsbt) },
            requestPayload: requestToken,
            tabId
          });
        } catch (e) {
          return navigate(route_urls/* RouteUrls */.W.RequestError, {
            state: { message: (0,utils_dist/* isError */.bJ)(e) ? e.message : "", title: "Failed to sign" }
          });
        }
      }
    };
  }, [
    appName,
    signAtIndex,
    isLoading,
    getRawPsbt,
    origin,
    payload.hex,
    requestToken,
    tabId,
    getPsbtAsTransaction,
    signPsbt,
    getDefaultSigningConfig,
    navigate
  ]);
}

;// CONCATENATED MODULE: ./src/app/pages/psbt-request/psbt-request.tsx





function PsbtRequest() {
  const { appName, indexesToSign, isLoading, onSignPsbt, onDenyPsbtSigning, origin, psbtHex } = usePsbtRequest();
  if (isLoading) return /* @__PURE__ */ (0,jsx_runtime.jsx)(LoadingSpinner, { height: "600px" });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    PsbtSigner,
    {
      name: appName ?? "",
      indexesToSign,
      origin: origin ?? "",
      onSignPsbt,
      onCancel: onDenyPsbtSigning,
      psbtHex
    }
  );
}

// EXTERNAL MODULE: ./src/app/features/message-signer/message-signing-header.tsx
var message_signing_header = __webpack_require__(79939);
// EXTERNAL MODULE: ./src/app/features/message-signer/message-signing-request.layout.tsx
var message_signing_request_layout = __webpack_require__(34905);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+common@6.13.0/node_modules/@stacks/common/dist/esm/constants.js
var dist_esm_constants = __webpack_require__(7077);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+encryption@6.15.0/node_modules/@stacks/encryption/dist/esm/messageSignature.js + 1 modules
var messageSignature = __webpack_require__(62001);
// EXTERNAL MODULE: ./src/app/components/no-fees-warning-row.tsx
var no_fees_warning_row = __webpack_require__(84183);
// EXTERNAL MODULE: ./src/app/features/message-signer/message-preview-box.tsx
var message_preview_box = __webpack_require__(52208);
// EXTERNAL MODULE: ./src/app/features/message-signer/stacks-sign-message-action.tsx
var stacks_sign_message_action = __webpack_require__(8756);
// EXTERNAL MODULE: ./src/app/components/disclaimer.tsx
var disclaimer = __webpack_require__(71069);
;// CONCATENATED MODULE: ./src/app/features/stacks-message-signer/components/message-signing-disclaimer.tsx



function StacksMessageSigningDisclaimer({ appName }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    disclaimer/* Disclaimer */.M,
    {
      disclaimerText: `By signing this message, you are authorizing ${appName ?? "the app"} to do something specific
    on your behalf. Only sign messages that you understand from apps that you trust.
`,
      learnMoreUrl: "https://docs.hiro.so/build-apps/message-signing",
      mb: "space.05"
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/stacks-message-signer/components/stacks-signature-message-content.tsx








function StacksSignatureRequestMessageContent({
  isLoading,
  onSignMessage,
  onCancelMessageSigning,
  payload
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      message_preview_box/* MessagePreviewBox */.z,
      {
        message: payload.message,
        hash: (0,esm_utils/* bytesToHex */.My)((0,messageSignature/* hashMessage */.AL)(payload.message))
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(no_fees_warning_row/* NoFeesWarningRow */.$, { chainId: payload.network?.chainId ?? dist_esm_constants/* ChainID */.n_.Testnet }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      stacks_sign_message_action/* SignMessageActions */.y,
      {
        isLoading,
        onSignMessageCancel: onCancelMessageSigning,
        onSignMessage: () => onSignMessage({ messageType: "utf8", message: payload.message })
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("hr", {}),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(StacksMessageSigningDisclaimer, { appName: payload.appName })
  ] });
}

// EXTERNAL MODULE: ./src/app/features/message-signer/hash-drawer.tsx
var hash_drawer = __webpack_require__(6168);
;// CONCATENATED MODULE: ./src/app/features/stacks-message-signer/components/nested-tuple-displayer.tsx




function TupleDisplayer({ isRoot, ...rest }) {
  const rootStyles = isRoot ? {
    flex: "1 100%",
    pt: "12px",
    marginLeft: 0,
    fontFamily: "Fira Code"
  } : {};
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { ml: "space.04", overflow: "visible", ...rest, style: { ...rootStyles } });
}
function TupleNodeDisplayer({ clarityType, ...props }) {
  return clarityType === clarity_constants/* ClarityType */.d.Tuple ? /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { ...props }) : /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { ...props });
}
function TupleNodeLabelDisplayer(props) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mr: "space.04", color: "ink.text-subdued", ...props });
}
function TupleNodeValueDisplayer(props) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { wordWrap: "break-word", whiteSpace: "pre-line", ...props });
}

;// CONCATENATED MODULE: ./src/app/features/stacks-message-signer/components/clarity-value-list.tsx





function wrapText(text) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: text });
}
function ClarityValueListDisplayer(props) {
  const { val, encoding, isRoot = true } = props;
  switch (val.type) {
    case clarity_constants/* ClarityType */.d.BoolTrue:
      return wrapText("true");
    case clarity_constants/* ClarityType */.d.BoolFalse:
      return wrapText("false");
    case clarity_constants/* ClarityType */.d.Int:
      return wrapText(val.value.toString());
    case clarity_constants/* ClarityType */.d.UInt:
      return wrapText(`u${val.value.toString()}`);
    case clarity_constants/* ClarityType */.d.Buffer:
      if (encoding === "tryAscii") {
        const str = (0,esm_utils/* bytesToAscii */.qu)(val.buffer);
        if (/[ -~]/.test(str)) return wrapText(JSON.stringify(str));
      }
      return wrapText(`0x${(0,esm_utils/* bytesToHex */.My)(val.buffer)}`);
    case clarity_constants/* ClarityType */.d.OptionalNone:
      return wrapText("none");
    case clarity_constants/* ClarityType */.d.OptionalSome:
      return wrapText(`some ${(0,clarityValue/* cvToString */.Ss)(val.value, encoding)}`);
    case clarity_constants/* ClarityType */.d.ResponseErr:
      return wrapText(`err ${(0,clarityValue/* cvToString */.Ss)(val.value, encoding)}`);
    case clarity_constants/* ClarityType */.d.ResponseOk:
      return wrapText(`ok ${(0,clarityValue/* cvToString */.Ss)(val.value, encoding)}`);
    case clarity_constants/* ClarityType */.d.PrincipalStandard:
    case clarity_constants/* ClarityType */.d.PrincipalContract:
      return wrapText((0,principalCV/* principalToString */.NQ)(val));
    case clarity_constants/* ClarityType */.d.List:
      return wrapText(`[${val.list.map((v) => (0,clarityValue/* cvToString */.Ss)(v, encoding)).join(", ")}]`);
    case clarity_constants/* ClarityType */.d.Tuple:
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(TupleDisplayer, { isRoot, children: Object.entries(val.data).map(([key, value]) => /* @__PURE__ */ (0,jsx_runtime.jsxs)(TupleNodeDisplayer, { clarityType: value.type, children: [
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(TupleNodeLabelDisplayer, { children: [
          key,
          ":"
        ] }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(TupleNodeValueDisplayer, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(ClarityValueListDisplayer, { val: value, encoding: "tryAscii", isRoot: false }) })
      ] }, key)) });
    case clarity_constants/* ClarityType */.d.StringASCII:
      return wrapText(`"${val.data}"`);
    case clarity_constants/* ClarityType */.d.StringUTF8:
      return wrapText(`u"${val.data}"`);
  }
}

;// CONCATENATED MODULE: ./src/app/features/stacks-message-signer/components/structured-data-box.tsx







function StructuredDataBox(props) {
  const { message, domain } = props;
  const [hash, setHash] = (0,react.useState)();
  const [domainName, setDomainName] = (0,react.useState)();
  const [domainVersion, setDomainVersion] = (0,react.useState)();
  const [domainChainName, setDomainChainName] = (0,react.useState)();
  (0,react.useEffect)(() => {
    setHash(deriveStructuredMessageHash({ message, domain }));
  }, [message, domain]);
  (0,react.useEffect)(() => {
    setDomainName(cvToDisplay(domain.data.name));
    setDomainVersion(cvToDisplay(domain.data.version));
    setDomainChainName(chainIdToDisplay(domain.data["chain-id"]));
  }, [domain]);
  if (!message) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { minHeight: "260px", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Stack */.BJ,
    {
      border: "active",
      paddingBottom: "space.02",
      borderColor: "ink.border-default",
      borderRadius: "sm",
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { background: "ink.background-primary", overflowX: "scroll", py: "space.05", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Box */.az, { fontSize: "14px", lineHeight: "1.7", px: "space.05", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", justifyContent: "space-between", children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.h2, { textStyle: "label.01", children: domainName }),
            /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.span, { lineHeight: "1.5", textStyle: "caption.01", children: [
              domainVersion,
              " ",
              domainChainName
            ] })
          ] }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Divider */.cG, { py: "space.01" }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(ClarityValueListDisplayer, { val: message, encoding: "tryAscii" }) })
        ] }) }),
        hash ? /* @__PURE__ */ (0,jsx_runtime.jsx)(hash_drawer/* HashDrawer */.U, { hash }) : null
      ]
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/features/stacks-message-signer/components/structured-data-content.tsx







function SignatureRequestStructuredDataContent({
  isLoading,
  onSignMessage,
  onCancelMessageSigning,
  payload
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(StructuredDataBox, { message: payload.message, domain: payload.domain }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(no_fees_warning_row/* NoFeesWarningRow */.$, { chainId: payload.network?.chainId ?? dist_esm_constants/* ChainID */.n_.Testnet }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      stacks_sign_message_action/* SignMessageActions */.y,
      {
        isLoading,
        onSignMessageCancel: onCancelMessageSigning,
        onSignMessage: () => onSignMessage({
          messageType: "structured",
          message: payload.message,
          domain: payload.domain
        })
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("hr", {}),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(StacksMessageSigningDisclaimer, { appName: payload.appName })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/stacks-message-signer/stacks-message-signing.tsx










function StacksMessageSigning({
  messageType,
  tabId,
  origin,
  isLoading,
  onSignMessage,
  onCancelMessageSigning,
  payload
}) {
  useOnOriginTabClose(() => (0,utils/* closeWindow */.Do)());
  if (!tabId) return null;
  if (!(0,signature_types/* isSignableMessageType */.nY)(messageType)) return null;
  if (!origin) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(message_signing_request_layout/* MessageSigningRequestLayout */.Q, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(message_signing_header/* MessageSigningHeader */.K, { name: origin, origin }),
    (0,signature_types/* isUtf8MessageType */.Ph)(messageType) && payload.messageType === "utf8" && /* @__PURE__ */ (0,jsx_runtime.jsx)(
      StacksSignatureRequestMessageContent,
      {
        isLoading,
        onSignMessage,
        onCancelMessageSigning,
        payload
      }
    ),
    (0,signature_types/* isStructuredMessageType */.X5)(messageType) && payload.messageType === "structured" && /* @__PURE__ */ (0,jsx_runtime.jsx)(
      SignatureRequestStructuredDataContent,
      {
        isLoading,
        onSignMessage,
        onCancelMessageSigning,
        payload
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
  ] });
}

;// CONCATENATED MODULE: ./src/shared/actions/finalize-message-signature-format.ts


function formatMessageSigningResponse({
  request,
  response
}) {
  return {
    source: message_types/* MESSAGE_SOURCE */.q_,
    method: message_types/* ExternalMethods */.gf.signatureResponse,
    payload: { signatureRequest: request, signatureResponse: response }
  };
}

;// CONCATENATED MODULE: ./src/shared/actions/finalize-message-signature.ts



function finalizeMessageSignature({
  requestPayload,
  data,
  tabId
}) {
  const responseMessage = formatMessageSigningResponse({ request: requestPayload, response: data });
  chrome.tabs.sendMessage(tabId, responseMessage);
  (0,utils/* closeWindow */.Do)();
}

// EXTERNAL MODULE: ./src/app/common/signature/requests.ts
var requests = __webpack_require__(11258);
;// CONCATENATED MODULE: ./src/shared/crypto/sign-message.ts




function signMessage(message, privateKey) {
  const hash = (0,messageSignature/* hashMessage */.AL)(message);
  return {
    signature: (0,keys/* signMessageHashRsv */.ed)({ privateKey, messageHash: (0,esm_utils/* bytesToHex */.My)(hash) }).data,
    publicKey: (0,keys/* publicKeyToString */.BT)((0,keys/* getPublicKey */.lG)(privateKey))
  };
}
function signStructuredDataMessage(message, domain, privateKey) {
  const signature = (0,structuredDataSignature/* signStructuredData */.tV)({
    message,
    domain,
    privateKey
  }).data;
  return {
    signature,
    publicKey: (0,keys/* publicKeyToString */.BT)((0,keys/* getPublicKey */.lG)(privateKey))
  };
}

;// CONCATENATED MODULE: ./src/app/features/stacks-message-signer/stacks-message-signing.utils.ts







const improveUxWithShortDelayAsStacksSigningIsSoFast = (0,utils/* createDelay */.Ar)(1e3);
function useMessageSignerStacksSoftwareWallet() {
  const account = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  return (0,react.useCallback)(
    ({ message, domain }) => {
      if (!account || account.type === "ledger") return null;
      const privateKey = (0,keys/* createStacksPrivateKey */.wE)(account.stxPrivateKey);
      if ((0,utils_dist/* isString */.Kg)(message)) {
        return signMessage(message, privateKey);
      } else {
        if (!domain) throw new Error("Domain is required for structured messages");
        return signStructuredDataMessage(message, domain, privateKey);
      }
    },
    [account]
  );
}

// EXTERNAL MODULE: ./node_modules/.pnpm/lodash.isequal@4.5.0/node_modules/lodash.isequal/index.js
var lodash_isequal = __webpack_require__(82178);
var lodash_isequal_default = /*#__PURE__*/__webpack_require__.n(lodash_isequal);
;// CONCATENATED MODULE: ./src/app/features/ledger/flows/stacks-message-signing/stacks-message-signing-event-listeners.ts



async function listenForStacksMessageSigning(unsignedMessage) {
  return new Promise((resolve, reject) => {
    function stacksMessageSignedHandler(msg) {
      if (lodash_isequal_default()(msg.unsignedMessage, unsignedMessage)) {
        publish_subscribe/* appEvents */.l.unsubscribe("ledgerStacksMessageSigned", stacksMessageSignedHandler);
        publish_subscribe/* appEvents */.l.unsubscribe("ledgerStacksMessageSigningCancelled", signingAbortedHandler);
        resolve(msg.messageSignatures);
      }
    }
    publish_subscribe/* appEvents */.l.subscribe("ledgerStacksMessageSigned", stacksMessageSignedHandler);
    function signingAbortedHandler(msg) {
      if (lodash_isequal_default()(msg.unsignedMessage, unsignedMessage)) {
        publish_subscribe/* appEvents */.l.unsubscribe("ledgerStacksMessageSigningCancelled", signingAbortedHandler);
        publish_subscribe/* appEvents */.l.unsubscribe("ledgerStacksMessageSigned", stacksMessageSignedHandler);
        reject(new Error("User cancelled the signing operation"));
      }
    }
    publish_subscribe/* appEvents */.l.subscribe("ledgerStacksMessageSigningCancelled", signingAbortedHandler);
  });
}

;// CONCATENATED MODULE: ./src/app/features/stacks-message-signer/use-sign-stacks-message.ts








function useSignStacksMessage({
  onSignMessageCompleted,
  onSignMessageCancelled
}) {
  const signSoftwareWalletMessage = useMessageSignerStacksSoftwareWallet();
  const { whenWallet } = (0,use_wallet_type/* useWalletType */.t)();
  const ledgerNavigate = (0,use_ledger_navigate/* useLedgerNavigate */.W)();
  const [isLoading, setIsLoading] = (0,react.useState)(false);
  const signMessage = whenWallet({
    async software(unsignedMessage) {
      setIsLoading(true);
      void analytics/* analytics */.zS.track("request_signature_sign", { type: "software" });
      const messageSignature = signSoftwareWalletMessage(unsignedMessage);
      if (!messageSignature) {
        logger/* logger */.v.error("Cannot sign message, no account in state");
        void analytics/* analytics */.zS.track("request_signature_cannot_sign_message_no_account");
        return;
      }
      await improveUxWithShortDelayAsStacksSigningIsSoFast();
      setIsLoading(false);
      onSignMessageCompleted(messageSignature);
    },
    async ledger(unsignedMessage) {
      void analytics/* analytics */.zS.track("request_signature_sign", { type: "ledger" });
      ledgerNavigate.toConnectAndSignMessageStep(unsignedMessage);
      try {
        const messageSignature = await listenForStacksMessageSigning(unsignedMessage);
        onSignMessageCompleted(messageSignature);
      } catch (e) {
        onSignMessageCancelled();
      }
    }
  });
  return { isLoading, signMessage };
}

// EXTERNAL MODULE: ./src/app/store/signatures/requests.hooks.ts
var signatures_requests_hooks = __webpack_require__(98695);
;// CONCATENATED MODULE: ./src/app/pages/sign-stacks-message-request/use-sign-stacks-message-request.ts







function useStacksMessageRequestPayload() {
  const { requestToken, messageType } = (0,signatures_requests_hooks/* useSignatureRequestSearchParams */.z)();
  if (!requestToken) return null;
  if ((0,signature_types/* isUtf8MessageType */.Ph)(messageType)) {
    const signatureRequest = (0,requests/* getSignaturePayloadFromToken */.K4)(requestToken);
    const { message, network } = signatureRequest;
    const appName = signatureRequest.appDetails?.name;
    return {
      messageType: "utf8",
      message,
      network,
      appName
    };
  }
  if ((0,signature_types/* isStructuredMessageType */.X5)(messageType)) {
    const signatureRequest = (0,requests/* getStructuredDataPayloadFromToken */.Rd)(requestToken);
    const { message, network, domain } = signatureRequest;
    const appName = signatureRequest.appDetails?.name;
    return {
      messageType: "structured",
      message,
      network,
      appName,
      domain
    };
  }
  return null;
}
function useSignStacksMessageRequest() {
  const { requestToken, tabId } = (0,signatures_requests_hooks/* useSignatureRequestSearchParams */.z)();
  if (!tabId) throw new Error("Requests can only be made with corresponding tab");
  if (!requestToken) throw new Error("Missing request token");
  const { isLoading, signMessage } = useSignStacksMessage({
    onSignMessageCompleted: (messageSignature) => {
      finalizeMessageSignature({ requestPayload: requestToken, tabId, data: messageSignature });
    },
    onSignMessageCancelled: onCancelMessageSigning
  });
  function onCancelMessageSigning() {
    if (!requestToken || !tabId) return;
    void analytics/* analytics */.zS.track("request_signature_cancel");
    finalizeMessageSignature({ requestPayload: requestToken, tabId, data: "cancel" });
  }
  return { isLoading, signMessage, onCancelMessageSigning };
}

;// CONCATENATED MODULE: ./src/app/pages/sign-stacks-message-request/sign-stacks-message-request.tsx







function SignStacksMessageRequest() {
  const { requestToken, messageType, tabId, origin } = (0,signatures_requests_hooks/* useSignatureRequestSearchParams */.z)();
  const { isLoading, signMessage, onCancelMessageSigning } = useSignStacksMessageRequest();
  const payload = useStacksMessageRequestPayload();
  if (!requestToken || !tabId) return null;
  if (!(0,signature_types/* isSignableMessageType */.nY)(messageType)) return null;
  if (!origin) return null;
  if (!payload) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(popup_header/* PopupHeader */.s, { showSwitchAccount: true }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      StacksMessageSigning,
      {
        payload,
        isLoading,
        onSignMessage: signMessage,
        onCancelMessageSigning,
        messageType,
        tabId,
        origin
      }
    )
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/errors/requesting-tab-closed-error-msg.tsx





function RequestingTabClosedWarningMessage() {
  const [hasTabClosed, setHasTabClosed] = (0,react.useState)(false);
  useOnOriginTabClose(() => {
    setHasTabClosed(true);
    window.scrollTo({ top: 0, behavior: "smooth" });
  });
  if (!hasTabClosed) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Callout */.Pq, { variant: "warning", mb: "space.05", title: "Requesting window closed", width: "100%", children: "The window making this request closed, but you can still broadcast the transaction" });
}

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/principal-value.tsx






function PrincipalValue(props) {
  const { address } = props;
  const { mode, isNakamotoTestnet } = (0,networks_hooks/* useCurrentNetworkState */.uZ)();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Link */.N_,
    {
      onClick: () => (0,open_in_new_tab/* openInNewTab */.V)(
        (0,common_utils/* makeStacksAddressExplorerLink */.D3)({ mode, address, isNakamoto: isNakamotoTestnet })
      ),
      size: "sm",
      variant: "text",
      wordBreak: "break-all",
      children: address
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/row.tsx





function Row({ name, type, value }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.03", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", justifyContent: "space-between", flexShrink: 0, children: [
      name && /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { children: name }),
      type && /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { children: type })
    ] }),
    type?.toLowerCase() === "principal" ? /* @__PURE__ */ (0,jsx_runtime.jsx)(PrincipalValue, { address: value }) : /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { display: "block", textStyle: "body.02", wordBreak: "break-all", children: value })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/attachment-row.tsx





function AttachmentRow() {
  const pendingTransaction = (0,requests_hooks/* useTransactionRequestState */.o)();
  return pendingTransaction?.attachment ? /* @__PURE__ */ (0,jsx_runtime.jsx)(Row, { name: "Attachment", value: (0,common_utils/* hexToHumanReadable */.Sg)(pendingTransaction.attachment) }) : null;
}

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/contract-preview.tsx






function ContractPreviewLayout({
  contractAddress,
  contractName,
  functionName,
  onClick
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* HStack */.zt,
    {
      p: "space.04",
      borderRadius: "sm",
      gap: "space.04",
      alignItems: "center",
      border: "default",
      _hover: onClick ? {
        cursor: "pointer"
      } : void 0,
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* DynamicColorCircle */.BM,
          {
            size: "42px",
            position: "relative",
            value: `${(0,common_utils/* formatContractId */.bH)(contractAddress, contractName)}${functionName ? `::${functionName}` : ""}`,
            backgroundSize: "100%"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.03", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Title */.hE, { children: functionName || contractName }),
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Caption */.HL, { children: [
            (0,utils_dist/* truncateMiddle */.kU)(contractAddress, functionName ? 4 : 6),
            functionName ? `.${contractName}` : ""
          ] })
        ] })
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/contract-call-details/function-argument-item.tsx
/* provided dependency */ var function_argument_item_Buffer = __webpack_require__(84686)["Buffer"];








function FunctionArgumentItem(props) {
  const { arg, index, ...rest } = props;
  const transactionRequest = (0,requests_hooks/* useTransactionRequestState */.o)();
  const { data: contractFunction } = (0,query_dist/* useContractFunction */.QUH)(transactionRequest);
  const argCV = (0,deserialize/* default */.A)(function_argument_item_Buffer.from(arg, "hex"));
  const strValue = (0,clarityValue/* cvToString */.Ss)(argCV);
  if (!transactionRequest || transactionRequest.txType !== "contract_call") return null;
  if (!contractFunction) {
    logger/* logger */.v.error(
      `Attempting to call a function (\`${transactionRequest.functionName}\`) that does not exist on contract ${(0,utils_dist/* formatContractId */.bH)(
        transactionRequest.contractAddress,
        transactionRequest.contractName
      )}`
    );
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    Row,
    {
      name: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: contractFunction?.args[index].name || "unknown" }),
      type: (0,clarityValue/* getCVTypeString */.P2)(argCV),
      value: strValue,
      ...rest
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/contract-call-details/function-arguments-list.tsx







function FunctionArgumentsListBase(props) {
  const transactionRequest = (0,requests_hooks/* useTransactionRequestState */.o)();
  if (!transactionRequest || transactionRequest.txType !== "contract_call") {
    return null;
  }
  const hasArgs = transactionRequest.functionArgs.length > 0;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: hasArgs ? /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { gap: "space.04", ...props, children: transactionRequest.functionArgs.map((arg, index) => {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Suspense, { fallback: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: "loading" }), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(FunctionArgumentItem, { arg, index }) }, `${arg}-${index}`);
  }) }) : /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { children: "There are no additional arguments passed for this function call." }) });
}
const FunctionArgumentsList = (0,react.memo)(FunctionArgumentsListBase);

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/contract-call-details/contract-call-details.tsx











function ContractCallDetailsSuspense() {
  const transactionRequest = (0,requests_hooks/* useTransactionRequestState */.o)();
  const { handleOpenStacksTxLink } = useStacksExplorerLink();
  if (!transactionRequest || transactionRequest.txType !== "contract_call") return null;
  const { contractAddress, contractName, functionName, attachment } = transactionRequest;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Stack */.BJ,
    {
      border: "active",
      borderRadius: "sm",
      mb: "space.05",
      px: "space.04",
      py: "32px",
      gap: "space.05",
      width: "100%",
      background: "ink.background-primary",
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Title */.hE, { children: "Function and arguments" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          ContractPreviewLayout,
          {
            onClick: () => handleOpenStacksTxLink({
              txid: (0,common_utils/* formatContractId */.bH)(contractAddress, contractName)
            }),
            contractAddress,
            contractName,
            functionName
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.04", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(FunctionArgumentsList, {}),
          attachment && /* @__PURE__ */ (0,jsx_runtime.jsx)(AttachmentRow, {})
        ] })
      ]
    }
  );
}
function ContractCallDetails() {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Suspense, { fallback: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, {}), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(ContractCallDetailsSuspense, {}) });
}

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/contract-deploy-details/contract-deploy-details.tsx












function ContractCodeSection() {
  const transactionRequest = (0,requests_hooks/* useTransactionRequestState */.o)();
  const currentAccount = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const currentAccountStxAddress = (0,stacks_account_hooks/* useCurrentStacksAccountAddress */.$3)();
  if (!transactionRequest || transactionRequest.txType !== "smart_contract" || !currentAccount || !currentAccountStxAddress) {
    return null;
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    CodeBlock,
    {
      color: "#fff",
      border: "default",
      code: transactionRequest.codeBody,
      maxWidth: "100vw",
      prism: Prism
    }
  );
}
function TabButton(props) {
  const { isActive, ...rest } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* styled */.I4.button,
    {
      bg: isActive ? "ink.component-background-hover" : "transparent",
      borderRadius: "xs",
      color: isActive ? "ink.text-primary" : "ink.text-subdued",
      px: "space.04",
      py: "space.03",
      textStyle: "label.01",
      type: "button",
      ...rest
    }
  );
}
function ContractDeployDetails() {
  const transactionRequest = (0,requests_hooks/* useTransactionRequestState */.o)();
  const currentAccount = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const currentAccountStxAddress = (0,stacks_account_hooks/* useCurrentStacksAccountAddress */.$3)();
  const [tab, setTab] = (0,react.useState)("details");
  if (!transactionRequest || transactionRequest.txType !== "smart_contract" || !currentAccount || !currentAccountStxAddress) {
    return null;
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { mb: "space.05", gap: "space.05", width: "100%", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { gap: "0", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(TabButton, { onClick: () => setTab("details"), isActive: tab === "details", children: "Details" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(TabButton, { onClick: () => setTab("code"), isActive: tab === "code", children: "Code" })
    ] }),
    tab === "details" ? /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.05", border: "active", borderRadius: "sm", py: "space.06", px: "space.04", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Title */.hE, { children: "Contract deploy details" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        ContractPreviewLayout,
        {
          contractAddress: currentAccountStxAddress,
          contractName: transactionRequest.contractName
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.04", children: [
        currentAccountStxAddress && /* @__PURE__ */ (0,jsx_runtime.jsx)(Row, { name: "Contract address", value: currentAccountStxAddress, type: "Principal" }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(Row, { name: "Contract name", value: transactionRequest.contractName, type: "String" }),
        transactionRequest.attachment && /* @__PURE__ */ (0,jsx_runtime.jsx)(AttachmentRow, {})
      ] })
    ] }) : /* @__PURE__ */ (0,jsx_runtime.jsx)(ContractCodeSection, {})
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/fee-form.tsx







function FeeForm({ fees, disableFeeSelection, defaultFeeValue }) {
  const { values } = (0,formik_esm/* useFormikContext */.j7)();
  const transaction = useUnsignedPrepareTransactionDetails(values);
  const isSponsored = transaction ? isTxSponsored(transaction) : false;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: fees?.estimates.length ? /* @__PURE__ */ (0,jsx_runtime.jsx)(
    FeesRow,
    {
      disableFeeSelection,
      defaultFeeValue,
      fees,
      isSponsored
    }
  ) : /* @__PURE__ */ (0,jsx_runtime.jsx)(loading_rectangle/* LoadingRectangle */.K, { height: "32px", width: "100%" }) });
}

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/transaction-error/error-message.tsx





const ErrorMessage = (0,react.memo)(({ border, title, body, actions }) => {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Stack */.BJ,
    {
      bg: "ink.background-primary",
      border: border ? border : "active",
      borderRadius: "sm",
      gap: "space.06",
      mb: "space.05",
      p: "space.05",
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.04", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", color: "red.action-primary-default", children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ErrorTriangleIcon */.u0, {}),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.h1, { textStyle: "label.01", children: title })
          ] }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "caption.01", children: body })
        ] }),
        actions && /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { gap: "space.03", children: actions })
      ]
    }
  );
});

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/transaction-error/error-messages.tsx



















function InsufficientFundsActionButtons({ eventName }) {
  const [isShowingSwitchAccount, setIsShowingSwitchAccount] = (0,react.useState)(false);
  const onGetStx = () => {
    void analytics/* analytics */.zS.track(eventName);
    (0,utils/* closeWindow */.Do)();
    void chrome.tabs.create({ url: "index.html#/fund" });
  };
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      SwitchAccountSheet,
      {
        isShowing: isShowingSwitchAccount,
        onClose: () => setIsShowingSwitchAccount(false)
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { onClick: onGetStx, children: "Get STX" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { onClick: () => setIsShowingSwitchAccount(true), variant: "outline", children: "Switch account" })
  ] });
}
const FeeInsufficientFundsErrorMessage = (0,react.memo)((props) => {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    ErrorMessage,
    {
      title: "Insufficient balance",
      body: `You do not have enough STX to cover the network fees for this transaction.`,
      actions: /* @__PURE__ */ (0,jsx_runtime.jsx)(InsufficientFundsActionButtons, { eventName: "get_stx_for_tx_fees" }),
      ...props
    }
  );
});
const StxTransferInsufficientFundsErrorMessage = (0,react.memo)((props) => {
  const pendingTransaction = (0,requests_hooks/* useTransactionRequestState */.o)();
  const stxAddress = (0,stacks_account_hooks/* useCurrentStacksAccountAddress */.$3)();
  const availableUnlockedBalance = (0,query_dist/* useStxAvailableUnlockedBalance */.Hsy)(stxAddress);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    ErrorMessage,
    {
      title: "Insufficient balance",
      body: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.05", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { color: "ink.text-primary", children: "You don't have enough STX to make this transfer. Send some STX to this address, or switch to another account." }),
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.04", justifyContent: "flex-end", textAlign: "right", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", justifyContent: "space-between", children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { children: "Current balance" }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { children: availableUnlockedBalance ? (0,stacks_utils/* stacksValue */.jL)({
              value: availableUnlockedBalance.amount,
              withTicker: true
            }) : "--" })
          ] }),
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", justifyContent: "space-between", children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { children: "Transfer amount" }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { children: (0,stacks_utils/* stacksValue */.jL)({
              value: pendingTransaction.amount,
              withTicker: true
            }) })
          ] })
        ] })
      ] }),
      actions: /* @__PURE__ */ (0,jsx_runtime.jsx)(InsufficientFundsActionButtons, { eventName: "get_stx_for_stx_transfer" }),
      ...props
    }
  );
});
const NoContractErrorMessage = (0,react.memo)((props) => {
  const network = (0,networks_hooks/* useCurrentNetworkState */.uZ)();
  const pendingTransaction = (0,requests_hooks/* useTransactionRequestState */.o)();
  if (!pendingTransaction || pendingTransaction.txType !== connect_dist.TransactionTypes.ContractCall)
    return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    ErrorMessage,
    {
      title: "Contract not found",
      body: `The contract (${(0,utils_dist/* truncateMiddle */.kU)(pendingTransaction.contractAddress)}.${pendingTransaction.contractName}) that you are trying to call cannot be found on ${network.mode}.`,
      ...props
    }
  );
});
const IncorrectContractAddressMessage = (0,react.memo)((props) => {
  const pendingTransaction = (0,requests_hooks/* useTransactionRequestState */.o)();
  if (!pendingTransaction || pendingTransaction.txType !== connect_dist.TransactionTypes.ContractCall)
    return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    ErrorMessage,
    {
      title: "Invalid contract address",
      body: `The contract address (${(0,utils_dist/* truncateMiddle */.kU)(
        pendingTransaction.contractAddress
      )}) that you are trying to call is not a valid Stacks address.`,
      ...props
    }
  );
});
const UnauthorizedRequestRedirect = (0,react.memo)(() => {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Navigate */.C5, { to: route_urls/* RouteUrls */.W.UnauthorizedRequest });
});
const ExpiredRequestErrorMessage = (0,react.memo)((props) => {
  useScrollLock(true);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* Flex */.so,
    {
      position: "fixed",
      width: "100%",
      height: "100vh",
      zIndex: 99,
      left: 0,
      top: 0,
      alignItems: "center",
      justifyContent: "center",
      p: "space.05",
      bg: "rgba(0,0,0,0.35)",
      backdropFilter: "blur(10px)",
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        ErrorMessage,
        {
          title: "Expired request",
          body: "This transaction request has expired or cannot be validated, try to re-initiate this transaction request from the original app.",
          border: "1px solid",
          borderColor: "ink.border-default",
          ...props
        }
      )
    }
  );
});

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/transaction-error/transaction-error.tsx






var TransactionErrorReason = /* @__PURE__ */ ((TransactionErrorReason2) => {
  TransactionErrorReason2[TransactionErrorReason2["StxTransferInsufficientFunds"] = 1] = "StxTransferInsufficientFunds";
  TransactionErrorReason2[TransactionErrorReason2["FeeInsufficientFunds"] = 2] = "FeeInsufficientFunds";
  TransactionErrorReason2[TransactionErrorReason2["Generic"] = 3] = "Generic";
  TransactionErrorReason2[TransactionErrorReason2["BroadcastError"] = 4] = "BroadcastError";
  TransactionErrorReason2[TransactionErrorReason2["Unauthorized"] = 5] = "Unauthorized";
  TransactionErrorReason2[TransactionErrorReason2["NoContract"] = 6] = "NoContract";
  TransactionErrorReason2[TransactionErrorReason2["ExpiredRequest"] = 7] = "ExpiredRequest";
  TransactionErrorReason2[TransactionErrorReason2["InvalidContractAddress"] = 8] = "InvalidContractAddress";
  return TransactionErrorReason2;
})(TransactionErrorReason || {});
const TransactionErrorSuspense = (0,react.memo)(() => {
  const reason = useTransactionError();
  (0,react.useEffect)(() => {
    if (!reason) return;
    void analytics/* analytics */.zS.track("view_transaction_signing_error", {
      reason: TransactionErrorReason[reason].toLowerCase()
    });
  }, [reason]);
  if (!reason) return null;
  switch (reason) {
    case 6 /* NoContract */:
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(NoContractErrorMessage, {});
    case 8 /* InvalidContractAddress */:
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(IncorrectContractAddressMessage, {});
    case 1 /* StxTransferInsufficientFunds */:
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(StxTransferInsufficientFundsErrorMessage, {});
    case 2 /* FeeInsufficientFunds */:
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(FeeInsufficientFundsErrorMessage, {});
    case 5 /* Unauthorized */:
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(UnauthorizedRequestRedirect, {});
    case 7 /* ExpiredRequest */:
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(ExpiredRequestErrorMessage, {});
    default:
      return null;
  }
});
function TransactionError() {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Suspense, { fallback: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, {}), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(TransactionErrorSuspense, {}) });
}

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/hooks/use-transaction-error.ts













function getIsMultisig() {
  return initial_search_params/* initialSearchParams */.VM.get("isMultisig") === "true";
}
function useTransactionError() {
  const transactionRequest = (0,requests_hooks/* useTransactionRequestState */.o)();
  const contractInterface = (0,query_dist/* useGetContractInterfaceQuery */.d$)(transactionRequest);
  const { origin } = (0,use_default_request_search_params/* useDefaultRequestParams */.Y)();
  const { values } = (0,formik_esm/* useFormikContext */.j7)();
  const currentAccount = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const { filteredBalanceQuery } = (0,query_dist/* useStxCryptoAssetBalance */.szK)(currentAccount?.address ?? "");
  const availableUnlockedBalance = filteredBalanceQuery.data?.unlockedBalance;
  return (0,react.useMemo)(() => {
    if (!origin) return TransactionErrorReason.ExpiredRequest;
    if (filteredBalanceQuery.isLoading) return;
    if (!transactionRequest || !availableUnlockedBalance || !currentAccount) {
      return TransactionErrorReason.Generic;
    }
    if (transactionRequest.txType === connect_dist.TransactionTypes.ContractCall) {
      if (!(0,stacks_utils/* validateStacksAddress */.cU)(transactionRequest.contractAddress))
        return TransactionErrorReason.InvalidContractAddress;
      if (contractInterface?.isError) return TransactionErrorReason.NoContract;
    }
    if (availableUnlockedBalance && !getIsMultisig()) {
      const zeroBalance = availableUnlockedBalance.amount.toNumber() === 0;
      if (transactionRequest.txType === connect_dist.TransactionTypes.STXTransfer) {
        if (zeroBalance) return TransactionErrorReason.StxTransferInsufficientFunds;
        const transferAmount = new bignumber/* default */.A(transactionRequest.amount);
        if (transferAmount.gte(availableUnlockedBalance.amount))
          return TransactionErrorReason.StxTransferInsufficientFunds;
      }
      if (!transactionRequest.sponsored) {
        if (zeroBalance) return TransactionErrorReason.FeeInsufficientFunds;
        const feeValue = (0,utils_dist/* stxToMicroStx */.Ey)(values.fee);
        if (feeValue.gte(availableUnlockedBalance.amount))
          return TransactionErrorReason.FeeInsufficientFunds;
      }
    }
    return;
  }, [
    filteredBalanceQuery.isLoading,
    origin,
    transactionRequest,
    contractInterface,
    availableUnlockedBalance,
    currentAccount,
    values.fee
  ]);
}

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/minimal-error-message.tsx








function MinimalErrorMessageSuspense(props) {
  const error = useTransactionError();
  if (!error) return null;
  const getTitle = () => {
    if (error) {
      switch (error) {
        case TransactionErrorReason.Unauthorized:
          return "Unauthorized request";
        case TransactionErrorReason.NoContract:
          return "Contract not found";
        case TransactionErrorReason.InvalidContractAddress:
          return "Invalid contract address";
        case TransactionErrorReason.StxTransferInsufficientFunds:
        case TransactionErrorReason.FeeInsufficientFunds:
          return "Insufficient balance";
        case TransactionErrorReason.Generic:
          return "Something went wrong";
      }
    }
    return null;
  };
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* HStack */.zt,
    {
      alignItems: "center",
      bg: "ink.background-primary",
      borderRadius: "md",
      color: "red.action-primary-default",
      p: "space.04",
      width: "100%",
      ...props,
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ErrorTriangleIcon */.u0, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { "data-testid": TransactionRequestSelectors.ErrorMessage, textStyle: "caption.01", children: getTitle() })
      ]
    }
  );
}
function MinimalErrorMessageBase(props) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Suspense, { fallback: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, {}), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(MinimalErrorMessageSuspense, { ...props }) });
}
const MinimalErrorMessage = (0,react.memo)(MinimalErrorMessageBase);

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/hooks/use-stacks-tx-page-title.ts




function useStacksTxPageTitle() {
  const transactionRequest = (0,requests_hooks/* useTransactionRequestState */.o)();
  const txType = transactionRequest?.txType;
  return (0,react.useMemo)(() => {
    if (!transactionRequest) return "";
    if (txType === connect_dist.TransactionTypes.STXTransfer) return "Confirm transfer";
    if (txType === connect_dist.TransactionTypes.ContractDeploy) return "Deploy contract";
    if (txType === connect_dist.TransactionTypes.ContractCall && "functionName" in transactionRequest)
      return transactionRequest.functionName || "Sign transaction";
    return "Sign transaction";
  }, [transactionRequest, txType]);
}

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/page-top.tsx












function PageTopBase() {
  const transactionRequest = (0,requests_hooks/* useTransactionRequestState */.o)();
  const { origin } = (0,use_default_request_search_params/* useDefaultRequestParams */.Y)();
  const pageTitle = useStacksTxPageTitle();
  const { isTestnet, chain } = (0,networks_hooks/* useCurrentNetworkState */.uZ)();
  if (!transactionRequest) return null;
  const appName = transactionRequest?.appDetails?.name;
  const originAddition = origin ? ` (${(0,common_utils/* getUrlHostname */.zd)(origin)})` : "";
  const testnetAddition = isTestnet ? ` using ${(0,common_utils/* getUrlHostname */.zd)(chain.stacks.url)}${(0,common_utils/* addPortSuffix */.Wn)(chain.stacks.url)}` : "";
  const caption = appName ? `Requested by "${appName}"${originAddition}${testnetAddition}` : null;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Stack */.BJ,
    {
      "data-testid": TransactionRequestSelectors.TransactionRequestPage,
      mb: "space.05",
      gap: "space.04",
      width: "100%",
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.h1, { mb: "space.04", textStyle: "heading.03", children: pageTitle }),
        caption && /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Flag */.lN, { img: /* @__PURE__ */ (0,jsx_runtime.jsx)(favicon/* Favicon */.d, { origin: origin ?? "" }), pl: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.02", wordBreak: "break-word", children: caption }) })
      ]
    }
  );
}
const PageTop = (0,react.memo)(PageTopBase);

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/post-condition-mode-warning.tsx





function PostConditionModeWarning() {
  const mode = usePostConditionModeState();
  if (mode !== esm_constants/* PostConditionMode */.FN.Allow) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Callout */.Pq,
    {
      variant: "warning",
      mb: "space.05",
      title: "This transaction can transfer any of your assets",
      children: "If you confirm, you allow it to transfer any of your tokens. Only confirm if you trust and have verified the contract."
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/post-conditions/no-post-conditions.tsx




function NoPostConditions() {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", gap: "space.04", p: "space.04", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Circle */.jl, { bg: "ink.component-background-hover", flexShrink: 0, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* LockIcon */.XA, {}) }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { flexGrow: 1, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "body.02", children: "No transfers (besides fees) will be made from your account or the transaction will abort." }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/components/tx-asset-item.tsx





function TxAssetItem(props) {
  const { iconString, amount, ticker, ...rest } = props;
  const imageCanonicalUri = (0,validate_url/* isValidUrl */.A)(iconString) ? iconString : void 0;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", flexGrow: 1, justifyContent: "space-between", width: "100%", ...rest, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        StacksAssetAvatar,
        {
          gradientString: iconString,
          imageCanonicalUri,
          isStx: iconString === "STX",
          size: "32"
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "heading.04", children: ticker })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "heading.04", children: amount })
  ] });
}

;// CONCATENATED MODULE: ./src/app/components/event-card.tsx





function EventCard(props) {
  const { amount, icon, isLast, left, message, right, ticker, title } = props;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.05", p: "space.05", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* HStack */.zt, { alignItems: "center", justifyContent: "space-between", position: "relative", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.01", children: title }) }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(TxAssetItem, { iconString: icon, amount, ticker }),
      left || right ? /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", justifyContent: "space-between", children: [
        left ? /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { children: left }) : /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, {}),
        right && /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { children: right })
      ] }) : null
    ] }),
    message && /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { p: "space.05", borderTop: "default", borderBottom: !isLast ? "active" : "unset", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { children: message }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/post-conditions/fungible-post-condition-item.tsx













function FungiblePostConditionItemSuspense(props) {
  const { isLast, pc } = props;
  const currentAccount = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const pendingTransaction = (0,requests_hooks/* useTransactionRequestState */.o)();
  const asset = useAssetFromFungiblePostCondition(pc);
  const imageCanonicalUri = asset?.image_canonical_uri && asset.name && (0,stacks_utils/* getSafeImageCanonicalUri */.VD)(asset.image_canonical_uri, asset.name);
  const title = getPostConditionTitle(pc);
  const iconString = imageCanonicalUri ?? getIconStringFromPostCondition(pc);
  const pcTicker = getSymbolFromPostCondition(pc);
  const pcAmount = getAmountFromPostCondition(pc);
  const name = getNameFromPostCondition(pc);
  const contractName = "contractName" in pc.principal && pc.principal.contractName.content;
  const address = (0,common/* addressToString */.pD)(pc.principal.address);
  const isSending = address === currentAccount?.address;
  const amount = asset?.decimals ? (0,stacks_utils/* ftDecimals */.PE)(pcAmount, asset.decimals) : pcAmount;
  const ticker = asset?.symbol || pcTicker;
  const isContractPrincipal = !!contractName || pendingTransaction?.txType == connect_dist.TransactionTypes.ContractCall && pendingTransaction.contractAddress === address || address.includes(".");
  if (!pendingTransaction) return null;
  const message = pc.conditionCode ? `${getPostConditionCodeMessage(
    pc.conditionCode,
    isSending
  )} ${amount} ${ticker} or the transaction will abort.` : void 0;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    EventCard,
    {
      title: `${isContractPrincipal ? "The contract " : isSending ? "You " : "Another address "} ${title}`,
      left: asset?.name || name,
      right: `${(0,utils_dist/* truncateMiddle */.kU)((0,common/* addressToString */.pD)(pc.principal.address), 4)}${contractName ? `.${contractName}` : ""}`,
      amount,
      ticker,
      icon: iconString,
      message,
      isLast
    }
  );
}
function FungiblePostConditionItem(props) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Suspense, { fallback: /* @__PURE__ */ (0,jsx_runtime.jsx)(LoadingSpinner, { height: "190px" }), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(FungiblePostConditionItemSuspense, { ...props }) });
}

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/post-conditions/post-condition-item.tsx











function PostConditionItemSuspense(props) {
  const { pc, isLast } = props;
  const currentAccount = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  const pendingTransaction = (0,requests_hooks/* useTransactionRequestState */.o)();
  const title = getPostConditionTitle(pc);
  const iconString = getIconStringFromPostCondition(pc);
  const ticker = getSymbolFromPostCondition(pc);
  const amount = getAmountFromPostCondition(pc);
  const name = getNameFromPostCondition(pc);
  const contractName = "contractName" in pc.principal && pc.principal.contractName.content;
  const address = (0,common/* addressToString */.pD)(pc.principal.address);
  const isSending = address === currentAccount?.address;
  const isContractPrincipal = !!contractName || pendingTransaction?.txType == connect_dist.TransactionTypes.ContractCall && pendingTransaction.contractAddress === address || address.includes(".");
  if (!pendingTransaction) return null;
  const message = pc.conditionCode ? `${getPostConditionCodeMessage(
    pc.conditionCode,
    isSending
  )} ${amount} ${ticker} or the transaction will abort.` : void 0;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    EventCard,
    {
      title: `${isContractPrincipal ? "The contract " : isSending ? "You " : "Another address "} ${title}`,
      left: name,
      right: `${(0,utils_dist/* truncateMiddle */.kU)((0,common/* addressToString */.pD)(pc.principal.address), 4)}${contractName ? `.${contractName}` : ""}`,
      amount,
      ticker,
      icon: iconString,
      message,
      isLast
    }
  );
}
function PostConditionItem(props) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Suspense, { fallback: /* @__PURE__ */ (0,jsx_runtime.jsx)(LoadingSpinner, { height: "190px" }), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(PostConditionItemSuspense, { ...props }) });
}

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/post-conditions/post-conditions-list.tsx






function PostConditionsList() {
  const postConditions = useTransactionPostConditions();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: postConditions?.map((pc, index) => {
    if (pc.conditionType === esm_constants/* PostConditionType */.qu.Fungible) {
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        FungiblePostConditionItem,
        {
          pc,
          isLast: index === postConditions.length - 1
        },
        `${pc.type}-${pc.conditionCode}`
      );
    }
    if (pc.conditionType === esm_constants/* PostConditionType */.qu.STX || pc.conditionType === esm_constants/* PostConditionType */.qu.NonFungible) {
      return /* @__PURE__ */ (0,jsx_runtime.jsx)(
        PostConditionItem,
        {
          pc,
          isLast: index === postConditions.length - 1
        },
        `${pc.type}-${pc.conditionCode}`
      );
    }
    return;
  }) });
}

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/post-conditions/stx-post-condition.tsx







function StxPostCondition() {
  const pendingTransaction = (0,requests_hooks/* useTransactionRequestState */.o)();
  if (!pendingTransaction || pendingTransaction.txType !== connect_dist.TransactionTypes.STXTransfer)
    return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    EventCard,
    {
      title: "You'll send exactly",
      icon: "STX",
      amount: (0,stacks_utils/* stacksValue */.jL)({ value: pendingTransaction.amount, withTicker: false }),
      ticker: "STX",
      left: "Stacks Token",
      right: pendingTransaction.txType === connect_dist.TransactionTypes.STXTransfer ? `To ${(0,utils_dist/* truncateMiddle */.kU)(pendingTransaction.recipient, 4)}` : void 0
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/post-conditions/post-conditions.tsx













function PostConditionsSuspense() {
  const postConditions = useTransactionPostConditions();
  const mode = usePostConditionModeState();
  const pendingTransaction = (0,requests_hooks/* useTransactionRequestState */.o)();
  const hasPostConditions = (0,react.useMemo)(
    () => postConditions && postConditions?.length > 0,
    [postConditions]
  );
  const isStxTransfer = pendingTransaction?.txType === connect_dist.TransactionTypes.STXTransfer && !hasPostConditions;
  if (!postConditions || !pendingTransaction) return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, {});
  if (!environment/* IS_TEST_ENV */.Ay && mode === esm_constants/* PostConditionMode */.FN.Allow) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { border: "active", borderRadius: "sm", flexDirection: "column", mb: "space.05", width: "100%", children: hasPostConditions ? /* @__PURE__ */ (0,jsx_runtime.jsx)(PostConditionsList, {}) : isStxTransfer ? /* @__PURE__ */ (0,jsx_runtime.jsx)(StxPostCondition, {}) : /* @__PURE__ */ (0,jsx_runtime.jsx)(NoPostConditions, {}) });
}
function PostConditions() {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Suspense, { fallback: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, {}), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(PostConditionsSuspense, {}) });
}

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/stx-transfer-details/stx-transfer-details.tsx







function StxTransferDetails() {
  const pendingTransaction = (0,requests_hooks/* useTransactionRequestState */.o)();
  if (!pendingTransaction || pendingTransaction.txType !== "token_transfer") {
    return null;
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Stack */.BJ,
    {
      border: "active",
      borderRadius: "sm",
      mb: "space.05",
      px: "space.04",
      py: "space.06",
      gap: "space.05",
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Title */.hE, { children: "Transfer details" }),
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { gap: "space.04", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(Row, { name: "Recipient", type: "Principal", value: pendingTransaction.recipient }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(Row, { name: "Amount", type: "uSTX", value: pendingTransaction.amount }),
          pendingTransaction.memo && /* @__PURE__ */ (0,jsx_runtime.jsx)(Row, { name: "Memo", type: "string", value: pendingTransaction.memo }),
          pendingTransaction.attachment && /* @__PURE__ */ (0,jsx_runtime.jsx)(AttachmentRow, {})
        ] })
      ]
    }
  );
}

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/submit-action.tsx







function StacksTxSubmitAction({ canSubmit }) {
  const { handleSubmit, values, validateForm, isSubmitting } = (0,formik_esm/* useFormikContext */.j7)();
  const context = useStacksHighFeeWarningContext();
  const error = useTransactionError();
  const isDisabled = !!error || Number(values.fee) < 0 || !canSubmit;
  async function onConfirmTransaction() {
    const formErrors = await validateForm();
    if (context.isHighFeeWithNoFormErrors(formErrors, values.fee))
      return context.setShowHighFeeWarningSheet(true);
    handleSubmit();
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    exports_web/* Button */.$n,
    {
      "aria-busy": isSubmitting,
      "data-testid": TransactionRequestSelectors.BtnConfirmTransaction,
      disabled: isDisabled,
      fullWidth: true,
      mt: "space.04",
      onClick: onConfirmTransaction,
      type: "submit",
      children: "Confirm"
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/transaction-request/transaction-request.tsx



































function TransactionRequestBase() {
  const transactionRequest = (0,requests_hooks/* useTransactionRequestState */.o)();
  const unsignedTx = useUnsignedStacksTransactionBaseState();
  const { data: stxFees } = (0,query_dist/* useCalculateStacksTxFees */.mkG)(unsignedTx.transaction);
  const generateUnsignedTx = useGenerateUnsignedStacksTransaction();
  const stxAddress = (0,stacks_account_hooks/* useCurrentStacksAccountAddress */.$3)();
  const { filteredBalanceQuery } = (0,query_dist/* useStxCryptoAssetBalance */.szK)(stxAddress);
  const availableUnlockedBalance = filteredBalanceQuery.data?.availableUnlockedBalance;
  const { data: nextNonce, status: nonceQueryStatus } = (0,query_dist/* useNextNonce */.eIk)(stxAddress);
  const canSubmit = filteredBalanceQuery.status === "success" && nonceQueryStatus === "success";
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const { stacksBroadcastTransaction } = useStacksBroadcastTransaction({ token: "STX" });
  (0,use_on_mount/* useOnMount */.y)(() => void analytics/* analytics */.zS.track("view_transaction_signing"));
  async function onSubmit(values, formikHelpers) {
    formikHelpers.setSubmitting(true);
    const unsignedTx2 = await generateUnsignedTx(values);
    if (!unsignedTx2)
      return logger/* logger */.v.error("Failed to generate unsigned transaction in transaction-request");
    await stacksBroadcastTransaction(unsignedTx2);
    void analytics/* analytics */.zS.track("submit_fee_for_transaction", {
      calculation: stxFees?.calculation,
      fee: values.fee,
      type: values.feeType
    });
    formikHelpers.setSubmitting(false);
  }
  if (!transactionRequest) return null;
  const validationSchema = !transactionRequest.sponsored ? yup_index_esm/* object */.Ik({
    fee: stxFeeValidator(availableUnlockedBalance),
    nonce: nonceValidator
  }) : null;
  const initialValues = {
    fee: "",
    feeCurrency: "STX",
    feeType: models_dist/* FeeTypes */.MR[models_dist/* FeeTypes */.MR.Middle],
    nonce: nextNonce?.nonce
  };
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(popup_header/* PopupHeader */.s, { showSwitchAccount: true, balance: "stx" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      jsx/* Flex */.so,
      {
        alignItems: "center",
        background: "ink.background-primary",
        flexDirection: "column",
        p: "space.05",
        width: "100%",
        children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          formik_esm/* Formik */.l1,
          {
            initialValues,
            onSubmit,
            validateOnChange: false,
            validateOnMount: false,
            validateOnBlur: false,
            validationSchema,
            children: () => /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
              /* @__PURE__ */ (0,jsx_runtime.jsx)(PageTop, {}),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(RequestingTabClosedWarningMessage, {}),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(PostConditionModeWarning, {}),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(TransactionError, {}),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(PostConditions, {}),
              transactionRequest.txType === "contract_call" && /* @__PURE__ */ (0,jsx_runtime.jsx)(ContractCallDetails, {}),
              transactionRequest.txType === "token_transfer" && /* @__PURE__ */ (0,jsx_runtime.jsx)(StxTransferDetails, {}),
              transactionRequest.txType === "smart_contract" && /* @__PURE__ */ (0,jsx_runtime.jsx)(ContractDeployDetails, {}),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(NonceSetter, {}),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(FeeForm, { fees: stxFees }),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(
                exports_web/* Link */.N_,
                {
                  alignSelf: "flex-end",
                  my: "space.04",
                  onClick: () => navigate(route_urls/* RouteUrls */.W.EditNonce),
                  children: "Edit nonce"
                }
              ),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(MinimalErrorMessage, {}),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(StacksTxSubmitAction, { canSubmit }),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(HighFeeSheet, { learnMoreUrl: constants_dist/* HIGH_FEE_WARNING_LEARN_MORE_URL_STX */.W_ }),
              /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
            ] })
          }
        )
      }
    )
  ] });
}
const TransactionRequest = (0,react.memo)(TransactionRequestBase);

// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+profile@6.15.0_encoding@0.1.13/node_modules/@stacks/profile/dist/esm/profile.js + 2 modules
var profile = __webpack_require__(22301);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+wallet-sdk@6.15.0_encoding@0.1.13/node_modules/@stacks/wallet-sdk/dist/esm/models/account.js + 1 modules
var models_account = __webpack_require__(52267);
;// CONCATENATED MODULE: ./src/app/common/profiles/requests.ts






function getProfileDataContentFromToken(requestToken) {
  const token = (0,jsontokens_lib.decodeToken)(requestToken);
  if ((0,utils_dist/* isString */.Kg)(token.payload)) throw new Error("error decoding json token");
  return token.payload;
}
const UNAUTHORIZED_PROFILE_UPDATE_REQUEST = "The profile update request provided is not signed by this wallet.";
async function verifyProfileUpdateRequest({
  requestToken,
  accounts,
  appDomain
}) {
  const token = (0,jsontokens_lib.decodeToken)(requestToken);
  const payload = token.payload;
  const validationResult = profile/* Person */._A.validateSchema(payload.profile, false);
  if (!validationResult.valid) {
    throw new Error("Profile update payload not following PublicPersonProfile schema");
  }
  const { publicKey, stxAddress } = payload;
  const verifier = new jsontokens_lib.TokenVerifier("ES256k", publicKey);
  const isSigned = await verifier.verifyAsync(requestToken);
  if (!isSigned) {
    throw new Error("Profile update request is not signed");
  }
  const foundAccount = accounts.find((account) => {
    if (account.type === "ledger") {
      throw new Error("Invalid account type");
    }
    const appPrivateKey = (0,models_account/* getAppPrivateKey */.sz)({
      account,
      appDomain
    });
    const appPublicKey = (0,esm_keys/* getPublicKeyFromPrivate */.sP)(appPrivateKey);
    if (appPublicKey !== publicKey) return false;
    if (!stxAddress) return true;
    if (stxAddress !== account.address) return false;
    return true;
  });
  if (!foundAccount) {
    throw new Error(UNAUTHORIZED_PROFILE_UPDATE_REQUEST);
  }
  return payload;
}

;// CONCATENATED MODULE: ./src/app/store/profiles/requests.hooks.ts







function useIsProfileUpdateRequestValid() {
  const accounts = (0,stacks_account_hooks/* useStacksAccounts */.Lh)();
  const { origin, requestToken } = useProfileUpdateRequestSearchParams();
  return (0,react_async_hook_esm/* useAsync */.Yb)(async () => {
    if (typeof accounts === "undefined") return;
    if (!origin || !accounts || !requestToken) return;
    try {
      const payload = await verifyProfileUpdateRequest({
        requestToken,
        accounts,
        appDomain: origin
      });
      return !!payload;
    } catch (e) {
      return false;
    }
  }, [accounts, requestToken, origin]).result;
}
function useProfileUpdateRequestSearchParams() {
  const [searchParams] = (0,react_router_dom_dist/* useSearchParams */.ok)();
  const { origin, tabId } = (0,use_default_request_search_params/* useDefaultRequestParams */.Y)();
  const requestToken = searchParams.get("request");
  return (0,react.useMemo)(
    () => ({
      origin,
      tabId: tabId || 1,
      requestToken
    }),
    [origin, requestToken, tabId]
  );
}

;// CONCATENATED MODULE: ./src/app/pages/update-profile-request/components/profile-box.tsx



function Value({ v }) {
  if (typeof v === "string" || typeof v === "number" || typeof v === "boolean") {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "caption.01", wordBreak: "break-all", children: v });
  } else if (v instanceof Array) {
    return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
      "[",
      /* @__PURE__ */ (0,jsx_runtime.jsx)("div", { style: { textIndent: "0em" }, children: v.map((entry, index) => {
        return /* @__PURE__ */ (0,jsx_runtime.jsxs)("div", { children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(Value, { v: entry }),
          index < v.length - 1 && /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: "," })
        ] }, index);
      }) }),
      "]"
    ] });
  } else if (typeof v === "object") {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(Properties, { p: v });
  } else {
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: JSON.stringify(v) });
  }
}
function Properties({ p }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: Object.keys(p).filter((k) => !k.startsWith("@")).map((k) => {
    return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Box */.az, { textIndent: "-1em", ml: "space.05", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* styled */.I4.span, { textStyle: "caption.01", children: [
        k,
        ":"
      ] }),
      " ",
      /* @__PURE__ */ (0,jsx_runtime.jsx)(Value, { v: p[k] })
    ] }, k);
  }) });
}
function ProfileBox({ profile }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { minHeight: "260px", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* Box */.az,
    {
      bg: "ink.background-primary",
      border: "active",
      borderRadius: "sm",
      px: "space.05",
      py: "space.05",
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { gap: "space.03", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(Properties, { p: profile._profile }) })
    }
  ) });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+network@6.13.0_encoding@0.1.13/node_modules/@stacks/network/dist/esm/fetch.js
var fetch = __webpack_require__(28335);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+wallet-sdk@6.15.0_encoding@0.1.13/node_modules/@stacks/wallet-sdk/dist/esm/models/profile.js
var models_profile = __webpack_require__(74179);
;// CONCATENATED MODULE: ./src/shared/actions/finalize-profile-update.ts



function formatProfileUpdateResponse({
  request,
  response
}) {
  return {
    source: message_types/* MESSAGE_SOURCE */.q_,
    method: message_types/* ExternalMethods */.gf.profileUpdateResponse,
    payload: {
      profileUpdateRequest: request,
      profileUpdateResponse: response
    }
  };
}
function finalizeProfileUpdate({ requestPayload, data, tabId }) {
  const responseMessage = formatProfileUpdateResponse({ request: requestPayload, response: data });
  chrome.tabs.sendMessage(tabId, responseMessage);
  (0,utils/* closeWindow */.Do)();
}

;// CONCATENATED MODULE: ./src/app/pages/update-profile-request/components/update-action.layout.tsx





function UpdateActionLayout({
  onUpdateProfile,
  onCancel,
  isLoading
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { onClick: onCancel, flexGrow: 1, variant: "outline", children: "Cancel" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      exports_web/* Button */.$n,
      {
        "aria-busy": isLoading,
        "data-testid": UpdateProfileRequestSelectors.BtnUpdateProfile,
        type: "submit",
        flexGrow: 1,
        onClick: onUpdateProfile,
        children: "Update"
      }
    )
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/update-profile-request/components/update-action.tsx











function useUpdateProfileSoftwareWallet() {
  const account = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  return (0,react.useCallback)(
    async (publicProfile) => {
      const fetchFn = (0,fetch/* createFetchFn */.Hq)();
      if (!account || account.type === "ledger") return null;
      const response = await fetchFn(`${constants_dist/* gaiaUrl */.Ss}/hub_info`);
      const { read_url_prefix } = await response.json();
      const profileUrl = await (0,models_profile/* fetchAccountProfileUrl */.E5)({
        account,
        gaiaHubUrl: read_url_prefix
      });
      const profile = await (0,models_profile/* fetchProfileFromUrl */.vl)(profileUrl, fetchFn) || models_profile/* DEFAULT_PROFILE */.KG;
      const updatedProfile = {
        ...profile,
        ...publicProfile,
        // apps and appsMeta must not be overwritten by user
        apps: profile.apps,
        appsMeta: profile.appsMeta
      };
      await (0,models_profile/* signAndUploadProfile */.r$)({
        profile: updatedProfile,
        account,
        gaiaHubUrl: constants_dist/* gaiaUrl */.Ss
      });
      return updatedProfile;
    },
    [account]
  );
}
function UpdateAction({
  profileUpdaterPayload
}) {
  const { profile: publicProfile } = profileUpdaterPayload;
  const { tabId, requestToken } = useProfileUpdateRequestSearchParams();
  const updateProfileSoftwareWallet = useUpdateProfileSoftwareWallet();
  const [isLoading, setIsLoading] = (0,react.useState)(false);
  if (!requestToken || !tabId) return null;
  const onUpdateProfile = async () => {
    setIsLoading(true);
    void analytics/* analytics */.zS.track("request_update_profile_submit");
    const result = await updateProfileSoftwareWallet(publicProfile);
    setIsLoading(false);
    finalizeProfileUpdate({
      requestPayload: requestToken,
      tabId,
      data: result === null ? "cancel" : result
      // result is null for hardware wallets
    });
  };
  const onCancel = async () => {
    void analytics/* analytics */.zS.track("request_update_profile_cancel");
    finalizeProfileUpdate({ requestPayload: requestToken, tabId, data: "cancel" });
  };
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    UpdateActionLayout,
    {
      onUpdateProfile,
      onCancel,
      isLoading
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/update-profile-request/components/profile-data-content.tsx









function ProfileDataContent(props) {
  const { requestToken } = props;
  const profileUpdateRequest = getProfileDataContentFromToken(requestToken);
  const person = new profile/* Person */._A(profileUpdateRequest.profile);
  const { network } = profileUpdateRequest;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ProfileBox, { profile: person }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(no_fees_warning_row/* NoFeesWarningRow */.$, { chainId: network?.chainId ?? dist_esm_constants/* ChainID */.n_.Testnet }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(UpdateAction, { profileUpdaterPayload: profileUpdateRequest }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)("hr", {}),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      disclaimer/* Disclaimer */.M,
      {
        disclaimerText: "This update will overwrite any values in your public profile with the included property names.",
        learnMoreUrl: "https://docs.hiro.so/build-apps/transaction-signing#get-the-users-stacks-address"
      }
    )
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/update-profile-request/components/update-profile-error-msg.tsx




function update_profile_error_msg_ErrorMessage(props) {
  const { errorMessage } = props;
  if (!errorMessage) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", bg: "#FCEEED", p: "space.04", borderRadius: "md", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ErrorTriangleIcon */.u0, {}),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { color: "red.action-primary-default", children: errorMessage })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/update-profile-request/components/page-top.tsx









function page_top_PageTopBase() {
  const { isTestnet, chain } = (0,networks_hooks/* useCurrentNetworkState */.uZ)();
  const { origin, requestToken } = useProfileUpdateRequestSearchParams();
  if (!requestToken) return null;
  const profileUpdaterPayload = getProfileDataContentFromToken(requestToken);
  if (!profileUpdaterPayload) return null;
  const appName = profileUpdaterPayload?.appDetails?.name;
  const originAddition = origin ? ` (${(0,common_utils/* getUrlHostname */.zd)(origin)})` : "";
  const testnetAddition = isTestnet ? ` using ${(0,common_utils/* getUrlHostname */.zd)(chain.stacks.url)}${(0,common_utils/* addPortSuffix */.Wn)(chain.stacks.url)}` : "";
  const caption = appName ? `Requested by "${appName}"${originAddition}${testnetAddition}` : "Request by an unknown app";
  const avatarUrl = profileUpdaterPayload?.profile?.image?.[0]?.contentUrl;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { justify: "space-between", align: "center", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { pt: "space.06", gap: "space.04", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Title */.hE, { children: "Update Profile" }),
      caption && /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Caption */.HL, { wordBreak: "break-word", children: caption })
    ] }),
    avatarUrl && /* @__PURE__ */ (0,jsx_runtime.jsx)(
      "img",
      {
        style: {
          borderRadius: "100%",
          width: "50px",
          height: "50px",
          alignItems: "center",
          marginTop: "32px"
        },
        src: avatarUrl
      }
    )
  ] });
}
const page_top_PageTop = (0,react.memo)(page_top_PageTopBase);

;// CONCATENATED MODULE: ./src/app/pages/update-profile-request/components/update-profile-request.layout.tsx





function ProfileUpdateRequestLayout({ children }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(popup_header/* PopupHeader */.s, { showSwitchAccount: true, balance: "all" }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(
      jsx/* Stack */.BJ,
      {
        bg: "ink.background-primary",
        px: ["space.05", "space.05", "unset"],
        gap: "space.05",
        width: "100%",
        children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(page_top_PageTop, {}),
          children
        ]
      }
    )
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/update-profile-request/update-profile-request.tsx










function ProfileUpdateRequestBase() {
  const validProfileUpdateRequest = useIsProfileUpdateRequestValid();
  const { requestToken } = useProfileUpdateRequestSearchParams();
  useOnOriginTabClose(() => (0,utils/* closeWindow */.Do)());
  if ((0,utils_dist/* isUndefined */.b0)(validProfileUpdateRequest) || !validProfileUpdateRequest || !requestToken)
    return /* @__PURE__ */ (0,jsx_runtime.jsx)(ProfileUpdateRequestLayout, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
      update_profile_error_msg_ErrorMessage,
      {
        errorMessage: `Invalid profile update request${!validProfileUpdateRequest && " (Profile must follow Person schema)."}`
      }
    ) });
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(ProfileUpdateRequestLayout, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(ProfileDataContent, { requestToken }) });
}
const ProfileUpdateRequest = (0,react.memo)(ProfileUpdateRequestBase);

;// CONCATENATED MODULE: ./src/app/routes/request-routes.tsx
















const legacyRequestRoutes = /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    react_router_dist/* Route */.qh,
    {
      path: route_urls/* RouteUrls */.W.TransactionRequest,
      element: /* @__PURE__ */ (0,jsx_runtime.jsx)(account_gate/* AccountGate */.z0, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Suspense, { fallback: /* @__PURE__ */ (0,jsx_runtime.jsx)(SuspenseLoadingSpinner, {}), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(StacksHighFeeWarningContainer, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(TransactionRequest, {}) }) }) }),
      children: [
        ledgerStacksTxSigningRoutes,
        /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.EditNonce, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(EditNonceSheet, {}) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.TransactionBroadcastError, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(BroadcastErrorSheet, {}) })
      ]
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    react_router_dist/* Route */.qh,
    {
      path: route_urls/* RouteUrls */.W.SignatureRequest,
      element: /* @__PURE__ */ (0,jsx_runtime.jsx)(account_gate/* AccountGate */.z0, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Suspense, { fallback: /* @__PURE__ */ (0,jsx_runtime.jsx)(SuspenseLoadingSpinner, {}), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(SignStacksMessageRequest, {}) }) }),
      children: ledgerStacksMessageSigningRoutes
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    react_router_dist/* Route */.qh,
    {
      path: route_urls/* RouteUrls */.W.ProfileUpdateRequest,
      element: /* @__PURE__ */ (0,jsx_runtime.jsx)(account_gate/* AccountGate */.z0, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Suspense, { fallback: /* @__PURE__ */ (0,jsx_runtime.jsx)(SuspenseLoadingSpinner, {}), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(ProfileUpdateRequest, {}) }) })
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    react_router_dist/* Route */.qh,
    {
      path: route_urls/* RouteUrls */.W.PsbtRequest,
      element: /* @__PURE__ */ (0,jsx_runtime.jsx)(account_gate/* AccountGate */.z0, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Suspense, { fallback: /* @__PURE__ */ (0,jsx_runtime.jsx)(SuspenseLoadingSpinner, {}), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(PsbtRequest, {}) }) })
    }
  )
] });

// EXTERNAL MODULE: ./node_modules/.pnpm/framer-motion@11.9.0_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/animation/hooks/use-animation.mjs + 1 modules
var use_animation = __webpack_require__(98043);
// EXTERNAL MODULE: ./node_modules/.pnpm/framer-motion@11.9.0_@emotion+is-prop-valid@1.3.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs + 114 modules
var proxy = __webpack_require__(25307);
;// CONCATENATED MODULE: ./src/app/components/favicon-displayer/favicon-displayer.tsx





function FaviconDisplayer({ requester }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    jsx/* Box */.az,
    {
      bg: "ink.background-primary",
      p: "space.04",
      borderRadius: "lg",
      display: "inline-block",
      borderColor: "ink.border-default",
      borderWidth: "1px",
      width: "72px",
      height: "72px",
      children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { className: (0,css/* css */.AH)({ transform: "scale(0.9)" }), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Favicon */.dZ, { origin: requester, size: 64 }) })
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/rpc-get-addresses/components/get-addresses.layout.tsx









function GetAddressesLayout({
  requester,
  switchAccount,
  onBeforeAnimation,
  onUserApprovesGetAddresses,
  onClickRequestedByLink
}) {
  const originLogoAnimation = (0,use_animation/* useAnimationControls */.E)();
  const contentDisappears = (0,use_animation/* useAnimationControls */.E)();
  const checkmarkEnters = (0,use_animation/* useAnimationControls */.E)();
  (0,use_on_mount/* useOnMount */.y)(() => {
    if (document.body && document.body.parentElement) {
      document.body.parentElement.style.background = "var(--leather-colors-ink-background-secondary)";
    }
  });
  async function userApprovesGetAddresses() {
    onBeforeAnimation?.();
    const yPos = window.innerHeight / 2 - 100;
    const xPos = Math.min(window.innerWidth / 2, 320) - 84;
    await contentDisappears.start({
      opacity: 0,
      transition: { duration: 0.4 },
      pointerEvents: "none"
    });
    await originLogoAnimation.start({
      x: xPos,
      y: yPos,
      scale: 1.4,
      rotate: -20
    });
    await checkmarkEnters.start({ scale: 0.5, dur: 0.32 });
    await (0,utils_dist/* delay */.cb)(280);
    onUserApprovesGetAddresses();
    await (0,utils_dist/* delay */.cb)(280);
    await originLogoAnimation.start({
      scale: 0,
      opacity: 0,
      dur: 4e-3
    });
    (0,utils/* closeWindow */.Do)();
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Flex */.so,
    {
      flexDir: "column",
      minH: "100vh",
      background: "ink.background-secondary",
      boxShadow: "0px 0px 2px 0px rgba(18, 16, 15, 0.08), 0px 4px 8px 0px rgba(18, 16, 15, 0.08), 0px 12px 24px 0px rgba(18, 16, 15, 0.08)",
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mx: "space.05", mt: "space.05", height: 18, width: 86, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* LeatherLogomarkIcon */.$d, { height: 18, width: 86 }) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { zIndex: 0, children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(proxy/* motion */.P.div, { style: { display: "inline-block", zIndex: 1 }, animate: originLogoAnimation, children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mx: "space.05", mt: "space.05", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(FaviconDisplayer, { requester }) }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            proxy/* motion */.P.img,
            {
              animate: checkmarkEnters,
              style: { position: "absolute", zIndex: 1, top: "50%", left: "50%" },
              initial: { scale: 0 },
              src: "assets/illustrations/black-circle-checkmark.svg"
            }
          )
        ] }) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(proxy/* motion */.P.div, { animate: contentDisappears, style: { display: "flex", flex: 1 }, children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Approver */._w, { requester, width: "100%", mt: "space.01", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            exports_web/* Approver */._w.Header,
            {
              title: "Connect app",
              info: /* @__PURE__ */ (0,jsx_runtime.jsx)(
                jsx/* styled */.I4.a,
                {
                  display: "block",
                  p: "space.01",
                  target: "_blank",
                  href: "https://leather.io/guides/connect-dapps",
                  children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* QuestionCircleIcon */.GA, { variant: "small" })
                }
              ),
              onPressRequestedByLink: (e) => {
                e.preventDefault();
                onClickRequestedByLink();
              }
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Approver */._w.Section, { children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Approver */._w.Subheader, { children: "With account" }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { mb: "space.03", children: switchAccount })
          ] }),
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(exports_web/* Approver */._w.Section, { children: [
            /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Approver */._w.Subheader, { children: "This app would like to" }),
            /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* VStack */.Tk, { gap: "space.03", pb: "space.03", children: ["View your balances and activity", "Request approval for transactions"].map(
              (text) => /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Flag */.lN, { img: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CheckmarkIcon */.Nr, { variant: "small" }), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.p, { textStyle: "caption.01", children: text }) }, text)
            ) })
          ] }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            exports_web/* Approver */._w.Actions,
            {
              actions: [
                /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { variant: "outline", onClick: () => (0,utils/* closeWindow */.Do)(), children: "Deny" }, "cancel"),
                /* @__PURE__ */ (0,jsx_runtime.jsx)(
                  exports_web/* Button */.$n,
                  {
                    onClick: userApprovesGetAddresses,
                    "data-testid": "get-addresses-approve-button",
                    children: "Confirm"
                  },
                  "confirm"
                )
              ]
            }
          )
        ] }) })
      ]
    }
  );
}

// EXTERNAL MODULE: ./src/shared/rpc/rpc-methods.ts
var rpc_methods = __webpack_require__(41979);
;// CONCATENATED MODULE: ./src/app/common/rpc-helpers.ts




function useRpcRequestParams() {
  const defaultParams = (0,use_default_request_search_params/* useDefaultRequestParams */.Y)();
  return (0,react.useMemo)(
    () => ({
      ...defaultParams,
      requestId: initial_search_params/* initialSearchParams */.VM.get("requestId") ?? ""
    }),
    [defaultParams]
  );
}

// EXTERNAL MODULE: ./src/app/store/app-permissions/app-permissions.slice.ts
var app_permissions_slice = __webpack_require__(75847);
;// CONCATENATED MODULE: ./src/app/pages/rpc-get-addresses/use-get-addresses.ts











function useGetAddresses() {
  const permissions = (0,app_permissions_slice/* useAppPermissions */.X)();
  const { tabId, origin, requestId } = useRpcRequestParams();
  const createNativeSegwitSigner = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitSigner */.GD)();
  const createTaprootSigner = (0,taproot_account_hooks/* useCurrentAccountTaprootSigner */.$w)();
  const stacksAccount = (0,stacks_account_hooks/* useCurrentStacksAccount */.Vr)();
  function focusInitatingTab() {
    void analytics/* analytics */.zS.track("user_clicked_requested_by_link", { endpoint: "getAddresses" });
    chrome.tabs.update(tabId ?? 0, { active: true }, (tab) => {
      if (!tab) return;
      chrome.windows.update(tab.windowId, { focused: true });
    });
  }
  return {
    origin,
    focusInitatingTab,
    onUserApproveGetAddresses() {
      if (!tabId || !origin) {
        logger/* logger */.v.error("Cannot give app accounts: missing tabId, origin");
        return;
      }
      void analytics/* analytics */.zS.track("user_approved_get_addresses", { origin });
      permissions.hasRequestedAccounts(origin);
      const keysToIncludeInResponse = [];
      if (createNativeSegwitSigner) {
        const nativeSegwitSigner = createNativeSegwitSigner(0);
        const nativeSegwitAddressResponse = {
          symbol: "BTC",
          type: "p2wpkh",
          address: nativeSegwitSigner.address,
          publicKey: (0,esm_utils/* bytesToHex */.My)(nativeSegwitSigner.publicKey),
          derivationPath: nativeSegwitSigner.derivationPath
        };
        keysToIncludeInResponse.push(nativeSegwitAddressResponse);
      }
      if (createTaprootSigner) {
        const taprootSigner = createTaprootSigner(0);
        const taprootAddressResponse = {
          symbol: "BTC",
          type: "p2tr",
          address: taprootSigner.address,
          publicKey: (0,esm_utils/* bytesToHex */.My)(taprootSigner.publicKey),
          tweakedPublicKey: (0,esm_utils/* bytesToHex */.My)((0,bitcoin_dist/* ecdsaPublicKeyToSchnorr */.tm)(taprootSigner.publicKey)),
          derivationPath: taprootSigner.derivationPath
        };
        keysToIncludeInResponse.push(taprootAddressResponse);
      }
      if (stacksAccount) {
        const stacksAddressResponse = {
          symbol: "STX",
          address: stacksAccount.address ?? "",
          publicKey: stacksAccount.stxPublicKey ?? ""
        };
        keysToIncludeInResponse.push(stacksAddressResponse);
      }
      chrome.tabs.sendMessage(
        tabId,
        (0,rpc_methods/* makeRpcSuccessResponse */.K)("getAddresses", {
          id: requestId,
          result: { addresses: keysToIncludeInResponse }
        })
      );
    }
  };
}

;// CONCATENATED MODULE: ./src/app/pages/rpc-get-addresses/rpc-get-addresses.tsx

















function RpcGetAddresses() {
  const { focusInitatingTab, origin, onUserApproveGetAddresses } = useGetAddresses();
  const index = (0,accounts_account/* useCurrentAccountIndex */.IR)();
  const stacksAccounts = (0,stacks_account_hooks/* useStacksAccounts */.Lh)();
  const stxAddress = stacksAccounts[index]?.address || "";
  const { data: name = "" } = (0,use_account_names/* useAccountDisplayName */.o)({ address: stxAddress, index });
  const bitcoinSigner = (0,native_segwit_account_hooks/* useNativeSegwitSigner */.KL)(index);
  const bitcoinAddress = bitcoinSigner?.(0).address || "";
  useOnOriginTabClose(() => (0,utils/* closeWindow */.Do)());
  const { toggleSwitchAccount } = (0,use_switch_account_sheet_context/* useSwitchAccountSheet */.A)();
  if (origin === null) {
    (0,utils/* closeWindow */.Do)();
    throw new Error("Origin is null");
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(
    GetAddressesLayout,
    {
      requester: origin,
      onClickRequestedByLink: focusInitatingTab,
      switchAccount: /* @__PURE__ */ (0,jsx_runtime.jsx)(
        AccountListItemLayout,
        {
          withChevron: true,
          accountAddresses: /* @__PURE__ */ (0,jsx_runtime.jsx)(AcccountAddresses, { index }),
          accountName: /* @__PURE__ */ (0,jsx_runtime.jsx)(AccountNameLayout, { isLoading: false, children: name }),
          avatar: /* @__PURE__ */ (0,jsx_runtime.jsx)(
            AccountAvatarItem,
            {
              index,
              publicKey: stacksAccounts[index]?.stxPublicKey || "",
              name
            }
          ),
          balanceLabel: (
            // Hack to center element without adjusting AccountListItemLayout
            /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Box */.az, { pos: "relative", top: 12, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(AccountTotalBalance, { stxAddress, btcAddress: bitcoinAddress }) })
          ),
          index: 0,
          isLoading: false,
          isSelected: false,
          onSelectAccount: () => toggleSwitchAccount()
        }
      ),
      onUserApprovesGetAddresses: onUserApproveGetAddresses
    }
  );
}

;// CONCATENATED MODULE: ./src/app/pages/rpc-send-transfer/components/send-transfer-details.tsx




function SendTransferDetails({ recipients, currentAddress }) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { width: "100%", children: recipients.map(({ address, amount }, index) => /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    jsx/* Stack */.BJ,
    {
      border: "active",
      borderRadius: "sm",
      gap: "space.04",
      p: "space.05",
      width: "100%",
      children: [
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", gap: "space.04", justifyContent: "space-between", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "caption.01", children: "From" }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.01", children: (0,utils_dist/* truncateMiddle */.kU)(currentAddress) })
        ] }),
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", gap: "space.04", justifyContent: "space-between", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "caption.01", children: "To" }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.01", children: (0,utils_dist/* truncateMiddle */.kU)(address) })
        ] }),
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", gap: "space.04", justifyContent: "space-between", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "caption.01", children: "Amount" }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.01", children: (0,utils_dist/* formatMoney */.up)(amount) })
        ] })
      ]
    },
    address + index
  )) });
}

;// CONCATENATED MODULE: ./src/app/pages/rpc-send-transfer/components/send-transfer-header.tsx





function SendTransferHeader({ amount, origin }) {
  const title = `Send ${amount}`;
  const caption = origin ? `Requested by ${origin}` : null;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Flex */.so, { flexDirection: "column", mb: "space.05", width: "100%", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.h1, { mb: "space.04", textStyle: "heading.03", children: title }),
    caption && /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Flag */.lN, { img: /* @__PURE__ */ (0,jsx_runtime.jsx)(favicon/* Favicon */.d, { origin }), pl: "space.02", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { textStyle: "label.02", wordBreak: "break-word", children: caption }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/rpc-send-transfer/use-rpc-send-transfer.ts










function useRpcSendTransferRequestParams() {
  const defaultParams = (0,use_default_request_search_params/* useDefaultRequestParams */.Y)();
  return (0,react.useMemo)(
    () => ({
      ...defaultParams,
      requestId: initial_search_params/* initialSearchParams */.VM.get("requestId") ?? "",
      recipientsAddresses: initial_search_params/* initialSearchParams */.VM.getAll("recipient") ?? [],
      amounts: initial_search_params/* initialSearchParams */.VM.getAll("amount") ?? []
    }),
    [defaultParams]
  );
}
function useRpcSendTransfer() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const { origin, recipientsAddresses, amounts } = useRpcSendTransferRequestParams();
  const { data: utxos = [], filteredUtxosQuery } = useCurrentNativeSegwitUtxos();
  const totalAmount = (0,utils_dist/* sumNumbers */.Ye)(amounts.map(Number));
  const amountAsMoney = (0,utils_dist/* createMoney */.j6)(new bignumber/* default */.A(totalAmount), "BTC");
  (0,use_on_mount/* useOnMount */.y)(() => filteredUtxosQuery.refetch());
  if (!origin) throw new Error("Invalid params");
  const recipients = recipientsAddresses.map((address, index) => ({
    address,
    amount: (0,utils_dist/* createMoney */.j6)(Number(amounts[index]), "BTC")
  }));
  return {
    recipients,
    origin,
    utxos,
    totalAmount,
    amountAsMoney,
    recipientsAddresses,
    async onChooseTransferFee() {
      navigate(route_urls/* RouteUrls */.W.RpcSendTransferChooseFee, {
        state: { recipients, utxos, amountAsMoney }
      });
    }
  };
}

;// CONCATENATED MODULE: ./src/app/pages/rpc-send-transfer/rpc-send-transfer.tsx











function RpcSendTransfer() {
  const nativeSegwitSigner = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitIndexZeroSigner */.sz)();
  const { recipients, recipientsAddresses, totalAmount, onChooseTransferFee, origin } = useRpcSendTransfer();
  const amountAsMoney = (0,utils_dist/* createMoney */.j6)(new bignumber/* default */.A(totalAmount), "BTC");
  const formattedMoney = (0,utils_dist/* formatMoneyPadded */.cN)(amountAsMoney);
  useBreakOnNonCompliantEntity(recipientsAddresses);
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(SendTransferHeader, { amount: formattedMoney, origin }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(SendTransferDetails, { recipients, currentAddress: nativeSegwitSigner.address }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardFooter */.Ur, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* Button */.$n, { borderRadius: "sm", flexGrow: 1, onClick: onChooseTransferFee, children: "Continue" }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/components/bitcoin-fees-list/use-bitcoin-fees-list-multiple-recipients.ts






function use_bitcoin_fees_list_multiple_recipients_getFeeForList(determineUtxosForFeeArgs, isSendingMax) {
  try {
    const { fee } = isSendingMax ? determineUtxosForSpendAll(determineUtxosForFeeArgs) : determineUtxosForSpend(determineUtxosForFeeArgs);
    return fee;
  } catch (error) {
    return null;
  }
}
function use_bitcoin_fees_list_multiple_recipients_useBitcoinFeesList({ amount, recipients, utxos }) {
  const btcMarketData = (0,query_dist/* useCryptoCurrencyMarketDataMeanAverage */.UoM)("BTC");
  const { data: feeRates, isLoading } = (0,query_dist/* useAverageBitcoinFeeRates */._iG)();
  const feesList = (0,react.useMemo)(() => {
    function getFiatFeeValue(fee) {
      return `~ ${(0,utils_dist/* i18nFormatCurrency */.Lx)(
        (0,utils_dist/* baseCurrencyAmountInQuote */.uE)((0,utils_dist/* createMoney */.j6)(Math.ceil(fee), "BTC"), btcMarketData)
      )}`;
    }
    if (!feeRates || !utxos.length) return [];
    const satAmount = amount.amount.toNumber();
    const determineUtxosDefaultArgs = {
      amount: satAmount,
      recipients,
      utxos
    };
    const determineUtxosForHighFeeArgs = {
      ...determineUtxosDefaultArgs,
      feeRate: feeRates.fastestFee.toNumber()
    };
    const determineUtxosForStandardFeeArgs = {
      ...determineUtxosDefaultArgs,
      feeRate: feeRates.halfHourFee.toNumber()
    };
    const determineUtxosForLowFeeArgs = {
      ...determineUtxosDefaultArgs,
      feeRate: feeRates.hourFee.toNumber()
    };
    const feesArr = [];
    const highFeeValue = use_bitcoin_fees_list_multiple_recipients_getFeeForList(determineUtxosForHighFeeArgs);
    const standardFeeValue = use_bitcoin_fees_list_multiple_recipients_getFeeForList(determineUtxosForStandardFeeArgs);
    const lowFeeValue = use_bitcoin_fees_list_multiple_recipients_getFeeForList(determineUtxosForLowFeeArgs);
    if (highFeeValue) {
      feesArr.push({
        label: models_dist/* BtcFeeType */.wJ.High,
        value: highFeeValue,
        btcValue: (0,utils_dist/* formatMoneyPadded */.cN)((0,utils_dist/* createMoney */.j6)(highFeeValue, "BTC")),
        time: models_dist/* btcTxTimeMap */.vH.fastestFee,
        fiatValue: getFiatFeeValue(highFeeValue),
        feeRate: feeRates.fastestFee.toNumber()
      });
    }
    if (standardFeeValue) {
      feesArr.push({
        label: models_dist/* BtcFeeType */.wJ.Standard,
        value: standardFeeValue,
        btcValue: (0,utils_dist/* formatMoneyPadded */.cN)((0,utils_dist/* createMoney */.j6)(standardFeeValue, "BTC")),
        time: models_dist/* btcTxTimeMap */.vH.halfHourFee,
        fiatValue: getFiatFeeValue(standardFeeValue),
        feeRate: feeRates.halfHourFee.toNumber()
      });
    }
    if (lowFeeValue) {
      feesArr.push({
        label: models_dist/* BtcFeeType */.wJ.Low,
        value: lowFeeValue,
        btcValue: (0,utils_dist/* formatMoneyPadded */.cN)((0,utils_dist/* createMoney */.j6)(lowFeeValue, "BTC")),
        time: models_dist/* btcTxTimeMap */.vH.hourFee,
        fiatValue: getFiatFeeValue(lowFeeValue),
        feeRate: feeRates.hourFee.toNumber()
      });
    }
    return feesArr;
  }, [amount.amount, btcMarketData, feeRates, recipients, utxos]);
  return {
    feesList,
    isLoading
  };
}

;// CONCATENATED MODULE: ./src/app/pages/rpc-send-transfer/rpc-send-transfer-container.tsx








function useRpcSendTransferState() {
  const context = (0,react_router_dist/* useOutletContext */.KC)();
  return { ...context };
}
function RpcSendTransferContainer() {
  const [selectedFeeType, setSelectedFeeType] = (0,react.useState)(null);
  const { origin } = useRpcSendTransfer();
  if (origin === null) {
    (0,utils/* closeWindow */.Do)();
    throw new Error("Origin is null");
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(popup_header/* PopupHeader */.s, { showSwitchAccount: true, balance: "all" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { alignItems: "center", flexDirection: "column", p: "space.05", width: "100%", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, { context: { selectedFeeType, setSelectedFeeType } }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/rpc-send-transfer/rpc-send-transfer-choose-fee.tsx














function useRpcSendTransferFeeState() {
  const amountAsMoney = useLocationStateWithCache("amountAsMoney");
  const recipients = useLocationStateWithCache("recipients");
  const utxos = useLocationStateWithCache("utxos");
  return { amountAsMoney, utxos, recipients };
}
function RpcSendTransferChooseFee() {
  const { selectedFeeType, setSelectedFeeType } = useRpcSendTransferState();
  const { amountAsMoney, utxos, recipients } = useRpcSendTransferFeeState();
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const generateTx = useGenerateUnsignedNativeSegwitTx();
  const signTransaction = (0,bitcoin_hooks/* useSignBitcoinTx */.nn)();
  const { feesList, isLoading } = use_bitcoin_fees_list_multiple_recipients_useBitcoinFeesList({
    amount: amountAsMoney,
    recipients,
    utxos
  });
  const recommendedFeeRate = feesList[1]?.feeRate.toString() || "";
  const { showInsufficientBalanceError, onValidateBitcoinFeeSpend } = useValidateBitcoinSpend();
  async function previewTransfer({ feeRate, feeValue, time, isCustomFee }) {
    const resp = await generateTx({ amount: amountAsMoney, recipients }, feeRate, utxos);
    if (!resp) return logger/* logger */.v.error("Attempted to generate raw tx, but no tx exists");
    const tx = await signTransaction(resp.psbt);
    tx.finalize();
    const feeRowValue = formFeeRowValue(feeRate, isCustomFee);
    navigate(route_urls/* RouteUrls */.W.RpcSendTransferConfirmation, {
      state: {
        fee: feeValue,
        recipients,
        time,
        tx: tx.hex,
        feeRowValue
      }
    });
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {}),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      BitcoinChooseFee,
      {
        amount: amountAsMoney,
        defaultToCustomFee: !feesList.length,
        feesList: /* @__PURE__ */ (0,jsx_runtime.jsx)(
          BitcoinFeesList,
          {
            feesList,
            isLoading,
            onChooseFee: previewTransfer,
            onValidateBitcoinSpend: onValidateBitcoinFeeSpend,
            onSetSelectedFeeType: (value) => setSelectedFeeType(value),
            selectedFeeType
          }
        ),
        isLoading,
        isSendingMax: false,
        onChooseFee: previewTransfer,
        onSetSelectedFeeType: (value) => setSelectedFeeType(value),
        onValidateBitcoinSpend: onValidateBitcoinFeeSpend,
        recipients,
        recommendedFeeRate,
        showError: showInsufficientBalanceError,
        maxRecommendedFeeRate: feesList[0]?.feeRate,
        px: "0"
      }
    )
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/rpc-send-transfer/components/send-transfer-confirmation-details.tsx




function SendTransferConfirmationDetails({
  currentAddress,
  recipient,
  amount
}) {
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { border: "active", borderRadius: "sm", p: "space.05", gap: "space.04", width: "100%", children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", gap: "space.04", justifyContent: "space-between", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { color: "ink.text-subdued", children: "From" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { children: currentAddress })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", gap: "space.04", justifyContent: "space-between", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { color: "ink.text-subdued", children: "To" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { children: recipient })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", gap: "space.04", justifyContent: "space-between", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { color: "ink.text-subdued", children: "Amount" }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { children: (0,utils_dist/* formatMoney */.up)(amount) })
    ] })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/rpc-send-transfer/rpc-send-transfer-confirmation.tsx


















const rpc_send_transfer_confirmation_symbol = "BTC";
function useRpcSendTransferConfirmationState() {
  const location = (0,react_router_dist/* useLocation */.zy)();
  return {
    fee: lodash_get_default()(location.state, "fee"),
    recipients: lodash_get_default()(location.state, "recipients"),
    time: lodash_get_default()(location.state, "time"),
    tx: lodash_get_default()(location.state, "tx"),
    feeRowValue: lodash_get_default()(location.state, "feeRowValue")
  };
}
function RpcSendTransferConfirmation() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const { origin, requestId, tabId } = useRpcSendTransferRequestParams();
  const { fee, recipients, time, tx, feeRowValue } = useRpcSendTransferConfirmationState();
  const bitcoinAddress = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitAddressIndexZero */.s8)();
  const { broadcastTx, isBroadcasting } = (0,query_dist/* useBitcoinBroadcastTransaction */.Zbx)();
  const { filteredUtxosQuery } = useCurrentNativeSegwitUtxos();
  const btcMarketData = (0,query_dist/* useCryptoCurrencyMarketDataMeanAverage */.UoM)("BTC");
  const psbt = (0,bitcoin_dist/* decodeBitcoinTx */.pr)(tx);
  const transferAmount = (0,utils_dist/* sumMoney */.M9)(recipients.map((r) => r.amount));
  const txFiatValue = (0,utils_dist/* i18nFormatCurrency */.Lx)((0,utils_dist/* baseCurrencyAmountInQuote */.uE)(transferAmount, btcMarketData));
  const txFiatValueSymbol = btcMarketData.price.symbol;
  const feeMoney = (0,utils_dist/* createMoney */.j6)(Number(fee), rpc_send_transfer_confirmation_symbol);
  const summaryFee = (0,utils_dist/* formatMoneyPadded */.cN)(feeMoney);
  const totalSpend = (0,utils_dist/* sumMoney */.M9)([transferAmount, feeMoney]);
  function formBtcTxSummaryState(txId) {
    return {
      txLink: {
        blockchain: "bitcoin",
        txid: txId || ""
      },
      txId,
      recipients,
      fee: summaryFee,
      txValue: (0,utils_dist/* formatMoneyWithoutSymbol */.gu)(transferAmount),
      arrivesIn: time,
      totalSpend: (0,utils_dist/* formatMoney */.up)(totalSpend),
      symbol: rpc_send_transfer_confirmation_symbol,
      sendingValue: (0,utils_dist/* formatMoney */.up)(transferAmount),
      txFiatValue,
      txFiatValueSymbol,
      feeRowValue
    };
  }
  async function onUserApproveSendTransferRequest() {
    if (!tabId || !origin) {
      logger/* logger */.v.error("Cannot send transfer: missing tabId, origin");
      return;
    }
    void analytics/* analytics */.zS.track("user_approved_send_transfer", { origin });
    await broadcastTx({
      tx,
      async onSuccess(txid) {
        void analytics/* analytics */.zS.track("broadcast_transaction", {
          symbol: "btc",
          amount: transferAmount,
          fee,
          inputs: psbt.inputs.length,
          outputs: psbt.inputs.length
        });
        await filteredUtxosQuery.refetch();
        chrome.tabs.sendMessage(
          tabId,
          (0,rpc_methods/* makeRpcSuccessResponse */.K)("sendTransfer", {
            id: requestId,
            result: { txid }
          })
        );
        navigate(route_urls/* RouteUrls */.W.RpcSendTransferSummary, {
          state: formBtcTxSummaryState(txid)
        });
      },
      onError(e) {
        logger/* logger */.v.error("Error broadcasting tx", e);
      }
    });
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { width: "100%", gap: 4, height: "100%", pb: "100px", children: [
      recipients.map((recipient, index) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
        SendTransferConfirmationDetails,
        {
          currentAddress: (0,utils_dist/* truncateMiddle */.kU)(bitcoinAddress),
          recipient: (0,utils_dist/* truncateMiddle */.kU)(recipient.address),
          amount: recipient.amount
        },
        index
      )),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { border: "active", borderRadius: "sm", p: "space.05", gap: "space.04", width: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", gap: "space.04", justifyContent: "space-between", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { color: "ink.text-subdued", children: "Fee" }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { children: feeRowValue })
        ] }),
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", gap: "space.04", justifyContent: "space-between", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { color: "ink.text-subdued", children: "Total amount" }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { children: (0,utils_dist/* formatMoney */.up)(totalSpend) })
        ] }),
        time && /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { alignItems: "center", gap: "space.04", justifyContent: "space-between", children: [
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { color: "ink.text-subdued", children: "Estimated time" }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* styled */.I4.span, { children: time })
        ] })
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardFooter */.Ur, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
      exports_web/* Button */.$n,
      {
        borderRadius: "sm",
        flexGrow: 1,
        "aria-busy": isBroadcasting,
        onClick: onUserApproveSendTransferRequest,
        children: "Send"
      }
    ) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/rpc-send-transfer/rpc-send-transfer-summary.tsx












function RpcSendTransferSummary() {
  const { state } = (0,react_router_dist/* useLocation */.zy)();
  const { handleOpenBitcoinTxLink: handleOpenTxLink } = useBitcoinExplorerLink();
  const toast = (0,use_toast/* useToast */.d)();
  const {
    txId,
    txValue,
    txFiatValue,
    txFiatValueSymbol,
    symbol,
    txLink,
    arrivesIn,
    sendingValue,
    recipients,
    feeRowValue,
    totalSpend
  } = state;
  const { onCopy } = useClipboard(txId);
  function onClickLink() {
    void analytics/* analytics */.zS.track("view_rpc_send_transfer_confirmation", { symbol: "BTC" });
    handleOpenTxLink(txLink);
  }
  function onClickCopy() {
    onCopy();
    toast.success("ID copied!");
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(layout/* Card */.Zp, { children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        info_card/* InfoCardAssetValue */.eT,
        {
          fiatSymbol: txFiatValueSymbol,
          fiatValue: txFiatValue,
          icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CheckmarkIcon */.Nr, { height: 36, width: 36 }),
          mb: "space.05",
          symbol,
          value: txValue
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { pb: "space.06", width: "100%", children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Stack */.BJ, { children: recipients.map((recipient, index) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
          info_card/* InfoCardRow */.Pn,
          {
            title: "To",
            value: /* @__PURE__ */ (0,jsx_runtime.jsx)(FormAddressDisplayer, { address: recipient.address })
          },
          index
        )) }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardSeparator */.ko, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Total spend", value: totalSpend }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Sending", value: sendingValue }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Fee", value: feeRowValue }),
        arrivesIn && /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Estimated confirmation time", value: arrivesIn })
      ] })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardFooter */.Ur, { children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { gap: "space.04", width: "100%", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        info_card/* InfoCardBtn */.nJ,
        {
          icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ExternalLinkIcon */.pT, { color: "ink.background-primary" }),
          label: "View details",
          onClick: onClickLink
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        info_card/* InfoCardBtn */.nJ,
        {
          icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CopyIcon */.Td, { color: "ink.background-primary" }),
          label: "Copy ID",
          onClick: onClickCopy
        }
      )
    ] }) })
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/rpc-send-transfer/rpc-send-transfer.routes.tsx











const rpcSendTransferRoutes = /* @__PURE__ */ (0,jsx_runtime.jsxs)(
  react_router_dist/* Route */.qh,
  {
    element: /* @__PURE__ */ (0,jsx_runtime.jsx)(account_gate/* AccountGate */.z0, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(RpcSendTransferContainer, {}) }),
    children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.RpcSendTransfer, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(RpcSendTransfer, {}) }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.RpcSendTransferChooseFee, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(RpcSendTransferChooseFee, {}), children: ledgerBitcoinTxSigningRoutes }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.RpcSendTransferConfirmation, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(RpcSendTransferConfirmation, {}) }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.RpcSendTransferSummary, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(RpcSendTransferSummary, {}) })
    ]
  }
);

// EXTERNAL MODULE: ./node_modules/.pnpm/@btckit+types@0.0.19/node_modules/@btckit/types/dist/index.mjs
var types_dist = __webpack_require__(75638);
;// CONCATENATED MODULE: ./src/app/pages/rpc-sign-psbt/use-rpc-sign-psbt.tsx















function useRpcSignPsbt() {
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const { broadcast, origin, psbtHex, requestId, signAtIndex, tabId } = useRpcSignPsbtParams();
  const { signPsbt, getPsbtAsTransaction } = usePsbtSigner();
  const { broadcastTx, isBroadcasting } = (0,query_dist/* useBitcoinBroadcastTransaction */.Zbx)();
  const { filteredUtxosQuery } = useCurrentNativeSegwitUtxos();
  const btcMarketData = (0,query_dist/* useCryptoCurrencyMarketDataMeanAverage */.UoM)("BTC");
  const calculateBitcoinFiatValue = (0,query_dist/* useCalculateBitcoinFiatValue */.$u_)();
  const getDefaultSigningConfig = (0,bitcoin_hooks/* useGetAssumedZeroIndexSigningConfig */.Z0)();
  if (!requestId || !psbtHex || !origin) throw new Error("Invalid params in useRpcSignPsbt");
  async function broadcastSignedPsbtTx({
    addressNativeSegwitTotal,
    addressTaprootTotal,
    fee,
    tx
  }) {
    void analytics/* analytics */.zS.track("user_approved_sign_and_broadcast_psbt", { origin });
    const transferTotalAsMoney = (0,utils_dist/* sumMoney */.M9)([addressNativeSegwitTotal, addressTaprootTotal]);
    await broadcastTx({
      tx,
      // skip utxos check for psbt txs
      skipSpendableCheckUtxoIds: "all",
      async onSuccess(txid) {
        await filteredUtxosQuery.refetch();
        const psbtTxSummaryState = {
          fee: (0,utils_dist/* formatMoneyPadded */.cN)(fee),
          sendingValue: (0,utils_dist/* formatMoney */.up)(transferTotalAsMoney),
          totalSpend: (0,utils_dist/* formatMoney */.up)((0,utils_dist/* sumMoney */.M9)([transferTotalAsMoney, fee])),
          txFiatValue: (0,utils_dist/* i18nFormatCurrency */.Lx)(calculateBitcoinFiatValue(transferTotalAsMoney)),
          txFiatValueSymbol: btcMarketData.price.symbol,
          txId: txid,
          txLink: {
            blockchain: "bitcoin",
            txId: txid || ""
          },
          txValue: (0,utils_dist/* formatMoney */.up)(transferTotalAsMoney)
        };
        navigate(route_urls/* RouteUrls */.W.RpcSignPsbtSummary, { state: psbtTxSummaryState });
      },
      onError(e) {
        navigate(route_urls/* RouteUrls */.W.RequestError, {
          state: { message: (0,utils_dist/* isError */.bJ)(e) ? e.message : "", title: "Failed to broadcast" }
        });
      }
    });
  }
  return {
    indexesToSign: signAtIndex,
    isBroadcasting,
    origin,
    psbtHex,
    async onSignPsbt({ addressNativeSegwitTotal, addressTaprootTotal, fee }) {
      const tx = getPsbtAsTransaction(psbtHex);
      try {
        const signedTx = await signPsbt({
          tx,
          signingConfig: getDefaultSigningConfig((0,hashes_esm_utils/* hexToBytes */.aT)(psbtHex), signAtIndex)
        });
        const psbt = signedTx.toPSBT();
        chrome.tabs.sendMessage(
          tabId,
          (0,rpc_methods/* makeRpcSuccessResponse */.K)("signPsbt", { id: requestId, result: { hex: (0,esm_utils/* bytesToHex */.My)(psbt) } })
        );
        if (broadcast && addressNativeSegwitTotal && addressTaprootTotal && fee) {
          try {
            signedTx.finalize();
          } catch (e) {
            return navigate(route_urls/* RouteUrls */.W.RequestError, {
              state: {
                message: (0,utils_dist/* isError */.bJ)(e) ? e.message : "",
                title: "Failed to finalize tx"
              }
            });
          }
          await broadcastSignedPsbtTx({
            addressNativeSegwitTotal,
            addressTaprootTotal,
            fee,
            tx: signedTx.hex
          });
          return;
        }
        (0,utils/* closeWindow */.Do)();
      } catch (e) {
        return navigate(route_urls/* RouteUrls */.W.RequestError, {
          state: { message: (0,utils_dist/* isError */.bJ)(e) ? e.message : "", title: "Failed to sign" }
        });
      }
    },
    onCancel() {
      chrome.tabs.sendMessage(
        tabId,
        (0,rpc_methods/* makeRpcErrorResponse */.h)("signPsbt", {
          id: requestId,
          error: {
            code: types_dist/* RpcErrorCode */.d.USER_REJECTION,
            message: "User rejected signing PSBT request"
          }
        })
      );
      (0,utils/* closeWindow */.Do)();
    }
  };
}

;// CONCATENATED MODULE: ./src/app/pages/rpc-sign-psbt/rpc-sign-psbt.tsx





function RpcSignPsbt() {
  const { indexesToSign, isBroadcasting, onSignPsbt, onCancel, origin, psbtHex } = useRpcSignPsbt();
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      PsbtSigner,
      {
        indexesToSign,
        isBroadcasting,
        origin,
        onSignPsbt,
        onCancel,
        psbtHex
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
  ] });
}

;// CONCATENATED MODULE: ./src/app/pages/rpc-sign-psbt/rpc-sign-psbt-summary.tsx











function RpcSignPsbtSummary() {
  const { state } = (0,react_router_dist/* useLocation */.zy)();
  const { handleOpenBitcoinTxLink: handleOpenTxLink } = useBitcoinExplorerLink();
  const toast = (0,use_toast/* useToast */.d)();
  const { fee, sendingValue, totalSpend, txId, txFiatValue, txFiatValueSymbol, txLink, txValue } = state;
  const { onCopy } = useClipboard(txId);
  function onClickLink() {
    void analytics/* analytics */.zS.track("view_rpc_sign_and_broadcast_psbt_confirmation", { symbol: "BTC" });
    handleOpenTxLink(txLink);
  }
  function onClickCopy() {
    onCopy();
    toast.success("ID copied!");
  }
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { alignItems: "center", flexDirection: "column", p: "space.05", width: "100%", children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(layout/* Card */.Zp, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      info_card/* InfoCardAssetValue */.eT,
      {
        fiatSymbol: txFiatValueSymbol,
        fiatValue: txFiatValue,
        icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CheckmarkIcon */.Nr, { height: 36, width: 36 }),
        mb: "space.05",
        value: txValue
      }
    ),
    /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* Stack */.BJ, { pb: "space.06", width: "100%", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Total spend", value: totalSpend }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Sending", value: sendingValue }),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardRow */.Pn, { title: "Fee", value: fee })
    ] }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(info_card/* InfoCardFooter */.Ur, { children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx/* HStack */.zt, { gap: "space.04", width: "100%", children: [
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        info_card/* InfoCardBtn */.nJ,
        {
          icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* ExternalLinkIcon */.pT, { color: "ink.background-primary" }),
          label: "View details",
          onClick: onClickLink
        }
      ),
      /* @__PURE__ */ (0,jsx_runtime.jsx)(
        info_card/* InfoCardBtn */.nJ,
        {
          icon: /* @__PURE__ */ (0,jsx_runtime.jsx)(exports_web/* CopyIcon */.Td, { color: "ink.background-primary" }),
          label: "Copy ID",
          onClick: onClickCopy
        }
      )
    ] }) })
  ] }) });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+network@6.13.0_encoding@0.1.13/node_modules/@stacks/network/dist/esm/network.js
var network = __webpack_require__(67689);
;// CONCATENATED MODULE: ./src/app/pages/rpc-sign-stacks-message/use-rpc-sign-stacks-message.ts
/* provided dependency */ var use_rpc_sign_stacks_message_Buffer = __webpack_require__(84686)["Buffer"];












function getNetwork(networkName) {
  if (networkName === "mainnet" || networkName === "testnet" || networkName === "devnet" || networkName === "mocknet") {
    return network/* StacksNetwork */.Wf.fromName(networkName);
  }
  return;
}
function useRpcStacksMessagePayload() {
  const { messageType, message, network, appName, domain } = useRpcSignStacksMessageParams();
  if ((0,signature_types/* isUtf8MessageType */.Ph)(messageType)) {
    return {
      messageType: "utf8",
      message,
      network: getNetwork(network),
      appName
    };
  }
  if ((0,signature_types/* isStructuredMessageType */.X5)(messageType)) {
    if (!domain) return null;
    return {
      messageType: "structured",
      message: (0,deserialize/* default */.A)(use_rpc_sign_stacks_message_Buffer.from(message, "hex")),
      domain: (0,deserialize/* default */.A)(use_rpc_sign_stacks_message_Buffer.from(domain, "hex")),
      network: getNetwork(network),
      appName
    };
  }
  return null;
}
function useRpcSignStacksMessageParams() {
  const { origin, tabId } = (0,use_default_request_search_params/* useDefaultRequestParams */.Y)();
  const requestId = initial_search_params/* initialSearchParams */.VM.get("requestId");
  const network = initial_search_params/* initialSearchParams */.VM.get("network");
  const appName = initial_search_params/* initialSearchParams */.VM.get("appName");
  const message = initial_search_params/* initialSearchParams */.VM.get("message");
  const messageType = initial_search_params/* initialSearchParams */.VM.get("messageType");
  const domain = initial_search_params/* initialSearchParams */.VM.get("domain");
  if (!requestId || !message || !origin || !(0,signature_types/* isSignableMessageType */.nY)(messageType))
    throw new Error("Missing required parameters for Stacks signing message request");
  return (0,react.useMemo)(
    () => ({
      origin,
      tabId: tabId ?? 0,
      requestId,
      network,
      message,
      messageType,
      appName,
      domain
    }),
    [origin, requestId, network, message, messageType, tabId, appName, domain]
  );
}
function useRpcSignStacksMessage() {
  const { tabId, requestId } = useRpcSignStacksMessageParams();
  if (!tabId) throw new Error("Requests can only be made with corresponding tab");
  const { isLoading, signMessage } = useSignStacksMessage({
    onSignMessageCompleted(messageSignature) {
      chrome.tabs.sendMessage(
        tabId,
        (0,rpc_methods/* makeRpcSuccessResponse */.K)("stx_signMessage", {
          id: requestId,
          result: { signature: messageSignature.signature }
        })
      );
      (0,utils/* closeWindow */.Do)();
    },
    onSignMessageCancelled: onCancelMessageSigning
  });
  function onCancelMessageSigning() {
    if (!requestId || !tabId) return;
    void analytics/* analytics */.zS.track("request_signature_cancel");
    chrome.tabs.sendMessage(
      tabId,
      (0,rpc_methods/* makeRpcErrorResponse */.h)("stx_signMessage", {
        id: requestId,
        error: {
          message: "User denied signing",
          code: types_dist/* RpcErrorCode */.d.USER_REJECTION
        }
      })
    );
    (0,utils/* closeWindow */.Do)();
  }
  return { isLoading, signMessage, onCancelMessageSigning };
}

;// CONCATENATED MODULE: ./src/app/pages/rpc-sign-stacks-message/rpc-sign-stacks-message.tsx






function RpcStacksMessageSigning() {
  const { requestId, messageType, tabId, origin } = useRpcSignStacksMessageParams();
  const { isLoading, signMessage, onCancelMessageSigning } = useRpcSignStacksMessage();
  const payload = useRpcStacksMessagePayload();
  if (!requestId || !tabId) return null;
  if (!(0,signature_types/* isSignableMessageType */.nY)(messageType)) return null;
  if (!origin) return null;
  if (!payload) return null;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(popup_header/* PopupHeader */.s, { showSwitchAccount: true, balance: "stx" }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(
      StacksMessageSigning,
      {
        payload,
        isLoading,
        onSignMessage: signMessage,
        onCancelMessageSigning,
        messageType,
        tabId,
        origin
      }
    )
  ] });
}

;// CONCATENATED MODULE: ./src/app/features/stacks-transaction-request/stacks-transaction-signer.tsx































function StacksTransactionSigner({
  stacksTransaction,
  disableFeeSelection,
  disableNonceSelection,
  onSignStacksTransaction,
  isMultisig
}) {
  const transactionRequest = (0,requests_hooks/* useTransactionRequestState */.o)();
  const { data: stxFees } = (0,query_dist/* useCalculateStacksTxFees */.mkG)(stacksTransaction);
  const stxAddress = (0,stacks_account_hooks/* useCurrentStacksAccountAddress */.$3)();
  const { filteredBalanceQuery } = (0,query_dist/* useStxCryptoAssetBalance */.szK)(stxAddress);
  const availableUnlockedBalance = filteredBalanceQuery.data?.availableUnlockedBalance;
  const navigate = (0,react_router_dist/* useNavigate */.Zp)();
  const { data: nextNonce, status: nonceQueryStatus } = (0,query_dist/* useNextNonce */.eIk)(stxAddress);
  const canSubmit = filteredBalanceQuery.status === "success" && nonceQueryStatus === "success";
  const { search } = (0,react_router_dist/* useLocation */.zy)();
  (0,use_on_mount/* useOnMount */.y)(() => {
    void analytics/* analytics */.zS.track("view_transaction_signing"), [];
  });
  async function onSubmit(values, formikHelpers) {
    formikHelpers.setSubmitting(true);
    await onSignStacksTransaction((0,utils_dist/* stxToMicroStx */.Ey)(values.fee).toNumber(), Number(values.nonce));
    formikHelpers.setSubmitting(false);
  }
  if (!transactionRequest) return null;
  const validationSchema = !transactionRequest.sponsored && !disableFeeSelection && !isMultisig ? yup_index_esm/* object */.Ik({
    fee: stxFeeValidator(availableUnlockedBalance),
    nonce: nonceValidator
  }) : yup_index_esm/* object */.Ik({
    nonce: nonceValidator
  });
  const isNonceAlreadySet = !Number.isNaN(transactionRequest.nonce);
  const initialValues = {
    fee: "",
    feeCurrency: "STX",
    feeType: models_dist/* FeeTypes */.MR[models_dist/* FeeTypes */.MR.Middle],
    nonce: isNonceAlreadySet ? transactionRequest.nonce : nextNonce?.nonce
  };
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(jsx/* Flex */.so, { alignItems: "center", flexDirection: "column", p: "space.05", width: "100%", children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    formik_esm/* Formik */.l1,
    {
      initialValues,
      onSubmit,
      validateOnChange: false,
      validateOnBlur: false,
      validateOnMount: false,
      validationSchema,
      children: () => /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(PageTop, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(RequestingTabClosedWarningMessage, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(PostConditionModeWarning, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(TransactionError, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(PostConditions, {}),
        transactionRequest.txType === "contract_call" && /* @__PURE__ */ (0,jsx_runtime.jsx)(ContractCallDetails, {}),
        transactionRequest.txType === "token_transfer" && /* @__PURE__ */ (0,jsx_runtime.jsx)(StxTransferDetails, {}),
        transactionRequest.txType === "smart_contract" && /* @__PURE__ */ (0,jsx_runtime.jsx)(ContractDeployDetails, {}),
        !isNonceAlreadySet && /* @__PURE__ */ (0,jsx_runtime.jsx)(NonceSetter, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(
          FeeForm,
          {
            fees: stxFees,
            defaultFeeValue: Number(transactionRequest?.fee || 0),
            disableFeeSelection
          }
        ),
        !disableNonceSelection && /* @__PURE__ */ (0,jsx_runtime.jsx)(
          exports_web/* Link */.N_,
          {
            alignSelf: "flex-end",
            my: "space.04",
            onClick: () => navigate(route_urls/* RouteUrls */.W.EditNonce + search),
            children: "Edit nonce"
          }
        ),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(MinimalErrorMessage, {}),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(StacksTxSubmitAction, { canSubmit }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(HighFeeSheet, { learnMoreUrl: constants_dist/* HIGH_FEE_WARNING_LEARN_MORE_URL_STX */.W_ }),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {})
      ] })
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/pages/rpc-sign-stacks-transaction/use-rpc-sign-stacks-transaction.ts











function useRpcSignStacksTransactionParams() {
  const { origin, tabId } = (0,use_default_request_search_params/* useDefaultRequestParams */.Y)();
  const requestId = initial_search_params/* initialSearchParams */.VM.get("requestId");
  const txHex = initial_search_params/* initialSearchParams */.VM.get("txHex");
  const isMultisig = initial_search_params/* initialSearchParams */.VM.get("isMultisig");
  if (!requestId || !txHex || !origin) throw new Error("Invalid params");
  return (0,react.useMemo)(
    () => ({
      origin,
      tabId: tabId ?? 0,
      requestId,
      isMultisig: isMultisig === "true",
      stacksTransaction: (0,dist_esm_transaction/* deserializeTransaction */.q)(txHex),
      txSender: getTxSenderAddress((0,dist_esm_transaction/* deserializeTransaction */.q)(txHex)) ?? ""
    }),
    [origin, txHex, requestId, isMultisig, tabId]
  );
}
function useRpcSignStacksTransaction() {
  const { origin, requestId, tabId, stacksTransaction, isMultisig, txSender } = useRpcSignStacksTransactionParams();
  const signStacksTx = useSignStacksTransaction();
  const wasSignedByOtherOwners = isMultisig && stacksTransaction.auth.spendingCondition.fields?.length > 0;
  return {
    origin,
    disableFeeSelection: wasSignedByOtherOwners,
    disableNonceSelection: wasSignedByOtherOwners,
    stacksTransaction,
    isMultisig,
    txSender,
    async onSignStacksTransaction(fee, nonce) {
      stacksTransaction.setFee(fee);
      stacksTransaction.setNonce(nonce);
      const signedTransaction = await signStacksTx(stacksTransaction);
      if (!signedTransaction) {
        throw new Error("Error signing stacks transaction");
      }
      chrome.tabs.sendMessage(
        tabId,
        (0,rpc_methods/* makeRpcSuccessResponse */.K)("stx_signTransaction", {
          id: requestId,
          result: {
            txHex: (0,esm_utils/* bytesToHex */.My)(signedTransaction.serialize())
          }
        })
      );
      (0,utils/* closeWindow */.Do)();
    },
    onCancel() {
      chrome.tabs.sendMessage(
        tabId,
        (0,rpc_methods/* makeRpcErrorResponse */.h)("stx_signTransaction", {
          id: requestId,
          error: {
            message: "User denied signing stacks transaction",
            code: types_dist/* RpcErrorCode */.d.USER_REJECTION
          }
        })
      );
    }
  };
}

;// CONCATENATED MODULE: ./src/app/pages/rpc-sign-stacks-transaction/rpc-sign-stacks-transaction.tsx






function RpcSignStacksTransaction() {
  const {
    onSignStacksTransaction,
    onCancel,
    disableFeeSelection,
    stacksTransaction,
    disableNonceSelection,
    isMultisig,
    txSender
  } = useRpcSignStacksTransaction();
  useBreakOnNonCompliantEntity(txSender);
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(StacksHighFeeWarningContainer, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    StacksTransactionSigner,
    {
      onSignStacksTransaction,
      onCancel,
      isMultisig,
      stacksTransaction,
      disableFeeSelection,
      disableNonceSelection
    }
  ) });
}

;// CONCATENATED MODULE: ./src/app/routes/rpc-routes.tsx

















const rpcRequestRoutes = /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    react_router_dist/* Route */.qh,
    {
      path: route_urls/* RouteUrls */.W.RpcGetAddresses,
      element: /* @__PURE__ */ (0,jsx_runtime.jsx)(account_gate/* AccountGate */.z0, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(RpcGetAddresses, {}) })
    }
  ),
  rpcSendTransferRoutes,
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    react_router_dist/* Route */.qh,
    {
      path: route_urls/* RouteUrls */.W.RpcSignBip322Message,
      lazy: async () => {
        const { RpcSignBip322MessageRoute } = await __webpack_require__.e(/* import() */ 826).then(__webpack_require__.bind(__webpack_require__, 5826));
        return { Component: RpcSignBip322MessageRoute };
      },
      children: ledgerBitcoinTxSigningRoutes
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    react_router_dist/* Route */.qh,
    {
      path: route_urls/* RouteUrls */.W.RpcSignPsbt,
      element: /* @__PURE__ */ (0,jsx_runtime.jsx)(account_gate/* AccountGate */.z0, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(RpcSignPsbt, {}) }),
      children: ledgerBitcoinTxSigningRoutes
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    react_router_dist/* Route */.qh,
    {
      path: route_urls/* RouteUrls */.W.RpcSignPsbtSummary,
      element: /* @__PURE__ */ (0,jsx_runtime.jsx)(account_gate/* AccountGate */.z0, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(RpcSignPsbtSummary, {}) })
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsx)(
    react_router_dist/* Route */.qh,
    {
      path: route_urls/* RouteUrls */.W.RpcStacksSignature,
      element: /* @__PURE__ */ (0,jsx_runtime.jsx)(account_gate/* AccountGate */.z0, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(react.Suspense, { fallback: /* @__PURE__ */ (0,jsx_runtime.jsx)(SuspenseLoadingSpinner, {}), children: /* @__PURE__ */ (0,jsx_runtime.jsx)(RpcStacksMessageSigning, {}) }) }),
      children: ledgerStacksMessageSigningRoutes
    }
  ),
  /* @__PURE__ */ (0,jsx_runtime.jsxs)(
    react_router_dist/* Route */.qh,
    {
      path: route_urls/* RouteUrls */.W.RpcSignStacksTransaction,
      element: /* @__PURE__ */ (0,jsx_runtime.jsx)(account_gate/* AccountGate */.z0, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(RpcSignStacksTransaction, {}) }),
      children: [
        ledgerStacksTxSigningRoutes,
        /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.EditNonce, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(EditNonceSheet, {}) })
      ]
    }
  )
] });

// EXTERNAL MODULE: ./src/app/routes/onboarding-gate.tsx
var onboarding_gate = __webpack_require__(86725);
;// CONCATENATED MODULE: ./src/app/routes/app-routes.tsx














































function SuspenseLoadingSpinner() {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(LoadingSpinner, { height: "600px" });
}
function AppRoutes() {
  const routes = useAppRoutes();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dom_dist/* RouterProvider */.pg, { router: routes });
}
const sentryCreateBrowserRouter = reactrouterv6/* wrapCreateBrowserRouter */.gu(react_router_dom_dist/* createHashRouter */.Ge);
const homePageModalRoutes = /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
  receiveRoutes,
  ledgerStacksTxSigningRoutes,
  ledgerBitcoinTxSigningRoutes,
  requestBitcoinKeysRoutes,
  requestStacksKeysRoutes,
  sendOrdinalRoutes
] });
function useAppRoutes() {
  return sentryCreateBrowserRouter(
    (0,react_router_dist/* createRoutesFromElements */.Eu)(
      /* @__PURE__ */ (0,jsx_runtime.jsxs)(react_router_dist/* Route */.qh, { element: /* @__PURE__ */ (0,jsx_runtime.jsx)(Container, {}), children: [
        /* @__PURE__ */ (0,jsx_runtime.jsxs)(react_router_dist/* Route */.qh, { errorElement: /* @__PURE__ */ (0,jsx_runtime.jsx)(RouterErrorBoundary, {}), children: [
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(
            react_router_dist/* Route */.qh,
            {
              element: /* @__PURE__ */ (0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [
                /* @__PURE__ */ (0,jsx_runtime.jsx)(HomeHeader, {}),
                /* @__PURE__ */ (0,jsx_runtime.jsx)(content_layout/* Content */.U, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(SwitchAccountLayout, {}) })
              ] }),
              children: [
                /* @__PURE__ */ (0,jsx_runtime.jsx)(
                  react_router_dist/* Route */.qh,
                  {
                    path: "/*",
                    element: /* @__PURE__ */ (0,jsx_runtime.jsx)(account_gate/* AccountGate */.z0, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(Home, {}) }),
                    children: homePageModalRoutes
                  }
                ),
                /* @__PURE__ */ (0,jsx_runtime.jsx)(
                  react_router_dist/* Route */.qh,
                  {
                    path: route_urls/* RouteUrls */.W.RetrieveTaprootFunds,
                    element: /* @__PURE__ */ (0,jsx_runtime.jsx)(RetrieveTaprootToNativeSegwit, {})
                  }
                ),
                /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.IncreaseStxFee, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(IncreaseStxFeeSheet, {}), children: ledgerStacksTxSigningRoutes }),
                /* @__PURE__ */ (0,jsx_runtime.jsx)(
                  react_router_dist/* Route */.qh,
                  {
                    path: `${route_urls/* RouteUrls */.W.IncreaseStxFee}/${route_urls/* RouteUrls */.W.TransactionBroadcastError}`,
                    element: /* @__PURE__ */ (0,jsx_runtime.jsx)(BroadcastError, {})
                  }
                ),
                /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.IncreaseBtcFee, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(IncreaseBtcFeeSheet, {}), children: ledgerBitcoinTxSigningRoutes }),
                ledgerStacksTxSigningRoutes
              ]
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            react_router_dist/* Route */.qh,
            {
              path: route_urls/* RouteUrls */.W.RetrieveTaprootFunds,
              element: /* @__PURE__ */ (0,jsx_runtime.jsx)(RetrieveTaprootToNativeSegwit, {})
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.IncreaseStxFee, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(IncreaseStxFeeSheet, {}), children: ledgerStacksTxSigningRoutes }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            react_router_dist/* Route */.qh,
            {
              path: `${route_urls/* RouteUrls */.W.IncreaseStxFee}/${route_urls/* RouteUrls */.W.TransactionBroadcastError}`,
              element: /* @__PURE__ */ (0,jsx_runtime.jsx)(BroadcastError, {})
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.IncreaseBtcFee, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(IncreaseBtcFeeSheet, {}), children: ledgerBitcoinTxSigningRoutes }),
          ledgerStacksTxSigningRoutes,
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            react_router_dist/* Route */.qh,
            {
              path: route_urls/* RouteUrls */.W.AddNetwork,
              element: /* @__PURE__ */ (0,jsx_runtime.jsx)(account_gate/* AccountGate */.z0, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(AddNetwork, {}) })
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            react_router_dist/* Route */.qh,
            {
              path: route_urls/* RouteUrls */.W.EditNetwork,
              element: /* @__PURE__ */ (0,jsx_runtime.jsx)(account_gate/* AccountGate */.z0, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(EditNetwork, {}) })
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(
            react_router_dist/* Route */.qh,
            {
              path: route_urls/* RouteUrls */.W.Fund,
              element: /* @__PURE__ */ (0,jsx_runtime.jsx)(account_gate/* AccountGate */.z0, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(FundPage, {}) }),
              children: [
                /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.ReceiveStx, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(ReceiveStxModal, {}) }),
                /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.ReceiveBtc, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(ReceiveBtcModal, {}) })
              ]
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            react_router_dist/* Route */.qh,
            {
              path: route_urls/* RouteUrls */.W.FundChooseCurrency,
              element: /* @__PURE__ */ (0,jsx_runtime.jsx)(account_gate/* AccountGate */.z0, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(ChooseCryptoAssetToFund, {}) }),
              children: /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.ReceiveStx, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(ReceiveStxModal, {}) })
            }
          ),
          sendCryptoAssetFormRoutes,
          /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.Unlock, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(Unlock, {}), children: leatherIntroSheetRoutes }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.UnauthorizedRequest, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(UnauthorizedRequest, {}) }),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            react_router_dist/* Route */.qh,
            {
              path: route_urls/* RouteUrls */.W.RequestError,
              element: /* @__PURE__ */ (0,jsx_runtime.jsx)(account_gate/* AccountGate */.z0, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(RequestError, {}) })
            }
          ),
          bitflowSwapRoutes,
          /* @__PURE__ */ (0,jsx_runtime.jsxs)(
            react_router_dist/* Route */.qh,
            {
              path: route_urls/* RouteUrls */.W.Onboarding,
              element: /* @__PURE__ */ (0,jsx_runtime.jsx)(onboarding_gate/* OnboardingGate */.L, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(WelcomePage, {}) }),
              children: [
                /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: route_urls/* RouteUrls */.W.ConnectLedgerStart, element: /* @__PURE__ */ (0,jsx_runtime.jsx)(ConnectLedgerStart, {}) }),
                /* @__PURE__ */ (0,jsx_runtime.jsx)(
                  react_router_dist/* Route */.qh,
                  {
                    path: route_urls/* RouteUrls */.W.LedgerUnsupportedBrowser,
                    element: /* @__PURE__ */ (0,jsx_runtime.jsx)(UnsupportedBrowserLayout, {})
                  }
                ),
                requestBitcoinKeysRoutes,
                requestStacksKeysRoutes
              ]
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            react_router_dist/* Route */.qh,
            {
              path: route_urls/* RouteUrls */.W.BackUpSecretKey,
              element: /* @__PURE__ */ (0,jsx_runtime.jsx)(onboarding_gate/* OnboardingGate */.L, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(BackUpSecretKeyPage, {}) })
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            react_router_dist/* Route */.qh,
            {
              path: route_urls/* RouteUrls */.W.SetPassword,
              lazy: async () => {
                const { SetPasswordRoute } = await __webpack_require__.e(/* import() */ 745).then(__webpack_require__.bind(__webpack_require__, 62745));
                return { Component: SetPasswordRoute };
              }
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            react_router_dist/* Route */.qh,
            {
              path: route_urls/* RouteUrls */.W.SignIn,
              element: /* @__PURE__ */ (0,jsx_runtime.jsx)(onboarding_gate/* OnboardingGate */.L, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(SignIn, {}) })
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            react_router_dist/* Route */.qh,
            {
              path: route_urls/* RouteUrls */.W.ViewSecretKey,
              element: /* @__PURE__ */ (0,jsx_runtime.jsx)(account_gate/* AccountGate */.z0, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(ViewSecretKey, {}) })
            }
          ),
          /* @__PURE__ */ (0,jsx_runtime.jsx)(
            react_router_dist/* Route */.qh,
            {
              path: route_urls/* RouteUrls */.W.ChooseAccount,
              element: /* @__PURE__ */ (0,jsx_runtime.jsx)(account_gate/* AccountGate */.z0, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(ChooseAccount, {}) }),
              children: ledgerJwtSigningRoutes
            }
          ),
          legacyRequestRoutes,
          rpcRequestRoutes
        ] }, "error"),
        /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: "*", element: /* @__PURE__ */ (0,jsx_runtime.jsx)(react_router_dist/* Navigate */.C5, { replace: true, to: route_urls/* RouteUrls */.W.Onboarding }) })
      ] })
    )
  );
}

;// CONCATENATED MODULE: ./config/wallet-config.json
const wallet_config_namespaceObject = /*#__PURE__*/JSON.parse('{"$schema":"./wallet-config.schema.json","messages":{"global":[]},"activeFiatProviders":{"coinbase":{"availableRegions":"global","enabled":true,"hasFastCheckoutProcess":true,"hasTradingFees":true,"name":"Coinbase"},"moonPay":{"availableRegions":"global","enabled":true,"hasFastCheckoutProcess":true,"hasTradingFees":true,"name":"MoonPay"},"transak":{"availableRegions":"global","enabled":true,"hasFastCheckoutProcess":true,"hasTradingFees":true,"name":"Transak"},"binance":{"availableRegions":"global","enabled":true,"hasFastCheckoutProcess":false,"hasTradingFees":true,"name":"Binance"},"blockchainCom":{"availableRegions":"global","enabled":true,"hasFastCheckoutProcess":false,"hasTradingFees":true,"name":"Blockchain.com"},"byBit":{"availableRegions":"outside-usa-only","enabled":true,"hasFastCheckoutProcess":false,"hasTradingFees":true,"name":"ByBit"},"cryptoCom":{"availableRegions":"global","enabled":true,"hasFastCheckoutProcess":false,"hasTradingFees":true,"name":"Crypto.com"},"gateIo":{"availableRegions":"outside-usa-only","enabled":true,"hasFastCheckoutProcess":false,"hasTradingFees":true,"name":"Gate.io"},"kuCoin":{"availableRegions":"outside-usa-only","enabled":true,"hasFastCheckoutProcess":false,"hasTradingFees":true,"name":"KuCoin"},"okx":{"availableRegions":"outside-usa-only","enabled":true,"hasFastCheckoutProcess":false,"hasTradingFees":true,"name":"OKX"}},"bitcoinEnabled":true,"bitcoinSendEnabled":true,"feeEstimations":{"maxValues":[500000,750000,2000000],"maxValuesEnabled":false,"minValues":[2500,3000,3500],"minValuesEnabled":true},"nftMetadataEnabled":true,"ordinalsbot":{"integrationEnabled":true,"mainnetApiUrl":"https://api2.ordinalsbot.com","signetApiUrl":"https://signet.ordinalsbot.com"},"recoverUninscribedTaprootUtxosFeatureEnabled":true,"runesEnabled":true,"swapsEnabled":true,"tokensEnabledByDefault":["DOGGOTOTHEMOON","RSICGENESISRUNE","PUPSWORLDPEACE","UNCOMMONGOODS","SP3NE50GEXFG9SZGTT51P40X2CKYSZ5CC4ZTZ7A2G.welshcorgicoin-token::welshcorgicoin","SP1AY6K3PQV5MRT6R4S671NWW2FRVPKM0BR162CT6.leo-token::leo","SP466FNC0P7JWTNM2R9T199QRZN1MYEDTAR0KP27.miamicoin-token::miamicoin","SP3Y2ZSH8P7D50B0VBTSX11S7XSG24M1VB9YFQA4K.token-aeusdc::aeusdc","SP2XD7417HGPRTREMKF748VNEQPDRR0RMANB7X1NK.token-abtc::bridged-btc","SP2XD7417HGPRTREMKF748VNEQPDRR0RMANB7X1NK.token-susdt::bridged-usdt","SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM.token-alex::alex","SM26NBC8SFHNW4P1Y4DFH27974P56WN86C92HPEHH.token-lqstx::lqstx","SP1Y5YSTAHZ88XYK1VPDH24GY0HPX5J4JECTMY4A1.velar-token::velar","SP4SZE494VC2YC5JYG7AYFQ44F5Q4PYV7DVMDPBG.ststx-token::ststx","SP2C2YFP12AJZB4MABJBAJ55XECVS7E4PMMZ89YZR.arkadiko-token::diko"]}');
// EXTERNAL MODULE: ./node_modules/.pnpm/style-loader@3.3.4_webpack@5.94.0_@swc+core@1.7.18_esbuild@0.24.0_webpack-cli@5.1.4_webpack-b_mgxsraw35mardbg5xftwawih6e/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js
var injectStylesIntoStyleTag = __webpack_require__(78254);
var injectStylesIntoStyleTag_default = /*#__PURE__*/__webpack_require__.n(injectStylesIntoStyleTag);
// EXTERNAL MODULE: ./node_modules/.pnpm/style-loader@3.3.4_webpack@5.94.0_@swc+core@1.7.18_esbuild@0.24.0_webpack-cli@5.1.4_webpack-b_mgxsraw35mardbg5xftwawih6e/node_modules/style-loader/dist/runtime/styleDomAPI.js
var styleDomAPI = __webpack_require__(25863);
var styleDomAPI_default = /*#__PURE__*/__webpack_require__.n(styleDomAPI);
// EXTERNAL MODULE: ./node_modules/.pnpm/style-loader@3.3.4_webpack@5.94.0_@swc+core@1.7.18_esbuild@0.24.0_webpack-cli@5.1.4_webpack-b_mgxsraw35mardbg5xftwawih6e/node_modules/style-loader/dist/runtime/insertBySelector.js
var insertBySelector = __webpack_require__(81165);
var insertBySelector_default = /*#__PURE__*/__webpack_require__.n(insertBySelector);
// EXTERNAL MODULE: ./node_modules/.pnpm/style-loader@3.3.4_webpack@5.94.0_@swc+core@1.7.18_esbuild@0.24.0_webpack-cli@5.1.4_webpack-b_mgxsraw35mardbg5xftwawih6e/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js
var setAttributesWithoutAttributes = __webpack_require__(41438);
var setAttributesWithoutAttributes_default = /*#__PURE__*/__webpack_require__.n(setAttributesWithoutAttributes);
// EXTERNAL MODULE: ./node_modules/.pnpm/style-loader@3.3.4_webpack@5.94.0_@swc+core@1.7.18_esbuild@0.24.0_webpack-cli@5.1.4_webpack-b_mgxsraw35mardbg5xftwawih6e/node_modules/style-loader/dist/runtime/insertStyleElement.js
var insertStyleElement = __webpack_require__(59386);
var insertStyleElement_default = /*#__PURE__*/__webpack_require__.n(insertStyleElement);
// EXTERNAL MODULE: ./node_modules/.pnpm/style-loader@3.3.4_webpack@5.94.0_@swc+core@1.7.18_esbuild@0.24.0_webpack-cli@5.1.4_webpack-b_mgxsraw35mardbg5xftwawih6e/node_modules/style-loader/dist/runtime/styleTagTransform.js
var styleTagTransform = __webpack_require__(41599);
var styleTagTransform_default = /*#__PURE__*/__webpack_require__.n(styleTagTransform);
// EXTERNAL MODULE: ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.94.0_@swc+core@1.7.18_esbuild@0.24.0_webpack-cli@5.1.4_webpack-bun_pmkgp2ksjqwfhthqj2qrdfhw2a/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@8.1.1_postcss@8.4.47_typescript@5.4.5_webpack@5.94.0_@swc+core@1.7.18_esbuild@_4dscbi2loczejmyghwnzpcglx4/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[0].use[2]!./src/app/index.css
var app = __webpack_require__(60174);
;// CONCATENATED MODULE: ./src/app/index.css

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (styleTagTransform_default());
options.setAttributes = (setAttributesWithoutAttributes_default());

      options.insert = insertBySelector_default().bind(null, "head");
    
options.domAPI = (styleDomAPI_default());
options.insertStyleElement = (insertStyleElement_default());

var update = injectStylesIntoStyleTag_default()(app/* default */.A, options);




       /* harmony default export */ const src_app = (app/* default */.A && app/* default */.A.locals ? app/* default */.A.locals : undefined);

;// CONCATENATED MODULE: ./src/app/app.tsx





















const reactQueryDevToolsEnabled = "MISSING_ENV_VAR".REACT_QUERY_DEVTOOLS_ENABLED === "true";
function ConnectedApp() {
  const network = (0,networks_selectors/* useCurrentNetwork */.Rm)();
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(QueryClientProvider/* QueryClientProvider */.Ht, { client: persistence/* queryClient */.q, children: /* @__PURE__ */ (0,jsx_runtime.jsx)(
    query_dist/* LeatherQueryProvider */.Lyf,
    {
      client: persistence/* queryClient */.q,
      network,
      environment: {
        env: environment/* WALLET_ENVIRONMENT */.c8,
        github: {
          org: constants/* GITHUB_ORG */.LA,
          repo: constants/* GITHUB_REPO */.Dy,
          branchName: environment/* BRANCH_NAME */.P9,
          localConfig: wallet_config_namespaceObject
        }
      },
      children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(react.Suspense, { fallback: /* @__PURE__ */ (0,jsx_runtime.jsx)(FullPageLoadingSpinner, {}), children: [
        /* @__PURE__ */ (0,jsx_runtime.jsx)(AppRoutes, {}),
        reactQueryDevToolsEnabled && /* @__PURE__ */ (0,jsx_runtime.jsx)(Devtools, {})
      ] })
    }
  ) });
}
function App() {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(react_redux/* Provider */.Kq, { store: store/* store */.M_, children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(integration_react/* PersistGate */.Q, { loading: /* @__PURE__ */ (0,jsx_runtime.jsx)(FullPageLoadingSpinner, {}), persistor: store/* persistor */.qj, children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(HeadProvider, {}),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(ToastsProvider, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(theme_provider/* ThemeSwitcherProvider */.a6, { children: /* @__PURE__ */ (0,jsx_runtime.jsx)(ConnectedApp, {}) }) })
  ] }) });
}

// EXTERNAL MODULE: ./node_modules/.pnpm/redux-persist@6.0.0_react@18.3.1_redux@5.0.1/node_modules/redux-persist/es/index.js + 8 modules
var es = __webpack_require__(38183);
// EXTERNAL MODULE: ./src/shared/logger-storage.ts
var logger_storage = __webpack_require__(46539);
// EXTERNAL MODULE: ./src/shared/storage/redux-pesist.ts
var redux_pesist = __webpack_require__(25980);
// EXTERNAL MODULE: ./src/app/store/settings/settings.slice.ts
var settings_slice = __webpack_require__(81220);
;// CONCATENATED MODULE: ./src/app/debug.ts












const debug = {
  printDiagnosticInfo() {
    void (0,logger_storage/* getLogsFromBrowserStorage */.Dt)().then((logs) => console.log(JSON.stringify(logs)));
  },
  logStore() {
    return store/* store */.M_.getState();
  },
  logHiroLimiter(url = models_dist/* HIRO_API_BASE_URL_MAINNET */.Vt) {
    const limiter = (0,query_dist/* getHiroApiRateLimiter */.PXU)(url);
    return {
      size: limiter.size,
      pending: limiter.pending,
      limiter
    };
  },
  // Utilised in integration tests
  async logPersistedStore() {
    return es/* getStoredState */.d(redux_pesist/* persistConfig */.x);
  },
  setHighestAccountIndex(index) {
    logger/* logger */.v.info(`Highest account index set to ${index}`);
    store/* store */.M_.dispatch(stx_chain_slice/* stxChainSlice */.B.actions.restoreAccountIndex(index));
  },
  resetMessages() {
    store/* store */.M_.dispatch(settings_slice/* settingsSlice */.s.actions.resetMessages());
  },
  clearSubmittedTransactions() {
    store/* store */.M_.dispatch(submittedTransactionsActions.clearSubmittedTransactions());
  },
  clearReactQueryCache() {
    persistence/* queryClient */.q.clear();
  },
  clearChromeStorage() {
    chrome.storage.local.clear();
    chrome.storage.session.clear();
  }
};
function setDebugOnGlobal() {
  window.debug = debug;
}

;// CONCATENATED MODULE: ./src/app/index.tsx











src.initEccLib(dist);
(0,analytics/* initSentry */.ig)();
warnUsersAboutDevToolsDangers();
setDebugOnGlobal();
window.__APP_VERSION__ = "6.51.1";
async function renderApp() {
  await (0,session_restore/* restoreWalletSession */.Q3)();
  const container = document.getElementById("app");
  return (0,client/* createRoot */.H)(container).render(/* @__PURE__ */ (0,jsx_runtime.jsx)(App, {}));
}
void (0,persistence/* persistAndRenderApp */.N)(renderApp);


/***/ }),

/***/ 56524:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   J: () => (/* binding */ useCurrentBtcCryptoAssetBalanceNativeSegwit),
/* harmony export */   o: () => (/* binding */ useBtcCryptoAssetBalanceNativeSegwit)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30758);
/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(98872);
/* harmony import */ var _leather_io_query__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(4264);
/* harmony import */ var _leather_io_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(62684);
/* harmony import */ var _app_store_accounts_blockchain_bitcoin_native_segwit_account_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(98775);






function createBtcCryptoAssetBalance(balance) {
  return {
    availableBalance: balance,
    // TODO: Can we determine these here or are they nec?
    protectedBalance: (0,_leather_io_utils__WEBPACK_IMPORTED_MODULE_3__/* .createMoney */ .j6)(0, "BTC"),
    uneconomicalBalance: (0,_leather_io_utils__WEBPACK_IMPORTED_MODULE_3__/* .createMoney */ .j6)(0, "BTC")
  };
}
function useBtcCryptoAssetBalanceNativeSegwit(address) {
  const runesEnabled = (0,_leather_io_query__WEBPACK_IMPORTED_MODULE_2__/* .useRunesEnabled */ .QKX)();
  const query = (0,_leather_io_query__WEBPACK_IMPORTED_MODULE_2__/* .useNativeSegwitUtxosByAddress */ .es9)({
    address,
    filterInscriptionUtxos: true,
    filterPendingTxsUtxos: true,
    filterRunesUtxos: runesEnabled
  });
  const balance = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if ((0,_leather_io_utils__WEBPACK_IMPORTED_MODULE_3__/* .isUndefined */ .b0)(query.data))
      return createBtcCryptoAssetBalance((0,_leather_io_utils__WEBPACK_IMPORTED_MODULE_3__/* .createMoney */ .j6)(new bignumber_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A(0), "BTC"));
    return createBtcCryptoAssetBalance(
      (0,_leather_io_utils__WEBPACK_IMPORTED_MODULE_3__/* .createMoney */ .j6)((0,_leather_io_utils__WEBPACK_IMPORTED_MODULE_3__/* .sumNumbers */ .Ye)(query.data.map((utxo) => utxo.value)), "BTC")
    );
  }, [query.data]);
  return {
    ...query,
    balance
  };
}
function useCurrentBtcCryptoAssetBalanceNativeSegwit() {
  const nativeSegwitSigner = (0,_app_store_accounts_blockchain_bitcoin_native_segwit_account_hooks__WEBPACK_IMPORTED_MODULE_4__/* .useCurrentAccountNativeSegwitIndexZeroSigner */ .sz)();
  return useBtcCryptoAssetBalanceNativeSegwit(nativeSegwitSigner.address);
}


/***/ }),

/***/ 94967:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Cc: () => (/* reexport safe */ _leather_io_query__WEBPACK_IMPORTED_MODULE_0__.CcH),
/* harmony export */   N5: () => (/* reexport safe */ _leather_io_query__WEBPACK_IMPORTED_MODULE_0__.N5B),
/* harmony export */   OO: () => (/* reexport safe */ _leather_io_query__WEBPACK_IMPORTED_MODULE_0__.OO8),
/* harmony export */   ZU: () => (/* reexport safe */ _leather_io_query__WEBPACK_IMPORTED_MODULE_0__.ZUl),
/* harmony export */   _V: () => (/* reexport safe */ _leather_io_query__WEBPACK_IMPORTED_MODULE_0__._VW),
/* harmony export */   bU: () => (/* binding */ useConfigBitcoinSendEnabled),
/* harmony export */   jX: () => (/* binding */ useConfigBitcoinEnabled),
/* harmony export */   pr: () => (/* reexport safe */ _leather_io_query__WEBPACK_IMPORTED_MODULE_0__.prd),
/* harmony export */   qm: () => (/* reexport safe */ _leather_io_query__WEBPACK_IMPORTED_MODULE_0__.qmx),
/* harmony export */   vE: () => (/* reexport safe */ _leather_io_query__WEBPACK_IMPORTED_MODULE_0__.vEx)
/* harmony export */ });
/* harmony import */ var _leather_io_query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4264);
/* harmony import */ var _app_common_use_wallet_type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(71977);
/* harmony import */ var _app_store_accounts_blockchain_bitcoin_bitcoin_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(98271);





function useConfigBitcoinEnabled() {
  const { whenWallet } = (0,_app_common_use_wallet_type__WEBPACK_IMPORTED_MODULE_1__/* .useWalletType */ .t)();
  const config = (0,_leather_io_query__WEBPACK_IMPORTED_MODULE_0__/* .useRemoteConfig */ .Cmi)();
  const hasBitcoinAccount = (0,_app_store_accounts_blockchain_bitcoin_bitcoin_hooks__WEBPACK_IMPORTED_MODULE_2__/* .useHasCurrentBitcoinAccount */ .An)();
  return whenWallet({
    ledger: (config?.bitcoinEnabled ?? true) && hasBitcoinAccount,
    software: config?.bitcoinEnabled ?? true
  });
}
function useConfigBitcoinSendEnabled() {
  const { whenWallet } = (0,_app_common_use_wallet_type__WEBPACK_IMPORTED_MODULE_1__/* .useWalletType */ .t)();
  const config = (0,_leather_io_query__WEBPACK_IMPORTED_MODULE_0__/* .useRemoteConfig */ .Cmi)();
  const hasBitcoinAccount = (0,_app_store_accounts_blockchain_bitcoin_bitcoin_hooks__WEBPACK_IMPORTED_MODULE_2__/* .useHasCurrentBitcoinAccount */ .An)();
  return whenWallet({
    ledger: config?.bitcoinSendEnabled && hasBitcoinAccount,
    software: config?.bitcoinSendEnabled ?? true
  });
}


/***/ }),

/***/ 56217:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   z0: () => (/* binding */ AccountGate)
/* harmony export */ });
/* unused harmony exports shouldNavigateToOnboardingStartPage, shouldNavigateToUnlockWalletPage */
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(90543);
/* harmony import */ var _shared_route_urls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(31009);
/* harmony import */ var _app_store_in_memory_key_in_memory_key_selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(90236);
/* harmony import */ var _app_store_ledger_ledger_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(36528);
/* harmony import */ var _app_store_software_keys_software_key_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(27977);







function shouldNavigateToOnboardingStartPage(currentKeyDetails) {
  return !currentKeyDetails;
}
function shouldNavigateToUnlockWalletPage(hasDefaultInMemorySecretKey) {
  return !hasDefaultInMemorySecretKey;
}
function AccountGate({ children }) {
  const currentKeyDetails = (0,_app_store_software_keys_software_key_selectors__WEBPACK_IMPORTED_MODULE_4__/* .useCurrentKeyDetails */ .sK)();
  const hasDefaultInMemorySecretKey = (0,_app_store_in_memory_key_in_memory_key_selectors__WEBPACK_IMPORTED_MODULE_2__/* .useHasDefaultInMemoryWalletSecretKey */ .Vf)();
  const isLedger = (0,_app_store_ledger_ledger_selectors__WEBPACK_IMPORTED_MODULE_3__/* .useHasLedgerKeys */ .L$)();
  if (isLedger) return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children });
  if (shouldNavigateToOnboardingStartPage(currentKeyDetails))
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_5__/* .Navigate */ .C5, { to: _shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.Onboarding });
  if (shouldNavigateToUnlockWalletPage(hasDefaultInMemorySecretKey))
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_5__/* .Navigate */ .C5, { to: _shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.Unlock });
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children });
}


/***/ }),

/***/ 86725:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L: () => (/* binding */ OnboardingGate)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(90543);
/* harmony import */ var _shared_route_urls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(31009);
/* harmony import */ var _app_store_in_memory_key_in_memory_key_selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(90236);
/* harmony import */ var _app_store_ledger_ledger_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(36528);
/* harmony import */ var _app_store_software_keys_software_key_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(27977);







function hasAlreadyMadeWalletAndPlaintextKeyInMemory(hasInMemorySecretKey, encryptedKey) {
  return hasInMemorySecretKey && !!encryptedKey;
}
function keyDetailsExistsWalletAlreadyCreatedSoPreventOnboarding(keyDetails) {
  return !!keyDetails;
}
function OnboardingGate({ children }) {
  const keyDetails = (0,_app_store_software_keys_software_key_selectors__WEBPACK_IMPORTED_MODULE_4__/* .useCurrentKeyDetails */ .sK)();
  const hasInMemorySecretKey = (0,_app_store_in_memory_key_in_memory_key_selectors__WEBPACK_IMPORTED_MODULE_2__/* .useHasDefaultInMemoryWalletSecretKey */ .Vf)();
  const isLedger = (0,_app_store_ledger_ledger_selectors__WEBPACK_IMPORTED_MODULE_3__/* .useHasLedgerKeys */ .L$)();
  if (keyDetails?.type === "software" && hasAlreadyMadeWalletAndPlaintextKeyInMemory(
    hasInMemorySecretKey,
    keyDetails.encryptedSecretKey
  ) || isLedger) {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_5__/* .Navigate */ .C5, { to: _shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.Home });
  }
  if (keyDetailsExistsWalletAlreadyCreatedSoPreventOnboarding(keyDetails))
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_router_dom__WEBPACK_IMPORTED_MODULE_5__/* .Navigate */ .C5, { to: _shared_route_urls__WEBPACK_IMPORTED_MODULE_1__/* .RouteUrls */ .W.Unlock });
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children });
}


/***/ }),

/***/ 80763:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IR: () => (/* binding */ useCurrentAccountIndex),
/* harmony export */   Jh: () => (/* binding */ hasSwitchedAccountsState),
/* harmony export */   tS: () => (/* binding */ useHasSwitchedAccounts)
/* harmony export */ });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(69357);
/* harmony import */ var jotai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(89208);
/* harmony import */ var jotai__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(56068);
/* harmony import */ var _software_keys_software_key_selectors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(27977);




const hasSwitchedAccountsState = (0,jotai__WEBPACK_IMPORTED_MODULE_1__/* .atom */ .eU)(false);
function useCurrentAccountIndex() {
  return (0,react_redux__WEBPACK_IMPORTED_MODULE_2__/* .useSelector */ .d4)(_software_keys_software_key_selectors__WEBPACK_IMPORTED_MODULE_0__/* .selectCurrentAccountIndex */ .HK);
}
function useHasSwitchedAccounts() {
  return (0,jotai__WEBPACK_IMPORTED_MODULE_3__/* .useAtom */ .fp)(hasSwitchedAccountsState);
}


/***/ }),

/***/ 70681:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Av: () => (/* binding */ useBitcoinExtendedPublicKeyVersions),
/* harmony export */   F5: () => (/* binding */ useBitcoinScureLibNetworkConfig),
/* harmony export */   Pw: () => (/* binding */ bitcoinAccountBuilderFactory)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30758);
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(63150);
/* harmony import */ var _leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(94627);
/* harmony import */ var _app_common_use_wallet_type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(71977);
/* harmony import */ var _app_store_in_memory_key_in_memory_key_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(90236);
/* harmony import */ var _app_store_ledger_bitcoin_bitcoin_key_slice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(528);
/* harmony import */ var _app_store_networks_networks_selectors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(13468);
/* harmony import */ var _app_store_software_keys_software_key_selectors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(27977);









function bitcoinAccountBuilderFactory(softwareKeychainDerivationFn, ledgerKeychainLookupFn) {
  return (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_7__/* .createSelector */ .Mz)(
    _app_store_software_keys_software_key_selectors__WEBPACK_IMPORTED_MODULE_6__/* .selectDefaultSoftwareKey */ .MM,
    _app_store_in_memory_key_in_memory_key_selectors__WEBPACK_IMPORTED_MODULE_3__/* .selectRootKeychain */ .pu,
    _app_store_ledger_bitcoin_bitcoin_key_slice__WEBPACK_IMPORTED_MODULE_4__/* .selectDefaultWalletBitcoinKeyEntities */ .vR,
    (_, rootKeychain, bitcoinLedgerKeys) => {
      if (Object.keys(bitcoinLedgerKeys).length > 0 || !rootKeychain) {
        return {
          mainnet: ledgerKeychainLookupFn(bitcoinLedgerKeys, "mainnet"),
          testnet: ledgerKeychainLookupFn(bitcoinLedgerKeys, "testnet"),
          signet: ledgerKeychainLookupFn(bitcoinLedgerKeys, "signet"),
          regtest: ledgerKeychainLookupFn(bitcoinLedgerKeys, "regtest")
        };
      }
      return {
        mainnet: softwareKeychainDerivationFn(rootKeychain, "mainnet"),
        testnet: softwareKeychainDerivationFn(rootKeychain, "testnet"),
        signet: softwareKeychainDerivationFn(rootKeychain, "signet"),
        regtest: softwareKeychainDerivationFn(rootKeychain, "regtest")
      };
    }
  );
}
function useBitcoinScureLibNetworkConfig() {
  const network = (0,_app_store_networks_networks_selectors__WEBPACK_IMPORTED_MODULE_5__/* .useCurrentNetwork */ .Rm)();
  return (0,_leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__/* .getBtcSignerLibNetworkConfigByMode */ .$)(network.chain.bitcoin.mode);
}
function useBitcoinExtendedPublicKeyVersions() {
  const network = (0,_app_store_networks_networks_selectors__WEBPACK_IMPORTED_MODULE_5__/* .useCurrentNetwork */ .Rm)();
  const { whenWallet } = (0,_app_common_use_wallet_type__WEBPACK_IMPORTED_MODULE_2__/* .useWalletType */ .t)();
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    try {
      return whenWallet({
        software: void 0,
        ledger: (0,_leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__/* .getHdKeyVersionsFromNetwork */ .D6)(
          (0,_leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__/* .bitcoinNetworkModeToCoreNetworkMode */ .Vw)(network.chain.bitcoin.mode)
        )
      });
    } catch (e) {
      return void 0;
    }
  }, [network, whenWallet]);
}


/***/ }),

/***/ 52911:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ useMakeBitcoinNetworkSignersForPaymentType),
/* harmony export */   r: () => (/* binding */ bitcoinAddressIndexSignerFactory)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30758);
/* harmony import */ var _scure_bip32__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(58924);
/* harmony import */ var _leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(94627);
/* harmony import */ var _bitcoin_keychain__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(70681);





function makeBitcoinSigner(args) {
  const { derivationPath, keychain, network, paymentFn, signFn, signAtIndexFn } = args;
  const payment = paymentFn(keychain, network);
  return {
    network,
    payment,
    derivationPath,
    keychain,
    get address() {
      if (!payment.address) throw new Error("Unable to get address from payment");
      return payment.address;
    },
    get publicKey() {
      if (!keychain.publicKey) throw new Error("Unable to get publicKey from keychain");
      return keychain.publicKey;
    },
    sign: signFn,
    signIndex: signAtIndexFn
  };
}
function bitcoinAddressIndexSignerFactory(args) {
  const { accountIndex, network, paymentFn, accountKeychain, extendedPublicKeyVersions } = args;
  return (addressIndex) => {
    const addressIndexKeychain = (0,_leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__/* .deriveAddressIndexKeychainFromAccount */ .dW)(accountKeychain)(addressIndex);
    const payment = paymentFn(addressIndexKeychain, network);
    return makeBitcoinSigner({
      keychain: _scure_bip32__WEBPACK_IMPORTED_MODULE_3__/* .HDKey */ .c.fromExtendedKey(
        addressIndexKeychain.publicExtendedKey,
        extendedPublicKeyVersions
      ),
      network,
      derivationPath: (0,_leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__/* .whenPaymentType */ .VW)(payment.type)({
        p2wpkh: (0,_leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__/* .getNativeSegwitAddressIndexDerivationPath */ .Ni)(network, accountIndex, addressIndex),
        p2tr: (0,_leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__/* .getTaprootAddressIndexDerivationPath */ .Q6)(network, accountIndex, addressIndex),
        "p2wpkh-p2sh": "Not supported",
        p2pkh: "Not supported",
        p2sh: "Not supported"
      }),
      paymentFn,
      signFn(tx) {
        if (!addressIndexKeychain.privateKey)
          throw new Error("Unable to sign transaction, no private key found");
        tx.sign(addressIndexKeychain.privateKey);
      },
      // TODO: Revisit allowedSighash type if/when fixed in btc-signer
      signAtIndexFn(tx, index, allowedSighash) {
        if (!addressIndexKeychain.privateKey)
          throw new Error("Unable to sign transaction, no private key found");
        tx.signIdx(addressIndexKeychain.privateKey, index, allowedSighash);
      }
    });
  };
}
function createSignersForAllNetworkTypes({
  mainnetKeychainFn,
  testnetKeychainFn,
  paymentFn,
  extendedPublicKeyVersions
}) {
  return ({ accountIndex, addressIndex }) => {
    const networkMap = /* @__PURE__ */ new Map();
    function makeNetworkSigner(keychain, network) {
      return bitcoinAddressIndexSignerFactory({
        accountIndex,
        accountKeychain: keychain,
        paymentFn,
        network,
        extendedPublicKeyVersions
      })(addressIndex);
    }
    const mainnetAccount = mainnetKeychainFn(accountIndex);
    if (mainnetAccount) {
      networkMap.set("mainnet", makeNetworkSigner(mainnetAccount.keychain, "mainnet"));
    }
    const testnetAccount = testnetKeychainFn(accountIndex);
    if (testnetAccount) {
      networkMap.set("testnet", makeNetworkSigner(testnetAccount.keychain, "testnet"));
      networkMap.set("regtest", makeNetworkSigner(testnetAccount.keychain, "regtest"));
      networkMap.set("signet", makeNetworkSigner(testnetAccount.keychain, "signet"));
    }
    return Object.fromEntries(networkMap);
  };
}
function useMakeBitcoinNetworkSignersForPaymentType(mainnetKeychainFn, testnetKeychainFn, paymentFn) {
  const extendedPublicKeyVersions = (0,_bitcoin_keychain__WEBPACK_IMPORTED_MODULE_2__/* .useBitcoinExtendedPublicKeyVersions */ .Av)();
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(
    (accountIndex) => {
      const zeroIndex = 0;
      return createSignersForAllNetworkTypes({
        mainnetKeychainFn,
        testnetKeychainFn,
        paymentFn,
        extendedPublicKeyVersions
      })({ accountIndex, addressIndex: zeroIndex });
    },
    [extendedPublicKeyVersions, mainnetKeychainFn, paymentFn, testnetKeychainFn]
  );
}


/***/ }),

/***/ 98271:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  go: () => (/* binding */ useAddTapInternalKeysIfMissing),
  Z0: () => (/* binding */ useGetAssumedZeroIndexSigningConfig),
  An: () => (/* binding */ useHasCurrentBitcoinAccount),
  nn: () => (/* binding */ useSignBitcoinTx),
  Cb: () => (/* binding */ useSignLedgerBitcoinTx),
  vl: () => (/* binding */ useZeroIndexTaprootAddress)
});

// EXTERNAL MODULE: ./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/esm/utils.js
var utils = __webpack_require__(19251);
// EXTERNAL MODULE: ./node_modules/.pnpm/@scure+btc-signer@1.4.0/node_modules/@scure/btc-signer/esm/transaction.js
var transaction = __webpack_require__(49423);
// EXTERNAL MODULE: ./node_modules/.pnpm/@scure+btc-signer@1.4.0/node_modules/@scure/btc-signer/esm/payment.js
var payment = __webpack_require__(3721);
// EXTERNAL MODULE: ./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/index.js
var src = __webpack_require__(99860);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+bitcoin@0.14.2_encoding@0.1.13/node_modules/@leather.io/bitcoin/dist/index.js
var dist = __webpack_require__(94627);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+crypto@1.6.6/node_modules/@leather.io/crypto/dist/index.mjs
var crypto_dist = __webpack_require__(86743);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+models@0.18.2/node_modules/@leather.io/models/dist/index.js
var models_dist = __webpack_require__(89840);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+utils@0.16.6/node_modules/@leather.io/utils/dist/index.js
var utils_dist = __webpack_require__(62684);
// EXTERNAL MODULE: ./src/shared/logger.ts
var logger = __webpack_require__(41303);
;// CONCATENATED MODULE: ./src/shared/crypto/bitcoin/signer-config.ts





function getAssumedZeroIndexSigningConfig({
  psbt,
  network,
  indexesToSign
}) {
  const tx = transaction/* Transaction */.ZX.fromPSBT(psbt);
  const indexes = indexesToSign ?? (0,utils_dist/* makeNumberRange */.$Q)(tx.inputsLength);
  return {
    forAccountIndex(accountIndex) {
      return indexes.map((inputIndex) => {
        const input = tx.getInput(inputIndex);
        if ((0,utils_dist/* isUndefined */.b0)(input.index)) throw new Error("Input must have an index for payment type");
        const paymentType = (0,dist/* getInputPaymentType */.vP)(input, network);
        switch (paymentType) {
          case "p2wpkh":
            return {
              index: inputIndex,
              derivationPath: (0,dist/* getNativeSegwitAddressIndexDerivationPath */.Ni)(network, accountIndex, 0)
            };
          case "p2tr":
            return {
              index: inputIndex,
              derivationPath: (0,dist/* getTaprootAddressIndexDerivationPath */.Q6)(network, accountIndex, 0)
            };
          default:
            logger/* logger */.v.error("Cannot assume zero index for non-segwit input types");
            return { index: inputIndex, derivationPath: "" };
        }
      });
    }
  };
}

// EXTERNAL MODULE: ./node_modules/.pnpm/yup@1.4.0/node_modules/yup/index.esm.js
var index_esm = __webpack_require__(86997);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+rpc@2.1.13/node_modules/@leather.io/rpc/dist/index.js
var rpc_dist = __webpack_require__(6294);
;// CONCATENATED MODULE: ./src/shared/rpc/methods/validation.utils.ts



const accountSchema = index_esm/* number */.ai().integer();
function validation_utils_validateRpcParams(obj, validator) {
  try {
    validator.validateSync(obj, { abortEarly: false });
    return true;
  } catch (e) {
    return false;
  }
}
function validation_utils_getRpcParamErrors(obj, validator) {
  try {
    validator.validateSync(obj, { abortEarly: false });
    return [];
  } catch (e) {
    if (e instanceof yup.ValidationError) return e.inner;
    return [];
  }
}
function validation_utils_formatValidationErrors(errors) {
  return "Invalid parameters: " + errors.map((e) => `Error in path ${e.path}, ${e.message}.`).join(" ");
}
function testIsNumberOrArrayOfNumbers(value) {
  if ((0,utils_dist/* isUndefined */.b0)(value)) return true;
  if (Array.isArray(value)) return value.every((item) => (0,utils_dist/* isNumber */.Et)(item));
  return (0,utils_dist/* isNumber */.Et)(value);
}

;// CONCATENATED MODULE: ./src/shared/rpc/methods/sign-psbt.ts






const allSighashTypes = [
  transaction/* SigHash */.Ms.DEFAULT,
  rpc_dist/* SignatureHash */.h.ALL,
  rpc_dist/* SignatureHash */.h.NONE,
  rpc_dist/* SignatureHash */.h.SINGLE,
  transaction/* SigHash */.Ms.ALL_ANYONECANPAY,
  rpc_dist/* SignatureHash */.h.ALL_ANYONECANPAY,
  rpc_dist/* SignatureHash */.h.NONE_ANYONECANPAY,
  rpc_dist/* SignatureHash */.h.SINGLE_ANYONECANPAY
];
const rpcSignPsbtParamsSchema = index_esm/* object */.Ik().shape({
  account: accountSchema,
  allowedSighash: index_esm/* array */.YO(),
  broadcast: index_esm/* boolean */.zM(),
  hex: index_esm/* string */.Yj().required(),
  network: index_esm/* string */.Yj().oneOf(Object.values(models_dist/* WalletDefaultNetworkConfigurationIds */.Re)),
  signAtIndex: index_esm/* mixed */.gl().test(testIsNumberOrArrayOfNumbers)
});
function validateRpcSignPsbtParams(obj) {
  return validateRpcParams(obj, rpcSignPsbtParamsSchema);
}
function getRpcSignPsbtParamErrors(obj) {
  return formatValidationErrors(getRpcParamErrors(obj, rpcSignPsbtParamsSchema));
}

// EXTERNAL MODULE: ./src/shared/utils/analytics.ts
var analytics = __webpack_require__(84137);
// EXTERNAL MODULE: ./src/app/common/use-wallet-type.ts
var use_wallet_type = __webpack_require__(71977);
// EXTERNAL MODULE: ./src/app/common/publish-subscribe.ts
var publish_subscribe = __webpack_require__(9965);
;// CONCATENATED MODULE: ./src/app/features/ledger/flows/bitcoin-tx-signing/bitcoin-tx-signing-event-listeners.ts


async function listenForBitcoinTxLedgerSigning(psbt) {
  return new Promise((resolve, reject) => {
    function txSignedHandler(msg) {
      if (msg.unsignedPsbt === psbt) {
        publish_subscribe/* appEvents */.l.unsubscribe("ledgerBitcoinTxSigned", txSignedHandler);
        publish_subscribe/* appEvents */.l.unsubscribe("ledgerBitcoinTxSigningCancelled", signingAbortedHandler);
        resolve(msg.signedPsbt);
      }
    }
    publish_subscribe/* appEvents */.l.subscribe("ledgerBitcoinTxSigned", txSignedHandler);
    function signingAbortedHandler(msg) {
      if (msg.unsignedPsbt === psbt) {
        publish_subscribe/* appEvents */.l.unsubscribe("ledgerBitcoinTxSigningCancelled", signingAbortedHandler);
        publish_subscribe/* appEvents */.l.unsubscribe("ledgerBitcoinTxSigned", txSignedHandler);
        reject(new Error("User cancelled the signing operation"));
      }
    }
    publish_subscribe/* appEvents */.l.subscribe("ledgerBitcoinTxSigningCancelled", signingAbortedHandler);
  });
}

// EXTERNAL MODULE: ./src/app/features/ledger/hooks/use-ledger-navigate.ts
var use_ledger_navigate = __webpack_require__(12917);
// EXTERNAL MODULE: ./src/app/features/ledger/utils/bitcoin-ledger-utils.ts
var bitcoin_ledger_utils = __webpack_require__(63449);
// EXTERNAL MODULE: ./src/app/store/accounts/blockchain/bitcoin/taproot-account.hooks.ts
var taproot_account_hooks = __webpack_require__(3559);
// EXTERNAL MODULE: ./src/app/store/networks/networks.selectors.ts
var networks_selectors = __webpack_require__(13468);
// EXTERNAL MODULE: ./src/app/store/accounts/account.ts
var accounts_account = __webpack_require__(80763);
// EXTERNAL MODULE: ./src/app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks.ts
var native_segwit_account_hooks = __webpack_require__(98775);
;// CONCATENATED MODULE: ./src/app/store/accounts/blockchain/bitcoin/bitcoin.hooks.ts
/* provided dependency */ var Buffer = __webpack_require__(84686)["Buffer"];




















function useHasCurrentBitcoinAccount() {
  const nativeSegwit = (0,native_segwit_account_hooks/* useCurrentNativeSegwitAccount */.sP)();
  const taproot = (0,taproot_account_hooks/* useCurrentTaprootAccount */.R2)();
  return !!nativeSegwit && !!taproot;
}
function useZeroIndexTaprootAddress(accIndex) {
  const network = (0,networks_selectors/* useCurrentNetwork */.Rm)();
  const currentAccountIndex = (0,accounts_account/* useCurrentAccountIndex */.IR)();
  const account = (0,taproot_account_hooks/* useTaprootAccount */.YD)(accIndex ?? currentAccountIndex);
  if (!account) throw new Error("Expected keychain to be provided");
  const address = (0,dist/* getTaprootAddress */.oZ)({
    index: 0,
    keychain: account.keychain,
    network: (0,models_dist/* bitcoinNetworkToNetworkMode */.Tf)(network.chain.bitcoin.bitcoinNetwork)
  });
  return address;
}
function useSignBitcoinSoftwareTx() {
  const createNativeSegwitSigner = (0,native_segwit_account_hooks/* useCurrentAccountNativeSegwitSigner */.GD)();
  const createTaprootSigner = (0,taproot_account_hooks/* useCurrentAccountTaprootSigner */.$w)();
  return async (psbt, inputSigningConfig) => {
    const tx = transaction/* Transaction */.ZX.fromPSBT(psbt);
    inputSigningConfig.forEach(({ index, derivationPath }) => {
      const nativeSegwitSigner = createNativeSegwitSigner?.(
        (0,crypto_dist/* extractAddressIndexFromPath */.HD)(derivationPath)
      );
      const taprootSigner = createTaprootSigner?.((0,crypto_dist/* extractAddressIndexFromPath */.HD)(derivationPath));
      if (!nativeSegwitSigner || !taprootSigner) throw new Error("Signers not available");
      try {
        nativeSegwitSigner.signIndex(tx, index, allSighashTypes);
      } catch (e) {
        try {
          taprootSigner.signIndex(tx, index, allSighashTypes);
        } catch (er) {
        }
      }
    });
    return tx;
  };
}
function useSignLedgerBitcoinTx() {
  const accountIndex = (0,accounts_account/* useCurrentAccountIndex */.IR)();
  const network = (0,networks_selectors/* useCurrentNetwork */.Rm)();
  const addNativeSegwitUtxoHexLedgerProps = (0,native_segwit_account_hooks/* useUpdateLedgerSpecificNativeSegwitUtxoHexForAdddressIndexZero */.y8)();
  const addNativeSegwitBip32Derivation = (0,native_segwit_account_hooks/* useUpdateLedgerSpecificNativeSegwitBip32DerivationForAdddressIndexZero */.u9)();
  const updateTaprootLedgerInputs = (0,taproot_account_hooks/* useUpdateLedgerSpecificTaprootInputPropsForAdddressIndexZero */.KL)();
  const bitcoinNetworkMode = network.chain.bitcoin.mode;
  return async (app, rawPsbt, signingConfig) => {
    const fingerprint = await app.getMasterFingerprint();
    const psbt = src.Psbt.fromBuffer(Buffer.from(rawPsbt), {
      network: (0,dist/* getBitcoinJsLibNetworkConfigByMode */.js)(bitcoinNetworkMode)
    });
    const btcSignerPsbtClone = transaction/* Transaction */.ZX.fromPSBT(psbt.toBuffer());
    const inputByPaymentType = signingConfig.map((config) => {
      const inputIndex = btcSignerPsbtClone.getInput(config.index).index;
      if ((0,utils_dist/* isUndefined */.b0)(inputIndex)) throw new Error("Input must have an index for payment type");
      return [
        config,
        (0,dist/* getInputPaymentType */.vP)(btcSignerPsbtClone.getInput(config.index), bitcoinNetworkMode)
      ];
    });
    const taprootInputsToSign = inputByPaymentType.filter(([_, paymentType]) => paymentType === "p2tr").map(([index]) => index);
    if (taprootInputsToSign.length) {
      await updateTaprootLedgerInputs(psbt, fingerprint, taprootInputsToSign);
      const taprootExtendedPublicKey = await app.getExtendedPubkey(
        (0,dist/* makeTaprootAccountDerivationPath */.xe)(bitcoinNetworkMode, accountIndex)
      );
      const taprootPolicy = (0,bitcoin_ledger_utils/* createTaprootDefaultWalletPolicy */.Ge)({
        fingerprint,
        accountIndex,
        network: bitcoinNetworkMode,
        xpub: taprootExtendedPublicKey
      });
      const taprootSignatures = await app.signPsbt(psbt.toBase64(), taprootPolicy, null);
      (0,bitcoin_ledger_utils/* addTaprootInputSignaturesToPsbt */.mX)(psbt, taprootSignatures);
    }
    const nativeSegwitInputsToSign = inputByPaymentType.filter(([_, paymentType]) => paymentType === "p2wpkh").map(([index]) => index);
    if (nativeSegwitInputsToSign.length) {
      const nativeSegwitExtendedPublicKey = await app.getExtendedPubkey(
        (0,dist/* makeNativeSegwitAccountDerivationPath */.a_)(bitcoinNetworkMode, accountIndex)
      );
      try {
        await addNativeSegwitUtxoHexLedgerProps(psbt, nativeSegwitInputsToSign);
        void analytics/* analytics */.zS.track("successfully_added_native_segwit_tx_hex_to_ledger_tx");
      } catch (e) {
        void analytics/* analytics */.zS.track("failed_to_add_native_segwit_tx_hex_to_ledger_tx");
      }
      await addNativeSegwitBip32Derivation(psbt, fingerprint, nativeSegwitInputsToSign);
      const nativeSegwitPolicy = (0,bitcoin_ledger_utils/* createNativeSegwitDefaultWalletPolicy */.V2)({
        fingerprint,
        accountIndex,
        network: bitcoinNetworkMode,
        xpub: nativeSegwitExtendedPublicKey
      });
      const nativeSegwitSignatures = await app.signPsbt(psbt.toBase64(), nativeSegwitPolicy, null);
      (0,bitcoin_ledger_utils/* addNativeSegwitSignaturesToPsbt */.xw)(psbt, nativeSegwitSignatures);
    }
    return transaction/* Transaction */.ZX.fromPSBT(psbt.toBuffer());
  };
}
function useAddTapInternalKeysIfMissing() {
  const createTaprootSigner = (0,taproot_account_hooks/* useCurrentAccountTaprootSigner */.$w)();
  return (tx, inputIndexes) => inputIndexes.forEach(({ index, derivationPath }) => {
    const taprootSigner = createTaprootSigner?.((0,crypto_dist/* extractAddressIndexFromPath */.HD)(derivationPath));
    if (!taprootSigner) throw new Error("Taproot signer not found");
    const input = tx.getInput(index);
    const witnessOutputScript = input.witnessUtxo?.script && payment/* OutScript */._o.decode(input.witnessUtxo.script);
    function shouldAssumeTxNeedsTaprootInternalKeyAdded() {
      if (!taprootSigner) return false;
      if (witnessOutputScript?.type !== "tr") return false;
      if (input.tapInternalKey) return false;
      if (input.tapLeafScript) return false;
      return true;
    }
    if (shouldAssumeTxNeedsTaprootInternalKeyAdded()) {
      void analytics/* analytics */.zS.track("psbt_sign_request_p2tr_missing_taproot_internal_key");
      tx.updateInput(index, { ...input, tapInternalKey: taprootSigner.payment.tapInternalKey });
    }
  });
}
function useGetAssumedZeroIndexSigningConfig() {
  const network = (0,networks_selectors/* useCurrentNetwork */.Rm)();
  const accountIndex = (0,accounts_account/* useCurrentAccountIndex */.IR)();
  return (psbt, indexesToSign) => getAssumedZeroIndexSigningConfig({
    psbt,
    network: (0,models_dist/* bitcoinNetworkToNetworkMode */.Tf)(network.chain.bitcoin.bitcoinNetwork),
    indexesToSign
  }).forAccountIndex(accountIndex);
}
function useSignBitcoinTx() {
  const { whenWallet } = (0,use_wallet_type/* useWalletType */.t)();
  const ledgerNavigate = (0,use_ledger_navigate/* useLedgerNavigate */.W)();
  const signSoftwareTx = useSignBitcoinSoftwareTx();
  const getDefaultSigningConfig = useGetAssumedZeroIndexSigningConfig();
  return (psbt, inputsToSign) => {
    function getSigningConfig(inputsToSign2) {
      if (!inputsToSign2) return getDefaultSigningConfig(psbt);
      if (inputsToSign2.every(utils_dist/* isNumber */.Et)) return getDefaultSigningConfig(psbt, inputsToSign2);
      return inputsToSign2;
    }
    return whenWallet({
      async ledger() {
        ledgerNavigate.toConnectAndSignBitcoinTransactionStep(psbt, getSigningConfig(inputsToSign));
        return listenForBitcoinTxLedgerSigning((0,utils/* bytesToHex */.My)(psbt));
      },
      async software() {
        return signSoftwareTx(psbt, getSigningConfig(inputsToSign));
      }
    })();
  };
}


/***/ }),

/***/ 98775:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   F0: () => (/* binding */ useNativeSegwitNetworkSigners),
/* harmony export */   GD: () => (/* binding */ useCurrentAccountNativeSegwitSigner),
/* harmony export */   KL: () => (/* binding */ useNativeSegwitSigner),
/* harmony export */   b8: () => (/* binding */ useNativeSegwitAccountIndexAddressIndexZero),
/* harmony export */   jy: () => (/* binding */ getNativeSegwitMainnetAddressFromMnemonic),
/* harmony export */   r9: () => (/* binding */ useCurrentAccountNativeSegwitIndexZeroSignerNullable),
/* harmony export */   s8: () => (/* binding */ useCurrentAccountNativeSegwitAddressIndexZero),
/* harmony export */   sP: () => (/* binding */ useCurrentNativeSegwitAccount),
/* harmony export */   sz: () => (/* binding */ useCurrentAccountNativeSegwitIndexZeroSigner),
/* harmony export */   u9: () => (/* binding */ useUpdateLedgerSpecificNativeSegwitBip32DerivationForAdddressIndexZero),
/* harmony export */   y8: () => (/* binding */ useUpdateLedgerSpecificNativeSegwitUtxoHexForAdddressIndexZero)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30758);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(69357);
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(63150);
/* harmony import */ var _leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(94627);
/* harmony import */ var _leather_io_crypto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(86743);
/* harmony import */ var _leather_io_models__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(89840);
/* harmony import */ var _leather_io_query__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(4264);
/* harmony import */ var _leather_io_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(62684);
/* harmony import */ var _shared_utils_analytics__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(84137);
/* harmony import */ var _app_common_keychain_keychain__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(4618);
/* harmony import */ var _app_store_networks_networks_selectors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(13468);
/* harmony import */ var _app_store_software_keys_software_key_selectors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(27977);
/* harmony import */ var _account__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(80763);
/* harmony import */ var _bitcoin_keychain__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(70681);
/* harmony import */ var _bitcoin_signer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(52911);
/* provided dependency */ var Buffer = __webpack_require__(84686)["Buffer"];
















const selectNativeSegwitAccountBuilder = (0,_bitcoin_keychain__WEBPACK_IMPORTED_MODULE_10__/* .bitcoinAccountBuilderFactory */ .Pw)(
  _leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__/* .deriveNativeSegwitAccountFromRootKeychain */ .Z6,
  (0,_leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__/* .lookUpLedgerKeysByPath */ .g7)(_leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__/* .makeNativeSegwitAccountDerivationPath */ .a_)
);
const selectCurrentNetworkNativeSegwitAccountBuilder = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_12__/* .createSelector */ .Mz)(
  selectNativeSegwitAccountBuilder,
  _app_store_networks_networks_selectors__WEBPACK_IMPORTED_MODULE_7__/* .selectCurrentNetwork */ .c1,
  (nativeSegwitKeychains, network) => nativeSegwitKeychains[(0,_leather_io_models__WEBPACK_IMPORTED_MODULE_3__/* .bitcoinNetworkToNetworkMode */ .Tf)(network.chain.bitcoin.bitcoinNetwork)]
);
function useNativeSegwitAccountBuilder() {
  return (0,react_redux__WEBPACK_IMPORTED_MODULE_13__/* .useSelector */ .d4)(selectCurrentNetworkNativeSegwitAccountBuilder);
}
const selectCurrentNativeSegwitAccount = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_12__/* .createSelector */ .Mz)(
  selectCurrentNetworkNativeSegwitAccountBuilder,
  _app_store_software_keys_software_key_selectors__WEBPACK_IMPORTED_MODULE_8__/* .selectCurrentAccountIndex */ .HK,
  (generateAccount, accountIndex) => generateAccount(accountIndex)
);
function useCurrentNativeSegwitAccount() {
  return (0,react_redux__WEBPACK_IMPORTED_MODULE_13__/* .useSelector */ .d4)(selectCurrentNativeSegwitAccount);
}
function useNativeSegwitNetworkSigners() {
  const { mainnet: mainnetKeychain, testnet: testnetKeychain } = (0,react_redux__WEBPACK_IMPORTED_MODULE_13__/* .useSelector */ .d4)(
    selectNativeSegwitAccountBuilder
  );
  return (0,_bitcoin_signer__WEBPACK_IMPORTED_MODULE_11__/* .useMakeBitcoinNetworkSignersForPaymentType */ .a)(
    mainnetKeychain,
    testnetKeychain,
    _leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__/* .getNativeSegWitPaymentFromAddressIndex */ .RN
  );
}
function useNativeSegwitSigner(accountIndex) {
  const account = useNativeSegwitAccountBuilder()(accountIndex);
  const extendedPublicKeyVersions = (0,_bitcoin_keychain__WEBPACK_IMPORTED_MODULE_10__/* .useBitcoinExtendedPublicKeyVersions */ .Av)();
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!account) return;
    return (0,_bitcoin_signer__WEBPACK_IMPORTED_MODULE_11__/* .bitcoinAddressIndexSignerFactory */ .r)({
      accountIndex,
      accountKeychain: account.keychain,
      paymentFn: _leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__/* .getNativeSegWitPaymentFromAddressIndex */ .RN,
      network: account.network,
      extendedPublicKeyVersions
    });
  }, [account, accountIndex, extendedPublicKeyVersions]);
}
function useCurrentAccountNativeSegwitSigner() {
  const currentAccountIndex = (0,_account__WEBPACK_IMPORTED_MODULE_9__/* .useCurrentAccountIndex */ .IR)();
  return useNativeSegwitSigner(currentAccountIndex);
}
function useCurrentAccountNativeSegwitIndexZeroSigner() {
  const signer = useCurrentAccountNativeSegwitSigner();
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!signer) throw new Error("No signer");
    return signer(0);
  }, [signer]);
}
function useCurrentAccountNativeSegwitIndexZeroSignerNullable() {
  const signer = useCurrentAccountNativeSegwitSigner();
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!signer) return void 0;
    return signer(0);
  }, [signer]);
}
function useCurrentAccountNativeSegwitAddressIndexZero() {
  const signer = useCurrentAccountNativeSegwitSigner();
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => signer?.(0).payment.address, [signer]);
}
function useNativeSegwitAccountIndexAddressIndexZero(accountIndex) {
  const signer = useNativeSegwitSigner(accountIndex)?.(0);
  return signer?.payment.address;
}
function getNativeSegwitMainnetAddressFromMnemonic(secretKey) {
  return (accountIndex) => {
    const rootNode = (0,_app_common_keychain_keychain__WEBPACK_IMPORTED_MODULE_14__/* .mnemonicToRootNode */ .G)(secretKey);
    const account = (0,_leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__/* .deriveNativeSegwitAccountFromRootKeychain */ .Z6)(rootNode, "mainnet")(accountIndex);
    return (0,_leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__/* .getNativeSegWitPaymentFromAddressIndex */ .RN)(
      (0,_leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__/* .deriveAddressIndexZeroFromAccount */ .hH)(account.keychain),
      "mainnet"
    );
  };
}
function useUpdateLedgerSpecificNativeSegwitUtxoHexForAdddressIndexZero() {
  const bitcoinClient = (0,_leather_io_query__WEBPACK_IMPORTED_MODULE_4__/* .useBitcoinClient */ .PV$)();
  return async (tx, inputSigningConfig) => {
    const inputsTxHex = await Promise.all(
      tx.txInputs.map(
        (input) => bitcoinClient.transactionsApi.getBitcoinTransactionHex(
          // txids are encoded onchain in reverse byte order
          (0,_leather_io_utils__WEBPACK_IMPORTED_MODULE_5__/* .reverseBytes */ ._m)(input.hash).toString("hex")
        )
      )
    );
    inputSigningConfig.forEach(({ index }) => {
      if (!tx.data.inputs[index].nonWitnessUtxo) {
        tx.updateInput(index, {
          nonWitnessUtxo: Buffer.from(inputsTxHex[index], "hex")
        });
        void _shared_utils_analytics__WEBPACK_IMPORTED_MODULE_6__/* .analytics */ .zS.track("ledger_nativesegwit_add_nonwitnessutxo");
      } else {
        void _shared_utils_analytics__WEBPACK_IMPORTED_MODULE_6__/* .analytics */ .zS.track("ledger_nativesegwit_skip_add_nonwitnessutxo");
      }
    });
  };
}
function useUpdateLedgerSpecificNativeSegwitBip32DerivationForAdddressIndexZero() {
  const createNativeSegwitSigner = useCurrentAccountNativeSegwitSigner();
  return async (tx, fingerprint, inputSigningConfig) => {
    inputSigningConfig.forEach(({ index, derivationPath }) => {
      const nativeSegwitSigner = createNativeSegwitSigner?.(
        (0,_leather_io_crypto__WEBPACK_IMPORTED_MODULE_2__/* .extractAddressIndexFromPath */ .HD)(derivationPath)
      );
      if (!nativeSegwitSigner)
        throw new Error(`Unable to update input for path ${derivationPath}}`);
      tx.updateInput(index, {
        bip32Derivation: [
          {
            masterFingerprint: Buffer.from(fingerprint, "hex"),
            pubkey: Buffer.from(nativeSegwitSigner.publicKey),
            path: derivationPath
          }
        ]
      });
    });
  };
}


/***/ }),

/***/ 3559:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $w: () => (/* binding */ useCurrentAccountTaprootSigner),
/* harmony export */   FJ: () => (/* binding */ useCurrentAccountTaprootIndexZeroSigner),
/* harmony export */   KL: () => (/* binding */ useUpdateLedgerSpecificTaprootInputPropsForAdddressIndexZero),
/* harmony export */   Nf: () => (/* binding */ useTaprootSigner),
/* harmony export */   R2: () => (/* binding */ useCurrentTaprootAccount),
/* harmony export */   YD: () => (/* binding */ useTaprootAccount),
/* harmony export */   kh: () => (/* binding */ useTaprootNetworkSigners)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30758);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(69357);
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(63150);
/* harmony import */ var _leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(94627);
/* harmony import */ var _leather_io_crypto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(86743);
/* harmony import */ var _app_store_networks_networks_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(13468);
/* harmony import */ var _app_store_software_keys_software_key_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(27977);
/* harmony import */ var _account__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(80763);
/* harmony import */ var _bitcoin_keychain__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(70681);
/* harmony import */ var _bitcoin_signer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(52911);
/* provided dependency */ var Buffer = __webpack_require__(84686)["Buffer"];











const selectTaprootAccountBuilder = (0,_bitcoin_keychain__WEBPACK_IMPORTED_MODULE_6__/* .bitcoinAccountBuilderFactory */ .Pw)(
  _leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__/* .deriveTaprootAccount */ ._9,
  (0,_leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__/* .lookUpLedgerKeysByPath */ .g7)(_leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__/* .getTaprootAccountDerivationPath */ .J_)
);
const selectCurrentNetworkTaprootAccountBuilder = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_8__/* .createSelector */ .Mz)(
  selectTaprootAccountBuilder,
  _app_store_networks_networks_selectors__WEBPACK_IMPORTED_MODULE_3__/* .selectCurrentNetwork */ .c1,
  (taprootKeychains, network) => taprootKeychains[network.chain.bitcoin.mode]
);
const selectCurrentTaprootAccount = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_8__/* .createSelector */ .Mz)(
  selectCurrentNetworkTaprootAccountBuilder,
  _app_store_software_keys_software_key_selectors__WEBPACK_IMPORTED_MODULE_4__/* .selectCurrentAccountIndex */ .HK,
  (taprootKeychain, accountIndex) => taprootKeychain(accountIndex)
);
function useTaprootAccount(accountIndex) {
  const generateTaprootAccount = (0,react_redux__WEBPACK_IMPORTED_MODULE_9__/* .useSelector */ .d4)(selectCurrentNetworkTaprootAccountBuilder);
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(
    () => generateTaprootAccount(accountIndex),
    [generateTaprootAccount, accountIndex]
  );
}
function useCurrentTaprootAccount() {
  return (0,react_redux__WEBPACK_IMPORTED_MODULE_9__/* .useSelector */ .d4)(selectCurrentTaprootAccount);
}
function useTaprootNetworkSigners() {
  const { mainnet: mainnetKeychain, testnet: testnetKeychain } = (0,react_redux__WEBPACK_IMPORTED_MODULE_9__/* .useSelector */ .d4)(
    selectTaprootAccountBuilder
  );
  return (0,_bitcoin_signer__WEBPACK_IMPORTED_MODULE_7__/* .useMakeBitcoinNetworkSignersForPaymentType */ .a)(
    mainnetKeychain,
    testnetKeychain,
    _leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__/* .getTaprootPaymentFromAddressIndex */ .eL
  );
}
function useTaprootSigner(accountIndex, network) {
  const account = useTaprootAccount(accountIndex);
  const extendedPublicKeyVersions = (0,_bitcoin_keychain__WEBPACK_IMPORTED_MODULE_6__/* .useBitcoinExtendedPublicKeyVersions */ .Av)();
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!account) return;
    return (0,_bitcoin_signer__WEBPACK_IMPORTED_MODULE_7__/* .bitcoinAddressIndexSignerFactory */ .r)({
      accountIndex,
      accountKeychain: account.keychain,
      paymentFn: _leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__/* .getTaprootPaymentFromAddressIndex */ .eL,
      network,
      extendedPublicKeyVersions
    });
  }, [account, accountIndex, extendedPublicKeyVersions, network]);
}
function useCurrentAccountTaprootIndexZeroSigner() {
  const signer = useCurrentAccountTaprootSigner();
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!signer) throw new Error("No signer");
    return signer(0);
  }, [signer]);
}
function useCurrentAccountTaprootSigner() {
  const currentAccountIndex = (0,_account__WEBPACK_IMPORTED_MODULE_5__/* .useCurrentAccountIndex */ .IR)();
  const network = (0,_app_store_networks_networks_selectors__WEBPACK_IMPORTED_MODULE_3__/* .useCurrentNetwork */ .Rm)();
  return useTaprootSigner(currentAccountIndex, network.chain.bitcoin.mode);
}
function useUpdateLedgerSpecificTaprootInputPropsForAdddressIndexZero() {
  const createTaprootSigner = useCurrentAccountTaprootSigner();
  return async (tx, fingerprint, inputsToUpdate = []) => {
    inputsToUpdate.forEach(({ index, derivationPath }) => {
      const taprootAddressIndexSigner = createTaprootSigner?.(
        (0,_leather_io_crypto__WEBPACK_IMPORTED_MODULE_2__/* .extractAddressIndexFromPath */ .HD)(derivationPath)
      );
      if (!taprootAddressIndexSigner)
        throw new Error(`Unable to update taproot input for path ${derivationPath}}`);
      tx.updateInput(index, {
        tapBip32Derivation: [
          {
            masterFingerprint: Buffer.from(fingerprint, "hex"),
            pubkey: Buffer.from((0,_leather_io_bitcoin__WEBPACK_IMPORTED_MODULE_1__/* .ecdsaPublicKeyToSchnorr */ .tm)(taprootAddressIndexSigner.publicKey)),
            path: derivationPath,
            leafHashes: []
          }
        ]
      });
    });
  };
}


/***/ }),

/***/ 14461:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Vr: () => (/* binding */ useCurrentStacksAccount),
  $3: () => (/* binding */ useCurrentStacksAccountAddress),
  FN: () => (/* binding */ useLegacyStacksWallet),
  Lh: () => (/* binding */ useStacksAccounts),
  b3: () => (/* binding */ useTransactionAccountIndex),
  QG: () => (/* binding */ useTransactionNetworkVersion)
});

// EXTERNAL MODULE: ./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js
var react = __webpack_require__(30758);
// EXTERNAL MODULE: ./node_modules/.pnpm/jotai@2.2.1_react@18.3.1/node_modules/jotai/esm/react.mjs
var esm_react = __webpack_require__(56068);
// EXTERNAL MODULE: ./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/esm/utils.js
var utils = __webpack_require__(19251);
// EXTERNAL MODULE: ./node_modules/.pnpm/reselect@5.1.1/node_modules/reselect/dist/reselect.mjs
var reselect = __webpack_require__(63150);
// EXTERNAL MODULE: ./node_modules/.pnpm/@scure+bip32@1.5.0/node_modules/@scure/bip32/lib/esm/index.js
var esm = __webpack_require__(58924);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+common@6.13.0/node_modules/@stacks/common/dist/esm/constants.js
var constants = __webpack_require__(7077);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/keys.js
var keys = __webpack_require__(80725);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/constants.js
var esm_constants = __webpack_require__(89108);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+wallet-sdk@6.15.0_encoding@0.1.13/node_modules/@stacks/wallet-sdk/dist/esm/derive.js
var derive = __webpack_require__(10576);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+wallet-sdk@6.15.0_encoding@0.1.13/node_modules/@stacks/wallet-sdk/dist/esm/generate.js
var generate = __webpack_require__(52816);
// EXTERNAL MODULE: ./node_modules/.pnpm/jotai@2.2.1_react@18.3.1/node_modules/jotai/esm/vanilla.mjs
var vanilla = __webpack_require__(89208);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+stacks@1.2.3_encoding@0.1.13/node_modules/@leather.io/stacks/dist/index.js
var dist = __webpack_require__(97786);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+utils@0.16.6/node_modules/@leather.io/utils/dist/index.js
var utils_dist = __webpack_require__(62684);
// EXTERNAL MODULE: ./src/shared/crypto/stacks/stacks-address-gen.ts
var stacks_address_gen = __webpack_require__(59596);
// EXTERNAL MODULE: ./src/shared/utils.ts
var shared_utils = __webpack_require__(45366);
// EXTERNAL MODULE: ./src/app/common/keychain/keychain.ts
var keychain = __webpack_require__(4618);
// EXTERNAL MODULE: ./src/app/store/index.ts + 1 modules
var app_store = __webpack_require__(62461);
// EXTERNAL MODULE: ./src/app/store/chains/stx-chain.selectors.ts
var stx_chain_selectors = __webpack_require__(93019);
// EXTERNAL MODULE: ./src/app/store/in-memory-key/in-memory-key.selectors.ts
var in_memory_key_selectors = __webpack_require__(90236);
// EXTERNAL MODULE: ./src/app/store/ledger/stacks/stacks-key.slice.ts
var stacks_key_slice = __webpack_require__(23564);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+models@0.18.2/node_modules/@leather.io/models/dist/index.js
var models_dist = __webpack_require__(89840);
// EXTERNAL MODULE: ./src/app/common/initial-search-params.ts
var initial_search_params = __webpack_require__(21975);
// EXTERNAL MODULE: ./src/app/store/networks/networks.selectors.ts
var networks_selectors = __webpack_require__(13468);
// EXTERNAL MODULE: ./src/app/store/networks/networks.utils.ts
var networks_utils = __webpack_require__(12463);
;// CONCATENATED MODULE: ./src/app/store/networks/networks.ts







const currentNetworkAtom = (0,vanilla/* atom */.eU)((get) => {
  const store = get(app_store/* storeAtom */.nc);
  const coreApiUrl = initial_search_params/* initialSearchParams */.VM.get("coreApiUrl");
  const networkChainId = initial_search_params/* initialSearchParams */.VM.get("networkChainId");
  const networkMode = initial_search_params/* initialSearchParams */.VM.get("network");
  const networks = (0,networks_selectors/* selectNetworks */.Ct)(store);
  if (networkMode) return networks[networkMode] ?? models_dist/* defaultCurrentNetwork */.$e;
  const currentNetworkId = (0,networks_selectors/* selectCurrentNetworkId */.J_)(store);
  const requestNetworkId = (0,networks_utils/* findMatchingNetworkKey */.A)({ coreApiUrl, networkChainId, networks });
  return networks[requestNetworkId || currentNetworkId] ?? models_dist/* defaultCurrentNetwork */.$e;
});

;// CONCATENATED MODULE: ./src/app/store/accounts/blockchain/stacks/stacks-accounts.ts


















function initalizeStacksAccount(rootKeychain, index) {
  const stxPrivateKey = (0,derive/* deriveStxPrivateKey */.dg)({ rootNode: rootKeychain, index });
  const pubKey = (0,keys/* getPublicKey */.lG)((0,keys/* createStacksPrivateKey */.wE)(stxPrivateKey));
  const identitiesKeychain = rootKeychain.derive(stacks_address_gen/* DATA_DERIVATION_PATH */.pF);
  const identityKeychain = identitiesKeychain.deriveChild(index + esm/* HARDENED_OFFSET */.w);
  if (!identityKeychain.privateKey) throw new Error("Must have private key to derive identities");
  const dataPrivateKey = (0,utils/* bytesToHex */.My)(identityKeychain.privateKey);
  const appsKey = identityKeychain.deriveChild(0 + esm/* HARDENED_OFFSET */.w).privateExtendedKey;
  const salt = (0,stacks_address_gen/* deriveStacksSalt */.NT)(identitiesKeychain);
  return {
    index,
    appsKey,
    dataPrivateKey,
    stxPrivateKey,
    publicKey: pubKey,
    salt,
    mainnetAddress: (0,keys/* publicKeyToAddress */.M)(esm_constants/* AddressVersion */.BY.MainnetSingleSig, pubKey),
    testnetAddress: (0,keys/* publicKeyToAddress */.M)(esm_constants/* AddressVersion */.BY.TestnetSingleSig, pubKey)
  };
}
const stacksAddressNetworkVersionState = (0,vanilla/* atom */.eU)((get) => {
  const currentNetwork = get(currentNetworkAtom);
  return (0,dist/* whenStacksChainId */.Yd)(currentNetwork.chain.stacks.chainId)({
    [constants/* ChainID */.n_.Mainnet]: esm_constants/* AddressVersion */.BY.MainnetSingleSig,
    [constants/* ChainID */.n_.Testnet]: esm_constants/* AddressVersion */.BY.TestnetSingleSig
  });
});
const selectStacksWalletState = (0,reselect/* createSelector */.Mz)(
  in_memory_key_selectors/* selectRootKeychain */.pu,
  stx_chain_selectors/* selectStacksChain */.l,
  (keychain, chain) => {
    if (!keychain) return;
    const { highestAccountIndex, currentAccountIndex } = chain[shared_utils/* defaultWalletKeyId */.z0];
    const numberOfAccountsToDerive = Math.max(highestAccountIndex, currentAccountIndex) + 1;
    return (0,utils_dist/* createNullArrayOfLength */.aC)(numberOfAccountsToDerive).map(
      (_, index) => initalizeStacksAccount(keychain, index)
    );
  }
);
const softwareAccountsState = (0,vanilla/* atom */.eU)((get) => {
  const store = get(app_store/* storeAtom */.nc);
  const addressVersion = get(stacksAddressNetworkVersionState) || esm_constants/* AddressVersion */.BY.TestnetSingleSig;
  const accounts = selectStacksWalletState(store);
  if (!accounts) return void 0;
  return accounts.map((account) => {
    const address = (0,keys/* publicKeyToAddress */.M)(addressVersion, (0,keys/* pubKeyfromPrivKey */.P5)(account.stxPrivateKey));
    const stxPublicKey = (0,keychain/* derivePublicKey */.C)(account.stxPrivateKey);
    const dataPublicKey = (0,keychain/* derivePublicKey */.C)(account.dataPrivateKey);
    return { ...account, type: "software", address, stxPublicKey, dataPublicKey };
  });
});
const ledgerAccountsState = (0,vanilla/* atom */.eU)((get) => {
  const addressVersion = get(stacksAddressNetworkVersionState);
  const ledgerKeys = (0,stacks_key_slice/* selectDefaultWalletStacksKeys */.Ov)(get(app_store/* storeAtom */.nc));
  return ledgerKeys.map((publicKeys, index) => {
    const address = (0,keys/* publicKeyToAddress */.M)(
      addressVersion,
      (0,keys/* createStacksPublicKey */.uC)(publicKeys.stxPublicKey)
    );
    return {
      ...publicKeys,
      type: "ledger",
      address,
      stxPublicKey: publicKeys.stxPublicKey,
      dataPublicKey: publicKeys.dataPublicKey,
      index
    };
  });
});
const stacksAccountState = (0,vanilla/* atom */.eU)((get) => {
  const ledgerAccounts = get(ledgerAccountsState);
  const softwareAccounts = get(softwareAccountsState);
  if (ledgerAccounts?.length) {
    return ledgerAccounts;
  }
  return softwareAccounts ?? [];
});
const legacyStackWallet = (0,vanilla/* atom */.eU)(async (get) => {
  const store = get(app_store/* storeAtom */.nc);
  const secretKey = (0,in_memory_key_selectors/* selectDefaultWalletKey */.se)(store);
  const accounts = get(softwareAccountsState);
  if (!secretKey) return;
  const wallet = await (0,generate/* generateWallet */.NN)({ secretKey, password: "" });
  wallet.accounts = accounts ?? [];
  return wallet;
});

// EXTERNAL MODULE: ./src/app/store/signatures/requests.hooks.ts
var requests_hooks = __webpack_require__(98695);
// EXTERNAL MODULE: ./src/app/store/transactions/requests.hooks.ts + 1 modules
var transactions_requests_hooks = __webpack_require__(62474);
;// CONCATENATED MODULE: ./src/app/store/transactions/transaction.ts





const transactionNetworkVersionState = (0,vanilla/* atom */.eU)((get) => {
  const currentNetwork = get(currentNetworkAtom);
  if (!currentNetwork.chain.stacks.chainId) return esm_constants/* TransactionVersion */.J_.Testnet;
  return (0,dist/* whenStacksChainId */.Yd)(currentNetwork.chain.stacks.chainId)({
    [esm_constants/* ChainID */.n_.Mainnet]: esm_constants/* TransactionVersion */.J_.Mainnet,
    [esm_constants/* ChainID */.n_.Testnet]: esm_constants/* TransactionVersion */.J_.Testnet
  });
});

// EXTERNAL MODULE: ./src/app/store/accounts/account.ts
var account = __webpack_require__(80763);
;// CONCATENATED MODULE: ./src/app/store/accounts/blockchain/stacks/stacks-account.hooks.ts








function useStacksAccounts() {
  return (0,esm_react/* useAtomValue */.md)(stacksAccountState);
}
function useCurrentStacksAccount() {
  const accountIndex = (0,account/* useCurrentAccountIndex */.IR)();
  const txIndex = useTransactionAccountIndex();
  const signatureIndex = (0,requests_hooks/* useSignatureRequestAccountIndex */.G)();
  const hasSwitched = (0,esm_react/* useAtomValue */.md)(account/* hasSwitchedAccountsState */.Jh);
  const accounts = useStacksAccounts();
  return (0,react.useMemo)(() => {
    const index = txIndex ?? signatureIndex;
    if (!accounts) return void 0;
    if (typeof index === "number" && !hasSwitched) return accounts[index];
    return accounts[accountIndex];
  }, [accountIndex, accounts, hasSwitched, signatureIndex, txIndex]);
}
function useCurrentStacksAccountAddress() {
  return useCurrentStacksAccount()?.address ?? "";
}
function useTransactionAccountIndex() {
  const accounts = (0,esm_react/* useAtomValue */.md)(stacksAccountState);
  const txPayload = (0,transactions_requests_hooks/* useTransactionRequestState */.o)();
  const txAddress = txPayload?.stxAddress;
  return (0,react.useMemo)(() => {
    if (txAddress && accounts) {
      return accounts.findIndex((account) => account.address === txAddress);
    }
    return void 0;
  }, [accounts, txAddress]);
}
function useTransactionNetworkVersion() {
  return (0,esm_react/* useAtomValue */.md)(transactionNetworkVersionState);
}
function useLegacyStacksWallet() {
  return (0,esm_react/* useAtomValue */.md)(legacyStackWallet);
}


/***/ }),

/***/ 75847:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   X: () => (/* binding */ useAppPermissions),
/* harmony export */   k: () => (/* binding */ appPermissionsSlice)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30758);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(69357);
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(63816);




const appPermissionsAdapter = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__/* .createEntityAdapter */ .pU)({
  selectId: (permission) => permission.origin
});
const initialState = appPermissionsAdapter.getInitialState();
const appPermissionsSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__/* .createSlice */ .Z0)({
  name: "appPermissions",
  initialState,
  reducers: { updatePermission: appPermissionsAdapter.upsertOne }
});
function useAppPermissions() {
  const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__/* .useDispatch */ .wA)();
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(
    () => ({
      hasRequestedAccounts(origin) {
        const url = new URL(origin).hostname;
        dispatch(
          appPermissionsSlice.actions.updatePermission({
            origin: url,
            requestedAccounts: (/* @__PURE__ */ new Date()).toISOString()
          })
        );
      }
    }),
    [dispatch]
  );
}


/***/ }),

/***/ 93019:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   l: () => (/* binding */ selectStacksChain)
/* harmony export */ });

const selectStacksChain = (state) => state.chains.stx;


/***/ }),

/***/ 61803:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   B: () => (/* binding */ stxChainSlice)
/* harmony export */ });
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(63816);
/* harmony import */ var _shared_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(45366);
/* harmony import */ var _software_keys_software_key_slice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(95858);




const initialState = {
  [_shared_utils__WEBPACK_IMPORTED_MODULE_0__/* .defaultWalletKeyId */ .z0]: {
    highestAccountIndex: 0,
    currentAccountIndex: 0
  }
};
const stxChainSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createSlice */ .Z0)({
  name: "stxChain",
  initialState,
  reducers: {
    switchAccount(state, action) {
      state.default.currentAccountIndex = action.payload;
    },
    createNewAccount(state) {
      state.default.highestAccountIndex += 1;
      state.default.currentAccountIndex = state.default.highestAccountIndex;
    },
    restoreAccountIndex(state, action) {
      state.default.highestAccountIndex = action.payload;
    }
  },
  extraReducers: (builder) => {
    builder.addCase(_software_keys_software_key_slice__WEBPACK_IMPORTED_MODULE_1__/* .keySlice */ .W.actions.signOut.toString(), (state) => {
      state.default.highestAccountIndex = 0;
      state.default.currentAccountIndex = 0;
    });
  }
});


/***/ }),

/***/ 52225:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ik: () => (/* binding */ selectWalletType),
/* harmony export */   iq: () => (/* binding */ useWalletTypeSelector)
/* harmony export */ });
/* unused harmony export WalletType */
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(69357);
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(63150);
/* harmony import */ var _ledger_ledger_selectors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(36528);
/* harmony import */ var _software_keys_software_key_selectors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(27977);





var WalletType = /* @__PURE__ */ ((WalletType2) => {
  WalletType2["Ledger"] = "ledger";
  WalletType2["Software"] = "software";
  return WalletType2;
})(WalletType || {});
const selectWalletType = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__/* .createSelector */ .Mz)(
  _ledger_ledger_selectors__WEBPACK_IMPORTED_MODULE_0__/* .selectHasLedgerKeys */ .u9,
  _software_keys_software_key_selectors__WEBPACK_IMPORTED_MODULE_1__/* .selectHasSecretKey */ .qH,
  (hasLedgerKeys, hasSecretKey) => {
    if (hasSecretKey) {
      return "software" /* Software */;
    }
    if (hasLedgerKeys) {
      return "ledger" /* Ledger */;
    }
    return void 0;
  }
);
function useWalletTypeSelector() {
  return (0,react_redux__WEBPACK_IMPORTED_MODULE_3__/* .useSelector */ .d4)(selectWalletType);
}


/***/ }),

/***/ 74285:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   b: () => (/* binding */ inMemoryKeyActions)
/* harmony export */ });
/* harmony import */ var _in_memory_key_slice__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(96528);


const inMemoryKeyActions = _in_memory_key_slice__WEBPACK_IMPORTED_MODULE_0__/* .inMemoryKeySlice */ .w.actions;


/***/ }),

/***/ 90236:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DA: () => (/* binding */ useDefaultWalletSecretKey),
/* harmony export */   Vf: () => (/* binding */ useHasDefaultInMemoryWalletSecretKey),
/* harmony export */   pu: () => (/* binding */ selectRootKeychain),
/* harmony export */   se: () => (/* binding */ selectDefaultWalletKey)
/* harmony export */ });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(69357);
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(63150);
/* harmony import */ var _shared_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(45366);
/* harmony import */ var _shared_utils_text_encoding__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(22694);
/* harmony import */ var _app_common_keychain_keychain__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(4618);






const selectInMemoryKeys = (state) => state.inMemoryKeys;
const selectDefaultInMemoryWalletKeyBytes = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__/* .createSelector */ .Mz)(
  selectInMemoryKeys,
  (state) => state.keys[_shared_utils__WEBPACK_IMPORTED_MODULE_0__/* .defaultWalletKeyId */ .z0]
);
const selectHasDefaultInMemoryWalletKey = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__/* .createSelector */ .Mz)(
  selectDefaultInMemoryWalletKeyBytes,
  (key) => !!key
);
function useHasDefaultInMemoryWalletSecretKey() {
  return (0,react_redux__WEBPACK_IMPORTED_MODULE_2__/* .useSelector */ .d4)(selectHasDefaultInMemoryWalletKey);
}
const selectDefaultWalletKey = (state) => {
  const defaultWalletBytes = selectDefaultInMemoryWalletKeyBytes(state);
  if (!defaultWalletBytes) return null;
  return (0,_shared_utils_text_encoding__WEBPACK_IMPORTED_MODULE_3__/* .decodeText */ .g)(defaultWalletBytes);
};
const selectRootKeychain = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__/* .createSelector */ .Mz)(
  selectDefaultInMemoryWalletKeyBytes,
  (defaultKey) => {
    if (!defaultKey) return null;
    return (0,_app_common_keychain_keychain__WEBPACK_IMPORTED_MODULE_4__/* .mnemonicToRootNode */ .G)((0,_shared_utils_text_encoding__WEBPACK_IMPORTED_MODULE_3__/* .decodeText */ .g)(defaultKey));
  }
);
function useDefaultWalletSecretKey() {
  return (0,react_redux__WEBPACK_IMPORTED_MODULE_2__/* .useSelector */ .d4)(selectDefaultWalletKey);
}


/***/ }),

/***/ 96528:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   w: () => (/* binding */ inMemoryKeySlice)
/* harmony export */ });
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(63816);
/* harmony import */ var _shared_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(41303);
/* harmony import */ var _shared_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(45366);
/* harmony import */ var _shared_utils_text_encoding__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(22694);
/* harmony import */ var _software_keys_software_key_slice__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(95858);






const initialState = {
  hasRestoredKeys: false,
  keys: {}
};
const inMemoryKeySlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__/* .createSlice */ .Z0)({
  name: "inMemoryKey",
  initialState,
  reducers: {
    generateWalletKey(state, action) {
      if (state.keys[_shared_utils__WEBPACK_IMPORTED_MODULE_1__/* .defaultWalletKeyId */ .z0]) {
        _shared_logger__WEBPACK_IMPORTED_MODULE_0__/* .logger */ .v.warn("Not generating another wallet, already exists.");
        return;
      }
      state.keys[_shared_utils__WEBPACK_IMPORTED_MODULE_1__/* .defaultWalletKeyId */ .z0] = (0,_shared_utils_text_encoding__WEBPACK_IMPORTED_MODULE_4__/* .encodeText */ .w)(action.payload);
    },
    setDefaultKey(state, action) {
      state.keys[_shared_utils__WEBPACK_IMPORTED_MODULE_1__/* .defaultWalletKeyId */ .z0] = (0,_shared_utils_text_encoding__WEBPACK_IMPORTED_MODULE_4__/* .encodeText */ .w)(action.payload);
    },
    lockWallet(state) {
      state.keys = {};
    }
  },
  extraReducers: (builder) => {
    builder.addCase(_software_keys_software_key_slice__WEBPACK_IMPORTED_MODULE_2__/* .keySlice */ .W.actions.signOut.toString(), (state) => {
      state.keys = {};
    });
  }
});


/***/ }),

/***/ 62461:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  qj: () => (/* binding */ persistor),
  M_: () => (/* binding */ store),
  nc: () => (/* binding */ storeAtom),
  jL: () => (/* binding */ useAppDispatch),
  nt: () => (/* binding */ useHasStateRehydrated)
});

// EXTERNAL MODULE: ./node_modules/.pnpm/react-redux@9.1.2_@types+react@18.3.10_react@18.3.1_redux@5.0.1/node_modules/react-redux/dist/react-redux.mjs
var react_redux = __webpack_require__(69357);
// EXTERNAL MODULE: ./node_modules/.pnpm/redux@5.0.1/node_modules/redux/dist/redux.mjs
var redux = __webpack_require__(18398);
// EXTERNAL MODULE: ./node_modules/.pnpm/@reduxjs+toolkit@2.2.7_react-redux@9.1.2_@types+react@18.3.10_react@18.3.1_redux@5.0.1__react@18.3.1/node_modules/@reduxjs/toolkit/dist/redux-toolkit.modern.mjs + 2 modules
var redux_toolkit_modern = __webpack_require__(63816);
// EXTERNAL MODULE: ./node_modules/.pnpm/jotai-redux@0.2.1_jotai@2.2.1_react@18.3.1_/node_modules/jotai-redux/dist/index.modern.js
var index_modern = __webpack_require__(30159);
// EXTERNAL MODULE: ./node_modules/.pnpm/redux-persist@6.0.0_react@18.3.1_redux@5.0.1/node_modules/redux-persist/es/index.js + 8 modules
var es = __webpack_require__(38183);
// EXTERNAL MODULE: ./src/shared/storage/redux-pesist.ts
var redux_pesist = __webpack_require__(25980);
// EXTERNAL MODULE: ./src/app/store/app-permissions/app-permissions.slice.ts
var app_permissions_slice = __webpack_require__(75847);
// EXTERNAL MODULE: ./src/app/store/chains/stx-chain.slice.ts
var stx_chain_slice = __webpack_require__(61803);
// EXTERNAL MODULE: ./src/app/store/in-memory-key/in-memory-key.slice.ts
var in_memory_key_slice = __webpack_require__(96528);
// EXTERNAL MODULE: ./src/app/store/ledger/bitcoin/bitcoin-key.slice.ts
var bitcoin_key_slice = __webpack_require__(528);
// EXTERNAL MODULE: ./src/app/store/ledger/stacks/stacks-key.slice.ts
var stacks_key_slice = __webpack_require__(23564);
// EXTERNAL MODULE: ./src/app/store/manage-tokens/manage-tokens.slice.ts
var manage_tokens_slice = __webpack_require__(76800);
// EXTERNAL MODULE: ./src/app/store/networks/networks.slice.ts
var networks_slice = __webpack_require__(34096);
// EXTERNAL MODULE: ./src/app/store/settings/settings.slice.ts
var settings_slice = __webpack_require__(81220);
// EXTERNAL MODULE: ./src/app/store/software-keys/software-key.slice.ts + 1 modules
var software_key_slice = __webpack_require__(95858);
// EXTERNAL MODULE: ./src/app/store/submitted-transactions/submitted-transactions.slice.ts
var submitted_transactions_slice = __webpack_require__(37048);
;// CONCATENATED MODULE: ./src/app/store/utils/broadcast-action-types.ts


const broadcastActionTypeToOtherFramesMiddleware = (_store) => (next) => (action) => {
  if ((0,redux/* isAction */.ve)(action)) chrome.runtime.sendMessage({ method: action.type });
  return next(action);
};

;// CONCATENATED MODULE: ./src/app/store/index.ts


















const appReducer = (0,redux/* combineReducers */.HY)({
  appPermissions: app_permissions_slice/* appPermissionsSlice */.k.reducer,
  chains: (0,redux/* combineReducers */.HY)({
    stx: stx_chain_slice/* stxChainSlice */.B.reducer
  }),
  ledger: (0,redux/* combineReducers */.HY)({
    bitcoin: bitcoin_key_slice/* bitcoinKeysSlice */.F_.reducer,
    stacks: stacks_key_slice/* stacksKeysSlice */.mh.reducer
  }),
  inMemoryKeys: in_memory_key_slice/* inMemoryKeySlice */.w.reducer,
  softwareKeys: software_key_slice/* keySlice */.W.reducer,
  ordinals: (state = {}) => state,
  networks: networks_slice/* networksSlice */.A.reducer,
  submittedTransactions: submitted_transactions_slice/* submittedTransactionsSlice */.Z.reducer,
  settings: settings_slice/* settingsSlice */.s.reducer,
  manageTokens: manage_tokens_slice/* manageTokensSlice */.G.reducer
});
function rootReducer(state, action) {
  if (action.type === "keys/signOut") return appReducer(void 0, action);
  return appReducer(state, action);
}
const persistedReducer = (0,es/* persistReducer */.rL)(redux_pesist/* persistConfig */.x, rootReducer);
const store = (0,redux_toolkit_modern/* configureStore */.U1)({
  reducer: persistedReducer,
  middleware: (getDefaultMiddleware) => getDefaultMiddleware({
    serializableCheck: {
      ignoredActions: [es/* FLUSH */.ZM, es/* REHYDRATE */.r2, es/* PAUSE */.Hz, es/* PERSIST */.DY, es/* PURGE */.Cq, es/* REGISTER */.eY]
    }
  }).concat(new redux_toolkit_modern/* Tuple */.rd(broadcastActionTypeToOtherFramesMiddleware)),
  enhancers: (getDefaultEnhancers) => getDefaultEnhancers().concat(
     false ? 0 : []
  )
});
const persistor = (0,es/* persistStore */.GM)(store);
const useAppDispatch = react_redux/* useDispatch */.wA;
const storeAtom = (0,index_modern/* atomWithStore */.r)(store);
const selectHasRehydrated = (state) => state._persist.rehydrated;
function useHasStateRehydrated() {
  return (0,react_redux/* useSelector */.d4)(selectHasRehydrated);
}


/***/ }),

/***/ 528:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   F_: () => (/* binding */ bitcoinKeysSlice),
/* harmony export */   Rv: () => (/* binding */ selectDefaultWalletBitcoinKeys),
/* harmony export */   vR: () => (/* binding */ selectDefaultWalletBitcoinKeyEntities)
/* harmony export */ });
/* unused harmony export adapter */
/* harmony import */ var _ledger_chain_key_storage_generator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(35554);


function selectBitcoinKeysSlice(state) {
  return state.ledger.bitcoin;
}
const { slice: bitcoinKeysSlice, adapter } = (0,_ledger_chain_key_storage_generator__WEBPACK_IMPORTED_MODULE_0__/* .generateLedgerChainKeyStorageSlice */ .K)("bitcoin");
const selectors = adapter.getSelectors(selectBitcoinKeysSlice);
const selectDefaultWalletBitcoinKeyEntities = selectors.selectEntities;
const selectDefaultWalletBitcoinKeys = selectors.selectAll;


/***/ }),

/***/ 35554:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   K: () => (/* binding */ generateLedgerChainKeyStorageSlice)
/* harmony export */ });
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(63816);
/* harmony import */ var _shared_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(45366);



function generateLedgerChainKeyStorageSlice(name) {
  const adapter = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__/* .createEntityAdapter */ .pU)();
  const initialState = adapter.getInitialState();
  const slice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__/* .createSlice */ .Z0)({
    name: name + "Keys",
    initialState,
    reducers: {
      addKeys(state, { payload }) {
        adapter.addMany(
          state,
          // While we only support a single wallet, we default to the `default` walletId
          payload.map((key) => ({ ...key, walletId: _shared_utils__WEBPACK_IMPORTED_MODULE_0__/* .defaultWalletKeyId */ .z0 }))
        );
      },
      signOut(state) {
        adapter.removeAll(state);
      }
    }
  });
  return { slice, initialState, adapter };
}


/***/ }),

/***/ 36528:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L$: () => (/* binding */ useHasLedgerKeys),
/* harmony export */   X0: () => (/* binding */ useLedgerDeviceTargetId),
/* harmony export */   u9: () => (/* binding */ selectHasLedgerKeys)
/* harmony export */ });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(69357);
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(63150);
/* harmony import */ var _leather_io_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62684);




const selectLedger = (state) => state.ledger;
const selectNumberOfLedgerKeysPersisted = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__/* .createSelector */ .Mz)(
  selectLedger,
  (ledger) => (0,_leather_io_utils__WEBPACK_IMPORTED_MODULE_0__/* .sumNumbers */ .Ye)(Object.values(ledger).map((chain) => Object.keys(chain.entities).length))
);
const selectHasLedgerKeys = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__/* .createSelector */ .Mz)(
  selectNumberOfLedgerKeysPersisted,
  (numOfKeys) => numOfKeys.isGreaterThan(0)
);
function useHasLedgerKeys() {
  return (0,react_redux__WEBPACK_IMPORTED_MODULE_2__/* .useSelector */ .d4)(selectHasLedgerKeys);
}
function useLedgerDeviceTargetId() {
  return (0,react_redux__WEBPACK_IMPORTED_MODULE_2__/* .useSelector */ .d4)(
    (state) => state.ledger.stacks.entities[0]?.targetId || state.ledger.bitcoin.entities[0]?.targetId || ""
  );
}


/***/ }),

/***/ 23564:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Ov: () => (/* binding */ selectDefaultWalletStacksKeys),
/* harmony export */   mh: () => (/* binding */ stacksKeysSlice)
/* harmony export */ });
/* unused harmony export adapter */
/* harmony import */ var _ledger_chain_key_storage_generator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(35554);


function selectStacksKeysSlice(state) {
  return state.ledger.stacks;
}
const { slice: stacksKeysSlice, adapter } = (0,_ledger_chain_key_storage_generator__WEBPACK_IMPORTED_MODULE_0__/* .generateLedgerChainKeyStorageSlice */ .K)("stacks");
const selectors = adapter.getSelectors(selectStacksKeysSlice);
const selectDefaultWalletStacksKeys = selectors.selectAll;


/***/ }),

/***/ 76800:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   G: () => (/* binding */ manageTokensSlice),
/* harmony export */   n: () => (/* binding */ useUserAllTokens)
/* harmony export */ });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(69357);
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(63816);
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(63150);



const manageTokensAdapter = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__/* .createEntityAdapter */ .pU)();
const manageTokensSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__/* .createSlice */ .Z0)({
  name: "manageTokens",
  initialState: manageTokensAdapter.getInitialState(),
  reducers: {
    userTogglesTokenVisibility(state, action) {
      manageTokensAdapter.setOne(state, {
        id: action.payload.id,
        enabled: action.payload.enabled,
        accountIndex: action.payload.accountIndex
      });
    },
    removeAllTokens(state) {
      manageTokensAdapter.removeAll(state);
    }
  }
});
const selectors = manageTokensAdapter.getSelectors();
function selectTokenState(state) {
  return state.manageTokens;
}
const selectAllTokens = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__/* .createSelector */ .Mz)(selectTokenState, selectors.selectAll);
function useUserAllTokens() {
  return (0,react_redux__WEBPACK_IMPORTED_MODULE_2__/* .useSelector */ .d4)(selectAllTokens);
}


/***/ }),

/***/ 54667:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  cJ: () => (/* binding */ useAppRequestedNetworkId),
  uZ: () => (/* binding */ useCurrentNetworkState),
  hB: () => (/* binding */ useCurrentStacksNetworkState),
  aV: () => (/* binding */ useNetworksActions)
});

// EXTERNAL MODULE: ./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js
var react = __webpack_require__(30758);
// EXTERNAL MODULE: ./node_modules/.pnpm/react-redux@9.1.2_@types+react@18.3.10_react@18.3.1_redux@5.0.1/node_modules/react-redux/dist/react-redux.mjs
var react_redux = __webpack_require__(69357);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+network@6.13.0_encoding@0.1.13/node_modules/@stacks/network/dist/esm/network.js
var network = __webpack_require__(67689);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/constants.js
var constants = __webpack_require__(89108);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+models@0.18.2/node_modules/@leather.io/models/dist/index.js
var dist = __webpack_require__(89840);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+stacks@1.2.3_encoding@0.1.13/node_modules/@leather.io/stacks/dist/index.js
var stacks_dist = __webpack_require__(97786);
// EXTERNAL MODULE: ./src/app/store/index.ts + 1 modules
var store = __webpack_require__(62461);
// EXTERNAL MODULE: ./src/app/store/networks/networks.slice.ts
var networks_slice = __webpack_require__(34096);
;// CONCATENATED MODULE: ./src/app/store/networks/networks.actions.ts


const networksActions = networks_slice/* networksSlice */.A.actions;

// EXTERNAL MODULE: ./src/app/store/networks/networks.selectors.ts
var networks_selectors = __webpack_require__(13468);
;// CONCATENATED MODULE: ./src/app/store/networks/networks.hooks.ts










function useCurrentNetworkState() {
  const currentNetwork = (0,networks_selectors/* useCurrentNetwork */.Rm)();
  return (0,react.useMemo)(() => {
    const isTestnet = currentNetwork.chain.stacks.chainId === constants/* ChainID */.n_.Testnet;
    const isNakamotoTestnet = currentNetwork.chain.stacks.url === dist/* HIRO_API_BASE_URL_NAKAMOTO_TESTNET */.DB;
    const mode = isTestnet ? "testnet" : "mainnet";
    return { ...currentNetwork, isTestnet, isNakamotoTestnet, mode };
  }, [currentNetwork]);
}
function useCurrentStacksNetworkState() {
  const currentNetwork = (0,networks_selectors/* useCurrentNetwork */.Rm)();
  return (0,react.useMemo)(() => {
    if (!currentNetwork) throw new Error("No current network");
    const stacksNetwork = new network/* StacksNetwork */.Wf({ url: currentNetwork.chain.stacks.url });
    stacksNetwork.version = (0,stacks_dist/* whenStacksChainId */.Yd)(currentNetwork.chain.stacks.chainId)({
      [constants/* ChainID */.n_.Mainnet]: constants/* TransactionVersion */.J_.Mainnet,
      [constants/* ChainID */.n_.Testnet]: constants/* TransactionVersion */.J_.Testnet
    });
    stacksNetwork.chainId = currentNetwork.chain.stacks.subnetChainId ?? currentNetwork.chain.stacks.chainId;
    stacksNetwork.bnsLookupUrl = currentNetwork.chain.stacks.url || "";
    return stacksNetwork;
  }, [currentNetwork]);
}
function useNetworksActions() {
  const dispatch = (0,store/* useAppDispatch */.jL)();
  return (0,react.useMemo)(
    () => ({
      addNetwork({
        id,
        name,
        chainId,
        subnetChainId,
        url,
        bitcoinNetwork,
        bitcoinUrl
      }) {
        dispatch(
          networksActions.addNetwork({
            id,
            name,
            chainId,
            subnetChainId,
            url,
            bitcoinNetwork,
            mode: (0,dist/* bitcoinNetworkToNetworkMode */.Tf)(bitcoinNetwork),
            bitcoinUrl
          })
        );
        dispatch(networksActions.changeNetwork(id));
        return;
      },
      changeNetwork(id) {
        return dispatch(networksActions.changeNetwork(id));
      },
      removeNetwork(id) {
        return dispatch(networksActions.removeNetwork(id));
      }
    }),
    [dispatch]
  );
}
function useAppRequestedNetworkId() {
  return (0,react_redux/* useSelector */.d4)(networks_selectors/* selectAppRequestedNetworkId */.Rh);
}


/***/ }),

/***/ 13468:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Ct: () => (/* binding */ selectNetworks),
/* harmony export */   J_: () => (/* binding */ selectCurrentNetworkId),
/* harmony export */   Rh: () => (/* binding */ selectAppRequestedNetworkId),
/* harmony export */   Rm: () => (/* binding */ useCurrentNetwork),
/* harmony export */   Uv: () => (/* binding */ useCurrentNetworkId),
/* harmony export */   c1: () => (/* binding */ selectCurrentNetwork),
/* harmony export */   fI: () => (/* binding */ useNetworks)
/* harmony export */ });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(69357);
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(63150);
/* harmony import */ var _leather_io_models__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(89840);
/* harmony import */ var _app_common_initial_search_params__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(21975);
/* harmony import */ var _networks_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(54667);
/* harmony import */ var _networks_slice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(34096);
/* harmony import */ var _networks_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(12463);








const selectNetworksSlice = (state) => state.networks;
const networksSelectors = _networks_slice__WEBPACK_IMPORTED_MODULE_3__/* .networksAdapter */ .t.getSelectors(selectNetworksSlice);
const selectNetworks = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_5__/* .createSelector */ .Mz)(
  networksSelectors.selectEntities,
  (state) => ({
    ..._leather_io_models__WEBPACK_IMPORTED_MODULE_0__/* .defaultNetworksKeyedById */ .fz,
    ...(0,_networks_utils__WEBPACK_IMPORTED_MODULE_4__/* .transformNetworkStateToMultichainStucture */ .I)(state)
  })
);
const selectCurrentNetworkId = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_5__/* .createSelector */ .Mz)(
  selectNetworksSlice,
  (state) => state.currentNetworkId
);
const selectAppRequestedNetworkId = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_5__/* .createSelector */ .Mz)(selectNetworks, (networks) => {
  const coreApiUrl = _app_common_initial_search_params__WEBPACK_IMPORTED_MODULE_1__/* .initialSearchParams */ .VM.get("coreApiUrl");
  const networkChainId = _app_common_initial_search_params__WEBPACK_IMPORTED_MODULE_1__/* .initialSearchParams */ .VM.get("networkChainId");
  const network = _app_common_initial_search_params__WEBPACK_IMPORTED_MODULE_1__/* .initialSearchParams */ .VM.get("network");
  if (network && networks[network]?.id) return networks[network]?.id;
  return (0,_networks_utils__WEBPACK_IMPORTED_MODULE_4__/* .findMatchingNetworkKey */ .A)({ coreApiUrl, networkChainId, networks });
});
const selectCurrentNetwork = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_5__/* .createSelector */ .Mz)(
  selectNetworks,
  selectCurrentNetworkId,
  selectAppRequestedNetworkId,
  (networks, currentNetworkId, appRequestedNetworkId) => networks[appRequestedNetworkId || currentNetworkId] ?? _leather_io_models__WEBPACK_IMPORTED_MODULE_0__/* .defaultCurrentNetwork */ .$e
);
function useNetworks() {
  return (0,react_redux__WEBPACK_IMPORTED_MODULE_6__/* .useSelector */ .d4)(selectNetworks);
}
function useCurrentNetworkId() {
  const requestNetworkId = (0,_networks_hooks__WEBPACK_IMPORTED_MODULE_2__/* .useAppRequestedNetworkId */ .cJ)();
  const currentNetworkId = (0,react_redux__WEBPACK_IMPORTED_MODULE_6__/* .useSelector */ .d4)(selectCurrentNetworkId);
  return requestNetworkId ?? currentNetworkId;
}
function useCurrentNetwork() {
  return (0,react_redux__WEBPACK_IMPORTED_MODULE_6__/* .useSelector */ .d4)(selectCurrentNetwork);
}


/***/ }),

/***/ 34096:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ networksSlice),
/* harmony export */   t: () => (/* binding */ networksAdapter)
/* harmony export */ });
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(63816);
/* harmony import */ var _leather_io_models__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(89840);



const defaultCurrentNetworkId = _leather_io_models__WEBPACK_IMPORTED_MODULE_0__/* .WalletDefaultNetworkConfigurationIds */ .Re.mainnet;
const networksAdapter = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__/* .createEntityAdapter */ .pU)();
const initialNetworksState = networksAdapter.getInitialState({
  currentNetworkId: defaultCurrentNetworkId
});
const networksSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__/* .createSlice */ .Z0)({
  name: "networks",
  initialState: initialNetworksState,
  reducers: {
    addNetwork(state, action) {
      networksAdapter.addOne(state, action.payload);
    },
    changeNetwork(state, action) {
      state.currentNetworkId = action.payload;
    },
    removeNetwork(state, action) {
      networksAdapter.removeOne(state, action.payload);
    }
  }
});


/***/ }),

/***/ 12463:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ findMatchingNetworkKey),
/* harmony export */   I: () => (/* binding */ transformNetworkStateToMultichainStucture)
/* harmony export */ });
/* harmony import */ var _stacks_transactions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(89108);
/* harmony import */ var _leather_io_models__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(89840);



function findMatchingNetworkKey({
  coreApiUrl,
  networkChainId,
  networks
}) {
  if (!networks || !coreApiUrl && !networkChainId) return;
  const keys = Object.keys(networks);
  const exactUrlMatch = keys.find((key) => {
    const network = networks[key];
    return network.chain.stacks.url === coreApiUrl;
  });
  if (exactUrlMatch) return exactUrlMatch;
  const chainIdMatch = keys.find((key) => {
    const network = networks[key];
    return network.chain.stacks.url === coreApiUrl || network.chain.stacks.chainId === Number(networkChainId);
  });
  if (chainIdMatch) return chainIdMatch;
  return null;
}
function checkBitcoinNetworkProperties(network) {
  if (!network.bitcoinNetwork || !network.bitcoinUrl) {
    const bitcoinNetwork = network.chainId === _stacks_transactions__WEBPACK_IMPORTED_MODULE_1__/* .ChainID */ .n_.Mainnet ? "mainnet" : "testnet3";
    return {
      id: network.id,
      name: network.name,
      chainId: network.chainId,
      subnetChainId: network.subnetChainId,
      url: network.url,
      bitcoinNetwork,
      mode: (0,_leather_io_models__WEBPACK_IMPORTED_MODULE_0__/* .bitcoinNetworkToNetworkMode */ .Tf)(bitcoinNetwork),
      bitcoinUrl: network.chainId === _stacks_transactions__WEBPACK_IMPORTED_MODULE_1__/* .ChainID */ .n_.Mainnet ? _leather_io_models__WEBPACK_IMPORTED_MODULE_0__/* .BITCOIN_API_BASE_URL_MAINNET */ .DA : _leather_io_models__WEBPACK_IMPORTED_MODULE_0__/* .BITCOIN_API_BASE_URL_TESTNET3 */ .d4
    };
  } else {
    return network;
  }
}
function transformNetworkStateToMultichainStucture(state) {
  return Object.fromEntries(
    Object.entries(state).map(([key, network]) => {
      if (!network) return ["", null];
      const { id, name, chainId, subnetChainId, url, bitcoinNetwork, bitcoinUrl } = checkBitcoinNetworkProperties(network);
      return [
        key,
        {
          id,
          name,
          chain: {
            stacks: {
              blockchain: "stacks",
              url,
              chainId,
              subnetChainId
            },
            bitcoin: {
              blockchain: "bitcoin",
              bitcoinNetwork: bitcoinNetwork ?? "testnet",
              mode: (0,_leather_io_models__WEBPACK_IMPORTED_MODULE_0__/* .bitcoinNetworkToNetworkMode */ .Tf)(bitcoinNetwork ?? "testnet"),
              bitcoinUrl: bitcoinUrl ?? _leather_io_models__WEBPACK_IMPORTED_MODULE_0__/* .BITCOIN_API_BASE_URL_TESTNET3 */ .d4
            }
          }
        }
      ];
    }).filter(([_, value]) => value !== null)
  );
}


/***/ }),

/***/ 93611:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  S: () => (/* binding */ useSecretKeyState),
  g: () => (/* binding */ useSeedInputErrorState)
});

// EXTERNAL MODULE: ./node_modules/.pnpm/jotai@2.2.1_react@18.3.1/node_modules/jotai/esm/react.mjs
var react = __webpack_require__(56068);
// EXTERNAL MODULE: ./node_modules/.pnpm/jotai@2.2.1_react@18.3.1/node_modules/jotai/esm/vanilla.mjs
var vanilla = __webpack_require__(89208);
;// CONCATENATED MODULE: ./src/app/store/onboarding/onboarding.ts


const seedInputErrorState = (0,vanilla/* atom */.eU)(void 0);
const secretKeyState = (0,vanilla/* atom */.eU)(null);

;// CONCATENATED MODULE: ./src/app/store/onboarding/onboarding.hooks.ts



function useSeedInputErrorState() {
  return (0,react/* useAtom */.fp)(seedInputErrorState);
}
function useSecretKeyState() {
  return (0,react/* useAtomValue */.md)(secretKeyState);
}


/***/ }),

/***/ 26580:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Q3: () => (/* binding */ restoreWalletSession),
/* harmony export */   RR: () => (/* binding */ initalizeWalletSession),
/* harmony export */   r9: () => (/* binding */ clearWalletSession)
/* harmony export */ });
/* harmony import */ var _stacks_wallet_sdk__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(94431);
/* harmony import */ var _shared_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(41303);
/* harmony import */ var _app_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62461);
/* harmony import */ var _app_store_in_memory_key_in_memory_key_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(74285);
/* harmony import */ var _app_store_software_keys_software_key_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(27977);






async function initalizeWalletSession(encryptionKey) {
  return chrome.storage.session.set({ encryptionKey });
}
async function clearWalletSession() {
  return chrome.storage.session.remove("encryptionKey");
}
async function restoreWalletSession() {
  const key = await chrome.storage.session.get(["encryptionKey"]);
  if (!key.encryptionKey) return;
  try {
    const currentKey = (0,_app_store_software_keys_software_key_selectors__WEBPACK_IMPORTED_MODULE_3__/* .selectDefaultSoftwareKey */ .MM)(_app_store__WEBPACK_IMPORTED_MODULE_1__/* .store */ .M_.getState());
    if (currentKey?.type === "software") {
      const secretKey = await (0,_stacks_wallet_sdk__WEBPACK_IMPORTED_MODULE_4__/* .decrypt */ .Y)(currentKey.encryptedSecretKey, key.encryptionKey);
      _app_store__WEBPACK_IMPORTED_MODULE_1__/* .store */ .M_.dispatch(_app_store_in_memory_key_in_memory_key_actions__WEBPACK_IMPORTED_MODULE_2__/* .inMemoryKeyActions */ .b.setDefaultKey(secretKey));
    }
  } catch (e) {
    _shared_logger__WEBPACK_IMPORTED_MODULE_0__/* .logger */ .v.error("Failed to decrypt secret key");
  }
}


/***/ }),

/***/ 18025:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HM: () => (/* binding */ useDismissMessage),
/* harmony export */   Mz: () => (/* binding */ useTogglePrivateMode),
/* harmony export */   dr: () => (/* binding */ settingsActions)
/* harmony export */ });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(69357);
/* harmony import */ var _settings_slice__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(81220);



const settingsActions = _settings_slice__WEBPACK_IMPORTED_MODULE_0__/* .settingsSlice */ .s.actions;
function useDismissMessage() {
  const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__/* .useDispatch */ .wA)();
  return (messageId) => dispatch(settingsActions.messageDismissed(messageId));
}
function useTogglePrivateMode() {
  const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__/* .useDispatch */ .wA)();
  return () => dispatch(settingsActions.togglePrivateMode());
}


/***/ }),

/***/ 73448:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cT: () => (/* binding */ useIsPrivateMode),
/* harmony export */   co: () => (/* binding */ useDismissedMessageIds),
/* harmony export */   h5: () => (/* binding */ useUserSelectedTheme)
/* harmony export */ });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(69357);
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(63150);



const selectSettings = (state) => state.settings;
const selectUserSelectedTheme = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__/* .createSelector */ .Mz)(selectSettings, (state) => state.userSelectedTheme);
function useUserSelectedTheme() {
  return (0,react_redux__WEBPACK_IMPORTED_MODULE_1__/* .useSelector */ .d4)(selectUserSelectedTheme);
}
const selectDismissedMessageIds = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__/* .createSelector */ .Mz)(
  selectSettings,
  (state) => state.dismissedMessages ?? []
);
function useDismissedMessageIds() {
  return (0,react_redux__WEBPACK_IMPORTED_MODULE_1__/* .useSelector */ .d4)(selectDismissedMessageIds);
}
const selectIsPrivateMode = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__/* .createSelector */ .Mz)(selectSettings, (state) => state.isPrivateMode ?? false);
function useIsPrivateMode() {
  return (0,react_redux__WEBPACK_IMPORTED_MODULE_1__/* .useSelector */ .d4)(selectIsPrivateMode);
}


/***/ }),

/***/ 81220:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   s: () => (/* binding */ settingsSlice)
/* harmony export */ });
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(63816);


const initialState = {
  userSelectedTheme: "system",
  dismissedMessages: []
};
const settingsSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__/* .createSlice */ .Z0)({
  name: "settings",
  initialState,
  reducers: {
    setUserSelectedTheme(state, action) {
      state.userSelectedTheme = action.payload;
    },
    messageDismissed(state, action) {
      if (!Array.isArray(state.dismissedMessages)) state.dismissedMessages = [];
      state.dismissedMessages = [...state.dismissedMessages, action.payload];
    },
    resetMessages(state) {
      state.dismissedMessages = [];
    },
    togglePrivateMode(state) {
      state.isPrivateMode = !state.isPrivateMode;
    }
  }
});


/***/ }),

/***/ 98695:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   G: () => (/* binding */ useSignatureRequestAccountIndex),
/* harmony export */   z: () => (/* binding */ useSignatureRequestSearchParams)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30758);
/* harmony import */ var _app_common_hooks_use_default_request_search_params__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62195);
/* harmony import */ var _app_common_initial_search_params__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21975);
/* harmony import */ var _app_common_signature_requests__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(11258);
/* harmony import */ var _app_store_accounts_blockchain_stacks_stacks_account_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(14461);






function useSignatureRequestSearchParams() {
  const { origin, tabId } = (0,_app_common_hooks_use_default_request_search_params__WEBPACK_IMPORTED_MODULE_1__/* .useDefaultRequestParams */ .Y)();
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const requestToken = _app_common_initial_search_params__WEBPACK_IMPORTED_MODULE_2__/* .initialSearchParams */ .VM.get("request");
    const messageType = _app_common_initial_search_params__WEBPACK_IMPORTED_MODULE_2__/* .initialSearchParams */ .VM.get("messageType");
    return {
      tabId,
      requestToken,
      origin,
      messageType
    };
  }, [origin, tabId]);
}
function useSignatureRequestState() {
  const { requestToken } = useSignatureRequestSearchParams();
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!requestToken) return null;
    return (0,_app_common_signature_requests__WEBPACK_IMPORTED_MODULE_3__/* .getGenericSignaturePayloadFromToken */ .v7)(requestToken);
  }, [requestToken]);
}
function useSignatureRequestAccountIndex() {
  const signaturePayload = useSignatureRequestState();
  const accounts = (0,_app_store_accounts_blockchain_stacks_stacks_account_hooks__WEBPACK_IMPORTED_MODULE_4__/* .useStacksAccounts */ .Lh)();
  if (!signaturePayload?.stxAddress) return;
  const { stxAddress } = signaturePayload;
  if (stxAddress && accounts) {
    return accounts.findIndex((account) => account.address === stxAddress);
  }
  return void 0;
}


/***/ }),

/***/ 83102:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  d: () => (/* binding */ keyActions)
});

// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/constants.js
var constants = __webpack_require__(89108);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+query@2.17.0_@stacks+network@6.13.0_encoding@0.1.13__encoding@0.1.13_react@18.3.1/node_modules/@leather.io/query/dist/index.js + 9 modules
var dist = __webpack_require__(4264);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+common@6.13.0/node_modules/@stacks/common/dist/esm/utils.js
var utils = __webpack_require__(68137);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+wallet-sdk@6.15.0_encoding@0.1.13/node_modules/@stacks/wallet-sdk/dist/esm/encryption.js + 3 modules
var encryption = __webpack_require__(94431);
// EXTERNAL MODULE: ./src/shared/utils/analytics.ts
var analytics = __webpack_require__(84137);
;// CONCATENATED MODULE: ./src/shared/workers/index.ts


var WorkerScript = /* @__PURE__ */ ((WorkerScript2) => {
  WorkerScript2["DecryptionWorker"] = "decryption-worker.js";
  return WorkerScript2;
})(WorkerScript || {});
function createWorker(scriptName) {
  const worker = new Worker(scriptName);
  worker.addEventListener("error", (error) => {
    void analytics/* analytics */.zS?.track(`worker_error_thrown_${scriptName}`, { error });
  });
  return worker;
}

;// CONCATENATED MODULE: ./src/shared/crypto/generate-encryption-key.ts


const worker = createWorker(WorkerScript.DecryptionWorker);
async function deriveEncryptionKey(args) {
  return new Promise((resolve) => {
    const handler = (e) => resolve(e.data);
    worker.addEventListener("message", handler);
    worker.postMessage(args);
  });
}

;// CONCATENATED MODULE: ./src/shared/crypto/generate-random-hex.ts

function generateRandomHexString() {
  const size = 16;
  const randomValues = [...crypto.getRandomValues(new Uint8Array(size))];
  return randomValues.map((val) => ("00" + val.toString(16)).slice(-2)).join("");
}

;// CONCATENATED MODULE: ./src/shared/crypto/mnemonic-encryption.ts
/* provided dependency */ var Buffer = __webpack_require__(84686)["Buffer"];





async function encryptMnemonic({ secretKey, password }) {
  const salt = generateRandomHexString();
  const encryptionKey = await deriveEncryptionKey({ password, salt });
  const encryptedBuffer = await (0,encryption/* encrypt */.w)(secretKey, encryptionKey);
  return {
    salt,
    encryptedSecretKey: (0,utils/* bytesToHex */.My)(encryptedBuffer),
    encryptionKey
  };
}
async function decryptMnemonic({
  encryptedSecretKey,
  password,
  salt
}) {
  if (salt) {
    const encryptionKey = await deriveEncryptionKey({ password, salt });
    const secretKey = await (0,encryption/* decrypt */.Y)(Buffer.from(encryptedSecretKey, "hex"), encryptionKey);
    return {
      secretKey,
      encryptedSecretKey,
      salt,
      encryptionKey
    };
  } else {
    const secretKey = await (0,encryption/* decrypt */.Y)(Buffer.from(encryptedSecretKey, "hex"), password);
    const newEncryptedKey = await encryptMnemonic({ secretKey, password });
    return {
      secretKey,
      encryptedSecretKey: newEncryptedKey.encryptedSecretKey,
      salt: newEncryptedKey.salt,
      encryptionKey: newEncryptedKey.encryptedSecretKey
    };
  }
}

// EXTERNAL MODULE: ./src/shared/logger.ts
var logger = __webpack_require__(41303);
// EXTERNAL MODULE: ./src/shared/utils.ts
var shared_utils = __webpack_require__(45366);
// EXTERNAL MODULE: ./node_modules/.pnpm/@leather.io+utils@0.16.6/node_modules/@leather.io/utils/dist/index.js
var utils_dist = __webpack_require__(62684);
;// CONCATENATED MODULE: ./src/app/common/account-restoration/account-restore.ts


const numOfEmptyAccountsToCheck = 20;
function minNumberOfAccountsNotChecked(num) {
  return num < numOfEmptyAccountsToCheck;
}
function anyOfLastCheckedAccountsHaveActivity(arr) {
  return arr.slice(arr.length - numOfEmptyAccountsToCheck).some((check) => check.hasActivity);
}
function returnHighestIndex(arr) {
  return Math.max(0, ...arr.filter((check) => check.hasActivity).map((check) => check.index));
}
async function recurseUntilGeneratorDone(generator) {
  const result = await generator.next();
  if (result.done) return result.value;
  return recurseUntilGeneratorDone(generator);
}
async function recurseAccountsForActivity({
  doesAddressHaveActivityFn
}) {
  async function* findHighestAddressIndexExponent() {
    const fibonacci = (0,utils_dist/* fibonacciGenerator */.KM)(2);
    const activity = [];
    while (activity.length === 0 || activity[activity.length - 1].hasActivity) {
      const index = fibonacci.next().value;
      const hasActivity = await doesAddressHaveActivityFn(index);
      activity.push({ index, hasActivity });
      yield;
    }
    return returnHighestIndex(activity);
  }
  const knownActivityAtIndex = await recurseUntilGeneratorDone(findHighestAddressIndexExponent());
  async function* checkForMostRecentAccount() {
    const indexCounter = (0,utils_dist/* createCounter */.Pu)(knownActivityAtIndex + 1);
    const activity = [];
    while (minNumberOfAccountsNotChecked(activity.length) || anyOfLastCheckedAccountsHaveActivity(activity)) {
      const hasActivity = await doesAddressHaveActivityFn(indexCounter.getValue());
      activity.push({ index: indexCounter.getValue(), hasActivity });
      indexCounter.increment();
      yield;
    }
    return returnHighestIndex(activity);
  }
  return recurseUntilGeneratorDone(checkForMostRecentAccount());
}

// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+wallet-sdk@6.15.0_encoding@0.1.13/node_modules/@stacks/wallet-sdk/dist/esm/generate.js
var generate = __webpack_require__(52816);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+wallet-sdk@6.15.0_encoding@0.1.13/node_modules/@stacks/wallet-sdk/dist/esm/utils.js
var esm_utils = __webpack_require__(77906);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+wallet-sdk@6.15.0_encoding@0.1.13/node_modules/@stacks/wallet-sdk/dist/esm/models/wallet-config.js
var wallet_config = __webpack_require__(50776);
// EXTERNAL MODULE: ./src/shared/constants.ts
var shared_constants = __webpack_require__(61258);
;// CONCATENATED MODULE: ./src/app/common/account-restoration/legacy-gaia-config-lookup.ts



async function checkForLegacyGaiaConfigWithKnownGeneratedAccountIndex(secretKey) {
  try {
    const wallet = await (0,generate/* generateWallet */.NN)({ secretKey, password: "" });
    const hubInfo = await (0,esm_utils/* getHubInfo */.OZ)(shared_constants/* gaiaUrl */.Ss);
    const currentGaiaConfig = (0,esm_utils/* connectToGaiaHubWithConfig */.x5)({
      hubInfo,
      privateKey: wallet.configPrivateKey,
      gaiaHubUrl: shared_constants/* gaiaUrl */.Ss
    });
    const resp = await (0,wallet_config/* fetchWalletConfig */.GG)({ wallet, gaiaHubConfig: currentGaiaConfig });
    return resp?.accounts.length ? resp.accounts.length - 1 : 0;
  } catch (e) {
    return 0;
  }
}

// EXTERNAL MODULE: ./src/app/common/keychain/keychain.ts
var keychain = __webpack_require__(4618);
// EXTERNAL MODULE: ./src/app/common/persistence.ts
var persistence = __webpack_require__(71976);
// EXTERNAL MODULE: ./src/app/store/session-restore.ts
var session_restore = __webpack_require__(26580);
// EXTERNAL MODULE: ./src/app/store/accounts/blockchain/bitcoin/native-segwit-account.hooks.ts
var native_segwit_account_hooks = __webpack_require__(98775);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+transactions@6.15.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/keys.js
var keys = __webpack_require__(80725);
// EXTERNAL MODULE: ./node_modules/.pnpm/@stacks+wallet-sdk@6.15.0_encoding@0.1.13/node_modules/@stacks/wallet-sdk/dist/esm/derive.js
var derive = __webpack_require__(10576);
;// CONCATENATED MODULE: ./src/app/store/accounts/blockchain/stacks/stacks-keychain.ts




function getStacksAddressByIndex(secretKey, addressVersion) {
  return (index) => {
    const accountPrivateKey = (0,keys/* createStacksPrivateKey */.wE)(
      (0,derive/* deriveStxPrivateKey */.dg)({ rootNode: (0,keychain/* mnemonicToRootNode */.G)(secretKey), index })
    );
    const pubKey = (0,keys/* getPublicKey */.lG)(accountPrivateKey);
    return (0,keys/* publicKeyToAddress */.M)(addressVersion, pubKey);
  };
}

// EXTERNAL MODULE: ./src/app/store/chains/stx-chain.slice.ts
var stx_chain_slice = __webpack_require__(61803);
// EXTERNAL MODULE: ./src/app/store/in-memory-key/in-memory-key.selectors.ts
var in_memory_key_selectors = __webpack_require__(90236);
// EXTERNAL MODULE: ./src/app/store/in-memory-key/in-memory-key.slice.ts
var in_memory_key_slice = __webpack_require__(96528);
// EXTERNAL MODULE: ./src/app/store/software-keys/software-key.selectors.ts
var software_key_selectors = __webpack_require__(27977);
// EXTERNAL MODULE: ./src/app/store/software-keys/software-key.slice.ts + 1 modules
var software_key_slice = __webpack_require__(95858);
;// CONCATENATED MODULE: ./src/app/store/software-keys/software-key.actions.ts



















function setWalletEncryptionPassword(args) {
  const { password, stxClient, btcClient } = args;
  return async (dispatch, getState) => {
    const secretKey = (0,in_memory_key_selectors/* selectDefaultWalletKey */.se)(getState());
    if (!secretKey) throw new Error("Cannot generate wallet without first having generated a key");
    const { encryptedSecretKey, salt, encryptionKey } = await encryptMnemonic({
      secretKey,
      password
    });
    await (0,session_restore/* initalizeWalletSession */.RR)(encryptionKey);
    const legacyAccountActivityLookup = await checkForLegacyGaiaConfigWithKnownGeneratedAccountIndex(secretKey);
    async function doesStacksAddressHaveBalance(address) {
      const controller = new AbortController();
      const resp = await stxClient.getAccountBalance(address, controller.signal);
      return Number(resp.stx.balance) > 0;
    }
    async function doesStacksAddressHaveBnsName(address) {
      const controller = new AbortController();
      const resp = await (0,dist/* fetchNamesForAddress */.u8v)({
        client: stxClient,
        address,
        isTestnet: false,
        signal: controller.signal
      });
      persistence/* queryClient */.q.setQueryData([dist/* StacksQueryPrefixes */.YjW.GetBnsNamesByAddress, address], resp);
      return resp.names.length > 0;
    }
    async function doesBitcoinAddressHaveBalance(address) {
      const resp = await btcClient.addressApi.getUtxosByAddress(address);
      return resp.length > 0;
    }
    logger/* logger */.v.info("Initiating recursive account activity lookup");
    try {
      void recurseAccountsForActivity({
        async doesAddressHaveActivityFn(index) {
          const stxAddress = getStacksAddressByIndex(
            secretKey,
            constants/* AddressVersion */.BY.MainnetSingleSig
          )(index);
          const hasStxBalance = await doesStacksAddressHaveBalance(stxAddress);
          const hasNames = await doesStacksAddressHaveBnsName(stxAddress);
          const btcAddress = (0,native_segwit_account_hooks/* getNativeSegwitMainnetAddressFromMnemonic */.jy)(secretKey)(index);
          const hasBtcBalance = await doesBitcoinAddressHaveBalance(btcAddress.address);
          return hasStxBalance || hasNames || hasBtcBalance;
        }
      }).then((recursiveActivityIndex) => {
        if (recursiveActivityIndex <= legacyAccountActivityLookup) return;
        logger/* logger */.v.info("Found account activity at higher index", { recursiveActivityIndex });
        dispatch(stx_chain_slice/* stxChainSlice */.B.actions.restoreAccountIndex(recursiveActivityIndex));
      });
    } catch (e) {
    }
    dispatch(
      software_key_slice/* keySlice */.W.actions.createSoftwareWalletComplete({
        type: "software",
        id: shared_utils/* defaultWalletKeyId */.z0,
        salt,
        encryptedSecretKey
      })
    );
    if (legacyAccountActivityLookup !== 0)
      dispatch(stx_chain_slice/* stxChainSlice */.B.actions.restoreAccountIndex(legacyAccountActivityLookup));
  };
}
function unlockWalletAction(password) {
  return async (dispatch, getState) => {
    const currentKey = (0,software_key_selectors/* selectDefaultSoftwareKey */.MM)(getState());
    if (!currentKey) return;
    if (currentKey.type !== "software") return;
    const { secretKey, encryptionKey } = await decryptMnemonic({ password, ...currentKey });
    await (0,session_restore/* initalizeWalletSession */.RR)(encryptionKey);
    const rootKey = (0,keychain/* mnemonicToRootNode */.G)(secretKey);
    if (!rootKey.publicKey) throw new Error("Could not derive root key from mnemonic");
    void (0,analytics/* identifyUser */.gm)(rootKey.publicKey);
    dispatch(in_memory_key_slice/* inMemoryKeySlice */.w.actions.setDefaultKey(secretKey));
  };
}
const keyActions = { ...software_key_slice/* keySlice */.W.actions, setWalletEncryptionPassword, unlockWalletAction };


/***/ }),

/***/ 27977:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HK: () => (/* binding */ selectCurrentAccountIndex),
/* harmony export */   MM: () => (/* binding */ selectDefaultSoftwareKey),
/* harmony export */   qH: () => (/* binding */ selectHasSecretKey),
/* harmony export */   sK: () => (/* binding */ useCurrentKeyDetails)
/* harmony export */ });
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(69357);
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(63150);
/* harmony import */ var _leather_io_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62684);
/* harmony import */ var _shared_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(45366);
/* harmony import */ var _app_common_initial_search_params__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21975);
/* harmony import */ var _chains_stx_chain_selectors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(93019);







const selectKeysSlice = (state) => state["softwareKeys"];
const selectDefaultSoftwareKey = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(
  selectKeysSlice,
  (state) => state.entities[_shared_utils__WEBPACK_IMPORTED_MODULE_1__/* .defaultWalletKeyId */ .z0]
);
const selectHasSecretKey = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(
  selectDefaultSoftwareKey,
  (softwareKey) => !!softwareKey?.encryptedSecretKey
);
function useCurrentKeyDetails() {
  return (0,react_redux__WEBPACK_IMPORTED_MODULE_4__/* .useSelector */ .d4)(selectDefaultSoftwareKey);
}
const selectCurrentAccountIndex = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__/* .createSelector */ .Mz)(_chains_stx_chain_selectors__WEBPACK_IMPORTED_MODULE_5__/* .selectStacksChain */ .l, (state) => {
  const customAccountIndex = _app_common_initial_search_params__WEBPACK_IMPORTED_MODULE_2__/* .initialSearchParams */ .VM.get("accountIndex");
  if (customAccountIndex && (0,_leather_io_utils__WEBPACK_IMPORTED_MODULE_0__/* .initBigNumber */ .IA)(customAccountIndex).isInteger()) {
    return (0,_leather_io_utils__WEBPACK_IMPORTED_MODULE_0__/* .initBigNumber */ .IA)(customAccountIndex).toNumber();
  }
  return state[_shared_utils__WEBPACK_IMPORTED_MODULE_1__/* .defaultWalletKeyId */ .z0].currentAccountIndex;
});


/***/ }),

/***/ 95858:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  W: () => (/* binding */ keySlice)
});

// UNUSED EXPORTS: initialKeysState

// EXTERNAL MODULE: ./node_modules/.pnpm/@reduxjs+toolkit@2.2.7_react-redux@9.1.2_@types+react@18.3.10_react@18.3.1_redux@5.0.1__react@18.3.1/node_modules/@reduxjs/toolkit/dist/redux-toolkit.modern.mjs + 2 modules
var redux_toolkit_modern = __webpack_require__(63816);
// EXTERNAL MODULE: ./src/shared/utils.ts
var utils = __webpack_require__(45366);
// EXTERNAL MODULE: ./node_modules/.pnpm/deepmerge@4.3.1/node_modules/deepmerge/dist/cjs.js
var cjs = __webpack_require__(47314);
var cjs_default = /*#__PURE__*/__webpack_require__.n(cjs);
// EXTERNAL MODULE: ./src/shared/logger.ts
var logger = __webpack_require__(41303);
;// CONCATENATED MODULE: ./src/app/store/utils/vault-reducer-migration.ts



const hiroWalletSalt = "stacks-wallet-salt";
const hiroWalletEncryptionKey = "stacks-wallet-encrypted-key";
function migrateVaultReducerStoreToNewStateStructure(initialState) {
  const salt = localStorage.getItem(hiroWalletSalt);
  const encryptedSecretKey = localStorage.getItem(hiroWalletEncryptionKey);
  if (salt && encryptedSecretKey) {
    logger/* logger */.v.debug(
      "VaultReducer generated Leather detected. Running migration to keys store structure"
    );
    const migratedState = {
      ids: ["default"],
      entities: {
        default: {
          type: "software",
          id: "default",
          encryptedSecretKey,
          salt
        }
      }
    };
    localStorage.removeItem(hiroWalletSalt);
    localStorage.removeItem(hiroWalletEncryptionKey);
    return cjs_default()(initialState, migratedState);
  }
  return initialState;
}

;// CONCATENATED MODULE: ./src/app/store/software-keys/software-key.slice.ts




const keyAdapter = (0,redux_toolkit_modern/* createEntityAdapter */.pU)();
const initialKeysState = keyAdapter.getInitialState();
const keySlice = (0,redux_toolkit_modern/* createSlice */.Z0)({
  name: "softwareKeys",
  initialState: migrateVaultReducerStoreToNewStateStructure(initialKeysState),
  reducers: {
    createSoftwareWalletComplete(state, action) {
      keyAdapter.addOne(state, action.payload);
    },
    signOut(state) {
      keyAdapter.removeOne(state, utils/* defaultWalletKeyId */.z0);
    },
    debugKillStacks() {
    }
  }
});


/***/ }),

/***/ 37048:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (/* binding */ submittedTransactionsSlice),
/* harmony export */   i: () => (/* binding */ submittedTransactionsAdapter)
/* harmony export */ });
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(63816);


const submittedTransactionsAdapter = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__/* .createEntityAdapter */ .pU)({
  selectId: (submittedTransaction) => submittedTransaction.txid
});
const initialSubmittedTransactionsState = submittedTransactionsAdapter.getInitialState();
const submittedTransactionsSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__/* .createSlice */ .Z0)({
  name: "submittedTransactions",
  initialState: initialSubmittedTransactionsState,
  reducers: {
    newTransactionSubmitted(state, action) {
      submittedTransactionsAdapter.addOne(state, action.payload);
    },
    transactionEnteredMempool(state, action) {
      submittedTransactionsAdapter.removeOne(state, action.payload);
    },
    transactionReplacedByFee(state, action) {
      submittedTransactionsAdapter.removeOne(state, action.payload);
    },
    clearSubmittedTransactions(state) {
      submittedTransactionsAdapter.removeAll(state);
    }
  }
});


/***/ }),

/***/ 62474:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  z: () => (/* binding */ useTransactionRequest),
  o: () => (/* binding */ useTransactionRequestState)
});

// EXTERNAL MODULE: ./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js
var react = __webpack_require__(30758);
// EXTERNAL MODULE: ./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/index.js
var lib = __webpack_require__(67814);
;// CONCATENATED MODULE: ./src/shared/utils/requests.ts


function getCoreApiUrl(network) {
  if (network.coreApiUrl) return network.coreApiUrl;
  if (network._coreApiUrl) return network._coreApiUrl;
  return "";
}
function getPayloadFromToken(requestToken) {
  const token = (0,lib.decodeToken)(requestToken);
  return token.payload;
}

// EXTERNAL MODULE: ./src/app/common/initial-search-params.ts
var initial_search_params = __webpack_require__(21975);
;// CONCATENATED MODULE: ./src/app/store/transactions/requests.hooks.ts




function useTransactionRequest() {
  return initial_search_params/* initialSearchParams */.VM.get("request");
}
function useTransactionRequestState() {
  const requestToken = useTransactionRequest();
  return (0,react.useMemo)(() => {
    if (!requestToken) return null;
    return getPayloadFromToken(requestToken);
  }, [requestToken]);
}


/***/ }),

/***/ 74014:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   h: () => (/* binding */ AccountAvatar)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86070);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(30758);
/* harmony import */ var leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(80200);
/* harmony import */ var _leather_io_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(52213);





const getAccountNumber = (index) => {
  return String(index + 1);
};
const AccountAvatar = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(({ name, publicKey, index, ...props }) => {
  const gradient = publicKey + index.toString();
  const text = getAccountNumber(index);
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_leather_io_ui__WEBPACK_IMPORTED_MODULE_3__/* .DynamicColorCircle */ .BM, { sizeParam: "40", value: gradient, ...props, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(leather_styles_jsx__WEBPACK_IMPORTED_MODULE_2__/* .Box */ .az, { position: "absolute", children: text }) });
});


/***/ }),

/***/ 50452:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  G: () => (/* binding */ BasicTooltip)
});

// EXTERNAL MODULE: ./node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(86070);
// EXTERNAL MODULE: ./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js
var react = __webpack_require__(30758);
// EXTERNAL MODULE: ./node_modules/.pnpm/@radix-ui+react-tooltip@1.0.7_@types+react-dom@18.3.0_@types+react@18.3.10_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/@radix-ui/react-tooltip/dist/index.mjs + 5 modules
var dist = __webpack_require__(59716);
// EXTERNAL MODULE: ./leather-styles/css/index.js + 1 modules
var css = __webpack_require__(46977);
;// CONCATENATED MODULE: ./src/app/ui/components/tooltip/tooltip.tsx





function Root(props) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(dist/* Root */.bL, { ...props });
}
function Portal(props) {
  return /* @__PURE__ */ (0,jsx_runtime.jsx)(dist/* Portal */.ZL, { ...props });
}
const Trigger = (0,react.forwardRef)((props, ref) => /* @__PURE__ */ (0,jsx_runtime.jsx)(dist/* Trigger */.l9, { ref, ...props }));
const Content = (0,react.forwardRef)(({ className, ...props }, ref) => /* @__PURE__ */ (0,jsx_runtime.jsx)(dist/* Content */.UC, { className: `${defaultContentStyles} ${className}`, ref, ...props }));
const Arrow = (0,react.forwardRef)(({ className, ...props }, ref) => /* @__PURE__ */ (0,jsx_runtime.jsx)(
  dist/* Arrow */.i3,
  {
    className: `${defaultTooltipArrowStyles} ${className}`,
    ref,
    ...props
  }
));
const Tooltip = {
  Root,
  Portal,
  Trigger,
  Content,
  Arrow
};
const defaultContentStyles = (0,css/* css */.AH)({
  bg: "ink.action-primary-default",
  borderRadius: "xs",
  px: "space.03",
  py: "space.02",
  textStyle: "body.02",
  animationDuration: "400ms",
  animationTimingFunction: "cubic-bezier(0.16, 1, 0.3, 1)",
  willChange: "transform, opacity",
  maxWidth: "250px",
  textAlign: "center",
  wordWrap: "break-word",
  color: "ink.background-primary",
  zIndex: 4,
  "&[data-state='delayed-open'][data-side='top']": {
    animationName: "slideDownAndFade"
  },
  "&[data-state='delayed-open'][data-side='right']": {
    animationName: "slideLeftAndFade"
  },
  "&[data-state='delayed-open'][data-side='bottom']": {
    animationName: "slideUpAndFade"
  },
  "&[data-state='delayed-open'][data-side='left']": {
    animationName: "slideRightAndFade"
  }
});
const defaultTooltipArrowStyles = (0,css/* css */.AH)({
  fill: "ink.action-primary-default"
});

;// CONCATENATED MODULE: ./src/app/ui/components/tooltip/basic-tooltip.tsx



function BasicTooltip({ children, label, disabled, side, asChild }) {
  const isDisabled = !label || disabled;
  return /* @__PURE__ */ (0,jsx_runtime.jsxs)(Tooltip.Root, { children: [
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Tooltip.Trigger, { asChild, children }),
    /* @__PURE__ */ (0,jsx_runtime.jsx)(Tooltip.Portal, { children: /* @__PURE__ */ (0,jsx_runtime.jsxs)(Tooltip.Content, { hidden: isDisabled, side, sideOffset: 5, children: [
      label,
      /* @__PURE__ */ (0,jsx_runtime.jsx)(Tooltip.Arrow, {})
    ] }) })
  ] });
}


/***/ }),

/***/ 17395:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  o: () => (/* binding */ finalizeAuthResponse)
});

// EXTERNAL MODULE: ./src/shared/utils.ts
var utils = __webpack_require__(45366);
// EXTERNAL MODULE: ./src/shared/utils/analytics.ts
var analytics = __webpack_require__(84137);
// EXTERNAL MODULE: ./src/shared/utils/validate-url.ts
var validate_url = __webpack_require__(70235);
// EXTERNAL MODULE: ./src/shared/message-types.ts
var message_types = __webpack_require__(43852);
;// CONCATENATED MODULE: ./src/shared/actions/finalize-auth-reaponse-format.ts


function formatAuthResponse({
  request,
  response
}) {
  return {
    source: message_types/* MESSAGE_SOURCE */.q_,
    payload: {
      authenticationRequest: request,
      authenticationResponse: response
    },
    method: message_types/* ExternalMethods */.gf.authenticationResponse
  };
}

;// CONCATENATED MODULE: ./src/shared/actions/finalize-auth-response.ts





function finalizeAuthResponse({
  decodedAuthRequest,
  authRequest,
  authResponse,
  requestingOrigin,
  tabId
}) {
  const dangerousUri = decodedAuthRequest.redirect_uri;
  if (!(0,validate_url/* isValidUrl */.A)(dangerousUri)) {
    throw new Error("Cannot proceed with malicious url");
  }
  const redirectUri = new URL(dangerousUri);
  const origin = new URL(requestingOrigin);
  if (redirectUri.hostname !== origin.hostname) {
    void analytics/* analytics */.zS?.track("auth_response_with_illegal_redirect_uri");
    throw new Error("Cannot redirect to a different domain than the one requesting");
  }
  const responseMessage = formatAuthResponse({ request: authRequest, response: authResponse });
  chrome.tabs.sendMessage(tabId, responseMessage);
  (0,utils/* closeWindow */.Do)();
}


/***/ }),

/***/ 61258:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $I: () => (/* binding */ HIRO_EXPLORER_URL),
/* harmony export */   Dy: () => (/* binding */ GITHUB_REPO),
/* harmony export */   F7: () => (/* binding */ ORD_IO_URL),
/* harmony export */   LA: () => (/* binding */ GITHUB_ORG),
/* harmony export */   Ss: () => (/* binding */ gaiaUrl),
/* harmony export */   yS: () => (/* binding */ ZERO_INDEX)
/* harmony export */ });

const gaiaUrl = "https://hub.blockstack.org";
const ZERO_INDEX = 0;
const GITHUB_ORG = "leather-io";
const GITHUB_REPO = "extension";
const HIRO_EXPLORER_URL = "https://explorer.hiro.so";
const ORD_IO_URL = "https://ord.io";


/***/ }),

/***/ 59596:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BN: () => (/* binding */ getIdentityDerivationPath),
/* harmony export */   NT: () => (/* binding */ deriveStacksSalt),
/* harmony export */   pF: () => (/* binding */ DATA_DERIVATION_PATH)
/* harmony export */ });
/* harmony import */ var _noble_hashes_sha256__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(70571);
/* harmony import */ var _noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(19251);
/* harmony import */ var _leather_io_stacks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(97786);




const DATA_DERIVATION_PATH = `m/888'/0'`;
function deriveStacksSalt(keychain) {
  if (keychain.depth !== 2)
    throw new Error('Stacks "salt" must be derived from the data derivation path');
  const publicKeyHex = (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__/* .utf8ToBytes */ .AI)((0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__/* .bytesToHex */ .My)(keychain.publicKey));
  return (0,_noble_hashes_utils__WEBPACK_IMPORTED_MODULE_1__/* .bytesToHex */ .My)((0,_noble_hashes_sha256__WEBPACK_IMPORTED_MODULE_2__/* .sha256 */ .sc)(publicKeyHex));
}
const stxIdentityDerivationWithAccount = `m/888'/0'/{account}'`;
const getIdentityDerivationPath = (0,_leather_io_stacks__WEBPACK_IMPORTED_MODULE_0__/* .makeAccountIndexDerivationPathFactory */ .gq)(
  stxIdentityDerivationWithAccount
);


/***/ }),

/***/ 19590:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Ay: () => (/* binding */ IS_TEST_ENV),
/* harmony export */   BN: () => (/* binding */ COINBASE_APP_ID),
/* harmony export */   Eq: () => (/* binding */ BITFLOW_READONLY_CALL_API_HOST),
/* harmony export */   Mg: () => (/* binding */ BITFLOW_STACKS_API_HOST),
/* harmony export */   P9: () => (/* binding */ BRANCH_NAME),
/* harmony export */   QE: () => (/* binding */ BITFLOW_API_HOST),
/* harmony export */   Ze: () => (/* binding */ PR_NUMBER),
/* harmony export */   _h: () => (/* binding */ TRANSAK_API_KEY),
/* harmony export */   c8: () => (/* binding */ WALLET_ENVIRONMENT),
/* harmony export */   kL: () => (/* binding */ SENTRY_DSN),
/* harmony export */   pk: () => (/* binding */ COMMIT_SHA),
/* harmony export */   r7: () => (/* binding */ MOONPAY_API_KEY),
/* harmony export */   yj: () => (/* binding */ SEGMENT_WRITE_KEY),
/* harmony export */   zs: () => (/* binding */ BITFLOW_API_KEY)
/* harmony export */ });
/* unused harmony exports BRANCH, IS_DEV_ENV, SWAP_ENABLED */

const BRANCH = (/* unused pure expression or super */ null && ("refs/tags/v6.51.1"));
const BRANCH_NAME = "" ?? 0;
const PR_NUMBER = "MISSING_ENV_VAR".PR_NUMBER;
const COINBASE_APP_ID = "ca72edbc-0a08-468c-952d-6cde50b1dce6" ?? 0;
const COMMIT_SHA = "7605748617e8e2b75bbf419b1f5e9a5e6ba4300b";
const IS_DEV_ENV = (/* unused pure expression or super */ null && ("production" === "development"));
const IS_TEST_ENV = "production" === "testing";
const MOONPAY_API_KEY = "pk_live_Bctok4Wp6KZHX0YfS4Ie7dFOYnNw8lqv" ?? 0;
const SEGMENT_WRITE_KEY = "6EdfMbYvR0W1lACBylV9qTFjvXUUXurM" ?? 0;
const SENTRY_DSN = "https://21db7427cf1f4681885f4e20451abf8e@o4504203991318528.ingest.sentry.io/4504204000952320" ?? 0;
const TRANSAK_API_KEY = "b597d169-3b24-486d-90e9-f378e96fe13b" ?? 0;
const WALLET_ENVIRONMENT = "production" ?? 0;
const SWAP_ENABLED = "MISSING_ENV_VAR".SWAP_ENABLED === "true";
const BITFLOW_API_HOST = "https://bitflow-sdk-api-gateway-7owjsmt8.uc.gateway.dev" ?? 0;
const BITFLOW_API_KEY = "AIzaSyAA0NiCXtyAJgfnsudad4-GZyeNbTKBrAA" ?? 0;
const BITFLOW_STACKS_API_HOST = "https://api.hiro.so" ?? 0;
const BITFLOW_READONLY_CALL_API_HOST = "https://wvzrnmxqmi.execute-api.us-east-2.amazonaws.com/mainnet" ?? 0;


/***/ }),

/***/ 46539:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Dt: () => (/* binding */ getLogsFromBrowserStorage),
/* harmony export */   IF: () => (/* binding */ copyLogsToClipboard),
/* harmony export */   JM: () => (/* binding */ appendLogToBrowserStorage),
/* harmony export */   Oq: () => (/* binding */ getLogSizeInBytes),
/* harmony export */   Qz: () => (/* binding */ clearBrowserStorageLogs)
/* harmony export */ });

const maxLogLength = 2e3;
const logStorageKey = "logs";
function getStorageAdapter() {
  return chrome.storage.local;
}
function truncateLogToMaxSize(logs) {
  if (logs.length <= maxLogLength) return logs;
  return logs.slice(0, maxLogLength);
}
async function getLogSizeInBytes() {
  return new Promise(
    (resolve) => getStorageAdapter().getBytesInUse([logStorageKey], (bytes) => resolve(bytes))
  );
}
async function clearBrowserStorageLogs() {
  return new Promise((resolve) => getStorageAdapter().set({ [logStorageKey]: [] }, () => resolve()));
}
async function getLogsFromBrowserStorage() {
  return new Promise(
    (resolve) => getStorageAdapter().get([logStorageKey], ({ logs }) => resolve(Array.isArray(logs) ? logs : []))
  );
}
async function copyLogsToClipboard() {
  const logs = await getLogsFromBrowserStorage();
  await navigator.clipboard.writeText(JSON.stringify(logs, null, 2));
}
async function appendLogToBrowserStorage(logEvent) {
  const logs = await getLogsFromBrowserStorage();
  const { ts, level, messages } = logEvent;
  const formattedLogItem = [new Date(ts).toISOString(), level.label, ...messages];
  return new Promise(
    (resolve) => getStorageAdapter().set(
      { [logStorageKey]: truncateLogToMaxSize([formattedLogItem, ...logs]) },
      () => resolve(formattedLogItem)
    )
  );
}


/***/ }),

/***/ 41303:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   v: () => (/* binding */ logger)
/* harmony export */ });
/* harmony import */ var pino__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(70724);
/* harmony import */ var pino__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pino__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(99009);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(77401);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(82927);
/* harmony import */ var _environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(19590);
/* harmony import */ var _logger_storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(46539);





const logs$ = new rxjs__WEBPACK_IMPORTED_MODULE_2__/* .Subject */ .B();
const maximumConcurrentLogAppends = 1;
logs$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_3__/* .mergeMap */ .Z)((log) => (0,rxjs__WEBPACK_IMPORTED_MODULE_4__/* .defer */ .v)(() => (0,_logger_storage__WEBPACK_IMPORTED_MODULE_5__/* .appendLogToBrowserStorage */ .JM)(log)), maximumConcurrentLogAppends)).subscribe();
const pinoLogger = pino__WEBPACK_IMPORTED_MODULE_0___default()({
  enabled: !_environment__WEBPACK_IMPORTED_MODULE_1__/* .IS_TEST_ENV */ .Ay,
  level: "info",
  browser: {
    asObject: false,
    transmit: {
      level: "info",
      send(_level, logEvent) {
        if (!chrome) return;
        logs$.next(logEvent);
      }
    }
  }
});
const logger = {
  debug(...args) {
    pinoLogger.debug(...args);
  },
  info(...args) {
    pinoLogger.info(...args);
  },
  warn(...args) {
    pinoLogger.warn(...args);
  },
  error(...args) {
    pinoLogger.error(...args);
  }
};


/***/ }),

/***/ 43852:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   gc: () => (/* binding */ InternalMethods),
/* harmony export */   gf: () => (/* binding */ ExternalMethods),
/* harmony export */   q_: () => (/* binding */ MESSAGE_SOURCE)
/* harmony export */ });
/* unused harmony export CONTENT_SCRIPT_PORT */

const MESSAGE_SOURCE = "stacks-wallet";
const CONTENT_SCRIPT_PORT = "content-script";
var ExternalMethods = /* @__PURE__ */ ((ExternalMethods2) => {
  ExternalMethods2["transactionRequest"] = "hiroWalletTransactionRequest";
  ExternalMethods2["transactionResponse"] = "hiroWalletTransactionResponse";
  ExternalMethods2["authenticationRequest"] = "hiroWalletAuthenticationRequest";
  ExternalMethods2["authenticationResponse"] = "hiroWalletAuthenticationResponse";
  ExternalMethods2["signatureRequest"] = "hiroWalletSignatureRequest";
  ExternalMethods2["signatureResponse"] = "hiroWalletSignatureResponse";
  ExternalMethods2["structuredDataSignatureRequest"] = "hiroWalletStructuredDataSignatureRequest";
  ExternalMethods2["structuredDataSignatureResponse"] = "hiroWalletStructuredDataSignatureResponse";
  ExternalMethods2["profileUpdateRequest"] = "hiroWalletProfileUpdateRequest";
  ExternalMethods2["profileUpdateResponse"] = "hiroWalletProfileUpdateResponse";
  ExternalMethods2["psbtRequest"] = "hiroWalletPsbtRequest";
  ExternalMethods2["psbtResponse"] = "hiroWalletPsbtResponse";
  return ExternalMethods2;
})(ExternalMethods || {});
var InternalMethods = /* @__PURE__ */ ((InternalMethods2) => {
  InternalMethods2["RequestDerivedStxAccounts"] = "RequestDerivedStxAccounts";
  InternalMethods2["OriginatingTabClosed"] = "OriginatingTabClosed";
  InternalMethods2["AccountChanged"] = "AccountChanged";
  return InternalMethods2;
})(InternalMethods || {});


/***/ }),

/***/ 31009:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   W: () => (/* binding */ RouteUrls)
/* harmony export */ });

var RouteUrls = /* @__PURE__ */ ((RouteUrls2) => {
  RouteUrls2["Onboarding"] = "/get-started";
  RouteUrls2["BackUpSecretKey"] = "/back-up-secret-key";
  RouteUrls2["SetPassword"] = "/set-password";
  RouteUrls2["SignIn"] = "/sign-in";
  RouteUrls2["ConnectLedger"] = "connect-your-ledger";
  RouteUrls2["ConnectLedgerError"] = "ledger-connection-error";
  RouteUrls2["ConnectLedgerSuccess"] = "successfully-connected-your-ledger";
  RouteUrls2["DeviceBusy"] = "please-wait";
  RouteUrls2["AwaitingDeviceUserAction"] = "awaiting-approval";
  RouteUrls2["LedgerDisconnected"] = "your-ledger-disconnected";
  RouteUrls2["LedgerOperationRejected"] = "action-rejected";
  RouteUrls2["LedgerPublicKeyMismatch"] = "wrong-ledger-device";
  RouteUrls2["LedgerDevicePayloadInvalid"] = "ledger-payload-invalid";
  RouteUrls2["LedgerUnsupportedBrowser"] = "unsupported-browser";
  RouteUrls2["LedgerOutdatedAppWarning"] = "outdated-app-warning";
  RouteUrls2["LedgerBroadcastError"] = "transaction-broadcast-error";
  RouteUrls2["ConnectLedgerStart"] = "connect-ledger";
  RouteUrls2["Home"] = "/";
  RouteUrls2["AddNetwork"] = "/add-network";
  RouteUrls2["EditNetwork"] = "/edit-network";
  RouteUrls2["Fund"] = "/fund/:currency";
  RouteUrls2["FundChooseCurrency"] = "/fund-choose-currency";
  RouteUrls2["IncreaseStxFee"] = "/increase-fee/stx/:txid";
  RouteUrls2["IncreaseBtcFee"] = "/increase-fee/btc";
  RouteUrls2["Send"] = "/send-transaction";
  RouteUrls2["ViewSecretKey"] = "/view-secret-key";
  RouteUrls2["Activity"] = "/activity";
  RouteUrls2["Receive"] = "receive";
  RouteUrls2["ReceiveStx"] = "receive/stx";
  RouteUrls2["ReceiveBtc"] = "receive/btc";
  RouteUrls2["ReceiveBtcStamp"] = "receive/btc-stamp";
  RouteUrls2["ReceiveCollectible"] = "receive/collectible";
  RouteUrls2["ReceiveCollectibleOrdinal"] = "receive/collectible/ordinal";
  RouteUrls2["Unlock"] = "/unlock";
  RouteUrls2["EditNonce"] = "edit-nonce";
  RouteUrls2["SignOutConfirm"] = "sign-out";
  RouteUrls2["RetrieveTaprootFunds"] = "retrieve-taproot-funds";
  RouteUrls2["SendCryptoAsset"] = "/send";
  RouteUrls2["SendCryptoAssetForm"] = "/send/:symbol";
  RouteUrls2["SendSip10Form"] = "/send/:symbol/:contractId";
  RouteUrls2["SendCryptoAssetFormRecipientAccounts"] = "recipient-accounts";
  RouteUrls2["SendCryptoAssetFormRecipientBns"] = "recipient-bns";
  RouteUrls2["SendBtcChooseFee"] = "/send/btc/choose-fee";
  RouteUrls2["SendBtcError"] = "/send/btc/error";
  RouteUrls2["SendBtcConfirmation"] = "/send/btc/confirm";
  RouteUrls2["SendBtcDisabled"] = "/send/btc/disabled";
  RouteUrls2["SendStxConfirmation"] = "/send/stx/confirm";
  RouteUrls2["SendStacksSip10Confirmation"] = "/send/:symbol/confirm";
  RouteUrls2["SentBtcTxSummary"] = "/sent/btc/:txId";
  RouteUrls2["SentStxTxSummary"] = "/sent/stx/:txId";
  RouteUrls2["SendOrdinalInscription"] = "send/ordinal-inscription";
  RouteUrls2["SendOrdinalInscriptionChooseFee"] = "choose-fee";
  RouteUrls2["SendOrdinalInscriptionReview"] = "review";
  RouteUrls2["SendOrdinalInscriptionSent"] = "sent";
  RouteUrls2["SendOrdinalInscriptionError"] = "error";
  RouteUrls2["Swap"] = "/swap/:base/:quote?";
  RouteUrls2["SwapAssetSelectBase"] = "select-base";
  RouteUrls2["SwapAssetSelectQuote"] = "select-quote";
  RouteUrls2["SwapError"] = "/swap/error";
  RouteUrls2["SwapReview"] = "/swap/:base/:quote/review";
  RouteUrls2["ProfileUpdateRequest"] = "/update-profile";
  RouteUrls2["PsbtRequest"] = "/psbt";
  RouteUrls2["SignatureRequest"] = "/signature";
  RouteUrls2["TransactionRequest"] = "/transaction";
  RouteUrls2["TransactionBroadcastError"] = "broadcast-error";
  RouteUrls2["RpcGetAddresses"] = "/get-addresses";
  RouteUrls2["RpcSignPsbt"] = "/sign-psbt";
  RouteUrls2["RpcSignPsbtSummary"] = "/sign-psbt/summary";
  RouteUrls2["RpcSendTransfer"] = "/send-transfer";
  RouteUrls2["RpcSendTransferChooseFee"] = "/send-transfer/choose-fee";
  RouteUrls2["RpcSendTransferConfirmation"] = "/send-transfer/confirm";
  RouteUrls2["RpcSendTransferSummary"] = "/send-transfer/summary";
  RouteUrls2["RpcSignBip322Message"] = "/sign-bip322-message";
  RouteUrls2["RpcStacksSignature"] = "/sign-stacks-message";
  RouteUrls2["ChooseAccount"] = "/choose-account";
  RouteUrls2["RequestError"] = "/request-error";
  RouteUrls2["UnauthorizedRequest"] = "/unauthorized-request";
  RouteUrls2["RpcSignStacksTransaction"] = "/sign-stacks-transaction";
  return RouteUrls2;
})(RouteUrls || {});


/***/ }),

/***/ 41979:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   K: () => (/* binding */ makeRpcSuccessResponse),
/* harmony export */   h: () => (/* binding */ makeRpcErrorResponse)
/* harmony export */ });

function makeRpcSuccessResponse(_method, response) {
  return { jsonrpc: "2.0", ...response };
}
function makeRpcErrorResponse(_method, response) {
  return { jsonrpc: "2.0", ...response };
}


/***/ }),

/***/ 32680:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Ph: () => (/* binding */ isUtf8MessageType),
/* harmony export */   Te: () => (/* binding */ toSerializableUnsignedMessage),
/* harmony export */   Wp: () => (/* binding */ deserializeUnsignedMessage),
/* harmony export */   X5: () => (/* binding */ isStructuredMessageType),
/* harmony export */   ep: () => (/* binding */ whenSignableMessageOfType),
/* harmony export */   nY: () => (/* binding */ isSignableMessageType)
/* harmony export */ });
/* harmony import */ var _stacks_transactions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(46772);
/* harmony import */ var _stacks_transactions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(42073);


function isStructuredMessageType(messageType) {
  return messageType === "structured";
}
function isUtf8MessageType(messageType) {
  return messageType === "utf8";
}
function isSignableMessageType(messageType) {
  return typeof messageType === "string" && ["utf8", "structured"].includes(messageType);
}
function whenSignableMessageOfType(msg) {
  return ({ utf8, structured }) => {
    if (msg.messageType === "utf8") return utf8(msg.message);
    return structured(msg.domain, msg.message);
  };
}
function toSerializableUnsignedMessage(unsignedMessage) {
  if (unsignedMessage.messageType === "utf8") return unsignedMessage;
  return {
    messageType: "structured",
    message: (0,_stacks_transactions__WEBPACK_IMPORTED_MODULE_0__/* .serializeCV */ .G)(unsignedMessage.message),
    domain: (0,_stacks_transactions__WEBPACK_IMPORTED_MODULE_0__/* .serializeCV */ .G)(unsignedMessage.domain)
  };
}
function deserializeUnsignedMessage(serialisedUnsignedMessage) {
  if (serialisedUnsignedMessage.messageType === "utf8") return serialisedUnsignedMessage;
  return {
    messageType: "structured",
    message: (0,_stacks_transactions__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A)(serialisedUnsignedMessage.message),
    domain: (0,_stacks_transactions__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A)(serialisedUnsignedMessage.domain)
  };
}


/***/ }),

/***/ 25980:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   v: () => (/* binding */ clearChromeStorage),
/* harmony export */   x: () => (/* binding */ persistConfig)
/* harmony export */ });
/* harmony import */ var redux_persist__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(38183);
/* harmony import */ var redux_persist_lib_stateReconciler_autoMergeLevel2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10082);
/* harmony import */ var _leather_io_stacks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(97786);
/* harmony import */ var _shared_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(45366);
/* harmony import */ var _utils_analytics__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(84137);






async function clearChromeStorage() {
  return new Promise((resolve) => chrome.storage.local.clear(resolve));
}
const driverMap = /* @__PURE__ */ new WeakMap();
const runtimeMap = /* @__PURE__ */ new WeakMap();
class ExtensionStorage {
  constructor(driver, runtime) {
    driverMap.set(this, driver);
    runtimeMap.set(this, runtime);
  }
  getDriver() {
    return driverMap.get(this);
  }
  hasError() {
    return !!this.getError();
  }
  getError() {
    return runtimeMap.get(this).lastError;
  }
  setItem(key, item) {
    return new Promise((resolve, reject) => {
      this.getDriver().set({ [key]: item }, () => {
        if (this.hasError()) {
          return reject(this.getError());
        }
        return resolve(true);
      });
    });
  }
  getItem(key) {
    return new Promise((resolve, reject) => {
      this.getDriver().get(key, (response) => {
        if (this.hasError()) {
          return reject(this.getError());
        }
        return resolve(response[key]);
      });
    });
  }
  removeItem(key) {
    return new Promise((resolve, reject) => {
      this.getDriver().remove(key, () => {
        if (this.hasError()) {
          return reject(this.getError());
        }
        return resolve(true);
      });
    });
  }
}
const storage = new ExtensionStorage(chrome.storage.local, chrome.runtime);
const legacyPersistConfig = {
  key: "root",
  version: 1,
  storage,
  serialize: true,
  whitelist: ["analytics", "chains", "keys", "networks", "onboarding", "settings"]
};
async function migrateToUsingNoSerialization() {
  const storageVal = await new Promise(
    (resolve) => chrome.storage.local.get(["persist:root"], resolve)
  );
  if (!storageVal) return void 0;
  const store = storageVal["persist:root"];
  if (typeof store === "string") {
    void _utils_analytics__WEBPACK_IMPORTED_MODULE_4__/* .analytics */ .zS.track("redux_persist_migration_to_no_serialization");
    return (0,redux_persist__WEBPACK_IMPORTED_MODULE_0__/* .getStoredState */ .d)(legacyPersistConfig);
  }
  return storage;
}
function processStacksLedgerKeys(stacksKeys) {
  const newStacksKeys = stacksKeys.entities.default.publicKeys.reduce(
    (acc, item, index) => {
      const path = (0,_leather_io_stacks__WEBPACK_IMPORTED_MODULE_2__/* .makeStxDerivationPath */ ._L)(index);
      const id = path.replace("m", _shared_utils__WEBPACK_IMPORTED_MODULE_3__/* .defaultWalletKeyId */ .z0);
      acc.ids.push(id);
      acc.entities[id] = {
        ...item,
        path,
        id,
        walletId: "default",
        targetId: ""
      };
      return acc;
    },
    { ids: [], entities: {} }
  );
  return newStacksKeys;
}
async function migrateToRenameKeysStoreModule(state) {
  const resolvedState = await Promise.resolve(state);
  const newStore = {
    ...resolvedState,
    softwareKeys: resolvedState.keys,
    ledger: {
      ...resolvedState.ledger
    }
  };
  if (resolvedState.keys?.entities.default?.type === "ledger") {
    newStore.ledger = {
      ...resolvedState.ledger,
      stacks: processStacksLedgerKeys(resolvedState.keys)
    };
  }
  if (!newStore.ledger.bitcoin) {
    newStore.ledger.bitcoin = {
      ids: [],
      entities: {}
    };
  }
  if (!newStore.ledger.stacks) {
    newStore.ledger.stacks = {
      ids: [],
      entities: {}
    };
  }
  Reflect.deleteProperty(newStore, "keys");
  return newStore;
}
const persistConfig = {
  key: "root",
  stateReconciler: redux_persist_lib_stateReconciler_autoMergeLevel2__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A,
  version: 2,
  storage,
  serialize: false,
  migrate: (0,redux_persist__WEBPACK_IMPORTED_MODULE_0__/* .createMigrate */ .Am)({
    0: async () => {
      return migrateToUsingNoSerialization();
    },
    2: async (state) => {
      return migrateToRenameKeysStoreModule(state);
    },
    debug: true
  }),
  deserialize: false,
  whitelist: [
    "analytics",
    "chains",
    "ordinals",
    "softwareKeys",
    "appPermissions",
    "ledger",
    "networks",
    "onboarding",
    "settings",
    "manageTokens"
  ]
};


/***/ }),

/***/ 45366:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Ar: () => (/* binding */ createDelay),
/* harmony export */   Do: () => (/* binding */ closeWindow),
/* harmony export */   z0: () => (/* binding */ defaultWalletKeyId)
/* harmony export */ });
/* harmony import */ var _leather_io_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62684);
/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(41303);



const defaultWalletKeyId = "default";
function closeWindow() {
  if ("MISSING_ENV_VAR".DEBUG_PREVENT_WINDOW_CLOSE === "true") {
    _logger__WEBPACK_IMPORTED_MODULE_1__/* .logger */ .v.warn("Prevented window close with flag DEBUG_PREVENT_WINDOW_CLOSE");
    return;
  }
  window.close();
}
function createDelay(ms) {
  return async () => (0,_leather_io_utils__WEBPACK_IMPORTED_MODULE_0__/* .delay */ .cb)(ms);
}


/***/ }),

/***/ 84137:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Bu: () => (/* binding */ initAnalytics),
/* harmony export */   Sl: () => (/* binding */ decorateAnalyticsEventsWithContext),
/* harmony export */   dO: () => (/* binding */ openFeedbackSheet),
/* harmony export */   gm: () => (/* binding */ identifyUser),
/* harmony export */   ig: () => (/* binding */ initSentry),
/* harmony export */   zS: () => (/* binding */ analytics)
/* harmony export */ });
/* unused harmony export deriveAnalyticsIdentifier */
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30758);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(90543);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(25900);
/* harmony import */ var _noble_hashes_ripemd160__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(89370);
/* harmony import */ var _noble_hashes_sha256__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(70571);
/* harmony import */ var _scure_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(75421);
/* harmony import */ var _segment_analytics_next__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7839);
/* harmony import */ var _sentry_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(97430);
/* harmony import */ var _sentry_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(9190);
/* harmony import */ var _sentry_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(47885);
/* harmony import */ var _sentry_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(75919);
/* harmony import */ var _sentry_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(33822);
/* harmony import */ var leather_styles_tokens__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(65174);
/* harmony import */ var _shared_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(19590);











const analytics = new _segment_analytics_next__WEBPACK_IMPORTED_MODULE_3__/* .AnalyticsBrowser */ .N();
function decorateAnalyticsEventsWithContext(getEventContextProperties) {
  void analytics.ready(
    () => void analytics.addSourceMiddleware(({ payload, next }) => {
      Object.entries(getEventContextProperties()).forEach(([key, value]) => {
        payload.obj.context = payload.obj.context || {};
        payload.obj.context.ip = "0.0.0.0";
        payload.obj.properties = payload.obj.properties || {};
        payload.obj.properties[key] = value;
      });
      next(payload);
    })
  );
}
function initAnalytics() {
  return analytics.load(
    { writeKey: _shared_environment__WEBPACK_IMPORTED_MODULE_2__/* .SEGMENT_WRITE_KEY */ .yj },
    {
      integrations: {
        "Segment.io": {
          deliveryStrategy: {
            strategy: "batching",
            config: {
              size: 10,
              timeout: 5e3
            }
          }
        }
      }
    }
  );
}
function deriveAnalyticsIdentifier(publicKey) {
  return _scure_base__WEBPACK_IMPORTED_MODULE_4__/* .base58 */ .tw.encode((0,_noble_hashes_ripemd160__WEBPACK_IMPORTED_MODULE_5__/* .ripemd160 */ .H)((0,_noble_hashes_sha256__WEBPACK_IMPORTED_MODULE_6__/* .sha256 */ .sc)(publicKey)).slice(0, 8));
}
async function identifyUser(publicKey) {
  return analytics.identify(deriveAnalyticsIdentifier(publicKey));
}
const sentryFeedback = (0,_sentry_browser__WEBPACK_IMPORTED_MODULE_7__/* .feedbackSyncIntegration */ .X)({
  colorScheme: "system",
  isEmailRequired: false,
  buttonLabel: "Give feedback",
  formTitle: "Give feedback",
  autoInject: false,
  showEmail: false,
  showName: false,
  showBranding: false,
  messageLabel: "How can we improve Leather?",
  enableScreenshot: false,
  submitButtonLabel: "Send feedback",
  messagePlaceholder: "This is not a support tool. To get help, follow the link in the main menu on the homepage.",
  successMessageText: "Thanks for helping make Leather better",
  themeDark: {
    background: (0,leather_styles_tokens__WEBPACK_IMPORTED_MODULE_1__/* .token */ .S)("colors.ink.background-primary"),
    inputOutlineFocus: (0,leather_styles_tokens__WEBPACK_IMPORTED_MODULE_1__/* .token */ .S)("colors.ink.border-transparent"),
    submitBackground: (0,leather_styles_tokens__WEBPACK_IMPORTED_MODULE_1__/* .token */ .S)("colors.ink.component-background-default"),
    submitBackgroundHover: (0,leather_styles_tokens__WEBPACK_IMPORTED_MODULE_1__/* .token */ .S)("colors.ink.component-background-hover"),
    submitOutlineFocus: (0,leather_styles_tokens__WEBPACK_IMPORTED_MODULE_1__/* .token */ .S)("colors.ink.border-transparent"),
    submitBorder: (0,leather_styles_tokens__WEBPACK_IMPORTED_MODULE_1__/* .token */ .S)("colors.ink.component-background-default"),
    cancelBackground: (0,leather_styles_tokens__WEBPACK_IMPORTED_MODULE_1__/* .token */ .S)("colors.colorPalette.action-primary-default"),
    cancelBackgroundHover: (0,leather_styles_tokens__WEBPACK_IMPORTED_MODULE_1__/* .token */ .S)("colors.colorPalette.action-primary-hover")
  },
  themeLight: {
    submitBackground: (0,leather_styles_tokens__WEBPACK_IMPORTED_MODULE_1__/* .token */ .S)("colors.ink.text-primary"),
    submitBackgroundHover: (0,leather_styles_tokens__WEBPACK_IMPORTED_MODULE_1__/* .token */ .S)("colors.ink.text-primary"),
    submitOutlineFocus: (0,leather_styles_tokens__WEBPACK_IMPORTED_MODULE_1__/* .token */ .S)("colors.ink.text-primary")
  }
});
function initSentry() {
  if (_shared_environment__WEBPACK_IMPORTED_MODULE_2__/* .IS_TEST_ENV */ .Ay || !_shared_environment__WEBPACK_IMPORTED_MODULE_2__/* .SENTRY_DSN */ .kL) return;
  _sentry_react__WEBPACK_IMPORTED_MODULE_8__/* .init */ .T({
    dsn: _shared_environment__WEBPACK_IMPORTED_MODULE_2__/* .SENTRY_DSN */ .kL,
    tracesSampleRate: 0.5,
    profilesSampleRate: 0.25,
    integrations: [
      _sentry_react__WEBPACK_IMPORTED_MODULE_9__/* .browserTracingIntegration */ .dp({}),
      _sentry_react__WEBPACK_IMPORTED_MODULE_10__/* .reactRouterV6BrowserTracingIntegration */ .jS({
        useEffect: react__WEBPACK_IMPORTED_MODULE_0__.useEffect,
        useLocation: react_router_dom__WEBPACK_IMPORTED_MODULE_11__/* .useLocation */ .zy,
        useNavigationType: react_router_dom__WEBPACK_IMPORTED_MODULE_11__/* .useNavigationType */ .wQ,
        createRoutesFromChildren: react_router_dom__WEBPACK_IMPORTED_MODULE_11__/* .createRoutesFromChildren */ .AV,
        matchRoutes: react_router_dom__WEBPACK_IMPORTED_MODULE_12__/* .matchRoutes */ .ue
      }),
      sentryFeedback
    ],
    ignoreErrors: [
      // Harmless error
      "ResizeObserver loop limit exceeded",
      /ResizeObserver/,
      // Failed network requests needn't be tracked
      "Network request failed"
    ],
    environment: _shared_environment__WEBPACK_IMPORTED_MODULE_2__/* .WALLET_ENVIRONMENT */ .c8,
    autoSessionTracking: false,
    async beforeSend(event) {
      delete event.user?.ip_address;
      delete event.extra?.ip_address;
      const values = event.exception?.values?.map(({ value }) => value);
      if (values?.includes("ResizeObserver loop limit exceeded")) return null;
      return event;
    }
  });
  _sentry_react__WEBPACK_IMPORTED_MODULE_13__/* .setTag */ .NA("app_version", "6.51.1");
}
async function openFeedbackSheet() {
  void analytics.track("user_clicked_feedback_button");
  const form = await sentryFeedback.createForm();
  if (!form) return null;
  form.appendToDom();
  form.open();
  return;
}


/***/ }),

/***/ 22694:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   g: () => (/* binding */ decodeText),
/* harmony export */   w: () => (/* binding */ encodeText)
/* harmony export */ });

function encodeText(text) {
  return Array.from(new TextEncoder().encode(btoa(encodeURIComponent(text)))).map((byte) => byte.toString(16).padStart(2, "0")).join("");
}
function decodeText(hex) {
  if (!hex) return "";
  const bytes = new Uint8Array((hex.match(/.{1,2}/g) ?? []).map((byte) => parseInt(byte, 16)));
  return decodeURIComponent(atob(new TextDecoder().decode(bytes)));
}


/***/ }),

/***/ 70235:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ isValidUrl)
/* harmony export */ });
/* harmony import */ var valid_url__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(19093);
/* harmony import */ var valid_url__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(valid_url__WEBPACK_IMPORTED_MODULE_0__);


function isValidUrl(str) {
  return !!(0,valid_url__WEBPACK_IMPORTED_MODULE_0__.isWebUri)(str);
}


/***/ }),

/***/ 56161:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   x: () => (/* binding */ NetworkSelectors)
/* harmony export */ });

var NetworkSelectors = /* @__PURE__ */ ((NetworkSelectors2) => {
  NetworkSelectors2["NetworkListActiveNetwork"] = "network-active-network";
  NetworkSelectors2["NetworkPageReady"] = "network-page-ready";
  NetworkSelectors2["NetworkName"] = "network-name";
  NetworkSelectors2["NetworkStacksAddress"] = "network-stacks-address";
  NetworkSelectors2["NetworkBitcoinAddress"] = "network-bitcoin-address";
  NetworkSelectors2["NetworkKey"] = "network-key";
  NetworkSelectors2["ErrorText"] = "error-text";
  NetworkSelectors2["EmptyNameError"] = "Enter a name";
  NetworkSelectors2["EmptyStacksAddressError"] = "Enter a valid Stacks API URL";
  NetworkSelectors2["EmptyBitcoinURLError"] = "Enter a valid Bitcoin API URL";
  NetworkSelectors2["EmptyKeyError"] = "Enter a unique key";
  NetworkSelectors2["NoStacksNodeFetch"] = "Unable to fetch info from stacks node";
  NetworkSelectors2["NoBitcoinNodeFetch"] = "Unable to fetch mempool from bitcoin node";
  NetworkSelectors2["AddNetworkBtn"] = "add-network-btn";
  NetworkSelectors2["AddNetworkBitcoinAPISelector"] = "add-network-bitcoin-api-selector";
  NetworkSelectors2["BitcoinApiOptionTestnet"] = "bitcoin-api-option-testnet3";
  NetworkSelectors2["NetworkMenuBtn"] = "network-menu-btn";
  NetworkSelectors2["EditNetworkMenuBtn"] = "edit-network-menu-btn";
  NetworkSelectors2["DeleteNetworkMenuBtn"] = "delete-network-menu-btn";
  return NetworkSelectors2;
})(NetworkSelectors || {});


/***/ }),

/***/ 52422:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I: () => (/* binding */ OnboardingSelectors)
/* harmony export */ });

var OnboardingSelectors = /* @__PURE__ */ ((OnboardingSelectors2) => {
  OnboardingSelectors2["BackUpSecretKeyBtn"] = "back-up-secret-key-btn";
  OnboardingSelectors2["LogoRouteToHome"] = "logo-route-to-home";
  OnboardingSelectors2["NewPasswordInput"] = "set-or-enter-password-input";
  OnboardingSelectors2["NoAssetsFundAccountLink"] = "no-assets-fund-account-link";
  OnboardingSelectors2["SecretKey"] = "secret-key";
  OnboardingSelectors2["SecretKeyInput"] = "secret-key-input";
  OnboardingSelectors2["SetPasswordBtn"] = "set-password-btn";
  OnboardingSelectors2["SignInBtn"] = "sign-in-btn";
  OnboardingSelectors2["SignInLink"] = "sign-in-link";
  OnboardingSelectors2["SignUpBtn"] = "sign-up-btn";
  OnboardingSelectors2["StepItemDone"] = "step-item-done";
  OnboardingSelectors2["StepItemStart"] = "step-item-start";
  OnboardingSelectors2["StepsList"] = "steps-list";
  OnboardingSelectors2["SignInSeedError"] = "sign-in-seed-error";
  return OnboardingSelectors2;
})(OnboardingSelectors || {});


/***/ }),

/***/ 15590:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   i: () => (/* binding */ SettingsSelectors)
/* harmony export */ });

var SettingsSelectors = /* @__PURE__ */ ((SettingsSelectors2) => {
  SettingsSelectors2["ToggleTheme"] = "change-theme";
  SettingsSelectors2["NetworkListItem"] = "network-list-item";
  SettingsSelectors2["MainnetNetworkItem"] = "mainnet-network-item";
  SettingsSelectors2["TestNetworkItem"] = "test-network-item";
  SettingsSelectors2["DevNetworkItem"] = "dev-network-item";
  SettingsSelectors2["ChangeNetworkAction"] = "settings-change-network";
  SettingsSelectors2["CurrentNetwork"] = "current-network";
  SettingsSelectors2["CurrentAccountDisplayName"] = "current-account-display-name";
  SettingsSelectors2["ViewSecretKeyListItem"] = "settings-view-secret-key";
  SettingsSelectors2["CopyKeyToClipboardBtn"] = "copy-key-to-clipboard-btn";
  SettingsSelectors2["SignOutListItem"] = "settings-sign-out";
  SettingsSelectors2["SignOutConfirmHasBackupCheckbox"] = "sign-out-confirm-has-backup-checkbox";
  SettingsSelectors2["SignOutConfirmPasswordDisable"] = "sign-out-confirm-password-disable";
  SettingsSelectors2["BtnSignOutReturnToHomeScreen"] = "btn-sign-out-return-to-home-screen";
  SettingsSelectors2["BtnSignOutActuallyDeleteWallet"] = "btn-sign-out-actually-delete-wallet";
  SettingsSelectors2["LockListItem"] = "settings-lock";
  SettingsSelectors2["EnterPasswordInput"] = "password-input";
  SettingsSelectors2["UnlockWalletBtn"] = "unlock-wallet-btn";
  SettingsSelectors2["AddNewNetworkBtn"] = "add-new-network-btn";
  SettingsSelectors2["ShowSecretKeyBtn"] = "show-secret-key-btn";
  SettingsSelectors2["GetSupportMenuItem"] = "get-support-menu-item";
  SettingsSelectors2["SettingsMenuBtn"] = "settings-menu-trigger";
  SettingsSelectors2["SwitchAccountTrigger"] = "switch-account-trigger";
  SettingsSelectors2["SwitchAccountMenuItem"] = "switch-account-menu-item";
  SettingsSelectors2["SwitchAccountItemIndex"] = "switch-account-item-[index]";
  SettingsSelectors2["OpenWalletInNewTab"] = "open-wallet-in-new-tab";
  SettingsSelectors2["TogglePrivacy"] = "toggle-privacy";
  return SettingsSelectors2;
})(SettingsSelectors || {});


/***/ }),

/***/ 5319:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   s: () => (/* binding */ SharedComponentsSelectors)
/* harmony export */ });

var SharedComponentsSelectors = /* @__PURE__ */ ((SharedComponentsSelectors2) => {
  SharedComponentsSelectors2["AddressDisplayer"] = "address-displayer";
  SharedComponentsSelectors2["AddressDisplayerPart"] = "address-displayer-part";
  SharedComponentsSelectors2["AccountCardBalanceText"] = "account-card-balance-text";
  SharedComponentsSelectors2["InfoCardAssetValue"] = "info-card-asset-value";
  SharedComponentsSelectors2["InfoCardRowValue"] = "info-card-row-value";
  SharedComponentsSelectors2["InfoCardButton"] = "info-card-button";
  SharedComponentsSelectors2["FeeRow"] = "fee-row";
  SharedComponentsSelectors2["CustomFeeFieldInput"] = "custom-fee-field-input";
  SharedComponentsSelectors2["CustomFeeSelectItem"] = "custom-fee";
  SharedComponentsSelectors2["FeeEstimateSelect"] = "fee-estimate-select";
  SharedComponentsSelectors2["FeeToBePaidLabel"] = "fee-to-be-paid-label";
  SharedComponentsSelectors2["LowFeeEstimateItem"] = "low-fee";
  SharedComponentsSelectors2["MiddleFeeEstimateItem"] = "standard-fee";
  SharedComponentsSelectors2["FeesListItem"] = "fee-list-item";
  SharedComponentsSelectors2["FeesListItemFeeValue"] = "fee-list-item-fee-value";
  SharedComponentsSelectors2["BroadcastErrorTitle"] = "broadcast-error-title";
  SharedComponentsSelectors2["HeaderBackBtn"] = "header-back-button";
  SharedComponentsSelectors2["HeaderCloseBtn"] = "header-close-button";
  return SharedComponentsSelectors2;
})(SharedComponentsSelectors || {});


/***/ }),

/***/ 25021:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 3321:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 10115:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 34654:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 34149:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 89780:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 47936:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 95083:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 99926:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 90124:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 71220:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 38854:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 21293:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LD: () => (/* binding */ finalizeConditions),
/* harmony export */   Lg: () => (/* binding */ sortConditions)
/* harmony export */ });
/* unused harmony export isCondition */
/* harmony import */ var _helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(57514);


const conditionsStr = "_hover,_focus,_focusWithin,_focusVisible,_disabled,_active,_visited,_target,_readOnly,_readWrite,_empty,_checked,_enabled,_expanded,_highlighted,_before,_after,_firstLetter,_firstLine,_marker,_selection,_file,_backdrop,_first,_last,_only,_even,_odd,_firstOfType,_lastOfType,_onlyOfType,_peerFocus,_peerHover,_peerActive,_peerFocusWithin,_peerFocusVisible,_peerDisabled,_peerChecked,_peerInvalid,_peerExpanded,_peerPlaceholderShown,_groupFocus,_groupHover,_groupActive,_groupFocusWithin,_groupFocusVisible,_groupDisabled,_groupChecked,_groupExpanded,_groupInvalid,_indeterminate,_required,_valid,_invalid,_autofill,_inRange,_outOfRange,_placeholder,_placeholderShown,_pressed,_selected,_default,_optional,_open,_closed,_fullscreen,_loading,_currentPage,_currentStep,_motionReduce,_motionSafe,_print,_landscape,_portrait,_dark,_light,_osDark,_osLight,_highContrast,_lessContrast,_moreContrast,_ltr,_rtl,_scrollbar,_scrollbarThumb,_scrollbarTrack,_horizontal,_vertical,_starting,sm,smOnly,smDown,md,mdOnly,mdDown,lg,lgOnly,lgDown,xl,xlOnly,xlDown,2xl,2xlOnly,2xlDown,smToMd,smToLg,smToXl,smTo2xl,mdToLg,mdToXl,mdTo2xl,lgToXl,lgTo2xl,xlTo2xl,base"
const conditions = new Set(conditionsStr.split(','))

const conditionRegex = /^@|&|&$/

function isCondition(value){
  return conditions.has(value) || conditionRegex.test(value)
}

const underscoreRegex = /^_/
const conditionsSelectorRegex = /&|@/

function finalizeConditions(paths){
  return paths.map((path) => {
    if (conditions.has(path)){
      return path.replace(underscoreRegex, '')
    }

    if (conditionsSelectorRegex.test(path)){
      return `[${(0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__/* .withoutSpace */ .BB)(path.trim())}]`
    }

    return path
  })}

  function sortConditions(paths){
    return paths.sort((a, b) => {
      const aa = isCondition(a)
      const bb = isCondition(b)
      if (aa && !bb) return 1
      if (!aa && bb) return -1
      return 0
    })
  }

/***/ }),

/***/ 75428:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AH: () => (/* binding */ css),
/* harmony export */   e3: () => (/* binding */ mergeCss)
/* harmony export */ });
/* unused harmony export assignCss */
/* harmony import */ var _helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(57514);
/* harmony import */ var _conditions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(21293);



const utilities = "aspectRatio:asp,boxDecorationBreak:bx-db,zIndex:z,boxSizing:bx-s,objectPosition:obj-p,objectFit:obj-f,overscrollBehavior:ovs-b,overscrollBehaviorX:ovs-bx,overscrollBehaviorY:ovs-by,position:pos/1,top:top,left:left,inset:inset,insetInline:inset-x/insetX,insetBlock:inset-y/insetY,insetBlockEnd:inset-be,insetBlockStart:inset-bs,insetInlineEnd:inset-e/insetEnd/end,insetInlineStart:inset-s/insetStart/start,right:right,bottom:bottom,float:float,visibility:vis,display:d,hideFrom:hide,hideBelow:show,flexBasis:flex-b,flex:flex,flexDirection:flex-d/flexDir,flexGrow:flex-g,flexShrink:flex-sh,gridTemplateColumns:grid-tc,gridTemplateRows:grid-tr,gridColumn:grid-c,gridRow:grid-r,gridColumnStart:grid-cs,gridColumnEnd:grid-ce,gridAutoFlow:grid-af,gridAutoColumns:grid-ac,gridAutoRows:grid-ar,gap:gap,gridGap:grid-g,gridRowGap:grid-rg,gridColumnGap:grid-cg,rowGap:rg,columnGap:cg,justifyContent:jc,alignContent:ac,alignItems:ai,alignSelf:as,padding:p/1,paddingLeft:pl/1,paddingRight:pr/1,paddingTop:pt/1,paddingBottom:pb/1,paddingBlock:py/1/paddingY,paddingBlockEnd:pbe,paddingBlockStart:pbs,paddingInline:px/paddingX/1,paddingInlineEnd:pe/1/paddingEnd,paddingInlineStart:ps/1/paddingStart,marginLeft:ml/1,marginRight:mr/1,marginTop:mt/1,marginBottom:mb/1,margin:m/1,marginBlock:my/1/marginY,marginBlockEnd:mbe,marginBlockStart:mbs,marginInline:mx/1/marginX,marginInlineEnd:me/1/marginEnd,marginInlineStart:ms/1/marginStart,spaceX:sx,spaceY:sy,outlineWidth:ring-w/ringWidth,outlineColor:ring-c/ringColor,outline:ring/1,outlineOffset:ring-o/ringOffset,divideX:dvd-x,divideY:dvd-y,divideColor:dvd-c,divideStyle:dvd-s,width:w/1,inlineSize:w-is,minWidth:min-w/minW,minInlineSize:min-w-is,maxWidth:max-w/maxW,maxInlineSize:max-w-is,height:h/1,blockSize:h-bs,minHeight:min-h/minH,minBlockSize:min-h-bs,maxHeight:max-h/maxH,maxBlockSize:max-b,color:c,fontFamily:ff,fontSize:fs,fontSizeAdjust:fs-a,fontPalette:fp,fontKerning:fk,fontFeatureSettings:ff-s,fontWeight:fw,fontSmoothing:fsmt,fontVariant:fv,fontVariantAlternates:fv-alt,fontVariantCaps:fv-caps,fontVariationSettings:fv-s,fontVariantNumeric:fv-num,letterSpacing:ls,lineHeight:lh,textAlign:ta,textDecoration:td,textDecorationColor:td-c,textEmphasisColor:te-c,textDecorationStyle:td-s,textDecorationThickness:td-t,textUnderlineOffset:tu-o,textTransform:tt,textIndent:ti,textShadow:tsh,textShadowColor:tsh-c/textShadowColor,textOverflow:tov,verticalAlign:va,wordBreak:wb,textWrap:tw,truncate:trunc,lineClamp:lc,listStyleType:li-t,listStylePosition:li-pos,listStyleImage:li-img,listStyle:li-s,backgroundPosition:bg-p/bgPosition,backgroundPositionX:bg-p-x/bgPositionX,backgroundPositionY:bg-p-y/bgPositionY,backgroundAttachment:bg-a/bgAttachment,backgroundClip:bg-cp/bgClip,background:bg/1,backgroundColor:bg-c/bgColor,backgroundOrigin:bg-o/bgOrigin,backgroundImage:bg-i/bgImage,backgroundRepeat:bg-r/bgRepeat,backgroundBlendMode:bg-bm/bgBlendMode,backgroundSize:bg-s/bgSize,backgroundGradient:bg-grad/bgGradient,textGradient:txt-grad,gradientFromPosition:grad-from-pos,gradientToPosition:grad-to-pos,gradientFrom:grad-from,gradientTo:grad-to,gradientVia:grad-via,gradientViaPosition:grad-via-pos,borderRadius:bdr/rounded,borderTopLeftRadius:bdr-tl/roundedTopLeft,borderTopRightRadius:bdr-tr/roundedTopRight,borderBottomRightRadius:bdr-br/roundedBottomRight,borderBottomLeftRadius:bdr-bl/roundedBottomLeft,borderTopRadius:bdr-t/roundedTop,borderRightRadius:bdr-r/roundedRight,borderBottomRadius:bdr-b/roundedBottom,borderLeftRadius:bdr-l/roundedLeft,borderStartStartRadius:bdr-ss/roundedStartStart,borderStartEndRadius:bdr-se/roundedStartEnd,borderStartRadius:bdr-s/roundedStart,borderEndStartRadius:bdr-es/roundedEndStart,borderEndEndRadius:bdr-ee/roundedEndEnd,borderEndRadius:bdr-e/roundedEnd,border:bd,borderWidth:bd-w,borderTopWidth:bd-t-w,borderLeftWidth:bd-l-w,borderRightWidth:bd-r-w,borderBottomWidth:bd-b-w,borderColor:bd-c,borderInline:bd-x/borderX,borderInlineWidth:bd-x-w/borderXWidth,borderInlineColor:bd-x-c/borderXColor,borderBlock:bd-y/borderY,borderBlockWidth:bd-y-w/borderYWidth,borderBlockColor:bd-y-c/borderYColor,borderLeft:bd-l,borderLeftColor:bd-l-c,borderInlineStart:bd-s/borderStart,borderInlineStartWidth:bd-s-w/borderStartWidth,borderInlineStartColor:bd-s-c/borderStartColor,borderRight:bd-r,borderRightColor:bd-r-c,borderInlineEnd:bd-e/borderEnd,borderInlineEndWidth:bd-e-w/borderEndWidth,borderInlineEndColor:bd-e-c/borderEndColor,borderTop:bd-t,borderTopColor:bd-t-c,borderBottom:bd-b,borderBottomColor:bd-b-c,borderBlockEnd:bd-be,borderBlockEndColor:bd-be-c,borderBlockStart:bd-bs,borderBlockStartColor:bd-bs-c,opacity:op,boxShadow:bx-sh/shadow,boxShadowColor:bx-sh-c/shadowColor,mixBlendMode:mix-bm,filter:filter,brightness:brightness,contrast:contrast,grayscale:grayscale,hueRotate:hue-rotate,invert:invert,saturate:saturate,sepia:sepia,dropShadow:drop-shadow,blur:blur,backdropFilter:bkdp,backdropBlur:bkdp-blur,backdropBrightness:bkdp-brightness,backdropContrast:bkdp-contrast,backdropGrayscale:bkdp-grayscale,backdropHueRotate:bkdp-hue-rotate,backdropInvert:bkdp-invert,backdropOpacity:bkdp-opacity,backdropSaturate:bkdp-saturate,backdropSepia:bkdp-sepia,borderCollapse:bd-cl,borderSpacing:bd-sp,borderSpacingX:bd-sx,borderSpacingY:bd-sy,tableLayout:tbl,transitionTimingFunction:trs-tmf,transitionDelay:trs-dly,transitionDuration:trs-dur,transitionProperty:trs-prop,transition:trs,animation:anim,animationName:anim-n,animationTimingFunction:anim-tmf,animationDuration:anim-dur,animationDelay:anim-dly,animationPlayState:anim-ps,animationComposition:anim-comp,animationFillMode:anim-fm,animationDirection:anim-dir,animationIterationCount:anim-ic,animationRange:anim-r,animationState:anim-s,animationRangeStart:anim-rs,animationRangeEnd:anim-re,animationTimeline:anim-tl,transformOrigin:trf-o,transformBox:trf-b,transformStyle:trf-s,transform:trf,rotate:rotate,rotateX:rotate-x,rotateY:rotate-y,rotateZ:rotate-z,scale:scale,scaleX:scale-x,scaleY:scale-y,translate:translate,translateX:translate-x/x,translateY:translate-y/y,translateZ:translate-z/z,accentColor:ac-c,caretColor:ca-c,scrollBehavior:scr-bhv,scrollbar:scr-bar,scrollbarColor:scr-bar-c,scrollbarGutter:scr-bar-g,scrollbarWidth:scr-bar-w,scrollMargin:scr-m,scrollMarginLeft:scr-ml,scrollMarginRight:scr-mr,scrollMarginTop:scr-mt,scrollMarginBottom:scr-mb,scrollMarginBlock:scr-my/scrollMarginY,scrollMarginBlockEnd:scr-mbe,scrollMarginBlockStart:scr-mbt,scrollMarginInline:scr-mx/scrollMarginX,scrollMarginInlineEnd:scr-me,scrollMarginInlineStart:scr-ms,scrollPadding:scr-p,scrollPaddingBlock:scr-py/scrollPaddingY,scrollPaddingBlockStart:scr-pbs,scrollPaddingBlockEnd:scr-pbe,scrollPaddingInline:scr-px/scrollPaddingX,scrollPaddingInlineEnd:scr-pe,scrollPaddingInlineStart:scr-ps,scrollPaddingLeft:scr-pl,scrollPaddingRight:scr-pr,scrollPaddingTop:scr-pt,scrollPaddingBottom:scr-pb,scrollSnapAlign:scr-sa,scrollSnapStop:scrs-s,scrollSnapType:scrs-t,scrollSnapStrictness:scrs-strt,scrollSnapMargin:scrs-m,scrollSnapMarginTop:scrs-mt,scrollSnapMarginBottom:scrs-mb,scrollSnapMarginLeft:scrs-ml,scrollSnapMarginRight:scrs-mr,scrollSnapCoordinate:scrs-c,scrollSnapDestination:scrs-d,scrollSnapPointsX:scrs-px,scrollSnapPointsY:scrs-py,scrollSnapTypeX:scrs-tx,scrollSnapTypeY:scrs-ty,scrollTimeline:scrtl,scrollTimelineAxis:scrtl-a,scrollTimelineName:scrtl-n,touchAction:tch-a,userSelect:us,overflow:ov,overflowWrap:ov-wrap,overflowX:ov-x,overflowY:ov-y,overflowAnchor:ov-a,overflowBlock:ov-b,overflowInline:ov-i,overflowClipBox:ovcp-bx,overflowClipMargin:ovcp-m,overscrollBehaviorBlock:ovs-bb,overscrollBehaviorInline:ovs-bi,fill:fill,stroke:stk,strokeWidth:stk-w,strokeDasharray:stk-dsh,strokeDashoffset:stk-do,strokeLinecap:stk-lc,strokeLinejoin:stk-lj,strokeMiterlimit:stk-ml,strokeOpacity:stk-op,srOnly:sr,debug:debug,appearance:ap,backfaceVisibility:bfv,clipPath:cp-path,hyphens:hy,mask:msk,maskImage:msk-i,maskSize:msk-s,textSizeAdjust:txt-adj,container:cq,containerName:cq-n,containerType:cq-t,textStyle:textStyle"

const classNameByProp = new Map()
const shorthands = new Map()
utilities.split(',').forEach((utility) => {
  const [prop, meta] = utility.split(':')
  const [className, ...shorthandList] = meta.split('/')
  classNameByProp.set(prop, className)
  if (shorthandList.length) {
    shorthandList.forEach((shorthand) => {
      shorthands.set(shorthand === '1' ? className : shorthand, prop)
    })
  }
})

const resolveShorthand = (prop) => shorthands.get(prop) || prop

const context = {
  
  conditions: {
    shift: _conditions_js__WEBPACK_IMPORTED_MODULE_1__/* .sortConditions */ .Lg,
    finalize: _conditions_js__WEBPACK_IMPORTED_MODULE_1__/* .finalizeConditions */ .LD,
    breakpoints: { keys: ["base","sm","md","lg","xl","2xl"] }
  },
  utility: {
    prefix: "leather",
    transform: (prop, value) => {
              const key = resolveShorthand(prop)
              const propKey = classNameByProp.get(key) || (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__/* .hypenateProperty */ .wo)(key)
              return { className: `${propKey}_${(0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__/* .withoutSpace */ .BB)(value)}` }
            },
    hasShorthand: true,
    toHash: (path, hashFn) => hashFn(path.join(":")),
    resolveShorthand: resolveShorthand,
  }
}

const cssFn = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__/* .createCss */ .Yb)(context)
const css = (...styles) => cssFn(mergeCss(...styles))
css.raw = (...styles) => mergeCss(...styles)

const { mergeCss, assignCss } = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__/* .createMergeCss */ .Mi)(context)

/***/ }),

/***/ 9363:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Fj: () => (/* binding */ cva),
/* harmony export */   Yc: () => (/* binding */ getCompoundVariantCss),
/* harmony export */   jC: () => (/* binding */ assertCompoundVariant)
/* harmony export */ });
/* harmony import */ var _helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(57514);
/* harmony import */ var _css_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(75428);



const defaults = (conf) => ({
  base: {},
  variants: {},
  defaultVariants: {},
  compoundVariants: [],
  ...conf,
})

function cva(config) {
  const { base, variants, defaultVariants, compoundVariants } = defaults(config)
  const getVariantProps = (variants) => ({ ...defaultVariants, ...(0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__/* .compact */ .oE)(variants) })

  function resolve(props = {}) {
    const computedVariants = getVariantProps(props)
    let variantCss = { ...base }
    for (const [key, value] of Object.entries(computedVariants)) {
      if (variants[key]?.[value]) {
        variantCss = (0,_css_js__WEBPACK_IMPORTED_MODULE_1__/* .mergeCss */ .e3)(variantCss, variants[key][value])
      }
    }
    const compoundVariantCss = getCompoundVariantCss(compoundVariants, computedVariants)
    return (0,_css_js__WEBPACK_IMPORTED_MODULE_1__/* .mergeCss */ .e3)(variantCss, compoundVariantCss)
  }

  function merge(__cva) {
    const override = defaults(__cva.config)
    const variantKeys = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__/* .uniq */ .sb)(__cva.variantKeys, Object.keys(variants))
    return cva({
      base: (0,_css_js__WEBPACK_IMPORTED_MODULE_1__/* .mergeCss */ .e3)(base, override.base),
      variants: Object.fromEntries(
        variantKeys.map((key) => [key, (0,_css_js__WEBPACK_IMPORTED_MODULE_1__/* .mergeCss */ .e3)(variants[key], override.variants[key])]),
      ),
      defaultVariants: (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__/* .mergeProps */ .v6)(defaultVariants, override.defaultVariants),
      compoundVariants: [...compoundVariants, ...override.compoundVariants],
    })
  }

  function cvaFn(props) {
    return (0,_css_js__WEBPACK_IMPORTED_MODULE_1__/* .css */ .AH)(resolve(props))
  }

  const variantKeys = Object.keys(variants)

  function splitVariantProps(props) {
    return (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__/* .splitProps */ .rg)(props, variantKeys)
  }

  const variantMap = Object.fromEntries(Object.entries(variants).map(([key, value]) => [key, Object.keys(value)]))

  return Object.assign((0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__/* .memo */ .ph)(cvaFn), {
    __cva__: true,
    variantMap,
    variantKeys,
    raw: resolve,
    config,
    merge,
    splitVariantProps,
    getVariantProps
  })
}

function getCompoundVariantCss(compoundVariants, variantMap) {
  let result = {}
  compoundVariants.forEach((compoundVariant) => {
    const isMatching = Object.entries(compoundVariant).every(([key, value]) => {
      if (key === 'css') return true

      const values = Array.isArray(value) ? value : [value]
      return values.some((value) => variantMap[key] === value)
    })

    if (isMatching) {
      result = (0,_css_js__WEBPACK_IMPORTED_MODULE_1__/* .mergeCss */ .e3)(result, compoundVariant.css)
    }
  })

  return result
}

function assertCompoundVariant(name, compoundVariants, variants, prop) {
  if (compoundVariants.length > 0 && typeof variants?.[prop] === 'object') {
    throw new Error(`[recipe:${name}:${prop}] Conditions are not supported when using compound variants.`)
  }
}


/***/ }),

/***/ 7408:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cx: () => (/* binding */ cx)
/* harmony export */ });
function cx() {
  let str = '',
    i = 0,
    arg

  for (; i < arguments.length; ) {
    if ((arg = arguments[i++]) && typeof arg === 'string') {
      str && (str += ' ')
      str += arg
    }
  }
  return str
}



/***/ }),

/***/ 46977:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  AH: () => (/* reexport */ css/* css */.AH),
  Fj: () => (/* reexport */ cva/* cva */.Fj),
  cx: () => (/* reexport */ cx.cx),
  JB: () => (/* reexport */ sva)
});

// UNUSED EXPORTS: assertCompoundVariant, assignCss, getCompoundVariantCss, mergeCss

// EXTERNAL MODULE: ./leather-styles/css/css.js
var css = __webpack_require__(75428);
// EXTERNAL MODULE: ./leather-styles/css/cx.js
var cx = __webpack_require__(7408);
// EXTERNAL MODULE: ./leather-styles/css/cva.js
var cva = __webpack_require__(9363);
// EXTERNAL MODULE: ./leather-styles/helpers.js
var helpers = __webpack_require__(57514);
;// CONCATENATED MODULE: ./leather-styles/css/sva.js




const slotClass = (className, slot) => className + '__' + slot

function sva(config) {
  const slots = Object.entries((0,helpers/* getSlotRecipes */.wO)(config)).map(([slot, slotCva]) => [slot, (0,cva/* cva */.Fj)(slotCva)])
  const defaultVariants = config.defaultVariants ?? {}

  function svaFn(props) {
    const result = slots.map(([slot, cvaFn]) => [slot, (0,cx.cx)(cvaFn(props), config.className && slotClass(config.className, slot))])
    return Object.fromEntries(result)
  }

  function raw(props) {
    const result = slots.map(([slot, cvaFn]) => [slot, cvaFn.raw(props)])
    return Object.fromEntries(result)
  }

  const variants = config.variants ?? {};
  const variantKeys = Object.keys(variants);

  function splitVariantProps(props) {
    return (0,helpers/* splitProps */.rg)(props, variantKeys);
  }
  const getVariantProps = (variants) => ({ ...(defaultVariants || {}), ...(0,helpers/* compact */.oE)(variants) })

  const variantMap = Object.fromEntries(
    Object.entries(variants).map(([key, value]) => [key, Object.keys(value)])
  );

  return Object.assign((0,helpers/* memo */.ph)(svaFn), {
    __cva__: false,
    raw,
    variantMap,
    variantKeys,
    splitVariantProps,
    getVariantProps,
  })
}
;// CONCATENATED MODULE: ./leather-styles/css/index.js





/***/ }),

/***/ 57514:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BB: () => (/* binding */ withoutSpace),
/* harmony export */   Ek: () => (/* binding */ patternFns),
/* harmony export */   HZ: () => (/* binding */ getPatternStyles),
/* harmony export */   Mi: () => (/* binding */ createMergeCss),
/* harmony export */   Yb: () => (/* binding */ createCss),
/* harmony export */   oE: () => (/* binding */ compact),
/* harmony export */   ph: () => (/* binding */ memo),
/* harmony export */   rg: () => (/* binding */ splitProps),
/* harmony export */   sb: () => (/* binding */ uniq),
/* harmony export */   v6: () => (/* binding */ mergeProps),
/* harmony export */   wO: () => (/* binding */ getSlotRecipes),
/* harmony export */   wo: () => (/* binding */ hypenateProperty),
/* harmony export */   xu: () => (/* binding */ normalizeHTMLProps)
/* harmony export */ });
/* unused harmony exports filterBaseConditions, getSlotCompoundVariant, isBaseCondition, isObject, mapObject, toHash, walkObject, __spreadValues, __objRest */
// src/assert.ts
function isObject(value) {
  return typeof value === "object" && value != null && !Array.isArray(value);
}
var isObjectOrArray = (obj) => typeof obj === "object" && obj !== null;

// src/compact.ts
function compact(value) {
  return Object.fromEntries(Object.entries(value ?? {}).filter(([_, value2]) => value2 !== void 0));
}

// src/condition.ts
var isBaseCondition = (v) => v === "base";
function filterBaseConditions(c) {
  return c.slice().filter((v) => !isBaseCondition(v));
}

// src/hash.ts
function toChar(code) {
  return String.fromCharCode(code + (code > 25 ? 39 : 97));
}
function toName(code) {
  let name = "";
  let x;
  for (x = Math.abs(code); x > 52; x = x / 52 | 0)
    name = toChar(x % 52) + name;
  return toChar(x % 52) + name;
}
function toPhash(h, x) {
  let i = x.length;
  while (i)
    h = h * 33 ^ x.charCodeAt(--i);
  return h;
}
function toHash(value) {
  return toName(toPhash(5381, value) >>> 0);
}

// src/important.ts
var importantRegex = /\s*!(important)?/i;
function isImportant(value) {
  return typeof value === "string" ? importantRegex.test(value) : false;
}
function withoutImportant(value) {
  return typeof value === "string" ? value.replace(importantRegex, "").trim() : value;
}
function withoutSpace(str) {
  return typeof str === "string" ? str.replaceAll(" ", "_") : str;
}

// src/memo.ts
var memo = (fn) => {
  const cache = /* @__PURE__ */ new Map();
  const get = (...args) => {
    const key = JSON.stringify(args);
    if (cache.has(key)) {
      return cache.get(key);
    }
    const result = fn(...args);
    cache.set(key, result);
    return result;
  };
  return get;
};

// src/merge-props.ts
function mergeProps(...sources) {
  return sources.reduce((prev, obj) => {
    if (!obj)
      return prev;
    Object.keys(obj).forEach((key) => {
      const prevValue = prev[key];
      const value = obj[key];
      if (isObject(prevValue) && isObject(value)) {
        prev[key] = mergeProps(prevValue, value);
      } else {
        prev[key] = value;
      }
    });
    return prev;
  }, {});
}

// src/walk-object.ts
var isNotNullish = (element) => element != null;
function walkObject(target, predicate, options = {}) {
  const { stop, getKey } = options;
  function inner(value, path = []) {
    if (isObjectOrArray(value)) {
      const result = {};
      for (const [prop, child] of Object.entries(value)) {
        const key = getKey?.(prop, child) ?? prop;
        const childPath = [...path, key];
        if (stop?.(value, childPath)) {
          return predicate(value, path);
        }
        const next = inner(child, childPath);
        if (isNotNullish(next)) {
          result[key] = next;
        }
      }
      return result;
    }
    return predicate(value, path);
  }
  return inner(target);
}
function mapObject(obj, fn) {
  if (Array.isArray(obj))
    return obj.map((value) => fn(value));
  if (!isObject(obj))
    return fn(obj);
  return walkObject(obj, (value) => fn(value));
}

// src/normalize-style-object.ts
function toResponsiveObject(values, breakpoints) {
  return values.reduce(
    (acc, current, index) => {
      const key = breakpoints[index];
      if (current != null) {
        acc[key] = current;
      }
      return acc;
    },
    {}
  );
}
function normalizeStyleObject(styles, context, shorthand = true) {
  const { utility, conditions } = context;
  const { hasShorthand, resolveShorthand } = utility;
  return walkObject(
    styles,
    (value) => {
      return Array.isArray(value) ? toResponsiveObject(value, conditions.breakpoints.keys) : value;
    },
    {
      stop: (value) => Array.isArray(value),
      getKey: shorthand ? (prop) => hasShorthand ? resolveShorthand(prop) : prop : void 0
    }
  );
}

// src/classname.ts
var fallbackCondition = {
  shift: (v) => v,
  finalize: (v) => v,
  breakpoints: { keys: [] }
};
var sanitize = (value) => typeof value === "string" ? value.replaceAll(/[\n\s]+/g, " ") : value;
function createCss(context) {
  const { utility, hash, conditions: conds = fallbackCondition } = context;
  const formatClassName = (str) => [utility.prefix, str].filter(Boolean).join("-");
  const hashFn = (conditions, className) => {
    let result;
    if (hash) {
      const baseArray = [...conds.finalize(conditions), className];
      result = formatClassName(utility.toHash(baseArray, toHash));
    } else {
      const baseArray = [...conds.finalize(conditions), formatClassName(className)];
      result = baseArray.join(":");
    }
    return result;
  };
  return memo(({ base, ...styles } = {}) => {
    const styleObject = Object.assign(styles, base);
    const normalizedObject = normalizeStyleObject(styleObject, context);
    const classNames = /* @__PURE__ */ new Set();
    walkObject(normalizedObject, (value, paths) => {
      if (value == null)
        return;
      const important = isImportant(value);
      const [prop, ...allConditions] = conds.shift(paths);
      const conditions = filterBaseConditions(allConditions);
      const transformed = utility.transform(prop, withoutImportant(sanitize(value)));
      let className = hashFn(conditions, transformed.className);
      if (important)
        className = `${className}!`;
      classNames.add(className);
    });
    return Array.from(classNames).join(" ");
  });
}
function compactStyles(...styles) {
  return styles.flat().filter((style) => isObject(style) && Object.keys(compact(style)).length > 0);
}
function createMergeCss(context) {
  function resolve(styles) {
    const allStyles = compactStyles(...styles);
    if (allStyles.length === 1)
      return allStyles;
    return allStyles.map((style) => normalizeStyleObject(style, context));
  }
  function mergeCss(...styles) {
    return mergeProps(...resolve(styles));
  }
  function assignCss(...styles) {
    return Object.assign({}, ...resolve(styles));
  }
  return { mergeCss: memo(mergeCss), assignCss };
}

// src/hypenate-property.ts
var wordRegex = /([A-Z])/g;
var msRegex = /^ms-/;
var hypenateProperty = memo((property) => {
  if (property.startsWith("--"))
    return property;
  return property.replace(wordRegex, "-$1").replace(msRegex, "-ms-").toLowerCase();
});

// src/is-css-function.ts
var fns = ["min", "max", "clamp", "calc"];
var fnRegExp = new RegExp(`^(${fns.join("|")})\\(.*\\)`);
var isCssFunction = (v) => typeof v === "string" && fnRegExp.test(v);

// src/is-css-unit.ts
var lengthUnits = "cm,mm,Q,in,pc,pt,px,em,ex,ch,rem,lh,rlh,vw,vh,vmin,vmax,vb,vi,svw,svh,lvw,lvh,dvw,dvh,cqw,cqh,cqi,cqb,cqmin,cqmax,%";
var lengthUnitsPattern = `(?:${lengthUnits.split(",").join("|")})`;
var lengthRegExp = new RegExp(`^[+-]?[0-9]*.?[0-9]+(?:[eE][+-]?[0-9]+)?${lengthUnitsPattern}$`);
var isCssUnit = (v) => typeof v === "string" && lengthRegExp.test(v);

// src/is-css-var.ts
var isCssVar = (v) => typeof v === "string" && /^var\(--.+\)$/.test(v);

// src/pattern-fns.ts
var patternFns = {
  map: mapObject,
  isCssFunction,
  isCssVar,
  isCssUnit
};
var getPatternStyles = (pattern, styles) => {
  if (!pattern?.defaultValues)
    return styles;
  const defaults = typeof pattern.defaultValues === "function" ? pattern.defaultValues(styles) : pattern.defaultValues;
  return Object.assign({}, defaults, compact(styles));
};

// src/slot.ts
var getSlotRecipes = (recipe = {}) => {
  const init = (slot) => ({
    className: [recipe.className, slot].filter(Boolean).join("__"),
    base: recipe.base?.[slot] ?? {},
    variants: {},
    defaultVariants: recipe.defaultVariants ?? {},
    compoundVariants: recipe.compoundVariants ? getSlotCompoundVariant(recipe.compoundVariants, slot) : []
  });
  const slots = recipe.slots ?? [];
  const recipeParts = slots.map((slot) => [slot, init(slot)]);
  for (const [variantsKey, variantsSpec] of Object.entries(recipe.variants ?? {})) {
    for (const [variantKey, variantSpec] of Object.entries(variantsSpec)) {
      recipeParts.forEach(([slot, slotRecipe]) => {
        slotRecipe.variants[variantsKey] ??= {};
        slotRecipe.variants[variantsKey][variantKey] = variantSpec[slot] ?? {};
      });
    }
  }
  return Object.fromEntries(recipeParts);
};
var getSlotCompoundVariant = (compoundVariants, slotName) => compoundVariants.filter((compoundVariant) => compoundVariant.css[slotName]).map((compoundVariant) => ({ ...compoundVariant, css: compoundVariant.css[slotName] }));

// src/split-props.ts
function splitProps(props, ...keys) {
  const descriptors = Object.getOwnPropertyDescriptors(props);
  const dKeys = Object.keys(descriptors);
  const split = (k) => {
    const clone = {};
    for (let i = 0; i < k.length; i++) {
      const key = k[i];
      if (descriptors[key]) {
        Object.defineProperty(clone, key, descriptors[key]);
        delete descriptors[key];
      }
    }
    return clone;
  };
  const fn = (key) => split(Array.isArray(key) ? key : dKeys.filter(key));
  return keys.map(fn).concat(split(dKeys));
}

// src/uniq.ts
var uniq = (...items) => {
  const set = items.reduce((acc, currItems) => {
    if (currItems) {
      currItems.forEach((item) => acc.add(item));
    }
    return acc;
  }, /* @__PURE__ */ new Set([]));
  return Array.from(set);
};




// src/normalize-html.ts
var htmlProps = ["htmlSize", "htmlTranslate", "htmlWidth", "htmlHeight"];
function convert(key) {
  return htmlProps.includes(key) ? key.replace("html", "").toLowerCase() : key;
}
function normalizeHTMLProps(props) {
  return Object.fromEntries(Object.entries(props).map(([key, value]) => [convert(key), value]));
}
normalizeHTMLProps.keys = htmlProps;



function __spreadValues(a, b) {
  return { ...a, ...b }
}

function __objRest(source, exclude) {
  return Object.fromEntries(Object.entries(source).filter(([key]) => !exclude.includes(key)))
}

/***/ }),

/***/ 80200:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  az: () => (/* reexport */ Box),
  jl: () => (/* reexport */ Circle),
  cG: () => (/* reexport */ Divider),
  so: () => (/* reexport */ Flex),
  xA: () => (/* reexport */ Grid),
  Ei: () => (/* reexport */ GridItem),
  zt: () => (/* reexport */ HStack),
  M6: () => (/* reexport */ Square),
  BJ: () => (/* reexport */ Stack),
  Tk: () => (/* reexport */ VStack),
  s6: () => (/* reexport */ VisuallyHidden),
  Rq: () => (/* reexport */ isCssProperty),
  I4: () => (/* reexport */ factory_styled)
});

// UNUSED EXPORTS: AspectRatio, Bleed, Center, Container, Cq, Float, LinkOverlay, Spacer, Wrap, allCssProperties, splitCssProps

// EXTERNAL MODULE: ./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js
var react = __webpack_require__(30758);
// EXTERNAL MODULE: ./leather-styles/css/index.js + 1 modules
var css = __webpack_require__(46977);
// EXTERNAL MODULE: ./leather-styles/helpers.js
var helpers = __webpack_require__(57514);
;// CONCATENATED MODULE: ./leather-styles/jsx/is-valid-prop.js


// src/index.ts
var userGeneratedStr = "css,pos,insetX,insetY,insetEnd,end,insetStart,start,flexDir,p,pl,pr,pt,pb,py,paddingY,paddingX,px,pe,paddingEnd,ps,paddingStart,ml,mr,mt,mb,m,my,marginY,mx,marginX,me,marginEnd,ms,marginStart,ringWidth,ringColor,ring,ringOffset,w,minW,maxW,h,minH,maxH,textShadowColor,bgPosition,bgPositionX,bgPositionY,bgAttachment,bgClip,bg,bgColor,bgOrigin,bgImage,bgRepeat,bgBlendMode,bgSize,bgGradient,rounded,roundedTopLeft,roundedTopRight,roundedBottomRight,roundedBottomLeft,roundedTop,roundedRight,roundedBottom,roundedLeft,roundedStartStart,roundedStartEnd,roundedStart,roundedEndStart,roundedEndEnd,roundedEnd,borderX,borderXWidth,borderXColor,borderY,borderYWidth,borderYColor,borderStart,borderStartWidth,borderStartColor,borderEnd,borderEndWidth,borderEndColor,shadow,shadowColor,x,y,z,scrollMarginY,scrollMarginX,scrollPaddingY,scrollPaddingX,aspectRatio,boxDecorationBreak,zIndex,boxSizing,objectPosition,objectFit,overscrollBehavior,overscrollBehaviorX,overscrollBehaviorY,position,top,left,inset,insetInline,insetBlock,insetBlockEnd,insetBlockStart,insetInlineEnd,insetInlineStart,right,bottom,float,visibility,display,hideFrom,hideBelow,flexBasis,flex,flexDirection,flexGrow,flexShrink,gridTemplateColumns,gridTemplateRows,gridColumn,gridRow,gridColumnStart,gridColumnEnd,gridAutoFlow,gridAutoColumns,gridAutoRows,gap,gridGap,gridRowGap,gridColumnGap,rowGap,columnGap,justifyContent,alignContent,alignItems,alignSelf,padding,paddingLeft,paddingRight,paddingTop,paddingBottom,paddingBlock,paddingBlockEnd,paddingBlockStart,paddingInline,paddingInlineEnd,paddingInlineStart,marginLeft,marginRight,marginTop,marginBottom,margin,marginBlock,marginBlockEnd,marginBlockStart,marginInline,marginInlineEnd,marginInlineStart,spaceX,spaceY,outlineWidth,outlineColor,outline,outlineOffset,divideX,divideY,divideColor,divideStyle,width,inlineSize,minWidth,minInlineSize,maxWidth,maxInlineSize,height,blockSize,minHeight,minBlockSize,maxHeight,maxBlockSize,color,fontFamily,fontSize,fontSizeAdjust,fontPalette,fontKerning,fontFeatureSettings,fontWeight,fontSmoothing,fontVariant,fontVariantAlternates,fontVariantCaps,fontVariationSettings,fontVariantNumeric,letterSpacing,lineHeight,textAlign,textDecoration,textDecorationColor,textEmphasisColor,textDecorationStyle,textDecorationThickness,textUnderlineOffset,textTransform,textIndent,textShadow,textOverflow,verticalAlign,wordBreak,textWrap,truncate,lineClamp,listStyleType,listStylePosition,listStyleImage,listStyle,backgroundPosition,backgroundPositionX,backgroundPositionY,backgroundAttachment,backgroundClip,background,backgroundColor,backgroundOrigin,backgroundImage,backgroundRepeat,backgroundBlendMode,backgroundSize,backgroundGradient,textGradient,gradientFromPosition,gradientToPosition,gradientFrom,gradientTo,gradientVia,gradientViaPosition,borderRadius,borderTopLeftRadius,borderTopRightRadius,borderBottomRightRadius,borderBottomLeftRadius,borderTopRadius,borderRightRadius,borderBottomRadius,borderLeftRadius,borderStartStartRadius,borderStartEndRadius,borderStartRadius,borderEndStartRadius,borderEndEndRadius,borderEndRadius,border,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,borderColor,borderInline,borderInlineWidth,borderInlineColor,borderBlock,borderBlockWidth,borderBlockColor,borderLeft,borderLeftColor,borderInlineStart,borderInlineStartWidth,borderInlineStartColor,borderRight,borderRightColor,borderInlineEnd,borderInlineEndWidth,borderInlineEndColor,borderTop,borderTopColor,borderBottom,borderBottomColor,borderBlockEnd,borderBlockEndColor,borderBlockStart,borderBlockStartColor,opacity,boxShadow,boxShadowColor,mixBlendMode,filter,brightness,contrast,grayscale,hueRotate,invert,saturate,sepia,dropShadow,blur,backdropFilter,backdropBlur,backdropBrightness,backdropContrast,backdropGrayscale,backdropHueRotate,backdropInvert,backdropOpacity,backdropSaturate,backdropSepia,borderCollapse,borderSpacing,borderSpacingX,borderSpacingY,tableLayout,transitionTimingFunction,transitionDelay,transitionDuration,transitionProperty,transition,animation,animationName,animationTimingFunction,animationDuration,animationDelay,animationPlayState,animationComposition,animationFillMode,animationDirection,animationIterationCount,animationRange,animationState,animationRangeStart,animationRangeEnd,animationTimeline,transformOrigin,transformBox,transformStyle,transform,rotate,rotateX,rotateY,rotateZ,scale,scaleX,scaleY,translate,translateX,translateY,translateZ,accentColor,caretColor,scrollBehavior,scrollbar,scrollbarColor,scrollbarGutter,scrollbarWidth,scrollMargin,scrollMarginLeft,scrollMarginRight,scrollMarginTop,scrollMarginBottom,scrollMarginBlock,scrollMarginBlockEnd,scrollMarginBlockStart,scrollMarginInline,scrollMarginInlineEnd,scrollMarginInlineStart,scrollPadding,scrollPaddingBlock,scrollPaddingBlockStart,scrollPaddingBlockEnd,scrollPaddingInline,scrollPaddingInlineEnd,scrollPaddingInlineStart,scrollPaddingLeft,scrollPaddingRight,scrollPaddingTop,scrollPaddingBottom,scrollSnapAlign,scrollSnapStop,scrollSnapType,scrollSnapStrictness,scrollSnapMargin,scrollSnapMarginTop,scrollSnapMarginBottom,scrollSnapMarginLeft,scrollSnapMarginRight,scrollSnapCoordinate,scrollSnapDestination,scrollSnapPointsX,scrollSnapPointsY,scrollSnapTypeX,scrollSnapTypeY,scrollTimeline,scrollTimelineAxis,scrollTimelineName,touchAction,userSelect,overflow,overflowWrap,overflowX,overflowY,overflowAnchor,overflowBlock,overflowInline,overflowClipBox,overflowClipMargin,overscrollBehaviorBlock,overscrollBehaviorInline,fill,stroke,strokeWidth,strokeDasharray,strokeDashoffset,strokeLinecap,strokeLinejoin,strokeMiterlimit,strokeOpacity,srOnly,debug,appearance,backfaceVisibility,clipPath,hyphens,mask,maskImage,maskSize,textSizeAdjust,container,containerName,containerType,colorPalette,_hover,_focus,_focusWithin,_focusVisible,_disabled,_active,_visited,_target,_readOnly,_readWrite,_empty,_checked,_enabled,_expanded,_highlighted,_before,_after,_firstLetter,_firstLine,_marker,_selection,_file,_backdrop,_first,_last,_only,_even,_odd,_firstOfType,_lastOfType,_onlyOfType,_peerFocus,_peerHover,_peerActive,_peerFocusWithin,_peerFocusVisible,_peerDisabled,_peerChecked,_peerInvalid,_peerExpanded,_peerPlaceholderShown,_groupFocus,_groupHover,_groupActive,_groupFocusWithin,_groupFocusVisible,_groupDisabled,_groupChecked,_groupExpanded,_groupInvalid,_indeterminate,_required,_valid,_invalid,_autofill,_inRange,_outOfRange,_placeholder,_placeholderShown,_pressed,_selected,_default,_optional,_open,_closed,_fullscreen,_loading,_currentPage,_currentStep,_motionReduce,_motionSafe,_print,_landscape,_portrait,_dark,_light,_osDark,_osLight,_highContrast,_lessContrast,_moreContrast,_ltr,_rtl,_scrollbar,_scrollbarThumb,_scrollbarTrack,_horizontal,_vertical,_starting,sm,smOnly,smDown,md,mdOnly,mdDown,lg,lgOnly,lgDown,xl,xlOnly,xlDown,2xl,2xlOnly,2xlDown,smToMd,smToLg,smToXl,smTo2xl,mdToLg,mdToXl,mdTo2xl,lgToXl,lgTo2xl,xlTo2xl,textStyle"
var userGenerated = userGeneratedStr.split(",");
var cssPropertiesStr = "WebkitAppearance,WebkitBorderBefore,WebkitBorderBeforeColor,WebkitBorderBeforeStyle,WebkitBorderBeforeWidth,WebkitBoxReflect,WebkitLineClamp,WebkitMask,WebkitMaskAttachment,WebkitMaskClip,WebkitMaskComposite,WebkitMaskImage,WebkitMaskOrigin,WebkitMaskPosition,WebkitMaskPositionX,WebkitMaskPositionY,WebkitMaskRepeat,WebkitMaskRepeatX,WebkitMaskRepeatY,WebkitMaskSize,WebkitOverflowScrolling,WebkitTapHighlightColor,WebkitTextFillColor,WebkitTextStroke,WebkitTextStrokeColor,WebkitTextStrokeWidth,WebkitTouchCallout,WebkitUserModify,accentColor,alignContent,alignItems,alignSelf,alignTracks,all,animation,animationComposition,animationDelay,animationDirection,animationDuration,animationFillMode,animationIterationCount,animationName,animationPlayState,animationRange,animationRangeEnd,animationRangeStart,animationTimingFunction,animationTimeline,appearance,aspectRatio,azimuth,backdropFilter,backfaceVisibility,background,backgroundAttachment,backgroundBlendMode,backgroundClip,backgroundColor,backgroundImage,backgroundOrigin,backgroundPosition,backgroundPositionX,backgroundPositionY,backgroundRepeat,backgroundSize,blockSize,border,borderBlock,borderBlockColor,borderBlockStyle,borderBlockWidth,borderBlockEnd,borderBlockEndColor,borderBlockEndStyle,borderBlockEndWidth,borderBlockStart,borderBlockStartColor,borderBlockStartStyle,borderBlockStartWidth,borderBottom,borderBottomColor,borderBottomLeftRadius,borderBottomRightRadius,borderBottomStyle,borderBottomWidth,borderCollapse,borderColor,borderEndEndRadius,borderEndStartRadius,borderImage,borderImageOutset,borderImageRepeat,borderImageSlice,borderImageSource,borderImageWidth,borderInline,borderInlineEnd,borderInlineColor,borderInlineStyle,borderInlineWidth,borderInlineEndColor,borderInlineEndStyle,borderInlineEndWidth,borderInlineStart,borderInlineStartColor,borderInlineStartStyle,borderInlineStartWidth,borderLeft,borderLeftColor,borderLeftStyle,borderLeftWidth,borderRadius,borderRight,borderRightColor,borderRightStyle,borderRightWidth,borderSpacing,borderStartEndRadius,borderStartStartRadius,borderStyle,borderTop,borderTopColor,borderTopLeftRadius,borderTopRightRadius,borderTopStyle,borderTopWidth,borderWidth,bottom,boxAlign,boxDecorationBreak,boxDirection,boxFlex,boxFlexGroup,boxLines,boxOrdinalGroup,boxOrient,boxPack,boxShadow,boxSizing,breakAfter,breakBefore,breakInside,captionSide,caret,caretColor,caretShape,clear,clip,clipPath,color,colorScheme,columnCount,columnFill,columnGap,columnRule,columnRuleColor,columnRuleStyle,columnRuleWidth,columnSpan,columnWidth,columns,contain,containIntrinsicSize,containIntrinsicBlockSize,containIntrinsicHeight,containIntrinsicInlineSize,containIntrinsicWidth,container,containerName,containerType,content,contentVisibility,counterIncrement,counterReset,counterSet,cursor,direction,display,emptyCells,filter,flex,flexBasis,flexDirection,flexFlow,flexGrow,flexShrink,flexWrap,float,font,fontFamily,fontFeatureSettings,fontKerning,fontLanguageOverride,fontOpticalSizing,fontPalette,fontVariationSettings,fontSize,fontSizeAdjust,fontSmooth,fontStretch,fontStyle,fontSynthesis,fontSynthesisPosition,fontSynthesisSmallCaps,fontSynthesisStyle,fontSynthesisWeight,fontVariant,fontVariantAlternates,fontVariantCaps,fontVariantEastAsian,fontVariantEmoji,fontVariantLigatures,fontVariantNumeric,fontVariantPosition,fontWeight,forcedColorAdjust,gap,grid,gridArea,gridAutoColumns,gridAutoFlow,gridAutoRows,gridColumn,gridColumnEnd,gridColumnGap,gridColumnStart,gridGap,gridRow,gridRowEnd,gridRowGap,gridRowStart,gridTemplate,gridTemplateAreas,gridTemplateColumns,gridTemplateRows,hangingPunctuation,height,hyphenateCharacter,hyphenateLimitChars,hyphens,imageOrientation,imageRendering,imageResolution,imeMode,initialLetter,initialLetterAlign,inlineSize,inputSecurity,inset,insetBlock,insetBlockEnd,insetBlockStart,insetInline,insetInlineEnd,insetInlineStart,isolation,justifyContent,justifyItems,justifySelf,justifyTracks,left,letterSpacing,lineBreak,lineClamp,lineHeight,lineHeightStep,listStyle,listStyleImage,listStylePosition,listStyleType,margin,marginBlock,marginBlockEnd,marginBlockStart,marginBottom,marginInline,marginInlineEnd,marginInlineStart,marginLeft,marginRight,marginTop,marginTrim,mask,maskBorder,maskBorderMode,maskBorderOutset,maskBorderRepeat,maskBorderSlice,maskBorderSource,maskBorderWidth,maskClip,maskComposite,maskImage,maskMode,maskOrigin,maskPosition,maskRepeat,maskSize,maskType,masonryAutoFlow,mathDepth,mathShift,mathStyle,maxBlockSize,maxHeight,maxInlineSize,maxLines,maxWidth,minBlockSize,minHeight,minInlineSize,minWidth,mixBlendMode,objectFit,objectPosition,offset,offsetAnchor,offsetDistance,offsetPath,offsetPosition,offsetRotate,opacity,order,orphans,outline,outlineColor,outlineOffset,outlineStyle,outlineWidth,overflow,overflowAnchor,overflowBlock,overflowClipBox,overflowClipMargin,overflowInline,overflowWrap,overflowX,overflowY,overlay,overscrollBehavior,overscrollBehaviorBlock,overscrollBehaviorInline,overscrollBehaviorX,overscrollBehaviorY,padding,paddingBlock,paddingBlockEnd,paddingBlockStart,paddingBottom,paddingInline,paddingInlineEnd,paddingInlineStart,paddingLeft,paddingRight,paddingTop,page,pageBreakAfter,pageBreakBefore,pageBreakInside,paintOrder,perspective,perspectiveOrigin,placeContent,placeItems,placeSelf,pointerEvents,position,printColorAdjust,quotes,resize,right,rotate,rowGap,rubyAlign,rubyMerge,rubyPosition,scale,scrollbarColor,scrollbarGutter,scrollbarWidth,scrollBehavior,scrollMargin,scrollMarginBlock,scrollMarginBlockStart,scrollMarginBlockEnd,scrollMarginBottom,scrollMarginInline,scrollMarginInlineStart,scrollMarginInlineEnd,scrollMarginLeft,scrollMarginRight,scrollMarginTop,scrollPadding,scrollPaddingBlock,scrollPaddingBlockStart,scrollPaddingBlockEnd,scrollPaddingBottom,scrollPaddingInline,scrollPaddingInlineStart,scrollPaddingInlineEnd,scrollPaddingLeft,scrollPaddingRight,scrollPaddingTop,scrollSnapAlign,scrollSnapCoordinate,scrollSnapDestination,scrollSnapPointsX,scrollSnapPointsY,scrollSnapStop,scrollSnapType,scrollSnapTypeX,scrollSnapTypeY,scrollTimeline,scrollTimelineAxis,scrollTimelineName,shapeImageThreshold,shapeMargin,shapeOutside,tabSize,tableLayout,textAlign,textAlignLast,textCombineUpright,textDecoration,textDecorationColor,textDecorationLine,textDecorationSkip,textDecorationSkipInk,textDecorationStyle,textDecorationThickness,textEmphasis,textEmphasisColor,textEmphasisPosition,textEmphasisStyle,textIndent,textJustify,textOrientation,textOverflow,textRendering,textShadow,textSizeAdjust,textTransform,textUnderlineOffset,textUnderlinePosition,textWrap,timelineScope,top,touchAction,transform,transformBox,transformOrigin,transformStyle,transition,transitionBehavior,transitionDelay,transitionDuration,transitionProperty,transitionTimingFunction,translate,unicodeBidi,userSelect,verticalAlign,viewTimeline,viewTimelineAxis,viewTimelineInset,viewTimelineName,viewTransitionName,visibility,whiteSpace,whiteSpaceCollapse,widows,width,willChange,wordBreak,wordSpacing,wordWrap,writingMode,zIndex,zoom,alignmentBaseline,baselineShift,clipRule,colorInterpolation,colorRendering,dominantBaseline,fill,fillOpacity,fillRule,floodColor,floodOpacity,glyphOrientationVertical,lightingColor,marker,markerEnd,markerMid,markerStart,shapeRendering,stopColor,stopOpacity,stroke,strokeDasharray,strokeDashoffset,strokeLinecap,strokeLinejoin,strokeMiterlimit,strokeOpacity,strokeWidth,textAnchor,vectorEffect";
var allCssProperties = cssPropertiesStr.split(",").concat(userGenerated);
var properties = new Map(allCssProperties.map((prop) => [prop, true]));
var cssPropertySelectorRegex = /&|@/;
var isCssProperty = /* @__PURE__ */ (0,helpers/* memo */.ph)((prop) => {
  return properties.has(prop) || prop.startsWith("--") || cssPropertySelectorRegex.test(prop);
});

const splitCssProps = (props) =>  splitProps(props, isCssProperty)
;// CONCATENATED MODULE: ./leather-styles/jsx/factory-helper.js


const defaultShouldForwardProp = (prop, variantKeys) => !variantKeys.includes(prop) && !isCssProperty(prop)

const composeShouldForwardProps = (tag, shouldForwardProp) =>
  tag.__shouldForwardProps__ && shouldForwardProp
    ? (propName) => tag.__shouldForwardProps__(propName) && shouldForwardProp(propName)
    : shouldForwardProp

const composeCvaFn = (cvaA, cvaB) => {
  if (cvaA && !cvaB) return cvaA
  if (!cvaA && cvaB) return cvaB
  if ((cvaA.__cva__ && cvaB.__cva__) || (cvaA.__recipe__ && cvaB.__recipe__)) return cvaA.merge(cvaB)
  const error = new TypeError('Cannot merge cva with recipe. Please use either cva or recipe.')
  TypeError.captureStackTrace?.(error)
  throw error
}

const getDisplayName = (Component) => {
  if (typeof Component === 'string') return Component
  return Component?.displayName || Component?.name || 'Component'
}
;// CONCATENATED MODULE: ./leather-styles/jsx/factory.js






function styledFn(Dynamic, configOrCva = {}, options = {}) {
  const cvaFn = configOrCva.__cva__ || configOrCva.__recipe__ ? configOrCva : (0,css/* cva */.Fj)(configOrCva)

  const forwardFn = options.shouldForwardProp || defaultShouldForwardProp
  const shouldForwardProp = (prop) => forwardFn(prop, cvaFn.variantKeys)

  const defaultProps = Object.assign(
    options.dataAttr && configOrCva.__name__ ? { 'data-recipe': configOrCva.__name__ } : {},
    options.defaultProps,
  )

  const __cvaFn__ = composeCvaFn(Dynamic.__cva__, cvaFn)
  const __shouldForwardProps__ = composeShouldForwardProps(Dynamic, shouldForwardProp)
  const __base__ = Dynamic.__base__ || Dynamic

  const StyledComponent = /* @__PURE__ */ (0,react.forwardRef)(function StyledComponent(props, ref) {
    const { as: Element = __base__, children, ...restProps } = props

    const combinedProps = (0,react.useMemo)(() => Object.assign({}, defaultProps, restProps), [restProps])

    const [htmlProps, forwardedProps, variantProps, styleProps, elementProps] = (0,react.useMemo)(() => {
      return (0,helpers/* splitProps */.rg)(combinedProps, helpers/* normalizeHTMLProps */.xu.keys, __shouldForwardProps__, __cvaFn__.variantKeys, isCssProperty)
    }, [combinedProps])

    function recipeClass() {
      const { css: cssStyles, ...propStyles } = styleProps
      const compoundVariantStyles = __cvaFn__.__getCompoundVariantCss__?.(variantProps)
      return (0,css.cx)(__cvaFn__(variantProps, false), (0,css/* css */.AH)(compoundVariantStyles, propStyles, cssStyles), combinedProps.className)
    }

    function cvaClass() {
      const { css: cssStyles, ...propStyles } = styleProps
      const cvaStyles = __cvaFn__.raw(variantProps)
      return (0,css.cx)((0,css/* css */.AH)(cvaStyles, propStyles, cssStyles), combinedProps.className)
    }

    const classes = configOrCva.__recipe__ ? recipeClass : cvaClass

    return (0,react.createElement)(Element, {
      ref,
      ...forwardedProps,
      ...elementProps,
      ...(0,helpers/* normalizeHTMLProps */.xu)(htmlProps),
      className: classes(),
    }, combinedProps.children ?? children)
  })

  const name = getDisplayName(__base__)

  StyledComponent.displayName = `styled.${name}`
  StyledComponent.__cva__ = __cvaFn__
  StyledComponent.__base__ = __base__
  StyledComponent.__shouldForwardProps__ = shouldForwardProp

  return StyledComponent
}

function createJsxFactory() {
  const cache = new Map()

  return new Proxy(styledFn, {
    apply(_, __, args) {
      return styledFn(...args)
    },
    get(_, el) {
      if (!cache.has(el)) {
        cache.set(el, styledFn(el))
      }
      return cache.get(el)
    },
  })
}

const factory_styled = /* @__PURE__ */ createJsxFactory()

;// CONCATENATED MODULE: ./leather-styles/patterns/box.js



const boxConfig = {
transform(props) {
  return props;
}}

const getBoxStyle = (styles = {}) => {
  const _styles = (0,helpers/* getPatternStyles */.HZ)(boxConfig, styles)
  return boxConfig.transform(_styles, helpers/* patternFns */.Ek)
}

const box = (styles) => (0,css/* css */.AH)(getBoxStyle(styles))
box.raw = getBoxStyle
;// CONCATENATED MODULE: ./leather-styles/jsx/box.js






const Box = /* @__PURE__ */ (0,react.forwardRef)(function Box(props, ref) {
  const [patternProps, restProps] = (0,helpers/* splitProps */.rg)(props, [])

const styleProps = getBoxStyle(patternProps)
const mergedProps = { ref, ...styleProps, ...restProps }

return (0,react.createElement)(factory_styled.div, mergedProps)
  })
;// CONCATENATED MODULE: ./leather-styles/patterns/flex.js



const flexConfig = {
transform(props) {
  const { direction, align, justify, wrap: wrap2, basis, grow, shrink, ...rest } = props;
  return {
    display: "flex",
    flexDirection: direction,
    alignItems: align,
    justifyContent: justify,
    flexWrap: wrap2,
    flexBasis: basis,
    flexGrow: grow,
    flexShrink: shrink,
    ...rest
  };
}}

const getFlexStyle = (styles = {}) => {
  const _styles = (0,helpers/* getPatternStyles */.HZ)(flexConfig, styles)
  return flexConfig.transform(_styles, helpers/* patternFns */.Ek)
}

const flex = (styles) => (0,css/* css */.AH)(getFlexStyle(styles))
flex.raw = getFlexStyle
;// CONCATENATED MODULE: ./leather-styles/jsx/flex.js






const Flex = /* @__PURE__ */ (0,react.forwardRef)(function Flex(props, ref) {
  const [patternProps, restProps] = (0,helpers/* splitProps */.rg)(props, ["align","justify","direction","wrap","basis","grow","shrink"])

const styleProps = getFlexStyle(patternProps)
const mergedProps = { ref, ...styleProps, ...restProps }

return (0,react.createElement)(factory_styled.div, mergedProps)
  })
;// CONCATENATED MODULE: ./leather-styles/patterns/stack.js



const stackConfig = {
transform(props) {
  const { align, justify, direction, gap, ...rest } = props;
  return {
    display: "flex",
    flexDirection: direction,
    alignItems: align,
    justifyContent: justify,
    gap,
    ...rest
  };
},
defaultValues:{direction:'column',gap:'10px'}}

const getStackStyle = (styles = {}) => {
  const _styles = (0,helpers/* getPatternStyles */.HZ)(stackConfig, styles)
  return stackConfig.transform(_styles, helpers/* patternFns */.Ek)
}

const stack = (styles) => (0,css/* css */.AH)(getStackStyle(styles))
stack.raw = getStackStyle
;// CONCATENATED MODULE: ./leather-styles/jsx/stack.js






const Stack = /* @__PURE__ */ (0,react.forwardRef)(function Stack(props, ref) {
  const [patternProps, restProps] = (0,helpers/* splitProps */.rg)(props, ["align","justify","direction","gap"])

const styleProps = getStackStyle(patternProps)
const mergedProps = { ref, ...styleProps, ...restProps }

return (0,react.createElement)(factory_styled.div, mergedProps)
  })
;// CONCATENATED MODULE: ./leather-styles/patterns/vstack.js



const vstackConfig = {
transform(props) {
  const { justify, gap, ...rest } = props;
  return {
    display: "flex",
    alignItems: "center",
    justifyContent: justify,
    gap,
    flexDirection: "column",
    ...rest
  };
},
defaultValues:{gap:'10px'}}

const getVstackStyle = (styles = {}) => {
  const _styles = (0,helpers/* getPatternStyles */.HZ)(vstackConfig, styles)
  return vstackConfig.transform(_styles, helpers/* patternFns */.Ek)
}

const vstack = (styles) => (0,css/* css */.AH)(getVstackStyle(styles))
vstack.raw = getVstackStyle
;// CONCATENATED MODULE: ./leather-styles/jsx/vstack.js






const VStack = /* @__PURE__ */ (0,react.forwardRef)(function VStack(props, ref) {
  const [patternProps, restProps] = (0,helpers/* splitProps */.rg)(props, ["justify","gap"])

const styleProps = getVstackStyle(patternProps)
const mergedProps = { ref, ...styleProps, ...restProps }

return (0,react.createElement)(factory_styled.div, mergedProps)
  })
;// CONCATENATED MODULE: ./leather-styles/patterns/hstack.js



const hstackConfig = {
transform(props) {
  const { justify, gap, ...rest } = props;
  return {
    display: "flex",
    alignItems: "center",
    justifyContent: justify,
    gap,
    flexDirection: "row",
    ...rest
  };
},
defaultValues:{gap:'10px'}}

const getHstackStyle = (styles = {}) => {
  const _styles = (0,helpers/* getPatternStyles */.HZ)(hstackConfig, styles)
  return hstackConfig.transform(_styles, helpers/* patternFns */.Ek)
}

const hstack = (styles) => (0,css/* css */.AH)(getHstackStyle(styles))
hstack.raw = getHstackStyle
;// CONCATENATED MODULE: ./leather-styles/jsx/hstack.js






const HStack = /* @__PURE__ */ (0,react.forwardRef)(function HStack(props, ref) {
  const [patternProps, restProps] = (0,helpers/* splitProps */.rg)(props, ["justify","gap"])

const styleProps = getHstackStyle(patternProps)
const mergedProps = { ref, ...styleProps, ...restProps }

return (0,react.createElement)(factory_styled.div, mergedProps)
  })
;// CONCATENATED MODULE: ./leather-styles/patterns/spacer.js



const spacerConfig = {
transform(props, { map }) {
  const { size, ...rest } = props;
  return {
    alignSelf: "stretch",
    justifySelf: "stretch",
    flex: map(size, (v) => v == null ? "1" : `0 0 ${v}`),
    ...rest
  };
}}

const spacer_getSpacerStyle = (styles = {}) => {
  const _styles = (0,helpers/* getPatternStyles */.HZ)(spacerConfig, styles)
  return spacerConfig.transform(_styles, helpers/* patternFns */.Ek)
}

const spacer = (styles) => (0,css/* css */.AH)(spacer_getSpacerStyle(styles))
spacer.raw = spacer_getSpacerStyle
;// CONCATENATED MODULE: ./leather-styles/jsx/spacer.js






const Spacer = /* @__PURE__ */ (/* unused pure expression or super */ null && (forwardRef(function Spacer(props, ref) {
  const [patternProps, restProps] = splitProps(props, ["size"])

const styleProps = getSpacerStyle(patternProps)
const mergedProps = { ref, ...styleProps, ...restProps }

return createElement(styled.div, mergedProps)
  })))
;// CONCATENATED MODULE: ./leather-styles/patterns/square.js



const squareConfig = {
transform(props) {
  const { size, ...rest } = props;
  return {
    display: "flex",
    alignItems: "center",
    justifyContent: "center",
    flex: "0 0 auto",
    width: size,
    height: size,
    ...rest
  };
}}

const getSquareStyle = (styles = {}) => {
  const _styles = (0,helpers/* getPatternStyles */.HZ)(squareConfig, styles)
  return squareConfig.transform(_styles, helpers/* patternFns */.Ek)
}

const square = (styles) => (0,css/* css */.AH)(getSquareStyle(styles))
square.raw = getSquareStyle
;// CONCATENATED MODULE: ./leather-styles/jsx/square.js






const Square = /* @__PURE__ */ (0,react.forwardRef)(function Square(props, ref) {
  const [patternProps, restProps] = (0,helpers/* splitProps */.rg)(props, ["size"])

const styleProps = getSquareStyle(patternProps)
const mergedProps = { ref, ...styleProps, ...restProps }

return (0,react.createElement)(factory_styled.div, mergedProps)
  })
;// CONCATENATED MODULE: ./leather-styles/patterns/circle.js



const circleConfig = {
transform(props) {
  const { size, ...rest } = props;
  return {
    display: "flex",
    alignItems: "center",
    justifyContent: "center",
    flex: "0 0 auto",
    width: size,
    height: size,
    borderRadius: "9999px",
    ...rest
  };
}}

const getCircleStyle = (styles = {}) => {
  const _styles = (0,helpers/* getPatternStyles */.HZ)(circleConfig, styles)
  return circleConfig.transform(_styles, helpers/* patternFns */.Ek)
}

const circle = (styles) => (0,css/* css */.AH)(getCircleStyle(styles))
circle.raw = getCircleStyle
;// CONCATENATED MODULE: ./leather-styles/jsx/circle.js






const Circle = /* @__PURE__ */ (0,react.forwardRef)(function Circle(props, ref) {
  const [patternProps, restProps] = (0,helpers/* splitProps */.rg)(props, ["size"])

const styleProps = getCircleStyle(patternProps)
const mergedProps = { ref, ...styleProps, ...restProps }

return (0,react.createElement)(factory_styled.div, mergedProps)
  })
;// CONCATENATED MODULE: ./leather-styles/patterns/center.js



const centerConfig = {
transform(props) {
  const { inline, ...rest } = props;
  return {
    display: inline ? "inline-flex" : "flex",
    alignItems: "center",
    justifyContent: "center",
    ...rest
  };
}}

const center_getCenterStyle = (styles = {}) => {
  const _styles = (0,helpers/* getPatternStyles */.HZ)(centerConfig, styles)
  return centerConfig.transform(_styles, helpers/* patternFns */.Ek)
}

const center = (styles) => (0,css/* css */.AH)(center_getCenterStyle(styles))
center.raw = center_getCenterStyle
;// CONCATENATED MODULE: ./leather-styles/jsx/center.js






const Center = /* @__PURE__ */ (/* unused pure expression or super */ null && (forwardRef(function Center(props, ref) {
  const [patternProps, restProps] = splitProps(props, ["inline"])

const styleProps = getCenterStyle(patternProps)
const mergedProps = { ref, ...styleProps, ...restProps }

return createElement(styled.div, mergedProps)
  })))
;// CONCATENATED MODULE: ./leather-styles/patterns/link-overlay.js



const linkOverlayConfig = {
transform(props) {
  return {
    _before: {
      content: '""',
      position: "absolute",
      inset: "0",
      zIndex: "0",
      ...props["_before"]
    },
    ...props
  };
}}

const link_overlay_getLinkOverlayStyle = (styles = {}) => {
  const _styles = (0,helpers/* getPatternStyles */.HZ)(linkOverlayConfig, styles)
  return linkOverlayConfig.transform(_styles, helpers/* patternFns */.Ek)
}

const linkOverlay = (styles) => (0,css/* css */.AH)(link_overlay_getLinkOverlayStyle(styles))
linkOverlay.raw = link_overlay_getLinkOverlayStyle
;// CONCATENATED MODULE: ./leather-styles/jsx/link-overlay.js






const LinkOverlay = /* @__PURE__ */ (/* unused pure expression or super */ null && (forwardRef(function LinkOverlay(props, ref) {
  const [patternProps, restProps] = splitProps(props, [])

const styleProps = getLinkOverlayStyle(patternProps)
const mergedProps = { ref, ...styleProps, ...restProps }

return createElement(styled.a, mergedProps)
  })))
;// CONCATENATED MODULE: ./leather-styles/patterns/aspect-ratio.js



const aspectRatioConfig = {
transform(props, { map }) {
  const { ratio = 4 / 3, ...rest } = props;
  return {
    position: "relative",
    _before: {
      content: `""`,
      display: "block",
      height: "0",
      paddingBottom: map(ratio, (r) => `${1 / r * 100}%`)
    },
    "&>*": {
      display: "flex",
      justifyContent: "center",
      alignItems: "center",
      overflow: "hidden",
      position: "absolute",
      inset: "0",
      width: "100%",
      height: "100%"
    },
    "&>img, &>video": {
      objectFit: "cover"
    },
    ...rest
  };
}}

const aspect_ratio_getAspectRatioStyle = (styles = {}) => {
  const _styles = (0,helpers/* getPatternStyles */.HZ)(aspectRatioConfig, styles)
  return aspectRatioConfig.transform(_styles, helpers/* patternFns */.Ek)
}

const aspectRatio = (styles) => (0,css/* css */.AH)(aspect_ratio_getAspectRatioStyle(styles))
aspectRatio.raw = aspect_ratio_getAspectRatioStyle
;// CONCATENATED MODULE: ./leather-styles/jsx/aspect-ratio.js






const AspectRatio = /* @__PURE__ */ (/* unused pure expression or super */ null && (forwardRef(function AspectRatio(props, ref) {
  const [patternProps, restProps] = splitProps(props, ["ratio"])

const styleProps = getAspectRatioStyle(patternProps)
const mergedProps = { ref, ...styleProps, ...restProps }

return createElement(styled.div, mergedProps)
  })))
;// CONCATENATED MODULE: ./leather-styles/patterns/grid.js



const gridConfig = {
transform(props, { map, isCssUnit }) {
  const { columnGap, rowGap, gap, columns, minChildWidth, ...rest } = props;
  const getValue = (v) => isCssUnit(v) ? v : `token(sizes.${v}, ${v})`;
  return {
    display: "grid",
    gridTemplateColumns: columns != null ? map(columns, (v) => `repeat(${v}, minmax(0, 1fr))`) : minChildWidth != null ? map(minChildWidth, (v) => `repeat(auto-fit, minmax(${getValue(v)}, 1fr))`) : void 0,
    gap,
    columnGap,
    rowGap,
    ...rest
  };
},
defaultValues(props) {
  return { gap: props.columnGap || props.rowGap ? void 0 : "10px" };
}}

const getGridStyle = (styles = {}) => {
  const _styles = (0,helpers/* getPatternStyles */.HZ)(gridConfig, styles)
  return gridConfig.transform(_styles, helpers/* patternFns */.Ek)
}

const grid = (styles) => (0,css/* css */.AH)(getGridStyle(styles))
grid.raw = getGridStyle
;// CONCATENATED MODULE: ./leather-styles/jsx/grid.js






const Grid = /* @__PURE__ */ (0,react.forwardRef)(function Grid(props, ref) {
  const [patternProps, restProps] = (0,helpers/* splitProps */.rg)(props, ["gap","columnGap","rowGap","columns","minChildWidth"])

const styleProps = getGridStyle(patternProps)
const mergedProps = { ref, ...styleProps, ...restProps }

return (0,react.createElement)(factory_styled.div, mergedProps)
  })
;// CONCATENATED MODULE: ./leather-styles/patterns/grid-item.js



const gridItemConfig = {
transform(props, { map }) {
  const { colSpan, rowSpan, colStart, rowStart, colEnd, rowEnd, ...rest } = props;
  const spanFn = (v) => v === "auto" ? v : `span ${v}`;
  return {
    gridColumn: colSpan != null ? map(colSpan, spanFn) : void 0,
    gridRow: rowSpan != null ? map(rowSpan, spanFn) : void 0,
    gridColumnStart: colStart,
    gridColumnEnd: colEnd,
    gridRowStart: rowStart,
    gridRowEnd: rowEnd,
    ...rest
  };
}}

const getGridItemStyle = (styles = {}) => {
  const _styles = (0,helpers/* getPatternStyles */.HZ)(gridItemConfig, styles)
  return gridItemConfig.transform(_styles, helpers/* patternFns */.Ek)
}

const gridItem = (styles) => (0,css/* css */.AH)(getGridItemStyle(styles))
gridItem.raw = getGridItemStyle
;// CONCATENATED MODULE: ./leather-styles/jsx/grid-item.js






const GridItem = /* @__PURE__ */ (0,react.forwardRef)(function GridItem(props, ref) {
  const [patternProps, restProps] = (0,helpers/* splitProps */.rg)(props, ["colSpan","rowSpan","colStart","rowStart","colEnd","rowEnd"])

const styleProps = getGridItemStyle(patternProps)
const mergedProps = { ref, ...styleProps, ...restProps }

return (0,react.createElement)(factory_styled.div, mergedProps)
  })
;// CONCATENATED MODULE: ./leather-styles/patterns/wrap.js



const wrapConfig = {
transform(props) {
  const { columnGap, rowGap, gap = columnGap || rowGap ? void 0 : "10px", align, justify, ...rest } = props;
  return {
    display: "flex",
    flexWrap: "wrap",
    alignItems: align,
    justifyContent: justify,
    gap,
    columnGap,
    rowGap,
    ...rest
  };
}}

const wrap_getWrapStyle = (styles = {}) => {
  const _styles = (0,helpers/* getPatternStyles */.HZ)(wrapConfig, styles)
  return wrapConfig.transform(_styles, helpers/* patternFns */.Ek)
}

const wrap = (styles) => (0,css/* css */.AH)(wrap_getWrapStyle(styles))
wrap.raw = wrap_getWrapStyle
;// CONCATENATED MODULE: ./leather-styles/jsx/wrap.js






const Wrap = /* @__PURE__ */ (/* unused pure expression or super */ null && (forwardRef(function Wrap(props, ref) {
  const [patternProps, restProps] = splitProps(props, ["gap","rowGap","columnGap","align","justify"])

const styleProps = getWrapStyle(patternProps)
const mergedProps = { ref, ...styleProps, ...restProps }

return createElement(styled.div, mergedProps)
  })))
;// CONCATENATED MODULE: ./leather-styles/patterns/container.js



const containerConfig = {
transform(props) {
  return {
    position: "relative",
    maxWidth: "8xl",
    mx: "auto",
    px: { base: "4", md: "6", lg: "8" },
    ...props
  };
}}

const container_getContainerStyle = (styles = {}) => {
  const _styles = (0,helpers/* getPatternStyles */.HZ)(containerConfig, styles)
  return containerConfig.transform(_styles, helpers/* patternFns */.Ek)
}

const container = (styles) => (0,css/* css */.AH)(container_getContainerStyle(styles))
container.raw = container_getContainerStyle
;// CONCATENATED MODULE: ./leather-styles/jsx/container.js






const Container = /* @__PURE__ */ (/* unused pure expression or super */ null && (forwardRef(function Container(props, ref) {
  const [patternProps, restProps] = splitProps(props, [])

const styleProps = getContainerStyle(patternProps)
const mergedProps = { ref, ...styleProps, ...restProps }

return createElement(styled.div, mergedProps)
  })))
;// CONCATENATED MODULE: ./leather-styles/patterns/divider.js



const dividerConfig = {
transform(props, { map }) {
  const { orientation, thickness, color, ...rest } = props;
  return {
    "--thickness": thickness,
    width: map(orientation, (v) => v === "vertical" ? void 0 : "100%"),
    height: map(orientation, (v) => v === "horizontal" ? void 0 : "100%"),
    borderBlockEndWidth: map(orientation, (v) => v === "horizontal" ? "var(--thickness)" : void 0),
    borderInlineEndWidth: map(orientation, (v) => v === "vertical" ? "var(--thickness)" : void 0),
    borderColor: color,
    ...rest
  };
},
defaultValues:{orientation:'horizontal',thickness:'1px'}}

const getDividerStyle = (styles = {}) => {
  const _styles = (0,helpers/* getPatternStyles */.HZ)(dividerConfig, styles)
  return dividerConfig.transform(_styles, helpers/* patternFns */.Ek)
}

const divider = (styles) => (0,css/* css */.AH)(getDividerStyle(styles))
divider.raw = getDividerStyle
;// CONCATENATED MODULE: ./leather-styles/jsx/divider.js






const Divider = /* @__PURE__ */ (0,react.forwardRef)(function Divider(props, ref) {
  const [patternProps, restProps] = (0,helpers/* splitProps */.rg)(props, ["orientation","thickness","color"])

const styleProps = getDividerStyle(patternProps)
const mergedProps = { ref, ...styleProps, ...restProps }

return (0,react.createElement)(factory_styled.div, mergedProps)
  })
;// CONCATENATED MODULE: ./leather-styles/patterns/float.js



const floatConfig = {
transform(props, { map }) {
  const { offset, offsetX, offsetY, placement, ...rest } = props;
  return {
    display: "inline-flex",
    justifyContent: "center",
    alignItems: "center",
    position: "absolute",
    insetBlockStart: map(placement, (v) => {
      const [side] = v.split("-");
      const map2 = { top: offsetY, middle: "50%", bottom: "auto" };
      return map2[side];
    }),
    insetBlockEnd: map(placement, (v) => {
      const [side] = v.split("-");
      const map2 = { top: "auto", middle: "50%", bottom: offsetY };
      return map2[side];
    }),
    insetInlineStart: map(placement, (v) => {
      const [, align] = v.split("-");
      const map2 = { start: offsetX, center: "50%", end: "auto" };
      return map2[align];
    }),
    insetInlineEnd: map(placement, (v) => {
      const [, align] = v.split("-");
      const map2 = { start: "auto", center: "50%", end: offsetX };
      return map2[align];
    }),
    translate: map(placement, (v) => {
      const [side, align] = v.split("-");
      const mapX = { start: "-50%", center: "-50%", end: "50%" };
      const mapY = { top: "-50%", middle: "-50%", bottom: "50%" };
      return `${mapX[align]} ${mapY[side]}`;
    }),
    ...rest
  };
},
defaultValues(props) {
  const offset = props.offset || "0";
  return { offset, offsetX: offset, offsetY: offset, placement: "top-end" };
}}

const float_getFloatStyle = (styles = {}) => {
  const _styles = (0,helpers/* getPatternStyles */.HZ)(floatConfig, styles)
  return floatConfig.transform(_styles, helpers/* patternFns */.Ek)
}

const float_float = (styles) => (0,css/* css */.AH)(float_getFloatStyle(styles))
float_float.raw = float_getFloatStyle
;// CONCATENATED MODULE: ./leather-styles/jsx/float.js






const Float = /* @__PURE__ */ (/* unused pure expression or super */ null && (forwardRef(function Float(props, ref) {
  const [patternProps, restProps] = splitProps(props, ["offsetX","offsetY","offset","placement"])

const styleProps = getFloatStyle(patternProps)
const mergedProps = { ref, ...styleProps, ...restProps }

return createElement(styled.div, mergedProps)
  })))
;// CONCATENATED MODULE: ./leather-styles/patterns/bleed.js



const bleedConfig = {
transform(props, { map, isCssUnit, isCssVar }) {
  const { inline, block, ...rest } = props;
  const valueFn = (v) => isCssUnit(v) || isCssVar(v) ? v : `token(spacing.${v}, ${v})`;
  return {
    "--bleed-x": map(inline, valueFn),
    "--bleed-y": map(block, valueFn),
    marginInline: "calc(var(--bleed-x, 0) * -1)",
    marginBlock: "calc(var(--bleed-y, 0) * -1)",
    ...rest
  };
},
defaultValues:{inline:'0',block:'0'}}

const bleed_getBleedStyle = (styles = {}) => {
  const _styles = (0,helpers/* getPatternStyles */.HZ)(bleedConfig, styles)
  return bleedConfig.transform(_styles, helpers/* patternFns */.Ek)
}

const bleed = (styles) => (0,css/* css */.AH)(bleed_getBleedStyle(styles))
bleed.raw = bleed_getBleedStyle
;// CONCATENATED MODULE: ./leather-styles/jsx/bleed.js






const Bleed = /* @__PURE__ */ (/* unused pure expression or super */ null && (forwardRef(function Bleed(props, ref) {
  const [patternProps, restProps] = splitProps(props, ["inline","block"])

const styleProps = getBleedStyle(patternProps)
const mergedProps = { ref, ...styleProps, ...restProps }

return createElement(styled.div, mergedProps)
  })))
;// CONCATENATED MODULE: ./leather-styles/patterns/visually-hidden.js



const visuallyHiddenConfig = {
transform(props) {
  return {
    srOnly: true,
    ...props
  };
}}

const getVisuallyHiddenStyle = (styles = {}) => {
  const _styles = (0,helpers/* getPatternStyles */.HZ)(visuallyHiddenConfig, styles)
  return visuallyHiddenConfig.transform(_styles, helpers/* patternFns */.Ek)
}

const visuallyHidden = (styles) => (0,css/* css */.AH)(getVisuallyHiddenStyle(styles))
visuallyHidden.raw = getVisuallyHiddenStyle
;// CONCATENATED MODULE: ./leather-styles/jsx/visually-hidden.js






const VisuallyHidden = /* @__PURE__ */ (0,react.forwardRef)(function VisuallyHidden(props, ref) {
  const [patternProps, restProps] = (0,helpers/* splitProps */.rg)(props, [])

const styleProps = getVisuallyHiddenStyle(patternProps)
const mergedProps = { ref, ...styleProps, ...restProps }

return (0,react.createElement)(factory_styled.div, mergedProps)
  })
;// CONCATENATED MODULE: ./leather-styles/patterns/cq.js



const cqConfig = {
transform(props) {
  const { name, type, ...rest } = props;
  return {
    containerType: type,
    containerName: name,
    ...rest
  };
},
defaultValues:{type:'inline-size'}}

const cq_getCqStyle = (styles = {}) => {
  const _styles = (0,helpers/* getPatternStyles */.HZ)(cqConfig, styles)
  return cqConfig.transform(_styles, helpers/* patternFns */.Ek)
}

const cq = (styles) => (0,css/* css */.AH)(cq_getCqStyle(styles))
cq.raw = cq_getCqStyle
;// CONCATENATED MODULE: ./leather-styles/jsx/cq.js






const Cq = /* @__PURE__ */ (/* unused pure expression or super */ null && (forwardRef(function Cq(props, ref) {
  const [patternProps, restProps] = splitProps(props, ["name","type"])

const styleProps = getCqStyle(patternProps)
const mergedProps = { ref, ...styleProps, ...restProps }

return createElement(styled.div, mergedProps)
  })))
;// CONCATENATED MODULE: ./leather-styles/jsx/index.js























/***/ }),

/***/ 22557:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  x: () => (/* reexport */ button_button),
  n: () => (/* reexport */ link_link)
});

// EXTERNAL MODULE: ./leather-styles/helpers.js
var helpers = __webpack_require__(57514);
// EXTERNAL MODULE: ./leather-styles/css/conditions.js
var conditions = __webpack_require__(21293);
// EXTERNAL MODULE: ./leather-styles/css/css.js
var css = __webpack_require__(75428);
// EXTERNAL MODULE: ./leather-styles/css/cva.js
var cva = __webpack_require__(9363);
// EXTERNAL MODULE: ./leather-styles/css/cx.js
var cx = __webpack_require__(7408);
;// CONCATENATED MODULE: ./leather-styles/recipes/create-recipe.js






const createRecipe = (name, defaultVariants, compoundVariants) => {
 const getVariantProps = (variants) => {
   return {
     [name]: '__ignore__',
     ...defaultVariants,
     ...(0,helpers/* compact */.oE)(variants),
   };
 };

  const recipeFn = (variants, withCompoundVariants = true) => {
   const transform = (prop, value) => {
     (0,cva/* assertCompoundVariant */.jC)(name, compoundVariants, variants, prop)

      if (value === '__ignore__') {
        return { className: name }
      }

      value = (0,helpers/* withoutSpace */.BB)(value)
      return { className: `${name}--${prop}_${value}` }
   }

   const recipeCss = (0,helpers/* createCss */.Yb)({
     
     conditions: {
       shift: conditions/* sortConditions */.Lg,
       finalize: conditions/* finalizeConditions */.LD,
       breakpoints: { keys: ["base","sm","md","lg","xl","2xl"] }
     },
     utility: {
       prefix: "leather",
       toHash: (path, hashFn) => hashFn(path.join(":")),
       transform,
     }
   })

   const recipeStyles = getVariantProps(variants)

   if (withCompoundVariants) {
     const compoundVariantStyles = (0,cva/* getCompoundVariantCss */.Yc)(compoundVariants, recipeStyles)
     return (0,cx.cx)(recipeCss(recipeStyles), (0,css/* css */.AH)(compoundVariantStyles))
   }

   return recipeCss(recipeStyles)
  }

   return {
     recipeFn,
     getVariantProps,
     __getCompoundVariantCss__: (variants) => {
       return (0,cva/* getCompoundVariantCss */.Yc)(compoundVariants, getVariantProps(variants));
     },
   }
}

const mergeRecipes = (recipeA, recipeB) => {
 if (recipeA && !recipeB) return recipeA
 if (!recipeA && recipeB) return recipeB

 const recipeFn = (...args) => (0,cx.cx)(recipeA(...args), recipeB(...args))
 const variantKeys = (0,helpers/* uniq */.sb)(recipeA.variantKeys, recipeB.variantKeys)
 const variantMap = variantKeys.reduce((acc, key) => {
   acc[key] = (0,helpers/* uniq */.sb)(recipeA.variantMap[key], recipeB.variantMap[key])
   return acc
 }, {})

 return Object.assign(recipeFn, {
   __recipe__: true,
   __name__: `${recipeA.__name__} ${recipeB.__name__}`,
   raw: (props) => props,
   variantKeys,
   variantMap,
   splitVariantProps(props) {
     return (0,helpers/* splitProps */.rg)(props, variantKeys)
   },
 })
 }

;// CONCATENATED MODULE: ./leather-styles/recipes/button.js



const buttonFn = /* @__PURE__ */ createRecipe('button', {
  "size": "md",
  "variant": "solid"
}, [
  {
    "css": {
      "_active": {
        "bg": "ink.component-background-pressed"
      },
      "_hover": {
        "bg": "ink.background-primary"
      },
      "_loading": {
        "_after": {
          "borderColor": "ink.text-primary"
        }
      },
      "bg": "ink.background-secondary",
      "color": "ink.text-primary"
    },
    "invert": true,
    "variant": "solid"
  },
  {
    "css": {
      "_active": {
        "bg": "ink.text-primary"
      },
      "_before": {
        "borderColor": "ink.background-secondary"
      },
      "_hover": {
        "bg": "ink.action-primary-hover"
      },
      "_loading": {
        "_after": {
          "borderColor": "ink.text-primary"
        }
      },
      "border": "1px solid {colors.ink.background-secondary}",
      "color": "ink.background-secondary"
    },
    "invert": true,
    "variant": "outline"
  },
  {
    "css": {
      "p": "space.02"
    },
    "trigger": true,
    "variant": "ghost"
  }
])

const buttonVariantMap = {
  "size": [
    "sm",
    "md"
  ],
  "variant": [
    "solid",
    "outline",
    "ghost"
  ],
  "invert": [
    "true"
  ],
  "fullWidth": [
    "true"
  ],
  "trigger": [
    "true"
  ]
}

const buttonVariantKeys = Object.keys(buttonVariantMap)

const button_button = /* @__PURE__ */ Object.assign((0,helpers/* memo */.ph)(buttonFn.recipeFn), {
  __recipe__: true,
  __name__: 'button',
  __getCompoundVariantCss__: buttonFn.__getCompoundVariantCss__,
  raw: (props) => props,
  variantKeys: buttonVariantKeys,
  variantMap: buttonVariantMap,
  merge(recipe) {
    return mergeRecipes(this, recipe)
  },
  splitVariantProps(props) {
    return (0,helpers/* splitProps */.rg)(props, buttonVariantKeys)
  },
  getVariantProps: buttonFn.getVariantProps,
})
;// CONCATENATED MODULE: ./leather-styles/recipes/link.js



const linkFn = /* @__PURE__ */ createRecipe('link', {
  "size": "md",
  "variant": "underlined"
}, [
  {
    "css": {
      "_focus": {
        "_before": {
          "background": "ink.background-primary",
          "visibility": "visible"
        },
        "outline": 0
      },
      "_hover": {
        "_before": {
          "background": "ink.background-primary",
          "visibility": "visible"
        }
      },
      "color": "ink.background-secondary"
    },
    "invert": true,
    "variant": "underlined"
  },
  {
    "css": {
      "_before": {
        "content": "\"\"",
        "background": "ink.text-non-interactive",
        "bottom": "-2px",
        "height": "2px",
        "left": 0,
        "position": "absolute",
        "right": 0
      },
      "color": "ink.text-non-interactive",
      "cursor": "not-allowed"
    },
    "disabled": true,
    "variant": "underlined"
  },
  {
    "css": {
      "_before": {
        "content": "\"\"",
        "background": "ink.text-non-interactive",
        "bottom": "-2px",
        "height": "2px",
        "left": 0,
        "position": "absolute",
        "right": 0,
        "visibility": "visible"
      },
      "color": "ink.text-non-interactive",
      "cursor": "not-allowed"
    },
    "disabled": true,
    "variant": "text"
  }
])

const linkVariantMap = {
  "size": [
    "sm",
    "md",
    "lg"
  ],
  "variant": [
    "underlined",
    "text"
  ],
  "invert": [
    "true"
  ],
  "disabled": [
    "true"
  ],
  "fullWidth": [
    "true"
  ]
}

const linkVariantKeys = Object.keys(linkVariantMap)

const link_link = /* @__PURE__ */ Object.assign((0,helpers/* memo */.ph)(linkFn.recipeFn), {
  __recipe__: true,
  __name__: 'link',
  __getCompoundVariantCss__: linkFn.__getCompoundVariantCss__,
  raw: (props) => props,
  variantKeys: linkVariantKeys,
  variantMap: linkVariantMap,
  merge(recipe) {
    return mergeRecipes(this, recipe)
  },
  splitVariantProps(props) {
    return (0,helpers/* splitProps */.rg)(props, linkVariantKeys)
  },
  getVariantProps: linkFn.getVariantProps,
})
;// CONCATENATED MODULE: ./leather-styles/recipes/index.js



/***/ }),

/***/ 65174:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   S: () => (/* binding */ token)
/* harmony export */ });
const tokens = {
  "animations.spin": {
    "value": "spin 1s linear infinite",
    "variable": "var(--leather-animations-spin)"
  },
  "borders.action": {
    "value": "1px solid var(--leather-colors-ink-action-primary-default)",
    "variable": "var(--leather-borders-action)"
  },
  "borders.active": {
    "value": "2px solid var(--leather-colors-ink-border-default)",
    "variable": "var(--leather-borders-active)"
  },
  "borders.background": {
    "value": "2px solid var(--leather-colors-ink-background-primary)",
    "variable": "var(--leather-borders-background)"
  },
  "borders.dashed": {
    "value": "2px dashed var(--leather-colors-ink-component-background-default)",
    "variable": "var(--leather-borders-dashed)"
  },
  "borders.default": {
    "value": "1px solid var(--leather-colors-ink-border-default)",
    "variable": "var(--leather-borders-default)"
  },
  "borders.error": {
    "value": "1px solid var(--leather-colors-red-border)",
    "variable": "var(--leather-borders-error)"
  },
  "borders.focus": {
    "value": "2px solid var(--leather-colors-ink-action-primary-default)",
    "variable": "var(--leather-borders-focus)"
  },
  "borders.invert": {
    "value": "1px solid var(--leather-colors-invert)",
    "variable": "var(--leather-borders-invert)"
  },
  "borders.subdued": {
    "value": "1px solid var(--leather-colors-ink-text-subdued)",
    "variable": "var(--leather-borders-subdued)"
  },
  "borders.warning": {
    "value": "1px solid var(--leather-colors-yellow-border)",
    "variable": "var(--leather-borders-warning)"
  },
  "colors.current": {
    "value": "currentColor",
    "variable": "var(--leather-colors-current)"
  },
  "colors.overlay": {
    "value": "rgba(0,0,0,0.4)",
    "variable": "var(--leather-colors-overlay)"
  },
  "radii.xs": {
    "value": "2px",
    "variable": "var(--leather-radii-xs)"
  },
  "radii.sm": {
    "value": "4px",
    "variable": "var(--leather-radii-sm)"
  },
  "radii.md": {
    "value": "8px",
    "variable": "var(--leather-radii-md)"
  },
  "radii.lg": {
    "value": "12px",
    "variable": "var(--leather-radii-lg)"
  },
  "sizes.xs": {
    "value": "12px",
    "variable": "var(--leather-sizes-xs)"
  },
  "sizes.sm": {
    "value": "16px",
    "variable": "var(--leather-sizes-sm)"
  },
  "sizes.md": {
    "value": "24px",
    "variable": "var(--leather-sizes-md)"
  },
  "sizes.lg": {
    "value": "32px",
    "variable": "var(--leather-sizes-lg)"
  },
  "sizes.xl": {
    "value": "36px",
    "variable": "var(--leather-sizes-xl)"
  },
  "sizes.xxl": {
    "value": "40px",
    "variable": "var(--leather-sizes-xxl)"
  },
  "sizes.pageWidth": {
    "value": "500px",
    "variable": "var(--leather-sizes-page-width)"
  },
  "sizes.twoColumnPageWidth": {
    "value": "500px",
    "variable": "var(--leather-sizes-two-column-page-width)"
  },
  "sizes.fullPageMaxWidth": {
    "value": "882px",
    "variable": "var(--leather-sizes-full-page-max-width)"
  },
  "sizes.dialogHeight": {
    "value": "600px",
    "variable": "var(--leather-sizes-dialog-height)"
  },
  "sizes.dialogContentHeight": {
    "value": "500px",
    "variable": "var(--leather-sizes-dialog-content-height)"
  },
  "sizes.headerHeight": {
    "value": "80px",
    "variable": "var(--leather-sizes-header-height)"
  },
  "sizes.footerHeight": {
    "value": "95px",
    "variable": "var(--leather-sizes-footer-height)"
  },
  "sizes.popupWidth": {
    "value": "390px",
    "variable": "var(--leather-sizes-popup-width)"
  },
  "sizes.popupMaxWidth": {
    "value": "640px",
    "variable": "var(--leather-sizes-popup-max-width)"
  },
  "sizes.popupHeight": {
    "value": "756px",
    "variable": "var(--leather-sizes-popup-height)"
  },
  "sizes.popupHeaderHeight": {
    "value": "68px",
    "variable": "var(--leather-sizes-popup-header-height)"
  },
  "sizes.headerContainerHeight": {
    "value": "40px",
    "variable": "var(--leather-sizes-header-container-height)"
  },
  "sizes.inputHeight": {
    "value": "64px",
    "variable": "var(--leather-sizes-input-height)"
  },
  "sizes.iconButtonWithLabelWidth": {
    "value": "64px",
    "variable": "var(--leather-sizes-icon-button-with-label-width)"
  },
  "sizes.settingsMenuWidth": {
    "value": "240px",
    "variable": "var(--leather-sizes-settings-menu-width)"
  },
  "sizes.breakpoint-sm": {
    "value": "398px",
    "variable": "var(--leather-sizes-breakpoint-sm)"
  },
  "sizes.breakpoint-md": {
    "value": "768px",
    "variable": "var(--leather-sizes-breakpoint-md)"
  },
  "sizes.breakpoint-lg": {
    "value": "1024px",
    "variable": "var(--leather-sizes-breakpoint-lg)"
  },
  "sizes.breakpoint-xl": {
    "value": "1280px",
    "variable": "var(--leather-sizes-breakpoint-xl)"
  },
  "sizes.breakpoint-2xl": {
    "value": "1536px",
    "variable": "var(--leather-sizes-breakpoint-2xl)"
  },
  "spacing.space.00": {
    "value": "0",
    "variable": "var(--leather-spacing-space\\.00)"
  },
  "spacing.space.01": {
    "value": "4px",
    "variable": "var(--leather-spacing-space\\.01)"
  },
  "spacing.space.02": {
    "value": "8px",
    "variable": "var(--leather-spacing-space\\.02)"
  },
  "spacing.space.03": {
    "value": "12px",
    "variable": "var(--leather-spacing-space\\.03)"
  },
  "spacing.space.04": {
    "value": "16px",
    "variable": "var(--leather-spacing-space\\.04)"
  },
  "spacing.space.05": {
    "value": "24px",
    "variable": "var(--leather-spacing-space\\.05)"
  },
  "spacing.space.06": {
    "value": "32px",
    "variable": "var(--leather-spacing-space\\.06)"
  },
  "spacing.space.07": {
    "value": "40px",
    "variable": "var(--leather-spacing-space\\.07)"
  },
  "spacing.space.08": {
    "value": "48px",
    "variable": "var(--leather-spacing-space\\.08)"
  },
  "spacing.space.09": {
    "value": "64px",
    "variable": "var(--leather-spacing-space\\.09)"
  },
  "spacing.space.10": {
    "value": "72px",
    "variable": "var(--leather-spacing-space\\.10)"
  },
  "spacing.space.11": {
    "value": "128px",
    "variable": "var(--leather-spacing-space\\.11)"
  },
  "transition": {
    "value": "all 0.2s cubic-bezier(0.23, 1, 0.32, 1)",
    "variable": "var(--leather-transition)"
  },
  "breakpoints.sm": {
    "value": "398px",
    "variable": "var(--leather-breakpoints-sm)"
  },
  "breakpoints.md": {
    "value": "768px",
    "variable": "var(--leather-breakpoints-md)"
  },
  "breakpoints.lg": {
    "value": "1024px",
    "variable": "var(--leather-breakpoints-lg)"
  },
  "breakpoints.xl": {
    "value": "1280px",
    "variable": "var(--leather-breakpoints-xl)"
  },
  "breakpoints.2xl": {
    "value": "1536px",
    "variable": "var(--leather-breakpoints-2xl)"
  },
  "colors.ink.text-primary": {
    "value": "var(--leather-colors-ink-text-primary)",
    "variable": "var(--leather-colors-ink-text-primary)"
  },
  "colors.ink.text-subdued": {
    "value": "var(--leather-colors-ink-text-subdued)",
    "variable": "var(--leather-colors-ink-text-subdued)"
  },
  "colors.ink.action-primary-hover": {
    "value": "var(--leather-colors-ink-action-primary-hover)",
    "variable": "var(--leather-colors-ink-action-primary-hover)"
  },
  "colors.ink.action-primary-default": {
    "value": "var(--leather-colors-ink-action-primary-default)",
    "variable": "var(--leather-colors-ink-action-primary-default)"
  },
  "colors.ink.border-transparent": {
    "value": "var(--leather-colors-ink-border-transparent)",
    "variable": "var(--leather-colors-ink-border-transparent)"
  },
  "colors.ink.border-default": {
    "value": "var(--leather-colors-ink-border-default)",
    "variable": "var(--leather-colors-ink-border-default)"
  },
  "colors.ink.text-non-interactive": {
    "value": "var(--leather-colors-ink-text-non-interactive)",
    "variable": "var(--leather-colors-ink-text-non-interactive)"
  },
  "colors.ink.component-background-non-interactive": {
    "value": "var(--leather-colors-ink-component-background-non-interactive)",
    "variable": "var(--leather-colors-ink-component-background-non-interactive)"
  },
  "colors.ink.component-background-pressed": {
    "value": "var(--leather-colors-ink-component-background-pressed)",
    "variable": "var(--leather-colors-ink-component-background-pressed)"
  },
  "colors.ink.component-background-hover": {
    "value": "var(--leather-colors-ink-component-background-hover)",
    "variable": "var(--leather-colors-ink-component-background-hover)"
  },
  "colors.ink.component-background-default": {
    "value": "var(--leather-colors-ink-component-background-default)",
    "variable": "var(--leather-colors-ink-component-background-default)"
  },
  "colors.ink.background-overlay": {
    "value": "var(--leather-colors-ink-background-overlay)",
    "variable": "var(--leather-colors-ink-background-overlay)"
  },
  "colors.ink.background-secondary": {
    "value": "var(--leather-colors-ink-background-secondary)",
    "variable": "var(--leather-colors-ink-background-secondary)"
  },
  "colors.ink.background-primary": {
    "value": "var(--leather-colors-ink-background-primary)",
    "variable": "var(--leather-colors-ink-background-primary)"
  },
  "colors.red.text-primary": {
    "value": "var(--leather-colors-red-text-primary)",
    "variable": "var(--leather-colors-red-text-primary)"
  },
  "colors.red.action-primary-default": {
    "value": "var(--leather-colors-red-action-primary-default)",
    "variable": "var(--leather-colors-red-action-primary-default)"
  },
  "colors.red.border": {
    "value": "var(--leather-colors-red-border)",
    "variable": "var(--leather-colors-red-border)"
  },
  "colors.red.background-secondary": {
    "value": "var(--leather-colors-red-background-secondary)",
    "variable": "var(--leather-colors-red-background-secondary)"
  },
  "colors.red.background-primary": {
    "value": "var(--leather-colors-red-background-primary)",
    "variable": "var(--leather-colors-red-background-primary)"
  },
  "colors.blue.text-primary": {
    "value": "var(--leather-colors-blue-text-primary)",
    "variable": "var(--leather-colors-blue-text-primary)"
  },
  "colors.blue.action-primary-default": {
    "value": "var(--leather-colors-blue-action-primary-default)",
    "variable": "var(--leather-colors-blue-action-primary-default)"
  },
  "colors.blue.border": {
    "value": "var(--leather-colors-blue-border)",
    "variable": "var(--leather-colors-blue-border)"
  },
  "colors.blue.background-secondary": {
    "value": "var(--leather-colors-blue-background-secondary)",
    "variable": "var(--leather-colors-blue-background-secondary)"
  },
  "colors.blue.background-primary": {
    "value": "var(--leather-colors-blue-background-primary)",
    "variable": "var(--leather-colors-blue-background-primary)"
  },
  "colors.yellow.text-primary": {
    "value": "var(--leather-colors-yellow-text-primary)",
    "variable": "var(--leather-colors-yellow-text-primary)"
  },
  "colors.yellow.action-primary-default": {
    "value": "var(--leather-colors-yellow-action-primary-default)",
    "variable": "var(--leather-colors-yellow-action-primary-default)"
  },
  "colors.yellow.border": {
    "value": "var(--leather-colors-yellow-border)",
    "variable": "var(--leather-colors-yellow-border)"
  },
  "colors.yellow.background-secondary": {
    "value": "var(--leather-colors-yellow-background-secondary)",
    "variable": "var(--leather-colors-yellow-background-secondary)"
  },
  "colors.yellow.background-primary": {
    "value": "var(--leather-colors-yellow-background-primary)",
    "variable": "var(--leather-colors-yellow-background-primary)"
  },
  "colors.green.text-primary": {
    "value": "var(--leather-colors-green-text-primary)",
    "variable": "var(--leather-colors-green-text-primary)"
  },
  "colors.green.action-primary-default": {
    "value": "var(--leather-colors-green-action-primary-default)",
    "variable": "var(--leather-colors-green-action-primary-default)"
  },
  "colors.green.border": {
    "value": "var(--leather-colors-green-border)",
    "variable": "var(--leather-colors-green-border)"
  },
  "colors.green.background-secondary": {
    "value": "var(--leather-colors-green-background-secondary)",
    "variable": "var(--leather-colors-green-background-secondary)"
  },
  "colors.green.background-primary": {
    "value": "var(--leather-colors-green-background-primary)",
    "variable": "var(--leather-colors-green-background-primary)"
  },
  "colors.invert": {
    "value": "var(--leather-colors-invert)",
    "variable": "var(--leather-colors-invert)"
  },
  "colors.stacks": {
    "value": "var(--leather-colors-stacks)",
    "variable": "var(--leather-colors-stacks)"
  },
  "spacing.-space.00": {
    "value": "calc(var(--leather-spacing-space\\.00) * -1)",
    "variable": "var(--leather-spacing-space\\.00)"
  },
  "spacing.-space.01": {
    "value": "calc(var(--leather-spacing-space\\.01) * -1)",
    "variable": "var(--leather-spacing-space\\.01)"
  },
  "spacing.-space.02": {
    "value": "calc(var(--leather-spacing-space\\.02) * -1)",
    "variable": "var(--leather-spacing-space\\.02)"
  },
  "spacing.-space.03": {
    "value": "calc(var(--leather-spacing-space\\.03) * -1)",
    "variable": "var(--leather-spacing-space\\.03)"
  },
  "spacing.-space.04": {
    "value": "calc(var(--leather-spacing-space\\.04) * -1)",
    "variable": "var(--leather-spacing-space\\.04)"
  },
  "spacing.-space.05": {
    "value": "calc(var(--leather-spacing-space\\.05) * -1)",
    "variable": "var(--leather-spacing-space\\.05)"
  },
  "spacing.-space.06": {
    "value": "calc(var(--leather-spacing-space\\.06) * -1)",
    "variable": "var(--leather-spacing-space\\.06)"
  },
  "spacing.-space.07": {
    "value": "calc(var(--leather-spacing-space\\.07) * -1)",
    "variable": "var(--leather-spacing-space\\.07)"
  },
  "spacing.-space.08": {
    "value": "calc(var(--leather-spacing-space\\.08) * -1)",
    "variable": "var(--leather-spacing-space\\.08)"
  },
  "spacing.-space.09": {
    "value": "calc(var(--leather-spacing-space\\.09) * -1)",
    "variable": "var(--leather-spacing-space\\.09)"
  },
  "spacing.-space.10": {
    "value": "calc(var(--leather-spacing-space\\.10) * -1)",
    "variable": "var(--leather-spacing-space\\.10)"
  },
  "spacing.-space.11": {
    "value": "calc(var(--leather-spacing-space\\.11) * -1)",
    "variable": "var(--leather-spacing-space\\.11)"
  },
  "colors.colorPalette": {
    "value": "var(--leather-colors-color-palette)",
    "variable": "var(--leather-colors-color-palette)"
  },
  "colors.colorPalette.text-primary": {
    "value": "var(--leather-colors-color-palette-text-primary)",
    "variable": "var(--leather-colors-color-palette-text-primary)"
  },
  "colors.colorPalette.text-subdued": {
    "value": "var(--leather-colors-color-palette-text-subdued)",
    "variable": "var(--leather-colors-color-palette-text-subdued)"
  },
  "colors.colorPalette.action-primary-hover": {
    "value": "var(--leather-colors-color-palette-action-primary-hover)",
    "variable": "var(--leather-colors-color-palette-action-primary-hover)"
  },
  "colors.colorPalette.action-primary-default": {
    "value": "var(--leather-colors-color-palette-action-primary-default)",
    "variable": "var(--leather-colors-color-palette-action-primary-default)"
  },
  "colors.colorPalette.border-transparent": {
    "value": "var(--leather-colors-color-palette-border-transparent)",
    "variable": "var(--leather-colors-color-palette-border-transparent)"
  },
  "colors.colorPalette.border-default": {
    "value": "var(--leather-colors-color-palette-border-default)",
    "variable": "var(--leather-colors-color-palette-border-default)"
  },
  "colors.colorPalette.text-non-interactive": {
    "value": "var(--leather-colors-color-palette-text-non-interactive)",
    "variable": "var(--leather-colors-color-palette-text-non-interactive)"
  },
  "colors.colorPalette.component-background-non-interactive": {
    "value": "var(--leather-colors-color-palette-component-background-non-interactive)",
    "variable": "var(--leather-colors-color-palette-component-background-non-interactive)"
  },
  "colors.colorPalette.component-background-pressed": {
    "value": "var(--leather-colors-color-palette-component-background-pressed)",
    "variable": "var(--leather-colors-color-palette-component-background-pressed)"
  },
  "colors.colorPalette.component-background-hover": {
    "value": "var(--leather-colors-color-palette-component-background-hover)",
    "variable": "var(--leather-colors-color-palette-component-background-hover)"
  },
  "colors.colorPalette.component-background-default": {
    "value": "var(--leather-colors-color-palette-component-background-default)",
    "variable": "var(--leather-colors-color-palette-component-background-default)"
  },
  "colors.colorPalette.background-overlay": {
    "value": "var(--leather-colors-color-palette-background-overlay)",
    "variable": "var(--leather-colors-color-palette-background-overlay)"
  },
  "colors.colorPalette.background-secondary": {
    "value": "var(--leather-colors-color-palette-background-secondary)",
    "variable": "var(--leather-colors-color-palette-background-secondary)"
  },
  "colors.colorPalette.background-primary": {
    "value": "var(--leather-colors-color-palette-background-primary)",
    "variable": "var(--leather-colors-color-palette-background-primary)"
  },
  "colors.colorPalette.border": {
    "value": "var(--leather-colors-color-palette-border)",
    "variable": "var(--leather-colors-color-palette-border)"
  }
}

function token(path, fallback) {
  return tokens[path]?.value || fallback
}

function tokenVar(path, fallback) {
  return tokens[path]?.variable || fallback
}

token.var = tokenVar

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/amd options */
/******/ 	(() => {
/******/ 		__webpack_require__.amdO = {};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var [chunkIds, fn, priority] = deferred[i];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/create fake namespace object */
/******/ 	(() => {
/******/ 		var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);
/******/ 		var leafPrototypes;
/******/ 		// create a fake namespace object
/******/ 		// mode & 1: value is a module id, require it
/******/ 		// mode & 2: merge all properties of value into the ns
/******/ 		// mode & 4: return value when already ns object
/******/ 		// mode & 16: return value when it's Promise-like
/******/ 		// mode & 8|1: behave like require
/******/ 		__webpack_require__.t = function(value, mode) {
/******/ 			if(mode & 1) value = this(value);
/******/ 			if(mode & 8) return value;
/******/ 			if(typeof value === 'object' && value) {
/******/ 				if((mode & 4) && value.__esModule) return value;
/******/ 				if((mode & 16) && typeof value.then === 'function') return value;
/******/ 			}
/******/ 			var ns = Object.create(null);
/******/ 			__webpack_require__.r(ns);
/******/ 			var def = {};
/******/ 			leafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];
/******/ 			for(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {
/******/ 				Object.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));
/******/ 			}
/******/ 			def['default'] = () => (value);
/******/ 			__webpack_require__.d(ns, def);
/******/ 			return ns;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	(() => {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = (chunkId) => {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "" + ({"10":"tsub-middleware","50":"ajs-destination","104":"schemaFilter","248":"auto-track","521":"remoteMiddleware","538":"queryString","694":"legacyVideos"}[chunkId] || chunkId) + "." + {"10":"cedcaef4","33":"9709feb6","50":"ad6ab668","104":"e2adc4e0","224":"26de5aa9","248":"cd90418a","399":"88517bd9","521":"358d7428","538":"31b365fd","694":"adfcf205","745":"a5a92e9f","826":"1e61546d"}[chunkId] + ".chunk.js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/load script */
/******/ 	(() => {
/******/ 		var inProgress = {};
/******/ 		var dataWebpackPrefix = "@leather.io/extension:";
/******/ 		// loadScript function to load a script via script tag
/******/ 		__webpack_require__.l = (url, done, key, chunkId) => {
/******/ 			if(inProgress[url]) { inProgress[url].push(done); return; }
/******/ 			var script, needAttach;
/******/ 			if(key !== undefined) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				for(var i = 0; i < scripts.length; i++) {
/******/ 					var s = scripts[i];
/******/ 					if(s.getAttribute("src") == url || s.getAttribute("data-webpack") == dataWebpackPrefix + key) { script = s; break; }
/******/ 				}
/******/ 			}
/******/ 			if(!script) {
/******/ 				needAttach = true;
/******/ 				script = document.createElement('script');
/******/ 		
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.setAttribute("data-webpack", dataWebpackPrefix + key);
/******/ 		
/******/ 				script.src = url;
/******/ 			}
/******/ 			inProgress[url] = [done];
/******/ 			var onScriptComplete = (prev, event) => {
/******/ 				// avoid mem leaks in IE.
/******/ 				script.onerror = script.onload = null;
/******/ 				clearTimeout(timeout);
/******/ 				var doneFns = inProgress[url];
/******/ 				delete inProgress[url];
/******/ 				script.parentNode && script.parentNode.removeChild(script);
/******/ 				doneFns && doneFns.forEach((fn) => (fn(event)));
/******/ 				if(prev) return prev(event);
/******/ 			}
/******/ 			var timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);
/******/ 			script.onerror = onScriptComplete.bind(null, script.onerror);
/******/ 			script.onload = onScriptComplete.bind(null, script.onload);
/******/ 			needAttach && document.head.appendChild(script);
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')
/******/ 				scriptUrl = document.currentScript.src;
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) {
/******/ 					var i = scripts.length - 1;
/******/ 					while (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			57: 0
/******/ 		};
/******/ 		
/******/ 		__webpack_require__.f.j = (chunkId, promises) => {
/******/ 				// JSONP chunk loading for javascript
/******/ 				var installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;
/******/ 				if(installedChunkData !== 0) { // 0 means "already installed".
/******/ 		
/******/ 					// a Promise means "currently loading".
/******/ 					if(installedChunkData) {
/******/ 						promises.push(installedChunkData[2]);
/******/ 					} else {
/******/ 						if(true) { // all chunks have JS
/******/ 							// setup Promise in chunk cache
/******/ 							var promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));
/******/ 							promises.push(installedChunkData[2] = promise);
/******/ 		
/******/ 							// start chunk loading
/******/ 							var url = __webpack_require__.p + __webpack_require__.u(chunkId);
/******/ 							// create error before stack unwound to get useful stacktrace later
/******/ 							var error = new Error();
/******/ 							var loadingEnded = (event) => {
/******/ 								if(__webpack_require__.o(installedChunks, chunkId)) {
/******/ 									installedChunkData = installedChunks[chunkId];
/******/ 									if(installedChunkData !== 0) installedChunks[chunkId] = undefined;
/******/ 									if(installedChunkData) {
/******/ 										var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 										var realSrc = event && event.target && event.target.src;
/******/ 										error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 										error.name = 'ChunkLoadError';
/******/ 										error.type = errorType;
/******/ 										error.request = realSrc;
/******/ 										installedChunkData[1](error);
/******/ 									}
/******/ 								}
/******/ 							};
/******/ 							__webpack_require__.l(url, loadingEnded, "chunk-" + chunkId, chunkId);
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 		};
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunk_leather_io_extension"] = self["webpackChunk_leather_io_extension"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, [702], () => (__webpack_require__(6310)))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;
//# sourceMappingURL=index.js.map